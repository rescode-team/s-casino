if( !sessionStorage.getItem('sessionId') ){
        sessionStorage.setItem('sessionId', parseInt(Math.random() * 1000000));
    }
	var serverString='';

    var XmlHttpRequest = new XMLHttpRequest();
    XmlHttpRequest.overrideMimeType("application/json");
    XmlHttpRequest.open('GET', '/socket_config.json', false);
    XmlHttpRequest.onreadystatechange = function ()
    {
        if (XmlHttpRequest.readyState == 4 && XmlHttpRequest.status == "200")
        {
            var serverConfig = JSON.parse(XmlHttpRequest.responseText);
            serverString=serverConfig.prefix_ws+serverConfig.host_ws+':'+serverConfig.port;
          
        }
    }
    XmlHttpRequest.send(null);

var $jscomp = $jscomp || {};
$jscomp.scope = {};
$jscomp.ASSUME_ES5 = !1;
$jscomp.ASSUME_NO_NATIVE_MAP = !1;
$jscomp.ASSUME_NO_NATIVE_SET = !1;
$jscomp.defineProperty = $jscomp.ASSUME_ES5 || "function" == typeof Object.defineProperties ? Object.defineProperty : function(d, b, h) {
    d != Array.prototype && d != Object.prototype && (d[b] = h.value)
};
$jscomp.getGlobal = function(d) {
    return "undefined" != typeof window && window === d ? d : "undefined" != typeof global && null != global ? global : d
};
$jscomp.global = $jscomp.getGlobal(this);
$jscomp.SYMBOL_PREFIX = "jscomp_symbol_";
$jscomp.initSymbol = function() {
    $jscomp.initSymbol = function() {};
    $jscomp.global.Symbol || ($jscomp.global.Symbol = $jscomp.Symbol)
};
$jscomp.Symbol = function() {
    var d = 0;
    return function(b) {
        return $jscomp.SYMBOL_PREFIX + (b || "") + d++
    }
}();
$jscomp.initSymbolIterator = function() {
    $jscomp.initSymbol();
    var d = $jscomp.global.Symbol.iterator;
    d || (d = $jscomp.global.Symbol.iterator = $jscomp.global.Symbol("iterator"));
    "function" != typeof Array.prototype[d] && $jscomp.defineProperty(Array.prototype, d, {
        configurable: !0,
        writable: !0,
        value: function() {
            return $jscomp.arrayIterator(this)
        }
    });
    $jscomp.initSymbolIterator = function() {}
};
$jscomp.arrayIterator = function(d) {
    var b = 0;
    return $jscomp.iteratorPrototype(function() {
        return b < d.length ? {
            done: !1,
            value: d[b++]
        } : {
            done: !0
        }
    })
};
$jscomp.iteratorPrototype = function(d) {
    $jscomp.initSymbolIterator();
    d = {
        next: d
    };
    d[$jscomp.global.Symbol.iterator] = function() {
        return this
    };
    return d
};
$jscomp.findInternal = function(d, b, h) {
    d instanceof String && (d = String(d));
    for (var g = d.length, f = 0; f < g; f++) {
        var a = d[f];
        if (b.call(h, a, f, d)) return {
            i: f,
            v: a
        }
    }
    return {
        i: -1,
        v: void 0
    }
};
$jscomp.polyfill = function(d, b, h, g) {
    if (b) {
        h = $jscomp.global;
        d = d.split(".");
        for (g = 0; g < d.length - 1; g++) {
            var f = d[g];
            f in h || (h[f] = {});
            h = h[f]
        }
        d = d[d.length - 1];
        g = h[d];
        b = b(g);
        b != g && null != b && $jscomp.defineProperty(h, d, {
            configurable: !0,
            writable: !0,
            value: b
        })
    }
};
$jscomp.polyfill("Array.prototype.find", function(d) {
    return d ? d : function(d, h) {
        return $jscomp.findInternal(this, d, h).v
    }
}, "es6", "es3");
$jscomp.iteratorFromArray = function(d, b) {
    $jscomp.initSymbolIterator();
    d instanceof String && (d += "");
    var h = 0,
        g = {
            next: function() {
                if (h < d.length) {
                    var f = h++;
                    return {
                        value: b(f, d[f]),
                        done: !1
                    }
                }
                g.next = function() {
                    return {
                        done: !0,
                        value: void 0
                    }
                };
                return g.next()
            }
        };
    g[Symbol.iterator] = function() {
        return g
    };
    return g
};
$jscomp.polyfill("Array.prototype.keys", function(d) {
    return d ? d : function() {
        return $jscomp.iteratorFromArray(this, function(d) {
            return d
        })
    }
}, "es6", "es3");
$jscomp.polyfill("Array.prototype.fill", function(d) {
    return d ? d : function(d, h, g) {
        var b = this.length || 0;
        0 > h && (h = Math.max(0, b + h));
        if (null == g || g > b) g = b;
        g = Number(g);
        0 > g && (g = Math.max(0, b + g));
        for (h = Number(h || 0); h < g; h++) this[h] = d;
        return this
    }
}, "es6", "es3");
$jscomp.owns = function(d, b) {
    return Object.prototype.hasOwnProperty.call(d, b)
};
$jscomp.polyfill("Object.assign", function(d) {
    return d ? d : function(d, h) {
        for (var b = 1; b < arguments.length; b++) {
            var f = arguments[b];
            if (f)
                for (var a in f) $jscomp.owns(f, a) && (d[a] = f[a])
        }
        return d
    }
}, "es6", "es3");
$jscomp.checkStringArgs = function(d, b, h) {
    if (null == d) throw new TypeError("The 'this' value for String.prototype." + h + " must not be null or undefined");
    if (b instanceof RegExp) throw new TypeError("First argument to String.prototype." + h + " must not be a regular expression");
    return d + ""
};
$jscomp.polyfill("String.prototype.repeat", function(d) {
    return d ? d : function(d) {
        var b = $jscomp.checkStringArgs(this, null, "repeat");
        if (0 > d || 1342177279 < d) throw new RangeError("Invalid count value");
        d |= 0;
        for (var g = ""; d;)
            if (d & 1 && (g += b), d >>>= 1) b += b;
        return g
    }
}, "es6", "es3");
$jscomp.underscoreProtoCanBeSet = function() {
    var d = {
            a: !0
        },
        b = {};
    try {
        return b.__proto__ = d, b.a
    } catch (h) {}
    return !1
};
$jscomp.setPrototypeOf = "function" == typeof Object.setPrototypeOf ? Object.setPrototypeOf : $jscomp.underscoreProtoCanBeSet() ? function(d, b) {
    d.__proto__ = b;
    if (d.__proto__ !== b) throw new TypeError(d + " is not extensible");
    return d
} : null;
$jscomp.polyfill("Object.setPrototypeOf", function(d) {
    return d || $jscomp.setPrototypeOf
}, "es6", "es5");
$jscomp.polyfill("Object.is", function(d) {
    return d ? d : function(d, h) {
        return d === h ? 0 !== d || 1 / d === 1 / h : d !== d && h !== h
    }
}, "es6", "es3");
$jscomp.polyfill("Array.prototype.includes", function(d) {
    return d ? d : function(d, h) {
        var b = this;
        b instanceof String && (b = String(b));
        var f = b.length;
        for (h = h || 0; h < f; h++)
            if (b[h] == d || Object.is(b[h], d)) return !0;
        return !1
    }
}, "es7", "es3");
$jscomp.polyfill("String.prototype.includes", function(d) {
    return d ? d : function(d, h) {
        return -1 !== $jscomp.checkStringArgs(this, d, "includes").indexOf(d, h || 0)
    }
}, "es6", "es3");
if (!nge) var nge = {};
(function(d) {
    "function" == typeof define && define.amd ? define(["jquery"], d) : d(jQuery)
})(function(d) {
    function b(a, e) {
        var c, b, m, f = a.nodeName.toLowerCase();
        return "area" === f ? (c = a.parentNode, b = c.name, a.href && b && "map" === c.nodeName.toLowerCase() ? (m = d("img[usemap='#" + b + "']")[0], !!m && h(m)) : !1) : (/^(input|select|textarea|button|object)$/.test(f) ? !a.disabled : "a" === f ? a.href || e : e) && h(a)
    }

    function h(a) {
        return d.expr.filters.visible(a) && !d(a).parents().addBack().filter(function() {
            return "hidden" === d.css(this, "visibility")
        }).length
    }
    d.ui = d.ui || {};
    d.extend(d.ui, {
        version: "1.11.4",
        keyCode: {
            BACKSPACE: 8,
            COMMA: 188,
            DELETE: 46,
            DOWN: 40,
            END: 35,
            ENTER: 13,
            ESCAPE: 27,
            HOME: 36,
            LEFT: 37,
            PAGE_DOWN: 34,
            PAGE_UP: 33,
            PERIOD: 190,
            RIGHT: 39,
            SPACE: 32,
            TAB: 9,
            UP: 38
        }
    });
    d.fn.extend({
        scrollParent: function(a) {
            var c = this.css("position"),
                k = "absolute" === c,
                b = a ? /(auto|scroll|hidden)/ : /(auto|scroll)/;
            a = this.parents().filter(function() {
                var a = d(this);
                return k && "static" === a.css("position") ? !1 : b.test(a.css("overflow") + a.css("overflow-y") + a.css("overflow-x"))
            }).eq(0);
            return "fixed" !==
                c && a.length ? a : d(this[0].ownerDocument || document)
        },
        uniqueId: function() {
            var a = 0;
            return function() {
                return this.each(function() {
                    this.id || (this.id = "ui-id-" + ++a)
                })
            }
        }(),
        removeUniqueId: function() {
            return this.each(function() {
                /^ui-id-\d+$/.test(this.id) && d(this).removeAttr("id")
            })
        }
    });
    d.extend(d.expr[":"], {
        data: d.expr.createPseudo ? d.expr.createPseudo(function(a) {
            return function(c) {
                return !!d.data(c, a)
            }
        }) : function(a, e, k) {
            return !!d.data(a, k[3])
        },
        focusable: function(a) {
            return b(a, !isNaN(d.attr(a, "tabindex")))
        },
        tabbable: function(a) {
            var c = d.attr(a, "tabindex"),
                k = isNaN(c);
            return (k || 0 <= c) && b(a, !k)
        }
    });
    d("<a>").outerWidth(1).jquery || d.each(["Width", "Height"], function(a, e) {
        function c(a, c, e, k) {
            return d.each(b, function() {
                c -= parseFloat(d.css(a, "padding" + this)) || 0;
                e && (c -= parseFloat(d.css(a, "border" + this + "Width")) || 0);
                k && (c -= parseFloat(d.css(a, "margin" + this)) || 0)
            }), c
        }
        var b = "Width" === e ? ["Left", "Right"] : ["Top", "Bottom"],
            m = e.toLowerCase(),
            f = {
                innerWidth: d.fn.innerWidth,
                innerHeight: d.fn.innerHeight,
                outerWidth: d.fn.outerWidth,
                outerHeight: d.fn.outerHeight
            };
        d.fn["inner" + e] = function(a) {
            return void 0 === a ? f["inner" + e].call(this) : this.each(function() {
                d(this).css(m, c(this, a) + "px")
            })
        };
        d.fn["outer" + e] = function(a, k) {
            return "number" != typeof a ? f["outer" + e].call(this, a) : this.each(function() {
                d(this).css(m, c(this, a, !0, k) + "px")
            })
        }
    });
    d.fn.addBack || (d.fn.addBack = function(a) {
        return this.add(null == a ? this.prevObject : this.prevObject.filter(a))
    });
    d("<a>").data("a-b", "a").removeData("a-b").data("a-b") && (d.fn.removeData = function(a) {
        return function(c) {
            return arguments.length ?
                a.call(this, d.camelCase(c)) : a.call(this)
        }
    }(d.fn.removeData));
    d.ui.ie = !!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());
    d.fn.extend({
        focus: function(a) {
            return function(c, k) {
                return "number" == typeof c ? this.each(function() {
                    var a = this;
                    setTimeout(function() {
                        d(a).focus();
                        k && k.call(a)
                    }, c)
                }) : a.apply(this, arguments)
            }
        }(d.fn.focus),
        disableSelection: function() {
            var a = "onselectstart" in document.createElement("div") ? "selectstart" : "mousedown";
            return function() {
                return this.bind(a + ".ui-disableSelection", function(a) {
                    a.preventDefault()
                })
            }
        }(),
        enableSelection: function() {
            return this.unbind(".ui-disableSelection")
        },
        zIndex: function(a) {
            if (void 0 !== a) return this.css("zIndex", a);
            if (this.length) {
                var c, k;
                for (a = d(this[0]); a.length && a[0] !== document;) {
                    if (c = a.css("position"), ("absolute" === c || "relative" === c || "fixed" === c) && (k = parseInt(a.css("zIndex"), 10), !isNaN(k) && 0 !== k)) return k;
                    a = a.parent()
                }
            }
            return 0
        }
    });
    d.ui.plugin = {
        add: function(a, e, k) {
            var c;
            a = d.ui[a].prototype;
            for (c in k) a.plugins[c] = a.plugins[c] || [], a.plugins[c].push([e, k[c]])
        },
        call: function(a,
            e, k, d) {
            if ((e = a.plugins[e]) && (d || a.element[0].parentNode && 11 !== a.element[0].parentNode.nodeType))
                for (d = 0; e.length > d; d++) a.options[e[d][0]] && e[d][1].apply(a.element, k)
        }
    };
    var g = 0,
        f = Array.prototype.slice;
    d.cleanData = function(a) {
        return function(c) {
            var e, b, m;
            for (m = 0; null != (b = c[m]); m++) try {
                (e = d._data(b, "events")) && e.remove && d(b).triggerHandler("remove")
            } catch (q) {}
            a(c)
        }
    }(d.cleanData);
    d.widget = function(a, e, k) {
        var c, b, f, g, h = {},
            r = a.split(".")[0];
        return a = a.split(".")[1], c = r + "-" + a, k || (k = e, e = d.Widget), d.expr[":"][c.toLowerCase()] =
            function(a) {
                return !!d.data(a, c)
            }, d[r] = d[r] || {}, b = d[r][a], f = d[r][a] = function(a, c) {
                return this._createWidget ? (arguments.length && this._createWidget(a, c), void 0) : new f(a, c)
            }, d.extend(f, b, {
                version: k.version,
                _proto: d.extend({}, k),
                _childConstructors: []
            }), g = new e, g.options = d.widget.extend({}, g.options), d.each(k, function(a, c) {
                return d.isFunction(c) ? (h[a] = function() {
                    var k = function() {
                            return e.prototype[a].apply(this, arguments)
                        },
                        d = function(c) {
                            return e.prototype[a].apply(this, c)
                        };
                    return function() {
                        var a, e = this._super,
                            b = this._superApply;
                        return this._super = k, this._superApply = d, a = c.apply(this, arguments), this._super = e, this._superApply = b, a
                    }
                }(), void 0) : (h[a] = c, void 0)
            }), f.prototype = d.widget.extend(g, {
                widgetEventPrefix: b ? g.widgetEventPrefix || a : a
            }, h, {
                constructor: f,
                namespace: r,
                widgetName: a,
                widgetFullName: c
            }), b ? (d.each(b._childConstructors, function(a, c) {
                a = c.prototype;
                d.widget(a.namespace + "." + a.widgetName, f, c._proto)
            }), delete b._childConstructors) : e._childConstructors.push(f), d.widget.bridge(a, f), f
    };
    d.widget.extend = function(a) {
        for (var c,
                k, b = f.call(arguments, 1), m = 0, q = b.length; q > m; m++)
            for (c in b[m]) k = b[m][c], b[m].hasOwnProperty(c) && void 0 !== k && (a[c] = d.isPlainObject(k) ? d.isPlainObject(a[c]) ? d.widget.extend({}, a[c], k) : d.widget.extend({}, k) : k);
        return a
    };
    d.widget.bridge = function(a, e) {
        var c = e.prototype.widgetFullName || a;
        d.fn[a] = function(k) {
            var b = "string" == typeof k,
                l = f.call(arguments, 1),
                g = this;
            return b ? this.each(function() {
                var e, b = d.data(this, c);
                return "instance" === k ? (g = b, !1) : b ? d.isFunction(b[k]) && "_" !== k.charAt(0) ? (e = b[k].apply(b, l), e !==
                    b && void 0 !== e ? (g = e && e.jquery ? g.pushStack(e.get()) : e, !1) : void 0) : d.error("no such method '" + k + "' for " + a + " widget instance") : d.error("cannot call methods on " + a + " prior to initialization; attempted to call method '" + k + "'")
            }) : (l.length && (k = d.widget.extend.apply(null, [k].concat(l))), this.each(function() {
                var a = d.data(this, c);
                a ? (a.option(k || {}), a._init && a._init()) : d.data(this, c, new e(k, this))
            })), g
        }
    };
    d.Widget = function() {};
    d.Widget._childConstructors = [];
    d.Widget.prototype = {
        widgetName: "widget",
        widgetEventPrefix: "",
        defaultElement: "<div>",
        options: {
            disabled: !1,
            create: null
        },
        _createWidget: function(a, e) {
            e = d(e || this.defaultElement || this)[0];
            this.element = d(e);
            this.uuid = g++;
            this.eventNamespace = "." + this.widgetName + this.uuid;
            this.bindings = d();
            this.hoverable = d();
            this.focusable = d();
            e !== this && (d.data(e, this.widgetFullName, this), this._on(!0, this.element, {
                remove: function(a) {
                    a.target === e && this.destroy()
                }
            }), this.document = d(e.style ? e.ownerDocument : e.document || e), this.window = d(this.document[0].defaultView || this.document[0].parentWindow));
            this.options = d.widget.extend({}, this.options, this._getCreateOptions(), a);
            this._create();
            this._trigger("create", null, this._getCreateEventData());
            this._init()
        },
        _getCreateOptions: d.noop,
        _getCreateEventData: d.noop,
        _create: d.noop,
        _init: d.noop,
        destroy: function() {
            this._destroy();
            this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(d.camelCase(this.widgetFullName));
            this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName + "-disabled ui-state-disabled");
            this.bindings.unbind(this.eventNamespace);
            this.hoverable.removeClass("ui-state-hover");
            this.focusable.removeClass("ui-state-focus")
        },
        _destroy: d.noop,
        widget: function() {
            return this.element
        },
        option: function(a, e) {
            var c, b, m = a;
            if (0 === arguments.length) return d.widget.extend({}, this.options);
            if ("string" == typeof a)
                if (m = {}, c = a.split("."), a = c.shift(), c.length) {
                    var f = m[a] = d.widget.extend({}, this.options[a]);
                    for (b = 0; c.length - 1 > b; b++) f[c[b]] = f[c[b]] || {}, f = f[c[b]];
                    if (a = c.pop(), 1 === arguments.length) return void 0 ===
                        f[a] ? null : f[a];
                    f[a] = e
                } else {
                    if (1 === arguments.length) return void 0 === this.options[a] ? null : this.options[a];
                    m[a] = e
                } return this._setOptions(m), this
        },
        _setOptions: function(a) {
            for (var c in a) this._setOption(c, a[c]);
            return this
        },
        _setOption: function(a, e) {
            return this.options[a] = e, "disabled" === a && (this.widget().toggleClass(this.widgetFullName + "-disabled", !!e), e && (this.hoverable.removeClass("ui-state-hover"), this.focusable.removeClass("ui-state-focus"))), this
        },
        enable: function() {
            return this._setOptions({
                disabled: !1
            })
        },
        disable: function() {
            return this._setOptions({
                disabled: !0
            })
        },
        _on: function(a, e, k) {
            var c, b = this;
            "boolean" != typeof a && (k = e, e = a, a = !1);
            k ? (e = c = d(e), this.bindings = this.bindings.add(e)) : (k = e, e = this.element, c = this.widget());
            d.each(k, function(k, l) {
                function m() {
                    return a || !0 !== b.options.disabled && !d(this).hasClass("ui-state-disabled") ? ("string" == typeof l ? b[l] : l).apply(b, arguments) : void 0
                }
                "string" != typeof l && (m.guid = l.guid = l.guid || m.guid || d.guid++);
                var f = k.match(/^([\w:-]*)\s*(.*)$/);
                k = f[1] + b.eventNamespace;
                (f =
                    f[2]) ? c.delegate(f, k, m): e.bind(k, m)
            })
        },
        _off: function(a, e) {
            e = (e || "").split(" ").join(this.eventNamespace + " ") + this.eventNamespace;
            a.unbind(e).undelegate(e);
            this.bindings = d(this.bindings.not(a).get());
            this.focusable = d(this.focusable.not(a).get());
            this.hoverable = d(this.hoverable.not(a).get())
        },
        _delay: function(a, e) {
            var c = this;
            return setTimeout(function() {
                return ("string" == typeof a ? c[a] : a).apply(c, arguments)
            }, e || 0)
        },
        _hoverable: function(a) {
            this.hoverable = this.hoverable.add(a);
            this._on(a, {
                mouseenter: function(a) {
                    d(a.currentTarget).addClass("ui-state-hover")
                },
                mouseleave: function(a) {
                    d(a.currentTarget).removeClass("ui-state-hover")
                }
            })
        },
        _focusable: function(a) {
            this.focusable = this.focusable.add(a);
            this._on(a, {
                focusin: function(a) {
                    d(a.currentTarget).addClass("ui-state-focus")
                },
                focusout: function(a) {
                    d(a.currentTarget).removeClass("ui-state-focus")
                }
            })
        },
        _trigger: function(a, e, k) {
            var c, b = this.options[a];
            if (k = k || {}, e = d.Event(e), e.type = (a === this.widgetEventPrefix ? a : this.widgetEventPrefix + a).toLowerCase(), e.target = this.element[0], a = e.originalEvent)
                for (c in a) c in e ||
                    (e[c] = a[c]);
            return this.element.trigger(e, k), !(d.isFunction(b) && !1 === b.apply(this.element[0], [e].concat(k)) || e.isDefaultPrevented())
        }
    };
    d.each({
        show: "fadeIn",
        hide: "fadeOut"
    }, function(a, e) {
        d.Widget.prototype["_" + a] = function(c, b, m) {
            "string" == typeof b && (b = {
                effect: b
            });
            var k = b ? !0 === b || "number" == typeof b ? e : b.effect || e : a;
            b = b || {};
            "number" == typeof b && (b = {
                duration: b
            });
            var l = !d.isEmptyObject(b);
            b.complete = m;
            b.delay && c.delay(b.delay);
            l && d.effects && d.effects.effect[k] ? c[a](b) : k !== a && c[k] ? c[k](b.duration, b.easing,
                m) : c.queue(function(e) {
                d(this)[a]();
                m && m.call(c[0]);
                e()
            })
        }
    });
    d.widget;
    var a = !1;
    d(document).mouseup(function() {
        a = !1
    });
    d.widget("ui.mouse", {
        version: "1.11.4",
        options: {
            cancel: "input,textarea,button,select,option",
            distance: 1,
            delay: 0
        },
        _mouseInit: function() {
            var a = this;
            this.element.bind("mousedown." + this.widgetName, function(c) {
                return a._mouseDown(c)
            }).bind("click." + this.widgetName, function(c) {
                return !0 === d.data(c.target, a.widgetName + ".preventClickEvent") ? (d.removeData(c.target, a.widgetName + ".preventClickEvent"),
                    c.stopImmediatePropagation(), !1) : void 0
            });
            this.started = !1
        },
        _mouseDestroy: function() {
            this.element.unbind("." + this.widgetName);
            this._mouseMoveDelegate && this.document.unbind("mousemove." + this.widgetName, this._mouseMoveDelegate).unbind("mouseup." + this.widgetName, this._mouseUpDelegate)
        },
        _mouseDown: function(c) {
            if (!a) {
                this._mouseMoved = !1;
                this._mouseStarted && this._mouseUp(c);
                this._mouseDownEvent = c;
                var e = this,
                    k = 1 === c.which,
                    b = "string" == typeof this.options.cancel && c.target.nodeName ? d(c.target).closest(this.options.cancel).length :
                    !1;
                return k && !b && this._mouseCapture(c) ? (this.mouseDelayMet = !this.options.delay, this.mouseDelayMet || (this._mouseDelayTimer = setTimeout(function() {
                    e.mouseDelayMet = !0
                }, this.options.delay)), this._mouseDistanceMet(c) && this._mouseDelayMet(c) && (this._mouseStarted = !1 !== this._mouseStart(c), !this._mouseStarted) ? (c.preventDefault(), !0) : (!0 === d.data(c.target, this.widgetName + ".preventClickEvent") && d.removeData(c.target, this.widgetName + ".preventClickEvent"), this._mouseMoveDelegate = function(a) {
                        return e._mouseMove(a)
                    },
                    this._mouseUpDelegate = function(a) {
                        return e._mouseUp(a)
                    }, this.document.bind("mousemove." + this.widgetName, this._mouseMoveDelegate).bind("mouseup." + this.widgetName, this._mouseUpDelegate), c.preventDefault(), a = !0, !0)) : !0
            }
        },
        _mouseMove: function(a) {
            return this._mouseMoved && (d.ui.ie && (!document.documentMode || 9 > document.documentMode) && !a.button || !a.which) ? this._mouseUp(a) : ((a.which || a.button) && (this._mouseMoved = !0), this._mouseStarted ? (this._mouseDrag(a), a.preventDefault()) : (this._mouseDistanceMet(a) && this._mouseDelayMet(a) &&
                (this._mouseStarted = !1 !== this._mouseStart(this._mouseDownEvent, a), this._mouseStarted ? this._mouseDrag(a) : this._mouseUp(a)), !this._mouseStarted))
        },
        _mouseUp: function(c) {
            return this.document.unbind("mousemove." + this.widgetName, this._mouseMoveDelegate).unbind("mouseup." + this.widgetName, this._mouseUpDelegate), this._mouseStarted && (this._mouseStarted = !1, c.target === this._mouseDownEvent.target && d.data(c.target, this.widgetName + ".preventClickEvent", !0), this._mouseStop(c)), a = !1, !1
        },
        _mouseDistanceMet: function(a) {
            return Math.max(Math.abs(this._mouseDownEvent.pageX -
                a.pageX), Math.abs(this._mouseDownEvent.pageY - a.pageY)) >= this.options.distance
        },
        _mouseDelayMet: function() {
            return this.mouseDelayMet
        },
        _mouseStart: function() {},
        _mouseDrag: function() {},
        _mouseStop: function() {},
        _mouseCapture: function() {
            return !0
        }
    });
    (function() {
        function a(a, c, e) {
            return [parseFloat(a[0]) * (v.test(a[0]) ? c / 100 : 1), parseFloat(a[1]) * (v.test(a[1]) ? e / 100 : 1)]
        }

        function e(a) {
            var c = a[0];
            return 9 === c.nodeType ? {
                width: a.width(),
                height: a.height(),
                offset: {
                    top: 0,
                    left: 0
                }
            } : d.isWindow(c) ? {
                width: a.width(),
                height: a.height(),
                offset: {
                    top: a.scrollTop(),
                    left: a.scrollLeft()
                }
            } : c.preventDefault ? {
                width: 0,
                height: 0,
                offset: {
                    top: c.pageY,
                    left: c.pageX
                }
            } : {
                width: a.outerWidth(),
                height: a.outerHeight(),
                offset: a.offset()
            }
        }
        d.ui = d.ui || {};
        var k, b, m = Math.max,
            f = Math.abs,
            g = Math.round,
            h = /left|center|right/,
            r = /top|center|bottom/,
            u = /[\+\-]\d+(\.[\d]+)?%?/,
            t = /^\w+/,
            v = /%$/,
            w = d.fn.position;
        d.position = {
            scrollbarWidth: function() {
                if (void 0 !== k) return k;
                var a, c, e = d("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),
                    b = e.children()[0];
                return d("body").append(e), a = b.offsetWidth, e.css("overflow", "scroll"), c = b.offsetWidth, a === c && (c = e[0].clientWidth), e.remove(), k = a - c
            },
            getScrollInfo: function(a) {
                var c = a.isWindow || a.isDocument ? "" : a.element.css("overflow-x"),
                    e = a.isWindow || a.isDocument ? "" : a.element.css("overflow-y");
                c = "scroll" === c || "auto" === c && a.width < a.element[0].scrollWidth;
                return {
                    width: "scroll" === e || "auto" === e && a.height < a.element[0].scrollHeight ? d.position.scrollbarWidth() : 0,
                    height: c ? d.position.scrollbarWidth() : 0
                }
            },
            getWithinInfo: function(a) {
                a = d(a || window);
                var c = d.isWindow(a[0]),
                    e = !!a[0] && 9 === a[0].nodeType;
                return {
                    element: a,
                    isWindow: c,
                    isDocument: e,
                    offset: a.offset() || {
                        left: 0,
                        top: 0
                    },
                    scrollLeft: a.scrollLeft(),
                    scrollTop: a.scrollTop(),
                    width: c || e ? a.width() : a.outerWidth(),
                    height: c || e ? a.height() : a.outerHeight()
                }
            }
        };
        d.fn.position = function(c) {
            if (!c || !c.of) return w.apply(this, arguments);
            c = d.extend({}, c);
            var k, l, q, n, p, v, x = d(c.of),
                E = d.position.getWithinInfo(c.within),
                K = d.position.getScrollInfo(E),
                I = (c.collision || "flip").split(" "),
                H = {};
            return v = e(x), x[0].preventDefault && (c.at = "left top"), l = v.width, q = v.height, n = v.offset, p = d.extend({}, n), d.each(["my", "at"], function() {
                    var a = (c[this] || "").split(" ");
                    1 === a.length && (a = h.test(a[0]) ? a.concat(["center"]) : r.test(a[0]) ? ["center"].concat(a) : ["center", "center"]);
                    a[0] = h.test(a[0]) ? a[0] : "center";
                    a[1] = r.test(a[1]) ? a[1] : "center";
                    var e = u.exec(a[0]);
                    var k = u.exec(a[1]);
                    H[this] = [e ? e[0] : 0, k ? k[0] : 0];
                    c[this] = [t.exec(a[0])[0], t.exec(a[1])[0]]
                }), 1 === I.length && (I[1] = I[0]), "right" === c.at[0] ? p.left += l :
                "center" === c.at[0] && (p.left += l / 2), "bottom" === c.at[1] ? p.top += q : "center" === c.at[1] && (p.top += q / 2), k = a(H.at, l, q), p.left += k[0], p.top += k[1], this.each(function() {
                    var e, h = d(this),
                        r = h.outerWidth(),
                        u = h.outerHeight(),
                        t = parseInt(d.css(this, "marginLeft"), 10) || 0,
                        v = parseInt(d.css(this, "marginTop"), 10) || 0,
                        w = r + t + (parseInt(d.css(this, "marginRight"), 10) || 0) + K.width,
                        y = u + v + (parseInt(d.css(this, "marginBottom"), 10) || 0) + K.height,
                        C = d.extend({}, p),
                        z = a(H.my, h.outerWidth(), h.outerHeight());
                    "right" === c.my[0] ? C.left -= r : "center" ===
                        c.my[0] && (C.left -= r / 2);
                    "bottom" === c.my[1] ? C.top -= u : "center" === c.my[1] && (C.top -= u / 2);
                    C.left += z[0];
                    C.top += z[1];
                    b || (C.left = g(C.left), C.top = g(C.top));
                    var B = {
                        marginLeft: t,
                        marginTop: v
                    };
                    d.each(["left", "top"], function(a, e) {
                        d.ui.position[I[a]] && d.ui.position[I[a]][e](C, {
                            targetWidth: l,
                            targetHeight: q,
                            elemWidth: r,
                            elemHeight: u,
                            collisionPosition: B,
                            collisionWidth: w,
                            collisionHeight: y,
                            offset: [k[0] + z[0], k[1] + z[1]],
                            my: c.my,
                            at: c.at,
                            within: E,
                            elem: h
                        })
                    });
                    c.using && (e = function(a) {
                        var e = n.left - C.left,
                            k = e + l - r,
                            d = n.top - C.top,
                            b = d + q - u,
                            g = {
                                target: {
                                    element: x,
                                    left: n.left,
                                    top: n.top,
                                    width: l,
                                    height: q
                                },
                                element: {
                                    element: h,
                                    left: C.left,
                                    top: C.top,
                                    width: r,
                                    height: u
                                },
                                horizontal: 0 > k ? "left" : 0 < e ? "right" : "center",
                                vertical: 0 > b ? "top" : 0 < d ? "bottom" : "middle"
                            };
                        r > l && l > f(e + k) && (g.horizontal = "center");
                        u > q && q > f(d + b) && (g.vertical = "middle");
                        g.important = m(f(e), f(k)) > m(f(d), f(b)) ? "horizontal" : "vertical";
                        c.using.call(this, a, g)
                    });
                    h.offset(d.extend(C, {
                        using: e
                    }))
                })
        };
        d.ui.position = {
            fit: {
                left: function(a, c) {
                    var e, k = c.within,
                        d = k.isWindow ? k.scrollLeft : k.offset.left;
                    k = k.width;
                    var b = a.left - c.collisionPosition.marginLeft,
                        l = d - b,
                        f = b + c.collisionWidth - k - d;
                    c.collisionWidth > k ? 0 < l && 0 >= f ? (e = a.left + l + c.collisionWidth - k - d, a.left += l - e) : a.left = 0 < f && 0 >= l ? d : l > f ? d + k - c.collisionWidth : d : 0 < l ? a.left += l : 0 < f ? a.left -= f : a.left = m(a.left - b, a.left)
                },
                top: function(a, c) {
                    var e, k = c.within;
                    k = k.isWindow ? k.scrollTop : k.offset.top;
                    var d = c.within.height,
                        b = a.top - c.collisionPosition.marginTop,
                        l = k - b,
                        f = b + c.collisionHeight - d - k;
                    c.collisionHeight > d ? 0 < l && 0 >= f ? (e = a.top + l + c.collisionHeight - d - k, a.top += l - e) :
                        a.top = 0 < f && 0 >= l ? k : l > f ? k + d - c.collisionHeight : k : 0 < l ? a.top += l : 0 < f ? a.top -= f : a.top = m(a.top - b, a.top)
                }
            },
            flip: {
                left: function(a, c) {
                    var e, k, d = c.within,
                        b = d.offset.left + d.scrollLeft,
                        l = d.width;
                    d = d.isWindow ? d.scrollLeft : d.offset.left;
                    var m = a.left - c.collisionPosition.marginLeft,
                        q = m - d;
                    m = m + c.collisionWidth - l - d;
                    var g = "left" === c.my[0] ? -c.elemWidth : "right" === c.my[0] ? c.elemWidth : 0,
                        n = "left" === c.at[0] ? c.targetWidth : "right" === c.at[0] ? -c.targetWidth : 0,
                        h = -2 * c.offset[0];
                    0 > q ? (e = a.left + g + n + h + c.collisionWidth - l - b, (0 > e || f(q) > e) &&
                        (a.left += g + n + h)) : 0 < m && (k = a.left - c.collisionPosition.marginLeft + g + n + h - d, (0 < k || m > f(k)) && (a.left += g + n + h))
                },
                top: function(a, c) {
                    var e, k, d = c.within,
                        b = d.offset.top + d.scrollTop,
                        l = d.height;
                    d = d.isWindow ? d.scrollTop : d.offset.top;
                    var m = a.top - c.collisionPosition.marginTop,
                        q = m - d;
                    m = m + c.collisionHeight - l - d;
                    var g = "top" === c.my[1] ? -c.elemHeight : "bottom" === c.my[1] ? c.elemHeight : 0,
                        n = "top" === c.at[1] ? c.targetHeight : "bottom" === c.at[1] ? -c.targetHeight : 0,
                        h = -2 * c.offset[1];
                    0 > q ? (k = a.top + g + n + h + c.collisionHeight - l - b, (0 > k || f(q) > k) &&
                        (a.top += g + n + h)) : 0 < m && (e = a.top - c.collisionPosition.marginTop + g + n + h - d, (0 < e || m > f(e)) && (a.top += g + n + h))
                }
            },
            flipfit: {
                left: function() {
                    d.ui.position.flip.left.apply(this, arguments);
                    d.ui.position.fit.left.apply(this, arguments)
                },
                top: function() {
                    d.ui.position.flip.top.apply(this, arguments);
                    d.ui.position.fit.top.apply(this, arguments)
                }
            }
        };
        (function() {
            var a, c = document.getElementsByTagName("body")[0];
            var e = document.createElement("div");
            var k = document.createElement(c ? "div" : "body");
            var l = {
                visibility: "hidden",
                width: 0,
                height: 0,
                border: 0,
                margin: 0,
                background: "none"
            };
            c && d.extend(l, {
                position: "absolute",
                left: "-1000px",
                top: "-1000px"
            });
            for (a in l) k.style[a] = l[a];
            k.appendChild(e);
            l = c || document.documentElement;
            l.insertBefore(k, l.firstChild);
            e.style.cssText = "position: absolute; left: 10.7432222px;";
            e = d(e).offset().left;
            b = 10 < e && 11 > e;
            k.innerHTML = "";
            l.removeChild(k)
        })()
    })();
    d.ui.position;
    d.widget("ui.draggable", d.ui.mouse, {
        version: "1.11.4",
        widgetEventPrefix: "drag",
        options: {
            addClasses: !0,
            appendTo: "parent",
            axis: !1,
            connectToSortable: !1,
            containment: !1,
            cursor: "auto",
            cursorAt: !1,
            grid: !1,
            handle: !1,
            helper: "original",
            iframeFix: !1,
            opacity: !1,
            refreshPositions: !1,
            revert: !1,
            revertDuration: 500,
            scope: "default",
            scroll: !0,
            scrollSensitivity: 20,
            scrollSpeed: 20,
            snap: !1,
            snapMode: "both",
            snapTolerance: 20,
            stack: !1,
            zIndex: !1,
            drag: null,
            start: null,
            stop: null
        },
        _create: function() {
            "original" === this.options.helper && this._setPositionRelative();
            this.options.addClasses && this.element.addClass("ui-draggable");
            this.options.disabled && this.element.addClass("ui-draggable-disabled");
            this._setHandleClassName();
            this._mouseInit()
        },
        _setOption: function(a, e) {
            this._super(a, e);
            "handle" === a && (this._removeHandleClassName(), this._setHandleClassName())
        },
        _destroy: function() {
            return (this.helper || this.element).is(".ui-draggable-dragging") ? (this.destroyOnClear = !0, void 0) : (this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"), this._removeHandleClassName(), this._mouseDestroy(), void 0)
        },
        _mouseCapture: function(a) {
            var c = this.options;
            return this._blurActiveElement(a),
                this.helper || c.disabled || 0 < d(a.target).closest(".ui-resizable-handle").length ? !1 : (this.handle = this._getHandle(a), this.handle ? (this._blockFrames(!0 === c.iframeFix ? "iframe" : c.iframeFix), !0) : !1)
        },
        _blockFrames: function(a) {
            this.iframeBlocks = this.document.find(a).map(function() {
                var a = d(this);
                return d("<div>").css("position", "absolute").appendTo(a.parent()).outerWidth(a.outerWidth()).outerHeight(a.outerHeight()).offset(a.offset())[0]
            })
        },
        _unblockFrames: function() {
            this.iframeBlocks && (this.iframeBlocks.remove(),
                delete this.iframeBlocks)
        },
        _blurActiveElement: function(a) {
            var c = this.document[0];
            if (this.handleElement.is(a.target)) try {
                c.activeElement && "body" !== c.activeElement.nodeName.toLowerCase() && d(c.activeElement).blur()
            } catch (k) {}
        },
        _mouseStart: function(a) {
            var c = this.options;
            return this.helper = this._createHelper(a), this.helper.addClass("ui-draggable-dragging"), this._cacheHelperProportions(), d.ui.ddmanager && (d.ui.ddmanager.current = this), this._cacheMargins(), this.cssPosition = this.helper.css("position"), this.scrollParent =
                this.helper.scrollParent(!0), this.offsetParent = this.helper.offsetParent(), this.hasFixedAncestor = 0 < this.helper.parents().filter(function() {
                    return "fixed" === d(this).css("position")
                }).length, this.positionAbs = this.element.offset(), this._refreshOffsets(a), this.originalPosition = this.position = this._generatePosition(a, !1), this.originalPageX = a.pageX, this.originalPageY = a.pageY, c.cursorAt && this._adjustOffsetFromHelper(c.cursorAt), this._setContainment(), !1 === this._trigger("start", a) ? (this._clear(), !1) : (this._cacheHelperProportions(),
                    d.ui.ddmanager && !c.dropBehaviour && d.ui.ddmanager.prepareOffsets(this, a), this._normalizeRightBottom(), this._mouseDrag(a, !0), d.ui.ddmanager && d.ui.ddmanager.dragStart(this, a), !0)
        },
        _refreshOffsets: function(a) {
            this.offset = {
                top: this.positionAbs.top - this.margins.top,
                left: this.positionAbs.left - this.margins.left,
                scroll: !1,
                parent: this._getParentOffset(),
                relative: this._getRelativeOffset()
            };
            this.offset.click = {
                left: a.pageX - this.offset.left,
                top: a.pageY - this.offset.top
            }
        },
        _mouseDrag: function(a, e) {
            if (this.hasFixedAncestor &&
                (this.offset.parent = this._getParentOffset()), this.position = this._generatePosition(a, !0), this.positionAbs = this._convertPositionTo("absolute"), !e) {
                e = this._uiHash();
                if (!1 === this._trigger("drag", a, e)) return this._mouseUp({}), !1;
                this.position = e.position
            }
            return this.helper[0].style.left = this.position.left + "px", this.helper[0].style.top = this.position.top + "px", d.ui.ddmanager && d.ui.ddmanager.drag(this, a), !1
        },
        _mouseStop: function(a) {
            var c = this,
                k = !1;
            return d.ui.ddmanager && !this.options.dropBehaviour && (k = d.ui.ddmanager.drop(this,
                a)), this.dropped && (k = this.dropped, this.dropped = !1), "invalid" === this.options.revert && !k || "valid" === this.options.revert && k || !0 === this.options.revert || d.isFunction(this.options.revert) && this.options.revert.call(this.element, k) ? d(this.helper).animate(this.originalPosition, parseInt(this.options.revertDuration, 10), function() {
                !1 !== c._trigger("stop", a) && c._clear()
            }) : !1 !== this._trigger("stop", a) && this._clear(), !1
        },
        _mouseUp: function(a) {
            return this._unblockFrames(), d.ui.ddmanager && d.ui.ddmanager.dragStop(this,
                a), this.handleElement.is(a.target) && this.element.focus(), d.ui.mouse.prototype._mouseUp.call(this, a)
        },
        cancel: function() {
            return this.helper.is(".ui-draggable-dragging") ? this._mouseUp({}) : this._clear(), this
        },
        _getHandle: function(a) {
            return this.options.handle ? !!d(a.target).closest(this.element.find(this.options.handle)).length : !0
        },
        _setHandleClassName: function() {
            this.handleElement = this.options.handle ? this.element.find(this.options.handle) : this.element;
            this.handleElement.addClass("ui-draggable-handle")
        },
        _removeHandleClassName: function() {
            this.handleElement.removeClass("ui-draggable-handle")
        },
        _createHelper: function(a) {
            var c = this.options,
                k = d.isFunction(c.helper);
            a = k ? d(c.helper.apply(this.element[0], [a])) : "clone" === c.helper ? this.element.clone().removeAttr("id") : this.element;
            return a.parents("body").length || a.appendTo("parent" === c.appendTo ? this.element[0].parentNode : c.appendTo), k && a[0] === this.element[0] && this._setPositionRelative(), a[0] === this.element[0] || /(fixed|absolute)/.test(a.css("position")) || a.css("position",
                "absolute"), a
        },
        _setPositionRelative: function() {
            /^(?:r|a|f)/.test(this.element.css("position")) || (this.element[0].style.position = "relative")
        },
        _adjustOffsetFromHelper: function(a) {
            "string" == typeof a && (a = a.split(" "));
            d.isArray(a) && (a = {
                left: +a[0],
                top: +a[1] || 0
            });
            "left" in a && (this.offset.click.left = a.left + this.margins.left);
            "right" in a && (this.offset.click.left = this.helperProportions.width - a.right + this.margins.left);
            "top" in a && (this.offset.click.top = a.top + this.margins.top);
            "bottom" in a && (this.offset.click.top =
                this.helperProportions.height - a.bottom + this.margins.top)
        },
        _isRootNode: function(a) {
            return /(html|body)/i.test(a.tagName) || a === this.document[0]
        },
        _getParentOffset: function() {
            var a = this.offsetParent.offset(),
                e = this.document[0];
            return "absolute" === this.cssPosition && this.scrollParent[0] !== e && d.contains(this.scrollParent[0], this.offsetParent[0]) && (a.left += this.scrollParent.scrollLeft(), a.top += this.scrollParent.scrollTop()), this._isRootNode(this.offsetParent[0]) && (a = {
                top: 0,
                left: 0
            }), {
                top: a.top + (parseInt(this.offsetParent.css("borderTopWidth"),
                    10) || 0),
                left: a.left + (parseInt(this.offsetParent.css("borderLeftWidth"), 10) || 0)
            }
        },
        _getRelativeOffset: function() {
            if ("relative" !== this.cssPosition) return {
                top: 0,
                left: 0
            };
            var a = this.element.position(),
                e = this._isRootNode(this.scrollParent[0]);
            return {
                top: a.top - (parseInt(this.helper.css("top"), 10) || 0) + (e ? 0 : this.scrollParent.scrollTop()),
                left: a.left - (parseInt(this.helper.css("left"), 10) || 0) + (e ? 0 : this.scrollParent.scrollLeft())
            }
        },
        _cacheMargins: function() {
            this.margins = {
                left: parseInt(this.element.css("marginLeft"),
                    10) || 0,
                top: parseInt(this.element.css("marginTop"), 10) || 0,
                right: parseInt(this.element.css("marginRight"), 10) || 0,
                bottom: parseInt(this.element.css("marginBottom"), 10) || 0
            }
        },
        _cacheHelperProportions: function() {
            this.helperProportions = {
                width: this.helper.outerWidth(),
                height: this.helper.outerHeight()
            }
        },
        _setContainment: function() {
            var a, e, k, b = this.options,
                m = this.document[0];
            return this.relativeContainer = null, b.containment ? "window" === b.containment ? (this.containment = [d(window).scrollLeft() - this.offset.relative.left -
                this.offset.parent.left, d(window).scrollTop() - this.offset.relative.top - this.offset.parent.top, d(window).scrollLeft() + d(window).width() - this.helperProportions.width - this.margins.left, d(window).scrollTop() + (d(window).height() || m.body.parentNode.scrollHeight) - this.helperProportions.height - this.margins.top
            ], void 0) : "document" === b.containment ? (this.containment = [0, 0, d(m).width() - this.helperProportions.width - this.margins.left, (d(m).height() || m.body.parentNode.scrollHeight) - this.helperProportions.height -
                this.margins.top
            ], void 0) : b.containment.constructor === Array ? (this.containment = b.containment, void 0) : ("parent" === b.containment && (b.containment = this.helper[0].parentNode), e = d(b.containment), k = e[0], k && (a = /(scroll|auto)/.test(e.css("overflow")), this.containment = [(parseInt(e.css("borderLeftWidth"), 10) || 0) + (parseInt(e.css("paddingLeft"), 10) || 0), (parseInt(e.css("borderTopWidth"), 10) || 0) + (parseInt(e.css("paddingTop"), 10) || 0), (a ? Math.max(k.scrollWidth, k.offsetWidth) : k.offsetWidth) - (parseInt(e.css("borderRightWidth"),
                10) || 0) - (parseInt(e.css("paddingRight"), 10) || 0) - this.helperProportions.width - this.margins.left - this.margins.right, (a ? Math.max(k.scrollHeight, k.offsetHeight) : k.offsetHeight) - (parseInt(e.css("borderBottomWidth"), 10) || 0) - (parseInt(e.css("paddingBottom"), 10) || 0) - this.helperProportions.height - this.margins.top - this.margins.bottom], this.relativeContainer = e), void 0) : (this.containment = null, void 0)
        },
        _convertPositionTo: function(a, e) {
            e || (e = this.position);
            a = "absolute" === a ? 1 : -1;
            var c = this._isRootNode(this.scrollParent[0]);
            return {
                top: e.top + this.offset.relative.top * a + this.offset.parent.top * a - ("fixed" === this.cssPosition ? -this.offset.scroll.top : c ? 0 : this.offset.scroll.top) * a,
                left: e.left + this.offset.relative.left * a + this.offset.parent.left * a - ("fixed" === this.cssPosition ? -this.offset.scroll.left : c ? 0 : this.offset.scroll.left) * a
            }
        },
        _generatePosition: function(a, e) {
            var c, d, b, f, g = this.options,
                h = this._isRootNode(this.scrollParent[0]),
                r = a.pageX,
                u = a.pageY;
            return h && this.offset.scroll || (this.offset.scroll = {
                top: this.scrollParent.scrollTop(),
                left: this.scrollParent.scrollLeft()
            }), e && (this.containment && (this.relativeContainer ? (d = this.relativeContainer.offset(), c = [this.containment[0] + d.left, this.containment[1] + d.top, this.containment[2] + d.left, this.containment[3] + d.top]) : c = this.containment, a.pageX - this.offset.click.left < c[0] && (r = c[0] + this.offset.click.left), a.pageY - this.offset.click.top < c[1] && (u = c[1] + this.offset.click.top), a.pageX - this.offset.click.left > c[2] && (r = c[2] + this.offset.click.left), a.pageY - this.offset.click.top > c[3] && (u = c[3] + this.offset.click.top)),
                g.grid && (b = g.grid[1] ? this.originalPageY + Math.round((u - this.originalPageY) / g.grid[1]) * g.grid[1] : this.originalPageY, u = c ? b - this.offset.click.top >= c[1] || b - this.offset.click.top > c[3] ? b : b - this.offset.click.top >= c[1] ? b - g.grid[1] : b + g.grid[1] : b, f = g.grid[0] ? this.originalPageX + Math.round((r - this.originalPageX) / g.grid[0]) * g.grid[0] : this.originalPageX, r = c ? f - this.offset.click.left >= c[0] || f - this.offset.click.left > c[2] ? f : f - this.offset.click.left >= c[0] ? f - g.grid[0] : f + g.grid[0] : f), "y" === g.axis && (r = this.originalPageX),
                "x" === g.axis && (u = this.originalPageY)), {
                top: u - this.offset.click.top - this.offset.relative.top - this.offset.parent.top + ("fixed" === this.cssPosition ? -this.offset.scroll.top : h ? 0 : this.offset.scroll.top),
                left: r - this.offset.click.left - this.offset.relative.left - this.offset.parent.left + ("fixed" === this.cssPosition ? -this.offset.scroll.left : h ? 0 : this.offset.scroll.left)
            }
        },
        _clear: function() {
            this.helper.removeClass("ui-draggable-dragging");
            this.helper[0] === this.element[0] || this.cancelHelperRemoval || this.helper.remove();
            this.helper = null;
            this.cancelHelperRemoval = !1;
            this.destroyOnClear && this.destroy()
        },
        _normalizeRightBottom: function() {
            "y" !== this.options.axis && "auto" !== this.helper.css("right") && (this.helper.width(this.helper.width()), this.helper.css("right", "auto"));
            "x" !== this.options.axis && "auto" !== this.helper.css("bottom") && (this.helper.height(this.helper.height()), this.helper.css("bottom", "auto"))
        },
        _trigger: function(a, e, k) {
            return k = k || this._uiHash(), d.ui.plugin.call(this, a, [e, k, this], !0), /^(drag|start|stop)/.test(a) &&
                (this.positionAbs = this._convertPositionTo("absolute"), k.offset = this.positionAbs), d.Widget.prototype._trigger.call(this, a, e, k)
        },
        plugins: {},
        _uiHash: function() {
            return {
                helper: this.helper,
                position: this.position,
                originalPosition: this.originalPosition,
                offset: this.positionAbs
            }
        }
    });
    d.ui.plugin.add("draggable", "connectToSortable", {
        start: function(a, e, k) {
            var c = d.extend({}, e, {
                item: k.element
            });
            k.sortables = [];
            d(k.options.connectToSortable).each(function() {
                var e = d(this).sortable("instance");
                e && !e.options.disabled &&
                    (k.sortables.push(e), e.refreshPositions(), e._trigger("activate", a, c))
            })
        },
        stop: function(a, e, k) {
            var c = d.extend({}, e, {
                item: k.element
            });
            k.cancelHelperRemoval = !1;
            d.each(k.sortables, function() {
                this.isOver ? (this.isOver = 0, k.cancelHelperRemoval = !0, this.cancelHelperRemoval = !1, this._storedCSS = {
                    position: this.placeholder.css("position"),
                    top: this.placeholder.css("top"),
                    left: this.placeholder.css("left")
                }, this._mouseStop(a), this.options.helper = this.options._helper) : (this.cancelHelperRemoval = !0, this._trigger("deactivate",
                    a, c))
            })
        },
        drag: function(a, e, k) {
            d.each(k.sortables, function() {
                var c = !1,
                    b = this;
                b.positionAbs = k.positionAbs;
                b.helperProportions = k.helperProportions;
                b.offset.click = k.offset.click;
                b._intersectsWith(b.containerCache) && (c = !0, d.each(k.sortables, function() {
                    return this.positionAbs = k.positionAbs, this.helperProportions = k.helperProportions, this.offset.click = k.offset.click, this !== b && this._intersectsWith(this.containerCache) && d.contains(b.element[0], this.element[0]) && (c = !1), c
                }));
                c ? (b.isOver || (b.isOver = 1, k._parent =
                    e.helper.parent(), b.currentItem = e.helper.appendTo(b.element).data("ui-sortable-item", !0), b.options._helper = b.options.helper, b.options.helper = function() {
                        return e.helper[0]
                    }, a.target = b.currentItem[0], b._mouseCapture(a, !0), b._mouseStart(a, !0, !0), b.offset.click.top = k.offset.click.top, b.offset.click.left = k.offset.click.left, b.offset.parent.left -= k.offset.parent.left - b.offset.parent.left, b.offset.parent.top -= k.offset.parent.top - b.offset.parent.top, k._trigger("toSortable", a), k.dropped = b.element, d.each(k.sortables,
                        function() {
                            this.refreshPositions()
                        }), k.currentItem = k.element, b.fromOutside = k), b.currentItem && (b._mouseDrag(a), e.position = b.position)) : b.isOver && (b.isOver = 0, b.cancelHelperRemoval = !0, b.options._revert = b.options.revert, b.options.revert = !1, b._trigger("out", a, b._uiHash(b)), b._mouseStop(a, !0), b.options.revert = b.options._revert, b.options.helper = b.options._helper, b.placeholder && b.placeholder.remove(), e.helper.appendTo(k._parent), k._refreshOffsets(a), e.position = k._generatePosition(a, !0), k._trigger("fromSortable",
                    a), k.dropped = !1, d.each(k.sortables, function() {
                    this.refreshPositions()
                }))
            })
        }
    });
    d.ui.plugin.add("draggable", "cursor", {
        start: function(a, e, k) {
            a = d("body");
            k = k.options;
            a.css("cursor") && (k._cursor = a.css("cursor"));
            a.css("cursor", k.cursor)
        },
        stop: function(a, e, k) {
            a = k.options;
            a._cursor && d("body").css("cursor", a._cursor)
        }
    });
    d.ui.plugin.add("draggable", "opacity", {
        start: function(a, e, k) {
            a = d(e.helper);
            k = k.options;
            a.css("opacity") && (k._opacity = a.css("opacity"));
            a.css("opacity", k.opacity)
        },
        stop: function(a, e, k) {
            a = k.options;
            a._opacity && d(e.helper).css("opacity", a._opacity)
        }
    });
    d.ui.plugin.add("draggable", "scroll", {
        start: function(a, e, k) {
            k.scrollParentNotHidden || (k.scrollParentNotHidden = k.helper.scrollParent(!1));
            k.scrollParentNotHidden[0] !== k.document[0] && "HTML" !== k.scrollParentNotHidden[0].tagName && (k.overflowOffset = k.scrollParentNotHidden.offset())
        },
        drag: function(a, e, k) {
            e = k.options;
            var c = !1,
                b = k.scrollParentNotHidden[0],
                f = k.document[0];
            b !== f && "HTML" !== b.tagName ? (e.axis && "x" === e.axis || (k.overflowOffset.top + b.offsetHeight -
                a.pageY < e.scrollSensitivity ? b.scrollTop = c = b.scrollTop + e.scrollSpeed : a.pageY - k.overflowOffset.top < e.scrollSensitivity && (b.scrollTop = c = b.scrollTop - e.scrollSpeed)), e.axis && "y" === e.axis || (k.overflowOffset.left + b.offsetWidth - a.pageX < e.scrollSensitivity ? b.scrollLeft = c = b.scrollLeft + e.scrollSpeed : a.pageX - k.overflowOffset.left < e.scrollSensitivity && (b.scrollLeft = c = b.scrollLeft - e.scrollSpeed))) : (e.axis && "x" === e.axis || (a.pageY - d(f).scrollTop() < e.scrollSensitivity ? c = d(f).scrollTop(d(f).scrollTop() - e.scrollSpeed) :
                d(window).height() - (a.pageY - d(f).scrollTop()) < e.scrollSensitivity && (c = d(f).scrollTop(d(f).scrollTop() + e.scrollSpeed))), e.axis && "y" === e.axis || (a.pageX - d(f).scrollLeft() < e.scrollSensitivity ? c = d(f).scrollLeft(d(f).scrollLeft() - e.scrollSpeed) : d(window).width() - (a.pageX - d(f).scrollLeft()) < e.scrollSensitivity && (c = d(f).scrollLeft(d(f).scrollLeft() + e.scrollSpeed))));
            !1 !== c && d.ui.ddmanager && !e.dropBehaviour && d.ui.ddmanager.prepareOffsets(k, a)
        }
    });
    d.ui.plugin.add("draggable", "snap", {
        start: function(a, e, k) {
            a =
                k.options;
            k.snapElements = [];
            d(a.snap.constructor !== String ? a.snap.items || ":data(ui-draggable)" : a.snap).each(function() {
                var a = d(this),
                    c = a.offset();
                this !== k.element[0] && k.snapElements.push({
                    item: this,
                    width: a.outerWidth(),
                    height: a.outerHeight(),
                    top: c.top,
                    left: c.left
                })
            })
        },
        drag: function(a, e, k) {
            var c, b, f, g, h, r, u = k.options,
                t = u.snapTolerance,
                v = e.offset.left,
                w = v + k.helperProportions.width,
                x = e.offset.top,
                y = x + k.helperProportions.height;
            for (h = k.snapElements.length - 1; 0 <= h; h--) {
                var z = k.snapElements[h].left - k.margins.left;
                var B = z + k.snapElements[h].width;
                var A = k.snapElements[h].top - k.margins.top;
                var C = A + k.snapElements[h].height;
                z - t > w || v > B + t || A - t > y || x > C + t || !d.contains(k.snapElements[h].item.ownerDocument, k.snapElements[h].item) ? (k.snapElements[h].snapping && k.options.snap.release && k.options.snap.release.call(k.element, a, d.extend(k._uiHash(), {
                    snapItem: k.snapElements[h].item
                })), k.snapElements[h].snapping = !1) : ("inner" !== u.snapMode && (c = t >= Math.abs(A - y), b = t >= Math.abs(C - x), f = t >= Math.abs(z - w), g = t >= Math.abs(B - v), c && (e.position.top =
                    k._convertPositionTo("relative", {
                        top: A - k.helperProportions.height,
                        left: 0
                    }).top), b && (e.position.top = k._convertPositionTo("relative", {
                    top: C,
                    left: 0
                }).top), f && (e.position.left = k._convertPositionTo("relative", {
                    top: 0,
                    left: z - k.helperProportions.width
                }).left), g && (e.position.left = k._convertPositionTo("relative", {
                    top: 0,
                    left: B
                }).left)), r = c || b || f || g, "outer" !== u.snapMode && (c = t >= Math.abs(A - x), b = t >= Math.abs(C - y), f = t >= Math.abs(z - v), g = t >= Math.abs(B - w), c && (e.position.top = k._convertPositionTo("relative", {
                        top: A,
                        left: 0
                    }).top),
                    b && (e.position.top = k._convertPositionTo("relative", {
                        top: C - k.helperProportions.height,
                        left: 0
                    }).top), f && (e.position.left = k._convertPositionTo("relative", {
                        top: 0,
                        left: z
                    }).left), g && (e.position.left = k._convertPositionTo("relative", {
                        top: 0,
                        left: B - k.helperProportions.width
                    }).left)), !k.snapElements[h].snapping && (c || b || f || g || r) && k.options.snap.snap && k.options.snap.snap.call(k.element, a, d.extend(k._uiHash(), {
                    snapItem: k.snapElements[h].item
                })), k.snapElements[h].snapping = c || b || f || g || r)
            }
        }
    });
    d.ui.plugin.add("draggable",
        "stack", {
            start: function(a, e, k) {
                var c;
                a = d.makeArray(d(k.options.stack)).sort(function(a, c) {
                    return (parseInt(d(a).css("zIndex"), 10) || 0) - (parseInt(d(c).css("zIndex"), 10) || 0)
                });
                a.length && (c = parseInt(d(a[0]).css("zIndex"), 10) || 0, d(a).each(function(a) {
                    d(this).css("zIndex", c + a)
                }), this.css("zIndex", c + a.length))
            }
        });
    d.ui.plugin.add("draggable", "zIndex", {
        start: function(a, e, k) {
            a = d(e.helper);
            k = k.options;
            a.css("zIndex") && (k._zIndex = a.css("zIndex"));
            a.css("zIndex", k.zIndex)
        },
        stop: function(a, e, k) {
            a = k.options;
            a._zIndex &&
                d(e.helper).css("zIndex", a._zIndex)
        }
    });
    d.ui.draggable;
    d.widget("ui.droppable", {
        version: "1.11.4",
        widgetEventPrefix: "drop",
        options: {
            accept: "*",
            activeClass: !1,
            addClasses: !0,
            greedy: !1,
            hoverClass: !1,
            scope: "default",
            tolerance: "intersect",
            activate: null,
            deactivate: null,
            drop: null,
            out: null,
            over: null
        },
        _create: function() {
            var a, e = this.options,
                k = e.accept;
            this.isover = !1;
            this.isout = !0;
            this.accept = d.isFunction(k) ? k : function(a) {
                return a.is(k)
            };
            this.proportions = function() {
                return arguments.length ? (a = arguments[0], void 0) :
                    a ? a : a = {
                        width: this.element[0].offsetWidth,
                        height: this.element[0].offsetHeight
                    }
            };
            this._addToManager(e.scope);
            e.addClasses && this.element.addClass("ui-droppable")
        },
        _addToManager: function(a) {
            d.ui.ddmanager.droppables[a] = d.ui.ddmanager.droppables[a] || [];
            d.ui.ddmanager.droppables[a].push(this)
        },
        _splice: function(a) {
            for (var c = 0; a.length > c; c++) a[c] === this && a.splice(c, 1)
        },
        _destroy: function() {
            this._splice(d.ui.ddmanager.droppables[this.options.scope]);
            this.element.removeClass("ui-droppable ui-droppable-disabled")
        },
        _setOption: function(a, e) {
            "accept" === a ? this.accept = d.isFunction(e) ? e : function(a) {
                return a.is(e)
            } : "scope" === a && (this._splice(d.ui.ddmanager.droppables[this.options.scope]), this._addToManager(e));
            this._super(a, e)
        },
        _activate: function(a) {
            var c = d.ui.ddmanager.current;
            this.options.activeClass && this.element.addClass(this.options.activeClass);
            c && this._trigger("activate", a, this.ui(c))
        },
        _deactivate: function(a) {
            var c = d.ui.ddmanager.current;
            this.options.activeClass && this.element.removeClass(this.options.activeClass);
            c && this._trigger("deactivate", a, this.ui(c))
        },
        _over: function(a) {
            var c = d.ui.ddmanager.current;
            c && (c.currentItem || c.element)[0] !== this.element[0] && this.accept.call(this.element[0], c.currentItem || c.element) && (this.options.hoverClass && this.element.addClass(this.options.hoverClass), this._trigger("over", a, this.ui(c)))
        },
        _out: function(a) {
            var c = d.ui.ddmanager.current;
            c && (c.currentItem || c.element)[0] !== this.element[0] && this.accept.call(this.element[0], c.currentItem || c.element) && (this.options.hoverClass && this.element.removeClass(this.options.hoverClass),
                this._trigger("out", a, this.ui(c)))
        },
        _drop: function(a, e) {
            var c = e || d.ui.ddmanager.current,
                b = !1;
            return c && (c.currentItem || c.element)[0] !== this.element[0] ? (this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function() {
                    var e = d(this).droppable("instance");
                    return e.options.greedy && !e.options.disabled && e.options.scope === c.options.scope && e.accept.call(e.element[0], c.currentItem || c.element) && d.ui.intersect(c, d.extend(e, {
                        offset: e.element.offset()
                    }), e.options.tolerance, a) ? (b = !0, !1) : void 0
                }),
                b ? !1 : this.accept.call(this.element[0], c.currentItem || c.element) ? (this.options.activeClass && this.element.removeClass(this.options.activeClass), this.options.hoverClass && this.element.removeClass(this.options.hoverClass), this._trigger("drop", a, this.ui(c)), this.element) : !1) : !1
        },
        ui: function(a) {
            return {
                draggable: a.currentItem || a.element,
                helper: a.helper,
                position: a.position,
                offset: a.positionAbs
            }
        }
    });
    d.ui.intersect = function() {
        return function(a, e, k, d) {
            if (!e.offset) return !1;
            var c = (a.positionAbs || a.position.absolute).left +
                a.margins.left,
                b = (a.positionAbs || a.position.absolute).top + a.margins.top,
                l = c + a.helperProportions.width,
                f = b + a.helperProportions.height,
                g = e.offset.left,
                h = e.offset.top,
                t = g + e.proportions().width,
                v = h + e.proportions().height;
            switch (k) {
                case "fit":
                    return c >= g && t >= l && b >= h && v >= f;
                case "intersect":
                    return c + a.helperProportions.width / 2 > g && t > l - a.helperProportions.width / 2 && b + a.helperProportions.height / 2 > h && v > f - a.helperProportions.height / 2;
                case "pointer":
                    a = d.pageY;
                    k = e.proportions().height;
                    if (h = a >= h && h + k > a) d = d.pageX,
                        e = e.proportions().width, h = d >= g && g + e > d;
                    return h;
                case "touch":
                    return (b >= h && v >= b || f >= h && v >= f || h > b && f > v) && (c >= g && t >= c || l >= g && t >= l || g > c && l > t);
                default:
                    return !1
            }
        }
    }();
    d.ui.ddmanager = {
        current: null,
        droppables: {
            "default": []
        },
        prepareOffsets: function(a, e) {
            var c, b = d.ui.ddmanager.droppables[a.options.scope] || [],
                m = e ? e.type : null,
                f = (a.currentItem || a.element).find(":data(ui-droppable)").addBack();
            var g = 0;
            a: for (; b.length > g; g++)
                if (!(b[g].options.disabled || a && !b[g].accept.call(b[g].element[0], a.currentItem || a.element))) {
                    for (c =
                        0; f.length > c; c++)
                        if (f[c] === b[g].element[0]) {
                            b[g].proportions().height = 0;
                            continue a
                        } b[g].visible = "none" !== b[g].element.css("display");
                    b[g].visible && ("mousedown" === m && b[g]._activate.call(b[g], e), b[g].offset = b[g].element.offset(), b[g].proportions({
                        width: b[g].element[0].offsetWidth,
                        height: b[g].element[0].offsetHeight
                    }))
                }
        },
        drop: function(a, e) {
            var c = !1;
            return d.each((d.ui.ddmanager.droppables[a.options.scope] || []).slice(), function() {
                this.options && (!this.options.disabled && this.visible && d.ui.intersect(a, this,
                    this.options.tolerance, e) && (c = this._drop.call(this, e) || c), !this.options.disabled && this.visible && this.accept.call(this.element[0], a.currentItem || a.element) && (this.isout = !0, this.isover = !1, this._deactivate.call(this, e)))
            }), c
        },
        dragStart: function(a, e) {
            a.element.parentsUntil("body").bind("scroll.droppable", function() {
                a.options.refreshPositions || d.ui.ddmanager.prepareOffsets(a, e)
            })
        },
        drag: function(a, e) {
            a.options.refreshPositions && d.ui.ddmanager.prepareOffsets(a, e);
            d.each(d.ui.ddmanager.droppables[a.options.scope] || [], function() {
                if (!this.options.disabled && !this.greedyChild && this.visible) {
                    var c, b, m, f = d.ui.intersect(a, this, this.options.tolerance, e);
                    (f = !f && this.isover ? "isout" : f && !this.isover ? "isover" : null) && (this.options.greedy && (b = this.options.scope, m = this.element.parents(":data(ui-droppable)").filter(function() {
                        return d(this).droppable("instance").options.scope === b
                    }), m.length && (c = d(m[0]).droppable("instance"), c.greedyChild = "isover" === f)), c && "isover" === f && (c.isover = !1, c.isout = !0, c._out.call(c, e)), this[f] = !0, this["isout" ===
                        f ? "isover" : "isout"] = !1, this["isover" === f ? "_over" : "_out"].call(this, e), c && "isout" === f && (c.isout = !1, c.isover = !0, c._over.call(c, e)))
                }
            })
        },
        dragStop: function(a, e) {
            a.element.parentsUntil("body").unbind("scroll.droppable");
            a.options.refreshPositions || d.ui.ddmanager.prepareOffsets(a, e)
        }
    };
    d.ui.droppable;
    d.widget("ui.resizable", d.ui.mouse, {
        version: "1.11.4",
        widgetEventPrefix: "resize",
        options: {
            alsoResize: !1,
            animate: !1,
            animateDuration: "slow",
            animateEasing: "swing",
            aspectRatio: !1,
            autoHide: !1,
            containment: !1,
            ghost: !1,
            grid: !1,
            handles: "e,s,se",
            helper: !1,
            maxHeight: null,
            maxWidth: null,
            minHeight: 10,
            minWidth: 10,
            zIndex: 90,
            resize: null,
            start: null,
            stop: null
        },
        _num: function(a) {
            return parseInt(a, 10) || 0
        },
        _isNumber: function(a) {
            return !isNaN(parseInt(a, 10))
        },
        _hasScroll: function(a, e) {
            if ("hidden" === d(a).css("overflow")) return !1;
            e = e && "left" === e ? "scrollLeft" : "scrollTop";
            var c = !1;
            return 0 < a[e] ? !0 : (a[e] = 1, c = 0 < a[e], a[e] = 0, c)
        },
        _create: function() {
            var a, e = this,
                k = this.options;
            if (this.element.addClass("ui-resizable"), d.extend(this, {
                    _aspectRatio: !!k.aspectRatio,
                    aspectRatio: k.aspectRatio,
                    originalElement: this.element,
                    _proportionallyResizeElements: [],
                    _helper: k.helper || k.ghost || k.animate ? k.helper || "ui-resizable-helper" : null
                }), this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i) && (this.element.wrap(d("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({
                        position: this.element.css("position"),
                        width: this.element.outerWidth(),
                        height: this.element.outerHeight(),
                        top: this.element.css("top"),
                        left: this.element.css("left")
                    })), this.element =
                    this.element.parent().data("ui-resizable", this.element.resizable("instance")), this.elementIsWrapper = !0, this.element.css({
                        marginLeft: this.originalElement.css("marginLeft"),
                        marginTop: this.originalElement.css("marginTop"),
                        marginRight: this.originalElement.css("marginRight"),
                        marginBottom: this.originalElement.css("marginBottom")
                    }), this.originalElement.css({
                        marginLeft: 0,
                        marginTop: 0,
                        marginRight: 0,
                        marginBottom: 0
                    }), this.originalResizeStyle = this.originalElement.css("resize"), this.originalElement.css("resize",
                        "none"), this._proportionallyResizeElements.push(this.originalElement.css({
                        position: "static",
                        zoom: 1,
                        display: "block"
                    })), this.originalElement.css({
                        margin: this.originalElement.css("margin")
                    }), this._proportionallyResize()), this.handles = k.handles || (d(".ui-resizable-handle", this.element).length ? {
                    n: ".ui-resizable-n",
                    e: ".ui-resizable-e",
                    s: ".ui-resizable-s",
                    w: ".ui-resizable-w",
                    se: ".ui-resizable-se",
                    sw: ".ui-resizable-sw",
                    ne: ".ui-resizable-ne",
                    nw: ".ui-resizable-nw"
                } : "e,s,se"), this._handles = d(), this.handles.constructor ===
                String) {
                "all" === this.handles && (this.handles = "n,e,s,w,se,sw,ne,nw");
                var b = this.handles.split(",");
                this.handles = {};
                for (a = 0; b.length > a; a++) {
                    var m = d.trim(b[a]);
                    var f = "ui-resizable-" + m;
                    var g = d("<div class='ui-resizable-handle " + f + "'></div>");
                    g.css({
                        zIndex: k.zIndex
                    });
                    "se" === m && g.addClass("ui-icon ui-icon-gripsmall-diagonal-se");
                    this.handles[m] = ".ui-resizable-" + m;
                    this.element.append(g)
                }
            }
            this._renderAxis = function(a) {
                var c, k, b, l;
                a = a || this.element;
                for (c in this.handles) this.handles[c].constructor === String ?
                    this.handles[c] = this.element.children(this.handles[c]).first().show() : (this.handles[c].jquery || this.handles[c].nodeType) && (this.handles[c] = d(this.handles[c]), this._on(this.handles[c], {
                        mousedown: e._mouseDown
                    })), this.elementIsWrapper && this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i) && (k = d(this.handles[c], this.element), l = /sw|ne|nw|se|n|s/.test(c) ? k.outerHeight() : k.outerWidth(), b = ["padding", /ne|nw|n/.test(c) ? "Top" : /se|sw|s/.test(c) ? "Bottom" : /^e$/.test(c) ? "Right" : "Left"].join(""),
                        a.css(b, l), this._proportionallyResize()), this._handles = this._handles.add(this.handles[c])
            };
            this._renderAxis(this.element);
            this._handles = this._handles.add(this.element.find(".ui-resizable-handle"));
            this._handles.disableSelection();
            this._handles.mouseover(function() {
                e.resizing || (this.className && (g = this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)), e.axis = g && g[1] ? g[1] : "se")
            });
            k.autoHide && (this._handles.hide(), d(this.element).addClass("ui-resizable-autohide").mouseenter(function() {
                k.disabled ||
                    (d(this).removeClass("ui-resizable-autohide"), e._handles.show())
            }).mouseleave(function() {
                k.disabled || e.resizing || (d(this).addClass("ui-resizable-autohide"), e._handles.hide())
            }));
            this._mouseInit()
        },
        _destroy: function() {
            this._mouseDestroy();
            var a, e = function(a) {
                d(a).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()
            };
            return this.elementIsWrapper && (e(this.element), a = this.element,
                this.originalElement.css({
                    position: a.css("position"),
                    width: a.outerWidth(),
                    height: a.outerHeight(),
                    top: a.css("top"),
                    left: a.css("left")
                }).insertAfter(a), a.remove()), this.originalElement.css("resize", this.originalResizeStyle), e(this.originalElement), this
        },
        _mouseCapture: function(a) {
            var c, k = !1;
            for (c in this.handles) {
                var b = d(this.handles[c])[0];
                (b === a.target || d.contains(b, a.target)) && (k = !0)
            }
            return !this.options.disabled && k
        },
        _mouseStart: function(a) {
            var c, k, b, m = this.options,
                f = this.element;
            return this.resizing = !0, this._renderProxy(), c = this._num(this.helper.css("left")), k = this._num(this.helper.css("top")), m.containment && (c += d(m.containment).scrollLeft() || 0, k += d(m.containment).scrollTop() || 0), this.offset = this.helper.offset(), this.position = {
                left: c,
                top: k
            }, this.size = this._helper ? {
                width: this.helper.width(),
                height: this.helper.height()
            } : {
                width: f.width(),
                height: f.height()
            }, this.originalSize = this._helper ? {
                width: f.outerWidth(),
                height: f.outerHeight()
            } : {
                width: f.width(),
                height: f.height()
            }, this.sizeDiff = {
                width: f.outerWidth() -
                    f.width(),
                height: f.outerHeight() - f.height()
            }, this.originalPosition = {
                left: c,
                top: k
            }, this.originalMousePosition = {
                left: a.pageX,
                top: a.pageY
            }, this.aspectRatio = "number" == typeof m.aspectRatio ? m.aspectRatio : this.originalSize.width / this.originalSize.height || 1, b = d(".ui-resizable-" + this.axis).css("cursor"), d("body").css("cursor", "auto" === b ? this.axis + "-resize" : b), f.addClass("ui-resizable-resizing"), this._propagate("start", a), !0
        },
        _mouseDrag: function(a) {
            var c, k, b = this.originalMousePosition,
                m = a.pageX - b.left || 0;
            b =
                a.pageY - b.top || 0;
            var f = this._change[this.axis];
            return this._updatePrevProperties(), f ? (c = f.apply(this, [a, m, b]), this._updateVirtualBoundaries(a.shiftKey), (this._aspectRatio || a.shiftKey) && (c = this._updateRatio(c, a)), c = this._respectSize(c, a), this._updateCache(c), this._propagate("resize", a), k = this._applyChanges(), !this._helper && this._proportionallyResizeElements.length && this._proportionallyResize(), d.isEmptyObject(k) || (this._updatePrevProperties(), this._trigger("resize", a, this.ui()), this._applyChanges()),
                !1) : !1
        },
        _mouseStop: function(a) {
            this.resizing = !1;
            var c, k, b, m, f, g, h, r = this.options;
            return this._helper && (c = this._proportionallyResizeElements, k = c.length && /textarea/i.test(c[0].nodeName), b = k && this._hasScroll(c[0], "left") ? 0 : this.sizeDiff.height, m = k ? 0 : this.sizeDiff.width, f = {
                    width: this.helper.width() - m,
                    height: this.helper.height() - b
                }, g = parseInt(this.element.css("left"), 10) + (this.position.left - this.originalPosition.left) || null, h = parseInt(this.element.css("top"), 10) + (this.position.top - this.originalPosition.top) ||
                null, r.animate || this.element.css(d.extend(f, {
                    top: h,
                    left: g
                })), this.helper.height(this.size.height), this.helper.width(this.size.width), this._helper && !r.animate && this._proportionallyResize()), d("body").css("cursor", "auto"), this.element.removeClass("ui-resizable-resizing"), this._propagate("stop", a), this._helper && this.helper.remove(), !1
        },
        _updatePrevProperties: function() {
            this.prevPosition = {
                top: this.position.top,
                left: this.position.left
            };
            this.prevSize = {
                width: this.size.width,
                height: this.size.height
            }
        },
        _applyChanges: function() {
            var a = {};
            return this.position.top !== this.prevPosition.top && (a.top = this.position.top + "px"), this.position.left !== this.prevPosition.left && (a.left = this.position.left + "px"), this.size.width !== this.prevSize.width && (a.width = this.size.width + "px"), this.size.height !== this.prevSize.height && (a.height = this.size.height + "px"), this.helper.css(a), a
        },
        _updateVirtualBoundaries: function(a) {
            var c, k, d, b;
            var f = this.options;
            f = {
                minWidth: this._isNumber(f.minWidth) ? f.minWidth : 0,
                maxWidth: this._isNumber(f.maxWidth) ? f.maxWidth : 1 / 0,
                minHeight: this._isNumber(f.minHeight) ?
                    f.minHeight : 0,
                maxHeight: this._isNumber(f.maxHeight) ? f.maxHeight : 1 / 0
            };
            (this._aspectRatio || a) && (c = f.minHeight * this.aspectRatio, d = f.minWidth / this.aspectRatio, k = f.maxHeight * this.aspectRatio, b = f.maxWidth / this.aspectRatio, c > f.minWidth && (f.minWidth = c), d > f.minHeight && (f.minHeight = d), f.maxWidth > k && (f.maxWidth = k), f.maxHeight > b && (f.maxHeight = b));
            this._vBoundaries = f
        },
        _updateCache: function(a) {
            this.offset = this.helper.offset();
            this._isNumber(a.left) && (this.position.left = a.left);
            this._isNumber(a.top) && (this.position.top =
                a.top);
            this._isNumber(a.height) && (this.size.height = a.height);
            this._isNumber(a.width) && (this.size.width = a.width)
        },
        _updateRatio: function(a) {
            var c = this.position,
                k = this.size,
                d = this.axis;
            return this._isNumber(a.height) ? a.width = a.height * this.aspectRatio : this._isNumber(a.width) && (a.height = a.width / this.aspectRatio), "sw" === d && (a.left = c.left + (k.width - a.width), a.top = null), "nw" === d && (a.top = c.top + (k.height - a.height), a.left = c.left + (k.width - a.width)), a
        },
        _respectSize: function(a) {
            var c = this._vBoundaries,
                k = this.axis,
                d = this._isNumber(a.width) && c.maxWidth && c.maxWidth < a.width,
                b = this._isNumber(a.height) && c.maxHeight && c.maxHeight < a.height,
                f = this._isNumber(a.width) && c.minWidth && c.minWidth > a.width,
                g = this._isNumber(a.height) && c.minHeight && c.minHeight > a.height,
                h = this.originalPosition.left + this.originalSize.width,
                r = this.position.top + this.size.height,
                u = /sw|nw|w/.test(k);
            k = /nw|ne|n/.test(k);
            return f && (a.width = c.minWidth), g && (a.height = c.minHeight), d && (a.width = c.maxWidth), b && (a.height = c.maxHeight), f && u && (a.left = h - c.minWidth),
                d && u && (a.left = h - c.maxWidth), g && k && (a.top = r - c.minHeight), b && k && (a.top = r - c.maxHeight), a.width || a.height || a.left || !a.top ? a.width || a.height || a.top || !a.left || (a.left = null) : a.top = null, a
        },
        _getPaddingPlusBorderDimensions: function(a) {
            var c = 0,
                k = [],
                d = [a.css("borderTopWidth"), a.css("borderRightWidth"), a.css("borderBottomWidth"), a.css("borderLeftWidth")];
            for (a = [a.css("paddingTop"), a.css("paddingRight"), a.css("paddingBottom"), a.css("paddingLeft")]; 4 > c; c++) k[c] = parseInt(d[c], 10) || 0, k[c] += parseInt(a[c], 10) || 0;
            return {
                height: k[0] +
                    k[2],
                width: k[1] + k[3]
            }
        },
        _proportionallyResize: function() {
            if (this._proportionallyResizeElements.length)
                for (var a, e = 0, k = this.helper || this.element; this._proportionallyResizeElements.length > e; e++) a = this._proportionallyResizeElements[e], this.outerDimensions || (this.outerDimensions = this._getPaddingPlusBorderDimensions(a)), a.css({
                    height: k.height() - this.outerDimensions.height || 0,
                    width: k.width() - this.outerDimensions.width || 0
                })
        },
        _renderProxy: function() {
            var a = this.options;
            this.elementOffset = this.element.offset();
            this._helper ? (this.helper = this.helper || d("<div style='overflow:hidden;'></div>"), this.helper.addClass(this._helper).css({
                width: this.element.outerWidth() - 1,
                height: this.element.outerHeight() - 1,
                position: "absolute",
                left: this.elementOffset.left + "px",
                top: this.elementOffset.top + "px",
                zIndex: ++a.zIndex
            }), this.helper.appendTo("body").disableSelection()) : this.helper = this.element
        },
        _change: {
            e: function(a, e) {
                return {
                    width: this.originalSize.width + e
                }
            },
            w: function(a, e) {
                return {
                    left: this.originalPosition.left + e,
                    width: this.originalSize.width -
                        e
                }
            },
            n: function(a, e, k) {
                return {
                    top: this.originalPosition.top + k,
                    height: this.originalSize.height - k
                }
            },
            s: function(a, e, k) {
                return {
                    height: this.originalSize.height + k
                }
            },
            se: function(a, e, k) {
                return d.extend(this._change.s.apply(this, arguments), this._change.e.apply(this, [a, e, k]))
            },
            sw: function(a, e, k) {
                return d.extend(this._change.s.apply(this, arguments), this._change.w.apply(this, [a, e, k]))
            },
            ne: function(a, e, k) {
                return d.extend(this._change.n.apply(this, arguments), this._change.e.apply(this, [a, e, k]))
            },
            nw: function(a, e,
                k) {
                return d.extend(this._change.n.apply(this, arguments), this._change.w.apply(this, [a, e, k]))
            }
        },
        _propagate: function(a, e) {
            d.ui.plugin.call(this, a, [e, this.ui()]);
            "resize" !== a && this._trigger(a, e, this.ui())
        },
        plugins: {},
        ui: function() {
            return {
                originalElement: this.originalElement,
                element: this.element,
                helper: this.helper,
                position: this.position,
                size: this.size,
                originalSize: this.originalSize,
                originalPosition: this.originalPosition
            }
        }
    });
    d.ui.plugin.add("resizable", "animate", {
        stop: function(a) {
            var c = d(this).resizable("instance"),
                k = c.options,
                b = c._proportionallyResizeElements,
                f = b.length && /textarea/i.test(b[0].nodeName),
                g = f && c._hasScroll(b[0], "left") ? 0 : c.sizeDiff.height;
            f = {
                width: c.size.width - (f ? 0 : c.sizeDiff.width),
                height: c.size.height - g
            };
            g = parseInt(c.element.css("left"), 10) + (c.position.left - c.originalPosition.left) || null;
            var h = parseInt(c.element.css("top"), 10) + (c.position.top - c.originalPosition.top) || null;
            c.element.animate(d.extend(f, h && g ? {
                top: h,
                left: g
            } : {}), {
                duration: k.animateDuration,
                easing: k.animateEasing,
                step: function() {
                    var e = {
                        width: parseInt(c.element.css("width"), 10),
                        height: parseInt(c.element.css("height"), 10),
                        top: parseInt(c.element.css("top"), 10),
                        left: parseInt(c.element.css("left"), 10)
                    };
                    b && b.length && d(b[0]).css({
                        width: e.width,
                        height: e.height
                    });
                    c._updateCache(e);
                    c._propagate("resize", a)
                }
            })
        }
    });
    d.ui.plugin.add("resizable", "containment", {
        start: function() {
            var a, e, k, b, f, g, h, p = d(this).resizable("instance"),
                r = p.element,
                u = p.options.containment;
            (r = u instanceof d ? u.get(0) : /parent/.test(u) ? r.parent().get(0) : u) && (p.containerElement =
                d(r), /document/.test(u) || u === document ? (p.containerOffset = {
                    left: 0,
                    top: 0
                }, p.containerPosition = {
                    left: 0,
                    top: 0
                }, p.parentData = {
                    element: d(document),
                    left: 0,
                    top: 0,
                    width: d(document).width(),
                    height: d(document).height() || document.body.parentNode.scrollHeight
                }) : (a = d(r), e = [], d(["Top", "Right", "Left", "Bottom"]).each(function(c, k) {
                        e[c] = p._num(a.css("padding" + k))
                    }), p.containerOffset = a.offset(), p.containerPosition = a.position(), p.containerSize = {
                        height: a.innerHeight() - e[3],
                        width: a.innerWidth() - e[1]
                    }, k = p.containerOffset,
                    b = p.containerSize.height, f = p.containerSize.width, g = p._hasScroll(r, "left") ? r.scrollWidth : f, h = p._hasScroll(r) ? r.scrollHeight : b, p.parentData = {
                        element: r,
                        left: k.left,
                        top: k.top,
                        width: g,
                        height: h
                    }))
        },
        resize: function(a) {
            var c = d(this).resizable("instance");
            var k = c.options;
            var b = c.containerOffset;
            var f = c.position;
            a = c._aspectRatio || a.shiftKey;
            var g = {
                    top: 0,
                    left: 0
                },
                h = c.containerElement,
                p = !0;
            h[0] !== document && /static/.test(h.css("position")) && (g = b);
            f.left < (c._helper ? b.left : 0) && (c.size.width += c._helper ? c.position.left -
                b.left : c.position.left - g.left, a && (c.size.height = c.size.width / c.aspectRatio, p = !1), c.position.left = k.helper ? b.left : 0);
            f.top < (c._helper ? b.top : 0) && (c.size.height += c._helper ? c.position.top - b.top : c.position.top, a && (c.size.width = c.size.height * c.aspectRatio, p = !1), c.position.top = c._helper ? b.top : 0);
            k = c.containerElement.get(0) === c.element.parent().get(0);
            f = /relative|absolute/.test(c.containerElement.css("position"));
            k && f ? (c.offset.left = c.parentData.left + c.position.left, c.offset.top = c.parentData.top + c.position.top) :
                (c.offset.left = c.element.offset().left, c.offset.top = c.element.offset().top);
            k = Math.abs(c.sizeDiff.width + (c._helper ? c.offset.left - g.left : c.offset.left - b.left));
            b = Math.abs(c.sizeDiff.height + (c._helper ? c.offset.top - g.top : c.offset.top - b.top));
            k + c.size.width >= c.parentData.width && (c.size.width = c.parentData.width - k, a && (c.size.height = c.size.width / c.aspectRatio, p = !1));
            b + c.size.height >= c.parentData.height && (c.size.height = c.parentData.height - b, a && (c.size.width = c.size.height * c.aspectRatio, p = !1));
            p || (c.position.left =
                c.prevPosition.left, c.position.top = c.prevPosition.top, c.size.width = c.prevSize.width, c.size.height = c.prevSize.height)
        },
        stop: function() {
            var a = d(this).resizable("instance"),
                e = a.options,
                k = a.containerOffset,
                b = a.containerPosition,
                f = a.containerElement,
                g = d(a.helper),
                h = g.offset(),
                p = g.outerWidth() - a.sizeDiff.width;
            g = g.outerHeight() - a.sizeDiff.height;
            a._helper && !e.animate && /relative/.test(f.css("position")) && d(this).css({
                left: h.left - b.left - k.left,
                width: p,
                height: g
            });
            a._helper && !e.animate && /static/.test(f.css("position")) &&
                d(this).css({
                    left: h.left - b.left - k.left,
                    width: p,
                    height: g
                })
        }
    });
    d.ui.plugin.add("resizable", "alsoResize", {
        start: function() {
            var a = d(this).resizable("instance").options;
            d(a.alsoResize).each(function() {
                var a = d(this);
                a.data("ui-resizable-alsoresize", {
                    width: parseInt(a.width(), 10),
                    height: parseInt(a.height(), 10),
                    left: parseInt(a.css("left"), 10),
                    top: parseInt(a.css("top"), 10)
                })
            })
        },
        resize: function(a, e) {
            a = d(this).resizable("instance");
            var c = a.originalSize,
                b = a.originalPosition,
                f = {
                    height: a.size.height - c.height || 0,
                    width: a.size.width - c.width || 0,
                    top: a.position.top - b.top || 0,
                    left: a.position.left - b.left || 0
                };
            d(a.options.alsoResize).each(function() {
                var a = d(this),
                    c = d(this).data("ui-resizable-alsoresize"),
                    k = {},
                    b = a.parents(e.originalElement[0]).length ? ["width", "height"] : ["width", "height", "top", "left"];
                d.each(b, function(a, e) {
                    (a = (c[e] || 0) + (f[e] || 0)) && 0 <= a && (k[e] = a || null)
                });
                a.css(k)
            })
        },
        stop: function() {
            d(this).removeData("resizable-alsoresize")
        }
    });
    d.ui.plugin.add("resizable", "ghost", {
        start: function() {
            var a = d(this).resizable("instance"),
                e = a.options,
                k = a.size;
            a.ghost = a.originalElement.clone();
            a.ghost.css({
                opacity: .25,
                display: "block",
                position: "relative",
                height: k.height,
                width: k.width,
                margin: 0,
                left: 0,
                top: 0
            }).addClass("ui-resizable-ghost").addClass("string" == typeof e.ghost ? e.ghost : "");
            a.ghost.appendTo(a.helper)
        },
        resize: function() {
            var a = d(this).resizable("instance");
            a.ghost && a.ghost.css({
                position: "relative",
                height: a.size.height,
                width: a.size.width
            })
        },
        stop: function() {
            var a = d(this).resizable("instance");
            a.ghost && a.helper && a.helper.get(0).removeChild(a.ghost.get(0))
        }
    });
    d.ui.plugin.add("resizable", "grid", {
        resize: function() {
            var a, e = d(this).resizable("instance"),
                k = e.options,
                b = e.size,
                f = e.originalSize,
                g = e.originalPosition,
                h = e.axis,
                p = "number" == typeof k.grid ? [k.grid, k.grid] : k.grid,
                r = p[0] || 1,
                u = p[1] || 1,
                t = Math.round((b.width - f.width) / r) * r;
            b = Math.round((b.height - f.height) / u) * u;
            var v = f.width + t,
                w = f.height + b,
                x = k.maxWidth && v > k.maxWidth,
                y = k.maxHeight && w > k.maxHeight,
                z = k.minWidth && k.minWidth > v,
                B = k.minHeight && k.minHeight > w;
            k.grid = p;
            z && (v += r);
            B && (w += u);
            x && (v -= r);
            y && (w -= u);
            /^(se|s|e)$/.test(h) ?
                (e.size.width = v, e.size.height = w) : /^(ne)$/.test(h) ? (e.size.width = v, e.size.height = w, e.position.top = g.top - b) : /^(sw)$/.test(h) ? (e.size.width = v, e.size.height = w, e.position.left = g.left - t) : ((0 >= w - u || 0 >= v - r) && (a = e._getPaddingPlusBorderDimensions(this)), 0 < w - u ? (e.size.height = w, e.position.top = g.top - b) : (w = u - a.height, e.size.height = w, e.position.top = g.top + f.height - w), 0 < v - r ? (e.size.width = v, e.position.left = g.left - t) : (v = r - a.width, e.size.width = v, e.position.left = g.left + f.width - v))
        }
    });
    d.ui.resizable;
    d.widget("ui.selectable",
        d.ui.mouse, {
            version: "1.11.4",
            options: {
                appendTo: "body",
                autoRefresh: !0,
                distance: 0,
                filter: "*",
                tolerance: "touch",
                selected: null,
                selecting: null,
                start: null,
                stop: null,
                unselected: null,
                unselecting: null
            },
            _create: function() {
                var a, e = this;
                this.element.addClass("ui-selectable");
                this.dragged = !1;
                this.refresh = function() {
                    a = d(e.options.filter, e.element[0]);
                    a.addClass("ui-selectee");
                    a.each(function() {
                        var a = d(this),
                            c = a.offset();
                        d.data(this, "selectable-item", {
                            element: this,
                            $element: a,
                            left: c.left,
                            top: c.top,
                            right: c.left + a.outerWidth(),
                            bottom: c.top + a.outerHeight(),
                            startselected: !1,
                            selected: a.hasClass("ui-selected"),
                            selecting: a.hasClass("ui-selecting"),
                            unselecting: a.hasClass("ui-unselecting")
                        })
                    })
                };
                this.refresh();
                this.selectees = a.addClass("ui-selectee");
                this._mouseInit();
                this.helper = d("<div class='ui-selectable-helper'></div>")
            },
            _destroy: function() {
                this.selectees.removeClass("ui-selectee").removeData("selectable-item");
                this.element.removeClass("ui-selectable ui-selectable-disabled");
                this._mouseDestroy()
            },
            _mouseStart: function(a) {
                var c =
                    this,
                    k = this.options;
                this.opos = [a.pageX, a.pageY];
                this.options.disabled || (this.selectees = d(k.filter, this.element[0]), this._trigger("start", a), d(k.appendTo).append(this.helper), this.helper.css({
                    left: a.pageX,
                    top: a.pageY,
                    width: 0,
                    height: 0
                }), k.autoRefresh && this.refresh(), this.selectees.filter(".ui-selected").each(function() {
                    var e = d.data(this, "selectable-item");
                    e.startselected = !0;
                    a.metaKey || a.ctrlKey || (e.$element.removeClass("ui-selected"), e.selected = !1, e.$element.addClass("ui-unselecting"), e.unselecting = !0, c._trigger("unselecting", a, {
                        unselecting: e.element
                    }))
                }), d(a.target).parents().addBack().each(function() {
                    var e, k = d.data(this, "selectable-item");
                    return k ? (e = !a.metaKey && !a.ctrlKey || !k.$element.hasClass("ui-selected"), k.$element.removeClass(e ? "ui-unselecting" : "ui-selected").addClass(e ? "ui-selecting" : "ui-unselecting"), k.unselecting = !e, k.selecting = e, k.selected = e, e ? c._trigger("selecting", a, {
                        selecting: k.element
                    }) : c._trigger("unselecting", a, {
                        unselecting: k.element
                    }), !1) : void 0
                }))
            },
            _mouseDrag: function(a) {
                if (this.dragged = !0, !this.options.disabled) {
                    var c, k = this,
                        b = this.options,
                        f = this.opos[0],
                        g = this.opos[1],
                        h = a.pageX,
                        p = a.pageY;
                    return f > h && (c = h, h = f, f = c), g > p && (c = p, p = g, g = c), this.helper.css({
                        left: f,
                        top: g,
                        width: h - f,
                        height: p - g
                    }), this.selectees.each(function() {
                        var c = d.data(this, "selectable-item"),
                            e = !1;
                        c && c.element !== k.element[0] && ("touch" === b.tolerance ? e = !(c.left > h || f > c.right || c.top > p || g > c.bottom) : "fit" === b.tolerance && (e = c.left > f && h > c.right && c.top > g && p > c.bottom), e ? (c.selected && (c.$element.removeClass("ui-selected"), c.selected = !1), c.unselecting && (c.$element.removeClass("ui-unselecting"), c.unselecting = !1), c.selecting || (c.$element.addClass("ui-selecting"), c.selecting = !0, k._trigger("selecting", a, {
                            selecting: c.element
                        }))) : (c.selecting && ((a.metaKey || a.ctrlKey) && c.startselected ? (c.$element.removeClass("ui-selecting"), c.selecting = !1, c.$element.addClass("ui-selected"), c.selected = !0) : (c.$element.removeClass("ui-selecting"), c.selecting = !1, c.startselected && (c.$element.addClass("ui-unselecting"), c.unselecting = !0), k._trigger("unselecting",
                            a, {
                                unselecting: c.element
                            }))), c.selected && (a.metaKey || a.ctrlKey || c.startselected || (c.$element.removeClass("ui-selected"), c.selected = !1, c.$element.addClass("ui-unselecting"), c.unselecting = !0, k._trigger("unselecting", a, {
                            unselecting: c.element
                        })))))
                    }), !1
                }
            },
            _mouseStop: function(a) {
                var c = this;
                return this.dragged = !1, d(".ui-unselecting", this.element[0]).each(function() {
                    var e = d.data(this, "selectable-item");
                    e.$element.removeClass("ui-unselecting");
                    e.unselecting = !1;
                    e.startselected = !1;
                    c._trigger("unselected", a, {
                        unselected: e.element
                    })
                }), d(".ui-selecting", this.element[0]).each(function() {
                    var e = d.data(this, "selectable-item");
                    e.$element.removeClass("ui-selecting").addClass("ui-selected");
                    e.selecting = !1;
                    e.selected = !0;
                    e.startselected = !0;
                    c._trigger("selected", a, {
                        selected: e.element
                    })
                }), this._trigger("stop", a), this.helper.remove(), !1
            }
        });
    d.widget("ui.sortable", d.ui.mouse, {
        version: "1.11.4",
        widgetEventPrefix: "sort",
        ready: !1,
        options: {
            appendTo: "parent",
            axis: !1,
            connectWith: !1,
            containment: !1,
            cursor: "auto",
            cursorAt: !1,
            dropOnEmpty: !0,
            forcePlaceholderSize: !1,
            forceHelperSize: !1,
            grid: !1,
            handle: !1,
            helper: "original",
            items: "> *",
            opacity: !1,
            placeholder: !1,
            revert: !1,
            scroll: !0,
            scrollSensitivity: 20,
            scrollSpeed: 20,
            scope: "default",
            tolerance: "intersect",
            zIndex: 1E3,
            activate: null,
            beforeStop: null,
            change: null,
            deactivate: null,
            out: null,
            over: null,
            receive: null,
            remove: null,
            sort: null,
            start: null,
            stop: null,
            update: null
        },
        _isOverAxis: function(a, e, k) {
            return a >= e && e + k > a
        },
        _isFloating: function(a) {
            return /left|right/.test(a.css("float")) || /inline|table-cell/.test(a.css("display"))
        },
        _create: function() {
            this.containerCache = {};
            this.element.addClass("ui-sortable");
            this.refresh();
            this.offset = this.element.offset();
            this._mouseInit();
            this._setHandleClassName();
            this.ready = !0
        },
        _setOption: function(a, e) {
            this._super(a, e);
            "handle" === a && this._setHandleClassName()
        },
        _setHandleClassName: function() {
            this.element.find(".ui-sortable-handle").removeClass("ui-sortable-handle");
            d.each(this.items, function() {
                (this.instance.options.handle ? this.item.find(this.instance.options.handle) : this.item).addClass("ui-sortable-handle")
            })
        },
        _destroy: function() {
            this.element.removeClass("ui-sortable ui-sortable-disabled").find(".ui-sortable-handle").removeClass("ui-sortable-handle");
            this._mouseDestroy();
            for (var a = this.items.length - 1; 0 <= a; a--) this.items[a].item.removeData(this.widgetName + "-item");
            return this
        },
        _mouseCapture: function(a, e) {
            var c = null,
                b = !1,
                f = this;
            return this.reverting ? !1 : this.options.disabled || "static" === this.options.type ? !1 : (this._refreshItems(a), d(a.target).parents().each(function() {
                return d.data(this, f.widgetName + "-item") ===
                    f ? (c = d(this), !1) : void 0
            }), d.data(a.target, f.widgetName + "-item") === f && (c = d(a.target)), c ? !this.options.handle || e || (d(this.options.handle, c).find("*").addBack().each(function() {
                this === a.target && (b = !0)
            }), b) ? (this.currentItem = c, this._removeCurrentsFromItems(), !0) : !1 : !1)
        },
        _mouseStart: function(a, e, k) {
            var c;
            e = this.options;
            if (this.currentContainer = this, this.refreshPositions(), this.helper = this._createHelper(a), this._cacheHelperProportions(), this._cacheMargins(), this.scrollParent = this.helper.scrollParent(),
                this.offset = this.currentItem.offset(), this.offset = {
                    top: this.offset.top - this.margins.top,
                    left: this.offset.left - this.margins.left
                }, d.extend(this.offset, {
                    click: {
                        left: a.pageX - this.offset.left,
                        top: a.pageY - this.offset.top
                    },
                    parent: this._getParentOffset(),
                    relative: this._getRelativeOffset()
                }), this.helper.css("position", "absolute"), this.cssPosition = this.helper.css("position"), this.originalPosition = this._generatePosition(a), this.originalPageX = a.pageX, this.originalPageY = a.pageY, e.cursorAt && this._adjustOffsetFromHelper(e.cursorAt),
                this.domPosition = {
                    prev: this.currentItem.prev()[0],
                    parent: this.currentItem.parent()[0]
                }, this.helper[0] !== this.currentItem[0] && this.currentItem.hide(), this._createPlaceholder(), e.containment && this._setContainment(), e.cursor && "auto" !== e.cursor && (c = this.document.find("body"), this.storedCursor = c.css("cursor"), c.css("cursor", e.cursor), this.storedStylesheet = d("<style>*{ cursor: " + e.cursor + " !important; }</style>").appendTo(c)), e.opacity && (this.helper.css("opacity") && (this._storedOpacity = this.helper.css("opacity")),
                    this.helper.css("opacity", e.opacity)), e.zIndex && (this.helper.css("zIndex") && (this._storedZIndex = this.helper.css("zIndex")), this.helper.css("zIndex", e.zIndex)), this.scrollParent[0] !== this.document[0] && "HTML" !== this.scrollParent[0].tagName && (this.overflowOffset = this.scrollParent.offset()), this._trigger("start", a, this._uiHash()), this._preserveHelperProportions || this._cacheHelperProportions(), !k)
                for (k = this.containers.length - 1; 0 <= k; k--) this.containers[k]._trigger("activate", a, this._uiHash(this));
            return d.ui.ddmanager &&
                (d.ui.ddmanager.current = this), d.ui.ddmanager && !e.dropBehaviour && d.ui.ddmanager.prepareOffsets(this, a), this.dragging = !0, this.helper.addClass("ui-sortable-helper"), this._mouseDrag(a), !0
        },
        _mouseDrag: function(a) {
            var c, k, b;
            var f = this.options;
            var g = !1;
            this.position = this._generatePosition(a);
            this.positionAbs = this._convertPositionTo("absolute");
            this.lastPositionAbs || (this.lastPositionAbs = this.positionAbs);
            this.options.scroll && (this.scrollParent[0] !== this.document[0] && "HTML" !== this.scrollParent[0].tagName ?
                (this.overflowOffset.top + this.scrollParent[0].offsetHeight - a.pageY < f.scrollSensitivity ? this.scrollParent[0].scrollTop = g = this.scrollParent[0].scrollTop + f.scrollSpeed : a.pageY - this.overflowOffset.top < f.scrollSensitivity && (this.scrollParent[0].scrollTop = g = this.scrollParent[0].scrollTop - f.scrollSpeed), this.overflowOffset.left + this.scrollParent[0].offsetWidth - a.pageX < f.scrollSensitivity ? this.scrollParent[0].scrollLeft = g = this.scrollParent[0].scrollLeft + f.scrollSpeed : a.pageX - this.overflowOffset.left < f.scrollSensitivity &&
                    (this.scrollParent[0].scrollLeft = g = this.scrollParent[0].scrollLeft - f.scrollSpeed)) : (a.pageY - this.document.scrollTop() < f.scrollSensitivity ? g = this.document.scrollTop(this.document.scrollTop() - f.scrollSpeed) : this.window.height() - (a.pageY - this.document.scrollTop()) < f.scrollSensitivity && (g = this.document.scrollTop(this.document.scrollTop() + f.scrollSpeed)), a.pageX - this.document.scrollLeft() < f.scrollSensitivity ? g = this.document.scrollLeft(this.document.scrollLeft() - f.scrollSpeed) : this.window.width() - (a.pageX -
                    this.document.scrollLeft()) < f.scrollSensitivity && (g = this.document.scrollLeft(this.document.scrollLeft() + f.scrollSpeed))), !1 !== g && d.ui.ddmanager && !f.dropBehaviour && d.ui.ddmanager.prepareOffsets(this, a));
            this.positionAbs = this._convertPositionTo("absolute");
            this.options.axis && "y" === this.options.axis || (this.helper[0].style.left = this.position.left + "px");
            this.options.axis && "x" === this.options.axis || (this.helper[0].style.top = this.position.top + "px");
            for (f = this.items.length - 1; 0 <= f; f--)
                if (c = this.items[f], k =
                    c.item[0], b = this._intersectsWithPointer(c), b && c.instance === this.currentContainer && k !== this.currentItem[0] && this.placeholder[1 === b ? "next" : "prev"]()[0] !== k && !d.contains(this.placeholder[0], k) && ("semi-dynamic" === this.options.type ? !d.contains(this.element[0], k) : !0)) {
                    if (this.direction = 1 === b ? "down" : "up", "pointer" !== this.options.tolerance && !this._intersectsWithSides(c)) break;
                    this._rearrange(a, c);
                    this._trigger("change", a, this._uiHash());
                    break
                } return this._contactContainers(a), d.ui.ddmanager && d.ui.ddmanager.drag(this,
                a), this._trigger("sort", a, this._uiHash()), this.lastPositionAbs = this.positionAbs, !1
        },
        _mouseStop: function(a, e) {
            if (a) {
                if (d.ui.ddmanager && !this.options.dropBehaviour && d.ui.ddmanager.drop(this, a), this.options.revert) {
                    var c = this;
                    e = this.placeholder.offset();
                    var b = this.options.axis,
                        f = {};
                    b && "x" !== b || (f.left = e.left - this.offset.parent.left - this.margins.left + (this.offsetParent[0] === this.document[0].body ? 0 : this.offsetParent[0].scrollLeft));
                    b && "y" !== b || (f.top = e.top - this.offset.parent.top - this.margins.top + (this.offsetParent[0] ===
                        this.document[0].body ? 0 : this.offsetParent[0].scrollTop));
                    this.reverting = !0;
                    d(this.helper).animate(f, parseInt(this.options.revert, 10) || 500, function() {
                        c._clear(a)
                    })
                } else this._clear(a, e);
                return !1
            }
        },
        cancel: function() {
            if (this.dragging) {
                this._mouseUp({
                    target: null
                });
                "original" === this.options.helper ? this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper") : this.currentItem.show();
                for (var a = this.containers.length - 1; 0 <= a; a--) this.containers[a]._trigger("deactivate", null, this._uiHash(this)), this.containers[a].containerCache.over &&
                    (this.containers[a]._trigger("out", null, this._uiHash(this)), this.containers[a].containerCache.over = 0)
            }
            return this.placeholder && (this.placeholder[0].parentNode && this.placeholder[0].parentNode.removeChild(this.placeholder[0]), "original" !== this.options.helper && this.helper && this.helper[0].parentNode && this.helper.remove(), d.extend(this, {
                    helper: null,
                    dragging: !1,
                    reverting: !1,
                    _noFinalSort: null
                }), this.domPosition.prev ? d(this.domPosition.prev).after(this.currentItem) : d(this.domPosition.parent).prepend(this.currentItem)),
                this
        },
        serialize: function(a) {
            var c = this._getItemsAsjQuery(a && a.connected),
                k = [];
            return a = a || {}, d(c).each(function() {
                var c = (d(a.item || this).attr(a.attribute || "id") || "").match(a.expression || /(.+)[\-=_](.+)/);
                c && k.push((a.key || c[1] + "[]") + "=" + (a.key && a.expression ? c[1] : c[2]))
            }), !k.length && a.key && k.push(a.key + "="), k.join("&")
        },
        toArray: function(a) {
            var c = this._getItemsAsjQuery(a && a.connected),
                k = [];
            return a = a || {}, c.each(function() {
                k.push(d(a.item || this).attr(a.attribute || "id") || "")
            }), k
        },
        _intersectsWith: function(a) {
            var c =
                this.positionAbs.left,
                k = c + this.helperProportions.width,
                d = this.positionAbs.top,
                b = d + this.helperProportions.height,
                f = a.left,
                g = f + a.width,
                h = a.top,
                r = h + a.height,
                u = this.offset.click.top,
                t = this.offset.click.left;
            u = "x" === this.options.axis || d + u > h && r > d + u;
            t = "y" === this.options.axis || c + t > f && g > c + t;
            return "pointer" === this.options.tolerance || this.options.forcePointerForContainers || "pointer" !== this.options.tolerance && this.helperProportions[this.floating ? "width" : "height"] > a[this.floating ? "width" : "height"] ? u && t : c + this.helperProportions.width /
                2 > f && g > k - this.helperProportions.width / 2 && d + this.helperProportions.height / 2 > h && r > b - this.helperProportions.height / 2
        },
        _intersectsWithPointer: function(a) {
            var c = "x" === this.options.axis || this._isOverAxis(this.positionAbs.top + this.offset.click.top, a.top, a.height);
            a = "y" === this.options.axis || this._isOverAxis(this.positionAbs.left + this.offset.click.left, a.left, a.width);
            c = c && a;
            a = this._getDragVerticalDirection();
            var k = this._getDragHorizontalDirection();
            return c ? this.floating ? k && "right" === k || "down" === a ? 2 : 1 : a &&
                ("down" === a ? 2 : 1) : !1
        },
        _intersectsWithSides: function(a) {
            var c = this._isOverAxis(this.positionAbs.top + this.offset.click.top, a.top + a.height / 2, a.height);
            a = this._isOverAxis(this.positionAbs.left + this.offset.click.left, a.left + a.width / 2, a.width);
            var k = this._getDragVerticalDirection(),
                d = this._getDragHorizontalDirection();
            return this.floating && d ? "right" === d && a || "left" === d && !a : k && ("down" === k && c || "up" === k && !c)
        },
        _getDragVerticalDirection: function() {
            var a = this.positionAbs.top - this.lastPositionAbs.top;
            return 0 !==
                a && (0 < a ? "down" : "up")
        },
        _getDragHorizontalDirection: function() {
            var a = this.positionAbs.left - this.lastPositionAbs.left;
            return 0 !== a && (0 < a ? "right" : "left")
        },
        refresh: function(a) {
            return this._refreshItems(a), this._setHandleClassName(), this.refreshPositions(), this
        },
        _connectWith: function() {
            var a = this.options;
            return a.connectWith.constructor === String ? [a.connectWith] : a.connectWith
        },
        _getItemsAsjQuery: function(a) {
            function c() {
                f.push(this)
            }
            var k, b, f = [],
                g = [],
                h = this._connectWith();
            if (h && a)
                for (a = h.length - 1; 0 <= a; a--) {
                    var p =
                        d(h[a], this.document[0]);
                    for (k = p.length - 1; 0 <= k; k--)(b = d.data(p[k], this.widgetFullName)) && b !== this && !b.options.disabled && g.push([d.isFunction(b.options.items) ? b.options.items.call(b.element) : d(b.options.items, b.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"), b])
                }
            g.push([d.isFunction(this.options.items) ? this.options.items.call(this.element, null, {
                    options: this.options,
                    item: this.currentItem
                }) : d(this.options.items, this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),
                this
            ]);
            for (a = g.length - 1; 0 <= a; a--) g[a][0].each(c);
            return d(f)
        },
        _removeCurrentsFromItems: function() {
            var a = this.currentItem.find(":data(" + this.widgetName + "-item)");
            this.items = d.grep(this.items, function(c) {
                for (var e = 0; a.length > e; e++)
                    if (a[e] === c.item[0]) return !1;
                return !0
            })
        },
        _refreshItems: function(a) {
            this.items = [];
            this.containers = [this];
            var c, k, b, f, g = this.items,
                h = [
                    [d.isFunction(this.options.items) ? this.options.items.call(this.element[0], a, {
                        item: this.currentItem
                    }) : d(this.options.items, this.element), this]
                ];
            if ((f = this._connectWith()) && this.ready)
                for (c = f.length - 1; 0 <= c; c--) {
                    var p = d(f[c], this.document[0]);
                    for (k = p.length - 1; 0 <= k; k--)(b = d.data(p[k], this.widgetFullName)) && b !== this && !b.options.disabled && (h.push([d.isFunction(b.options.items) ? b.options.items.call(b.element[0], a, {
                        item: this.currentItem
                    }) : d(b.options.items, b.element), b]), this.containers.push(b))
                }
            for (c = h.length - 1; 0 <= c; c--)
                for (a = h[c][1], p = h[c][0], k = 0, f = p.length; f > k; k++) b = d(p[k]), b.data(this.widgetName + "-item", a), g.push({
                    item: b,
                    instance: a,
                    width: 0,
                    height: 0,
                    left: 0,
                    top: 0
                })
        },
        refreshPositions: function(a) {
            this.floating = this.items.length ? "x" === this.options.axis || this._isFloating(this.items[0].item) : !1;
            this.offsetParent && this.helper && (this.offset.parent = this._getParentOffset());
            var c, k, b;
            for (c = this.items.length - 1; 0 <= c; c--) {
                var f = this.items[c];
                f.instance !== this.currentContainer && this.currentContainer && f.item[0] !== this.currentItem[0] || (k = this.options.toleranceElement ? d(this.options.toleranceElement, f.item) : f.item, a || (f.width = k.outerWidth(), f.height =
                    k.outerHeight()), b = k.offset(), f.left = b.left, f.top = b.top)
            }
            if (this.options.custom && this.options.custom.refreshContainers) this.options.custom.refreshContainers.call(this);
            else
                for (c = this.containers.length - 1; 0 <= c; c--) b = this.containers[c].element.offset(), this.containers[c].containerCache.left = b.left, this.containers[c].containerCache.top = b.top, this.containers[c].containerCache.width = this.containers[c].element.outerWidth(), this.containers[c].containerCache.height = this.containers[c].element.outerHeight();
            return this
        },
        _createPlaceholder: function(a) {
            a = a || this;
            var c, k = a.options;
            k.placeholder && k.placeholder.constructor !== String || (c = k.placeholder, k.placeholder = {
                element: function() {
                    var e = a.currentItem[0].nodeName.toLowerCase(),
                        k = d("<" + e + ">", a.document[0]).addClass(c || a.currentItem[0].className + " ui-sortable-placeholder").removeClass("ui-sortable-helper");
                    return "tbody" === e ? a._createTrPlaceholder(a.currentItem.find("tr").eq(0), d("<tr>", a.document[0]).appendTo(k)) : "tr" === e ? a._createTrPlaceholder(a.currentItem,
                        k) : "img" === e && k.attr("src", a.currentItem.attr("src")), c || k.css("visibility", "hidden"), k
                },
                update: function(e, b) {
                    (!c || k.forcePlaceholderSize) && (b.height() || b.height(a.currentItem.innerHeight() - parseInt(a.currentItem.css("paddingTop") || 0, 10) - parseInt(a.currentItem.css("paddingBottom") || 0, 10)), b.width() || b.width(a.currentItem.innerWidth() - parseInt(a.currentItem.css("paddingLeft") || 0, 10) - parseInt(a.currentItem.css("paddingRight") || 0, 10)))
                }
            });
            a.placeholder = d(k.placeholder.element.call(a.element, a.currentItem));
            a.currentItem.after(a.placeholder);
            k.placeholder.update(a, a.placeholder)
        },
        _createTrPlaceholder: function(a, e) {
            var c = this;
            a.children().each(function() {
                d("<td>&#160;</td>", c.document[0]).attr("colspan", d(this).attr("colspan") || 1).appendTo(e)
            })
        },
        _contactContainers: function(a) {
            var c, k, b, f, g, h = b = null;
            for (c = this.containers.length - 1; 0 <= c; c--) d.contains(this.currentItem[0], this.containers[c].element[0]) || (this._intersectsWith(this.containers[c].containerCache) ? b && d.contains(this.containers[c].element[0], b.element[0]) ||
                (b = this.containers[c], h = c) : this.containers[c].containerCache.over && (this.containers[c]._trigger("out", a, this._uiHash(this)), this.containers[c].containerCache.over = 0));
            if (b)
                if (1 === this.containers.length) this.containers[h].containerCache.over || (this.containers[h]._trigger("over", a, this._uiHash(this)), this.containers[h].containerCache.over = 1);
                else {
                    c = 1E4;
                    var p = null;
                    b = (k = b.floating || this._isFloating(this.currentItem)) ? "left" : "top";
                    var r = k ? "width" : "height";
                    var u = k ? "clientX" : "clientY";
                    for (k = this.items.length -
                        1; 0 <= k; k--) d.contains(this.containers[h].element[0], this.items[k].item[0]) && this.items[k].item[0] !== this.currentItem[0] && (f = this.items[k].item.offset()[b], g = !1, a[u] - f > this.items[k][r] / 2 && (g = !0), c > Math.abs(a[u] - f) && (c = Math.abs(a[u] - f), p = this.items[k], this.direction = g ? "up" : "down"));
                    if (p || this.options.dropOnEmpty) {
                        if (this.currentContainer === this.containers[h]) return this.currentContainer.containerCache.over || (this.containers[h]._trigger("over", a, this._uiHash()), this.currentContainer.containerCache.over =
                            1), void 0;
                        p ? this._rearrange(a, p, null, !0) : this._rearrange(a, null, this.containers[h].element, !0);
                        this._trigger("change", a, this._uiHash());
                        this.containers[h]._trigger("change", a, this._uiHash(this));
                        this.currentContainer = this.containers[h];
                        this.options.placeholder.update(this.currentContainer, this.placeholder);
                        this.containers[h]._trigger("over", a, this._uiHash(this));
                        this.containers[h].containerCache.over = 1
                    }
                }
        },
        _createHelper: function(a) {
            var c = this.options;
            a = d.isFunction(c.helper) ? d(c.helper.apply(this.element[0],
                [a, this.currentItem])) : "clone" === c.helper ? this.currentItem.clone() : this.currentItem;
            return a.parents("body").length || d("parent" !== c.appendTo ? c.appendTo : this.currentItem[0].parentNode)[0].appendChild(a[0]), a[0] === this.currentItem[0] && (this._storedCSS = {
                    width: this.currentItem[0].style.width,
                    height: this.currentItem[0].style.height,
                    position: this.currentItem.css("position"),
                    top: this.currentItem.css("top"),
                    left: this.currentItem.css("left")
                }), (!a[0].style.width || c.forceHelperSize) && a.width(this.currentItem.width()),
                (!a[0].style.height || c.forceHelperSize) && a.height(this.currentItem.height()), a
        },
        _adjustOffsetFromHelper: function(a) {
            "string" == typeof a && (a = a.split(" "));
            d.isArray(a) && (a = {
                left: +a[0],
                top: +a[1] || 0
            });
            "left" in a && (this.offset.click.left = a.left + this.margins.left);
            "right" in a && (this.offset.click.left = this.helperProportions.width - a.right + this.margins.left);
            "top" in a && (this.offset.click.top = a.top + this.margins.top);
            "bottom" in a && (this.offset.click.top = this.helperProportions.height - a.bottom + this.margins.top)
        },
        _getParentOffset: function() {
            this.offsetParent = this.helper.offsetParent();
            var a = this.offsetParent.offset();
            return "absolute" === this.cssPosition && this.scrollParent[0] !== this.document[0] && d.contains(this.scrollParent[0], this.offsetParent[0]) && (a.left += this.scrollParent.scrollLeft(), a.top += this.scrollParent.scrollTop()), (this.offsetParent[0] === this.document[0].body || this.offsetParent[0].tagName && "html" === this.offsetParent[0].tagName.toLowerCase() && d.ui.ie) && (a = {
                top: 0,
                left: 0
            }), {
                top: a.top + (parseInt(this.offsetParent.css("borderTopWidth"),
                    10) || 0),
                left: a.left + (parseInt(this.offsetParent.css("borderLeftWidth"), 10) || 0)
            }
        },
        _getRelativeOffset: function() {
            if ("relative" === this.cssPosition) {
                var a = this.currentItem.position();
                return {
                    top: a.top - (parseInt(this.helper.css("top"), 10) || 0) + this.scrollParent.scrollTop(),
                    left: a.left - (parseInt(this.helper.css("left"), 10) || 0) + this.scrollParent.scrollLeft()
                }
            }
            return {
                top: 0,
                left: 0
            }
        },
        _cacheMargins: function() {
            this.margins = {
                left: parseInt(this.currentItem.css("marginLeft"), 10) || 0,
                top: parseInt(this.currentItem.css("marginTop"),
                    10) || 0
            }
        },
        _cacheHelperProportions: function() {
            this.helperProportions = {
                width: this.helper.outerWidth(),
                height: this.helper.outerHeight()
            }
        },
        _setContainment: function() {
            var a, e, k, b = this.options;
            "parent" === b.containment && (b.containment = this.helper[0].parentNode);
            "document" !== b.containment && "window" !== b.containment || (this.containment = [0 - this.offset.relative.left - this.offset.parent.left, 0 - this.offset.relative.top - this.offset.parent.top, "document" === b.containment ? this.document.width() : this.window.width() - this.helperProportions.width -
                this.margins.left, ("document" === b.containment ? this.document.width() : this.window.height() || this.document[0].body.parentNode.scrollHeight) - this.helperProportions.height - this.margins.top
            ]);
            /^(document|window|parent)$/.test(b.containment) || (a = d(b.containment)[0], e = d(b.containment).offset(), k = "hidden" !== d(a).css("overflow"), this.containment = [e.left + (parseInt(d(a).css("borderLeftWidth"), 10) || 0) + (parseInt(d(a).css("paddingLeft"), 10) || 0) - this.margins.left, e.top + (parseInt(d(a).css("borderTopWidth"), 10) || 0) +
                (parseInt(d(a).css("paddingTop"), 10) || 0) - this.margins.top, e.left + (k ? Math.max(a.scrollWidth, a.offsetWidth) : a.offsetWidth) - (parseInt(d(a).css("borderLeftWidth"), 10) || 0) - (parseInt(d(a).css("paddingRight"), 10) || 0) - this.helperProportions.width - this.margins.left, e.top + (k ? Math.max(a.scrollHeight, a.offsetHeight) : a.offsetHeight) - (parseInt(d(a).css("borderTopWidth"), 10) || 0) - (parseInt(d(a).css("paddingBottom"), 10) || 0) - this.helperProportions.height - this.margins.top
            ])
        },
        _convertPositionTo: function(a, e) {
            e || (e = this.position);
            a = "absolute" === a ? 1 : -1;
            var c = "absolute" !== this.cssPosition || this.scrollParent[0] !== this.document[0] && d.contains(this.scrollParent[0], this.offsetParent[0]) ? this.scrollParent : this.offsetParent,
                b = /(html|body)/i.test(c[0].tagName);
            return {
                top: e.top + this.offset.relative.top * a + this.offset.parent.top * a - ("fixed" === this.cssPosition ? -this.scrollParent.scrollTop() : b ? 0 : c.scrollTop()) * a,
                left: e.left + this.offset.relative.left * a + this.offset.parent.left * a - ("fixed" === this.cssPosition ? -this.scrollParent.scrollLeft() :
                    b ? 0 : c.scrollLeft()) * a
            }
        },
        _generatePosition: function(a) {
            var c, k, b = this.options,
                f = a.pageX,
                g = a.pageY,
                h = "absolute" !== this.cssPosition || this.scrollParent[0] !== this.document[0] && d.contains(this.scrollParent[0], this.offsetParent[0]) ? this.scrollParent : this.offsetParent,
                p = /(html|body)/i.test(h[0].tagName);
            return "relative" !== this.cssPosition || this.scrollParent[0] !== this.document[0] && this.scrollParent[0] !== this.offsetParent[0] || (this.offset.relative = this._getRelativeOffset()), this.originalPosition && (this.containment &&
                (a.pageX - this.offset.click.left < this.containment[0] && (f = this.containment[0] + this.offset.click.left), a.pageY - this.offset.click.top < this.containment[1] && (g = this.containment[1] + this.offset.click.top), a.pageX - this.offset.click.left > this.containment[2] && (f = this.containment[2] + this.offset.click.left), a.pageY - this.offset.click.top > this.containment[3] && (g = this.containment[3] + this.offset.click.top)), b.grid && (c = this.originalPageY + Math.round((g - this.originalPageY) / b.grid[1]) * b.grid[1], g = this.containment ? c - this.offset.click.top >=
                    this.containment[1] && c - this.offset.click.top <= this.containment[3] ? c : c - this.offset.click.top >= this.containment[1] ? c - b.grid[1] : c + b.grid[1] : c, k = this.originalPageX + Math.round((f - this.originalPageX) / b.grid[0]) * b.grid[0], f = this.containment ? k - this.offset.click.left >= this.containment[0] && k - this.offset.click.left <= this.containment[2] ? k : k - this.offset.click.left >= this.containment[0] ? k - b.grid[0] : k + b.grid[0] : k)), {
                top: g - this.offset.click.top - this.offset.relative.top - this.offset.parent.top + ("fixed" === this.cssPosition ?
                    -this.scrollParent.scrollTop() : p ? 0 : h.scrollTop()),
                left: f - this.offset.click.left - this.offset.relative.left - this.offset.parent.left + ("fixed" === this.cssPosition ? -this.scrollParent.scrollLeft() : p ? 0 : h.scrollLeft())
            }
        },
        _rearrange: function(a, e, k, b) {
            k ? k[0].appendChild(this.placeholder[0]) : e.item[0].parentNode.insertBefore(this.placeholder[0], "down" === this.direction ? e.item[0] : e.item[0].nextSibling);
            var c = this.counter = this.counter ? ++this.counter : 1;
            this._delay(function() {
                c === this.counter && this.refreshPositions(!b)
            })
        },
        _clear: function(a, e) {
            function c(a, c, e) {
                return function(k) {
                    e._trigger(a, k, c._uiHash(c))
                }
            }
            this.reverting = !1;
            var b, d = [];
            if (!this._noFinalSort && this.currentItem.parent().length && this.placeholder.before(this.currentItem), this._noFinalSort = null, this.helper[0] === this.currentItem[0]) {
                for (b in this._storedCSS) "auto" !== this._storedCSS[b] && "static" !== this._storedCSS[b] || (this._storedCSS[b] = "");
                this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")
            } else this.currentItem.show();
            this.fromOutside &&
                !e && d.push(function(a) {
                    this._trigger("receive", a, this._uiHash(this.fromOutside))
                });
            !this.fromOutside && this.domPosition.prev === this.currentItem.prev().not(".ui-sortable-helper")[0] && this.domPosition.parent === this.currentItem.parent()[0] || e || d.push(function(a) {
                this._trigger("update", a, this._uiHash())
            });
            this !== this.currentContainer && (e || (d.push(function(a) {
                    this._trigger("remove", a, this._uiHash())
                }), d.push(function(a) {
                    return function(c) {
                        a._trigger("receive", c, this._uiHash(this))
                    }
                }.call(this, this.currentContainer)),
                d.push(function(a) {
                    return function(c) {
                        a._trigger("update", c, this._uiHash(this))
                    }
                }.call(this, this.currentContainer))));
            for (b = this.containers.length - 1; 0 <= b; b--) e || d.push(c("deactivate", this, this.containers[b])), this.containers[b].containerCache.over && (d.push(c("out", this, this.containers[b])), this.containers[b].containerCache.over = 0);
            if (this.storedCursor && (this.document.find("body").css("cursor", this.storedCursor), this.storedStylesheet.remove()), this._storedOpacity && this.helper.css("opacity", this._storedOpacity),
                this._storedZIndex && this.helper.css("zIndex", "auto" === this._storedZIndex ? "" : this._storedZIndex), this.dragging = !1, e || this._trigger("beforeStop", a, this._uiHash()), this.placeholder[0].parentNode.removeChild(this.placeholder[0]), this.cancelHelperRemoval || (this.helper[0] !== this.currentItem[0] && this.helper.remove(), this.helper = null), !e) {
                for (b = 0; d.length > b; b++) d[b].call(this, a);
                this._trigger("stop", a, this._uiHash())
            }
            return this.fromOutside = !1, !this.cancelHelperRemoval
        },
        _trigger: function() {
            !1 === d.Widget.prototype._trigger.apply(this,
                arguments) && this.cancel()
        },
        _uiHash: function(a) {
            var c = a || this;
            return {
                helper: c.helper,
                placeholder: c.placeholder || d([]),
                position: c.position,
                originalPosition: c.originalPosition,
                offset: c.positionAbs,
                item: c.currentItem,
                sender: a ? a.element : null
            }
        }
    })
});
(function(d) {
    "function" === typeof define && define.amd ? define(["jquery"], d) : d("undefined" != typeof jQuery ? jQuery : window.Zepto)
})(function(d) {
    function b(a) {
        var c = a.data;
        a.isDefaultPrevented() || (a.preventDefault(), d(a.target).ajaxSubmit(c))
    }

    function h(a) {
        var c = a.target,
            e = d(c);
        if (!e.is("[type=submit],[type=image]")) {
            c = e.closest("[type=submit]");
            if (0 === c.length) return;
            c = c[0]
        }
        var b = this;
        b.clk = c;
        "image" == c.type && (void 0 !== a.offsetX ? (b.clk_x = a.offsetX, b.clk_y = a.offsetY) : "function" == typeof d.fn.offset ? (e = e.offset(),
            b.clk_x = a.pageX - e.left, b.clk_y = a.pageY - e.top) : (b.clk_x = a.pageX - c.offsetLeft, b.clk_y = a.pageY - c.offsetTop));
        setTimeout(function() {
            b.clk = b.clk_x = b.clk_y = null
        }, 100)
    }

    function g() {
        if (d.fn.ajaxSubmit.debug) {
            var a = "[jquery.form] " + Array.prototype.join.call(arguments, "");
            window.console && window.console.log ? window.console.log(a) : window.opera && window.opera.postError && window.opera.postError(a)
        }
    }
    var f = void 0 !== d("<input type='file'/>").get(0).files;
    var a = void 0 !== window.FormData;
    var c = !!d.fn.prop;
    d.fn.attr2 = function() {
        if (!c) return this.attr.apply(this,
            arguments);
        var a = this.prop.apply(this, arguments);
        return a && a.jquery || "string" === typeof a ? a : this.attr.apply(this, arguments)
    };
    d.fn.ajaxSubmit = function(e) {
        function k(a) {
            a = d.param(a, e.traditional).split("&");
            var c = a.length,
                k = [],
                b;
            for (b = 0; b < c; b++) {
                a[b] = a[b].replace(/\+/g, " ");
                var l = a[b].split("=");
                k.push([decodeURIComponent(l[0]), decodeURIComponent(l[1])])
            }
            return k
        }

        function b(a) {
            for (var c = new FormData, b = 0; b < a.length; b++) c.append(a[b].name, a[b].value);
            if (e.extraData)
                for (a = k(e.extraData), b = 0; b < a.length; b++) a[b] &&
                    c.append(a[b][0], a[b][1]);
            e.data = null;
            b = d.extend(!0, {}, d.ajaxSettings, e, {
                contentType: !1,
                processData: !1,
                cache: !1,
                type: h || "POST"
            });
            e.uploadProgress && (b.xhr = function() {
                var a = d.ajaxSettings.xhr();
                a.upload && a.upload.addEventListener("progress", function(a) {
                    var c = 0,
                        k = a.loaded || a.position,
                        b = a.total;
                    a.lengthComputable && (c = Math.ceil(k / b * 100));
                    e.uploadProgress(a, k, b, c)
                }, !1);
                return a
            });
            b.data = null;
            var l = b.beforeSend;
            b.beforeSend = function(a, k) {
                k.data = e.formData ? e.formData : c;
                l && l.call(this, a, k)
            };
            return d.ajax(b)
        }

        function m(a) {
            function k(a) {
                var c = null;
                try {
                    a.contentWindow && (c = a.contentWindow.document)
                } catch (ba) {
                    g("cannot get iframe.contentWindow document: " + ba)
                }
                if (c) return c;
                try {
                    c = a.contentDocument ? a.contentDocument : a.document
                } catch (ba) {
                    g("cannot get iframe.contentDocument: " + ba), c = a.document
                }
                return c
            }

            function b() {
                function a() {
                    try {
                        var c = k(y).readyState;
                        g("state = " + c);
                        c && "uninitialized" == c.toLowerCase() && setTimeout(a, 50)
                    } catch (ca) {
                        g("Server abort: ", ca, " (", ca.name, ")"), l(2), r && clearTimeout(r), r = void 0
                    }
                }
                var c =
                    q.attr2("target"),
                    e = q.attr2("action"),
                    b = q.attr("enctype") || q.attr("encoding") || "multipart/form-data";
                f.setAttribute("target", w);
                h && !/post/i.test(h) || f.setAttribute("method", "POST");
                e != v.url && f.setAttribute("action", v.url);
                v.skipEncodingOverride || h && !/post/i.test(h) || q.attr({
                    encoding: "multipart/form-data",
                    enctype: "multipart/form-data"
                });
                v.timeout && (r = setTimeout(function() {
                    p = !0;
                    l(1)
                }, v.timeout));
                var m = [];
                try {
                    if (v.extraData)
                        for (var n in v.extraData) v.extraData.hasOwnProperty(n) && (d.isPlainObject(v.extraData[n]) &&
                            v.extraData[n].hasOwnProperty("name") && v.extraData[n].hasOwnProperty("value") ? m.push(d('<input type="hidden" name="' + v.extraData[n].name + '">').val(v.extraData[n].value).appendTo(f)[0]) : m.push(d('<input type="hidden" name="' + n + '">').val(v.extraData[n]).appendTo(f)[0]));
                    v.iframeTarget || x.appendTo("body");
                    y.attachEvent ? y.attachEvent("onload", l) : y.addEventListener("load", l, !1);
                    setTimeout(a, 15);
                    try {
                        f.submit()
                    } catch (ia) {
                        document.createElement("form").submit.apply(f)
                    }
                } finally {
                    f.setAttribute("action", e),
                        f.setAttribute("enctype", b), c ? f.setAttribute("target", c) : q.removeAttr("target"), d(m).remove()
                }
            }

            function l(a) {
                if (!z.aborted && !T)
                    if (A = k(y), A || (g("cannot access response document"), a = 2), 1 === a && z) z.abort("timeout"), t.reject(z, "timeout");
                    else if (2 == a && z) z.abort("server abort"), t.reject(z, "error", "server abort");
                else if (A && A.location.href != v.iframeSrc || p) {
                    y.detachEvent ? y.detachEvent("onload", l) : y.removeEventListener("load", l, !1);
                    a = "success";
                    var c;
                    try {
                        if (p) throw "timeout";
                        var e = "xml" == v.dataType || A.XMLDocument ||
                            d.isXMLDoc(A);
                        g("isXml=" + e);
                        if (!e && window.opera && (null === A.body || !A.body.innerHTML) && --Q) {
                            g("requeing onLoad callback, DOM not available");
                            setTimeout(l, 250);
                            return
                        }
                        var b = A.body ? A.body : A.documentElement;
                        z.responseText = b ? b.innerHTML : null;
                        z.responseXML = A.XMLDocument ? A.XMLDocument : A;
                        e && (v.dataType = "xml");
                        z.getResponseHeader = function(a) {
                            return {
                                "content-type": v.dataType
                            } [a.toLowerCase()]
                        };
                        b && (z.status = Number(b.getAttribute("status")) || z.status, z.statusText = b.getAttribute("statusText") || z.statusText);
                        var f =
                            (v.dataType || "").toLowerCase(),
                            m = /(json|script|text)/.test(f);
                        if (m || v.textarea) {
                            var q = A.getElementsByTagName("textarea")[0];
                            if (q) z.responseText = q.value, z.status = Number(q.getAttribute("status")) || z.status, z.statusText = q.getAttribute("statusText") || z.statusText;
                            else if (m) {
                                var h = A.getElementsByTagName("pre")[0],
                                    u = A.getElementsByTagName("body")[0];
                                h ? z.responseText = h.textContent ? h.textContent : h.innerText : u && (z.responseText = u.textContent ? u.textContent : u.innerText)
                            }
                        } else "xml" == f && !z.responseXML && z.responseText &&
                            (z.responseXML = V(z.responseText));
                        try {
                            B = W(z, f, v)
                        } catch (ja) {
                            a = "parsererror", z.error = c = ja || a
                        }
                    } catch (ja) {
                        g("error caught: ", ja), a = "error", z.error = c = ja || a
                    }
                    z.aborted && (g("upload aborted"), a = null);
                    z.status && (a = 200 <= z.status && 300 > z.status || 304 === z.status ? "success" : "error");
                    "success" === a ? (v.success && v.success.call(v.context, B, "success", z), t.resolve(z.responseText, "success", z), n && d.event.trigger("ajaxSuccess", [z, v])) : a && (void 0 === c && (c = z.statusText), v.error && v.error.call(v.context, z, a, c), t.reject(z, "error",
                        c), n && d.event.trigger("ajaxError", [z, v, c]));
                    n && d.event.trigger("ajaxComplete", [z, v]);
                    n && !--d.active && d.event.trigger("ajaxStop");
                    v.complete && v.complete.call(v.context, z, a);
                    T = !0;
                    v.timeout && clearTimeout(r);
                    setTimeout(function() {
                        v.iframeTarget ? x.attr("src", v.iframeSrc) : x.remove();
                        z.responseXML = null
                    }, 100)
                }
            }
            var f = q[0],
                m, n, p, r, t = d.Deferred();
            t.abort = function(a) {
                z.abort(a)
            };
            if (a)
                for (m = 0; m < u.length; m++) a = d(u[m]), c ? a.prop("disabled", !1) : a.removeAttr("disabled");
            var v = d.extend(!0, {}, d.ajaxSettings, e);
            v.context =
                v.context || v;
            var w = "jqFormIO" + (new Date).getTime();
            if (v.iframeTarget) {
                var x = d(v.iframeTarget);
                (m = x.attr2("name")) ? w = m: x.attr2("name", w)
            } else x = d('<iframe name="' + w + '" src="' + v.iframeSrc + '" />'), x.css({
                position: "absolute",
                top: "-1000px",
                left: "-1000px"
            });
            var y = x[0];
            var z = {
                aborted: 0,
                responseText: null,
                responseXML: null,
                status: 0,
                statusText: "n/a",
                getAllResponseHeaders: function() {},
                getResponseHeader: function() {},
                setRequestHeader: function() {},
                abort: function(a) {
                    var c = "timeout" === a ? "timeout" : "aborted";
                    g("aborting upload... " +
                        c);
                    this.aborted = 1;
                    try {
                        y.contentWindow.document.execCommand && y.contentWindow.document.execCommand("Stop")
                    } catch (ba) {}
                    x.attr("src", v.iframeSrc);
                    z.error = c;
                    v.error && v.error.call(v.context, z, c, a);
                    n && d.event.trigger("ajaxError", [z, v, c]);
                    v.complete && v.complete.call(v.context, z, c)
                }
            };
            (n = v.global) && 0 === d.active++ && d.event.trigger("ajaxStart");
            n && d.event.trigger("ajaxSend", [z, v]);
            if (v.beforeSend && !1 === v.beforeSend.call(v.context, z, v)) return v.global && d.active--, t.reject(), t;
            if (z.aborted) return t.reject(), t;
            (a = f.clk) && (m = a.name) && !a.disabled && (v.extraData = v.extraData || {}, v.extraData[m] = a.value, "image" == a.type && (v.extraData[m + ".x"] = f.clk_x, v.extraData[m + ".y"] = f.clk_y));
            a = d("meta[name=csrf-token]").attr("content");
            (m = d("meta[name=csrf-param]").attr("content")) && a && (v.extraData = v.extraData || {}, v.extraData[m] = a);
            v.forceSync ? b() : setTimeout(b, 10);
            var B, A, Q = 50,
                T, V = d.parseXML || function(a, c) {
                    window.ActiveXObject ? (c = new ActiveXObject("Microsoft.XMLDOM"), c.async = "false", c.loadXML(a)) : c = (new DOMParser).parseFromString(a,
                        "text/xml");
                    return c && c.documentElement && "parsererror" != c.documentElement.nodeName ? c : null
                },
                U = d.parseJSON || function(a) {
                    return window.eval("(" + a + ")")
                },
                W = function(a, c, e) {
                    var k = a.getResponseHeader("content-type") || "",
                        b = "xml" === c || !c && 0 <= k.indexOf("xml");
                    a = b ? a.responseXML : a.responseText;
                    b && "parsererror" === a.documentElement.nodeName && d.error && d.error("parsererror");
                    e && e.dataFilter && (a = e.dataFilter(a, c));
                    "string" === typeof a && ("json" === c || !c && 0 <= k.indexOf("json") ? a = U(a) : ("script" === c || !c && 0 <= k.indexOf("javascript")) &&
                        d.globalEval(a));
                    return a
                };
            return t
        }
        if (!this.length) return g("ajaxSubmit: skipping submit process - no element selected"), this;
        var q = this;
        "function" == typeof e ? e = {
            success: e
        } : void 0 === e && (e = {});
        var h = e.type || this.attr2("method");
        var p = e.url || this.attr2("action");
        (p = (p = "string" === typeof p ? d.trim(p) : "") || window.location.href || "") && (p = (p.match(/^([^#]+)/) || [])[1]);
        e = d.extend(!0, {
            url: p,
            success: d.ajaxSettings.success,
            type: h || d.ajaxSettings.type,
            iframeSrc: /^https/i.test(window.location.href || "") ? "javascript:false" : "about:blank"
        }, e);
        p = {};
        this.trigger("form-pre-serialize", [this, e, p]);
        if (p.veto) return g("ajaxSubmit: submit vetoed via form-pre-serialize trigger"), this;
        if (e.beforeSerialize && !1 === e.beforeSerialize(this, e)) return g("ajaxSubmit: submit aborted via beforeSerialize callback"), this;
        var r = e.traditional;
        void 0 === r && (r = d.ajaxSettings.traditional);
        var u = [],
            t = this.formToArray(e.semantic, u);
        if (e.data) {
            e.extraData = e.data;
            var v = d.param(e.data, r)
        }
        if (e.beforeSubmit && !1 === e.beforeSubmit(t, this, e)) return g("ajaxSubmit: submit aborted via beforeSubmit callback"),
            this;
        this.trigger("form-submit-validate", [t, this, e, p]);
        if (p.veto) return g("ajaxSubmit: submit vetoed via form-submit-validate trigger"), this;
        p = d.param(t, r);
        v && (p = p ? p + "&" + v : v);
        "GET" == e.type.toUpperCase() ? (e.url += (0 <= e.url.indexOf("?") ? "&" : "?") + p, e.data = null) : e.data = p;
        var w = [];
        e.resetForm && w.push(function() {
            q.resetForm()
        });
        e.clearForm && w.push(function() {
            q.clearForm(e.includeHidden)
        });
        if (!e.dataType && e.target) {
            var x = e.success || function() {};
            w.push(function(a) {
                var c = e.replaceTarget ? "replaceWith" : "html";
                d(e.target)[c](a).each(x, arguments)
            })
        } else e.success && w.push(e.success);
        e.success = function(a, c, k) {
            for (var b = e.context || this, d = 0, l = w.length; d < l; d++) w[d].apply(b, [a, c, k || q, q])
        };
        if (e.error) {
            var y = e.error;
            e.error = function(a, c, k) {
                y.apply(e.context || this, [a, c, k, q])
            }
        }
        if (e.complete) {
            var z = e.complete;
            e.complete = function(a, c) {
                z.apply(e.context || this, [a, c, q])
            }
        }
        v = 0 < d("input[type=file]:enabled", this).filter(function() {
            return "" !== d(this).val()
        }).length;
        p = "multipart/form-data" == q.attr("enctype") || "multipart/form-data" ==
            q.attr("encoding");
        r = f && a;
        g("fileAPI :" + r);
        var B;
        !1 !== e.iframe && (e.iframe || (v || p) && !r) ? e.closeKeepAlive ? d.get(e.closeKeepAlive, function() {
            B = m(t)
        }) : B = m(t) : B = (v || p) && r ? b(t) : d.ajax(e);
        q.removeData("jqxhr").data("jqxhr", B);
        for (v = 0; v < u.length; v++) u[v] = null;
        this.trigger("form-submit-notify", [this, e]);
        return this
    };
    d.fn.ajaxForm = function(a) {
        a = a || {};
        a.delegation = a.delegation && d.isFunction(d.fn.on);
        if (!a.delegation && 0 === this.length) {
            var c = this.selector,
                e = this.context;
            if (!d.isReady && c) return g("DOM not ready, queuing ajaxForm"),
                d(function() {
                    d(c, e).ajaxForm(a)
                }), this;
            g("terminating; zero elements found by selector" + (d.isReady ? "" : " (DOM not ready)"));
            return this
        }
        return a.delegation ? (d(document).off("submit.form-plugin", this.selector, b).off("click.form-plugin", this.selector, h).on("submit.form-plugin", this.selector, a, b).on("click.form-plugin", this.selector, a, h), this) : this.ajaxFormUnbind().bind("submit.form-plugin", a, b).bind("click.form-plugin", a, h)
    };
    d.fn.ajaxFormUnbind = function() {
        return this.unbind("submit.form-plugin click.form-plugin")
    };
    d.fn.formToArray = function(a, c) {
        var e = [];
        if (0 === this.length) return e;
        var k = this[0],
            b = this.attr("id"),
            g = a ? k.getElementsByTagName("*") : k.elements;
        g && !/MSIE [678]/.test(navigator.userAgent) && (g = d(g).get());
        b && (b = d(':input[form="' + b + '"]').get(), b.length && (g = (g || []).concat(b)));
        if (!g || !g.length) return e;
        var h, r;
        var u = 0;
        for (r = g.length; u < r; u++) {
            var t = g[u];
            if ((b = t.name) && !t.disabled)
                if (a && k.clk && "image" == t.type) k.clk == t && (e.push({
                    name: b,
                    value: d(t).val(),
                    type: t.type
                }), e.push({
                    name: b + ".x",
                    value: k.clk_x
                }, {
                    name: b +
                        ".y",
                    value: k.clk_y
                }));
                else if ((h = d.fieldValue(t, !0)) && h.constructor == Array) {
                c && c.push(t);
                var v = 0;
                for (t = h.length; v < t; v++) e.push({
                    name: b,
                    value: h[v]
                })
            } else if (f && "file" == t.type)
                if (c && c.push(t), h = t.files, h.length)
                    for (v = 0; v < h.length; v++) e.push({
                        name: b,
                        value: h[v],
                        type: t.type
                    });
                else e.push({
                    name: b,
                    value: "",
                    type: t.type
                });
            else null !== h && "undefined" != typeof h && (c && c.push(t), e.push({
                name: b,
                value: h,
                type: t.type,
                required: t.required
            }))
        }!a && k.clk && (a = d(k.clk), c = a[0], (b = c.name) && !c.disabled && "image" == c.type && (e.push({
            name: b,
            value: a.val()
        }), e.push({
            name: b + ".x",
            value: k.clk_x
        }, {
            name: b + ".y",
            value: k.clk_y
        })));
        return e
    };
    d.fn.formSerialize = function(a) {
        return d.param(this.formToArray(a))
    };
    d.fn.fieldSerialize = function(a) {
        var c = [];
        this.each(function() {
            var e = this.name;
            if (e) {
                var k = d.fieldValue(this, a);
                if (k && k.constructor == Array)
                    for (var b = 0, f = k.length; b < f; b++) c.push({
                        name: e,
                        value: k[b]
                    });
                else null !== k && "undefined" != typeof k && c.push({
                    name: this.name,
                    value: k
                })
            }
        });
        return d.param(c)
    };
    d.fn.fieldValue = function(a) {
        for (var c = [], e = 0, b = this.length; e <
            b; e++) {
            var f = d.fieldValue(this[e], a);
            null === f || "undefined" == typeof f || f.constructor == Array && !f.length || (f.constructor == Array ? d.merge(c, f) : c.push(f))
        }
        return c
    };
    d.fieldValue = function(a, c) {
        var e = a.name,
            k = a.type,
            b = a.tagName.toLowerCase();
        void 0 === c && (c = !0);
        if (c && (!e || a.disabled || "reset" == k || "button" == k || ("checkbox" == k || "radio" == k) && !a.checked || ("submit" == k || "image" == k) && a.form && a.form.clk != a || "select" == b && -1 == a.selectedIndex)) return null;
        if ("select" == b) {
            b = a.selectedIndex;
            if (0 > b) return null;
            c = [];
            a = a.options;
            e = (k = "select-one" == k) ? b + 1 : a.length;
            for (b = k ? b : 0; b < e; b++) {
                var f = a[b];
                if (f.selected) {
                    var g = f.value;
                    g || (g = f.attributes && f.attributes.value && !f.attributes.value.specified ? f.text : f.value);
                    if (k) return g;
                    c.push(g)
                }
            }
            return c
        }
        return d(a).val()
    };
    d.fn.clearForm = function(a) {
        return this.each(function() {
            d("input,select,textarea", this).clearFields(a)
        })
    };
    d.fn.clearFields = d.fn.clearInputs = function(a) {
        var c = /^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;
        return this.each(function() {
            var e =
                this.type,
                k = this.tagName.toLowerCase();
            c.test(e) || "textarea" == k ? this.value = "" : "checkbox" == e || "radio" == e ? this.checked = !1 : "select" == k ? this.selectedIndex = -1 : "file" == e ? /MSIE/.test(navigator.userAgent) ? d(this).replaceWith(d(this).clone(!0)) : d(this).val("") : a && (!0 === a && /hidden/.test(e) || "string" == typeof a && d(this).is(a)) && (this.value = "")
        })
    };
    d.fn.resetForm = function() {
        return this.each(function() {
            ("function" == typeof this.reset || "object" == typeof this.reset && !this.reset.nodeType) && this.reset()
        })
    };
    d.fn.enable =
        function(a) {
            void 0 === a && (a = !0);
            return this.each(function() {
                this.disabled = !a
            })
        };
    d.fn.selected = function(a) {
        void 0 === a && (a = !0);
        return this.each(function() {
            var c = this.type;
            "checkbox" == c || "radio" == c ? this.checked = a : "option" == this.tagName.toLowerCase() && (c = d(this).parent("select"), a && c[0] && "select-one" == c[0].type && c.find("option").selected(!1), this.selected = a)
        })
    };
    d.fn.ajaxSubmit.debug = !1
});
(function(d) {
    var b = function() {
        function b(a, c, e) {
            this.row = a;
            this.tree = c;
            this.settings = e;
            this.id = this.row.data(this.settings.nodeIdAttr);
            a = this.row.data(this.settings.parentIdAttr);
            null != a && "" !== a && (this.parentId = a);
            this.treeCell = d(this.row.children(this.settings.columnElType)[this.settings.column]);
            this.expander = d(this.settings.expanderTemplate);
            this.indenter = d(this.settings.indenterTemplate);
            this.children = [];
            this.initialized = !1;
            this.treeCell.prepend(this.indenter)
        }
        b.prototype.addChild = function(a) {
            return this.children.push(a)
        };
        b.prototype.ancestors = function() {
            var a;
            var c = this;
            for (a = []; c = c.parentNode();) a.push(c);
            return a
        };
        b.prototype.collapse = function() {
            if (this.collapsed()) return this;
            this.row.removeClass("expanded").addClass("collapsed");
            this._hideChildren();
            this.expander.attr("title", this.settings.stringExpand);
            this.initialized && null != this.settings.onNodeCollapse && this.settings.onNodeCollapse.apply(this);
            return this
        };
        b.prototype.collapsed = function() {
            return this.row.hasClass("collapsed")
        };
        b.prototype.expand = function() {
            if (this.expanded()) return this;
            this.row.removeClass("collapsed").addClass("expanded");
            this.initialized && null != this.settings.onNodeExpand && this.settings.onNodeExpand.apply(this);
            d(this.row).is(":visible") && this._showChildren();
            this.expander.attr("title", this.settings.stringCollapse);
            return this
        };
        b.prototype.expanded = function() {
            return this.row.hasClass("expanded")
        };
        b.prototype.hide = function() {
            this._hideChildren();
            this.row.hide();
            return this
        };
        b.prototype.isBranchNode = function() {
            return 0 < this.children.length || !0 === this.row.data(this.settings.branchAttr) ?
                !0 : !1
        };
        b.prototype.updateBranchLeafClass = function() {
            this.row.removeClass("branch");
            this.row.removeClass("leaf");
            this.row.addClass(this.isBranchNode() ? "branch" : "leaf")
        };
        b.prototype.level = function() {
            return this.ancestors().length
        };
        b.prototype.parentNode = function() {
            return null != this.parentId ? this.tree[this.parentId] : null
        };
        b.prototype.removeChild = function(a) {
            a = d.inArray(a, this.children);
            return this.children.splice(a, 1)
        };
        b.prototype.render = function() {
            var a = this.settings;
            if (!0 === a.expandable && this.isBranchNode()) {
                var c =
                    function(c) {
                        d(this).parents("table").treetable("node", d(this).parents("tr").data(a.nodeIdAttr)).toggle();
                        return c.preventDefault()
                    };
                this.indenter.html(this.expander);
                var e = !0 === a.clickableNodeNames ? this.treeCell : this.expander;
                e.off("click.treetable").on("click.treetable", c);
                e.off("keydown.treetable").on("keydown.treetable", function(a) {
                    13 == a.keyCode && c.apply(this, [a])
                })
            }
            this.indenter[0].style.paddingLeft = "" + this.level() * a.indent + "px";
            return this
        };
        b.prototype.reveal = function() {
            null != this.parentId &&
                this.parentNode().reveal();
            return this.expand()
        };
        b.prototype.setParent = function(a) {
            null != this.parentId && this.tree[this.parentId].removeChild(this);
            this.parentId = a.id;
            this.row.data(this.settings.parentIdAttr, a.id);
            return a.addChild(this)
        };
        b.prototype.show = function() {
            this.initialized || this._initialize();
            this.row.show();
            this.expanded() && this._showChildren();
            return this
        };
        b.prototype.toggle = function() {
            this.expanded() ? this.collapse() : this.expand();
            return this
        };
        b.prototype._hideChildren = function() {
            var a;
            var c = this.children;
            var e = [];
            var k = 0;
            for (a = c.length; k < a; k++) {
                var b = c[k];
                e.push(b.hide())
            }
            return e
        };
        b.prototype._initialize = function() {
            var a = this.settings;
            this.render();
            !0 === a.expandable && "collapsed" === a.initialState ? this.collapse() : this.expand();
            null != a.onNodeInitialized && a.onNodeInitialized.apply(this);
            return this.initialized = !0
        };
        b.prototype._showChildren = function() {
            var a;
            var c = this.children;
            var e = [];
            var k = 0;
            for (a = c.length; k < a; k++) {
                var b = c[k];
                e.push(b.show())
            }
            return e
        };
        return b
    }();
    var h = function() {
        function f(a,
            c) {
            this.table = a;
            this.settings = c;
            this.tree = {};
            this.nodes = [];
            this.roots = []
        }
        f.prototype.collapseAll = function() {
            var a;
            var c = this.nodes;
            var e = [];
            var k = 0;
            for (a = c.length; k < a; k++) {
                var b = c[k];
                e.push(b.collapse())
            }
            return e
        };
        f.prototype.expandAll = function() {
            var a;
            var c = this.nodes;
            var e = [];
            var k = 0;
            for (a = c.length; k < a; k++) {
                var b = c[k];
                e.push(b.expand())
            }
            return e
        };
        f.prototype.findLastNode = function(a) {
            return 0 < a.children.length ? this.findLastNode(a.children[a.children.length - 1]) : a
        };
        f.prototype.loadRows = function(a) {
            var c;
            if (null != a)
                for (c = 0; c < a.length; c++) {
                    var e = d(a[c]);
                    null != e.data(this.settings.nodeIdAttr) && (e = new b(e, this.tree, this.settings), this.nodes.push(e), this.tree[e.id] = e, null != e.parentId && this.tree[e.parentId] ? this.tree[e.parentId].addChild(e) : this.roots.push(e))
                }
            for (c = 0; c < this.nodes.length; c++) this.nodes[c].updateBranchLeafClass();
            return this
        };
        f.prototype.move = function(a, c) {
            var e = a.parentNode();
            a !== c && c.id !== a.parentId && -1 === d.inArray(a, c.ancestors()) && (a.setParent(c), this._moveRows(a, c), 1 === a.parentNode().children.length &&
                a.parentNode().render());
            e && e.updateBranchLeafClass();
            a.parentNode() && a.parentNode().updateBranchLeafClass();
            a.updateBranchLeafClass();
            return this
        };
        f.prototype.removeNode = function(a) {
            this.unloadBranch(a);
            a.row.remove();
            null != a.parentId && a.parentNode().removeChild(a);
            delete this.tree[a.id];
            this.nodes.splice(d.inArray(a, this.nodes), 1);
            return this
        };
        f.prototype.render = function() {
            var a;
            var c = this.roots;
            var e = 0;
            for (a = c.length; e < a; e++) {
                var k = c[e];
                k.show()
            }
            return this
        };
        f.prototype.sortBranch = function(a, c) {
            a.children.sort(c);
            this._sortChildRows(a);
            return this
        };
        f.prototype.unloadBranch = function(a) {
            var c = a.children.slice(0),
                e;
            for (e = 0; e < c.length; e++) this.removeNode(c[e]);
            a.children = [];
            a.updateBranchLeafClass();
            return this
        };
        f.prototype._moveRows = function(a, c) {
            var e = a.children;
            a.row.insertAfter(c.row);
            a.render();
            for (c = e.length - 1; 0 <= c; c--) this._moveRows(e[c], a)
        };
        f.prototype._sortChildRows = function(a) {
            return this._moveRows(a, a)
        };
        return f
    }();
    var g = {
        init: function(b, a) {
            var c = d.extend({
                branchAttr: "ttBranch",
                clickableNodeNames: !1,
                column: 0,
                columnElType: "td",
                expandable: !1,
                expanderTemplate: "<a href='#'>&nbsp;</a>",
                indent: 19,
                indenterTemplate: "<span class='indenter'></span>",
                initialState: "collapsed",
                nodeIdAttr: "ttId",
                parentIdAttr: "ttParentId",
                stringExpand: "Expand",
                stringCollapse: "Collapse",
                onInitialized: null,
                onNodeCollapse: null,
                onNodeExpand: null,
                onNodeInitialized: null
            }, b);
            return this.each(function() {
                var e = d(this);
                if (a || void 0 === e.data("treetable")) {
                    var k = new h(this, c);
                    k.loadRows(this.rows).render();
                    e.addClass("treetable").data("treetable",
                        k);
                    null != c.onInitialized && c.onInitialized.apply(k)
                }
                return e
            })
        },
        destroy: function() {
            return this.each(function() {
                return d(this).removeData("treetable").removeClass("treetable")
            })
        },
        collapseAll: function() {
            this.data("treetable").collapseAll();
            return this
        },
        collapseNode: function(b) {
            var a = this.data("treetable").tree[b];
            if (a) a.collapse();
            else throw Error("Unknown node '" + b + "'");
            return this
        },
        expandAll: function() {
            this.data("treetable").expandAll();
            return this
        },
        expandNode: function(b) {
            var a = this.data("treetable").tree[b];
            if (a) a.initialized || a._initialize(), a.expand();
            else throw Error("Unknown node '" + b + "'");
            return this
        },
        loadBranch: function(b, a) {
            var c = this.data("treetable").settings,
                e = this.data("treetable").tree;
            a = d(a);
            if (null == b) this.append(a);
            else {
                var k = this.data("treetable").findLastNode(b);
                a.insertAfter(k.row)
            }
            this.data("treetable").loadRows(a);
            a.filter("tr").each(function() {
                e[d(this).data(c.nodeIdAttr)].show()
            });
            null != b && b.render().expand();
            return this
        },
        move: function(b, a) {
            b = this.data("treetable").tree[b];
            a = this.data("treetable").tree[a];
            this.data("treetable").move(b, a);
            return this
        },
        node: function(b) {
            return this.data("treetable").tree[b]
        },
        removeNode: function(b) {
            var a = this.data("treetable").tree[b];
            if (a) this.data("treetable").removeNode(a);
            else throw Error("Unknown node '" + b + "'");
            return this
        },
        reveal: function(b) {
            var a = this.data("treetable").tree[b];
            if (a) a.reveal();
            else throw Error("Unknown node '" + b + "'");
            return this
        },
        sortBranch: function(b, a) {
            var c = this.data("treetable").settings;
            c = a = a || c.column;
            d.isNumeric(a) && (c = function(c, k) {
                var e =
                    function(c) {
                        c = c.row.find("td:eq(" + a + ")").text();
                        return d.trim(c).toUpperCase()
                    };
                c = e(c);
                k = e(k);
                return c < k ? -1 : c > k ? 1 : 0
            });
            this.data("treetable").sortBranch(b, c);
            return this
        },
        unloadBranch: function(b) {
            this.data("treetable").unloadBranch(b);
            return this
        }
    };
    d.fn.treetable = function(b) {
        return g[b] ? g[b].apply(this, Array.prototype.slice.call(arguments, 1)) : "object" !== typeof b && b ? d.error("Method " + b + " does not exist on jQuery.treetable") : g.init.apply(this, arguments)
    };
    this.TreeTable || (this.TreeTable = {});
    this.TreeTable.Node =
        b;
    this.TreeTable.Tree = h
})(jQuery);
(function(d) {
    "object" === typeof exports && "undefined" !== typeof module ? module.exports = d() : "function" === typeof define && define.amd ? define([], d) : ("undefined" !== typeof window ? window : "undefined" !== typeof global ? global : "undefined" !== typeof self ? self : this).JSZip = d()
})(function() {
    return function f(b, h, g) {
        function a(e, l) {
            if (!h[e]) {
                if (!b[e]) {
                    var k = "function" == typeof require && require;
                    if (!l && k) return k(e, !0);
                    if (c) return c(e, !0);
                    l = Error("Cannot find module '" + e + "'");
                    throw l.code = "MODULE_NOT_FOUND", l;
                }
                l = h[e] = {
                    exports: {}
                };
                b[e][0].call(l.exports, function(c) {
                    var k = b[e][1][c];
                    return a(k ? k : c)
                }, l, l.exports, f, b, h, g)
            }
            return h[e].exports
        }
        for (var c = "function" == typeof require && require, e = 0; e < g.length; e++) a(g[e]);
        return a
    }({
        1: [function(b, h, g) {
            var f = b("./utils"),
                a = b("./support");
            g.encode = function(a) {
                for (var c = [], k, b, m, g, h = 0, p = a.length, r, u = "string" !== f.getTypeOf(a); h < a.length;) r = p - h, u ? (k = a[h++], b = h < p ? a[h++] : 0, m = h < p ? a[h++] : 0) : (k = a.charCodeAt(h++), b = h < p ? a.charCodeAt(h++) : 0, m = h < p ? a.charCodeAt(h++) : 0), g = k >> 2, k = (k & 3) << 4 | b >> 4, b = 1 < r ? (b &
                    15) << 2 | m >> 6 : 64, m = 2 < r ? m & 63 : 64, c.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(g) + "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(k) + "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(b) + "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(m));
                return c.join("")
            };
            g.decode = function(c) {
                var e = 0,
                    b = 0;
                if ("data:" === c.substr(0, 5)) throw Error("Invalid base64 input, it looks like a data url.");
                c = c.replace(/[^A-Za-z0-9\+\/=]/g,
                    "");
                var l = 3 * c.length / 4;
                "=" === c.charAt(c.length - 1) && l--;
                "=" === c.charAt(c.length - 2) && l--;
                if (0 !== l % 1) throw Error("Invalid base64 input, bad content length.");
                var f;
                for (f = a.uint8array ? new Uint8Array(l | 0) : Array(l | 0); e < c.length;) {
                    var g = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(c.charAt(e++));
                    var h = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(c.charAt(e++));
                    l = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(c.charAt(e++));
                    var p = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(c.charAt(e++));
                    g = g << 2 | h >> 4;
                    h = (h & 15) << 4 | l >> 2;
                    var r = (l & 3) << 6 | p;
                    f[b++] = g;
                    64 !== l && (f[b++] = h);
                    64 !== p && (f[b++] = r)
                }
                return f
            }
        }, {
            "./support": 30,
            "./utils": 32
        }],
        2: [function(b, h, g) {
            function f(a, c, e, b, k) {
                this.compressedSize = a;
                this.uncompressedSize = c;
                this.crc32 = e;
                this.compression = b;
                this.compressedContent = k
            }
            var a = b("./external"),
                c = b("./stream/DataWorker"),
                e = b("./stream/DataLengthProbe"),
                k = b("./stream/Crc32Probe");
            e = b("./stream/DataLengthProbe");
            f.prototype = {
                getContentWorker: function() {
                    var b = (new c(a.Promise.resolve(this.compressedContent))).pipe(this.compression.uncompressWorker()).pipe(new e("data_length")),
                        k = this;
                    b.on("end", function() {
                        if (this.streamInfo.data_length !== k.uncompressedSize) throw Error("Bug : uncompressed data size mismatch");
                    });
                    return b
                },
                getCompressedWorker: function() {
                    return (new c(a.Promise.resolve(this.compressedContent))).withStreamInfo("compressedSize", this.compressedSize).withStreamInfo("uncompressedSize", this.uncompressedSize).withStreamInfo("crc32",
                        this.crc32).withStreamInfo("compression", this.compression)
                }
            };
            f.createWorkerFrom = function(a, c, b) {
                return a.pipe(new k).pipe(new e("uncompressedSize")).pipe(c.compressWorker(b)).pipe(new e("compressedSize")).withStreamInfo("compression", c)
            };
            h.exports = f
        }, {
            "./external": 6,
            "./stream/Crc32Probe": 25,
            "./stream/DataLengthProbe": 26,
            "./stream/DataWorker": 27
        }],
        3: [function(b, h, g) {
            var f = b("./stream/GenericWorker");
            g.STORE = {
                magic: "\x00\x00",
                compressWorker: function(a) {
                    return new f("STORE compression")
                },
                uncompressWorker: function() {
                    return new f("STORE decompression")
                }
            };
            g.DEFLATE = b("./flate")
        }, {
            "./flate": 7,
            "./stream/GenericWorker": 28
        }],
        4: [function(b, h, g) {
            var f = b("./utils"),
                a = function() {
                    for (var a, e = [], b = 0; 256 > b; b++) {
                        a = b;
                        for (var l = 0; 8 > l; l++) a = a & 1 ? 3988292384 ^ a >>> 1 : a >>> 1;
                        e[b] = a
                    }
                    return e
                }();
            h.exports = function(c, e) {
                if ("undefined" === typeof c || !c.length) return 0;
                if ("string" !== f.getTypeOf(c)) {
                    var b = 0 + c.length;
                    e = (e | 0) ^ -1;
                    for (var l = 0; l < b; l++) e = e >>> 8 ^ a[(e ^ c[l]) & 255];
                    return e ^ -1
                }
                b = 0 + c.length;
                e = (e | 0) ^ -1;
                for (l = 0; l < b; l++) e = e >>> 8 ^ a[(e ^ c.charCodeAt(l)) & 255];
                return e ^ -1
            }
        }, {
            "./utils": 32
        }],
        5: [function(b, h, g) {
            g.base64 = !1;
            g.binary = !1;
            g.dir = !1;
            g.createFolders = !0;
            g.date = null;
            g.compression = null;
            g.compressionOptions = null;
            g.comment = null;
            g.unixPermissions = null;
            g.dosPermissions = null
        }, {}],
        6: [function(b, h, g) {
            b = "undefined" !== typeof Promise ? Promise : b("lie");
            h.exports = {
                Promise: b
            }
        }, {
            lie: 58
        }],
        7: [function(b, h, g) {
            function f(a, c) {
                e.call(this, "FlateWorker/" + a);
                this._pako = null;
                this._pakoAction = a;
                this._pakoOptions = c;
                this.meta = {}
            }
            h = "undefined" !== typeof Uint8Array && "undefined" !== typeof Uint16Array && "undefined" !==
                typeof Uint32Array;
            var a = b("pako"),
                c = b("./utils"),
                e = b("./stream/GenericWorker"),
                k = h ? "uint8array" : "array";
            g.magic = "\b\x00";
            c.inherits(f, e);
            f.prototype.processChunk = function(a) {
                this.meta = a.meta;
                null === this._pako && this._createPako();
                this._pako.push(c.transformTo(k, a.data), !1)
            };
            f.prototype.flush = function() {
                e.prototype.flush.call(this);
                null === this._pako && this._createPako();
                this._pako.push([], !0)
            };
            f.prototype.cleanUp = function() {
                e.prototype.cleanUp.call(this);
                this._pako = null
            };
            f.prototype._createPako = function() {
                this._pako =
                    new a[this._pakoAction]({
                        raw: !0,
                        level: this._pakoOptions.level || -1
                    });
                var c = this;
                this._pako.onData = function(a) {
                    c.push({
                        data: a,
                        meta: c.meta
                    })
                }
            };
            g.compressWorker = function(a) {
                return new f("Deflate", a)
            };
            g.uncompressWorker = function() {
                return new f("Inflate", {})
            }
        }, {
            "./stream/GenericWorker": 28,
            "./utils": 32,
            pako: 59
        }],
        8: [function(b, h, g) {
            function f(a, e, b, k) {
                c.call(this, "ZipFileWorker");
                this.bytesWritten = 0;
                this.zipComment = e;
                this.zipPlatform = b;
                this.encodeFileName = k;
                this.streamFiles = a;
                this.accumulate = !1;
                this.contentBuffer = [];
                this.dirRecords = [];
                this.entriesCount = this.currentSourceOffset = 0;
                this.currentFile = null;
                this._sources = []
            }
            var a = b("../utils"),
                c = b("../stream/GenericWorker"),
                e = b("../utf8"),
                k = b("../crc32"),
                l = b("../signature"),
                m = function(a, c) {
                    var e = "",
                        b;
                    for (b = 0; b < c; b++) e += String.fromCharCode(a & 255), a >>>= 8;
                    return e
                },
                q = function(c, b, f, g, q, h) {
                    var n = c.file,
                        p = c.compression,
                        r = h !== e.utf8encode,
                        u = a.transformTo("string", h(n.name)),
                        t = a.transformTo("string", e.utf8encode(n.name)),
                        v = n.comment;
                    h = a.transformTo("string", h(v));
                    var w =
                        a.transformTo("string", e.utf8encode(v)),
                        J = t.length !== n.name.length,
                        E = w.length !== v.length;
                    v = "";
                    var K = n.dir;
                    var I = n.date,
                        H = 0,
                        G = 0,
                        F = 0;
                    if (!b || f) H = c.crc32, G = c.compressedSize, F = c.uncompressedSize;
                    c = 0;
                    b && (c |= 8);
                    r || !J && !E || (c |= 2048);
                    b = 0;
                    K && (b |= 16);
                    "UNIX" === q ? (q = 798, (r = n = n.unixPermissions) || (r = K ? 16893 : 33204), b |= (r & 65535) << 16) : (q = 20, b |= (n.dosPermissions || 0) & 63);
                    n = I.getUTCHours();
                    n = n << 6 | I.getUTCMinutes();
                    n = n << 5 | I.getUTCSeconds() / 2;
                    K = I.getUTCFullYear() - 1980;
                    K = K << 4 | I.getUTCMonth() + 1;
                    K = K << 5 | I.getUTCDate();
                    J && (t =
                        m(1, 1) + m(k(u), 4) + t, v += "up" + m(t.length, 2) + t);
                    E && (t = m(1, 1) + m(k(h), 4) + w, v += "uc" + m(t.length, 2) + t);
                    t = "\n\x00" + m(c, 2);
                    t += p.magic;
                    t += m(n, 2);
                    t += m(K, 2);
                    t += m(H, 4);
                    t += m(G, 4);
                    t += m(F, 4);
                    t += m(u.length, 2);
                    t += m(v.length, 2);
                    p = l.LOCAL_FILE_HEADER + t + u + v;
                    g = l.CENTRAL_FILE_HEADER + m(q, 2) + t + m(h.length, 2) + "\x00\x00\x00\x00" + m(b, 4) + m(g, 4) + u + v + h;
                    return {
                        fileRecord: p,
                        dirRecord: g
                    }
                },
                n = function(a) {
                    return l.DATA_DESCRIPTOR + m(a.crc32, 4) + m(a.compressedSize, 4) + m(a.uncompressedSize, 4)
                };
            a.inherits(f, c);
            f.prototype.push = function(a) {
                var e =
                    a.meta.percent || 0,
                    b = this.entriesCount,
                    k = this._sources.length;
                this.accumulate ? this.contentBuffer.push(a) : (this.bytesWritten += a.data.length, c.prototype.push.call(this, {
                    data: a.data,
                    meta: {
                        currentFile: this.currentFile,
                        percent: b ? (e + 100 * (b - k - 1)) / b : 100
                    }
                }))
            };
            f.prototype.openedSource = function(a) {
                this.currentSourceOffset = this.bytesWritten;
                this.currentFile = a.file.name;
                var c = this.streamFiles && !a.file.dir;
                c ? (a = q(a, c, !1, this.currentSourceOffset, this.zipPlatform, this.encodeFileName), this.push({
                    data: a.fileRecord,
                    meta: {
                        percent: 0
                    }
                })) : this.accumulate = !0
            };
            f.prototype.closedSource = function(a) {
                this.accumulate = !1;
                var c = this.streamFiles && !a.file.dir,
                    e = q(a, c, !0, this.currentSourceOffset, this.zipPlatform, this.encodeFileName);
                this.dirRecords.push(e.dirRecord);
                if (c) this.push({
                    data: n(a),
                    meta: {
                        percent: 100
                    }
                });
                else
                    for (this.push({
                            data: e.fileRecord,
                            meta: {
                                percent: 0
                            }
                        }); this.contentBuffer.length;) this.push(this.contentBuffer.shift());
                this.currentFile = null
            };
            f.prototype.flush = function() {
                for (var c = this.bytesWritten, e = 0; e < this.dirRecords.length; e++) this.push({
                    data: this.dirRecords[e],
                    meta: {
                        percent: 100
                    }
                });
                e = this.dirRecords.length;
                var b = this.bytesWritten - c,
                    k = a.transformTo("string", (0, this.encodeFileName)(this.zipComment));
                c = l.CENTRAL_DIRECTORY_END + "\x00\x00\x00\x00" + m(e, 2) + m(e, 2) + m(b, 4) + m(c, 4) + m(k.length, 2) + k;
                this.push({
                    data: c,
                    meta: {
                        percent: 100
                    }
                })
            };
            f.prototype.prepareNextSource = function() {
                this.previous = this._sources.shift();
                this.openedSource(this.previous.streamInfo);
                this.isPaused ? this.previous.pause() : this.previous.resume()
            };
            f.prototype.registerPrevious = function(a) {
                this._sources.push(a);
                var c = this;
                a.on("data", function(a) {
                    c.processChunk(a)
                });
                a.on("end", function() {
                    c.closedSource(c.previous.streamInfo);
                    c._sources.length ? c.prepareNextSource() : c.end()
                });
                a.on("error", function(a) {
                    c.error(a)
                });
                return this
            };
            f.prototype.resume = function() {
                if (!c.prototype.resume.call(this)) return !1;
                if (!this.previous && this._sources.length) return this.prepareNextSource(), !0;
                if (!this.previous && !this._sources.length && !this.generatedError) return this.end(), !0
            };
            f.prototype.error = function(a) {
                var e = this._sources;
                if (!c.prototype.error.call(this,
                        a)) return !1;
                for (var b = 0; b < e.length; b++) try {
                    e[b].error(a)
                } catch (t) {}
                return !0
            };
            f.prototype.lock = function() {
                c.prototype.lock.call(this);
                for (var a = this._sources, e = 0; e < a.length; e++) a[e].lock()
            };
            h.exports = f
        }, {
            "../crc32": 4,
            "../signature": 23,
            "../stream/GenericWorker": 28,
            "../utf8": 31,
            "../utils": 32
        }],
        9: [function(b, h, g) {
            var f = b("../compressions"),
                a = b("./ZipFileWorker");
            g.generateWorker = function(c, e, b) {
                var k = new a(e.streamFiles, b, e.platform, e.encodeFileName),
                    m = 0;
                try {
                    c.forEach(function(a, c) {
                        m++;
                        var b = c.options.compression ||
                            e.compression,
                            l = f[b];
                        if (!l) throw Error(b + " is not a valid compression method !");
                        b = c.dir;
                        var g = c.date;
                        c._compressWorker(l, c.options.compressionOptions || e.compressionOptions || {}).withStreamInfo("file", {
                            name: a,
                            dir: b,
                            date: g,
                            comment: c.comment || "",
                            unixPermissions: c.unixPermissions,
                            dosPermissions: c.dosPermissions
                        }).pipe(k)
                    }), k.entriesCount = m
                } catch (q) {
                    k.error(q)
                }
                return k
            }
        }, {
            "../compressions": 3,
            "./ZipFileWorker": 8
        }],
        10: [function(b, h, g) {
            function f() {
                if (!(this instanceof f)) return new f;
                if (arguments.length) throw Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");
                this.files = {};
                this.comment = null;
                this.root = "";
                this.clone = function() {
                    var a = new f,
                        c;
                    for (c in this) "function" !== typeof this[c] && (a[c] = this[c]);
                    return a
                }
            }
            f.prototype = b("./object");
            f.prototype.loadAsync = b("./load");
            f.support = b("./support");
            f.defaults = b("./defaults");
            f.version = "3.1.3";
            f.loadAsync = function(a, c) {
                return (new f).loadAsync(a, c)
            };
            f.external = b("./external");
            h.exports = f
        }, {
            "./defaults": 5,
            "./external": 6,
            "./load": 11,
            "./object": 15,
            "./support": 30
        }],
        11: [function(b, h, g) {
            function f(a) {
                return new c.Promise(function(c,
                    e) {
                    var b = a.decompressed.getContentWorker().pipe(new l);
                    b.on("error", function(a) {
                        e(a)
                    }).on("end", function() {
                        b.streamInfo.crc32 !== a.decompressed.crc32 ? e(Error("Corrupted zip : CRC32 mismatch")) : c()
                    }).resume()
                })
            }
            var a = b("./utils"),
                c = b("./external"),
                e = b("./utf8");
            a = b("./utils");
            var k = b("./zipEntries"),
                l = b("./stream/Crc32Probe"),
                m = b("./nodejsUtils");
            h.exports = function(b, l) {
                var g = this;
                l = a.extend(l || {}, {
                    base64: !1,
                    checkCRC32: !1,
                    optimizedBinaryString: !1,
                    createFolders: !1,
                    decodeFileName: e.utf8decode
                });
                return m.isNode &&
                    m.isStream(b) ? c.Promise.reject(Error("JSZip can't accept a stream when loading a zip file.")) : a.prepareContent("the loaded zip file", b, !0, l.optimizedBinaryString, l.base64).then(function(a) {
                        var c = new k(l);
                        c.load(a);
                        return c
                    }).then(function(a) {
                        var e = [c.Promise.resolve(a)];
                        a = a.files;
                        if (l.checkCRC32)
                            for (var b = 0; b < a.length; b++) e.push(f(a[b]));
                        return c.Promise.all(e)
                    }).then(function(a) {
                        a = a.shift();
                        for (var c = a.files, e = 0; e < c.length; e++) {
                            var b = c[e];
                            g.file(b.fileNameStr, b.decompressed, {
                                binary: !0,
                                optimizedBinaryString: !0,
                                date: b.date,
                                dir: b.dir,
                                comment: b.fileCommentStr.length ? b.fileCommentStr : null,
                                unixPermissions: b.unixPermissions,
                                dosPermissions: b.dosPermissions,
                                createFolders: l.createFolders
                            })
                        }
                        a.zipComment.length && (g.comment = a.zipComment);
                        return g
                    })
            }
        }, {
            "./external": 6,
            "./nodejsUtils": 14,
            "./stream/Crc32Probe": 25,
            "./utf8": 31,
            "./utils": 32,
            "./zipEntries": 33
        }],
        12: [function(b, h, g) {
            function f(c, e) {
                a.call(this, "Nodejs stream input adapter for " + c);
                this._upstreamEnded = !1;
                this._bindStream(e)
            }
            g = b("../utils");
            var a = b("../stream/GenericWorker");
            g.inherits(f, a);
            f.prototype._bindStream = function(a) {
                var c = this;
                this._stream = a;
                a.pause();
                a.on("data", function(a) {
                    c.push({
                        data: a,
                        meta: {
                            percent: 0
                        }
                    })
                }).on("error", function(a) {
                    c.isPaused ? this.generatedError = a : c.error(a)
                }).on("end", function() {
                    c.isPaused ? c._upstreamEnded = !0 : c.end()
                })
            };
            f.prototype.pause = function() {
                if (!a.prototype.pause.call(this)) return !1;
                this._stream.pause();
                return !0
            };
            f.prototype.resume = function() {
                if (!a.prototype.resume.call(this)) return !1;
                this._upstreamEnded ? this.end() : this._stream.resume();
                return !0
            };
            h.exports = f
        }, {
            "../stream/GenericWorker": 28,
            "../utils": 32
        }],
        13: [function(b, h, g) {
            function f(c, e, b) {
                a.call(this, e);
                this._helper = c;
                var k = this;
                c.on("data", function(a, c) {
                    k.push(a) || k._helper.pause();
                    b && b(c)
                }).on("error", function(a) {
                    k.emit("error", a)
                }).on("end", function() {
                    k.push(null)
                })
            }
            var a = b("readable-stream").Readable;
            b("../utils").inherits(f, a);
            f.prototype._read = function() {
                this._helper.resume()
            };
            h.exports = f
        }, {
            "../utils": 32,
            "readable-stream": 16
        }],
        14: [function(b, h, g) {
            h.exports = {
                isNode: "undefined" !==
                    typeof Buffer,
                newBuffer: function(b, a) {
                    return new Buffer(b, a)
                },
                isBuffer: function(b) {
                    return Buffer.isBuffer(b)
                },
                isStream: function(b) {
                    return b && "function" === typeof b.on && "function" === typeof b.pause && "function" === typeof b.resume
                }
            }
        }, {}],
        15: [function(b, h, g) {
            var f = b("./utf8"),
                a = b("./utils"),
                c = b("./stream/GenericWorker"),
                e = b("./stream/StreamHelper"),
                k = b("./defaults"),
                l = b("./compressedObject"),
                m = b("./zipObject"),
                q = b("./generate"),
                n = b("./nodejsUtils"),
                p = b("./nodejs/NodejsStreamInputAdapter"),
                r = function(e, b,
                    f) {
                    var g = a.getTypeOf(b),
                        q = a.extend(f || {}, k);
                    q.date = q.date || new Date;
                    null !== q.compression && (q.compression = q.compression.toUpperCase());
                    "string" === typeof q.unixPermissions && (q.unixPermissions = parseInt(q.unixPermissions, 8));
                    q.unixPermissions && q.unixPermissions & 16384 && (q.dir = !0);
                    q.dosPermissions && q.dosPermissions & 16 && (q.dir = !0);
                    q.dir && (e = u(e));
                    var h;
                    if (h = q.createFolders) {
                        var r = e;
                        "/" === r.slice(-1) && (r = r.substring(0, r.length - 1));
                        h = r.lastIndexOf("/");
                        h = r = 0 < h ? r.substring(0, h) : ""
                    }
                    h && t.call(this, r, !0);
                    g = "string" ===
                        g && !1 === q.binary && !1 === q.base64;
                    f && "undefined" !== typeof f.binary || (q.binary = !g);
                    if (b instanceof l && 0 === b.uncompressedSize || q.dir || !b || 0 === b.length) q.base64 = !1, q.binary = !0, b = "", q.compression = "STORE";
                    b = b instanceof l || b instanceof c ? b : n.isNode && n.isStream(b) ? new p(e, b) : a.prepareContent(e, b, q.binary, q.optimizedBinaryString, q.base64);
                    q = new m(e, b, q);
                    this.files[e] = q
                },
                u = function(a) {
                    "/" !== a.slice(-1) && (a += "/");
                    return a
                },
                t = function(a, c) {
                    c = "undefined" !== typeof c ? c : k.createFolders;
                    a = u(a);
                    this.files[a] || r.call(this,
                        a, null, {
                            dir: !0,
                            createFolders: c
                        });
                    return this.files[a]
                };
            h.exports = {
                load: function() {
                    throw Error("This method has been removed in JSZip 3.0, please check the upgrade guide.");
                },
                forEach: function(a) {
                    var c, e;
                    for (c in this.files)
                        if (this.files.hasOwnProperty(c)) {
                            var b = this.files[c];
                            (e = c.slice(this.root.length, c.length)) && c.slice(0, this.root.length) === this.root && a(e, b)
                        }
                },
                filter: function(a) {
                    var c = [];
                    this.forEach(function(e, b) {
                        a(e, b) && c.push(b)
                    });
                    return c
                },
                file: function(a, c, e) {
                    if (1 === arguments.length) {
                        if ("[object RegExp]" ===
                            Object.prototype.toString.call(a)) {
                            var b = a;
                            return this.filter(function(a, c) {
                                return !c.dir && b.test(a)
                            })
                        }
                        var k = this.files[this.root + a];
                        return k && !k.dir ? k : null
                    }
                    a = this.root + a;
                    r.call(this, a, c, e);
                    return this
                },
                folder: function(a) {
                    if (!a) return this;
                    if ("[object RegExp]" === Object.prototype.toString.call(a)) return this.filter(function(c, e) {
                        return e.dir && a.test(c)
                    });
                    var c = t.call(this, this.root + a),
                        e = this.clone();
                    e.root = c.name;
                    return e
                },
                remove: function(a) {
                    a = this.root + a;
                    var c = this.files[a];
                    c || ("/" !== a.slice(-1) &&
                        (a += "/"), c = this.files[a]);
                    if (c && !c.dir) delete this.files[a];
                    else {
                        c = this.filter(function(c, e) {
                            return e.name.slice(0, a.length) === a
                        });
                        for (var e = 0; e < c.length; e++) delete this.files[c[e].name]
                    }
                    return this
                },
                generate: function(a) {
                    throw Error("This method has been removed in JSZip 3.0, please check the upgrade guide.");
                },
                generateInternalStream: function(b) {
                    var k = {};
                    try {
                        k = a.extend(b || {}, {
                            streamFiles: !1,
                            compression: "STORE",
                            compressionOptions: null,
                            type: "",
                            platform: "DOS",
                            comment: null,
                            mimeType: "application/zip",
                            encodeFileName: f.utf8encode
                        });
                        k.type = k.type.toLowerCase();
                        k.compression = k.compression.toUpperCase();
                        "binarystring" === k.type && (k.type = "string");
                        if (!k.type) throw Error("No output type specified.");
                        a.checkSupport(k.type);
                        if ("darwin" === k.platform || "freebsd" === k.platform || "linux" === k.platform || "sunos" === k.platform) k.platform = "UNIX";
                        "win32" === k.platform && (k.platform = "DOS");
                        var l = q.generateWorker(this, k, k.comment || this.comment || "")
                    } catch (y) {
                        l = new c("error"), l.error(y)
                    }
                    return new e(l, k.type || "string", k.mimeType)
                },
                generateAsync: function(a, c) {
                    return this.generateInternalStream(a).accumulate(c)
                },
                generateNodeStream: function(a, c) {
                    a = a || {};
                    a.type || (a.type = "nodebuffer");
                    return this.generateInternalStream(a).toNodejsStream(c)
                }
            }
        }, {
            "./compressedObject": 2,
            "./defaults": 5,
            "./generate": 9,
            "./nodejs/NodejsStreamInputAdapter": 12,
            "./nodejsUtils": 14,
            "./stream/GenericWorker": 28,
            "./stream/StreamHelper": 29,
            "./utf8": 31,
            "./utils": 32,
            "./zipObject": 35
        }],
        16: [function(b, h, g) {
            h.exports = b("stream")
        }, {
            stream: void 0
        }],
        17: [function(b, h, g) {
            function f(c) {
                a.call(this,
                    c);
                for (var e = 0; e < this.data.length; e++) c[e] &= 255
            }
            var a = b("./DataReader");
            b("../utils").inherits(f, a);
            f.prototype.byteAt = function(a) {
                return this.data[this.zero + a]
            };
            f.prototype.lastIndexOfSignature = function(a) {
                var c = a.charCodeAt(0),
                    b = a.charCodeAt(1),
                    l = a.charCodeAt(2);
                a = a.charCodeAt(3);
                for (var f = this.length - 4; 0 <= f; --f)
                    if (this.data[f] === c && this.data[f + 1] === b && this.data[f + 2] === l && this.data[f + 3] === a) return f - this.zero;
                return -1
            };
            f.prototype.readAndCheckSignature = function(a) {
                var c = a.charCodeAt(0),
                    b = a.charCodeAt(1),
                    l = a.charCodeAt(2);
                a = a.charCodeAt(3);
                var f = this.readData(4);
                return c === f[0] && b === f[1] && l === f[2] && a === f[3]
            };
            f.prototype.readData = function(a) {
                this.checkOffset(a);
                if (0 === a) return [];
                var c = this.data.slice(this.zero + this.index, this.zero + this.index + a);
                this.index += a;
                return c
            };
            h.exports = f
        }, {
            "../utils": 32,
            "./DataReader": 18
        }],
        18: [function(b, h, g) {
            function f(a) {
                this.data = a;
                this.length = a.length;
                this.zero = this.index = 0
            }
            var a = b("../utils");
            f.prototype = {
                checkOffset: function(a) {
                    this.checkIndex(this.index + a)
                },
                checkIndex: function(a) {
                    if (this.length <
                        this.zero + a || 0 > a) throw Error("End of data reached (data length = " + this.length + ", asked index = " + a + "). Corrupted zip ?");
                },
                setIndex: function(a) {
                    this.checkIndex(a);
                    this.index = a
                },
                skip: function(a) {
                    this.setIndex(this.index + a)
                },
                byteAt: function(a) {},
                readInt: function(a) {
                    var c = 0,
                        b;
                    this.checkOffset(a);
                    for (b = this.index + a - 1; b >= this.index; b--) c = (c << 8) + this.byteAt(b);
                    this.index += a;
                    return c
                },
                readString: function(c) {
                    return a.transformTo("string", this.readData(c))
                },
                readData: function(a) {},
                lastIndexOfSignature: function(a) {},
                readAndCheckSignature: function(a) {},
                readDate: function() {
                    var a = this.readInt(4);
                    return new Date(Date.UTC((a >> 25 & 127) + 1980, (a >> 21 & 15) - 1, a >> 16 & 31, a >> 11 & 31, a >> 5 & 63, (a & 31) << 1))
                }
            };
            h.exports = f
        }, {
            "../utils": 32
        }],
        19: [function(b, h, g) {
            function f(c) {
                a.call(this, c)
            }
            var a = b("./Uint8ArrayReader");
            b("../utils").inherits(f, a);
            f.prototype.readData = function(a) {
                this.checkOffset(a);
                var c = this.data.slice(this.zero + this.index, this.zero + this.index + a);
                this.index += a;
                return c
            };
            h.exports = f
        }, {
            "../utils": 32,
            "./Uint8ArrayReader": 21
        }],
        20: [function(b, h, g) {
                function f(c) {
                    a.call(this, c)
                }
                var a = b("./DataReader");
                b("../utils").inherits(f, a);
                f.prototype.byteAt = function(a) {
                    return this.data.charCodeAt(this.zero + a)
                };
                f.prototype.lastIndexOfSignature = function(a) {
                    return this.data.lastIndexOf(a) - this.zero
                };
                f.prototype.readAndCheckSignature = function(a) {
                    var c = this.readData(4);
                    return a === c
                };
                f.prototype.readData = function(a) {
                    this.checkOffset(a);
                    var c = this.data.slice(this.zero + this.index, this.zero + this.index + a);
                    this.index += a;
                    return c
                };
                h.exports = f
            },
            {
                "../utils": 32,
                "./DataReader": 18
            }
        ],
        21: [function(b, h, g) {
            function f(c) {
                a.call(this, c)
            }
            var a = b("./ArrayReader");
            b("../utils").inherits(f, a);
            f.prototype.readData = function(a) {
                this.checkOffset(a);
                if (0 === a) return new Uint8Array(0);
                var c = this.data.subarray(this.zero + this.index, this.zero + this.index + a);
                this.index += a;
                return c
            };
            h.exports = f
        }, {
            "../utils": 32,
            "./ArrayReader": 17
        }],
        22: [function(b, h, g) {
            var f = b("../utils"),
                a = b("../support"),
                c = b("./ArrayReader"),
                e = b("./StringReader"),
                k = b("./NodeBufferReader"),
                l = b("./Uint8ArrayReader");
            h.exports = function(b) {
                var m = f.getTypeOf(b);
                f.checkSupport(m);
                return "string" !== m || a.uint8array ? "nodebuffer" === m ? new k(b) : a.uint8array ? new l(f.transformTo("uint8array", b)) : new c(f.transformTo("array", b)) : new e(b)
            }
        }, {
            "../support": 30,
            "../utils": 32,
            "./ArrayReader": 17,
            "./NodeBufferReader": 19,
            "./StringReader": 20,
            "./Uint8ArrayReader": 21
        }],
        23: [function(b, h, g) {
            g.LOCAL_FILE_HEADER = "PK\u0003\u0004";
            g.CENTRAL_FILE_HEADER = "PK\u0001\u0002";
            g.CENTRAL_DIRECTORY_END = "PK\u0005\u0006";
            g.ZIP64_CENTRAL_DIRECTORY_LOCATOR =
                "PK\u0006\u0007";
            g.ZIP64_CENTRAL_DIRECTORY_END = "PK\u0006\u0006";
            g.DATA_DESCRIPTOR = "PK\u0007\b"
        }, {}],
        24: [function(b, h, g) {
            function f(c) {
                a.call(this, "ConvertWorker to " + c);
                this.destType = c
            }
            var a = b("./GenericWorker"),
                c = b("../utils");
            c.inherits(f, a);
            f.prototype.processChunk = function(a) {
                this.push({
                    data: c.transformTo(this.destType, a.data),
                    meta: a.meta
                })
            };
            h.exports = f
        }, {
            "../utils": 32,
            "./GenericWorker": 28
        }],
        25: [function(b, h, g) {
            function f() {
                a.call(this, "Crc32Probe");
                this.withStreamInfo("crc32", 0)
            }
            var a = b("./GenericWorker"),
                c = b("../crc32");
            b("../utils").inherits(f, a);
            f.prototype.processChunk = function(a) {
                this.streamInfo.crc32 = c(a.data, this.streamInfo.crc32 || 0);
                this.push(a)
            };
            h.exports = f
        }, {
            "../crc32": 4,
            "../utils": 32,
            "./GenericWorker": 28
        }],
        26: [function(b, h, g) {
            function f(c) {
                a.call(this, "DataLengthProbe for " + c);
                this.propName = c;
                this.withStreamInfo(c, 0)
            }
            g = b("../utils");
            var a = b("./GenericWorker");
            g.inherits(f, a);
            f.prototype.processChunk = function(c) {
                c && (this.streamInfo[this.propName] = (this.streamInfo[this.propName] || 0) + c.data.length);
                a.prototype.processChunk.call(this, c)
            };
            h.exports = f
        }, {
            "../utils": 32,
            "./GenericWorker": 28
        }],
        27: [function(b, h, g) {
            function f(e) {
                c.call(this, "DataWorker");
                var b = this;
                this.dataIsReady = !1;
                this.max = this.index = 0;
                this.data = null;
                this.type = "";
                this._tickScheduled = !1;
                e.then(function(c) {
                    b.dataIsReady = !0;
                    b.data = c;
                    b.max = c && c.length || 0;
                    b.type = a.getTypeOf(c);
                    b.isPaused || b._tickAndRepeat()
                }, function(a) {
                    b.error(a)
                })
            }
            var a = b("../utils"),
                c = b("./GenericWorker");
            a.inherits(f, c);
            f.prototype.cleanUp = function() {
                c.prototype.cleanUp.call(this);
                this.data = null
            };
            f.prototype.resume = function() {
                if (!c.prototype.resume.call(this)) return !1;
                !this._tickScheduled && this.dataIsReady && (this._tickScheduled = !0, a.delay(this._tickAndRepeat, [], this));
                return !0
            };
            f.prototype._tickAndRepeat = function() {
                this._tickScheduled = !1;
                this.isPaused || this.isFinished || (this._tick(), this.isFinished || (a.delay(this._tickAndRepeat, [], this), this._tickScheduled = !0))
            };
            f.prototype._tick = function() {
                if (this.isPaused || this.isFinished) return !1;
                var a = null,
                    c = Math.min(this.max, this.index +
                        16384);
                if (this.index >= this.max) return this.end();
                switch (this.type) {
                    case "string":
                        a = this.data.substring(this.index, c);
                        break;
                    case "uint8array":
                        a = this.data.subarray(this.index, c);
                        break;
                    case "array":
                    case "nodebuffer":
                        a = this.data.slice(this.index, c)
                }
                this.index = c;
                return this.push({
                    data: a,
                    meta: {
                        percent: this.max ? this.index / this.max * 100 : 0
                    }
                })
            };
            h.exports = f
        }, {
            "../utils": 32,
            "./GenericWorker": 28
        }],
        28: [function(b, h, g) {
            function f(a) {
                this.name = a || "default";
                this.streamInfo = {};
                this.generatedError = null;
                this.extraStreamInfo = {};
                this.isPaused = !0;
                this.isLocked = this.isFinished = !1;
                this._listeners = {
                    data: [],
                    end: [],
                    error: []
                };
                this.previous = null
            }
            f.prototype = {
                push: function(a) {
                    this.emit("data", a)
                },
                end: function() {
                    if (this.isFinished) return !1;
                    this.flush();
                    try {
                        this.emit("end"), this.cleanUp(), this.isFinished = !0
                    } catch (a) {
                        this.emit("error", a)
                    }
                    return !0
                },
                error: function(a) {
                    if (this.isFinished) return !1;
                    this.isPaused ? this.generatedError = a : (this.isFinished = !0, this.emit("error", a), this.previous && this.previous.error(a), this.cleanUp());
                    return !0
                },
                on: function(a, c) {
                    this._listeners[a].push(c);
                    return this
                },
                cleanUp: function() {
                    this.streamInfo = this.generatedError = this.extraStreamInfo = null;
                    this._listeners = []
                },
                emit: function(a, c) {
                    if (this._listeners[a])
                        for (var e = 0; e < this._listeners[a].length; e++) this._listeners[a][e].call(this, c)
                },
                pipe: function(a) {
                    return a.registerPrevious(this)
                },
                registerPrevious: function(a) {
                    if (this.isLocked) throw Error("The stream '" + this + "' has already been used.");
                    this.streamInfo = a.streamInfo;
                    this.mergeStreamInfo();
                    this.previous =
                        a;
                    var c = this;
                    a.on("data", function(a) {
                        c.processChunk(a)
                    });
                    a.on("end", function() {
                        c.end()
                    });
                    a.on("error", function(a) {
                        c.error(a)
                    });
                    return this
                },
                pause: function() {
                    if (this.isPaused || this.isFinished) return !1;
                    this.isPaused = !0;
                    this.previous && this.previous.pause();
                    return !0
                },
                resume: function() {
                    if (!this.isPaused || this.isFinished) return !1;
                    var a = this.isPaused = !1;
                    this.generatedError && (this.error(this.generatedError), a = !0);
                    this.previous && this.previous.resume();
                    return !a
                },
                flush: function() {},
                processChunk: function(a) {
                    this.push(a)
                },
                withStreamInfo: function(a, c) {
                    this.extraStreamInfo[a] = c;
                    this.mergeStreamInfo();
                    return this
                },
                mergeStreamInfo: function() {
                    for (var a in this.extraStreamInfo) this.extraStreamInfo.hasOwnProperty(a) && (this.streamInfo[a] = this.extraStreamInfo[a])
                },
                lock: function() {
                    if (this.isLocked) throw Error("The stream '" + this + "' has already been used.");
                    this.isLocked = !0;
                    this.previous && this.previous.lock()
                },
                toString: function() {
                    var a = "Worker " + this.name;
                    return this.previous ? this.previous + " -> " + a : a
                }
            };
            h.exports = f
        }, {}],
        29: [function(b,
            h, g) {
            function f(a, c) {
                var e, b = 0,
                    k = 0;
                for (e = 0; e < c.length; e++) k += c[e].length;
                switch (a) {
                    case "string":
                        return c.join("");
                    case "array":
                        return Array.prototype.concat.apply([], c);
                    case "uint8array":
                        a = new Uint8Array(k);
                        for (e = 0; e < c.length; e++) a.set(c[e], b), b += c[e].length;
                        return a;
                    case "nodebuffer":
                        return Buffer.concat(c);
                    default:
                        throw Error("concat : unsupported type '" + a + "'");
                }
            }

            function a(a, c) {
                return new q.Promise(function(b, k) {
                    var l = [],
                        g = a._internalType,
                        q = a._outputType,
                        h = a._mimeType;
                    a.on("data", function(a,
                        e) {
                        l.push(a);
                        c && c(e)
                    }).on("error", function(a) {
                        l = [];
                        k(a)
                    }).on("end", function() {
                        try {
                            a: {
                                var a = l,
                                    c = null;
                                switch (q) {
                                    case "blob":
                                        var n = e.newBlob(a, h);
                                        break a;
                                    case "base64":
                                        c = f(g, a);
                                        n = m.encode(c);
                                        break a;
                                    default:
                                        c = f(g, a), n = e.transformTo(q, c)
                                }
                            }
                            b(n)
                        }
                        catch (C) {
                            k(C)
                        }
                        l = []
                    }).resume()
                })
            }

            function c(a, c, b) {
                var f = c;
                switch (c) {
                    case "blob":
                        f = "arraybuffer";
                        break;
                    case "arraybuffer":
                        f = "uint8array";
                        break;
                    case "base64":
                        f = "string"
                }
                try {
                    this._internalType = f, this._outputType = c, this._mimeType = b, e.checkSupport(f), this._worker = a.pipe(new k(f)),
                        a.lock()
                } catch (v) {
                    this._worker = new l("error"), this._worker.error(v)
                }
            }
            var e = b("../utils"),
                k = b("./ConvertWorker"),
                l = b("./GenericWorker"),
                m = b("../base64");
            g = b("../support");
            var q = b("../external"),
                n = null;
            if (g.nodestream) try {
                n = b("../nodejs/NodejsStreamOutputAdapter")
            } catch (p) {}
            c.prototype = {
                accumulate: function(c) {
                    return a(this, c)
                },
                on: function(a, c) {
                    var b = this;
                    if ("data" === a) this._worker.on(a, function(a) {
                        c.call(b, a.data, a.meta)
                    });
                    else this._worker.on(a, function() {
                        e.delay(c, arguments, b)
                    });
                    return this
                },
                resume: function() {
                    e.delay(this._worker.resume,
                        [], this._worker);
                    return this
                },
                pause: function() {
                    this._worker.pause();
                    return this
                },
                toNodejsStream: function(a) {
                    e.checkSupport("nodestream");
                    if ("nodebuffer" !== this._outputType) throw Error(this._outputType + " is not supported by this method");
                    return new n(this, {
                        objectMode: "nodebuffer" !== this._outputType
                    }, a)
                }
            };
            h.exports = c
        }, {
            "../base64": 1,
            "../external": 6,
            "../nodejs/NodejsStreamOutputAdapter": 13,
            "../support": 30,
            "../utils": 32,
            "./ConvertWorker": 24,
            "./GenericWorker": 28
        }],
        30: [function(b, h, g) {
            g.base64 = !0;
            g.array = !0;
            g.string = !0;
            g.arraybuffer = "undefined" !== typeof ArrayBuffer && "undefined" !== typeof Uint8Array;
            g.nodebuffer = "undefined" !== typeof Buffer;
            g.uint8array = "undefined" !== typeof Uint8Array;
            if ("undefined" === typeof ArrayBuffer) g.blob = !1;
            else {
                h = new ArrayBuffer(0);
                try {
                    g.blob = 0 === (new Blob([h], {
                        type: "application/zip"
                    })).size
                } catch (a) {
                    try {
                        var f = new(window.BlobBuilder || window.WebKitBlobBuilder || window.MozBlobBuilder || window.MSBlobBuilder);
                        f.append(h);
                        g.blob = 0 === f.getBlob("application/zip").size
                    } catch (c) {
                        g.blob = !1
                    }
                }
            }
            try {
                g.nodestream = !!b("readable-stream").Readable
            } catch (a) {
                g.nodestream = !1
            }
        }, {
            "readable-stream": 16
        }],
        31: [function(b, h, g) {
            function f() {
                l.call(this, "utf-8 decode");
                this.leftOver = null
            }

            function a() {
                l.call(this, "utf-8 encode")
            }
            var c = b("./utils"),
                e = b("./support"),
                k = b("./nodejsUtils"),
                l = b("./stream/GenericWorker"),
                m = Array(256);
            for (b = 0; 256 > b; b++) m[b] = 252 <= b ? 6 : 248 <= b ? 5 : 240 <= b ? 4 : 224 <= b ? 3 : 192 <= b ? 2 : 1;
            m[254] = m[254] = 1;
            g.utf8encode = function(a) {
                if (e.nodebuffer) return k.newBuffer(a, "utf-8");
                var c, b, l = a.length,
                    f = 0;
                for (c = 0; c < l; c++) {
                    var m = a.charCodeAt(c);
                    if (55296 === (m & 64512) && c + 1 < l) {
                        var g = a.charCodeAt(c + 1);
                        56320 === (g & 64512) && (m = 65536 + (m - 55296 << 10) + (g - 56320), c++)
                    }
                    f += 128 > m ? 1 : 2048 > m ? 2 : 65536 > m ? 3 : 4
                }
                var q = e.uint8array ? new Uint8Array(f) : Array(f);
                for (c = b = 0; b < f; c++) m = a.charCodeAt(c), 55296 === (m & 64512) && c + 1 < l && (g = a.charCodeAt(c + 1), 56320 === (g & 64512) && (m = 65536 + (m - 55296 << 10) + (g - 56320), c++)), 128 > m ? q[b++] = m : (2048 > m ? q[b++] = 192 | m >>> 6 : (65536 > m ? q[b++] = 224 | m >>> 12 : (q[b++] = 240 | m >>> 18, q[b++] = 128 | m >>> 12 & 63), q[b++] = 128 | m >>> 6 & 63),
                    q[b++] = 128 | m & 63);
                return q
            };
            g.utf8decode = function(a) {
                if (e.nodebuffer) return c.transformTo("nodebuffer", a).toString("utf-8");
                a = c.transformTo(e.uint8array ? "uint8array" : "array", a);
                var b, k, l = a.length,
                    f = Array(2 * l);
                for (b = k = 0; b < l;) {
                    var g = a[b++];
                    if (128 > g) f[k++] = g;
                    else {
                        var q = m[g];
                        if (4 < q) f[k++] = 65533, b += q - 1;
                        else {
                            for (g &= 2 === q ? 31 : 3 === q ? 15 : 7; 1 < q && b < l;) g = g << 6 | a[b++] & 63, q--;
                            1 < q ? f[k++] = 65533 : 65536 > g ? f[k++] = g : (g -= 65536, f[k++] = 55296 | g >> 10 & 1023, f[k++] = 56320 | g & 1023)
                        }
                    }
                }
                f.length !== k && (f.subarray ? f = f.subarray(0, k) : f.length =
                    k);
                return c.applyFromCharCode(f)
            };
            c.inherits(f, l);
            f.prototype.processChunk = function(a) {
                var b = c.transformTo(e.uint8array ? "uint8array" : "array", a.data);
                if (this.leftOver && this.leftOver.length) {
                    if (e.uint8array) {
                        var k = b;
                        b = new Uint8Array(k.length + this.leftOver.length);
                        b.set(this.leftOver, 0);
                        b.set(k, this.leftOver.length)
                    } else b = this.leftOver.concat(b);
                    this.leftOver = null
                }
                var l;
                k = b.length;
                k > b.length && (k = b.length);
                for (l = k - 1; 0 <= l && 128 === (b[l] & 192);) l--;
                k = 0 > l ? k : 0 === l ? k : l + m[b[l]] > k ? l : k;
                l = b;
                k !== b.length && (e.uint8array ?
                    (l = b.subarray(0, k), this.leftOver = b.subarray(k, b.length)) : (l = b.slice(0, k), this.leftOver = b.slice(k, b.length)));
                this.push({
                    data: g.utf8decode(l),
                    meta: a.meta
                })
            };
            f.prototype.flush = function() {
                this.leftOver && this.leftOver.length && (this.push({
                    data: g.utf8decode(this.leftOver),
                    meta: {}
                }), this.leftOver = null)
            };
            g.Utf8DecodeWorker = f;
            c.inherits(a, l);
            a.prototype.processChunk = function(a) {
                this.push({
                    data: g.utf8encode(a.data),
                    meta: a.meta
                })
            };
            g.Utf8EncodeWorker = a
        }, {
            "./nodejsUtils": 14,
            "./stream/GenericWorker": 28,
            "./support": 30,
            "./utils": 32
        }],
        32: [function(b, h, g) {
            function f(a) {
                return a
            }

            function a(a, c) {
                for (var e = 0; e < a.length; ++e) c[e] = a.charCodeAt(e) & 255;
                return c
            }

            function c(a) {
                var c = 65536,
                    e = g.getTypeOf(a),
                    b = !0;
                "uint8array" === e ? b = u.applyCanBeUsed.uint8array : "nodebuffer" === e && (b = u.applyCanBeUsed.nodebuffer);
                if (b)
                    for (; 1 < c;) try {
                        return u.stringifyByChunk(a, e, c)
                    } catch (z) {
                        c = Math.floor(c / 2)
                    }
                return u.stringifyByChar(a)
            }

            function e(a, c) {
                for (var e = 0; e < a.length; e++) c[e] = a[e];
                return c
            }
            var k = b("./support"),
                l = b("./base64"),
                m = b("./nodejsUtils"),
                q = b("core-js/library/fn/set-immediate"),
                n = b("./external");
            g.newBlob = function(a, c) {
                g.checkSupport("blob");
                try {
                    return new Blob(a, {
                        type: c
                    })
                } catch (z) {
                    try {
                        for (var e = new(window.BlobBuilder || window.WebKitBlobBuilder || window.MozBlobBuilder || window.MSBlobBuilder), b = 0; b < a.length; b++) e.append(a[b]);
                        return e.getBlob(c)
                    } catch (B) {
                        throw Error("Bug : can't construct the Blob.");
                    }
                }
            };
            try {
                var p = k.uint8array && 1 === String.fromCharCode.apply(null, new Uint8Array(1)).length
            } catch (v) {
                p = !1
            }
            b = p;
            try {
                var r = k.nodebuffer && 1 ===
                    String.fromCharCode.apply(null, m.newBuffer(1)).length
            } catch (v) {
                r = !1
            }
            var u = {
                stringifyByChunk: function(a, c, e) {
                    var b = [],
                        k = 0,
                        l = a.length;
                    if (l <= e) return String.fromCharCode.apply(null, a);
                    for (; k < l;) "array" === c || "nodebuffer" === c ? b.push(String.fromCharCode.apply(null, a.slice(k, Math.min(k + e, l)))) : b.push(String.fromCharCode.apply(null, a.subarray(k, Math.min(k + e, l)))), k += e;
                    return b.join("")
                },
                stringifyByChar: function(a) {
                    for (var c = "", e = 0; e < a.length; e++) c += String.fromCharCode(a[e]);
                    return c
                },
                applyCanBeUsed: {
                    uint8array: b,
                    nodebuffer: r
                }
            };
            g.applyFromCharCode = c;
            var t = {};
            t.string = {
                string: f,
                array: function(c) {
                    return a(c, Array(c.length))
                },
                arraybuffer: function(a) {
                    return t.string.uint8array(a).buffer
                },
                uint8array: function(c) {
                    return a(c, new Uint8Array(c.length))
                },
                nodebuffer: function(c) {
                    return a(c, m.newBuffer(c.length))
                }
            };
            t.array = {
                string: c,
                array: f,
                arraybuffer: function(a) {
                    return (new Uint8Array(a)).buffer
                },
                uint8array: function(a) {
                    return new Uint8Array(a)
                },
                nodebuffer: function(a) {
                    return m.newBuffer(a)
                }
            };
            t.arraybuffer = {
                string: function(a) {
                    return c(new Uint8Array(a))
                },
                array: function(a) {
                    return e(new Uint8Array(a), Array(a.byteLength))
                },
                arraybuffer: f,
                uint8array: function(a) {
                    return new Uint8Array(a)
                },
                nodebuffer: function(a) {
                    return m.newBuffer(new Uint8Array(a))
                }
            };
            t.uint8array = {
                string: c,
                array: function(a) {
                    return e(a, Array(a.length))
                },
                arraybuffer: function(a) {
                    var c = new Uint8Array(a.length);
                    a.length && c.set(a, 0);
                    return c.buffer
                },
                uint8array: f,
                nodebuffer: function(a) {
                    return m.newBuffer(a)
                }
            };
            t.nodebuffer = {
                string: c,
                array: function(a) {
                    return e(a, Array(a.length))
                },
                arraybuffer: function(a) {
                    return t.nodebuffer.uint8array(a).buffer
                },
                uint8array: function(a) {
                    return e(a, new Uint8Array(a.length))
                },
                nodebuffer: f
            };
            g.transformTo = function(a, c) {
                c || (c = "");
                if (!a) return c;
                g.checkSupport(a);
                var e = g.getTypeOf(c);
                return t[e][a](c)
            };
            g.getTypeOf = function(a) {
                if ("string" === typeof a) return "string";
                if ("[object Array]" === Object.prototype.toString.call(a)) return "array";
                if (k.nodebuffer && m.isBuffer(a)) return "nodebuffer";
                if (k.uint8array && a instanceof Uint8Array) return "uint8array";
                if (k.arraybuffer && a instanceof ArrayBuffer) return "arraybuffer"
            };
            g.checkSupport =
                function(a) {
                    if (!k[a.toLowerCase()]) throw Error(a + " is not supported by this platform");
                };
            g.MAX_VALUE_16BITS = 65535;
            g.MAX_VALUE_32BITS = -1;
            g.pretty = function(a) {
                var c = "",
                    e;
                for (e = 0; e < (a || "").length; e++) {
                    var b = a.charCodeAt(e);
                    c += "\\x" + (16 > b ? "0" : "") + b.toString(16).toUpperCase()
                }
                return c
            };
            g.delay = function(a, c, e) {
                q(function() {
                    a.apply(e || null, c || [])
                })
            };
            g.inherits = function(a, c) {
                var e = function() {};
                e.prototype = c.prototype;
                a.prototype = new e
            };
            g.extend = function() {
                var a = {},
                    c, e;
                for (c = 0; c < arguments.length; c++)
                    for (e in arguments[c]) arguments[c].hasOwnProperty(e) &&
                        "undefined" === typeof a[e] && (a[e] = arguments[c][e]);
                return a
            };
            g.prepareContent = function(c, e, b, f, m) {
                return n.Promise.resolve(e).then(function(a) {
                    return k.blob && (a instanceof Blob || -1 !== ["[object File]", "[object Blob]"].indexOf(Object.prototype.toString.call(a))) && "undefined" !== typeof FileReader ? new n.Promise(function(c, e) {
                        var b = new FileReader;
                        b.onload = function(a) {
                            c(a.target.result)
                        };
                        b.onerror = function(a) {
                            e(a.target.error)
                        };
                        b.readAsArrayBuffer(a)
                    }) : a
                }).then(function(e) {
                    var q = g.getTypeOf(e);
                    if (!q) return n.Promise.reject(Error("The data of '" +
                        c + "' is in an unsupported format !"));
                    "arraybuffer" === q ? e = g.transformTo("uint8array", e) : "string" === q && (m ? e = l.decode(e) : b && !0 !== f && (q = k.uint8array ? new Uint8Array(e.length) : Array(e.length), e = a(e, q)));
                    return e
                })
            }
        }, {
            "./base64": 1,
            "./external": 6,
            "./nodejsUtils": 14,
            "./support": 30,
            "core-js/library/fn/set-immediate": 36
        }],
        33: [function(b, h, g) {
            function f(a) {
                this.files = [];
                this.loadOptions = a
            }
            var a = b("./reader/readerFor"),
                c = b("./utils"),
                e = b("./signature"),
                k = b("./zipEntry");
            b("./utf8");
            var l = b("./support");
            f.prototype = {
                checkSignature: function(a) {
                    if (!this.reader.readAndCheckSignature(a)) {
                        this.reader.index -= 4;
                        var e = this.reader.readString(4);
                        throw Error("Corrupted zip or bug: unexpected signature (" + c.pretty(e) + ", expected " + c.pretty(a) + ")");
                    }
                },
                isSignature: function(a, c) {
                    var e = this.reader.index;
                    this.reader.setIndex(a);
                    a = this.reader.readString(4) === c;
                    this.reader.setIndex(e);
                    return a
                },
                readBlockEndOfCentral: function() {
                    this.diskNumber = this.reader.readInt(2);
                    this.diskWithCentralDirStart = this.reader.readInt(2);
                    this.centralDirRecordsOnThisDisk =
                        this.reader.readInt(2);
                    this.centralDirRecords = this.reader.readInt(2);
                    this.centralDirSize = this.reader.readInt(4);
                    this.centralDirOffset = this.reader.readInt(4);
                    this.zipCommentLength = this.reader.readInt(2);
                    var a = this.reader.readData(this.zipCommentLength);
                    a = c.transformTo(l.uint8array ? "uint8array" : "array", a);
                    this.zipComment = this.loadOptions.decodeFileName(a)
                },
                readBlockZip64EndOfCentral: function() {
                    this.zip64EndOfCentralSize = this.reader.readInt(8);
                    this.reader.skip(4);
                    this.diskNumber = this.reader.readInt(4);
                    this.diskWithCentralDirStart = this.reader.readInt(4);
                    this.centralDirRecordsOnThisDisk = this.reader.readInt(8);
                    this.centralDirRecords = this.reader.readInt(8);
                    this.centralDirSize = this.reader.readInt(8);
                    this.centralDirOffset = this.reader.readInt(8);
                    this.zip64ExtensibleData = {};
                    for (var a = this.zip64EndOfCentralSize - 44, c, e, b; 0 < a;) c = this.reader.readInt(2), e = this.reader.readInt(4), b = this.reader.readData(e), this.zip64ExtensibleData[c] = {
                        id: c,
                        length: e,
                        value: b
                    }
                },
                readBlockZip64EndOfCentralLocator: function() {
                    this.diskWithZip64CentralDirStart =
                        this.reader.readInt(4);
                    this.relativeOffsetEndOfZip64CentralDir = this.reader.readInt(8);
                    this.disksCount = this.reader.readInt(4);
                    if (1 < this.disksCount) throw Error("Multi-volumes zip are not supported");
                },
                readLocalFiles: function() {
                    var a;
                    for (a = 0; a < this.files.length; a++) {
                        var c = this.files[a];
                        this.reader.setIndex(c.localHeaderOffset);
                        this.checkSignature(e.LOCAL_FILE_HEADER);
                        c.readLocalPart(this.reader);
                        c.handleUTF8();
                        c.processAttributes()
                    }
                },
                readCentralDir: function() {
                    for (this.reader.setIndex(this.centralDirOffset); this.reader.readAndCheckSignature(e.CENTRAL_FILE_HEADER);) {
                        var a =
                            new k({
                                zip64: this.zip64
                            }, this.loadOptions);
                        a.readCentralPart(this.reader);
                        this.files.push(a)
                    }
                    if (this.centralDirRecords !== this.files.length && 0 !== this.centralDirRecords && 0 === this.files.length) throw Error("Corrupted zip or bug: expected " + this.centralDirRecords + " records in central dir, got " + this.files.length);
                },
                readEndOfCentral: function() {
                    var a = this.reader.lastIndexOfSignature(e.CENTRAL_DIRECTORY_END);
                    if (0 > a) {
                        if (this.isSignature(0, e.LOCAL_FILE_HEADER)) throw Error("Corrupted zip: can't find end of central directory");
                        throw Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");
                    }
                    this.reader.setIndex(a);
                    var b = a;
                    this.checkSignature(e.CENTRAL_DIRECTORY_END);
                    this.readBlockEndOfCentral();
                    if (this.diskNumber === c.MAX_VALUE_16BITS || this.diskWithCentralDirStart === c.MAX_VALUE_16BITS || this.centralDirRecordsOnThisDisk === c.MAX_VALUE_16BITS || this.centralDirRecords === c.MAX_VALUE_16BITS || this.centralDirSize === c.MAX_VALUE_32BITS || this.centralDirOffset ===
                        c.MAX_VALUE_32BITS) {
                        this.zip64 = !0;
                        a = this.reader.lastIndexOfSignature(e.ZIP64_CENTRAL_DIRECTORY_LOCATOR);
                        if (0 > a) throw Error("Corrupted zip: can't find the ZIP64 end of central directory locator");
                        this.reader.setIndex(a);
                        this.checkSignature(e.ZIP64_CENTRAL_DIRECTORY_LOCATOR);
                        this.readBlockZip64EndOfCentralLocator();
                        if (!this.isSignature(this.relativeOffsetEndOfZip64CentralDir, e.ZIP64_CENTRAL_DIRECTORY_END) && (this.relativeOffsetEndOfZip64CentralDir = this.reader.lastIndexOfSignature(e.ZIP64_CENTRAL_DIRECTORY_END),
                                0 > this.relativeOffsetEndOfZip64CentralDir)) throw Error("Corrupted zip: can't find the ZIP64 end of central directory");
                        this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir);
                        this.checkSignature(e.ZIP64_CENTRAL_DIRECTORY_END);
                        this.readBlockZip64EndOfCentral()
                    }
                    a = this.centralDirOffset + this.centralDirSize;
                    this.zip64 && (a = a + 20 + (12 + this.zip64EndOfCentralSize));
                    a = b - a;
                    if (0 < a) this.isSignature(b, e.CENTRAL_FILE_HEADER) || (this.reader.zero = a);
                    else if (0 > a) throw Error("Corrupted zip: missing " + Math.abs(a) +
                        " bytes.");
                },
                prepareReader: function(c) {
                    this.reader = a(c)
                },
                load: function(a) {
                    this.prepareReader(a);
                    this.readEndOfCentral();
                    this.readCentralDir();
                    this.readLocalFiles()
                }
            };
            h.exports = f
        }, {
            "./reader/readerFor": 22,
            "./signature": 23,
            "./support": 30,
            "./utf8": 31,
            "./utils": 32,
            "./zipEntry": 34
        }],
        34: [function(b, h, g) {
            function f(a, c) {
                this.options = a;
                this.loadOptions = c
            }
            var a = b("./reader/readerFor"),
                c = b("./utils"),
                e = b("./compressedObject"),
                k = b("./crc32"),
                l = b("./utf8"),
                m = b("./compressions"),
                q = b("./support");
            f.prototype = {
                isEncrypted: function() {
                    return 1 ===
                        (this.bitFlag & 1)
                },
                useUTF8: function() {
                    return 2048 === (this.bitFlag & 2048)
                },
                readLocalPart: function(a) {
                    a.skip(22);
                    this.fileNameLength = a.readInt(2);
                    var b = a.readInt(2);
                    this.fileName = a.readData(this.fileNameLength);
                    a.skip(b);
                    if (-1 === this.compressedSize || -1 === this.uncompressedSize) throw Error("Bug or corrupted zip : didn't get enough informations from the central directory (compressedSize === -1 || uncompressedSize === -1)");
                    a: {
                        b = this.compressionMethod;
                        for (k in m)
                            if (m.hasOwnProperty(k) && m[k].magic === b) {
                                var k =
                                    m[k];
                                break a
                            } k = null
                    }
                    if (null === k) throw Error("Corrupted zip : compression " + c.pretty(this.compressionMethod) + " unknown (inner file : " + c.transformTo("string", this.fileName) + ")");
                    this.decompressed = new e(this.compressedSize, this.uncompressedSize, this.crc32, k, a.readData(this.compressedSize))
                },
                readCentralPart: function(a) {
                    this.versionMadeBy = a.readInt(2);
                    a.skip(2);
                    this.bitFlag = a.readInt(2);
                    this.compressionMethod = a.readString(2);
                    this.date = a.readDate();
                    this.crc32 = a.readInt(4);
                    this.compressedSize = a.readInt(4);
                    this.uncompressedSize = a.readInt(4);
                    var c = a.readInt(2);
                    this.extraFieldsLength = a.readInt(2);
                    this.fileCommentLength = a.readInt(2);
                    this.diskNumberStart = a.readInt(2);
                    this.internalFileAttributes = a.readInt(2);
                    this.externalFileAttributes = a.readInt(4);
                    this.localHeaderOffset = a.readInt(4);
                    if (this.isEncrypted()) throw Error("Encrypted zip are not supported");
                    a.skip(c);
                    this.readExtraFields(a);
                    this.parseZIP64ExtraField(a);
                    this.fileComment = a.readData(this.fileCommentLength)
                },
                processAttributes: function() {
                    this.dosPermissions =
                        this.unixPermissions = null;
                    var a = this.versionMadeBy >> 8;
                    this.dir = this.externalFileAttributes & 16 ? !0 : !1;
                    0 === a && (this.dosPermissions = this.externalFileAttributes & 63);
                    3 === a && (this.unixPermissions = this.externalFileAttributes >> 16 & 65535);
                    this.dir || "/" !== this.fileNameStr.slice(-1) || (this.dir = !0)
                },
                parseZIP64ExtraField: function(e) {
                    this.extraFields[1] && (e = a(this.extraFields[1].value), this.uncompressedSize === c.MAX_VALUE_32BITS && (this.uncompressedSize = e.readInt(8)), this.compressedSize === c.MAX_VALUE_32BITS && (this.compressedSize =
                        e.readInt(8)), this.localHeaderOffset === c.MAX_VALUE_32BITS && (this.localHeaderOffset = e.readInt(8)), this.diskNumberStart === c.MAX_VALUE_32BITS && (this.diskNumberStart = e.readInt(4)))
                },
                readExtraFields: function(a) {
                    var c = a.index + this.extraFieldsLength;
                    this.extraFields || (this.extraFields = {});
                    for (; a.index < c;) {
                        var e = a.readInt(2);
                        var b = a.readInt(2);
                        var k = a.readData(b);
                        this.extraFields[e] = {
                            id: e,
                            length: b,
                            value: k
                        }
                    }
                },
                handleUTF8: function() {
                    var a = q.uint8array ? "uint8array" : "array";
                    if (this.useUTF8()) this.fileNameStr =
                        l.utf8decode(this.fileName), this.fileCommentStr = l.utf8decode(this.fileComment);
                    else {
                        var e = this.findExtraFieldUnicodePath();
                        null !== e ? this.fileNameStr = e : (e = c.transformTo(a, this.fileName), this.fileNameStr = this.loadOptions.decodeFileName(e));
                        e = this.findExtraFieldUnicodeComment();
                        null !== e ? this.fileCommentStr = e : (a = c.transformTo(a, this.fileComment), this.fileCommentStr = this.loadOptions.decodeFileName(a))
                    }
                },
                findExtraFieldUnicodePath: function() {
                    var c = this.extraFields[28789];
                    if (c) {
                        var e = a(c.value);
                        return 1 !==
                            e.readInt(1) || k(this.fileName) !== e.readInt(4) ? null : l.utf8decode(e.readData(c.length - 5))
                    }
                    return null
                },
                findExtraFieldUnicodeComment: function() {
                    var c = this.extraFields[25461];
                    if (c) {
                        var e = a(c.value);
                        return 1 !== e.readInt(1) || k(this.fileComment) !== e.readInt(4) ? null : l.utf8decode(e.readData(c.length - 5))
                    }
                    return null
                }
            };
            h.exports = f
        }, {
            "./compressedObject": 2,
            "./compressions": 3,
            "./crc32": 4,
            "./reader/readerFor": 22,
            "./support": 30,
            "./utf8": 31,
            "./utils": 32
        }],
        35: [function(b, h, g) {
            var f = b("./stream/StreamHelper"),
                a = b("./stream/DataWorker"),
                c = b("./utf8"),
                e = b("./compressedObject"),
                k = b("./stream/GenericWorker");
            b = function(a, c, e) {
                this.name = a;
                this.dir = e.dir;
                this.date = e.date;
                this.comment = e.comment;
                this.unixPermissions = e.unixPermissions;
                this.dosPermissions = e.dosPermissions;
                this._data = c;
                this._dataBinary = e.binary;
                this.options = {
                    compression: e.compression,
                    compressionOptions: e.compressionOptions
                }
            };
            b.prototype = {
                internalStream: function(a) {
                    a = a.toLowerCase();
                    var e = "string" === a || "text" === a;
                    if ("binarystring" === a || "text" === a) a = "string";
                    var b = this._decompressWorker(),
                        k = !this._dataBinary;
                    k && !e && (b = b.pipe(new c.Utf8EncodeWorker));
                    !k && e && (b = b.pipe(new c.Utf8DecodeWorker));
                    return new f(b, a, "")
                },
                async: function(a, c) {
                    return this.internalStream(a).accumulate(c)
                },
                nodeStream: function(a, c) {
                    return this.internalStream(a || "nodebuffer").toNodejsStream(c)
                },
                _compressWorker: function(a, b) {
                    if (this._data instanceof e && this._data.compression.magic === a.magic) return this._data.getCompressedWorker();
                    var k = this._decompressWorker();
                    this._dataBinary || (k = k.pipe(new c.Utf8EncodeWorker));
                    return e.createWorkerFrom(k,
                        a, b)
                },
                _decompressWorker: function() {
                    return this._data instanceof e ? this._data.getContentWorker() : this._data instanceof k ? this._data : new a(this._data)
                }
            };
            g = ["asText", "asBinary", "asNodeBuffer", "asUint8Array", "asArrayBuffer"];
            for (var l = function() {
                    throw Error("This method has been removed in JSZip 3.0, please check the upgrade guide.");
                }, m = 0; m < g.length; m++) b.prototype[g[m]] = l;
            h.exports = b
        }, {
            "./compressedObject": 2,
            "./stream/DataWorker": 27,
            "./stream/GenericWorker": 28,
            "./stream/StreamHelper": 29,
            "./utf8": 31
        }],
        36: [function(b, h, g) {
            b("../modules/web.immediate");
            h.exports = b("../modules/_core").setImmediate
        }, {
            "../modules/_core": 40,
            "../modules/web.immediate": 56
        }],
        37: [function(b, h, g) {
            h.exports = function(b) {
                if ("function" != typeof b) throw TypeError(b + " is not a function!");
                return b
            }
        }, {}],
        38: [function(b, h, g) {
            var f = b("./_is-object");
            h.exports = function(a) {
                if (!f(a)) throw TypeError(a + " is not an object!");
                return a
            }
        }, {
            "./_is-object": 51
        }],
        39: [function(b, h, g) {
            var f = {}.toString;
            h.exports = function(a) {
                return f.call(a).slice(8,
                    -1)
            }
        }, {}],
        40: [function(b, h, g) {
            b = h.exports = {
                version: "2.3.0"
            };
            "number" == typeof __e && (__e = b)
        }, {}],
        41: [function(b, h, g) {
            var f = b("./_a-function");
            h.exports = function(a, c, e) {
                f(a);
                if (void 0 === c) return a;
                switch (e) {
                    case 1:
                        return function(e) {
                            return a.call(c, e)
                        };
                    case 2:
                        return function(e, b) {
                            return a.call(c, e, b)
                        };
                    case 3:
                        return function(e, b, f) {
                            return a.call(c, e, b, f)
                        }
                }
                return function() {
                    return a.apply(c, arguments)
                }
            }
        }, {
            "./_a-function": 37
        }],
        42: [function(b, h, g) {
            h.exports = !b("./_fails")(function() {
                return 7 != Object.defineProperty({},
                    "a", {
                        get: function() {
                            return 7
                        }
                    }).a
            })
        }, {
            "./_fails": 45
        }],
        43: [function(b, h, g) {
            g = b("./_is-object");
            var f = b("./_global").document,
                a = g(f) && g(f.createElement);
            h.exports = function(c) {
                return a ? f.createElement(c) : {}
            }
        }, {
            "./_global": 46,
            "./_is-object": 51
        }],
        44: [function(b, h, g) {
            var f = b("./_global"),
                a = b("./_core"),
                c = b("./_ctx"),
                e = b("./_hide"),
                k = function(b, m, g) {
                    var l = b & k.F,
                        q = b & k.G,
                        h = b & k.S,
                        u = b & k.P,
                        t = b & k.B,
                        v = b & k.W,
                        w = q ? a : a[m] || (a[m] = {}),
                        x = w.prototype;
                    h = q ? f : h ? f[m] : (f[m] || {}).prototype;
                    var y;
                    q && (g = m);
                    for (y in g)
                        if (m = !l &&
                            h && void 0 !== h[y], !(m && y in w)) {
                            var z = m ? h[y] : g[y];
                            w[y] = q && "function" != typeof h[y] ? g[y] : t && m ? c(z, f) : v && h[y] == z ? function(a) {
                                var c = function(c, e, b) {
                                    if (this instanceof a) {
                                        switch (arguments.length) {
                                            case 0:
                                                return new a;
                                            case 1:
                                                return new a(c);
                                            case 2:
                                                return new a(c, e)
                                        }
                                        return new a(c, e, b)
                                    }
                                    return a.apply(this, arguments)
                                };
                                c.prototype = a.prototype;
                                return c
                            }(z) : u && "function" == typeof z ? c(Function.call, z) : z;
                            u && ((w.virtual || (w.virtual = {}))[y] = z, b & k.R && x && !x[y] && e(x, y, z))
                        }
                };
            k.F = 1;
            k.G = 2;
            k.S = 4;
            k.P = 8;
            k.B = 16;
            k.W = 32;
            k.U = 64;
            k.R = 128;
            h.exports = k
        }, {
            "./_core": 40,
            "./_ctx": 41,
            "./_global": 46,
            "./_hide": 47
        }],
        45: [function(b, h, g) {
            h.exports = function(b) {
                try {
                    return !!b()
                } catch (a) {
                    return !0
                }
            }
        }, {}],
        46: [function(b, h, g) {
            b = h.exports = "undefined" != typeof window && Math == Math ? window : "undefined" != typeof self && self.Math == Math ? self : Function("return this")();
            "number" == typeof __g && (__g = b)
        }, {}],
        47: [function(b, h, g) {
            var f = b("./_object-dp"),
                a = b("./_property-desc");
            h.exports = b("./_descriptors") ? function(c, e, b) {
                return f.f(c, e, a(1, b))
            } : function(a, e, b) {
                a[e] =
                    b;
                return a
            }
        }, {
            "./_descriptors": 42,
            "./_object-dp": 52,
            "./_property-desc": 53
        }],
        48: [function(b, h, g) {
            h.exports = b("./_global").document && document.documentElement
        }, {
            "./_global": 46
        }],
        49: [function(b, h, g) {
            h.exports = !b("./_descriptors") && !b("./_fails")(function() {
                return 7 != Object.defineProperty(b("./_dom-create")("div"), "a", {
                    get: function() {
                        return 7
                    }
                }).a
            })
        }, {
            "./_descriptors": 42,
            "./_dom-create": 43,
            "./_fails": 45
        }],
        50: [function(b, h, g) {
            h.exports = function(b, a, c) {
                var e = void 0 === c;
                switch (a.length) {
                    case 0:
                        return e ? b() :
                            b.call(c);
                    case 1:
                        return e ? b(a[0]) : b.call(c, a[0]);
                    case 2:
                        return e ? b(a[0], a[1]) : b.call(c, a[0], a[1]);
                    case 3:
                        return e ? b(a[0], a[1], a[2]) : b.call(c, a[0], a[1], a[2]);
                    case 4:
                        return e ? b(a[0], a[1], a[2], a[3]) : b.call(c, a[0], a[1], a[2], a[3])
                }
                return b.apply(c, a)
            }
        }, {}],
        51: [function(b, h, g) {
            h.exports = function(b) {
                return "object" === typeof b ? null !== b : "function" === typeof b
            }
        }, {}],
        52: [function(b, h, g) {
            var f = b("./_an-object"),
                a = b("./_ie8-dom-define"),
                c = b("./_to-primitive"),
                e = Object.defineProperty;
            g.f = b("./_descriptors") ? Object.defineProperty :
                function(b, l, m) {
                    f(b);
                    l = c(l, !0);
                    f(m);
                    if (a) try {
                        return e(b, l, m)
                    } catch (q) {}
                    if ("get" in m || "set" in m) throw TypeError("Accessors not supported!");
                    "value" in m && (b[l] = m.value);
                    return b
                }
        }, {
            "./_an-object": 38,
            "./_descriptors": 42,
            "./_ie8-dom-define": 49,
            "./_to-primitive": 55
        }],
        53: [function(b, h, g) {
            h.exports = function(b, a) {
                return {
                    enumerable: !(b & 1),
                    configurable: !(b & 2),
                    writable: !(b & 4),
                    value: a
                }
            }
        }, {}],
        54: [function(b, h, g) {
            var f = b("./_ctx"),
                a = b("./_invoke"),
                c = b("./_html"),
                e = b("./_dom-create"),
                k = b("./_global"),
                l = k.process;
            g = k.setImmediate;
            var m = k.clearImmediate,
                q = k.MessageChannel,
                n = 0,
                p = {},
                r = function() {
                    var a = +this;
                    if (p.hasOwnProperty(a)) {
                        var c = p[a];
                        delete p[a];
                        c()
                    }
                },
                u = function(a) {
                    r.call(a.data)
                };
            if (!g || !m)
                if (g = function(c) {
                        for (var e = [], b = 1; arguments.length > b;) e.push(arguments[b++]);
                        p[++n] = function() {
                            a("function" == typeof c ? c : Function(c), e)
                        };
                        t(n);
                        return n
                    }, m = function(a) {
                        delete p[a]
                    }, "process" == b("./_cof")(l)) var t = function(a) {
                    l.nextTick(f(r, a, 1))
                };
                else q ? (b = new q, q = b.port2, b.port1.onmessage = u, t = f(q.postMessage, q, 1)) : k.addEventListener &&
                    "function" == typeof postMessage && !k.importScripts ? (t = function(a) {
                        k.postMessage(a + "", "*")
                    }, k.addEventListener("message", u, !1)) : t = "onreadystatechange" in e("script") ? function(a) {
                        c.appendChild(e("script")).onreadystatechange = function() {
                            c.removeChild(this);
                            r.call(a)
                        }
                    } : function(a) {
                        setTimeout(f(r, a, 1), 0)
                    };
            h.exports = {
                set: g,
                clear: m
            }
        }, {
            "./_cof": 39,
            "./_ctx": 41,
            "./_dom-create": 43,
            "./_global": 46,
            "./_html": 48,
            "./_invoke": 50
        }],
        55: [function(b, h, g) {
            var f = b("./_is-object");
            h.exports = function(a, c) {
                if (!f(a)) return a;
                var e, b;
                if (c && "function" == typeof(e = a.toString) && !f(b = e.call(a)) || "function" == typeof(e = a.valueOf) && !f(b = e.call(a)) || !c && "function" == typeof(e = a.toString) && !f(b = e.call(a))) return b;
                throw TypeError("Can't convert object to primitive value");
            }
        }, {
            "./_is-object": 51
        }],
        56: [function(b, h, g) {
            h = b("./_export");
            b = b("./_task");
            h(h.G + h.B, {
                setImmediate: b.set,
                clearImmediate: b.clear
            })
        }, {
            "./_export": 44,
            "./_task": 54
        }],
        57: [function(b, h, g) {
            (function(b) {
                function a() {
                    g = !0;
                    for (var a, c, e = n.length; e;) {
                        c = n;
                        n = [];
                        for (a = -1; ++a < e;) c[a]();
                        e = n.length
                    }
                    g = !1
                }
                var c = b.MutationObserver || b.WebKitMutationObserver;
                if (c) {
                    var e = 0;
                    c = new c(a);
                    var k = b.document.createTextNode("");
                    c.observe(k, {
                        characterData: !0
                    });
                    var l = function() {
                        k.data = e = ++e % 2
                    }
                } else if (b.setImmediate || "undefined" === typeof b.MessageChannel) l = "document" in b && "onreadystatechange" in b.document.createElement("script") ? function() {
                        var c = b.document.createElement("script");
                        c.onreadystatechange = function() {
                            a();
                            c.onreadystatechange = null;
                            c.parentNode.removeChild(c);
                            c = null
                        };
                        b.document.documentElement.appendChild(c)
                    } :
                    function() {
                        setTimeout(a, 0)
                    };
                else {
                    var f = new b.MessageChannel;
                    f.port1.onmessage = a;
                    l = function() {
                        f.port2.postMessage(0)
                    }
                }
                var g, n = [];
                h.exports = function(a) {
                    1 !== n.push(a) || g || l()
                }
            }).call(this, "undefined" !== typeof global ? global : "undefined" !== typeof self ? self : "undefined" !== typeof window ? window : {})
        }, {}],
        58: [function(b, h, g) {
            function f() {}

            function a(a) {
                if ("function" !== typeof a) throw new TypeError("resolver must be a function");
                this.state = u;
                this.queue = [];
                this.outcome = void 0;
                a !== f && l(this, a)
            }

            function c(a, c, e) {
                this.promise =
                    a;
                "function" === typeof c && (this.onFulfilled = c, this.callFulfilled = this.otherCallFulfilled);
                "function" === typeof e && (this.onRejected = e, this.callRejected = this.otherCallRejected)
            }

            function e(a, c, e) {
                q(function() {
                    try {
                        var b = c(e)
                    } catch (y) {
                        return n.reject(a, y)
                    }
                    b === a ? n.reject(a, new TypeError("Cannot resolve promise with itself")) : n.resolve(a, b)
                })
            }

            function k(a) {
                var c = a && a.then;
                if (a && ("object" === typeof a || "function" === typeof a) && "function" === typeof c) return function() {
                    c.apply(a, arguments)
                }
            }

            function l(a, c) {
                function e(c) {
                    k ||
                        (k = !0, n.reject(a, c))
                }

                function b(c) {
                    k || (k = !0, n.resolve(a, c))
                }
                var k = !1,
                    l = m(function() {
                        c(b, e)
                    });
                "error" === l.status && e(l.value)
            }

            function m(a, c) {
                var e = {};
                try {
                    e.value = a(c), e.status = "success"
                } catch (x) {
                    e.status = "error", e.value = x
                }
                return e
            }
            var q = b("immediate"),
                n = {},
                p = ["REJECTED"],
                r = ["FULFILLED"],
                u = ["PENDING"];
            h.exports = a;
            a.prototype["catch"] = function(a) {
                return this.then(null, a)
            };
            a.prototype.then = function(a, b) {
                if ("function" !== typeof a && this.state === r || "function" !== typeof b && this.state === p) return this;
                var k =
                    new this.constructor(f);
                this.state !== u ? e(k, this.state === r ? a : b, this.outcome) : this.queue.push(new c(k, a, b));
                return k
            };
            c.prototype.callFulfilled = function(a) {
                n.resolve(this.promise, a)
            };
            c.prototype.otherCallFulfilled = function(a) {
                e(this.promise, this.onFulfilled, a)
            };
            c.prototype.callRejected = function(a) {
                n.reject(this.promise, a)
            };
            c.prototype.otherCallRejected = function(a) {
                e(this.promise, this.onRejected, a)
            };
            n.resolve = function(a, c) {
                var e = m(k, c);
                if ("error" === e.status) return n.reject(a, e.value);
                if (e = e.value) l(a,
                    e);
                else {
                    a.state = r;
                    a.outcome = c;
                    e = -1;
                    for (var b = a.queue.length; ++e < b;) a.queue[e].callFulfilled(c)
                }
                return a
            };
            n.reject = function(a, c) {
                a.state = p;
                a.outcome = c;
                for (var e = -1, b = a.queue.length; ++e < b;) a.queue[e].callRejected(c);
                return a
            };
            a.resolve = function(a) {
                return a instanceof this ? a : n.resolve(new this(f), a)
            };
            a.reject = function(a) {
                var c = new this(f);
                return n.reject(c, a)
            };
            a.all = function(a) {
                function c(a, c) {
                    e.resolve(a).then(function(a) {
                        l[c] = a;
                        ++m !== b || k || (k = !0, n.resolve(q, l))
                    }, function(a) {
                        k || (k = !0, n.reject(q, a))
                    })
                }
                var e = this;
                if ("[object Array]" !== Object.prototype.toString.call(a)) return this.reject(new TypeError("must be an array"));
                var b = a.length,
                    k = !1;
                if (!b) return this.resolve([]);
                for (var l = Array(b), m = 0, g = -1, q = new this(f); ++g < b;) c(a[g], g);
                return q
            };
            a.race = function(a) {
                function c(a) {
                    e.resolve(a).then(function(a) {
                        k || (k = !0, n.resolve(m, a))
                    }, function(a) {
                        k || (k = !0, n.reject(m, a))
                    })
                }
                var e = this;
                if ("[object Array]" !== Object.prototype.toString.call(a)) return this.reject(new TypeError("must be an array"));
                var b = a.length,
                    k = !1;
                if (!b) return this.resolve([]);
                for (var l = -1, m = new this(f); ++l < b;) c(a[l]);
                return m
            }
        }, {
            immediate: 57
        }],
        59: [function(b, h, g) {
            g = b("./lib/utils/common").assign;
            var f = b("./lib/deflate"),
                a = b("./lib/inflate");
            b = b("./lib/zlib/constants");
            var c = {};
            g(c, f, a, b);
            h.exports = c
        }, {
            "./lib/deflate": 60,
            "./lib/inflate": 61,
            "./lib/utils/common": 62,
            "./lib/zlib/constants": 65
        }],
        60: [function(b, h, g) {
            function f(a) {
                if (!(this instanceof f)) return new f(a);
                a = this.options = e.assign({
                    level: -1,
                    method: 8,
                    chunkSize: 16384,
                    windowBits: 15,
                    memLevel: 8,
                    strategy: 0,
                    to: ""
                }, a || {});
                a.raw && 0 < a.windowBits ? a.windowBits = -a.windowBits : a.gzip && 0 < a.windowBits && 16 > a.windowBits && (a.windowBits += 16);
                this.err = 0;
                this.msg = "";
                this.ended = !1;
                this.chunks = [];
                this.strm = new m;
                this.strm.avail_out = 0;
                var b = c.deflateInit2(this.strm, a.level, a.method, a.windowBits, a.memLevel, a.strategy);
                if (0 !== b) throw Error(l[b]);
                a.header && c.deflateSetHeader(this.strm, a.header);
                if (a.dictionary) {
                    a = "string" === typeof a.dictionary ? k.string2buf(a.dictionary) : "[object ArrayBuffer]" === q.call(a.dictionary) ?
                        new Uint8Array(a.dictionary) : a.dictionary;
                    b = c.deflateSetDictionary(this.strm, a);
                    if (0 !== b) throw Error(l[b]);
                    this._dict_set = !0
                }
            }

            function a(a, c) {
                c = new f(c);
                c.push(a, !0);
                if (c.err) throw c.msg || l[c.err];
                return c.result
            }
            var c = b("./zlib/deflate"),
                e = b("./utils/common"),
                k = b("./utils/strings"),
                l = b("./zlib/messages"),
                m = b("./zlib/zstream"),
                q = Object.prototype.toString;
            f.prototype.push = function(a, b) {
                var l = this.strm,
                    f = this.options.chunkSize;
                if (this.ended) return !1;
                b = b === ~~b ? b : !0 === b ? 4 : 0;
                "string" === typeof a ? l.input =
                    k.string2buf(a) : "[object ArrayBuffer]" === q.call(a) ? l.input = new Uint8Array(a) : l.input = a;
                l.next_in = 0;
                l.avail_in = l.input.length;
                do {
                    0 === l.avail_out && (l.output = new e.Buf8(f), l.next_out = 0, l.avail_out = f);
                    a = c.deflate(l, b);
                    if (1 !== a && 0 !== a) return this.onEnd(a), this.ended = !0, !1;
                    if (0 === l.avail_out || 0 === l.avail_in && (4 === b || 2 === b))
                        if ("string" === this.options.to) this.onData(k.buf2binstring(e.shrinkBuf(l.output, l.next_out)));
                        else this.onData(e.shrinkBuf(l.output, l.next_out))
                } while ((0 < l.avail_in || 0 === l.avail_out) &&
                    1 !== a);
                if (4 === b) return a = c.deflateEnd(this.strm), this.onEnd(a), this.ended = !0, 0 === a;
                2 === b && (this.onEnd(0), l.avail_out = 0);
                return !0
            };
            f.prototype.onData = function(a) {
                this.chunks.push(a)
            };
            f.prototype.onEnd = function(a) {
                0 === a && (this.result = "string" === this.options.to ? this.chunks.join("") : e.flattenChunks(this.chunks));
                this.chunks = [];
                this.err = a;
                this.msg = this.strm.msg
            };
            g.Deflate = f;
            g.deflate = a;
            g.deflateRaw = function(c, e) {
                e = e || {};
                e.raw = !0;
                return a(c, e)
            };
            g.gzip = function(c, e) {
                e = e || {};
                e.gzip = !0;
                return a(c, e)
            }
        }, {
            "./utils/common": 62,
            "./utils/strings": 63,
            "./zlib/deflate": 67,
            "./zlib/messages": 72,
            "./zlib/zstream": 74
        }],
        61: [function(b, h, g) {
            function f(a) {
                if (!(this instanceof f)) return new f(a);
                var b = this.options = e.assign({
                    chunkSize: 16384,
                    windowBits: 0,
                    to: ""
                }, a || {});
                b.raw && 0 <= b.windowBits && 16 > b.windowBits && (b.windowBits = -b.windowBits, 0 === b.windowBits && (b.windowBits = -15));
                !(0 <= b.windowBits && 16 > b.windowBits) || a && a.windowBits || (b.windowBits += 32);
                15 < b.windowBits && 48 > b.windowBits && 0 === (b.windowBits & 15) && (b.windowBits |= 15);
                this.err = 0;
                this.msg =
                    "";
                this.ended = !1;
                this.chunks = [];
                this.strm = new q;
                this.strm.avail_out = 0;
                a = c.inflateInit2(this.strm, b.windowBits);
                if (a !== l.Z_OK) throw Error(m[a]);
                this.header = new n;
                c.inflateGetHeader(this.strm, this.header)
            }

            function a(a, c) {
                c = new f(c);
                c.push(a, !0);
                if (c.err) throw c.msg || m[c.err];
                return c.result
            }
            var c = b("./zlib/inflate"),
                e = b("./utils/common"),
                k = b("./utils/strings"),
                l = b("./zlib/constants"),
                m = b("./zlib/messages"),
                q = b("./zlib/zstream"),
                n = b("./zlib/gzheader"),
                p = Object.prototype.toString;
            f.prototype.push = function(a,
                b) {
                var f = this.strm,
                    m = this.options.chunkSize,
                    g = this.options.dictionary,
                    q = !1;
                if (this.ended) return !1;
                b = b === ~~b ? b : !0 === b ? l.Z_FINISH : l.Z_NO_FLUSH;
                "string" === typeof a ? f.input = k.binstring2buf(a) : "[object ArrayBuffer]" === p.call(a) ? f.input = new Uint8Array(a) : f.input = a;
                f.next_in = 0;
                f.avail_in = f.input.length;
                do {
                    0 === f.avail_out && (f.output = new e.Buf8(m), f.next_out = 0, f.avail_out = m);
                    a = c.inflate(f, l.Z_NO_FLUSH);
                    a === l.Z_NEED_DICT && g && (a = "string" === typeof g ? k.string2buf(g) : "[object ArrayBuffer]" === p.call(g) ? new Uint8Array(g) :
                        g, a = c.inflateSetDictionary(this.strm, a));
                    a === l.Z_BUF_ERROR && !0 === q && (a = l.Z_OK, q = !1);
                    if (a !== l.Z_STREAM_END && a !== l.Z_OK) return this.onEnd(a), this.ended = !0, !1;
                    if (f.next_out && (0 === f.avail_out || a === l.Z_STREAM_END || 0 === f.avail_in && (b === l.Z_FINISH || b === l.Z_SYNC_FLUSH)))
                        if ("string" === this.options.to) {
                            var h = k.utf8border(f.output, f.next_out);
                            var n = f.next_out - h;
                            var r = k.buf2string(f.output, h);
                            f.next_out = n;
                            f.avail_out = m - n;
                            n && e.arraySet(f.output, f.output, h, n, 0);
                            this.onData(r)
                        } else this.onData(e.shrinkBuf(f.output,
                            f.next_out));
                    0 === f.avail_in && 0 === f.avail_out && (q = !0)
                } while ((0 < f.avail_in || 0 === f.avail_out) && a !== l.Z_STREAM_END);
                a === l.Z_STREAM_END && (b = l.Z_FINISH);
                if (b === l.Z_FINISH) return a = c.inflateEnd(this.strm), this.onEnd(a), this.ended = !0, a === l.Z_OK;
                b === l.Z_SYNC_FLUSH && (this.onEnd(l.Z_OK), f.avail_out = 0);
                return !0
            };
            f.prototype.onData = function(a) {
                this.chunks.push(a)
            };
            f.prototype.onEnd = function(a) {
                a === l.Z_OK && (this.result = "string" === this.options.to ? this.chunks.join("") : e.flattenChunks(this.chunks));
                this.chunks = [];
                this.err = a;
                this.msg = this.strm.msg
            };
            g.Inflate = f;
            g.inflate = a;
            g.inflateRaw = function(c, e) {
                e = e || {};
                e.raw = !0;
                return a(c, e)
            };
            g.ungzip = a
        }, {
            "./utils/common": 62,
            "./utils/strings": 63,
            "./zlib/constants": 65,
            "./zlib/gzheader": 68,
            "./zlib/inflate": 70,
            "./zlib/messages": 72,
            "./zlib/zstream": 74
        }],
        62: [function(b, h, g) {
            b = "undefined" !== typeof Uint8Array && "undefined" !== typeof Uint16Array && "undefined" !== typeof Int32Array;
            g.assign = function(a) {
                for (var c = Array.prototype.slice.call(arguments, 1); c.length;) {
                    var b = c.shift();
                    if (b) {
                        if ("object" !==
                            typeof b) throw new TypeError(b + "must be non-object");
                        for (var l in b) b.hasOwnProperty(l) && (a[l] = b[l])
                    }
                }
                return a
            };
            g.shrinkBuf = function(a, e) {
                if (a.length === e) return a;
                if (a.subarray) return a.subarray(0, e);
                a.length = e;
                return a
            };
            var f = {
                    arraySet: function(a, e, b, l, f) {
                        if (e.subarray && a.subarray) a.set(e.subarray(b, b + l), f);
                        else
                            for (var c = 0; c < l; c++) a[f + c] = e[b + c]
                    },
                    flattenChunks: function(a) {
                        var c, b;
                        var l = b = 0;
                        for (c = a.length; l < c; l++) b += a[l].length;
                        var f = new Uint8Array(b);
                        l = b = 0;
                        for (c = a.length; l < c; l++) {
                            var g = a[l];
                            f.set(g,
                                b);
                            b += g.length
                        }
                        return f
                    }
                },
                a = {
                    arraySet: function(a, e, b, l, f) {
                        for (var c = 0; c < l; c++) a[f + c] = e[b + c]
                    },
                    flattenChunks: function(a) {
                        return [].concat.apply([], a)
                    }
                };
            g.setTyped = function(c) {
                c ? (g.Buf8 = Uint8Array, g.Buf16 = Uint16Array, g.Buf32 = Int32Array, g.assign(g, f)) : (g.Buf8 = Array, g.Buf16 = Array, g.Buf32 = Array, g.assign(g, a))
            };
            g.setTyped(b)
        }, {}],
        63: [function(b, h, g) {
            function f(b, k) {
                if (65537 > k && (b.subarray && e || !b.subarray && c)) return String.fromCharCode.apply(null, a.shrinkBuf(b, k));
                for (var l = "", f = 0; f < k; f++) l += String.fromCharCode(b[f]);
                return l
            }
            var a = b("./common"),
                c = !0,
                e = !0;
            try {
                String.fromCharCode.apply(null, [0])
            } catch (l) {
                c = !1
            }
            try {
                String.fromCharCode.apply(null, new Uint8Array(1))
            } catch (l) {
                e = !1
            }
            var k = new a.Buf8(256);
            for (b = 0; 256 > b; b++) k[b] = 252 <= b ? 6 : 248 <= b ? 5 : 240 <= b ? 4 : 224 <= b ? 3 : 192 <= b ? 2 : 1;
            k[254] = k[254] = 1;
            g.string2buf = function(c) {
                var e, b, k = c.length,
                    l = 0;
                for (e = 0; e < k; e++) {
                    var f = c.charCodeAt(e);
                    if (55296 === (f & 64512) && e + 1 < k) {
                        var g = c.charCodeAt(e + 1);
                        56320 === (g & 64512) && (f = 65536 + (f - 55296 << 10) + (g - 56320), e++)
                    }
                    l += 128 > f ? 1 : 2048 > f ? 2 : 65536 > f ? 3 : 4
                }
                var h =
                    new a.Buf8(l);
                for (e = b = 0; b < l; e++) f = c.charCodeAt(e), 55296 === (f & 64512) && e + 1 < k && (g = c.charCodeAt(e + 1), 56320 === (g & 64512) && (f = 65536 + (f - 55296 << 10) + (g - 56320), e++)), 128 > f ? h[b++] = f : (2048 > f ? h[b++] = 192 | f >>> 6 : (65536 > f ? h[b++] = 224 | f >>> 12 : (h[b++] = 240 | f >>> 18, h[b++] = 128 | f >>> 12 & 63), h[b++] = 128 | f >>> 6 & 63), h[b++] = 128 | f & 63);
                return h
            };
            g.buf2binstring = function(a) {
                return f(a, a.length)
            };
            g.binstring2buf = function(c) {
                for (var e = new a.Buf8(c.length), b = 0, k = e.length; b < k; b++) e[b] = c.charCodeAt(b);
                return e
            };
            g.buf2string = function(a, c) {
                var e,
                    b = c || a.length,
                    l = Array(2 * b);
                for (c = e = 0; c < b;) {
                    var g = a[c++];
                    if (128 > g) l[e++] = g;
                    else {
                        var m = k[g];
                        if (4 < m) l[e++] = 65533, c += m - 1;
                        else {
                            for (g &= 2 === m ? 31 : 3 === m ? 15 : 7; 1 < m && c < b;) g = g << 6 | a[c++] & 63, m--;
                            1 < m ? l[e++] = 65533 : 65536 > g ? l[e++] = g : (g -= 65536, l[e++] = 55296 | g >> 10 & 1023, l[e++] = 56320 | g & 1023)
                        }
                    }
                }
                return f(l, e)
            };
            g.utf8border = function(a, c) {
                var e;
                c = c || a.length;
                c > a.length && (c = a.length);
                for (e = c - 1; 0 <= e && 128 === (a[e] & 192);) e--;
                return 0 > e || 0 === e ? c : e + k[a[e]] > c ? e : c
            }
        }, {
            "./common": 62
        }],
        64: [function(b, h, g) {
            h.exports = function(b, a, c, e) {
                var k =
                    b & 65535 | 0;
                b = b >>> 16 & 65535 | 0;
                for (var l; 0 !== c;) {
                    l = 2E3 < c ? 2E3 : c;
                    c -= l;
                    do k = k + a[e++] | 0, b = b + k | 0; while (--l);
                    k %= 65521;
                    b %= 65521
                }
                return k | b << 16 | 0
            }
        }, {}],
        65: [function(b, h, g) {
            h.exports = {
                Z_NO_FLUSH: 0,
                Z_PARTIAL_FLUSH: 1,
                Z_SYNC_FLUSH: 2,
                Z_FULL_FLUSH: 3,
                Z_FINISH: 4,
                Z_BLOCK: 5,
                Z_TREES: 6,
                Z_OK: 0,
                Z_STREAM_END: 1,
                Z_NEED_DICT: 2,
                Z_ERRNO: -1,
                Z_STREAM_ERROR: -2,
                Z_DATA_ERROR: -3,
                Z_BUF_ERROR: -5,
                Z_NO_COMPRESSION: 0,
                Z_BEST_SPEED: 1,
                Z_BEST_COMPRESSION: 9,
                Z_DEFAULT_COMPRESSION: -1,
                Z_FILTERED: 1,
                Z_HUFFMAN_ONLY: 2,
                Z_RLE: 3,
                Z_FIXED: 4,
                Z_DEFAULT_STRATEGY: 0,
                Z_BINARY: 0,
                Z_TEXT: 1,
                Z_UNKNOWN: 2,
                Z_DEFLATED: 8
            }
        }, {}],
        66: [function(b, h, g) {
            var f = function() {
                for (var a, c = [], e = 0; 256 > e; e++) {
                    a = e;
                    for (var b = 0; 8 > b; b++) a = a & 1 ? 3988292384 ^ a >>> 1 : a >>> 1;
                    c[e] = a
                }
                return c
            }();
            h.exports = function(a, c, e, b) {
                e = b + e;
                for (a ^= -1; b < e; b++) a = a >>> 8 ^ f[(a ^ c[b]) & 255];
                return a ^ -1
            }
        }, {}],
        67: [function(b, h, g) {
            function f(a, c) {
                a.msg = D[c];
                return c
            }

            function a(a) {
                for (var c = a.length; 0 <= --c;) a[c] = 0
            }

            function c(a) {
                var c = a.state,
                    e = c.pending;
                e > a.avail_out && (e = a.avail_out);
                0 !== e && (z.arraySet(a.output, c.pending_buf,
                    c.pending_out, e, a.next_out), a.next_out += e, c.pending_out += e, a.total_out += e, a.avail_out -= e, c.pending -= e, 0 === c.pending && (c.pending_out = 0))
            }

            function e(a, e) {
                B._tr_flush_block(a, 0 <= a.block_start ? a.block_start : -1, a.strstart - a.block_start, e);
                a.block_start = a.strstart;
                c(a.strm)
            }

            function k(a, c) {
                a.pending_buf[a.pending++] = c
            }

            function l(a, c) {
                a.pending_buf[a.pending++] = c >>> 8 & 255;
                a.pending_buf[a.pending++] = c & 255
            }

            function m(a, c) {
                var e = a.max_chain_length,
                    b = a.strstart,
                    k = a.prev_length,
                    l = a.nice_match,
                    f = a.strstart > a.w_size -
                    262 ? a.strstart - (a.w_size - 262) : 0,
                    g = a.window,
                    m = a.w_mask,
                    q = a.prev,
                    h = a.strstart + 258,
                    n = g[b + k - 1],
                    p = g[b + k];
                a.prev_length >= a.good_match && (e >>= 2);
                l > a.lookahead && (l = a.lookahead);
                do {
                    var r = c;
                    if (g[r + k] === p && g[r + k - 1] === n && g[r] === g[b] && g[++r] === g[b + 1]) {
                        b += 2;
                        for (r++; g[++b] === g[++r] && g[++b] === g[++r] && g[++b] === g[++r] && g[++b] === g[++r] && g[++b] === g[++r] && g[++b] === g[++r] && g[++b] === g[++r] && g[++b] === g[++r] && b < h;);
                        r = 258 - (h - b);
                        b = h - 258;
                        if (r > k) {
                            a.match_start = c;
                            k = r;
                            if (r >= l) break;
                            n = g[b + k - 1];
                            p = g[b + k]
                        }
                    }
                } while ((c = q[c & m]) > f && 0 !==
                    --e);
                return k <= a.lookahead ? k : a.lookahead
            }

            function q(a) {
                var c = a.w_size,
                    e;
                do {
                    var b = a.window_size - a.lookahead - a.strstart;
                    if (a.strstart >= c + (c - 262)) {
                        z.arraySet(a.window, a.window, c, c, 0);
                        a.match_start -= c;
                        a.strstart -= c;
                        a.block_start -= c;
                        var k = e = a.hash_size;
                        do {
                            var l = a.head[--k];
                            a.head[k] = l >= c ? l - c : 0
                        } while (--e);
                        k = e = c;
                        do l = a.prev[--k], a.prev[k] = l >= c ? l - c : 0; while (--e);
                        b += c
                    }
                    if (0 === a.strm.avail_in) break;
                    k = a.strm;
                    e = a.window;
                    l = a.strstart + a.lookahead;
                    var f = k.avail_in;
                    f > b && (f = b);
                    0 === f ? e = 0 : (k.avail_in -= f, z.arraySet(e,
                        k.input, k.next_in, f, l), 1 === k.state.wrap ? k.adler = A(k.adler, e, f, l) : 2 === k.state.wrap && (k.adler = C(k.adler, e, f, l)), k.next_in += f, k.total_in += f, e = f);
                    a.lookahead += e;
                    if (3 <= a.lookahead + a.insert)
                        for (b = a.strstart - a.insert, a.ins_h = a.window[b], a.ins_h = (a.ins_h << a.hash_shift ^ a.window[b + 1]) & a.hash_mask; a.insert && !(a.ins_h = (a.ins_h << a.hash_shift ^ a.window[b + 3 - 1]) & a.hash_mask, a.prev[b & a.w_mask] = a.head[a.ins_h], a.head[a.ins_h] = b, b++, a.insert--, 3 > a.lookahead + a.insert););
                } while (262 > a.lookahead && 0 !== a.strm.avail_in)
            }

            function n(a,
                c) {
                for (var b;;) {
                    if (262 > a.lookahead) {
                        q(a);
                        if (262 > a.lookahead && 0 === c) return 1;
                        if (0 === a.lookahead) break
                    }
                    b = 0;
                    3 <= a.lookahead && (a.ins_h = (a.ins_h << a.hash_shift ^ a.window[a.strstart + 3 - 1]) & a.hash_mask, b = a.prev[a.strstart & a.w_mask] = a.head[a.ins_h], a.head[a.ins_h] = a.strstart);
                    0 !== b && a.strstart - b <= a.w_size - 262 && (a.match_length = m(a, b));
                    if (3 <= a.match_length)
                        if (b = B._tr_tally(a, a.strstart - a.match_start, a.match_length - 3), a.lookahead -= a.match_length, a.match_length <= a.max_lazy_match && 3 <= a.lookahead) {
                            a.match_length--;
                            do a.strstart++, a.ins_h = (a.ins_h << a.hash_shift ^ a.window[a.strstart + 3 - 1]) & a.hash_mask, a.prev[a.strstart & a.w_mask] = a.head[a.ins_h], a.head[a.ins_h] = a.strstart; while (0 !== --a.match_length);
                            a.strstart++
                        } else a.strstart += a.match_length, a.match_length = 0, a.ins_h = a.window[a.strstart], a.ins_h = (a.ins_h << a.hash_shift ^ a.window[a.strstart + 1]) & a.hash_mask;
                    else b = B._tr_tally(a, 0, a.window[a.strstart]), a.lookahead--, a.strstart++;
                    if (b && (e(a, !1), 0 === a.strm.avail_out)) return 1
                }
                a.insert = 2 > a.strstart ? a.strstart : 2;
                return 4 ===
                    c ? (e(a, !0), 0 === a.strm.avail_out ? 3 : 4) : a.last_lit && (e(a, !1), 0 === a.strm.avail_out) ? 1 : 2
            }

            function p(a, c) {
                for (var b, k;;) {
                    if (262 > a.lookahead) {
                        q(a);
                        if (262 > a.lookahead && 0 === c) return 1;
                        if (0 === a.lookahead) break
                    }
                    b = 0;
                    3 <= a.lookahead && (a.ins_h = (a.ins_h << a.hash_shift ^ a.window[a.strstart + 3 - 1]) & a.hash_mask, b = a.prev[a.strstart & a.w_mask] = a.head[a.ins_h], a.head[a.ins_h] = a.strstart);
                    a.prev_length = a.match_length;
                    a.prev_match = a.match_start;
                    a.match_length = 2;
                    0 !== b && a.prev_length < a.max_lazy_match && a.strstart - b <= a.w_size - 262 &&
                        (a.match_length = m(a, b), 5 >= a.match_length && (1 === a.strategy || 3 === a.match_length && 4096 < a.strstart - a.match_start) && (a.match_length = 2));
                    if (3 <= a.prev_length && a.match_length <= a.prev_length) {
                        k = a.strstart + a.lookahead - 3;
                        b = B._tr_tally(a, a.strstart - 1 - a.prev_match, a.prev_length - 3);
                        a.lookahead -= a.prev_length - 1;
                        a.prev_length -= 2;
                        do ++a.strstart <= k && (a.ins_h = (a.ins_h << a.hash_shift ^ a.window[a.strstart + 3 - 1]) & a.hash_mask, a.prev[a.strstart & a.w_mask] = a.head[a.ins_h], a.head[a.ins_h] = a.strstart); while (0 !== --a.prev_length);
                        a.match_available = 0;
                        a.match_length = 2;
                        a.strstart++;
                        if (b && (e(a, !1), 0 === a.strm.avail_out)) return 1
                    } else if (a.match_available) {
                        if ((b = B._tr_tally(a, 0, a.window[a.strstart - 1])) && e(a, !1), a.strstart++, a.lookahead--, 0 === a.strm.avail_out) return 1
                    } else a.match_available = 1, a.strstart++, a.lookahead--
                }
                a.match_available && (B._tr_tally(a, 0, a.window[a.strstart - 1]), a.match_available = 0);
                a.insert = 2 > a.strstart ? a.strstart : 2;
                return 4 === c ? (e(a, !0), 0 === a.strm.avail_out ? 3 : 4) : a.last_lit && (e(a, !1), 0 === a.strm.avail_out) ? 1 : 2
            }

            function r(a,
                c) {
                for (var b, k, l, f = a.window;;) {
                    if (258 >= a.lookahead) {
                        q(a);
                        if (258 >= a.lookahead && 0 === c) return 1;
                        if (0 === a.lookahead) break
                    }
                    a.match_length = 0;
                    if (3 <= a.lookahead && 0 < a.strstart && (k = a.strstart - 1, b = f[k], b === f[++k] && b === f[++k] && b === f[++k])) {
                        for (l = a.strstart + 258; b === f[++k] && b === f[++k] && b === f[++k] && b === f[++k] && b === f[++k] && b === f[++k] && b === f[++k] && b === f[++k] && k < l;);
                        a.match_length = 258 - (l - k);
                        a.match_length > a.lookahead && (a.match_length = a.lookahead)
                    }
                    3 <= a.match_length ? (b = B._tr_tally(a, 1, a.match_length - 3), a.lookahead -=
                        a.match_length, a.strstart += a.match_length, a.match_length = 0) : (b = B._tr_tally(a, 0, a.window[a.strstart]), a.lookahead--, a.strstart++);
                    if (b && (e(a, !1), 0 === a.strm.avail_out)) return 1
                }
                a.insert = 0;
                return 4 === c ? (e(a, !0), 0 === a.strm.avail_out ? 3 : 4) : a.last_lit && (e(a, !1), 0 === a.strm.avail_out) ? 1 : 2
            }

            function u(a, c) {
                for (var b;;) {
                    if (0 === a.lookahead && (q(a), 0 === a.lookahead)) {
                        if (0 === c) return 1;
                        break
                    }
                    a.match_length = 0;
                    b = B._tr_tally(a, 0, a.window[a.strstart]);
                    a.lookahead--;
                    a.strstart++;
                    if (b && (e(a, !1), 0 === a.strm.avail_out)) return 1
                }
                a.insert =
                    0;
                return 4 === c ? (e(a, !0), 0 === a.strm.avail_out ? 3 : 4) : a.last_lit && (e(a, !1), 0 === a.strm.avail_out) ? 1 : 2
            }

            function t(a, c, e, b, k) {
                this.good_length = a;
                this.max_lazy = c;
                this.nice_length = e;
                this.max_chain = b;
                this.func = k
            }

            function v() {
                this.strm = null;
                this.status = 0;
                this.pending_buf = null;
                this.wrap = this.pending = this.pending_out = this.pending_buf_size = 0;
                this.gzhead = null;
                this.gzindex = 0;
                this.method = 8;
                this.last_flush = -1;
                this.w_mask = this.w_bits = this.w_size = 0;
                this.window = null;
                this.window_size = 0;
                this.head = this.prev = null;
                this.nice_match =
                    this.good_match = this.strategy = this.level = this.max_lazy_match = this.max_chain_length = this.prev_length = this.lookahead = this.match_start = this.strstart = this.match_available = this.prev_match = this.match_length = this.block_start = this.hash_shift = this.hash_mask = this.hash_bits = this.hash_size = this.ins_h = 0;
                this.dyn_ltree = new z.Buf16(1146);
                this.dyn_dtree = new z.Buf16(122);
                this.bl_tree = new z.Buf16(78);
                a(this.dyn_ltree);
                a(this.dyn_dtree);
                a(this.bl_tree);
                this.bl_desc = this.d_desc = this.l_desc = null;
                this.bl_count = new z.Buf16(16);
                this.heap = new z.Buf16(573);
                a(this.heap);
                this.heap_max = this.heap_len = 0;
                this.depth = new z.Buf16(573);
                a(this.depth);
                this.bi_valid = this.bi_buf = this.insert = this.matches = this.static_len = this.opt_len = this.d_buf = this.last_lit = this.lit_bufsize = this.l_buf = 0
            }

            function w(a) {
                if (!a || !a.state) return f(a, -2);
                a.total_in = a.total_out = 0;
                a.data_type = 2;
                var c = a.state;
                c.pending = 0;
                c.pending_out = 0;
                0 > c.wrap && (c.wrap = -c.wrap);
                c.status = c.wrap ? 42 : 113;
                a.adler = 2 === c.wrap ? 0 : 1;
                c.last_flush = 0;
                B._tr_init(c);
                return 0
            }

            function x(c) {
                var e =
                    w(c);
                0 === e && (c = c.state, c.window_size = 2 * c.w_size, a(c.head), c.max_lazy_match = J[c.level].max_lazy, c.good_match = J[c.level].good_length, c.nice_match = J[c.level].nice_length, c.max_chain_length = J[c.level].max_chain, c.strstart = 0, c.block_start = 0, c.lookahead = 0, c.insert = 0, c.match_length = c.prev_length = 2, c.match_available = 0, c.ins_h = 0);
                return e
            }

            function y(a, c, e, b, k, l) {
                if (!a) return -2;
                var g = 1; - 1 === c && (c = 6);
                0 > b ? (g = 0, b = -b) : 15 < b && (g = 2, b -= 16);
                if (1 > k || 9 < k || 8 !== e || 8 > b || 15 < b || 0 > c || 9 < c || 0 > l || 4 < l) return f(a, -2);
                8 === b && (b =
                    9);
                var m = new v;
                a.state = m;
                m.strm = a;
                m.wrap = g;
                m.gzhead = null;
                m.w_bits = b;
                m.w_size = 1 << m.w_bits;
                m.w_mask = m.w_size - 1;
                m.hash_bits = k + 7;
                m.hash_size = 1 << m.hash_bits;
                m.hash_mask = m.hash_size - 1;
                m.hash_shift = ~~((m.hash_bits + 3 - 1) / 3);
                m.window = new z.Buf8(2 * m.w_size);
                m.head = new z.Buf16(m.hash_size);
                m.prev = new z.Buf16(m.w_size);
                m.lit_bufsize = 1 << k + 6;
                m.pending_buf_size = 4 * m.lit_bufsize;
                m.pending_buf = new z.Buf8(m.pending_buf_size);
                m.d_buf = 1 * m.lit_bufsize;
                m.l_buf = 3 * m.lit_bufsize;
                m.level = c;
                m.strategy = l;
                m.method = e;
                return x(a)
            }
            var z = b("../utils/common"),
                B = b("./trees"),
                A = b("./adler32"),
                C = b("./crc32"),
                D = b("./messages");
            var J = [new t(0, 0, 0, 0, function(a, c) {
                var b = 65535;
                for (b > a.pending_buf_size - 5 && (b = a.pending_buf_size - 5);;) {
                    if (1 >= a.lookahead) {
                        q(a);
                        if (0 === a.lookahead && 0 === c) return 1;
                        if (0 === a.lookahead) break
                    }
                    a.strstart += a.lookahead;
                    a.lookahead = 0;
                    var k = a.block_start + b;
                    if (0 === a.strstart || a.strstart >= k)
                        if (a.lookahead = a.strstart - k, a.strstart = k, e(a, !1), 0 === a.strm.avail_out) return 1;
                    if (a.strstart - a.block_start >= a.w_size - 262 && (e(a, !1),
                            0 === a.strm.avail_out)) return 1
                }
                a.insert = 0;
                if (4 === c) return e(a, !0), 0 === a.strm.avail_out ? 3 : 4;
                a.strstart > a.block_start && e(a, !1);
                return 1
            }), new t(4, 4, 8, 4, n), new t(4, 5, 16, 8, n), new t(4, 6, 32, 32, n), new t(4, 4, 16, 16, p), new t(8, 16, 32, 32, p), new t(8, 16, 128, 128, p), new t(8, 32, 128, 256, p), new t(32, 128, 258, 1024, p), new t(32, 258, 258, 4096, p)];
            g.deflateInit = function(a, c) {
                return y(a, c, 8, 15, 8, 0)
            };
            g.deflateInit2 = y;
            g.deflateReset = x;
            g.deflateResetKeep = w;
            g.deflateSetHeader = function(a, c) {
                if (!a || !a.state || 2 !== a.state.wrap) return -2;
                a.state.gzhead = c;
                return 0
            };
            g.deflate = function(e, b) {
                if (!e || !e.state || 5 < b || 0 > b) return e ? f(e, -2) : -2;
                var g = e.state;
                if (!e.output || !e.input && 0 !== e.avail_in || 666 === g.status && 4 !== b) return f(e, 0 === e.avail_out ? -5 : -2);
                g.strm = e;
                var m = g.last_flush;
                g.last_flush = b;
                if (42 === g.status)
                    if (2 === g.wrap) e.adler = 0, k(g, 31), k(g, 139), k(g, 8), g.gzhead ? (k(g, (g.gzhead.text ? 1 : 0) + (g.gzhead.hcrc ? 2 : 0) + (g.gzhead.extra ? 4 : 0) + (g.gzhead.name ? 8 : 0) + (g.gzhead.comment ? 16 : 0)), k(g, g.gzhead.time & 255), k(g, g.gzhead.time >> 8 & 255), k(g, g.gzhead.time >>
                        16 & 255), k(g, g.gzhead.time >> 24 & 255), k(g, 9 === g.level ? 2 : 2 <= g.strategy || 2 > g.level ? 4 : 0), k(g, g.gzhead.os & 255), g.gzhead.extra && g.gzhead.extra.length && (k(g, g.gzhead.extra.length & 255), k(g, g.gzhead.extra.length >> 8 & 255)), g.gzhead.hcrc && (e.adler = C(e.adler, g.pending_buf, g.pending, 0)), g.gzindex = 0, g.status = 69) : (k(g, 0), k(g, 0), k(g, 0), k(g, 0), k(g, 0), k(g, 9 === g.level ? 2 : 2 <= g.strategy || 2 > g.level ? 4 : 0), k(g, 3), g.status = 113);
                    else {
                        var q = 8 + (g.w_bits - 8 << 4) << 8;
                        q |= (2 <= g.strategy || 2 > g.level ? 0 : 6 > g.level ? 1 : 6 === g.level ? 2 : 3) << 6;
                        0 !==
                            g.strstart && (q |= 32);
                        g.status = 113;
                        l(g, q + (31 - q % 31));
                        0 !== g.strstart && (l(g, e.adler >>> 16), l(g, e.adler & 65535));
                        e.adler = 1
                    } if (69 === g.status)
                    if (g.gzhead.extra) {
                        for (q = g.pending; g.gzindex < (g.gzhead.extra.length & 65535) && (g.pending !== g.pending_buf_size || (g.gzhead.hcrc && g.pending > q && (e.adler = C(e.adler, g.pending_buf, g.pending - q, q)), c(e), q = g.pending, g.pending !== g.pending_buf_size));) k(g, g.gzhead.extra[g.gzindex] & 255), g.gzindex++;
                        g.gzhead.hcrc && g.pending > q && (e.adler = C(e.adler, g.pending_buf, g.pending - q, q));
                        g.gzindex ===
                            g.gzhead.extra.length && (g.gzindex = 0, g.status = 73)
                    } else g.status = 73;
                if (73 === g.status)
                    if (g.gzhead.name) {
                        q = g.pending;
                        do {
                            if (g.pending === g.pending_buf_size && (g.gzhead.hcrc && g.pending > q && (e.adler = C(e.adler, g.pending_buf, g.pending - q, q)), c(e), q = g.pending, g.pending === g.pending_buf_size)) {
                                var h = 1;
                                break
                            }
                            h = g.gzindex < g.gzhead.name.length ? g.gzhead.name.charCodeAt(g.gzindex++) & 255 : 0;
                            k(g, h)
                        } while (0 !== h);
                        g.gzhead.hcrc && g.pending > q && (e.adler = C(e.adler, g.pending_buf, g.pending - q, q));
                        0 === h && (g.gzindex = 0, g.status = 91)
                    } else g.status =
                        91;
                if (91 === g.status)
                    if (g.gzhead.comment) {
                        q = g.pending;
                        do {
                            if (g.pending === g.pending_buf_size && (g.gzhead.hcrc && g.pending > q && (e.adler = C(e.adler, g.pending_buf, g.pending - q, q)), c(e), q = g.pending, g.pending === g.pending_buf_size)) {
                                h = 1;
                                break
                            }
                            h = g.gzindex < g.gzhead.comment.length ? g.gzhead.comment.charCodeAt(g.gzindex++) & 255 : 0;
                            k(g, h)
                        } while (0 !== h);
                        g.gzhead.hcrc && g.pending > q && (e.adler = C(e.adler, g.pending_buf, g.pending - q, q));
                        0 === h && (g.status = 103)
                    } else g.status = 103;
                103 === g.status && (g.gzhead.hcrc ? (g.pending + 2 > g.pending_buf_size &&
                    c(e), g.pending + 2 <= g.pending_buf_size && (k(g, e.adler & 255), k(g, e.adler >> 8 & 255), e.adler = 0, g.status = 113)) : g.status = 113);
                if (0 !== g.pending) {
                    if (c(e), 0 === e.avail_out) return g.last_flush = -1, 0
                } else if (0 === e.avail_in && (b << 1) - (4 < b ? 9 : 0) <= (m << 1) - (4 < m ? 9 : 0) && 4 !== b) return f(e, -5);
                if (666 === g.status && 0 !== e.avail_in) return f(e, -5);
                if (0 !== e.avail_in || 0 !== g.lookahead || 0 !== b && 666 !== g.status) {
                    m = 2 === g.strategy ? u(g, b) : 3 === g.strategy ? r(g, b) : J[g.level].func(g, b);
                    if (3 === m || 4 === m) g.status = 666;
                    if (1 === m || 3 === m) return 0 === e.avail_out &&
                        (g.last_flush = -1), 0;
                    if (2 === m && (1 === b ? B._tr_align(g) : 5 !== b && (B._tr_stored_block(g, 0, 0, !1), 3 === b && (a(g.head), 0 === g.lookahead && (g.strstart = 0, g.block_start = 0, g.insert = 0))), c(e), 0 === e.avail_out)) return g.last_flush = -1, 0
                }
                if (4 !== b) return 0;
                if (0 >= g.wrap) return 1;
                2 === g.wrap ? (k(g, e.adler & 255), k(g, e.adler >> 8 & 255), k(g, e.adler >> 16 & 255), k(g, e.adler >> 24 & 255), k(g, e.total_in & 255), k(g, e.total_in >> 8 & 255), k(g, e.total_in >> 16 & 255), k(g, e.total_in >> 24 & 255)) : (l(g, e.adler >>> 16), l(g, e.adler & 65535));
                c(e);
                0 < g.wrap && (g.wrap = -g.wrap);
                return 0 !== g.pending ? 0 : 1
            };
            g.deflateEnd = function(a) {
                if (!a || !a.state) return -2;
                var c = a.state.status;
                if (42 !== c && 69 !== c && 73 !== c && 91 !== c && 103 !== c && 113 !== c && 666 !== c) return f(a, -2);
                a.state = null;
                return 113 === c ? f(a, -3) : 0
            };
            g.deflateSetDictionary = function(c, e) {
                var b = e.length;
                if (!c || !c.state) return -2;
                var k = c.state;
                var l = k.wrap;
                if (2 === l || 1 === l && 42 !== k.status || k.lookahead) return -2;
                1 === l && (c.adler = A(c.adler, e, b, 0));
                k.wrap = 0;
                if (b >= k.w_size) {
                    0 === l && (a(k.head), k.strstart = 0, k.block_start = 0, k.insert = 0);
                    var f = new z.Buf8(k.w_size);
                    z.arraySet(f, e, b - k.w_size, k.w_size, 0);
                    e = f;
                    b = k.w_size
                }
                f = c.avail_in;
                var g = c.next_in;
                var m = c.input;
                c.avail_in = b;
                c.next_in = 0;
                c.input = e;
                for (q(k); 3 <= k.lookahead;) {
                    e = k.strstart;
                    b = k.lookahead - 2;
                    do k.ins_h = (k.ins_h << k.hash_shift ^ k.window[e + 3 - 1]) & k.hash_mask, k.prev[e & k.w_mask] = k.head[k.ins_h], k.head[k.ins_h] = e, e++; while (--b);
                    k.strstart = e;
                    k.lookahead = 2;
                    q(k)
                }
                k.strstart += k.lookahead;
                k.block_start = k.strstart;
                k.insert = k.lookahead;
                k.lookahead = 0;
                k.match_length = k.prev_length = 2;
                k.match_available = 0;
                c.next_in = g;
                c.input =
                    m;
                c.avail_in = f;
                k.wrap = l;
                return 0
            };
            g.deflateInfo = "pako deflate (from Nodeca project)"
        }, {
            "../utils/common": 62,
            "./adler32": 64,
            "./crc32": 66,
            "./messages": 72,
            "./trees": 73
        }],
        68: [function(b, h, g) {
            h.exports = function() {
                this.os = this.xflags = this.time = this.text = 0;
                this.extra = null;
                this.extra_len = 0;
                this.comment = this.name = "";
                this.hcrc = 0;
                this.done = !1
            }
        }, {}],
        69: [function(b, h, g) {
            h.exports = function(b, a) {
                var c = b.state;
                var e = b.next_in;
                var k = b.input;
                var l = e + (b.avail_in - 5);
                var f = b.next_out;
                var g = b.output;
                a = f - (a - b.avail_out);
                var h = f + (b.avail_out - 257);
                var p = c.dmax;
                var r = c.wsize;
                var u = c.whave;
                var t = c.wnext;
                var v = c.window;
                var w = c.hold;
                var x = c.bits;
                var y = c.lencode;
                var z = c.distcode;
                var B = (1 << c.lenbits) - 1;
                var A = (1 << c.distbits) - 1;
                a: do {
                    15 > x && (w += k[e++] << x, x += 8, w += k[e++] << x, x += 8);
                    var C = y[w & B];
                    b: for (;;) {
                        var D = C >>> 24;
                        w >>>= D;
                        x -= D;
                        D = C >>> 16 & 255;
                        if (0 === D) g[f++] = C & 65535;
                        else if (D & 16) {
                            var J = C & 65535;
                            if (D &= 15) x < D && (w += k[e++] << x, x += 8), J += w & (1 << D) - 1, w >>>= D, x -= D;
                            15 > x && (w += k[e++] << x, x += 8, w += k[e++] << x, x += 8);
                            C = z[w & A];
                            c: for (;;) {
                                D = C >>> 24;
                                w >>>=
                                    D;
                                x -= D;
                                D = C >>> 16 & 255;
                                if (D & 16) {
                                    C &= 65535;
                                    D &= 15;
                                    x < D && (w += k[e++] << x, x += 8, x < D && (w += k[e++] << x, x += 8));
                                    C += w & (1 << D) - 1;
                                    if (C > p) {
                                        b.msg = "invalid distance too far back";
                                        c.mode = 30;
                                        break a
                                    }
                                    w >>>= D;
                                    x -= D;
                                    D = f - a;
                                    if (C > D) {
                                        D = C - D;
                                        if (D > u && c.sane) {
                                            b.msg = "invalid distance too far back";
                                            c.mode = 30;
                                            break a
                                        }
                                        var E = 0;
                                        var K = v;
                                        if (0 === t) {
                                            if (E += r - D, D < J) {
                                                J -= D;
                                                do g[f++] = v[E++]; while (--D);
                                                E = f - C;
                                                K = g
                                            }
                                        } else if (t < D) {
                                            if (E += r + t - D, D -= t, D < J) {
                                                J -= D;
                                                do g[f++] = v[E++]; while (--D);
                                                E = 0;
                                                if (t < J) {
                                                    D = t;
                                                    J -= D;
                                                    do g[f++] = v[E++]; while (--D);
                                                    E = f - C;
                                                    K = g
                                                }
                                            }
                                        } else if (E +=
                                            t - D, D < J) {
                                            J -= D;
                                            do g[f++] = v[E++]; while (--D);
                                            E = f - C;
                                            K = g
                                        }
                                        for (; 2 < J;) g[f++] = K[E++], g[f++] = K[E++], g[f++] = K[E++], J -= 3;
                                        J && (g[f++] = K[E++], 1 < J && (g[f++] = K[E++]))
                                    } else {
                                        E = f - C;
                                        do g[f++] = g[E++], g[f++] = g[E++], g[f++] = g[E++], J -= 3; while (2 < J);
                                        J && (g[f++] = g[E++], 1 < J && (g[f++] = g[E++]))
                                    }
                                } else if (0 === (D & 64)) {
                                    C = z[(C & 65535) + (w & (1 << D) - 1)];
                                    continue c
                                } else {
                                    b.msg = "invalid distance code";
                                    c.mode = 30;
                                    break a
                                }
                                break
                            }
                        } else if (0 === (D & 64)) {
                            C = y[(C & 65535) + (w & (1 << D) - 1)];
                            continue b
                        } else {
                            D & 32 ? c.mode = 12 : (b.msg = "invalid literal/length code", c.mode =
                                30);
                            break a
                        }
                        break
                    }
                } while (e < l && f < h);
                J = x >> 3;
                e -= J;
                x -= J << 3;
                b.next_in = e;
                b.next_out = f;
                b.avail_in = e < l ? 5 + (l - e) : 5 - (e - l);
                b.avail_out = f < h ? 257 + (h - f) : 257 - (f - h);
                c.hold = w & (1 << x) - 1;
                c.bits = x
            }
        }, {}],
        70: [function(b, h, g) {
            function f(a) {
                return (a >>> 24 & 255) + (a >>> 8 & 65280) + ((a & 65280) << 8) + ((a & 255) << 24)
            }

            function a() {
                this.mode = 0;
                this.last = !1;
                this.wrap = 0;
                this.havedict = !1;
                this.total = this.check = this.dmax = this.flags = 0;
                this.head = null;
                this.wnext = this.whave = this.wsize = this.wbits = 0;
                this.window = null;
                this.extra = this.offset = this.length =
                    this.bits = this.hold = 0;
                this.distcode = this.lencode = null;
                this.have = this.ndist = this.nlen = this.ncode = this.distbits = this.lenbits = 0;
                this.next = null;
                this.lens = new q.Buf16(320);
                this.work = new q.Buf16(288);
                this.distdyn = this.lendyn = null;
                this.was = this.back = this.sane = 0
            }

            function c(a) {
                if (!a || !a.state) return -2;
                var c = a.state;
                a.total_in = a.total_out = c.total = 0;
                a.msg = "";
                c.wrap && (a.adler = c.wrap & 1);
                c.mode = 1;
                c.last = 0;
                c.havedict = 0;
                c.dmax = 32768;
                c.head = null;
                c.hold = 0;
                c.bits = 0;
                c.lencode = c.lendyn = new q.Buf32(852);
                c.distcode = c.distdyn =
                    new q.Buf32(592);
                c.sane = 1;
                c.back = -1;
                return 0
            }

            function e(a) {
                if (!a || !a.state) return -2;
                var e = a.state;
                e.wsize = 0;
                e.whave = 0;
                e.wnext = 0;
                return c(a)
            }

            function k(a, c) {
                if (!a || !a.state) return -2;
                var b = a.state;
                if (0 > c) {
                    var k = 0;
                    c = -c
                } else k = (c >> 4) + 1, 48 > c && (c &= 15);
                if (c && (8 > c || 15 < c)) return -2;
                null !== b.window && b.wbits !== c && (b.window = null);
                b.wrap = k;
                b.wbits = c;
                return e(a)
            }

            function l(c, e) {
                if (!c) return -2;
                var b = new a;
                c.state = b;
                b.window = null;
                e = k(c, e);
                0 !== e && (c.state = null);
                return e
            }

            function m(a, c, e, b) {
                var k = a.state;
                null === k.window &&
                    (k.wsize = 1 << k.wbits, k.wnext = 0, k.whave = 0, k.window = new q.Buf8(k.wsize));
                b >= k.wsize ? (q.arraySet(k.window, c, e - k.wsize, k.wsize, 0), k.wnext = 0, k.whave = k.wsize) : (a = k.wsize - k.wnext, a > b && (a = b), q.arraySet(k.window, c, e - b, a, k.wnext), (b -= a) ? (q.arraySet(k.window, c, e - b, b, 0), k.wnext = b, k.whave = k.wsize) : (k.wnext += a, k.wnext === k.wsize && (k.wnext = 0), k.whave < k.wsize && (k.whave += a)));
                return 0
            }
            var q = b("../utils/common"),
                n = b("./adler32"),
                p = b("./crc32"),
                r = b("./inffast"),
                u = b("./inftrees"),
                t = !0,
                v, w;
            g.inflateReset = e;
            g.inflateReset2 =
                k;
            g.inflateResetKeep = c;
            g.inflateInit = function(a) {
                return l(a, 15)
            };
            g.inflateInit2 = l;
            g.inflate = function(a, c) {
                var e, b = new q.Buf8(4),
                    k = [16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15];
                if (!a || !a.state || !a.output || !a.input && 0 !== a.avail_in) return -2;
                var l = a.state;
                12 === l.mode && (l.mode = 13);
                var g = a.next_out;
                var h = a.output;
                var x = a.avail_out;
                var y = a.next_in;
                var I = a.input;
                var H = a.avail_in;
                var G = l.hold;
                var F = l.bits;
                var S = H;
                var N = x;
                var P = 0;
                a: for (;;) switch (l.mode) {
                    case 1:
                        if (0 === l.wrap) {
                            l.mode = 13;
                            break
                        }
                        for (; 16 > F;) {
                            if (0 ===
                                H) break a;
                            H--;
                            G += I[y++] << F;
                            F += 8
                        }
                        if (l.wrap & 2 && 35615 === G) {
                            l.check = 0;
                            b[0] = G & 255;
                            b[1] = G >>> 8 & 255;
                            l.check = p(l.check, b, 2, 0);
                            F = G = 0;
                            l.mode = 2;
                            break
                        }
                        l.flags = 0;
                        l.head && (l.head.done = !1);
                        if (!(l.wrap & 1) || (((G & 255) << 8) + (G >> 8)) % 31) {
                            a.msg = "incorrect header check";
                            l.mode = 30;
                            break
                        }
                        if (8 !== (G & 15)) {
                            a.msg = "unknown compression method";
                            l.mode = 30;
                            break
                        }
                        G >>>= 4;
                        F -= 4;
                        var M = (G & 15) + 8;
                        if (0 === l.wbits) l.wbits = M;
                        else if (M > l.wbits) {
                            a.msg = "invalid window size";
                            l.mode = 30;
                            break
                        }
                        l.dmax = 1 << M;
                        a.adler = l.check = 1;
                        l.mode = G & 512 ? 10 : 12;
                        F = G = 0;
                        break;
                    case 2:
                        for (; 16 > F;) {
                            if (0 === H) break a;
                            H--;
                            G += I[y++] << F;
                            F += 8
                        }
                        l.flags = G;
                        if (8 !== (l.flags & 255)) {
                            a.msg = "unknown compression method";
                            l.mode = 30;
                            break
                        }
                        if (l.flags & 57344) {
                            a.msg = "unknown header flags set";
                            l.mode = 30;
                            break
                        }
                        l.head && (l.head.text = G >> 8 & 1);
                        l.flags & 512 && (b[0] = G & 255, b[1] = G >>> 8 & 255, l.check = p(l.check, b, 2, 0));
                        F = G = 0;
                        l.mode = 3;
                    case 3:
                        for (; 32 > F;) {
                            if (0 === H) break a;
                            H--;
                            G += I[y++] << F;
                            F += 8
                        }
                        l.head && (l.head.time = G);
                        l.flags & 512 && (b[0] = G & 255, b[1] = G >>> 8 & 255, b[2] = G >>> 16 & 255, b[3] = G >>> 24 & 255, l.check = p(l.check, b, 4, 0));
                        F = G =
                            0;
                        l.mode = 4;
                    case 4:
                        for (; 16 > F;) {
                            if (0 === H) break a;
                            H--;
                            G += I[y++] << F;
                            F += 8
                        }
                        l.head && (l.head.xflags = G & 255, l.head.os = G >> 8);
                        l.flags & 512 && (b[0] = G & 255, b[1] = G >>> 8 & 255, l.check = p(l.check, b, 2, 0));
                        F = G = 0;
                        l.mode = 5;
                    case 5:
                        if (l.flags & 1024) {
                            for (; 16 > F;) {
                                if (0 === H) break a;
                                H--;
                                G += I[y++] << F;
                                F += 8
                            }
                            l.length = G;
                            l.head && (l.head.extra_len = G);
                            l.flags & 512 && (b[0] = G & 255, b[1] = G >>> 8 & 255, l.check = p(l.check, b, 2, 0));
                            F = G = 0
                        } else l.head && (l.head.extra = null);
                        l.mode = 6;
                    case 6:
                        if (l.flags & 1024) {
                            var L = l.length;
                            L > H && (L = H);
                            L && (l.head && (M = l.head.extra_len -
                                l.length, l.head.extra || (l.head.extra = Array(l.head.extra_len)), q.arraySet(l.head.extra, I, y, L, M)), l.flags & 512 && (l.check = p(l.check, I, L, y)), H -= L, y += L, l.length -= L);
                            if (l.length) break a
                        }
                        l.length = 0;
                        l.mode = 7;
                    case 7:
                        if (l.flags & 2048) {
                            if (0 === H) break a;
                            L = 0;
                            do M = I[y + L++], l.head && M && 65536 > l.length && (l.head.name += String.fromCharCode(M)); while (M && L < H);
                            l.flags & 512 && (l.check = p(l.check, I, L, y));
                            H -= L;
                            y += L;
                            if (M) break a
                        } else l.head && (l.head.name = null);
                        l.length = 0;
                        l.mode = 8;
                    case 8:
                        if (l.flags & 4096) {
                            if (0 === H) break a;
                            L = 0;
                            do M =
                                I[y + L++], l.head && M && 65536 > l.length && (l.head.comment += String.fromCharCode(M)); while (M && L < H);
                            l.flags & 512 && (l.check = p(l.check, I, L, y));
                            H -= L;
                            y += L;
                            if (M) break a
                        } else l.head && (l.head.comment = null);
                        l.mode = 9;
                    case 9:
                        if (l.flags & 512) {
                            for (; 16 > F;) {
                                if (0 === H) break a;
                                H--;
                                G += I[y++] << F;
                                F += 8
                            }
                            if (G !== (l.check & 65535)) {
                                a.msg = "header crc mismatch";
                                l.mode = 30;
                                break
                            }
                            F = G = 0
                        }
                        l.head && (l.head.hcrc = l.flags >> 9 & 1, l.head.done = !0);
                        a.adler = l.check = 0;
                        l.mode = 12;
                        break;
                    case 10:
                        for (; 32 > F;) {
                            if (0 === H) break a;
                            H--;
                            G += I[y++] << F;
                            F += 8
                        }
                        a.adler = l.check =
                            f(G);
                        F = G = 0;
                        l.mode = 11;
                    case 11:
                        if (0 === l.havedict) return a.next_out = g, a.avail_out = x, a.next_in = y, a.avail_in = H, l.hold = G, l.bits = F, 2;
                        a.adler = l.check = 1;
                        l.mode = 12;
                    case 12:
                        if (5 === c || 6 === c) break a;
                    case 13:
                        if (l.last) {
                            G >>>= F & 7;
                            F -= F & 7;
                            l.mode = 27;
                            break
                        }
                        for (; 3 > F;) {
                            if (0 === H) break a;
                            H--;
                            G += I[y++] << F;
                            F += 8
                        }
                        l.last = G & 1;
                        G >>>= 1;
                        --F;
                        switch (G & 3) {
                            case 0:
                                l.mode = 14;
                                break;
                            case 1:
                                M = l;
                                if (t) {
                                    v = new q.Buf32(512);
                                    w = new q.Buf32(32);
                                    for (L = 0; 144 > L;) M.lens[L++] = 8;
                                    for (; 256 > L;) M.lens[L++] = 9;
                                    for (; 280 > L;) M.lens[L++] = 7;
                                    for (; 288 > L;) M.lens[L++] =
                                        8;
                                    u(1, M.lens, 0, 288, v, 0, M.work, {
                                        bits: 9
                                    });
                                    for (L = 0; 32 > L;) M.lens[L++] = 5;
                                    u(2, M.lens, 0, 32, w, 0, M.work, {
                                        bits: 5
                                    });
                                    t = !1
                                }
                                M.lencode = v;
                                M.lenbits = 9;
                                M.distcode = w;
                                M.distbits = 5;
                                l.mode = 20;
                                if (6 === c) {
                                    G >>>= 2;
                                    F -= 2;
                                    break a
                                }
                                break;
                            case 2:
                                l.mode = 17;
                                break;
                            case 3:
                                a.msg = "invalid block type", l.mode = 30
                        }
                        G >>>= 2;
                        F -= 2;
                        break;
                    case 14:
                        G >>>= F & 7;
                        for (F -= F & 7; 32 > F;) {
                            if (0 === H) break a;
                            H--;
                            G += I[y++] << F;
                            F += 8
                        }
                        if ((G & 65535) !== (G >>> 16 ^ 65535)) {
                            a.msg = "invalid stored block lengths";
                            l.mode = 30;
                            break
                        }
                        l.length = G & 65535;
                        F = G = 0;
                        l.mode = 15;
                        if (6 === c) break a;
                    case 15:
                        l.mode =
                            16;
                    case 16:
                        if (L = l.length) {
                            L > H && (L = H);
                            L > x && (L = x);
                            if (0 === L) break a;
                            q.arraySet(h, I, y, L, g);
                            H -= L;
                            y += L;
                            x -= L;
                            g += L;
                            l.length -= L;
                            break
                        }
                        l.mode = 12;
                        break;
                    case 17:
                        for (; 14 > F;) {
                            if (0 === H) break a;
                            H--;
                            G += I[y++] << F;
                            F += 8
                        }
                        l.nlen = (G & 31) + 257;
                        G >>>= 5;
                        F -= 5;
                        l.ndist = (G & 31) + 1;
                        G >>>= 5;
                        F -= 5;
                        l.ncode = (G & 15) + 4;
                        G >>>= 4;
                        F -= 4;
                        if (286 < l.nlen || 30 < l.ndist) {
                            a.msg = "too many length or distance symbols";
                            l.mode = 30;
                            break
                        }
                        l.have = 0;
                        l.mode = 18;
                    case 18:
                        for (; l.have < l.ncode;) {
                            for (; 3 > F;) {
                                if (0 === H) break a;
                                H--;
                                G += I[y++] << F;
                                F += 8
                            }
                            l.lens[k[l.have++]] = G & 7;
                            G >>>=
                                3;
                            F -= 3
                        }
                        for (; 19 > l.have;) l.lens[k[l.have++]] = 0;
                        l.lencode = l.lendyn;
                        l.lenbits = 7;
                        L = {
                            bits: l.lenbits
                        };
                        P = u(0, l.lens, 0, 19, l.lencode, 0, l.work, L);
                        l.lenbits = L.bits;
                        if (P) {
                            a.msg = "invalid code lengths set";
                            l.mode = 30;
                            break
                        }
                        l.have = 0;
                        l.mode = 19;
                    case 19:
                        for (; l.have < l.nlen + l.ndist;) {
                            for (;;) {
                                var O = l.lencode[G & (1 << l.lenbits) - 1];
                                L = O >>> 24;
                                O &= 65535;
                                if (L <= F) break;
                                if (0 === H) break a;
                                H--;
                                G += I[y++] << F;
                                F += 8
                            }
                            if (16 > O) G >>>= L, F -= L, l.lens[l.have++] = O;
                            else {
                                if (16 === O) {
                                    for (M = L + 2; F < M;) {
                                        if (0 === H) break a;
                                        H--;
                                        G += I[y++] << F;
                                        F += 8
                                    }
                                    G >>>= L;
                                    F -= L;
                                    if (0 ===
                                        l.have) {
                                        a.msg = "invalid bit length repeat";
                                        l.mode = 30;
                                        break
                                    }
                                    M = l.lens[l.have - 1];
                                    L = 3 + (G & 3);
                                    G >>>= 2;
                                    F -= 2
                                } else if (17 === O) {
                                    for (M = L + 3; F < M;) {
                                        if (0 === H) break a;
                                        H--;
                                        G += I[y++] << F;
                                        F += 8
                                    }
                                    G >>>= L;
                                    F -= L;
                                    M = 0;
                                    L = 3 + (G & 7);
                                    G >>>= 3;
                                    F -= 3
                                } else {
                                    for (M = L + 7; F < M;) {
                                        if (0 === H) break a;
                                        H--;
                                        G += I[y++] << F;
                                        F += 8
                                    }
                                    G >>>= L;
                                    F -= L;
                                    M = 0;
                                    L = 11 + (G & 127);
                                    G >>>= 7;
                                    F -= 7
                                }
                                if (l.have + L > l.nlen + l.ndist) {
                                    a.msg = "invalid bit length repeat";
                                    l.mode = 30;
                                    break
                                }
                                for (; L--;) l.lens[l.have++] = M
                            }
                        }
                        if (30 === l.mode) break;
                        if (0 === l.lens[256]) {
                            a.msg = "invalid code -- missing end-of-block";
                            l.mode = 30;
                            break
                        }
                        l.lenbits = 9;
                        L = {
                            bits: l.lenbits
                        };
                        P = u(1, l.lens, 0, l.nlen, l.lencode, 0, l.work, L);
                        l.lenbits = L.bits;
                        if (P) {
                            a.msg = "invalid literal/lengths set";
                            l.mode = 30;
                            break
                        }
                        l.distbits = 6;
                        l.distcode = l.distdyn;
                        L = {
                            bits: l.distbits
                        };
                        P = u(2, l.lens, l.nlen, l.ndist, l.distcode, 0, l.work, L);
                        l.distbits = L.bits;
                        if (P) {
                            a.msg = "invalid distances set";
                            l.mode = 30;
                            break
                        }
                        l.mode = 20;
                        if (6 === c) break a;
                    case 20:
                        l.mode = 21;
                    case 21:
                        if (6 <= H && 258 <= x) {
                            a.next_out = g;
                            a.avail_out = x;
                            a.next_in = y;
                            a.avail_in = H;
                            l.hold = G;
                            l.bits = F;
                            r(a, N);
                            g = a.next_out;
                            h = a.output;
                            x = a.avail_out;
                            y = a.next_in;
                            I = a.input;
                            H = a.avail_in;
                            G = l.hold;
                            F = l.bits;
                            12 === l.mode && (l.back = -1);
                            break
                        }
                        for (l.back = 0;;) {
                            O = l.lencode[G & (1 << l.lenbits) - 1];
                            L = O >>> 24;
                            M = O >>> 16 & 255;
                            O &= 65535;
                            if (L <= F) break;
                            if (0 === H) break a;
                            H--;
                            G += I[y++] << F;
                            F += 8
                        }
                        if (M && 0 === (M & 240)) {
                            var R = L;
                            var Q = M;
                            for (e = O;;) {
                                O = l.lencode[e + ((G & (1 << R + Q) - 1) >> R)];
                                L = O >>> 24;
                                M = O >>> 16 & 255;
                                O &= 65535;
                                if (R + L <= F) break;
                                if (0 === H) break a;
                                H--;
                                G += I[y++] << F;
                                F += 8
                            }
                            G >>>= R;
                            F -= R;
                            l.back += R
                        }
                        G >>>= L;
                        F -= L;
                        l.back += L;
                        l.length = O;
                        if (0 === M) {
                            l.mode = 26;
                            break
                        }
                        if (M & 32) {
                            l.back = -1;
                            l.mode = 12;
                            break
                        }
                        if (M & 64) {
                            a.msg = "invalid literal/length code";
                            l.mode = 30;
                            break
                        }
                        l.extra = M & 15;
                        l.mode = 22;
                    case 22:
                        if (l.extra) {
                            for (M = l.extra; F < M;) {
                                if (0 === H) break a;
                                H--;
                                G += I[y++] << F;
                                F += 8
                            }
                            l.length += G & (1 << l.extra) - 1;
                            G >>>= l.extra;
                            F -= l.extra;
                            l.back += l.extra
                        }
                        l.was = l.length;
                        l.mode = 23;
                    case 23:
                        for (;;) {
                            O = l.distcode[G & (1 << l.distbits) - 1];
                            L = O >>> 24;
                            M = O >>> 16 & 255;
                            O &= 65535;
                            if (L <= F) break;
                            if (0 === H) break a;
                            H--;
                            G += I[y++] << F;
                            F += 8
                        }
                        if (0 === (M & 240)) {
                            R = L;
                            Q = M;
                            for (e = O;;) {
                                O = l.distcode[e + ((G & (1 << R + Q) - 1) >> R)];
                                L = O >>> 24;
                                M = O >>> 16 & 255;
                                O &= 65535;
                                if (R + L <= F) break;
                                if (0 === H) break a;
                                H--;
                                G += I[y++] << F;
                                F += 8
                            }
                            G >>>= R;
                            F -= R;
                            l.back += R
                        }
                        G >>>= L;
                        F -= L;
                        l.back += L;
                        if (M & 64) {
                            a.msg = "invalid distance code";
                            l.mode = 30;
                            break
                        }
                        l.offset = O;
                        l.extra = M & 15;
                        l.mode = 24;
                    case 24:
                        if (l.extra) {
                            for (M = l.extra; F < M;) {
                                if (0 === H) break a;
                                H--;
                                G += I[y++] << F;
                                F += 8
                            }
                            l.offset += G & (1 << l.extra) - 1;
                            G >>>= l.extra;
                            F -= l.extra;
                            l.back += l.extra
                        }
                        if (l.offset > l.dmax) {
                            a.msg = "invalid distance too far back";
                            l.mode = 30;
                            break
                        }
                        l.mode = 25;
                    case 25:
                        if (0 === x) break a;
                        L = N - x;
                        if (l.offset > L) {
                            L = l.offset - L;
                            if (L > l.whave && l.sane) {
                                a.msg =
                                    "invalid distance too far back";
                                l.mode = 30;
                                break
                            }
                            L > l.wnext ? (L -= l.wnext, M = l.wsize - L) : M = l.wnext - L;
                            L > l.length && (L = l.length);
                            R = l.window
                        } else R = h, M = g - l.offset, L = l.length;
                        L > x && (L = x);
                        x -= L;
                        l.length -= L;
                        do h[g++] = R[M++]; while (--L);
                        0 === l.length && (l.mode = 21);
                        break;
                    case 26:
                        if (0 === x) break a;
                        h[g++] = l.length;
                        x--;
                        l.mode = 21;
                        break;
                    case 27:
                        if (l.wrap) {
                            for (; 32 > F;) {
                                if (0 === H) break a;
                                H--;
                                G |= I[y++] << F;
                                F += 8
                            }
                            N -= x;
                            a.total_out += N;
                            l.total += N;
                            N && (a.adler = l.check = l.flags ? p(l.check, h, N, g - N) : n(l.check, h, N, g - N));
                            N = x;
                            if ((l.flags ? G : f(G)) !==
                                l.check) {
                                a.msg = "incorrect data check";
                                l.mode = 30;
                                break
                            }
                            F = G = 0
                        }
                        l.mode = 28;
                    case 28:
                        if (l.wrap && l.flags) {
                            for (; 32 > F;) {
                                if (0 === H) break a;
                                H--;
                                G += I[y++] << F;
                                F += 8
                            }
                            if (G !== (l.total & 4294967295)) {
                                a.msg = "incorrect length check";
                                l.mode = 30;
                                break
                            }
                            F = G = 0
                        }
                        l.mode = 29;
                    case 29:
                        P = 1;
                        break a;
                    case 30:
                        P = -3;
                        break a;
                    case 31:
                        return -4;
                    default:
                        return -2
                }
                a.next_out = g;
                a.avail_out = x;
                a.next_in = y;
                a.avail_in = H;
                l.hold = G;
                l.bits = F;
                if ((l.wsize || N !== a.avail_out && 30 > l.mode && (27 > l.mode || 4 !== c)) && m(a, a.output, a.next_out, N - a.avail_out)) return l.mode =
                    31, -4;
                S -= a.avail_in;
                N -= a.avail_out;
                a.total_in += S;
                a.total_out += N;
                l.total += N;
                l.wrap && N && (a.adler = l.check = l.flags ? p(l.check, h, N, a.next_out - N) : n(l.check, h, N, a.next_out - N));
                a.data_type = l.bits + (l.last ? 64 : 0) + (12 === l.mode ? 128 : 0) + (20 === l.mode || 15 === l.mode ? 256 : 0);
                (0 === S && 0 === N || 4 === c) && 0 === P && (P = -5);
                return P
            };
            g.inflateEnd = function(a) {
                if (!a || !a.state) return -2;
                var c = a.state;
                c.window && (c.window = null);
                a.state = null;
                return 0
            };
            g.inflateGetHeader = function(a, c) {
                if (!a || !a.state) return -2;
                a = a.state;
                if (0 === (a.wrap & 2)) return -2;
                a.head = c;
                c.done = !1;
                return 0
            };
            g.inflateSetDictionary = function(a, c) {
                var e = c.length;
                if (!a || !a.state) return -2;
                var b = a.state;
                if (0 !== b.wrap && 11 !== b.mode) return -2;
                if (11 === b.mode) {
                    var k = n(1, c, e, 0);
                    if (k !== b.check) return -3
                }
                if (m(a, c, e, e)) return b.mode = 31, -4;
                b.havedict = 1;
                return 0
            };
            g.inflateInfo = "pako inflate (from Nodeca project)"
        }, {
            "../utils/common": 62,
            "./adler32": 64,
            "./crc32": 66,
            "./inffast": 69,
            "./inftrees": 71
        }],
        71: [function(b, h, g) {
                var f = b("../utils/common"),
                    a = [3, 4, 5, 6, 7, 8, 9, 10, 11, 13, 15, 17, 19, 23, 27, 31, 35, 43,
                        51, 59, 67, 83, 99, 115, 131, 163, 195, 227, 258, 0, 0
                    ],
                    c = [16, 16, 16, 16, 16, 16, 16, 16, 17, 17, 17, 17, 18, 18, 18, 18, 19, 19, 19, 19, 20, 20, 20, 20, 21, 21, 21, 21, 16, 72, 78],
                    e = [1, 2, 3, 4, 5, 7, 9, 13, 17, 25, 33, 49, 65, 97, 129, 193, 257, 385, 513, 769, 1025, 1537, 2049, 3073, 4097, 6145, 8193, 12289, 16385, 24577, 0, 0],
                    k = [16, 16, 16, 16, 17, 17, 18, 18, 19, 19, 20, 20, 21, 21, 22, 22, 23, 23, 24, 24, 25, 25, 26, 26, 27, 27, 28, 28, 29, 29, 64, 64];
                h.exports = function(b, g, q, h, p, r, u, t) {
                    var l = t.bits,
                        m, n, y, z, B, A, C = 0,
                        D = new f.Buf16(16);
                    var J = new f.Buf16(16);
                    var E, K = 0;
                    for (m = 0; 15 >= m; m++) D[m] = 0;
                    for (n = 0; n < h; n++) D[g[q + n]]++;
                    var I = l;
                    for (y = 15; 1 <= y && 0 === D[y]; y--);
                    I > y && (I = y);
                    if (0 === y) return p[r++] = 20971520, p[r++] = 20971520, t.bits = 1, 0;
                    for (l = 1; l < y && 0 === D[l]; l++);
                    I < l && (I = l);
                    for (m = z = 1; 15 >= m; m++)
                        if (z <<= 1, z -= D[m], 0 > z) return -1;
                    if (0 < z && (0 === b || 1 !== y)) return -1;
                    J[1] = 0;
                    for (m = 1; 15 > m; m++) J[m + 1] = J[m] + D[m];
                    for (n = 0; n < h; n++) 0 !== g[q + n] && (u[J[g[q + n]]++] = n);
                    if (0 === b) {
                        var H = E = u;
                        var G = 19
                    } else 1 === b ? (H = a, C -= 257, E = c, K -= 257, G = 256) : (H = e, E = k, G = -1);
                    n = B = 0;
                    m = l;
                    var F = r;
                    h = I;
                    J = 0;
                    var S = -1;
                    var N = 1 << I;
                    var P = N - 1;
                    if (1 === b && 852 < N ||
                        2 === b && 592 < N) return 1;
                    for (;;) {
                        var M = m - J;
                        if (u[n] < G) {
                            var L = 0;
                            var O = u[n]
                        } else u[n] > G ? (L = E[K + u[n]], O = H[C + u[n]]) : (L = 96, O = 0);
                        z = 1 << m - J;
                        l = A = 1 << h;
                        do A -= z, p[F + (B >> J) + A] = M << 24 | L << 16 | O | 0; while (0 !== A);
                        for (z = 1 << m - 1; B & z;) z >>= 1;
                        0 !== z ? (B &= z - 1, B += z) : B = 0;
                        n++;
                        if (0 === --D[m]) {
                            if (m === y) break;
                            m = g[q + u[n]]
                        }
                        if (m > I && (B & P) !== S) {
                            0 === J && (J = I);
                            F += l;
                            h = m - J;
                            for (z = 1 << h; h + J < y;) {
                                z -= D[h + J];
                                if (0 >= z) break;
                                h++;
                                z <<= 1
                            }
                            N += 1 << h;
                            if (1 === b && 852 < N || 2 === b && 592 < N) return 1;
                            S = B & P;
                            p[S] = I << 24 | h << 16 | F - r | 0
                        }
                    }
                    0 !== B && (p[F + B] = m - J << 24 | 4194304);
                    t.bits = I;
                    return 0
                }
            },
            {
                "../utils/common": 62
            }
        ],
        72: [function(b, h, g) {
            h.exports = {
                2: "need dictionary",
                1: "stream end",
                0: "",
                "-1": "file error",
                "-2": "stream error",
                "-3": "data error",
                "-4": "insufficient memory",
                "-5": "buffer error",
                "-6": "incompatible version"
            }
        }, {}],
        73: [function(b, h, g) {
            function f(a) {
                for (var c = a.length; 0 <= --c;) a[c] = 0
            }

            function a(a, c, e, b, k) {
                this.static_tree = a;
                this.extra_bits = c;
                this.extra_base = e;
                this.elems = b;
                this.max_length = k;
                this.has_stree = a && a.length
            }

            function c(a, c) {
                this.dyn_tree = a;
                this.max_code = 0;
                this.stat_desc = c
            }

            function e(a,
                c) {
                a.pending_buf[a.pending++] = c & 255;
                a.pending_buf[a.pending++] = c >>> 8 & 255
            }

            function k(a, c, b) {
                a.bi_valid > 16 - b ? (a.bi_buf |= c << a.bi_valid & 65535, e(a, a.bi_buf), a.bi_buf = c >> 16 - a.bi_valid, a.bi_valid += b - 16) : (a.bi_buf |= c << a.bi_valid & 65535, a.bi_valid += b)
            }

            function l(a, c, e) {
                k(a, e[2 * c], e[2 * c + 1])
            }

            function m(a, c) {
                var e = 0;
                do e |= a & 1, a >>>= 1, e <<= 1; while (0 < --c);
                return e >>> 1
            }

            function q(a, c, e) {
                var b = Array(16),
                    k = 0,
                    l;
                for (l = 1; 15 >= l; l++) b[l] = k = k + e[l - 1] << 1;
                for (e = 0; e <= c; e++) k = a[2 * e + 1], 0 !== k && (a[2 * e] = m(b[k]++, k))
            }

            function n(a) {
                var c;
                for (c = 0; 286 > c; c++) a.dyn_ltree[2 * c] = 0;
                for (c = 0; 30 > c; c++) a.dyn_dtree[2 * c] = 0;
                for (c = 0; 19 > c; c++) a.bl_tree[2 * c] = 0;
                a.dyn_ltree[512] = 1;
                a.opt_len = a.static_len = 0;
                a.last_lit = a.matches = 0
            }

            function p(a) {
                8 < a.bi_valid ? e(a, a.bi_buf) : 0 < a.bi_valid && (a.pending_buf[a.pending++] = a.bi_buf);
                a.bi_buf = 0;
                a.bi_valid = 0
            }

            function r(a, c, e, b) {
                var k = 2 * c,
                    l = 2 * e;
                return a[k] < a[l] || a[k] === a[l] && b[c] <= b[e]
            }

            function u(a, c, e) {
                for (var b = a.heap[e], k = e << 1; k <= a.heap_len;) {
                    k < a.heap_len && r(c, a.heap[k + 1], a.heap[k], a.depth) && k++;
                    if (r(c, b, a.heap[k],
                            a.depth)) break;
                    a.heap[e] = a.heap[k];
                    e = k;
                    k <<= 1
                }
                a.heap[e] = b
            }

            function t(a, c, e) {
                var b = 0;
                if (0 !== a.last_lit) {
                    do {
                        var f = a.pending_buf[a.d_buf + 2 * b] << 8 | a.pending_buf[a.d_buf + 2 * b + 1];
                        var g = a.pending_buf[a.l_buf + b];
                        b++;
                        if (0 === f) l(a, g, c);
                        else {
                            var m = H[g];
                            l(a, m + 256 + 1, c);
                            var q = A[m];
                            0 !== q && (g -= G[m], k(a, g, q));
                            f--;
                            m = 256 > f ? I[f] : I[256 + (f >>> 7)];
                            l(a, m, e);
                            q = C[m];
                            0 !== q && (f -= F[m], k(a, f, q))
                        }
                    } while (b < a.last_lit)
                }
                l(a, 256, c)
            }

            function v(a, c) {
                var e = c.dyn_tree,
                    b = c.stat_desc.static_tree,
                    k = c.stat_desc.has_stree,
                    l = c.stat_desc.elems,
                    f,
                    g = -1;
                a.heap_len = 0;
                a.heap_max = 573;
                for (f = 0; f < l; f++) 0 !== e[2 * f] ? (a.heap[++a.heap_len] = g = f, a.depth[f] = 0) : e[2 * f + 1] = 0;
                for (; 2 > a.heap_len;) {
                    var m = a.heap[++a.heap_len] = 2 > g ? ++g : 0;
                    e[2 * m] = 1;
                    a.depth[m] = 0;
                    a.opt_len--;
                    k && (a.static_len -= b[2 * m + 1])
                }
                c.max_code = g;
                for (f = a.heap_len >> 1; 1 <= f; f--) u(a, e, f);
                m = l;
                do f = a.heap[1], a.heap[1] = a.heap[a.heap_len--], u(a, e, 1), b = a.heap[1], a.heap[--a.heap_max] = f, a.heap[--a.heap_max] = b, e[2 * m] = e[2 * f] + e[2 * b], a.depth[m] = (a.depth[f] >= a.depth[b] ? a.depth[f] : a.depth[b]) + 1, e[2 * f + 1] = e[2 * b + 1] = m, a.heap[1] =
                    m++, u(a, e, 1); while (2 <= a.heap_len);
                a.heap[--a.heap_max] = a.heap[1];
                f = c.dyn_tree;
                m = c.max_code;
                b = c.stat_desc.static_tree;
                k = c.stat_desc.has_stree;
                l = c.stat_desc.extra_bits;
                var h = c.stat_desc.extra_base,
                    n = c.stat_desc.max_length,
                    p, r = 0;
                for (p = 0; 15 >= p; p++) a.bl_count[p] = 0;
                f[2 * a.heap[a.heap_max] + 1] = 0;
                for (c = a.heap_max + 1; 573 > c; c++) {
                    var t = a.heap[c];
                    p = f[2 * f[2 * t + 1] + 1] + 1;
                    p > n && (p = n, r++);
                    f[2 * t + 1] = p;
                    if (!(t > m)) {
                        a.bl_count[p]++;
                        var v = 0;
                        t >= h && (v = l[t - h]);
                        var w = f[2 * t];
                        a.opt_len += w * (p + v);
                        k && (a.static_len += w * (b[2 * t + 1] + v))
                    }
                }
                if (0 !==
                    r) {
                    do {
                        for (p = n - 1; 0 === a.bl_count[p];) p--;
                        a.bl_count[p]--;
                        a.bl_count[p + 1] += 2;
                        a.bl_count[n]--;
                        r -= 2
                    } while (0 < r);
                    for (p = n; 0 !== p; p--)
                        for (t = a.bl_count[p]; 0 !== t;) b = a.heap[--c], b > m || (f[2 * b + 1] !== p && (a.opt_len += (p - f[2 * b + 1]) * f[2 * b], f[2 * b + 1] = p), t--)
                }
                q(e, g, a.bl_count)
            }

            function w(a, c, e) {
                var b, k = -1,
                    l = c[1],
                    f = 0,
                    g = 7,
                    m = 4;
                0 === l && (g = 138, m = 3);
                c[2 * (e + 1) + 1] = 65535;
                for (b = 0; b <= e; b++) {
                    var q = l;
                    l = c[2 * (b + 1) + 1];
                    ++f < g && q === l || (f < m ? a.bl_tree[2 * q] += f : 0 !== q ? (q !== k && a.bl_tree[2 * q]++, a.bl_tree[32]++) : 10 >= f ? a.bl_tree[34]++ : a.bl_tree[36]++,
                        f = 0, k = q, 0 === l ? (g = 138, m = 3) : q === l ? (g = 6, m = 3) : (g = 7, m = 4))
                }
            }

            function x(a, c, e) {
                var b, f = -1,
                    g = c[1],
                    m = 0,
                    q = 7,
                    h = 4;
                0 === g && (q = 138, h = 3);
                for (b = 0; b <= e; b++) {
                    var n = g;
                    g = c[2 * (b + 1) + 1];
                    if (!(++m < q && n === g)) {
                        if (m < h) {
                            do l(a, n, a.bl_tree); while (0 !== --m)
                        } else 0 !== n ? (n !== f && (l(a, n, a.bl_tree), m--), l(a, 16, a.bl_tree), k(a, m - 3, 2)) : 10 >= m ? (l(a, 17, a.bl_tree), k(a, m - 3, 3)) : (l(a, 18, a.bl_tree), k(a, m - 11, 7));
                        m = 0;
                        f = n;
                        0 === g ? (q = 138, h = 3) : n === g ? (q = 6, h = 3) : (q = 7, h = 4)
                    }
                }
            }

            function y(a) {
                var c = 4093624447,
                    e;
                for (e = 0; 31 >= e; e++, c >>>= 1)
                    if (c & 1 && 0 !== a.dyn_ltree[2 *
                            e]) return 0;
                if (0 !== a.dyn_ltree[18] || 0 !== a.dyn_ltree[20] || 0 !== a.dyn_ltree[26]) return 1;
                for (e = 32; 256 > e; e++)
                    if (0 !== a.dyn_ltree[2 * e]) return 1;
                return 0
            }

            function z(a, c, b, l) {
                k(a, 0 + (l ? 1 : 0), 3);
                p(a);
                e(a, b);
                e(a, ~b);
                B.arraySet(a.pending_buf, a.window, c, b, a.pending);
                a.pending += b
            }
            var B = b("../utils/common"),
                A = [0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 2, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4, 4, 5, 5, 5, 5, 0],
                C = [0, 0, 0, 0, 1, 1, 2, 2, 3, 3, 4, 4, 5, 5, 6, 6, 7, 7, 8, 8, 9, 9, 10, 10, 11, 11, 12, 12, 13, 13],
                D = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 3, 7],
                J = [16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4,
                    12, 3, 13, 2, 14, 1, 15
                ],
                E = Array(576);
            f(E);
            var K = Array(60);
            f(K);
            var I = Array(512);
            f(I);
            var H = Array(256);
            f(H);
            var G = Array(29);
            f(G);
            var F = Array(30);
            f(F);
            var S, N, P, M = !1;
            g._tr_init = function(e) {
                if (!M) {
                    var b, k, l, f = Array(16);
                    for (l = k = 0; 28 > l; l++)
                        for (G[l] = k, b = 0; b < 1 << A[l]; b++) H[k++] = l;
                    H[k - 1] = l;
                    for (l = k = 0; 16 > l; l++)
                        for (F[l] = k, b = 0; b < 1 << C[l]; b++) I[k++] = l;
                    for (k >>= 7; 30 > l; l++)
                        for (F[l] = k << 7, b = 0; b < 1 << C[l] - 7; b++) I[256 + k++] = l;
                    for (b = 0; 15 >= b; b++) f[b] = 0;
                    for (b = 0; 143 >= b;) E[2 * b + 1] = 8, b++, f[8]++;
                    for (; 255 >= b;) E[2 * b + 1] = 9, b++, f[9]++;
                    for (; 279 >=
                        b;) E[2 * b + 1] = 7, b++, f[7]++;
                    for (; 287 >= b;) E[2 * b + 1] = 8, b++, f[8]++;
                    q(E, 287, f);
                    for (b = 0; 30 > b; b++) K[2 * b + 1] = 5, K[2 * b] = m(b, 5);
                    S = new a(E, A, 257, 286, 15);
                    N = new a(K, C, 0, 30, 15);
                    P = new a([], D, 0, 19, 7);
                    M = !0
                }
                e.l_desc = new c(e.dyn_ltree, S);
                e.d_desc = new c(e.dyn_dtree, N);
                e.bl_desc = new c(e.bl_tree, P);
                e.bi_buf = 0;
                e.bi_valid = 0;
                n(e)
            };
            g._tr_stored_block = z;
            g._tr_flush_block = function(a, c, e, b) {
                var l = 0;
                if (0 < a.level) {
                    2 === a.strm.data_type && (a.strm.data_type = y(a));
                    v(a, a.l_desc);
                    v(a, a.d_desc);
                    w(a, a.dyn_ltree, a.l_desc.max_code);
                    w(a, a.dyn_dtree,
                        a.d_desc.max_code);
                    v(a, a.bl_desc);
                    for (l = 18; 3 <= l && 0 === a.bl_tree[2 * J[l] + 1]; l--);
                    a.opt_len += 3 * (l + 1) + 14;
                    var f = a.opt_len + 3 + 7 >>> 3;
                    var g = a.static_len + 3 + 7 >>> 3;
                    g <= f && (f = g)
                } else f = g = e + 5;
                if (e + 4 <= f && -1 !== c) z(a, c, e, b);
                else if (4 === a.strategy || g === f) k(a, 2 + (b ? 1 : 0), 3), t(a, E, K);
                else {
                    k(a, 4 + (b ? 1 : 0), 3);
                    c = a.l_desc.max_code + 1;
                    e = a.d_desc.max_code + 1;
                    l += 1;
                    k(a, c - 257, 5);
                    k(a, e - 1, 5);
                    k(a, l - 4, 4);
                    for (f = 0; f < l; f++) k(a, a.bl_tree[2 * J[f] + 1], 3);
                    x(a, a.dyn_ltree, c - 1);
                    x(a, a.dyn_dtree, e - 1);
                    t(a, a.dyn_ltree, a.dyn_dtree)
                }
                n(a);
                b && p(a)
            };
            g._tr_tally =
                function(a, c, e) {
                    a.pending_buf[a.d_buf + 2 * a.last_lit] = c >>> 8 & 255;
                    a.pending_buf[a.d_buf + 2 * a.last_lit + 1] = c & 255;
                    a.pending_buf[a.l_buf + a.last_lit] = e & 255;
                    a.last_lit++;
                    0 === c ? a.dyn_ltree[2 * e]++ : (a.matches++, c--, a.dyn_ltree[2 * (H[e] + 256 + 1)]++, a.dyn_dtree[2 * (256 > c ? I[c] : I[256 + (c >>> 7)])]++);
                    return a.last_lit === a.lit_bufsize - 1
                };
            g._tr_align = function(a) {
                k(a, 2, 3);
                l(a, 256, E);
                16 === a.bi_valid ? (e(a, a.bi_buf), a.bi_buf = 0, a.bi_valid = 0) : 8 <= a.bi_valid && (a.pending_buf[a.pending++] = a.bi_buf & 255, a.bi_buf >>= 8, a.bi_valid -= 8)
            }
        }, {
            "../utils/common": 62
        }],
        74: [function(b, h, g) {
            h.exports = function() {
                this.input = null;
                this.total_in = this.avail_in = this.next_in = 0;
                this.output = null;
                this.total_out = this.avail_out = this.next_out = 0;
                this.msg = "";
                this.state = null;
                this.data_type = 2;
                this.adler = 0
            }
        }, {}]
    }, {}, [10])(10)
});
! function(d) {
    if ("object" == typeof exports) module.exports = d();
    else {
        var b;
        "undefined" != typeof window ? b = window : "undefined" != typeof global ? b = global : "undefined" != typeof self && (b = self);
        b.p2 = d()
    }
}(function() {
    return function f(b, h, g) {
        function a(e, l) {
            if (!h[e]) {
                if (!b[e]) {
                    var k = "function" == typeof require && require;
                    if (!l && k) return k(e, !0);
                    if (c) return c(e, !0);
                    throw Error("Cannot find module '" + e + "'");
                }
                l = h[e] = {
                    exports: {}
                };
                b[e][0].call(l.exports, function(c) {
                    var k = b[e][1][c];
                    return a(k ? k : c)
                }, l, l.exports, f, b, h, g)
            }
            return h[e].exports
        }
        for (var c = "function" == typeof require && require, e = 0; e < g.length; e++) a(g[e]);
        return a
    }({
        1: [function(b, h, g) {
            function f() {}
            var a = b("./Scalar");
            h.exports = f;
            f.lineInt = function(c, e, b) {
                var k = [0, 0];
                var f = c[1][1] - c[0][1];
                var g = c[0][0] - c[1][0];
                c = f * c[0][0] + g * c[0][1];
                var h = e[1][1] - e[0][1];
                var p = e[0][0] - e[1][0];
                e = h * e[0][0] + p * e[0][1];
                var r = f * p - h * g;
                a.eq(r, 0, b || 0) || (k[0] = (p * c - g * e) / r, k[1] = (f * e - h * c) / r);
                return k
            };
            f.segmentsIntersect = function(a, e, b, l) {
                var c = e[0] - a[0];
                e = e[1] - a[1];
                var k = l[0] - b[0],
                    f = l[1] - b[1];
                if (0 == k * e - f *
                    c) return !1;
                l = (c * (b[1] - a[1]) + e * (a[0] - b[0])) / (k * e - f * c);
                a = (k * (a[1] - b[1]) + f * (b[0] - a[0])) / (f * c - k * e);
                return 0 <= l && 1 >= l && 0 <= a && 1 >= a
            }
        }, {
            "./Scalar": 4
        }],
        2: [function(b, h, g) {
            function f() {}
            h.exports = f;
            f.area = function(a, c, b) {
                return (c[0] - a[0]) * (b[1] - a[1]) - (b[0] - a[0]) * (c[1] - a[1])
            };
            f.left = function(a, c, b) {
                return 0 < f.area(a, c, b)
            };
            f.leftOn = function(a, c, b) {
                return 0 <= f.area(a, c, b)
            };
            f.right = function(a, c, b) {
                return 0 > f.area(a, c, b)
            };
            f.rightOn = function(a, c, b) {
                return 0 >= f.area(a, c, b)
            };
            var a = [],
                c = [];
            f.collinear = function(e, b,
                l, g) {
                return g ? (a[0] = b[0] - e[0], a[1] = b[1] - e[1], c[0] = l[0] - b[0], c[1] = l[1] - b[1], Math.acos((a[0] * c[0] + a[1] * c[1]) / (Math.sqrt(a[0] * a[0] + a[1] * a[1]) * Math.sqrt(c[0] * c[0] + c[1] * c[1]))) < g) : 0 == f.area(e, b, l)
            };
            f.sqdist = function(a, c) {
                var e = c[0] - a[0];
                a = c[1] - a[1];
                return e * e + a * a
            }
        }, {}],
        3: [function(b, h, g) {
            function f() {
                this.vertices = []
            }

            function a(a, c, e, b, l) {
                var f = c[1] - a[1];
                c = a[0] - c[0];
                a = f * a[0] + c * a[1];
                var g = b[1] - e[1];
                b = e[0] - b[0];
                e = g * e[0] + b * e[1];
                var m = f * b - g * c;
                return k.eq(m, 0, l || 0) ? [0, 0] : [(b * a - c * e) / m, (f * e - g * a) / m]
            }
            var c = b("./Line"),
                e = b("./Point"),
                k = b("./Scalar");
            h.exports = f;
            f.prototype.at = function(a) {
                var c = this.vertices,
                    e = c.length;
                return c[0 > a ? a % e + e : a % e]
            };
            f.prototype.first = function() {
                return this.vertices[0]
            };
            f.prototype.last = function() {
                return this.vertices[this.vertices.length - 1]
            };
            f.prototype.clear = function() {
                this.vertices.length = 0
            };
            f.prototype.append = function(a, c, e) {
                if ("undefined" == typeof c) throw Error("From is not given!");
                if ("undefined" == typeof e) throw Error("To is not given!");
                if (e - 1 < c) throw Error("lol1");
                if (e > a.vertices.length) throw Error("lol2");
                if (0 > c) throw Error("lol3");
                for (; c < e; c++) this.vertices.push(a.vertices[c])
            };
            f.prototype.makeCCW = function() {
                for (var a = 0, c = this.vertices, b = 1; b < this.vertices.length; ++b)
                    if (c[b][1] < c[a][1] || c[b][1] == c[a][1] && c[b][0] > c[a][0]) a = b;
                e.left(this.at(a - 1), this.at(a), this.at(a + 1)) || this.reverse()
            };
            f.prototype.reverse = function() {
                for (var a = [], c = 0, e = this.vertices.length; c !== e; c++) a.push(this.vertices.pop());
                this.vertices = a
            };
            f.prototype.isReflex = function(a) {
                return e.right(this.at(a - 1), this.at(a), this.at(a + 1))
            };
            var l = [],
                m = [];
            f.prototype.canSee = function(a, b) {
                if (e.leftOn(this.at(a + 1), this.at(a), this.at(b)) && e.rightOn(this.at(a - 1), this.at(a), this.at(b))) return !1;
                var k = e.sqdist(this.at(a), this.at(b));
                for (var f = 0; f !== this.vertices.length; ++f)
                    if ((f + 1) % this.vertices.length !== a && f !== a && e.leftOn(this.at(a), this.at(b), this.at(f + 1)) && e.rightOn(this.at(a), this.at(b), this.at(f))) {
                        l[0] = this.at(a);
                        l[1] = this.at(b);
                        m[0] = this.at(f);
                        m[1] = this.at(f + 1);
                        var g = c.lineInt(l, m);
                        if (e.sqdist(this.at(a), g) < k) return !1
                    } return !0
            };
            f.prototype.copy =
                function(a, c, e) {
                    e = e || new f;
                    e.clear();
                    if (a < c)
                        for (var b = a; b <= c; b++) e.vertices.push(this.vertices[b]);
                    else {
                        for (b = 0; b <= c; b++) e.vertices.push(this.vertices[b]);
                        for (b = a; b < this.vertices.length; b++) e.vertices.push(this.vertices[b])
                    }
                    return e
                };
            f.prototype.getCutEdges = function() {
                for (var a = [], c, e, b = new f, k = Number.MAX_VALUE, l = 0; l < this.vertices.length; ++l)
                    if (this.isReflex(l))
                        for (var g = 0; g < this.vertices.length; ++g)
                            if (this.canSee(l, g)) {
                                c = this.copy(l, g, b).getCutEdges();
                                e = this.copy(g, l, b).getCutEdges();
                                for (var m = 0; m <
                                    e.length; m++) c.push(e[m]);
                                c.length < k && (a = c, k = c.length, a.push([this.at(l), this.at(g)]))
                            } return a
            };
            f.prototype.decomp = function() {
                var a = this.getCutEdges();
                return 0 < a.length ? this.slice(a) : [this]
            };
            f.prototype.slice = function(a) {
                if (0 == a.length) return [this];
                if (a instanceof Array && a.length && a[0] instanceof Array && 2 == a[0].length && a[0][0] instanceof Array) {
                    for (var c = [this], e = 0; e < a.length; e++)
                        for (var b = a[e], k = 0; k < c.length; k++) {
                            var l = c[k].slice(b);
                            if (l) {
                                c.splice(k, 1);
                                c.push(l[0], l[1]);
                                break
                            }
                        }
                    return c
                }
                b = a;
                e = this.vertices.indexOf(b[0]);
                k = this.vertices.indexOf(b[1]);
                return -1 != e && -1 != k ? [this.copy(e, k), this.copy(k, e)] : !1
            };
            f.prototype.isSimple = function() {
                for (var a = this.vertices, e = 0; e < a.length - 1; e++)
                    for (var b = 0; b < e - 1; b++)
                        if (c.segmentsIntersect(a[e], a[e + 1], a[b], a[b + 1])) return !1;
                for (e = 1; e < a.length - 2; e++)
                    if (c.segmentsIntersect(a[0], a[a.length - 1], a[e], a[e + 1])) return !1;
                return !0
            };
            f.prototype.quickDecomp = function(c, b, k, l, g, m) {
                g = g || 100;
                m = m || 0;
                l = l || 25;
                c = "undefined" != typeof c ? c : [];
                b = b || [];
                k = k || [];
                var q = [0, 0],
                    h = [0, 0],
                    n = [0, 0],
                    p, r = 0,
                    u = 0,
                    t = 0,
                    C = new f,
                    D = new f,
                    J = this.vertices;
                if (3 > J.length) return c;
                m++;
                if (m > g) return console.warn("quickDecomp: max level (" + g + ") reached."), c;
                for (var E = 0; E < this.vertices.length; ++E)
                    if (this.isReflex(E)) {
                        b.push(this.vertices[E]);
                        var K = p = Number.MAX_VALUE;
                        for (var I = 0; I < this.vertices.length; ++I) {
                            if (e.left(this.at(E - 1), this.at(E), this.at(I)) && e.rightOn(this.at(E - 1), this.at(E), this.at(I - 1)) && (n = a(this.at(E - 1), this.at(E), this.at(I), this.at(I - 1)), e.right(this.at(E + 1), this.at(E), n))) {
                                var H = e.sqdist(this.vertices[E], n);
                                H < p && (p =
                                    H, h = n, u = I)
                            }
                            e.left(this.at(E + 1), this.at(E), this.at(I + 1)) && e.rightOn(this.at(E + 1), this.at(E), this.at(I)) && (n = a(this.at(E + 1), this.at(E), this.at(I), this.at(I + 1)), e.left(this.at(E - 1), this.at(E), n) && (H = e.sqdist(this.vertices[E], n), H < K && (K = H, q = n, r = I)))
                        }
                        if (u == (r + 1) % this.vertices.length) n[0] = (h[0] + q[0]) / 2, n[1] = (h[1] + q[1]) / 2, k.push(n), E < r ? (C.append(this, E, r + 1), C.vertices.push(n), D.vertices.push(n), 0 != u && D.append(this, u, this.vertices.length), D.append(this, 0, E + 1)) : (0 != E && C.append(this, E, this.vertices.length),
                            C.append(this, 0, r + 1), C.vertices.push(n), D.vertices.push(n), D.append(this, u, E + 1));
                        else {
                            u > r && (r += this.vertices.length);
                            q = Number.MAX_VALUE;
                            if (r < u) return c;
                            for (I = u; I <= r; ++I) e.leftOn(this.at(E - 1), this.at(E), this.at(I)) && e.rightOn(this.at(E + 1), this.at(E), this.at(I)) && (H = e.sqdist(this.at(E), this.at(I)), H < q && (q = H, t = I % this.vertices.length));
                            E < t ? (C.append(this, E, t + 1), 0 != t && D.append(this, t, J.length), D.append(this, 0, E + 1)) : (0 != E && C.append(this, E, J.length), C.append(this, 0, t + 1), D.append(this, t, E + 1))
                        }
                        C.vertices.length <
                            D.vertices.length ? (C.quickDecomp(c, b, k, l, g, m), D.quickDecomp(c, b, k, l, g, m)) : (D.quickDecomp(c, b, k, l, g, m), C.quickDecomp(c, b, k, l, g, m));
                        return c
                    } c.push(this);
                return c
            };
            f.prototype.removeCollinearPoints = function(a) {
                for (var c = 0, b = this.vertices.length - 1; 3 < this.vertices.length && 0 <= b; --b) e.collinear(this.at(b - 1), this.at(b), this.at(b + 1), a) && (this.vertices.splice(b % this.vertices.length, 1), b--, c++);
                return c
            }
        }, {
            "./Line": 1,
            "./Point": 2,
            "./Scalar": 4
        }],
        4: [function(b, h, g) {
            function f() {}
            h.exports = f;
            f.eq = function(a, c,
                e) {
                return Math.abs(a - c) < (e || 0)
            }
        }, {}],
        5: [function(b, h, g) {
            h.exports = {
                Polygon: b("./Polygon"),
                Point: b("./Point")
            }
        }, {
            "./Point": 2,
            "./Polygon": 3
        }],
        6: [function(b, h, g) {
            h.exports = {
                name: "p2",
                version: "0.7.1",
                description: "A JavaScript 2D physics engine.",
                author: "Stefan Hedman <schteppe@gmail.com> (http://steffe.se)",
                keywords: ["p2.js", "p2", "physics", "engine", "2d"],
                main: "./src/p2.js",
                engines: {
                    node: "*"
                },
                repository: {
                    type: "git",
                    url: "https://github.com/schteppe/p2.js.git"
                },
                bugs: {
                    url: "https://github.com/schteppe/p2.js/issues"
                },
                licenses: [{
                    type: "MIT"
                }],
                devDependencies: {
                    grunt: "^0.4.5",
                    "grunt-contrib-jshint": "^0.11.2",
                    "grunt-contrib-nodeunit": "^0.4.1",
                    "grunt-contrib-uglify": "~0.4.0",
                    "grunt-contrib-watch": "~0.5.0",
                    "grunt-browserify": "~2.0.1",
                    "grunt-contrib-concat": "^0.4.0"
                },
                dependencies: {
                    "poly-decomp": "0.1.1"
                }
            }
        }, {}],
        7: [function(b, h, g) {
            function f(c) {
                this.lowerBound = a.create();
                c && c.lowerBound && a.copy(this.lowerBound, c.lowerBound);
                this.upperBound = a.create();
                c && c.upperBound && a.copy(this.upperBound, c.upperBound)
            }
            var a = b("../math/vec2");
            b("../utils/Utils");
            h.exports = f;
            var c = a.create();
            f.prototype.setFromPoints = function(e, b, l, f) {
                var k = this.lowerBound,
                    g = this.upperBound;
                "number" !== typeof l && (l = 0);
                0 !== l ? a.rotate(k, e[0], l) : a.copy(k, e[0]);
                a.copy(g, k);
                for (var m = Math.cos(l), h = Math.sin(l), u = 1; u < e.length; u++) {
                    var t = e[u];
                    if (0 !== l) {
                        var v = t[0];
                        t = t[1];
                        c[0] = m * v - h * t;
                        c[1] = h * v + m * t;
                        t = c
                    }
                    for (v = 0; 2 > v; v++) t[v] > g[v] && (g[v] = t[v]), t[v] < k[v] && (k[v] = t[v])
                }
                b && (a.add(this.lowerBound, this.lowerBound, b), a.add(this.upperBound, this.upperBound, b));
                f && (this.lowerBound[0] -=
                    f, this.lowerBound[1] -= f, this.upperBound[0] += f, this.upperBound[1] += f)
            };
            f.prototype.copy = function(c) {
                a.copy(this.lowerBound, c.lowerBound);
                a.copy(this.upperBound, c.upperBound)
            };
            f.prototype.extend = function(a) {
                for (var c = 2; c--;) {
                    var e = a.lowerBound[c];
                    this.lowerBound[c] > e && (this.lowerBound[c] = e);
                    e = a.upperBound[c];
                    this.upperBound[c] < e && (this.upperBound[c] = e)
                }
            };
            f.prototype.overlaps = function(a) {
                var c = this.lowerBound,
                    e = this.upperBound,
                    b = a.lowerBound;
                a = a.upperBound;
                return (b[0] <= e[0] && e[0] <= a[0] || c[0] <= a[0] &&
                    a[0] <= e[0]) && (b[1] <= e[1] && e[1] <= a[1] || c[1] <= a[1] && a[1] <= e[1])
            };
            f.prototype.containsPoint = function(a) {
                var c = this.lowerBound,
                    e = this.upperBound;
                return c[0] <= a[0] && a[0] <= e[0] && c[1] <= a[1] && a[1] <= e[1]
            };
            f.prototype.overlapsRay = function(a) {
                var c = 1 / a.direction[0],
                    e = 1 / a.direction[1],
                    b = (this.lowerBound[0] - a.from[0]) * c;
                c *= this.upperBound[0] - a.from[0];
                var f = (this.lowerBound[1] - a.from[1]) * e;
                e *= this.upperBound[1] - a.from[1];
                a = Math.max(Math.max(Math.min(b, c), Math.min(f, e)));
                b = Math.min(Math.min(Math.max(b, c), Math.max(f,
                    e)));
                return 0 > b || a > b ? -1 : a
            }
        }, {
            "../math/vec2": 30,
            "../utils/Utils": 57
        }],
        8: [function(b, h, g) {
            function f(a) {
                this.type = a;
                this.result = [];
                this.world = null;
                this.boundingVolumeType = f.AABB
            }
            var a = b("../math/vec2"),
                c = b("../objects/Body");
            h.exports = f;
            f.AABB = 1;
            f.BOUNDING_CIRCLE = 2;
            f.prototype.setWorld = function(a) {
                this.world = a
            };
            f.prototype.getCollisionPairs = function(a) {};
            var e = a.create();
            f.boundingRadiusCheck = function(c, b) {
                a.sub(e, c.position, b.position);
                var k = a.squaredLength(e);
                c = c.boundingRadius + b.boundingRadius;
                return k <=
                    c * c
            };
            f.aabbCheck = function(a, c) {
                return a.getAABB().overlaps(c.getAABB())
            };
            f.prototype.boundingVolumeCheck = function(a, c) {
                switch (this.boundingVolumeType) {
                    case f.BOUNDING_CIRCLE:
                        a = f.boundingRadiusCheck(a, c);
                        break;
                    case f.AABB:
                        a = f.aabbCheck(a, c);
                        break;
                    default:
                        throw Error("Bounding volume type not recognized: " + this.boundingVolumeType);
                }
                return a
            };
            f.canCollide = function(a, e) {
                var b = c.KINEMATIC,
                    k = c.STATIC;
                return a.type === k && e.type === k || a.type === b && e.type === k || a.type === k && e.type === b || a.type === b && e.type === b ||
                    a.sleepState === c.SLEEPING && e.sleepState === c.SLEEPING || a.sleepState === c.SLEEPING && e.type === k || e.sleepState === c.SLEEPING && a.type === k ? !1 : !0
            };
            f.NAIVE = 1;
            f.SAP = 2
        }, {
            "../math/vec2": 30,
            "../objects/Body": 31
        }],
        9: [function(b, h, g) {
            function f() {
                a.call(this, a.NAIVE)
            }
            b("../shapes/Circle");
            b("../shapes/Plane");
            b("../shapes/Shape");
            b("../shapes/Particle");
            var a = b("../collision/Broadphase");
            b("../math/vec2");
            h.exports = f;
            f.prototype = new a;
            f.prototype.constructor = f;
            f.prototype.getCollisionPairs = function(c) {
                c = c.bodies;
                for (var e = this.result, b = e.length = 0, l = c.length; b !== l; b++)
                    for (var f = c[b], g = 0; g < b; g++) {
                        var h = c[g];
                        a.canCollide(f, h) && this.boundingVolumeCheck(f, h) && e.push(f, h)
                    }
                return e
            };
            f.prototype.aabbQuery = function(a, e, b) {
                b = b || [];
                a = a.bodies;
                for (var c = 0; c < a.length; c++) {
                    var k = a[c];
                    k.aabbNeedsUpdate && k.updateAABB();
                    k.aabb.overlaps(e) && b.push(k)
                }
                return b
            }
        }, {
            "../collision/Broadphase": 8,
            "../math/vec2": 30,
            "../shapes/Circle": 39,
            "../shapes/Particle": 43,
            "../shapes/Plane": 44,
            "../shapes/Shape": 45
        }],
        10: [function(b, h, g) {
            function f() {
                this.contactEquations = [];
                this.frictionEquations = [];
                this.enabledEquations = this.enableFriction = !0;
                this.slipForce = 10;
                this.frictionCoefficient = .3;
                this.surfaceVelocity = 0;
                this.contactEquationPool = new q({
                    size: 32
                });
                this.frictionEquationPool = new n({
                    size: 64
                });
                this.restitution = 0;
                this.stiffness = r.DEFAULT_STIFFNESS;
                this.relaxation = r.DEFAULT_RELAXATION;
                this.frictionStiffness = r.DEFAULT_STIFFNESS;
                this.frictionRelaxation = r.DEFAULT_RELAXATION;
                this.enableFrictionReduction = !0;
                this.collidingBodiesLastStep = new p;
                this.contactSkinSize = .01
            }

            function a(a,
                c) {
                e.set(a.vertices[0], .5 * -c.length, -c.radius);
                e.set(a.vertices[1], .5 * c.length, -c.radius);
                e.set(a.vertices[2], .5 * c.length, c.radius);
                e.set(a.vertices[3], .5 * -c.length, c.radius)
            }

            function c(a, c, b, f) {
                var g = ma,
                    m = ha,
                    q = ba,
                    h = ua;
                c = c.vertices;
                for (var n = null, p = 0; p !== c.length + 1; p++) {
                    var r = c[(p + 1) % c.length];
                    e.rotate(g, c[p % c.length], f);
                    e.rotate(m, r, f);
                    l(g, g, b);
                    l(m, m, b);
                    k(q, g, a);
                    k(h, m, a);
                    r = e.crossLength(q, h);
                    null === n && (n = r);
                    if (0 >= r * n) return !1;
                    n = r
                }
                return !0
            }
            var e = b("../math/vec2"),
                k = e.sub,
                l = e.add,
                m = e.dot;
            b("../utils/Utils");
            var q = b("../utils/ContactEquationPool"),
                n = b("../utils/FrictionEquationPool"),
                p = b("../utils/TupleDictionary"),
                r = b("../equations/Equation");
            b("../equations/ContactEquation");
            b("../equations/FrictionEquation");
            g = b("../shapes/Circle");
            var u = b("../shapes/Convex"),
                t = b("../shapes/Shape");
            b("../objects/Body");
            var v = b("../shapes/Box");
            h.exports = f;
            var w = e.fromValues(0, 1),
                x = e.fromValues(0, 0),
                y = e.fromValues(0, 0),
                z = e.fromValues(0, 0),
                B = e.fromValues(0, 0),
                A = e.fromValues(0, 0),
                C = e.fromValues(0, 0),
                D = e.fromValues(0,
                    0),
                J = e.fromValues(0, 0),
                E = e.fromValues(0, 0),
                K = e.fromValues(0, 0),
                I = e.fromValues(0, 0),
                H = e.fromValues(0, 0),
                G = e.fromValues(0, 0),
                F = e.fromValues(0, 0),
                S = e.fromValues(0, 0),
                N = e.fromValues(0, 0),
                P = e.fromValues(0, 0),
                M = e.fromValues(0, 0),
                L = [],
                O = e.create(),
                R = e.create();
            f.prototype.bodiesOverlap = function(a, c) {
                for (var e = 0, b = a.shapes.length; e !== b; e++) {
                    var k = a.shapes[e];
                    a.toWorldFrame(O, k.position);
                    for (var l = 0, f = c.shapes.length; l !== f; l++) {
                        var g = c.shapes[l];
                        c.toWorldFrame(R, g.position);
                        if (this[k.type | g.type](a, k, O, k.angle +
                                a.angle, c, g, R, g.angle + c.angle, !0)) return !0
                    }
                }
                return !1
            };
            f.prototype.collidedLastStep = function(a, c) {
                return !!this.collidingBodiesLastStep.get(a.id | 0, c.id | 0)
            };
            f.prototype.reset = function() {
                this.collidingBodiesLastStep.reset();
                for (var a = this.contactEquations, c = a.length; c--;) {
                    var e = a[c];
                    this.collidingBodiesLastStep.set(e.bodyA.id, e.bodyB.id, !0)
                }
                a = this.contactEquations;
                c = this.frictionEquations;
                for (e = 0; e < a.length; e++) this.contactEquationPool.release(a[e]);
                for (e = 0; e < c.length; e++) this.frictionEquationPool.release(c[e]);
                this.contactEquations.length = this.frictionEquations.length = 0
            };
            f.prototype.createContactEquation = function(a, c, e, b) {
                var k = this.contactEquationPool.get();
                k.bodyA = a;
                k.bodyB = c;
                k.shapeA = e;
                k.shapeB = b;
                k.restitution = this.restitution;
                k.firstImpact = !this.collidedLastStep(a, c);
                k.stiffness = this.stiffness;
                k.relaxation = this.relaxation;
                k.needsUpdate = !0;
                k.enabled = this.enabledEquations;
                k.offset = this.contactSkinSize;
                return k
            };
            f.prototype.createFrictionEquation = function(a, c, e, b) {
                var k = this.frictionEquationPool.get();
                k.bodyA = a;
                k.bodyB = c;
                k.shapeA = e;
                k.shapeB = b;
                k.setSlipForce(this.slipForce);
                k.frictionCoefficient = this.frictionCoefficient;
                k.relativeVelocity = this.surfaceVelocity;
                k.enabled = this.enabledEquations;
                k.needsUpdate = !0;
                k.stiffness = this.frictionStiffness;
                k.relaxation = this.frictionRelaxation;
                k.contactEquations.length = 0;
                return k
            };
            f.prototype.createFrictionFromContact = function(a) {
                var c = this.createFrictionEquation(a.bodyA, a.bodyB, a.shapeA, a.shapeB);
                e.copy(c.contactPointA, a.contactPointA);
                e.copy(c.contactPointB,
                    a.contactPointB);
                e.rotate90cw(c.t, a.normalA);
                c.contactEquations.push(a);
                return c
            };
            f.prototype.createFrictionFromAverage = function(a) {
                var c = this.contactEquations[this.contactEquations.length - 1],
                    b = this.createFrictionEquation(c.bodyA, c.bodyB, c.shapeA, c.shapeB),
                    k = c.bodyA;
                e.set(b.contactPointA, 0, 0);
                e.set(b.contactPointB, 0, 0);
                e.set(b.t, 0, 0);
                for (var l = 0; l !== a; l++) c = this.contactEquations[this.contactEquations.length - 1 - l], c.bodyA === k ? (e.add(b.t, b.t, c.normalA), e.add(b.contactPointA, b.contactPointA, c.contactPointA),
                    e.add(b.contactPointB, b.contactPointB, c.contactPointB)) : (e.sub(b.t, b.t, c.normalA), e.add(b.contactPointA, b.contactPointA, c.contactPointB), e.add(b.contactPointB, b.contactPointB, c.contactPointA)), b.contactEquations.push(c);
                a = 1 / a;
                e.scale(b.contactPointA, b.contactPointA, a);
                e.scale(b.contactPointB, b.contactPointB, a);
                e.normalize(b.t, b.t);
                e.rotate90cw(b.t, b.t);
                return b
            };
            f.prototype[t.LINE | t.CONVEX] = f.prototype.convexLine = function(a, c, e, b, k, l, f, g, m) {
                return m ? !1 : 0
            };
            f.prototype[t.LINE | t.BOX] = f.prototype.lineBox =
                function(a, c, e, b, k, l, f, g, m) {
                    return m ? !1 : 0
                };
            var Q = new v({
                    width: 1,
                    height: 1
                }),
                T = e.create();
            f.prototype[t.CAPSULE | t.CONVEX] = f.prototype[t.CAPSULE | t.BOX] = f.prototype.convexCapsule = function(c, b, k, l, f, g, m, q, h) {
                e.set(T, g.length / 2, 0);
                e.rotate(T, T, q);
                e.add(T, T, m);
                var n = this.circleConvex(f, g, T, q, c, b, k, l, h, g.radius);
                e.set(T, -g.length / 2, 0);
                e.rotate(T, T, q);
                e.add(T, T, m);
                var p = this.circleConvex(f, g, T, q, c, b, k, l, h, g.radius);
                if (h && (n || p)) return !0;
                a(Q, g);
                return this.convexConvex(c, b, k, l, f, Q, m, q, h) + n + p
            };
            f.prototype[t.CAPSULE |
                t.LINE] = f.prototype.lineCapsule = function(a, c, e, b, k, l, f, g, m) {
                return m ? !1 : 0
            };
            var V = e.create(),
                U = e.create(),
                W = new v({
                    width: 1,
                    height: 1
                });
            f.prototype[t.CAPSULE | t.CAPSULE] = f.prototype.capsuleCapsule = function(c, b, k, l, f, g, m, q, h) {
                for (var n, p = 0, r = 0; 2 > r; r++) {
                    e.set(V, (0 === r ? -1 : 1) * b.length / 2, 0);
                    e.rotate(V, V, l);
                    e.add(V, V, k);
                    for (var u = 0; 2 > u; u++) {
                        e.set(U, (0 === u ? -1 : 1) * g.length / 2, 0);
                        e.rotate(U, U, q);
                        e.add(U, U, m);
                        this.enableFrictionReduction && (n = this.enableFriction, this.enableFriction = !1);
                        var t = this.circleCircle(c, b,
                            V, l, f, g, U, q, h, b.radius, g.radius);
                        this.enableFrictionReduction && (this.enableFriction = n);
                        if (h && t) return !0;
                        p += t
                    }
                }
                this.enableFrictionReduction && (n = this.enableFriction, this.enableFriction = !1);
                a(W, b);
                r = this.convexCapsule(c, W, k, l, f, g, m, q, h);
                this.enableFrictionReduction && (this.enableFriction = n);
                if (h && r) return !0;
                p += r;
                this.enableFrictionReduction && (n = this.enableFriction, this.enableFriction = !1);
                a(W, g);
                c = this.convexCapsule(f, W, m, q, c, b, k, l, h);
                this.enableFrictionReduction && (this.enableFriction = n);
                if (h && c) return !0;
                p += c;
                this.enableFrictionReduction && p && this.enableFriction && this.frictionEquations.push(this.createFrictionFromAverage(p));
                return p
            };
            f.prototype[t.LINE | t.LINE] = f.prototype.lineLine = function(a, c, e, b, k, l, f, g, m) {
                return m ? !1 : 0
            };
            f.prototype[t.PLANE | t.LINE] = f.prototype.planeLine = function(a, c, b, f, g, q, h, n, p) {
                var r = 0;
                e.set(x, -q.length / 2, 0);
                e.set(y, q.length / 2, 0);
                e.rotate(z, x, n);
                e.rotate(B, y, n);
                l(z, z, h);
                l(B, B, h);
                e.copy(x, z);
                e.copy(y, B);
                k(A, y, x);
                e.normalize(C, A);
                e.rotate90cw(E, C);
                e.rotate(J, w, f);
                L[0] = x;
                L[1] = y;
                for (f = 0; f < L.length; f++) {
                    n = L[f];
                    k(D, n, b);
                    var u = m(D, J);
                    if (0 > u) {
                        if (p) return !0;
                        var t = this.createContactEquation(a, g, c, q);
                        r++;
                        e.copy(t.normalA, J);
                        e.normalize(t.normalA, t.normalA);
                        e.scale(D, J, u);
                        k(t.contactPointA, n, D);
                        k(t.contactPointA, t.contactPointA, a.position);
                        k(t.contactPointB, n, h);
                        l(t.contactPointB, t.contactPointB, h);
                        k(t.contactPointB, t.contactPointB, g.position);
                        this.contactEquations.push(t);
                        this.enableFrictionReduction || this.enableFriction && this.frictionEquations.push(this.createFrictionFromContact(t))
                    }
                }
                if (p) return !1;
                this.enableFrictionReduction || r && this.enableFriction && this.frictionEquations.push(this.createFrictionFromAverage(r));
                return r
            };
            f.prototype[t.PARTICLE | t.CAPSULE] = f.prototype.particleCapsule = function(a, c, e, b, k, l, f, g, m) {
                return this.circleLine(a, c, e, b, k, l, f, g, m, l.radius, 0)
            };
            f.prototype[t.CIRCLE | t.LINE] = f.prototype.circleLine = function(a, c, b, f, g, q, h, n, p, r, u) {
                r = r || 0;
                u = "undefined" !== typeof u ? u : c.radius;
                e.set(J, -q.length / 2, 0);
                e.set(E, q.length / 2, 0);
                e.rotate(K, J, n);
                e.rotate(I, E, n);
                l(K, K, h);
                l(I, I, h);
                e.copy(J,
                    K);
                e.copy(E, I);
                k(C, E, J);
                e.normalize(D, C);
                e.rotate90cw(A, D);
                k(H, b, J);
                n = m(H, A);
                k(B, J, h);
                k(G, b, h);
                f = u + r;
                if (Math.abs(n) < f) {
                    e.scale(x, A, n);
                    k(z, b, x);
                    e.scale(y, A, m(A, G));
                    e.normalize(y, y);
                    e.scale(y, y, r);
                    l(z, z, y);
                    n = m(D, z);
                    var t = m(D, J),
                        v = m(D, E);
                    if (n > t && n < v) {
                        if (p) return !0;
                        c = this.createContactEquation(a, g, c, q);
                        e.scale(c.normalA, x, -1);
                        e.normalize(c.normalA, c.normalA);
                        e.scale(c.contactPointA, c.normalA, u);
                        l(c.contactPointA, c.contactPointA, b);
                        k(c.contactPointA, c.contactPointA, a.position);
                        k(c.contactPointB, z, h);
                        l(c.contactPointB,
                            c.contactPointB, h);
                        k(c.contactPointB, c.contactPointB, g.position);
                        this.contactEquations.push(c);
                        this.enableFriction && this.frictionEquations.push(this.createFrictionFromContact(c));
                        return 1
                    }
                }
                L[0] = J;
                L[1] = E;
                for (t = 0; t < L.length; t++)
                    if (n = L[t], k(H, n, b), e.squaredLength(H) < Math.pow(f, 2)) {
                        if (p) return !0;
                        c = this.createContactEquation(a, g, c, q);
                        e.copy(c.normalA, H);
                        e.normalize(c.normalA, c.normalA);
                        e.scale(c.contactPointA, c.normalA, u);
                        l(c.contactPointA, c.contactPointA, b);
                        k(c.contactPointA, c.contactPointA, a.position);
                        k(c.contactPointB, n, h);
                        e.scale(F, c.normalA, -r);
                        l(c.contactPointB, c.contactPointB, F);
                        l(c.contactPointB, c.contactPointB, h);
                        k(c.contactPointB, c.contactPointB, g.position);
                        this.contactEquations.push(c);
                        this.enableFriction && this.frictionEquations.push(this.createFrictionFromContact(c));
                        return 1
                    } return 0
            };
            f.prototype[t.CIRCLE | t.CAPSULE] = f.prototype.circleCapsule = function(a, c, e, b, k, l, f, g, m) {
                return this.circleLine(a, c, e, b, k, l, f, g, m, l.radius)
            };
            f.prototype[t.CIRCLE | t.CONVEX] = f.prototype[t.CIRCLE | t.BOX] = f.prototype.circleConvex =
                function(a, b, f, g, m, q, h, n, p, r) {
                    r = "number" === typeof r ? r : b.radius;
                    g = !1;
                    for (var u = Number.MAX_VALUE, t = q.vertices, v = 0; v !== t.length + 1; v++) {
                        var w = t[(v + 1) % t.length];
                        e.rotate(x, t[v % t.length], n);
                        e.rotate(y, w, n);
                        l(x, x, h);
                        l(y, y, h);
                        k(z, y, x);
                        e.normalize(B, z);
                        e.rotate90cw(A, B);
                        e.scale(F, A, -b.radius);
                        l(F, F, f);
                        c(F, q, h, n) && (e.sub(S, x, F), w = Math.abs(e.dot(S, A)), w < u && (e.copy(N, F), u = w, e.scale(G, A, w), e.add(G, G, F), g = !0))
                    }
                    if (g) {
                        if (p) return !0;
                        b = this.createContactEquation(a, m, b, q);
                        e.sub(b.normalA, N, f);
                        e.normalize(b.normalA,
                            b.normalA);
                        e.scale(b.contactPointA, b.normalA, r);
                        l(b.contactPointA, b.contactPointA, f);
                        k(b.contactPointA, b.contactPointA, a.position);
                        k(b.contactPointB, G, h);
                        l(b.contactPointB, b.contactPointB, h);
                        k(b.contactPointB, b.contactPointB, m.position);
                        this.contactEquations.push(b);
                        this.enableFriction && this.frictionEquations.push(this.createFrictionFromContact(b));
                        return 1
                    }
                    if (0 < r)
                        for (v = 0; v < t.length; v++)
                            if (e.rotate(I, t[v], n), l(I, I, h), k(K, I, f), e.squaredLength(K) < Math.pow(r, 2)) {
                                if (p) return !0;
                                b = this.createContactEquation(a,
                                    m, b, q);
                                e.copy(b.normalA, K);
                                e.normalize(b.normalA, b.normalA);
                                e.scale(b.contactPointA, b.normalA, r);
                                l(b.contactPointA, b.contactPointA, f);
                                k(b.contactPointA, b.contactPointA, a.position);
                                k(b.contactPointB, I, h);
                                l(b.contactPointB, b.contactPointB, h);
                                k(b.contactPointB, b.contactPointB, m.position);
                                this.contactEquations.push(b);
                                this.enableFriction && this.frictionEquations.push(this.createFrictionFromContact(b));
                                return 1
                            } return 0
                };
            var ma = e.create(),
                ha = e.create(),
                ba = e.create(),
                ua = e.create();
            f.prototype[t.PARTICLE |
                t.CONVEX] = f.prototype[t.PARTICLE | t.BOX] = f.prototype.particleConvex = function(a, b, f, g, q, h, n, p, r) {
                g = Number.MAX_VALUE;
                var u = !1,
                    t = h.vertices;
                if (!c(f, h, n, p)) return 0;
                if (r) return !0;
                for (r = 0; r !== t.length + 1; r++) {
                    var v = t[(r + 1) % t.length];
                    e.rotate(x, t[r % t.length], p);
                    e.rotate(y, v, p);
                    l(x, x, n);
                    l(y, y, n);
                    k(z, y, x);
                    e.normalize(B, z);
                    e.rotate90cw(A, B);
                    k(K, f, x);
                    m(K, A);
                    k(C, x, n);
                    k(D, f, n);
                    e.sub(P, x, f);
                    v = Math.abs(e.dot(P, A));
                    v < g && (g = v, e.scale(G, A, v), e.add(G, G, f), e.copy(M, A), u = !0)
                }
                return u ? (b = this.createContactEquation(a, q,
                    b, h), e.scale(b.normalA, M, -1), e.normalize(b.normalA, b.normalA), e.set(b.contactPointA, 0, 0), l(b.contactPointA, b.contactPointA, f), k(b.contactPointA, b.contactPointA, a.position), k(b.contactPointB, G, n), l(b.contactPointB, b.contactPointB, n), k(b.contactPointB, b.contactPointB, q.position), this.contactEquations.push(b), this.enableFriction && this.frictionEquations.push(this.createFrictionFromContact(b)), 1) : 0
            };
            f.prototype[t.CIRCLE] = f.prototype.circleCircle = function(a, c, b, f, g, m, q, h, n, p, r) {
                p = p || c.radius;
                r = r || m.radius;
                k(x, b, q);
                f = p + r;
                if (e.squaredLength(x) > Math.pow(f, 2)) return 0;
                if (n) return !0;
                c = this.createContactEquation(a, g, c, m);
                k(c.normalA, q, b);
                e.normalize(c.normalA, c.normalA);
                e.scale(c.contactPointA, c.normalA, p);
                e.scale(c.contactPointB, c.normalA, -r);
                l(c.contactPointA, c.contactPointA, b);
                k(c.contactPointA, c.contactPointA, a.position);
                l(c.contactPointB, c.contactPointB, q);
                k(c.contactPointB, c.contactPointB, g.position);
                this.contactEquations.push(c);
                this.enableFriction && this.frictionEquations.push(this.createFrictionFromContact(c));
                return 1
            };
            f.prototype[t.PLANE | t.CONVEX] = f.prototype[t.PLANE | t.BOX] = f.prototype.planeConvex = function(a, c, b, f, g, q, h, n, p) {
                var r = 0;
                e.rotate(y, w, f);
                for (f = 0; f !== q.vertices.length; f++)
                    if (e.rotate(x, q.vertices[f], n), l(x, x, h), k(z, x, b), 0 >= m(z, y)) {
                        if (p) return !0;
                        r++;
                        var u = this.createContactEquation(a, g, c, q);
                        k(z, x, b);
                        e.copy(u.normalA, y);
                        var t = m(z, u.normalA);
                        e.scale(z, u.normalA, t);
                        k(u.contactPointB, x, g.position);
                        k(u.contactPointA, x, z);
                        k(u.contactPointA, u.contactPointA, a.position);
                        this.contactEquations.push(u);
                        this.enableFrictionReduction || this.enableFriction && this.frictionEquations.push(this.createFrictionFromContact(u))
                    } this.enableFrictionReduction && this.enableFriction && r && this.frictionEquations.push(this.createFrictionFromAverage(r));
                return r
            };
            f.prototype[t.PARTICLE | t.PLANE] = f.prototype.particlePlane = function(a, c, b, l, f, g, q, h, n) {
                h = h || 0;
                k(x, b, q);
                e.rotate(y, w, h);
                l = m(x, y);
                if (0 < l) return 0;
                if (n) return !0;
                c = this.createContactEquation(f, a, g, c);
                e.copy(c.normalA, y);
                e.scale(x, c.normalA, l);
                k(c.contactPointA, b, x);
                k(c.contactPointA, c.contactPointA, f.position);
                k(c.contactPointB, b, a.position);
                this.contactEquations.push(c);
                this.enableFriction && this.frictionEquations.push(this.createFrictionFromContact(c));
                return 1
            };
            f.prototype[t.CIRCLE | t.PARTICLE] = f.prototype.circleParticle = function(a, c, b, f, g, m, q, h, n) {
                k(x, q, b);
                if (e.squaredLength(x) > Math.pow(c.radius, 2)) return 0;
                if (n) return !0;
                f = this.createContactEquation(a, g, c, m);
                e.copy(f.normalA, x);
                e.normalize(f.normalA, f.normalA);
                e.scale(f.contactPointA, f.normalA, c.radius);
                l(f.contactPointA,
                    f.contactPointA, b);
                k(f.contactPointA, f.contactPointA, a.position);
                k(f.contactPointB, q, g.position);
                this.contactEquations.push(f);
                this.enableFriction && this.frictionEquations.push(this.createFrictionFromContact(f));
                return 1
            };
            var pa = new g({
                    radius: 1
                }),
                da = e.create(),
                ia = e.create();
            e.create();
            f.prototype[t.PLANE | t.CAPSULE] = f.prototype.planeCapsule = function(a, c, b, k, f, g, m, q, h) {
                e.set(da, -g.length / 2, 0);
                e.rotate(da, da, q);
                l(da, da, m);
                e.set(ia, g.length / 2, 0);
                e.rotate(ia, ia, q);
                l(ia, ia, m);
                pa.radius = g.radius;
                if (this.enableFrictionReduction) {
                    var n =
                        this.enableFriction;
                    this.enableFriction = !1
                }
                g = this.circlePlane(f, pa, da, 0, a, c, b, k, h);
                a = this.circlePlane(f, pa, ia, 0, a, c, b, k, h);
                this.enableFrictionReduction && (this.enableFriction = n);
                if (h) return g || a;
                h = g + a;
                this.enableFrictionReduction && h && this.frictionEquations.push(this.createFrictionFromAverage(h));
                return h
            };
            f.prototype[t.CIRCLE | t.PLANE] = f.prototype.circlePlane = function(a, c, b, f, g, q, h, n, p) {
                f = n || 0;
                k(x, b, h);
                e.rotate(y, w, f);
                f = m(y, x);
                if (f > c.radius) return 0;
                if (p) return !0;
                q = this.createContactEquation(g, a, q,
                    c);
                e.copy(q.normalA, y);
                e.scale(q.contactPointB, q.normalA, -c.radius);
                l(q.contactPointB, q.contactPointB, b);
                k(q.contactPointB, q.contactPointB, a.position);
                e.scale(z, q.normalA, f);
                k(q.contactPointA, x, z);
                l(q.contactPointA, q.contactPointA, h);
                k(q.contactPointA, q.contactPointA, g.position);
                this.contactEquations.push(q);
                this.enableFriction && this.frictionEquations.push(this.createFrictionFromContact(q));
                return 1
            };
            f.prototype[t.CONVEX] = f.prototype[t.CONVEX | t.BOX] = f.prototype[t.BOX] = f.prototype.convexConvex = function(a,
                c, b, g, q, h, n, p, r, u) {
                var t = 0;
                u = "number" === typeof u ? u : 0;
                if (!f.findSeparatingAxis(c, b, g, h, n, p, x)) return 0;
                k(J, n, b);
                0 < m(x, J) && e.scale(x, x, -1);
                var v = f.getClosestEdge(c, g, x, !0),
                    w = f.getClosestEdge(h, p, x);
                if (-1 === v || -1 === w) return 0;
                for (var C = 0; 2 > C; C++) {
                    var L = v,
                        T = w,
                        G = c,
                        H = h,
                        I = b,
                        F = n,
                        O = g,
                        V = p,
                        W = a,
                        K = q;
                    if (0 === C) {
                        var Q = L;
                        L = T;
                        T = Q;
                        Q = G;
                        G = H;
                        H = Q;
                        Q = I;
                        I = F;
                        F = Q;
                        Q = O;
                        O = V;
                        V = Q;
                        Q = W;
                        W = K;
                        K = Q
                    }
                    for (Q = T; Q < T + 2; Q++) {
                        e.rotate(y, H.vertices[(Q + H.vertices.length) % H.vertices.length], V);
                        l(y, y, F);
                        for (var N = 0, M = L - 1; M < L + 2; M++) {
                            var U = G.vertices[(M +
                                    G.vertices.length) % G.vertices.length],
                                R = G.vertices[(M + 1 + G.vertices.length) % G.vertices.length];
                            e.rotate(z, U, O);
                            e.rotate(B, R, O);
                            l(z, z, I);
                            l(B, B, I);
                            k(A, B, z);
                            e.rotate90cw(E, A);
                            e.normalize(E, E);
                            k(J, y, z);
                            U = m(E, J);
                            (M === L && U <= u || M !== L && 0 >= U) && N++
                        }
                        if (3 <= N) {
                            if (r) return !0;
                            N = this.createContactEquation(W, K, G, H);
                            t++;
                            U = G.vertices[L % G.vertices.length];
                            R = G.vertices[(L + 1) % G.vertices.length];
                            e.rotate(z, U, O);
                            e.rotate(B, R, O);
                            l(z, z, I);
                            l(B, B, I);
                            k(A, B, z);
                            e.rotate90cw(N.normalA, A);
                            e.normalize(N.normalA, N.normalA);
                            k(J, y, z);
                            U = m(N.normalA, J);
                            e.scale(D, N.normalA, U);
                            k(N.contactPointA, y, I);
                            k(N.contactPointA, N.contactPointA, D);
                            l(N.contactPointA, N.contactPointA, I);
                            k(N.contactPointA, N.contactPointA, W.position);
                            k(N.contactPointB, y, F);
                            l(N.contactPointB, N.contactPointB, F);
                            k(N.contactPointB, N.contactPointB, K.position);
                            this.contactEquations.push(N);
                            this.enableFrictionReduction || this.enableFriction && this.frictionEquations.push(this.createFrictionFromContact(N))
                        }
                    }
                }
                this.enableFrictionReduction && this.enableFriction && t && this.frictionEquations.push(this.createFrictionFromAverage(t));
                return t
            };
            var ca = e.fromValues(0, 0);
            f.projectConvexOntoAxis = function(a, c, b, k, l) {
                var f = null,
                    g = null;
                e.rotate(ca, k, -b);
                for (b = 0; b < a.vertices.length; b++) {
                    var q = a.vertices[b];
                    q = m(q, ca);
                    if (null === f || q > f) f = q;
                    if (null === g || q < g) g = q
                }
                g > f && (a = g, g = f, f = a);
                c = m(c, k);
                e.set(l, g + c, f + c)
            };
            var va = e.fromValues(0, 0),
                ja = e.fromValues(0, 0),
                wa = e.fromValues(0, 0),
                X = e.fromValues(0, 0),
                ea = e.fromValues(0, 0),
                fa = e.fromValues(0, 0);
            f.findSeparatingAxis = function(a, c, b, l, g, m, q) {
                var h = null,
                    n = !1;
                if (a instanceof v && l instanceof v)
                    for (var p = 0; 2 !==
                        p; p++) {
                        var r = b;
                        1 === p && (r = m);
                        for (var u = 0; 2 !== u; u++) {
                            0 === u ? e.set(X, 0, 1) : 1 === u && e.set(X, 1, 0);
                            0 !== r && e.rotate(X, X, r);
                            f.projectConvexOntoAxis(a, c, b, X, ea);
                            f.projectConvexOntoAxis(l, g, m, X, fa);
                            var t = ea;
                            var w = fa;
                            ea[0] > fa[0] && (w = ea, t = fa);
                            w = w[0] - t[1];
                            t = 0 >= w;
                            if (null === h || w > h) e.copy(q, X), h = w, n = t
                        }
                    } else
                        for (p = 0; 2 !== p; p++) {
                            var x = a;
                            r = b;
                            1 === p && (x = l, r = m);
                            for (u = 0; u !== x.vertices.length; u++)
                                if (e.rotate(ja, x.vertices[u], r), e.rotate(wa, x.vertices[(u + 1) % x.vertices.length], r), k(va, wa, ja), e.rotate90cw(X, va), e.normalize(X, X),
                                    f.projectConvexOntoAxis(a, c, b, X, ea), f.projectConvexOntoAxis(l, g, m, X, fa), t = ea, w = fa, ea[0] > fa[0] && (w = ea, t = fa), w = w[0] - t[1], t = 0 >= w, null === h || w > h) e.copy(q, X), h = w, n = t
                        }
                return n
            };
            var ra = e.fromValues(0, 0),
                xa = e.fromValues(0, 0),
                sa = e.fromValues(0, 0);
            f.getClosestEdge = function(a, c, b, l) {
                e.rotate(ra, b, -c);
                l && e.scale(ra, ra, -1);
                c = -1;
                b = a.vertices.length;
                l = -1;
                for (var f = 0; f !== b; f++) {
                    k(xa, a.vertices[(f + 1) % b], a.vertices[f % b]);
                    e.rotate90cw(sa, xa);
                    e.normalize(sa, sa);
                    var g = m(sa, ra);
                    if (-1 === c || g > l) c = f % b, l = g
                }
                return c
            };
            var ka =
                e.create(),
                la = e.create(),
                Y = e.create(),
                qa = e.create(),
                ya = e.create(),
                aa = e.create(),
                za = e.create();
            f.prototype[t.CIRCLE | t.HEIGHTFIELD] = f.prototype.circleHeightfield = function(a, c, b, f, g, m, q, h, n, p) {
                f = m.heights;
                p = p || c.radius;
                h = m.elementWidth;
                var r = Math.floor((b[0] - p - q[0]) / h),
                    u = Math.ceil((b[0] + p - q[0]) / h);
                0 > r && (r = 0);
                u >= f.length && (u = f.length - 1);
                for (var t = f[r], v = f[u], w = r; w < u; w++) f[w] < v && (v = f[w]), f[w] > t && (t = f[w]);
                if (b[1] - p > t) return n ? !1 : 0;
                for (w = r; w < u; w++)
                    if (e.set(Y, w * h, f[w]), e.set(qa, (w + 1) * h, f[w + 1]), e.add(Y, Y,
                            q), e.add(qa, qa, q), e.sub(aa, qa, Y), e.rotate(aa, aa, Math.PI / 2), e.normalize(aa, aa), e.scale(ka, aa, -p), e.add(ka, ka, b), e.sub(la, ka, Y), t = e.dot(la, aa), ka[0] >= Y[0] && ka[0] < qa[0] && 0 >= t) {
                        if (n) return !0;
                        e.scale(la, aa, -t);
                        e.add(ya, ka, la);
                        e.copy(za, aa);
                        v = this.createContactEquation(g, a, m, c);
                        e.copy(v.normalA, za);
                        e.scale(v.contactPointB, v.normalA, -p);
                        l(v.contactPointB, v.contactPointB, b);
                        k(v.contactPointB, v.contactPointB, a.position);
                        e.copy(v.contactPointA, ya);
                        e.sub(v.contactPointA, v.contactPointA, g.position);
                        this.contactEquations.push(v);
                        this.enableFriction && this.frictionEquations.push(this.createFrictionFromContact(v))
                    } t = !1;
                if (0 < p)
                    for (w = r; w <= u; w++)
                        if (e.set(Y, w * h, f[w]), e.add(Y, Y, q), e.sub(la, b, Y), e.squaredLength(la) < Math.pow(p, 2)) {
                            if (n) return !0;
                            t = !0;
                            v = this.createContactEquation(g, a, m, c);
                            e.copy(v.normalA, la);
                            e.normalize(v.normalA, v.normalA);
                            e.scale(v.contactPointB, v.normalA, -p);
                            l(v.contactPointB, v.contactPointB, b);
                            k(v.contactPointB, v.contactPointB, a.position);
                            k(v.contactPointA, Y, q);
                            l(v.contactPointA, v.contactPointA, q);
                            k(v.contactPointA,
                                v.contactPointA, g.position);
                            this.contactEquations.push(v);
                            this.enableFriction && this.frictionEquations.push(this.createFrictionFromContact(v))
                        } return t ? 1 : 0
            };
            var na = e.create(),
                oa = e.create(),
                ta = e.create(),
                Z = new u({
                    vertices: [e.create(), e.create(), e.create(), e.create()]
                });
            f.prototype[t.BOX | t.HEIGHTFIELD] = f.prototype[t.CONVEX | t.HEIGHTFIELD] = f.prototype.convexHeightfield = function(a, c, b, k, l, f, g, m, q) {
                m = f.heights;
                f = f.elementWidth;
                var h = Math.floor((a.aabb.lowerBound[0] - g[0]) / f),
                    n = Math.ceil((a.aabb.upperBound[0] -
                        g[0]) / f);
                0 > h && (h = 0);
                n >= m.length && (n = m.length - 1);
                for (var p = m[h], r = m[n], u = h; u < n; u++) m[u] < r && (r = m[u]), m[u] > p && (p = m[u]);
                if (a.aabb.lowerBound[1] > p) return q ? !1 : 0;
                p = 0;
                for (u = h; u < n; u++) e.set(na, u * f, m[u]), e.set(oa, (u + 1) * f, m[u + 1]), e.add(na, na, g), e.add(oa, oa, g), e.set(ta, .5 * (oa[0] + na[0]), .5 * (oa[1] + na[1] - 100)), e.sub(Z.vertices[0], oa, ta), e.sub(Z.vertices[1], na, ta), e.copy(Z.vertices[2], Z.vertices[1]), e.copy(Z.vertices[3], Z.vertices[0]), Z.vertices[2][1] -= 100, Z.vertices[3][1] -= 100, p += this.convexConvex(a, c, b, k, l, Z,
                    ta, 0, q);
                return p
            }
        }, {
            "../equations/ContactEquation": 21,
            "../equations/Equation": 22,
            "../equations/FrictionEquation": 23,
            "../math/vec2": 30,
            "../objects/Body": 31,
            "../shapes/Box": 37,
            "../shapes/Circle": 39,
            "../shapes/Convex": 40,
            "../shapes/Shape": 45,
            "../utils/ContactEquationPool": 48,
            "../utils/FrictionEquationPool": 49,
            "../utils/TupleDictionary": 56,
            "../utils/Utils": 57
        }],
        11: [function(b, h, g) {
            function f(c) {
                c = c || {};
                this.from = c.from ? a.fromValues(c.from[0], c.from[1]) : a.create();
                this.to = c.to ? a.fromValues(c.to[0], c.to[1]) :
                    a.create();
                this.checkCollisionResponse = void 0 !== c.checkCollisionResponse ? c.checkCollisionResponse : !0;
                this.skipBackfaces = !!c.skipBackfaces;
                this.collisionMask = void 0 !== c.collisionMask ? c.collisionMask : -1;
                this.collisionGroup = void 0 !== c.collisionGroup ? c.collisionGroup : -1;
                this.mode = void 0 !== c.mode ? c.mode : f.ANY;
                this.callback = c.callback || function(a) {};
                this.direction = a.create();
                this.length = 1;
                this.update()
            }
            h.exports = f;
            var a = b("../math/vec2");
            b("../collision/RaycastResult");
            b("../shapes/Shape");
            b("../collision/AABB");
            f.prototype.constructor = f;
            f.CLOSEST = 1;
            f.ANY = 2;
            f.ALL = 4;
            f.prototype.update = function() {
                var c = this.direction;
                a.sub(c, this.to, this.from);
                this.length = a.length(c);
                a.normalize(c, c)
            };
            f.prototype.intersectBodies = function(a, c) {
                for (var e = 0, b = c.length; !a.shouldStop(this) && e < b; e++) {
                    var k = c[e],
                        l = k.getAABB();
                    (0 <= l.overlapsRay(this) || l.containsPoint(this.from)) && this.intersectBody(a, k)
                }
            };
            var c = a.create();
            f.prototype.intersectBody = function(e, b) {
                var k = this.checkCollisionResponse;
                if (!k || b.collisionResponse)
                    for (var l =
                            0, f = b.shapes.length; l < f; l++) {
                        var g = b.shapes[l];
                        if ((!k || g.collisionResponse) && 0 !== (this.collisionGroup & g.collisionMask) && 0 !== (g.collisionGroup & this.collisionMask) && (a.rotate(c, g.position, b.angle), a.add(c, c, b.position), this.intersectShape(e, g, g.angle + b.angle, c, b), e.shouldStop(this))) break
                    }
            };
            f.prototype.intersectShape = function(c, b, f, g, h) {
                var l = this.from,
                    m = this.direction;
                a.sub(e, g, l);
                var q = a.dot(e, m);
                a.scale(k, m, q);
                a.add(k, k, l);
                a.squaredDistance(g, k) > b.boundingRadius * b.boundingRadius || (this._currentBody =
                    h, this._currentShape = b, b.raycast(c, this, g, f), this._currentBody = this._currentShape = null)
            };
            f.prototype.getAABB = function(c) {
                var e = this.to,
                    b = this.from;
                a.set(c.lowerBound, Math.min(e[0], b[0]), Math.min(e[1], b[1]));
                a.set(c.upperBound, Math.max(e[0], b[0]), Math.max(e[1], b[1]))
            };
            a.create();
            f.prototype.reportIntersection = function(c, e, b, k) {
                var l = this._currentShape,
                    g = this._currentBody;
                if (!(this.skipBackfaces && 0 < a.dot(b, this.direction))) switch (this.mode) {
                    case f.ALL:
                        c.set(b, l, g, e, k);
                        this.callback(c);
                        break;
                    case f.CLOSEST:
                        (e <
                            c.fraction || !c.hasHit()) && c.set(b, l, g, e, k);
                        break;
                    case f.ANY:
                        c.set(b, l, g, e, k)
                }
            };
            var e = a.create(),
                k = a.create()
        }, {
            "../collision/AABB": 7,
            "../collision/RaycastResult": 12,
            "../math/vec2": 30,
            "../shapes/Shape": 45
        }],
        12: [function(b, h, g) {
            function f() {
                this.normal = a.create();
                this.body = this.shape = null;
                this.fraction = this.faceIndex = -1;
                this.isStopped = !1
            }
            var a = b("../math/vec2"),
                c = b("../collision/Ray");
            h.exports = f;
            f.prototype.reset = function() {
                a.set(this.normal, 0, 0);
                this.body = this.shape = null;
                this.fraction = this.faceIndex = -1;
                this.isStopped = !1
            };
            f.prototype.getHitDistance = function(c) {
                return a.distance(c.from, c.to) * this.fraction
            };
            f.prototype.hasHit = function() {
                return -1 !== this.fraction
            };
            f.prototype.getHitPoint = function(c, b) {
                a.lerp(c, b.from, b.to, this.fraction)
            };
            f.prototype.stop = function() {
                this.isStopped = !0
            };
            f.prototype.shouldStop = function(a) {
                return this.isStopped || -1 !== this.fraction && a.mode === c.ANY
            };
            f.prototype.set = function(c, b, l, f, g) {
                a.copy(this.normal, c);
                this.shape = b;
                this.body = l;
                this.fraction = f;
                this.faceIndex = g
            }
        }, {
            "../collision/Ray": 11,
            "../math/vec2": 30
        }],
        13: [function(b, h, g) {
            function f() {
                c.call(this, c.SAP);
                this.axisList = [];
                this.axisIndex = 0;
                var a = this;
                this._addBodyHandler = function(c) {
                    a.axisList.push(c.body)
                };
                this._removeBodyHandler = function(c) {
                    c = a.axisList.indexOf(c.body); - 1 !== c && a.axisList.splice(c, 1)
                }
            }
            var a = b("../utils/Utils"),
                c = b("../collision/Broadphase");
            h.exports = f;
            f.prototype = new c;
            f.prototype.constructor = f;
            f.prototype.setWorld = function(c) {
                this.axisList.length = 0;
                a.appendArray(this.axisList, c.bodies);
                c.off("addBody", this._addBodyHandler).off("removeBody",
                    this._removeBodyHandler);
                c.on("addBody", this._addBodyHandler).on("removeBody", this._removeBodyHandler);
                this.world = c
            };
            f.sortAxisList = function(a, c) {
                c |= 0;
                for (var e = 1, b = a.length; e < b; e++) {
                    for (var k = a[e], f = e - 1; 0 <= f && !(a[f].aabb.lowerBound[c] <= k.aabb.lowerBound[c]); f--) a[f + 1] = a[f];
                    a[f + 1] = k
                }
                return a
            };
            f.prototype.sortList = function() {
                f.sortAxisList(this.axisList, this.axisIndex)
            };
            f.prototype.getCollisionPairs = function(a) {
                a = this.axisList;
                var e = this.result,
                    b = this.axisIndex;
                e.length = 0;
                for (var f = a.length; f--;) {
                    var g =
                        a[f];
                    g.aabbNeedsUpdate && g.updateAABB()
                }
                this.sortList();
                f = 0;
                for (g = a.length | 0; f !== g; f++)
                    for (var h = a[f], p = f + 1; p < g; p++) {
                        var r = a[p];
                        if (!(r.aabb.lowerBound[b] <= h.aabb.upperBound[b])) break;
                        c.canCollide(h, r) && this.boundingVolumeCheck(h, r) && e.push(h, r)
                    }
                return e
            };
            f.prototype.aabbQuery = function(a, c, b) {
                b = b || [];
                this.sortList();
                a = this.axisList;
                for (var e = 0; e < a.length; e++) {
                    var k = a[e];
                    k.aabbNeedsUpdate && k.updateAABB();
                    k.aabb.overlaps(c) && b.push(k)
                }
                return b
            }
        }, {
            "../collision/Broadphase": 8,
            "../utils/Utils": 57
        }],
        14: [function(b,
            h, g) {
            function f(c, e, b, l) {
                this.type = b;
                l = a.defaults(l, {
                    collideConnected: !0,
                    wakeUpBodies: !0
                });
                this.equations = [];
                this.bodyA = c;
                this.bodyB = e;
                this.collideConnected = l.collideConnected;
                l.wakeUpBodies && (c && c.wakeUp(), e && e.wakeUp())
            }
            h.exports = f;
            var a = b("../utils/Utils");
            f.prototype.update = function() {
                throw Error("method update() not implmemented in this Constraint subclass!");
            };
            f.DISTANCE = 1;
            f.GEAR = 2;
            f.LOCK = 3;
            f.PRISMATIC = 4;
            f.REVOLUTE = 5;
            f.prototype.setStiffness = function(a) {
                for (var c = this.equations, b = 0; b !== c.length; b++) {
                    var l =
                        c[b];
                    l.stiffness = a;
                    l.needsUpdate = !0
                }
            };
            f.prototype.setRelaxation = function(a) {
                for (var c = this.equations, b = 0; b !== c.length; b++) {
                    var l = c[b];
                    l.relaxation = a;
                    l.needsUpdate = !0
                }
            }
        }, {
            "../utils/Utils": 57
        }],
        15: [function(b, h, g) {
            function f(b, l, f) {
                f = k.defaults(f, {
                    localAnchorA: [0, 0],
                    localAnchorB: [0, 0]
                });
                a.call(this, b, l, a.DISTANCE, f);
                this.localAnchorA = e.fromValues(f.localAnchorA[0], f.localAnchorA[1]);
                this.localAnchorB = e.fromValues(f.localAnchorB[0], f.localAnchorB[1]);
                var g = this.localAnchorA,
                    m = this.localAnchorB;
                this.distance =
                    0;
                if ("number" === typeof f.distance) this.distance = f.distance;
                else {
                    var q = e.create(),
                        h = e.create(),
                        n = e.create();
                    e.rotate(q, g, b.angle);
                    e.rotate(h, m, l.angle);
                    e.add(n, l.position, h);
                    e.sub(n, n, q);
                    e.sub(n, n, b.position);
                    this.distance = e.length(n)
                }
                f = "undefined" === typeof f.maxForce ? Number.MAX_VALUE : f.maxForce;
                b = new c(b, l, -f, f);
                this.equations = [b];
                this.maxForce = f;
                n = e.create();
                var p = e.create(),
                    r = e.create(),
                    B = this;
                b.computeGq = function() {
                    var a = this.bodyA,
                        c = this.bodyB,
                        b = a.position,
                        k = c.position;
                    e.rotate(p, g, a.angle);
                    e.rotate(r,
                        m, c.angle);
                    e.add(n, k, r);
                    e.sub(n, n, p);
                    e.sub(n, n, b);
                    return e.length(n) - B.distance
                };
                this.setMaxForce(f);
                this.upperLimitEnabled = !1;
                this.upperLimit = 1;
                this.lowerLimitEnabled = !1;
                this.position = this.lowerLimit = 0
            }
            var a = b("./Constraint"),
                c = b("../equations/Equation"),
                e = b("../math/vec2"),
                k = b("../utils/Utils");
            h.exports = f;
            f.prototype = new a;
            f.prototype.constructor = f;
            var l = e.create(),
                m = e.create(),
                q = e.create();
            f.prototype.update = function() {
                var a = this.bodyA,
                    c = this.bodyB,
                    b = a.position,
                    k = c.position,
                    f = this.equations[0],
                    g = this.equations[0].G;
                e.rotate(m, this.localAnchorA, a.angle);
                e.rotate(q, this.localAnchorB, c.angle);
                e.add(l, k, q);
                e.sub(l, l, m);
                e.sub(l, l, b);
                this.position = e.length(l);
                a = !1;
                this.upperLimitEnabled && this.position > this.upperLimit && (f.maxForce = 0, f.minForce = -this.maxForce, this.distance = this.upperLimit, a = !0);
                this.lowerLimitEnabled && this.position < this.lowerLimit && (f.maxForce = this.maxForce, f.minForce = 0, this.distance = this.lowerLimit, a = !0);
                !this.lowerLimitEnabled && !this.upperLimitEnabled || a ? (f.enabled = !0, e.normalize(l,
                    l), f = e.crossLength(m, l), a = e.crossLength(q, l), g[0] = -l[0], g[1] = -l[1], g[2] = -f, g[3] = l[0], g[4] = l[1], g[5] = a) : f.enabled = !1
            };
            f.prototype.setMaxForce = function(a) {
                var c = this.equations[0];
                c.minForce = -a;
                c.maxForce = a
            };
            f.prototype.getMaxForce = function() {
                return this.equations[0].maxForce
            }
        }, {
            "../equations/Equation": 22,
            "../math/vec2": 30,
            "../utils/Utils": 57,
            "./Constraint": 14
        }],
        16: [function(b, h, g) {
            function f(e, b, l) {
                l = l || {};
                a.call(this, e, b, a.GEAR, l);
                this.ratio = void 0 !== l.ratio ? l.ratio : 1;
                this.angle = void 0 !== l.angle ? l.angle :
                    b.angle - this.ratio * e.angle;
                l.angle = this.angle;
                l.ratio = this.ratio;
                this.equations = [new c(e, b, l)];
                void 0 !== l.maxTorque && this.setMaxTorque(l.maxTorque)
            }
            var a = b("./Constraint");
            b("../equations/Equation");
            var c = b("../equations/AngleLockEquation");
            b("../math/vec2");
            h.exports = f;
            f.prototype = new a;
            f.prototype.constructor = f;
            f.prototype.update = function() {
                var a = this.equations[0];
                a.ratio !== this.ratio && a.setRatio(this.ratio);
                a.angle = this.angle
            };
            f.prototype.setMaxTorque = function(a) {
                this.equations[0].setMaxTorque(a)
            };
            f.prototype.getMaxTorque = function(a) {
                return this.equations[0].maxForce
            }
        }, {
            "../equations/AngleLockEquation": 20,
            "../equations/Equation": 22,
            "../math/vec2": 30,
            "./Constraint": 14
        }],
        17: [function(b, h, g) {
            function f(b, k, l) {
                l = l || {};
                a.call(this, b, k, a.LOCK, l);
                var f = "undefined" === typeof l.maxForce ? Number.MAX_VALUE : l.maxForce,
                    g = new e(b, k, -f, f),
                    m = new e(b, k, -f, f),
                    q = new e(b, k, -f, f),
                    h = c.create(),
                    n = c.create(),
                    p = this;
                g.computeGq = function() {
                    c.rotate(h, p.localOffsetB, b.angle);
                    c.sub(n, k.position, b.position);
                    c.sub(n, n, h);
                    return n[0]
                };
                m.computeGq = function() {
                    c.rotate(h, p.localOffsetB, b.angle);
                    c.sub(n, k.position, b.position);
                    c.sub(n, n, h);
                    return n[1]
                };
                var r = c.create(),
                    u = c.create();
                q.computeGq = function() {
                    c.rotate(r, p.localOffsetB, k.angle - p.localAngleB);
                    c.scale(r, r, -1);
                    c.sub(n, b.position, k.position);
                    c.add(n, n, r);
                    c.rotate(u, r, -Math.PI / 2);
                    c.normalize(u, u);
                    return c.dot(n, u)
                };
                this.localOffsetB = c.create();
                l.localOffsetB ? c.copy(this.localOffsetB, l.localOffsetB) : (c.sub(this.localOffsetB, k.position, b.position), c.rotate(this.localOffsetB,
                    this.localOffsetB, -b.angle));
                this.localAngleB = 0;
                this.localAngleB = "number" === typeof l.localAngleB ? l.localAngleB : k.angle - b.angle;
                this.equations.push(g, m, q);
                this.setMaxForce(f)
            }
            var a = b("./Constraint"),
                c = b("../math/vec2"),
                e = b("../equations/Equation");
            h.exports = f;
            f.prototype = new a;
            f.prototype.constructor = f;
            f.prototype.setMaxForce = function(a) {
                for (var c = this.equations, e = 0; e < this.equations.length; e++) c[e].maxForce = a, c[e].minForce = -a
            };
            f.prototype.getMaxForce = function() {
                return this.equations[0].maxForce
            };
            var k =
                c.create(),
                l = c.create(),
                m = c.create(),
                q = c.fromValues(1, 0),
                n = c.fromValues(0, 1);
            f.prototype.update = function() {
                var a = this.equations[0],
                    e = this.equations[1],
                    b = this.equations[2],
                    f = this.bodyB;
                c.rotate(k, this.localOffsetB, this.bodyA.angle);
                c.rotate(l, this.localOffsetB, f.angle - this.localAngleB);
                c.scale(l, l, -1);
                c.rotate(m, l, Math.PI / 2);
                c.normalize(m, m);
                a.G[0] = -1;
                a.G[1] = 0;
                a.G[2] = -c.crossLength(k, q);
                a.G[3] = 1;
                e.G[0] = 0;
                e.G[1] = -1;
                e.G[2] = -c.crossLength(k, n);
                e.G[4] = 1;
                b.G[0] = -m[0];
                b.G[1] = -m[1];
                b.G[3] = m[0];
                b.G[4] = m[1];
                b.G[5] = c.crossLength(l, m)
            }
        }, {
            "../equations/Equation": 22,
            "../math/vec2": 30,
            "./Constraint": 14
        }],
        18: [function(b, h, g) {
            function f(b, f, g) {
                g = g || {};
                a.call(this, b, f, a.PRISMATIC, g);
                var m = k.fromValues(0, 0),
                    q = k.fromValues(1, 0),
                    h = k.fromValues(0, 0);
                g.localAnchorA && k.copy(m, g.localAnchorA);
                g.localAxisA && k.copy(q, g.localAxisA);
                g.localAnchorB && k.copy(h, g.localAnchorB);
                this.localAnchorA = m;
                this.localAnchorB = h;
                this.localAxisA = q;
                var n = this.maxForce = "undefined" !== typeof g.maxForce ? g.maxForce : Number.MAX_VALUE,
                    p = new e(b,
                        f, -n, n),
                    r = new k.create,
                    u = new k.create,
                    t = new k.create,
                    v = new k.create;
                p.computeGq = function() {
                    return k.dot(t, v)
                };
                p.updateJacobian = function() {
                    var a = this.G,
                        c = b.position,
                        e = f.position;
                    k.rotate(r, m, b.angle);
                    k.rotate(u, h, f.angle);
                    k.add(t, e, u);
                    k.sub(t, t, c);
                    k.sub(t, t, r);
                    k.rotate(v, q, b.angle + Math.PI / 2);
                    a[0] = -v[0];
                    a[1] = -v[1];
                    a[2] = -k.crossLength(r, v) + k.crossLength(v, t);
                    a[3] = v[0];
                    a[4] = v[1];
                    a[5] = k.crossLength(u, v)
                };
                this.equations.push(p);
                g.disableRotationalLock || (p = new l(b, f, -n, n), this.equations.push(p));
                this.velocity =
                    this.position = 0;
                this.lowerLimitEnabled = "undefined" !== typeof g.lowerLimit ? !0 : !1;
                this.upperLimitEnabled = "undefined" !== typeof g.upperLimit ? !0 : !1;
                this.lowerLimit = "undefined" !== typeof g.lowerLimit ? g.lowerLimit : 0;
                this.upperLimit = "undefined" !== typeof g.upperLimit ? g.upperLimit : 1;
                this.upperLimitEquation = new c(b, f);
                this.lowerLimitEquation = new c(b, f);
                this.upperLimitEquation.minForce = this.lowerLimitEquation.minForce = 0;
                this.upperLimitEquation.maxForce = this.lowerLimitEquation.maxForce = n;
                this.motorEquation = new e(b,
                    f);
                this.motorEnabled = !1;
                this.motorSpeed = 0;
                var w = this;
                g = this.motorEquation;
                g.computeGq = function() {
                    return 0
                };
                g.computeGW = function() {
                    var a = this.bodyA,
                        c = this.bodyB;
                    return this.gmult(this.G, a.velocity, a.angularVelocity, c.velocity, c.angularVelocity) + w.motorSpeed
                }
            }
            var a = b("./Constraint"),
                c = b("../equations/ContactEquation"),
                e = b("../equations/Equation"),
                k = b("../math/vec2"),
                l = b("../equations/RotationalLockEquation");
            h.exports = f;
            f.prototype = new a;
            f.prototype.constructor = f;
            var m = k.create(),
                q = k.create(),
                n = k.create(),
                p = k.create(),
                r = k.create(),
                u = k.create();
            f.prototype.update = function() {
                var a = this.equations,
                    c = this.upperLimit,
                    e = this.lowerLimit,
                    b = this.upperLimitEquation,
                    l = this.lowerLimitEquation,
                    f = this.bodyA,
                    g = this.bodyB,
                    h = this.localAxisA,
                    C = this.localAnchorA,
                    D = this.localAnchorB;
                a[0].updateJacobian();
                k.rotate(m, h, f.angle);
                k.rotate(p, C, f.angle);
                k.add(q, p, f.position);
                k.rotate(r, D, g.angle);
                k.add(n, r, g.position);
                h = this.position = k.dot(n, m) - k.dot(q, m);
                this.motorEnabled && (C = this.motorEquation.G, C[0] = m[0], C[1] = m[1], C[2] = k.crossLength(m,
                    r), C[3] = -m[0], C[4] = -m[1], C[5] = -k.crossLength(m, p));
                this.upperLimitEnabled && h > c ? (k.scale(b.normalA, m, -1), k.sub(b.contactPointA, q, f.position), k.sub(b.contactPointB, n, g.position), k.scale(u, m, c), k.add(b.contactPointA, b.contactPointA, u), -1 === a.indexOf(b) && a.push(b)) : (c = a.indexOf(b), -1 !== c && a.splice(c, 1));
                this.lowerLimitEnabled && h < e ? (k.scale(l.normalA, m, 1), k.sub(l.contactPointA, q, f.position), k.sub(l.contactPointB, n, g.position), k.scale(u, m, e), k.sub(l.contactPointB, l.contactPointB, u), -1 === a.indexOf(l) && a.push(l)) :
                    (c = a.indexOf(l), -1 !== c && a.splice(c, 1))
            };
            f.prototype.enableMotor = function() {
                this.motorEnabled || (this.equations.push(this.motorEquation), this.motorEnabled = !0)
            };
            f.prototype.disableMotor = function() {
                if (this.motorEnabled) {
                    var a = this.equations.indexOf(this.motorEquation);
                    this.equations.splice(a, 1);
                    this.motorEnabled = !1
                }
            };
            f.prototype.setLimits = function(a, c) {
                "number" === typeof a ? (this.lowerLimit = a, this.lowerLimitEnabled = !0) : (this.lowerLimit = a, this.lowerLimitEnabled = !1);
                "number" === typeof c ? (this.upperLimit = c,
                    this.upperLimitEnabled = !0) : (this.upperLimit = c, this.upperLimitEnabled = !1)
            }
        }, {
            "../equations/ContactEquation": 21,
            "../equations/Equation": 22,
            "../equations/RotationalLockEquation": 24,
            "../math/vec2": 30,
            "./Constraint": 14
        }],
        19: [function(b, h, g) {
            function f(b, f, g) {
                g = g || {};
                a.call(this, b, f, a.REVOLUTE, g);
                var h = this.maxForce = "undefined" !== typeof g.maxForce ? g.maxForce : Number.MAX_VALUE;
                this.pivotA = l.create();
                this.pivotB = l.create();
                g.worldPivot ? (l.sub(this.pivotA, g.worldPivot, b.position), l.sub(this.pivotB, g.worldPivot,
                    f.position), l.rotate(this.pivotA, this.pivotA, -b.angle), l.rotate(this.pivotB, this.pivotB, -f.angle)) : (l.copy(this.pivotA, g.localPivotA), l.copy(this.pivotB, g.localPivotB));
                var u = this.equations = [new c(b, f, -h, h), new c(b, f, -h, h)];
                g = u[0];
                u = u[1];
                var t = this;
                g.computeGq = function() {
                    l.rotate(m, t.pivotA, b.angle);
                    l.rotate(q, t.pivotB, f.angle);
                    l.add(r, f.position, q);
                    l.sub(r, r, b.position);
                    l.sub(r, r, m);
                    return l.dot(r, n)
                };
                u.computeGq = function() {
                    l.rotate(m, t.pivotA, b.angle);
                    l.rotate(q, t.pivotB, f.angle);
                    l.add(r, f.position,
                        q);
                    l.sub(r, r, b.position);
                    l.sub(r, r, m);
                    return l.dot(r, p)
                };
                u.minForce = g.minForce = -h;
                u.maxForce = g.maxForce = h;
                this.motorEquation = new e(b, f);
                this.motorEnabled = !1;
                this.angle = 0;
                this.upperLimitEnabled = this.lowerLimitEnabled = !1;
                this.upperLimit = this.lowerLimit = 0;
                this.upperLimitEquation = new k(b, f);
                this.lowerLimitEquation = new k(b, f);
                this.upperLimitEquation.minForce = 0;
                this.lowerLimitEquation.maxForce = 0
            }
            var a = b("./Constraint"),
                c = b("../equations/Equation"),
                e = b("../equations/RotationalVelocityEquation"),
                k = b("../equations/RotationalLockEquation"),
                l = b("../math/vec2");
            h.exports = f;
            var m = l.create(),
                q = l.create(),
                n = l.fromValues(1, 0),
                p = l.fromValues(0, 1),
                r = l.create();
            f.prototype = new a;
            f.prototype.constructor = f;
            f.prototype.setLimits = function(a, c) {
                "number" === typeof a ? (this.lowerLimit = a, this.lowerLimitEnabled = !0) : (this.lowerLimit = a, this.lowerLimitEnabled = !1);
                "number" === typeof c ? (this.upperLimit = c, this.upperLimitEnabled = !0) : (this.upperLimit = c, this.upperLimitEnabled = !1)
            };
            f.prototype.update = function() {
                var a = this.bodyA,
                    c = this.bodyB,
                    e = this.pivotA,
                    b = this.pivotB,
                    k = this.equations,
                    f = k[0],
                    g = k[1],
                    h = this.upperLimit,
                    r = this.lowerLimit,
                    C = this.upperLimitEquation,
                    D = this.lowerLimitEquation,
                    J = this.angle = c.angle - a.angle;
                this.upperLimitEnabled && J > h ? (C.angle = h, -1 === k.indexOf(C) && k.push(C)) : (h = k.indexOf(C), -1 !== h && k.splice(h, 1));
                this.lowerLimitEnabled && J < r ? (D.angle = r, -1 === k.indexOf(D) && k.push(D)) : (h = k.indexOf(D), -1 !== h && k.splice(h, 1));
                l.rotate(m, e, a.angle);
                l.rotate(q, b, c.angle);
                f.G[0] = -1;
                f.G[1] = 0;
                f.G[2] = -l.crossLength(m, n);
                f.G[3] = 1;
                f.G[4] = 0;
                f.G[5] = l.crossLength(q, n);
                g.G[0] =
                    0;
                g.G[1] = -1;
                g.G[2] = -l.crossLength(m, p);
                g.G[3] = 0;
                g.G[4] = 1;
                g.G[5] = l.crossLength(q, p)
            };
            f.prototype.enableMotor = function() {
                this.motorEnabled || (this.equations.push(this.motorEquation), this.motorEnabled = !0)
            };
            f.prototype.disableMotor = function() {
                if (this.motorEnabled) {
                    var a = this.equations.indexOf(this.motorEquation);
                    this.equations.splice(a, 1);
                    this.motorEnabled = !1
                }
            };
            f.prototype.setMotorSpeed = function(a) {
                if (this.motorEnabled) {
                    var c = this.equations.indexOf(this.motorEquation);
                    this.equations[c].relativeVelocity =
                        a
                }
            };
            f.prototype.getMotorSpeed = function() {
                return this.motorEnabled ? this.motorEquation.relativeVelocity : !1
            }
        }, {
            "../equations/Equation": 22,
            "../equations/RotationalLockEquation": 24,
            "../equations/RotationalVelocityEquation": 25,
            "../math/vec2": 30,
            "./Constraint": 14
        }],
        20: [function(b, h, g) {
            function f(c, e, b) {
                b = b || {};
                a.call(this, c, e, -Number.MAX_VALUE, Number.MAX_VALUE);
                this.angle = b.angle || 0;
                this.ratio = "number" === typeof b.ratio ? b.ratio : 1;
                this.setRatio(this.ratio)
            }
            var a = b("./Equation");
            b("../math/vec2");
            h.exports =
                f;
            f.prototype = new a;
            f.prototype.constructor = f;
            f.prototype.computeGq = function() {
                return this.ratio * this.bodyA.angle - this.bodyB.angle + this.angle
            };
            f.prototype.setRatio = function(a) {
                var c = this.G;
                c[2] = a;
                c[5] = -1;
                this.ratio = a
            };
            f.prototype.setMaxTorque = function(a) {
                this.maxForce = a;
                this.minForce = -a
            }
        }, {
            "../math/vec2": 30,
            "./Equation": 22
        }],
        21: [function(b, h, g) {
            function f(e, b) {
                a.call(this, e, b, 0, Number.MAX_VALUE);
                this.contactPointA = c.create();
                this.penetrationVec = c.create();
                this.contactPointB = c.create();
                this.normalA =
                    c.create();
                this.restitution = 0;
                this.firstImpact = !1;
                this.shapeB = this.shapeA = null
            }
            var a = b("./Equation"),
                c = b("../math/vec2");
            h.exports = f;
            f.prototype = new a;
            f.prototype.constructor = f;
            f.prototype.computeB = function(a, e, b) {
                var k = this.contactPointA,
                    l = this.contactPointB,
                    f = this.bodyA.position,
                    g = this.bodyB.position,
                    m = this.penetrationVec,
                    q = this.normalA,
                    h = this.G,
                    n = c.crossLength(k, q),
                    z = c.crossLength(l, q);
                h[0] = -q[0];
                h[1] = -q[1];
                h[2] = -n;
                h[3] = q[0];
                h[4] = q[1];
                h[5] = z;
                c.add(m, g, l);
                c.sub(m, m, f);
                c.sub(m, m, k);
                this.firstImpact &&
                    0 !== this.restitution ? (l = 0, k = 1 / e * (1 + this.restitution) * this.computeGW()) : (l = c.dot(q, m) + this.offset, k = this.computeGW());
                f = this.computeGiMf();
                return -l * a - k * e - b * f
            };
            var e = c.create(),
                k = c.create(),
                l = c.create();
            f.prototype.getVelocityAlongNormal = function() {
                this.bodyA.getVelocityAtPoint(e, this.contactPointA);
                this.bodyB.getVelocityAtPoint(k, this.contactPointB);
                c.subtract(l, e, k);
                return c.dot(this.normalA, l)
            }
        }, {
            "../math/vec2": 30,
            "./Equation": 22
        }],
        22: [function(b, h, g) {
            function f(a, e, b, k) {
                this.minForce = "undefined" ===
                    typeof b ? -Number.MAX_VALUE : b;
                this.maxForce = "undefined" === typeof k ? Number.MAX_VALUE : k;
                this.bodyA = a;
                this.bodyB = e;
                this.stiffness = f.DEFAULT_STIFFNESS;
                this.relaxation = f.DEFAULT_RELAXATION;
                this.G = new c.ARRAY_TYPE(6);
                for (a = 0; 6 > a; a++) this.G[a] = 0;
                this.epsilon = this.b = this.a = this.offset = 0;
                this.timeStep = 1 / 60;
                this.needsUpdate = !0;
                this.relativeVelocity = this.multiplier = 0;
                this.enabled = !0
            }
            h.exports = f;
            var a = b("../math/vec2"),
                c = b("../utils/Utils");
            b("../objects/Body");
            f.prototype.constructor = f;
            f.DEFAULT_STIFFNESS = 1E6;
            f.DEFAULT_RELAXATION = 4;
            f.prototype.update = function() {
                var a = this.stiffness,
                    c = this.relaxation,
                    e = this.timeStep;
                this.a = 4 / (e * (1 + 4 * c));
                this.b = 4 * c / (1 + 4 * c);
                this.epsilon = 4 / (e * e * a * (1 + 4 * c));
                this.needsUpdate = !1
            };
            f.prototype.gmult = function(a, c, e, b, k) {
                return a[0] * c[0] + a[1] * c[1] + a[2] * e + a[3] * b[0] + a[4] * b[1] + a[5] * k
            };
            f.prototype.computeB = function(a, c, e) {
                var b = this.computeGW(),
                    k = this.computeGq(),
                    l = this.computeGiMf();
                return -k * a - b * c - l * e
            };
            var e = a.create(),
                k = a.create();
            f.prototype.computeGq = function() {
                return this.gmult(this.G,
                    e, this.bodyA.angle, k, this.bodyB.angle) + this.offset
            };
            f.prototype.computeGW = function() {
                var a = this.bodyA,
                    c = this.bodyB;
                return this.gmult(this.G, a.velocity, a.angularVelocity, c.velocity, c.angularVelocity) + this.relativeVelocity
            };
            f.prototype.computeGWlambda = function() {
                var a = this.bodyA,
                    c = this.bodyB;
                return this.gmult(this.G, a.vlambda, a.wlambda, c.vlambda, c.wlambda)
            };
            var l = a.create(),
                m = a.create();
            f.prototype.computeGiMf = function() {
                var c = this.bodyA,
                    e = this.bodyB,
                    b = c.angularForce,
                    k = e.force,
                    f = e.angularForce,
                    g = e.invMassSolve,
                    q = c.invInertiaSolve,
                    h = e.invInertiaSolve,
                    n = this.G;
                a.scale(l, c.force, c.invMassSolve);
                a.multiply(l, c.massMultiplier, l);
                a.scale(m, k, g);
                a.multiply(m, e.massMultiplier, m);
                return this.gmult(n, l, b * q, m, f * h)
            };
            f.prototype.computeGiMGt = function() {
                var a = this.bodyA,
                    c = this.bodyB,
                    e = a.invMassSolve,
                    b = c.invMassSolve,
                    k = this.G;
                return k[0] * k[0] * e * a.massMultiplier[0] + k[1] * k[1] * e * a.massMultiplier[1] + k[2] * k[2] * a.invInertiaSolve + k[3] * k[3] * b * c.massMultiplier[0] + k[4] * k[4] * b * c.massMultiplier[1] + k[5] * k[5] * c.invInertiaSolve
            };
            var q =
                a.create(),
                n = a.create(),
                p = a.create();
            a.create();
            a.create();
            a.create();
            f.prototype.addToWlambda = function(c) {
                var e = this.bodyA,
                    b = this.bodyB,
                    k = e.invMassSolve,
                    l = b.invMassSolve,
                    f = e.invInertiaSolve,
                    g = b.invInertiaSolve,
                    m = this.G;
                n[0] = m[0];
                n[1] = m[1];
                p[0] = m[3];
                p[1] = m[4];
                a.scale(q, n, k * c);
                a.multiply(q, q, e.massMultiplier);
                a.add(e.vlambda, e.vlambda, q);
                e.wlambda += f * m[2] * c;
                a.scale(q, p, l * c);
                a.multiply(q, q, b.massMultiplier);
                a.add(b.vlambda, b.vlambda, q);
                b.wlambda += g * m[5] * c
            };
            f.prototype.computeInvC = function(a) {
                return 1 /
                    (this.computeGiMGt() + a)
            }
        }, {
            "../math/vec2": 30,
            "../objects/Body": 31,
            "../utils/Utils": 57
        }],
        23: [function(b, h, g) {
            function f(e, b, l) {
                c.call(this, e, b, -l, l);
                this.contactPointA = a.create();
                this.contactPointB = a.create();
                this.t = a.create();
                this.contactEquations = [];
                this.shapeB = this.shapeA = null;
                this.frictionCoefficient = .3
            }
            var a = b("../math/vec2"),
                c = b("./Equation");
            b("../utils/Utils");
            h.exports = f;
            f.prototype = new c;
            f.prototype.constructor = f;
            f.prototype.setSlipForce = function(a) {
                this.maxForce = a;
                this.minForce = -a
            };
            f.prototype.getSlipForce =
                function() {
                    return this.maxForce
                };
            f.prototype.computeB = function(c, b, l) {
                c = this.contactPointA;
                var e = this.contactPointB,
                    k = this.t,
                    f = this.G;
                f[0] = -k[0];
                f[1] = -k[1];
                f[2] = -a.crossLength(c, k);
                f[3] = k[0];
                f[4] = k[1];
                f[5] = a.crossLength(e, k);
                c = this.computeGW();
                e = this.computeGiMf();
                return -c * b - l * e
            }
        }, {
            "../math/vec2": 30,
            "../utils/Utils": 57,
            "./Equation": 22
        }],
        24: [function(b, h, g) {
            function f(c, e, b) {
                b = b || {};
                a.call(this, c, e, -Number.MAX_VALUE, Number.MAX_VALUE);
                this.angle = b.angle || 0;
                c = this.G;
                c[2] = 1;
                c[5] = -1
            }
            var a = b("./Equation"),
                c = b("../math/vec2");
            h.exports = f;
            f.prototype = new a;
            f.prototype.constructor = f;
            var e = c.create(),
                k = c.create(),
                l = c.fromValues(1, 0),
                m = c.fromValues(0, 1);
            f.prototype.computeGq = function() {
                c.rotate(e, l, this.bodyA.angle + this.angle);
                c.rotate(k, m, this.bodyB.angle);
                return c.dot(e, k)
            }
        }, {
            "../math/vec2": 30,
            "./Equation": 22
        }],
        25: [function(b, h, g) {
            function f(c, e) {
                a.call(this, c, e, -Number.MAX_VALUE, Number.MAX_VALUE);
                this.ratio = this.relativeVelocity = 1
            }
            var a = b("./Equation");
            b("../math/vec2");
            h.exports = f;
            f.prototype = new a;
            f.prototype.constructor = f;
            f.prototype.computeB = function(a, e, b) {
                a = this.G;
                a[2] = -1;
                a[5] = this.ratio;
                a = this.computeGiMf();
                return -this.computeGW() * e - b * a
            }
        }, {
            "../math/vec2": 30,
            "./Equation": 22
        }],
        26: [function(b, h, g) {
            b = function() {};
            h.exports = b;
            b.prototype = {
                constructor: b,
                on: function(b, a, c) {
                    a.context = c || this;
                    void 0 === this._listeners && (this._listeners = {});
                    c = this._listeners;
                    void 0 === c[b] && (c[b] = []); - 1 === c[b].indexOf(a) && c[b].push(a);
                    return this
                },
                has: function(b, a) {
                    if (void 0 === this._listeners) return !1;
                    var c = this._listeners;
                    if (a) {
                        if (void 0 !== c[b] && -1 !== c[b].indexOf(a)) return !0
                    } else if (void 0 !== c[b]) return !0;
                    return !1
                },
                off: function(b, a) {
                    if (void 0 === this._listeners) return this;
                    var c = this._listeners;
                    a = c[b].indexOf(a); - 1 !== a && c[b].splice(a, 1);
                    return this
                },
                emit: function(b) {
                    if (void 0 === this._listeners) return this;
                    var a = this._listeners[b.type];
                    if (void 0 !== a) {
                        b.target = this;
                        for (var c = 0, e = a.length; c < e; c++) {
                            var k = a[c];
                            k.call(k.context, b)
                        }
                    }
                    return this
                }
            }
        }, {}],
        27: [function(b, h, g) {
            function f(e, b, l) {
                l = l || {};
                if (!(e instanceof a && b instanceof a)) throw Error("First two arguments must be Material instances.");
                this.id = f.idCounter++;
                this.materialA = e;
                this.materialB = b;
                this.friction = "undefined" !== typeof l.friction ? Number(l.friction) : .3;
                this.restitution = "undefined" !== typeof l.restitution ? Number(l.restitution) : 0;
                this.stiffness = "undefined" !== typeof l.stiffness ? Number(l.stiffness) : c.DEFAULT_STIFFNESS;
                this.relaxation = "undefined" !== typeof l.relaxation ? Number(l.relaxation) : c.DEFAULT_RELAXATION;
                this.frictionStiffness = "undefined" !== typeof l.frictionStiffness ?
                    Number(l.frictionStiffness) : c.DEFAULT_STIFFNESS;
                this.frictionRelaxation = "undefined" !== typeof l.frictionRelaxation ? Number(l.frictionRelaxation) : c.DEFAULT_RELAXATION;
                this.surfaceVelocity = "undefined" !== typeof l.surfaceVelocity ? Number(l.surfaceVelocity) : 0;
                this.contactSkinSize = .005
            }
            var a = b("./Material"),
                c = b("../equations/Equation");
            h.exports = f;
            f.idCounter = 0
        }, {
            "../equations/Equation": 22,
            "./Material": 28
        }],
        28: [function(b, h, g) {
            function f(a) {
                this.id = a || f.idCounter++
            }
            h.exports = f;
            f.idCounter = 0
        }, {}],
        29: [function(b,
            h, g) {
            var f = {
                GetArea: function(a) {
                    if (6 > a.length) return 0;
                    for (var c = a.length - 2, e = 0, b = 0; b < c; b += 2) e += (a[b + 2] - a[b]) * (a[b + 1] + a[b + 3]);
                    e += (a[0] - a[c]) * (a[c + 1] + a[1]);
                    return .5 * -e
                },
                Triangulate: function(a) {
                    var c = a.length >> 1;
                    if (3 > c) return [];
                    for (var e = [], b = [], l = 0; l < c; l++) b.push(l);
                    for (l = 0; 3 < c;) {
                        var g = b[(l + 0) % c],
                            q = b[(l + 1) % c],
                            h = b[(l + 2) % c],
                            p = a[2 * g],
                            r = a[2 * g + 1],
                            u = a[2 * q],
                            t = a[2 * q + 1],
                            v = a[2 * h],
                            w = a[2 * h + 1],
                            x = !1;
                        if (f._convex(p, r, u, t, v, w)) {
                            x = !0;
                            for (var y = 0; y < c; y++) {
                                var z = b[y];
                                if (z != g && z != q && z != h && f._PointInTriangle(a[2 * z], a[2 *
                                        z + 1], p, r, u, t, v, w)) {
                                    x = !1;
                                    break
                                }
                            }
                        }
                        if (x) e.push(g, q, h), b.splice((l + 1) % c, 1), c--, l = 0;
                        else if (l++ > 3 * c) break
                    }
                    e.push(b[0], b[1], b[2]);
                    return e
                },
                _PointInTriangle: function(a, c, e, b, l, f, g, h) {
                    g -= e;
                    h -= b;
                    l -= e;
                    f -= b;
                    a -= e;
                    e = c - b;
                    c = g * g + h * h;
                    b = g * l + h * f;
                    g = g * a + h * e;
                    h = l * l + f * f;
                    l = l * a + f * e;
                    f = 1 / (c * h - b * b);
                    h = (h * g - b * l) * f;
                    g = (c * l - b * g) * f;
                    return 0 <= h && 0 <= g && 1 > h + g
                },
                _convex: function(a, c, e, b, l, f) {
                    return 0 <= (c - b) * (l - e) + (e - a) * (f - b)
                }
            };
            h.exports = f
        }, {}],
        30: [function(b, h, g) {
            var f = h.exports = {},
                a = b("../utils/Utils");
            f.crossLength = function(a, e) {
                return a[0] *
                    e[1] - a[1] * e[0]
            };
            f.crossVZ = function(a, e, b) {
                f.rotate(a, e, -Math.PI / 2);
                f.scale(a, a, b);
                return a
            };
            f.crossZV = function(a, e, b) {
                f.rotate(a, b, Math.PI / 2);
                f.scale(a, a, e);
                return a
            };
            f.rotate = function(a, e, b) {
                if (0 !== b) {
                    var c = Math.cos(b);
                    b = Math.sin(b);
                    var k = e[0];
                    e = e[1];
                    a[0] = c * k - b * e;
                    a[1] = b * k + c * e
                } else a[0] = e[0], a[1] = e[1]
            };
            f.rotate90cw = function(a, e) {
                var c = e[0];
                a[0] = e[1];
                a[1] = -c
            };
            f.toLocalFrame = function(a, e, b, l) {
                f.copy(a, e);
                f.sub(a, a, b);
                f.rotate(a, a, -l)
            };
            f.toGlobalFrame = function(a, e, b, l) {
                f.copy(a, e);
                f.rotate(a, a, l);
                f.add(a,
                    a, b)
            };
            f.vectorToLocalFrame = function(a, e, b) {
                f.rotate(a, e, -b)
            };
            f.vectorToGlobalFrame = function(a, e, b) {
                f.rotate(a, e, b)
            };
            f.centroid = function(a, e, b, l) {
                f.add(a, e, b);
                f.add(a, a, l);
                f.scale(a, a, 1 / 3);
                return a
            };
            f.create = function() {
                var c = new a.ARRAY_TYPE(2);
                c[0] = 0;
                c[1] = 0;
                return c
            };
            f.clone = function(c) {
                var e = new a.ARRAY_TYPE(2);
                e[0] = c[0];
                e[1] = c[1];
                return e
            };
            f.fromValues = function(c, e) {
                var b = new a.ARRAY_TYPE(2);
                b[0] = c;
                b[1] = e;
                return b
            };
            f.copy = function(a, e) {
                a[0] = e[0];
                a[1] = e[1];
                return a
            };
            f.set = function(a, e, b) {
                a[0] = e;
                a[1] = b;
                return a
            };
            f.add = function(a, e, b) {
                a[0] = e[0] + b[0];
                a[1] = e[1] + b[1];
                return a
            };
            f.subtract = function(a, e, b) {
                a[0] = e[0] - b[0];
                a[1] = e[1] - b[1];
                return a
            };
            f.sub = f.subtract;
            f.multiply = function(a, e, b) {
                a[0] = e[0] * b[0];
                a[1] = e[1] * b[1];
                return a
            };
            f.mul = f.multiply;
            f.divide = function(a, e, b) {
                a[0] = e[0] / b[0];
                a[1] = e[1] / b[1];
                return a
            };
            f.div = f.divide;
            f.scale = function(a, e, b) {
                a[0] = e[0] * b;
                a[1] = e[1] * b;
                return a
            };
            f.distance = function(a, e) {
                var c = e[0] - a[0];
                a = e[1] - a[1];
                return Math.sqrt(c * c + a * a)
            };
            f.dist = f.distance;
            f.squaredDistance =
                function(a, e) {
                    var c = e[0] - a[0];
                    a = e[1] - a[1];
                    return c * c + a * a
                };
            f.sqrDist = f.squaredDistance;
            f.length = function(a) {
                var c = a[0];
                a = a[1];
                return Math.sqrt(c * c + a * a)
            };
            f.len = f.length;
            f.squaredLength = function(a) {
                var c = a[0];
                a = a[1];
                return c * c + a * a
            };
            f.sqrLen = f.squaredLength;
            f.negate = function(a, e) {
                a[0] = -e[0];
                a[1] = -e[1];
                return a
            };
            f.normalize = function(a, e) {
                var c = e[0],
                    b = e[1];
                c = c * c + b * b;
                0 < c && (c = 1 / Math.sqrt(c), a[0] = e[0] * c, a[1] = e[1] * c);
                return a
            };
            f.dot = function(a, e) {
                return a[0] * e[0] + a[1] * e[1]
            };
            f.str = function(a) {
                return "vec2(" +
                    a[0] + ", " + a[1] + ")"
            };
            f.lerp = function(a, e, b, l) {
                var c = e[0];
                e = e[1];
                a[0] = c + l * (b[0] - c);
                a[1] = e + l * (b[1] - e);
                return a
            };
            f.reflect = function(a, e, b) {
                var c = e[0] * b[0] + e[1] * b[1];
                a[0] = e[0] - 2 * b[0] * c;
                a[1] = e[1] - 2 * b[1] * c
            };
            f.getLineSegmentsIntersection = function(a, e, b, l, g) {
                l = f.getLineSegmentsIntersectionFraction(e, b, l, g);
                if (0 > l) return !1;
                a[0] = e[0] + l * (b[0] - e[0]);
                a[1] = e[1] + l * (b[1] - e[1]);
                return !0
            };
            f.getLineSegmentsIntersectionFraction = function(a, e, b, l) {
                var c = e[0] - a[0];
                e = e[1] - a[1];
                var k = l[0] - b[0],
                    f = l[1] - b[1];
                l = (-e * (a[0] - b[0]) +
                    c * (a[1] - b[1])) / (-k * e + c * f);
                a = (k * (a[1] - b[1]) - f * (a[0] - b[0])) / (-k * e + c * f);
                return 0 <= l && 1 >= l && 0 <= a && 1 >= a ? a : -1
            }
        }, {
            "../utils/Utils": 57
        }],
        31: [function(b, h, g) {
            function f(c) {
                c = c || {};
                m.call(this);
                this.id = c.id || ++f._idCounter;
                this.world = null;
                this.shapes = [];
                this.mass = c.mass || 0;
                this.invInertiaSolve = this.invMassSolve = this.invInertia = this.inertia = this.invMass = 0;
                this.fixedRotation = !!c.fixedRotation;
                this.fixedX = !!c.fixedX;
                this.fixedY = !!c.fixedY;
                this.massMultiplier = a.create();
                this.position = a.fromValues(0, 0);
                c.position &&
                    a.copy(this.position, c.position);
                this.interpolatedPosition = a.fromValues(0, 0);
                this.interpolatedAngle = 0;
                this.previousPosition = a.fromValues(0, 0);
                this.previousAngle = 0;
                this.velocity = a.fromValues(0, 0);
                c.velocity && a.copy(this.velocity, c.velocity);
                this.vlambda = a.fromValues(0, 0);
                this.wlambda = 0;
                this.angle = c.angle || 0;
                this.angularVelocity = c.angularVelocity || 0;
                this.force = a.create();
                c.force && a.copy(this.force, c.force);
                this.angularForce = c.angularForce || 0;
                this.damping = "number" === typeof c.damping ? c.damping : .1;
                this.angularDamping =
                    "number" === typeof c.angularDamping ? c.angularDamping : .1;
                this.type = f.STATIC;
                this.type = "undefined" !== typeof c.type ? c.type : c.mass ? f.DYNAMIC : f.STATIC;
                this.boundingRadius = 0;
                this.aabb = new l;
                this.aabbNeedsUpdate = !0;
                this.allowSleep = void 0 !== c.allowSleep ? c.allowSleep : !0;
                this.wantsToSleep = !1;
                this.sleepState = f.AWAKE;
                this.sleepSpeedLimit = void 0 !== c.sleepSpeedLimit ? c.sleepSpeedLimit : .2;
                this.sleepTimeLimit = void 0 !== c.sleepTimeLimit ? c.sleepTimeLimit : 1;
                this.gravityScale = void 0 !== c.gravityScale ? c.gravityScale : 1;
                this.collisionResponse =
                    void 0 !== c.collisionResponse ? c.collisionResponse : !0;
                this.timeLastSleepy = this.idleTime = 0;
                this.ccdSpeedThreshold = void 0 !== c.ccdSpeedThreshold ? c.ccdSpeedThreshold : -1;
                this.ccdIterations = void 0 !== c.ccdIterations ? c.ccdIterations : 10;
                this.concavePath = null;
                this._wakeUpAfterNarrowphase = !1;
                this.updateMassProperties()
            }
            var a = b("../math/vec2"),
                c = b("poly-decomp"),
                e = b("../shapes/Convex");
            g = b("../collision/RaycastResult");
            var k = b("../collision/Ray"),
                l = b("../collision/AABB"),
                m = b("../events/EventEmitter");
            h.exports =
                f;
            f.prototype = new m;
            f.prototype.constructor = f;
            f._idCounter = 0;
            f.prototype.updateSolveMassProperties = function() {
                this.sleepState === f.SLEEPING || this.type === f.KINEMATIC ? this.invInertiaSolve = this.invMassSolve = 0 : (this.invMassSolve = this.invMass, this.invInertiaSolve = this.invInertia)
            };
            f.prototype.setDensity = function(a) {
                this.mass = this.getArea() * a;
                this.updateMassProperties()
            };
            f.prototype.getArea = function() {
                for (var a = 0, c = 0; c < this.shapes.length; c++) a += this.shapes[c].area;
                return a
            };
            f.prototype.getAABB = function() {
                this.aabbNeedsUpdate &&
                    this.updateAABB();
                return this.aabb
            };
            var q = new l,
                n = a.create();
            f.prototype.updateAABB = function() {
                for (var c = this.shapes, e = c.length, b = this.angle, k = 0; k !== e; k++) {
                    var l = c[k],
                        f = l.angle + b;
                    a.rotate(n, l.position, b);
                    a.add(n, n, this.position);
                    l.computeAABB(q, n, f);
                    0 === k ? this.aabb.copy(q) : this.aabb.extend(q)
                }
                this.aabbNeedsUpdate = !1
            };
            f.prototype.updateBoundingRadius = function() {
                for (var c = this.shapes, e = c.length, b = 0, k = 0; k !== e; k++) {
                    var l = c[k],
                        f = a.length(l.position);
                    l = l.boundingRadius;
                    f + l > b && (b = f + l)
                }
                this.boundingRadius =
                    b
            };
            f.prototype.addShape = function(c, e, b) {
                if (c.body) throw Error("A shape can only be added to one body.");
                c.body = this;
                e ? a.copy(c.position, e) : a.set(c.position, 0, 0);
                c.angle = b || 0;
                this.shapes.push(c);
                this.updateMassProperties();
                this.updateBoundingRadius();
                this.aabbNeedsUpdate = !0
            };
            f.prototype.removeShape = function(a) {
                var c = this.shapes.indexOf(a);
                return -1 !== c ? (this.shapes.splice(c, 1), this.aabbNeedsUpdate = !0, a.body = null, !0) : !1
            };
            f.prototype.updateMassProperties = function() {
                if (this.type === f.STATIC || this.type ===
                    f.KINEMATIC) this.mass = Number.MAX_VALUE, this.invMass = 0, this.inertia = Number.MAX_VALUE, this.invInertia = 0;
                else {
                    var c = this.shapes,
                        e = c.length,
                        b = this.mass / e,
                        k = 0;
                    if (this.fixedRotation) this.inertia = Number.MAX_VALUE, this.invInertia = 0;
                    else {
                        for (var l = 0; l < e; l++) {
                            var g = c[l],
                                m = a.squaredLength(g.position);
                            g = g.computeMomentOfInertia(b);
                            k += g + b * m
                        }
                        this.inertia = k;
                        this.invInertia = 0 < k ? 1 / k : 0
                    }
                    this.invMass = 1 / this.mass;
                    a.set(this.massMultiplier, this.fixedX ? 0 : 1, this.fixedY ? 0 : 1)
                }
            };
            a.create();
            f.prototype.applyForce = function(c,
                e) {
                a.add(this.force, this.force, c);
                e && (c = a.crossLength(e, c), this.angularForce += c)
            };
            var p = a.create(),
                r = a.create(),
                u = a.create();
            f.prototype.applyForceLocal = function(a, c) {
                c = c || u;
                this.vectorToWorldFrame(p, a);
                this.vectorToWorldFrame(r, c);
                this.applyForce(p, r)
            };
            var t = a.create();
            f.prototype.applyImpulse = function(c, e) {
                this.type === f.DYNAMIC && (a.scale(t, c, this.invMass), a.multiply(t, this.massMultiplier, t), a.add(this.velocity, t, this.velocity), e && (c = a.crossLength(e, c), c *= this.invInertia, this.angularVelocity += c))
            };
            var v = a.create(),
                w = a.create(),
                x = a.create();
            f.prototype.applyImpulseLocal = function(a, c) {
                c = c || x;
                this.vectorToWorldFrame(v, a);
                this.vectorToWorldFrame(w, c);
                this.applyImpulse(v, w)
            };
            f.prototype.toLocalFrame = function(c, e) {
                a.toLocalFrame(c, e, this.position, this.angle)
            };
            f.prototype.toWorldFrame = function(c, e) {
                a.toGlobalFrame(c, e, this.position, this.angle)
            };
            f.prototype.vectorToLocalFrame = function(c, e) {
                a.vectorToLocalFrame(c, e, this.angle)
            };
            f.prototype.vectorToWorldFrame = function(c, e) {
                a.vectorToGlobalFrame(c, e,
                    this.angle)
            };
            f.prototype.fromPolygon = function(b, k) {
                k = k || {};
                for (var l = this.shapes.length; 0 <= l; --l) this.removeShape(this.shapes[l]);
                var f = new c.Polygon;
                f.vertices = b;
                f.makeCCW();
                "number" === typeof k.removeCollinearPoints && f.removeCollinearPoints(k.removeCollinearPoints);
                if ("undefined" === typeof k.skipSimpleCheck && !f.isSimple()) return !1;
                this.concavePath = f.vertices.slice(0);
                for (l = 0; l < this.concavePath.length; l++) b = [0, 0], a.copy(b, this.concavePath[l]), this.concavePath[l] = b;
                k = k.optimalDecomp ? f.decomp() : f.quickDecomp();
                f = a.create();
                for (l = 0; l !== k.length; l++) {
                    for (var g = new e({
                            vertices: k[l].vertices
                        }), m = 0; m !== g.vertices.length; m++) b = g.vertices[m], a.sub(b, b, g.centerOfMass);
                    a.scale(f, g.centerOfMass, 1);
                    g.updateTriangles();
                    g.updateCenterOfMass();
                    g.updateBoundingRadius();
                    this.addShape(g, f)
                }
                this.adjustCenterOfMass();
                return this.aabbNeedsUpdate = !0
            };
            a.fromValues(0, 0);
            var y = a.fromValues(0, 0),
                z = a.fromValues(0, 0),
                B = a.fromValues(0, 0);
            f.prototype.adjustCenterOfMass = function() {
                var c = 0;
                a.set(z, 0, 0);
                for (var e = 0; e !== this.shapes.length; e++) {
                    var b =
                        this.shapes[e];
                    a.scale(y, b.position, b.area);
                    a.add(z, z, y);
                    c += b.area
                }
                a.scale(B, z, 1 / c);
                for (e = 0; e !== this.shapes.length; e++) b = this.shapes[e], a.sub(b.position, b.position, B);
                a.add(this.position, this.position, B);
                for (e = 0; this.concavePath && e < this.concavePath.length; e++) a.sub(this.concavePath[e], this.concavePath[e], B);
                this.updateMassProperties();
                this.updateBoundingRadius()
            };
            f.prototype.setZeroForce = function() {
                a.set(this.force, 0, 0);
                this.angularForce = 0
            };
            f.prototype.resetConstraintVelocity = function() {
                a.set(this.vlambda,
                    0, 0);
                this.wlambda = 0
            };
            f.prototype.addConstraintVelocity = function() {
                var c = this.velocity;
                a.add(c, c, this.vlambda);
                this.angularVelocity += this.wlambda
            };
            f.prototype.applyDamping = function(c) {
                if (this.type === f.DYNAMIC) {
                    var e = this.velocity;
                    a.scale(e, e, Math.pow(1 - this.damping, c));
                    this.angularVelocity *= Math.pow(1 - this.angularDamping, c)
                }
            };
            f.prototype.wakeUp = function() {
                var a = this.sleepState;
                this.sleepState = f.AWAKE;
                this.idleTime = 0;
                a !== f.AWAKE && this.emit(f.wakeUpEvent)
            };
            f.prototype.sleep = function() {
                this.sleepState =
                    f.SLEEPING;
                this.angularForce = this.angularVelocity = 0;
                a.set(this.velocity, 0, 0);
                a.set(this.force, 0, 0);
                this.emit(f.sleepEvent)
            };
            f.prototype.sleepTick = function(c, e, b) {
                this.allowSleep && this.type !== f.SLEEPING && (this.wantsToSleep = !1, a.squaredLength(this.velocity) + Math.pow(this.angularVelocity, 2) >= Math.pow(this.sleepSpeedLimit, 2) ? (this.idleTime = 0, this.sleepState = f.AWAKE) : (this.idleTime += b, this.sleepState = f.SLEEPY), this.idleTime > this.sleepTimeLimit && (e ? this.wantsToSleep = !0 : this.sleep()))
            };
            f.prototype.overlaps =
                function(a) {
                    return this.world.overlapKeeper.bodiesAreOverlapping(this, a)
                };
            var A = a.create(),
                C = a.create();
            f.prototype.integrate = function(c) {
                var e = this.invMass,
                    b = this.force,
                    k = this.position,
                    l = this.velocity;
                a.copy(this.previousPosition, this.position);
                this.previousAngle = this.angle;
                this.fixedRotation || (this.angularVelocity += this.angularForce * this.invInertia * c);
                a.scale(A, b, c * e);
                a.multiply(A, this.massMultiplier, A);
                a.add(l, A, l);
                this.integrateToTimeOfImpact(c) || (a.scale(C, l, c), a.add(k, k, C), this.fixedRotation ||
                    (this.angle += this.angularVelocity * c));
                this.aabbNeedsUpdate = !0
            };
            var D = new g,
                J = new k({
                    mode: k.ALL
                }),
                E = a.create(),
                K = a.create(),
                I = a.create(),
                H = a.create();
            f.prototype.integrateToTimeOfImpact = function(c) {
                if (0 > this.ccdSpeedThreshold || a.squaredLength(this.velocity) < Math.pow(this.ccdSpeedThreshold, 2)) return !1;
                a.normalize(E, this.velocity);
                a.scale(K, this.velocity, c);
                a.add(K, K, this.position);
                a.sub(I, K, this.position);
                c *= this.angularVelocity;
                var e = a.length(I),
                    b = 1,
                    k, l = this;
                D.reset();
                J.callback = function(c) {
                    c.body !==
                        l && (k = c.body, c.getHitPoint(K, J), a.sub(I, K, l.position), b = a.length(I) / e, c.stop())
                };
                a.copy(J.from, this.position);
                a.copy(J.to, K);
                J.update();
                this.world.raycast(D, J);
                if (!k) return !1;
                var f = this.angle;
                a.copy(H, this.position);
                for (var g = 0, m = 0, q = 0, h = b; h >= m && g < this.ccdIterations;) g++, q = (h - m) / 2, a.scale(C, I, b), a.add(this.position, H, C), this.angle = f + c * b, this.updateAABB(), this.aabb.overlaps(k.aabb) && this.world.narrowphase.bodiesOverlap(this, k) ? m = q : h = q;
                b = q;
                a.copy(this.position, H);
                this.angle = f;
                a.scale(C, I, b);
                a.add(this.position,
                    this.position, C);
                this.fixedRotation || (this.angle += c * b);
                return !0
            };
            f.prototype.getVelocityAtPoint = function(c, e) {
                a.crossVZ(c, e, this.angularVelocity);
                a.subtract(c, this.velocity, c);
                return c
            };
            f.sleepyEvent = {
                type: "sleepy"
            };
            f.sleepEvent = {
                type: "sleep"
            };
            f.wakeUpEvent = {
                type: "wakeup"
            };
            f.DYNAMIC = 1;
            f.STATIC = 2;
            f.KINEMATIC = 4;
            f.AWAKE = 0;
            f.SLEEPY = 1;
            f.SLEEPING = 2
        }, {
            "../collision/AABB": 7,
            "../collision/Ray": 11,
            "../collision/RaycastResult": 12,
            "../events/EventEmitter": 26,
            "../math/vec2": 30,
            "../shapes/Convex": 40,
            "poly-decomp": 5
        }],
        32: [function(b, h, g) {
            function f(e, b, k) {
                k = k || {};
                c.call(this, e, b, k);
                this.localAnchorA = a.fromValues(0, 0);
                this.localAnchorB = a.fromValues(0, 0);
                k.localAnchorA && a.copy(this.localAnchorA, k.localAnchorA);
                k.localAnchorB && a.copy(this.localAnchorB, k.localAnchorB);
                k.worldAnchorA && this.setWorldAnchorA(k.worldAnchorA);
                k.worldAnchorB && this.setWorldAnchorB(k.worldAnchorB);
                e = a.create();
                b = a.create();
                this.getWorldAnchorA(e);
                this.getWorldAnchorB(b);
                e = a.distance(e, b);
                this.restLength = "number" === typeof k.restLength ? k.restLength :
                    e
            }
            var a = b("../math/vec2"),
                c = b("./Spring");
            b("../utils/Utils");
            h.exports = f;
            f.prototype = new c;
            f.prototype.constructor = f;
            f.prototype.setWorldAnchorA = function(a) {
                this.bodyA.toLocalFrame(this.localAnchorA, a)
            };
            f.prototype.setWorldAnchorB = function(a) {
                this.bodyB.toLocalFrame(this.localAnchorB, a)
            };
            f.prototype.getWorldAnchorA = function(a) {
                this.bodyA.toWorldFrame(a, this.localAnchorA)
            };
            f.prototype.getWorldAnchorB = function(a) {
                this.bodyB.toWorldFrame(a, this.localAnchorB)
            };
            var e = a.create(),
                k = a.create(),
                l = a.create(),
                m = a.create(),
                q = a.create(),
                n = a.create(),
                p = a.create(),
                r = a.create(),
                u = a.create();
            f.prototype.applyForce = function() {
                var c = this.stiffness,
                    b = this.damping,
                    f = this.restLength,
                    g = this.bodyA,
                    h = this.bodyB;
                this.getWorldAnchorA(q);
                this.getWorldAnchorB(n);
                a.sub(p, q, g.position);
                a.sub(r, n, h.position);
                a.sub(e, n, q);
                var z = a.len(e);
                a.normalize(k, e);
                a.sub(l, h.velocity, g.velocity);
                a.crossZV(u, h.angularVelocity, r);
                a.add(l, l, u);
                a.crossZV(u, g.angularVelocity, p);
                a.sub(l, l, u);
                a.scale(m, k, -c * (z - f) - b * a.dot(l, k));
                a.sub(g.force,
                    g.force, m);
                a.add(h.force, h.force, m);
                c = a.crossLength(p, m);
                b = a.crossLength(r, m);
                g.angularForce -= c;
                h.angularForce += b
            }
        }, {
            "../math/vec2": 30,
            "../utils/Utils": 57,
            "./Spring": 34
        }],
        33: [function(b, h, g) {
            function f(c, e, b) {
                b = b || {};
                a.call(this, c, e, b);
                this.restAngle = "number" === typeof b.restAngle ? b.restAngle : e.angle - c.angle
            }
            b("../math/vec2");
            var a = b("./Spring");
            h.exports = f;
            f.prototype = new a;
            f.prototype.constructor = f;
            f.prototype.applyForce = function() {
                var a = this.bodyA,
                    e = this.bodyB,
                    b = -this.stiffness * (e.angle - a.angle -
                        this.restAngle) - this.damping * (e.angularVelocity - a.angularVelocity) * 0;
                a.angularForce -= b;
                e.angularForce += b
            }
        }, {
            "../math/vec2": 30,
            "./Spring": 34
        }],
        34: [function(b, h, g) {
            function f(c, e, b) {
                b = a.defaults(b, {
                    stiffness: 100,
                    damping: 1
                });
                this.stiffness = b.stiffness;
                this.damping = b.damping;
                this.bodyA = c;
                this.bodyB = e
            }
            b("../math/vec2");
            var a = b("../utils/Utils");
            h.exports = f;
            f.prototype.applyForce = function() {}
        }, {
            "../math/vec2": 30,
            "../utils/Utils": 57
        }],
        35: [function(b, h, g) {
            function f(a, c) {
                this.chassisBody = a;
                this.wheels = [];
                this.groundBody = new l({
                    mass: 0
                });
                this.world = null;
                var e = this;
                this.preStepCallback = function() {
                    e.update()
                }
            }

            function a(a, b) {
                b = b || {};
                this.vehicle = a;
                this.forwardEquation = new k(a.chassisBody, a.groundBody);
                this.sideEquation = new k(a.chassisBody, a.groundBody);
                this.engineForce = this.steerValue = 0;
                this.setSideFriction(void 0 !== b.sideFriction ? b.sideFriction : 5);
                this.localForwardVector = c.fromValues(0, 1);
                b.localForwardVector && c.copy(this.localForwardVector, b.localForwardVector);
                this.localPosition = c.fromValues(0, 0);
                b.localPosition && c.copy(this.localPosition, b.localPosition);
                e.apply(this, a.chassisBody, a.groundBody);
                this.equations.push(this.forwardEquation, this.sideEquation);
                this.setBrakeForce(0)
            }
            var c = b("../math/vec2");
            b("../utils/Utils");
            var e = b("../constraints/Constraint"),
                k = b("../equations/FrictionEquation"),
                l = b("../objects/Body");
            h.exports = f;
            f.prototype.addToWorld = function(a) {
                this.world = a;
                a.addBody(this.groundBody);
                a.on("preStep", this.preStepCallback);
                for (var c = 0; c < this.wheels.length; c++) a.addConstraint(this.wheels[c])
            };
            f.prototype.removeFromWorld = function() {
                var a = this.world;
                a.removeBody(this.groundBody);
                a.off("preStep", this.preStepCallback);
                for (var c = 0; c < this.wheels.length; c++) a.removeConstraint(this.wheels[c]);
                this.world = null
            };
            f.prototype.addWheel = function(c) {
                c = new a(this, c);
                this.wheels.push(c);
                return c
            };
            f.prototype.update = function() {
                for (var a = 0; a < this.wheels.length; a++) this.wheels[a].update()
            };
            a.prototype = new e;
            a.prototype.setBrakeForce = function(a) {
                this.forwardEquation.setSlipForce(a)
            };
            a.prototype.setSideFriction =
                function(a) {
                    this.sideEquation.setSlipForce(a)
                };
            var m = c.create(),
                q = c.create();
            a.prototype.getSpeed = function() {
                this.vehicle.chassisBody.vectorToWorldFrame(q, this.localForwardVector);
                this.vehicle.chassisBody.getVelocityAtPoint(m, q);
                return c.dot(m, q)
            };
            var n = c.create();
            a.prototype.update = function() {
                this.vehicle.chassisBody.vectorToWorldFrame(this.forwardEquation.t, this.localForwardVector);
                c.rotate(this.sideEquation.t, this.localForwardVector, Math.PI / 2);
                this.vehicle.chassisBody.vectorToWorldFrame(this.sideEquation.t,
                    this.sideEquation.t);
                c.rotate(this.forwardEquation.t, this.forwardEquation.t, this.steerValue);
                c.rotate(this.sideEquation.t, this.sideEquation.t, this.steerValue);
                this.vehicle.chassisBody.toWorldFrame(this.forwardEquation.contactPointB, this.localPosition);
                c.copy(this.sideEquation.contactPointB, this.forwardEquation.contactPointB);
                this.vehicle.chassisBody.vectorToWorldFrame(this.forwardEquation.contactPointA, this.localPosition);
                c.copy(this.sideEquation.contactPointA, this.forwardEquation.contactPointA);
                c.normalize(n, this.forwardEquation.t);
                c.scale(n, n, this.engineForce);
                this.vehicle.chassisBody.applyForce(n, this.forwardEquation.contactPointA)
            }
        }, {
            "../constraints/Constraint": 14,
            "../equations/FrictionEquation": 23,
            "../math/vec2": 30,
            "../objects/Body": 31,
            "../utils/Utils": 57
        }],
        36: [function(b, h, g) {
            b = h.exports = {
                AABB: b("./collision/AABB"),
                AngleLockEquation: b("./equations/AngleLockEquation"),
                Body: b("./objects/Body"),
                Broadphase: b("./collision/Broadphase"),
                Capsule: b("./shapes/Capsule"),
                Circle: b("./shapes/Circle"),
                Constraint: b("./constraints/Constraint"),
                ContactEquation: b("./equations/ContactEquation"),
                ContactEquationPool: b("./utils/ContactEquationPool"),
                ContactMaterial: b("./material/ContactMaterial"),
                Convex: b("./shapes/Convex"),
                DistanceConstraint: b("./constraints/DistanceConstraint"),
                Equation: b("./equations/Equation"),
                EventEmitter: b("./events/EventEmitter"),
                FrictionEquation: b("./equations/FrictionEquation"),
                FrictionEquationPool: b("./utils/FrictionEquationPool"),
                GearConstraint: b("./constraints/GearConstraint"),
                GSSolver: b("./solver/GSSolver"),
                Heightfield: b("./shapes/Heightfield"),
                Line: b("./shapes/Line"),
                LockConstraint: b("./constraints/LockConstraint"),
                Material: b("./material/Material"),
                Narrowphase: b("./collision/Narrowphase"),
                NaiveBroadphase: b("./collision/NaiveBroadphase"),
                Particle: b("./shapes/Particle"),
                Plane: b("./shapes/Plane"),
                Pool: b("./utils/Pool"),
                RevoluteConstraint: b("./constraints/RevoluteConstraint"),
                PrismaticConstraint: b("./constraints/PrismaticConstraint"),
                Ray: b("./collision/Ray"),
                RaycastResult: b("./collision/RaycastResult"),
                Box: b("./shapes/Box"),
                RotationalVelocityEquation: b("./equations/RotationalVelocityEquation"),
                SAPBroadphase: b("./collision/SAPBroadphase"),
                Shape: b("./shapes/Shape"),
                Solver: b("./solver/Solver"),
                Spring: b("./objects/Spring"),
                TopDownVehicle: b("./objects/TopDownVehicle"),
                LinearSpring: b("./objects/LinearSpring"),
                RotationalSpring: b("./objects/RotationalSpring"),
                Utils: b("./utils/Utils"),
                World: b("./world/World"),
                vec2: b("./math/vec2"),
                version: b("../package.json").version
            };
            Object.defineProperty(b, "Rectangle", {
                get: function() {
                    console.warn("The Rectangle class has been renamed to Box.");
                    return this.Box
                }
            })
        }, {
            "../package.json": 6,
            "./collision/AABB": 7,
            "./collision/Broadphase": 8,
            "./collision/NaiveBroadphase": 9,
            "./collision/Narrowphase": 10,
            "./collision/Ray": 11,
            "./collision/RaycastResult": 12,
            "./collision/SAPBroadphase": 13,
            "./constraints/Constraint": 14,
            "./constraints/DistanceConstraint": 15,
            "./constraints/GearConstraint": 16,
            "./constraints/LockConstraint": 17,
            "./constraints/PrismaticConstraint": 18,
            "./constraints/RevoluteConstraint": 19,
            "./equations/AngleLockEquation": 20,
            "./equations/ContactEquation": 21,
            "./equations/Equation": 22,
            "./equations/FrictionEquation": 23,
            "./equations/RotationalVelocityEquation": 25,
            "./events/EventEmitter": 26,
            "./material/ContactMaterial": 27,
            "./material/Material": 28,
            "./math/vec2": 30,
            "./objects/Body": 31,
            "./objects/LinearSpring": 32,
            "./objects/RotationalSpring": 33,
            "./objects/Spring": 34,
            "./objects/TopDownVehicle": 35,
            "./shapes/Box": 37,
            "./shapes/Capsule": 38,
            "./shapes/Circle": 39,
            "./shapes/Convex": 40,
            "./shapes/Heightfield": 41,
            "./shapes/Line": 42,
            "./shapes/Particle": 43,
            "./shapes/Plane": 44,
            "./shapes/Shape": 45,
            "./solver/GSSolver": 46,
            "./solver/Solver": 47,
            "./utils/ContactEquationPool": 48,
            "./utils/FrictionEquationPool": 49,
            "./utils/Pool": 55,
            "./utils/Utils": 57,
            "./world/World": 61
        }],
        37: [function(b, h, g) {
            function f(b, l) {
                "number" === typeof b && "number" === typeof l && (b = {
                    width: b,
                    height: l
                }, console.warn("The Rectangle has been renamed to Box and its constructor signature has changed. Please use the following format: new Box({ width: 1, height: 1, ... })"));
                b = b || {};
                l = this.width = b.width || 1;
                var k = this.height = b.height || 1;
                l = [a.fromValues(-l / 2, -k / 2), a.fromValues(l / 2, -k / 2), a.fromValues(l / 2, k / 2), a.fromValues(-l / 2, k / 2)];
                k = [a.fromValues(1, 0), a.fromValues(0, 1)];
                b.vertices = l;
                b.axes = k;
                b.type = c.BOX;
                e.call(this, b)
            }
            var a = b("../math/vec2"),
                c = b("./Shape"),
                e = b("./Convex");
            h.exports = f;
            f.prototype = new e;
            f.prototype.constructor = f;
            f.prototype.computeMomentOfInertia = function(a) {
                var c = this.width,
                    e = this.height;
                return a * (e * e + c * c) / 12
            };
            f.prototype.updateBoundingRadius = function() {
                var a =
                    this.width,
                    c = this.height;
                this.boundingRadius = Math.sqrt(a * a + c * c) / 2
            };
            a.create();
            a.create();
            a.create();
            a.create();
            f.prototype.computeAABB = function(a, c, e) {
                a.setFromPoints(this.vertices, c, e, 0)
            };
            f.prototype.updateArea = function() {
                this.area = this.width * this.height
            }
        }, {
            "../math/vec2": 30,
            "./Convex": 40,
            "./Shape": 45
        }],
        38: [function(b, h, g) {
            function f(c, e) {
                "number" === typeof c && "number" === typeof e && (c = {
                    length: c,
                    radius: e
                }, console.warn("The Capsule constructor signature has changed. Please use the following format: new Capsule({ radius: 1, length: 1 })"));
                c = c || {};
                this.length = c.length || 1;
                this.radius = c.radius || 1;
                c.type = a.CAPSULE;
                a.call(this, c)
            }
            var a = b("./Shape"),
                c = b("../math/vec2");
            h.exports = f;
            f.prototype = new a;
            f.prototype.constructor = f;
            f.prototype.computeMomentOfInertia = function(a) {
                var c = this.radius,
                    e = this.length + c;
                c *= 2;
                return a * (c * c + e * e) / 12
            };
            f.prototype.updateBoundingRadius = function() {
                this.boundingRadius = this.radius + this.length / 2
            };
            f.prototype.updateArea = function() {
                this.area = Math.PI * this.radius * this.radius + 2 * this.radius * this.length
            };
            var e = c.create();
            f.prototype.computeAABB = function(a, b, k) {
                var l = this.radius;
                c.set(e, this.length / 2, 0);
                0 !== k && c.rotate(e, e, k);
                c.set(a.upperBound, Math.max(e[0] + l, -e[0] + l), Math.max(e[1] + l, -e[1] + l));
                c.set(a.lowerBound, Math.min(e[0] - l, -e[0] - l), Math.min(e[1] - l, -e[1] - l));
                c.add(a.lowerBound, a.lowerBound, b);
                c.add(a.upperBound, a.upperBound, b)
            };
            var k = c.create(),
                l = c.create(),
                m = c.create(),
                q = c.create(),
                n = c.fromValues(0, 1);
            f.prototype.raycast = function(a, e, b, f) {
                for (var g = e.from, h = e.to, p = this.length / 2, r = 0; 2 > r; r++) {
                    var u = this.radius *
                        (2 * r - 1);
                    c.set(m, -p, u);
                    c.set(q, p, u);
                    c.toGlobalFrame(m, m, b, f);
                    c.toGlobalFrame(q, q, b, f);
                    var t = c.getLineSegmentsIntersectionFraction(g, h, m, q);
                    if (0 <= t && (c.rotate(l, n, f), c.scale(l, l, 2 * r - 1), e.reportIntersection(a, t, l, -1), a.shouldStop(e))) return
                }
                u = Math.pow(this.radius, 2) + Math.pow(p, 2);
                for (r = 0; 2 > r; r++) {
                    c.set(m, p * (2 * r - 1), 0);
                    c.toGlobalFrame(m, m, b, f);
                    var A = Math.pow(h[0] - g[0], 2) + Math.pow(h[1] - g[1], 2),
                        C = 2 * ((h[0] - g[0]) * (g[0] - m[0]) + (h[1] - g[1]) * (g[1] - m[1]));
                    t = Math.pow(C, 2) - 4 * A * (Math.pow(g[0] - m[0], 2) + Math.pow(g[1] -
                        m[1], 2) - Math.pow(this.radius, 2));
                    if (!(0 > t))
                        if (0 === t) {
                            if (c.lerp(k, g, h, t), c.squaredDistance(k, b) > u && (c.sub(l, k, m), c.normalize(l, l), e.reportIntersection(a, t, l, -1), a.shouldStop(e))) break
                        } else {
                            t = Math.sqrt(t);
                            var D = 1 / (2 * A);
                            A = (-C - t) * D;
                            C = (-C + t) * D;
                            if (0 <= A && 1 >= A && (c.lerp(k, g, h, A), c.squaredDistance(k, b) > u && (c.sub(l, k, m), c.normalize(l, l), e.reportIntersection(a, A, l, -1), a.shouldStop(e)))) break;
                            if (0 <= C && 1 >= C && (c.lerp(k, g, h, C), c.squaredDistance(k, b) > u && (c.sub(l, k, m), c.normalize(l, l), e.reportIntersection(a, C, l, -1),
                                    a.shouldStop(e)))) break
                        }
                }
            }
        }, {
            "../math/vec2": 30,
            "./Shape": 45
        }],
        39: [function(b, h, g) {
            function f(c) {
                "number" === typeof c && (c = {
                    radius: c
                }, console.warn("The Circle constructor signature has changed. Please use the following format: new Circle({ radius: 1 })"));
                c = c || {};
                this.radius = c.radius || 1;
                c.type = a.CIRCLE;
                a.call(this, c)
            }
            var a = b("./Shape"),
                c = b("../math/vec2");
            h.exports = f;
            f.prototype = new a;
            f.prototype.constructor = f;
            f.prototype.computeMomentOfInertia = function(a) {
                var c = this.radius;
                return a * c * c / 2
            };
            f.prototype.updateBoundingRadius =
                function() {
                    this.boundingRadius = this.radius
                };
            f.prototype.updateArea = function() {
                this.area = Math.PI * this.radius * this.radius
            };
            f.prototype.computeAABB = function(a, e, b) {
                b = this.radius;
                c.set(a.upperBound, b, b);
                c.set(a.lowerBound, -b, -b);
                e && (c.add(a.lowerBound, a.lowerBound, e), c.add(a.upperBound, a.upperBound, e))
            };
            var e = c.create(),
                k = c.create();
            f.prototype.raycast = function(a, b, f, g) {
                g = b.from;
                var l = b.to,
                    m = Math.pow(l[0] - g[0], 2) + Math.pow(l[1] - g[1], 2),
                    q = 2 * ((l[0] - g[0]) * (g[0] - f[0]) + (l[1] - g[1]) * (g[1] - f[1])),
                    h = Math.pow(q,
                        2) - 4 * m * (Math.pow(g[0] - f[0], 2) + Math.pow(g[1] - f[1], 2) - Math.pow(this.radius, 2));
                if (!(0 > h))
                    if (0 === h) c.lerp(e, g, l, h), c.sub(k, e, f), c.normalize(k, k), b.reportIntersection(a, h, k, -1);
                    else {
                        h = Math.sqrt(h);
                        var n = 1 / (2 * m);
                        m = (-q - h) * n;
                        q = (-q + h) * n;
                        if (0 <= m && 1 >= m && (c.lerp(e, g, l, m), c.sub(k, e, f), c.normalize(k, k), b.reportIntersection(a, m, k, -1), a.shouldStop(b))) return;
                        0 <= q && 1 >= q && (c.lerp(e, g, l, q), c.sub(k, e, f), c.normalize(k, k), b.reportIntersection(a, q, k, -1))
                    }
            }
        }, {
            "../math/vec2": 30,
            "./Shape": 45
        }],
        40: [function(b, h, g) {
            function f(e,
                b) {
                Array.isArray(e) && (e = {
                    vertices: e,
                    axes: b
                }, console.warn("The Convex constructor signature has changed. Please use the following format: new Convex({ vertices: [...], ... })"));
                e = e || {};
                this.vertices = [];
                var k = void 0 !== e.vertices ? e.vertices : [];
                for (b = 0; b < k.length; b++) {
                    var l = c.create();
                    c.copy(l, k[b]);
                    this.vertices.push(l)
                }
                this.axes = [];
                if (e.axes)
                    for (b = 0; b < e.axes.length; b++) k = c.create(), c.copy(k, e.axes[b]), this.axes.push(k);
                else
                    for (b = 0; b < this.vertices.length; b++) {
                        k = this.vertices[b];
                        l = this.vertices[(b +
                            1) % this.vertices.length];
                        var f = c.create();
                        c.sub(f, l, k);
                        c.rotate90cw(f, f);
                        c.normalize(f, f);
                        this.axes.push(f)
                    }
                this.centerOfMass = c.fromValues(0, 0);
                this.triangles = [];
                this.vertices.length && (this.updateTriangles(), this.updateCenterOfMass());
                this.boundingRadius = 0;
                e.type = a.CONVEX;
                a.call(this, e);
                this.updateBoundingRadius();
                this.updateArea();
                if (0 > this.area) throw Error("Convex vertices must be given in conter-clockwise winding.");
            }
            var a = b("./Shape"),
                c = b("../math/vec2"),
                e = b("../math/polyk");
            b("poly-decomp");
            h.exports = f;
            f.prototype = new a;
            f.prototype.constructor = f;
            var k = c.create(),
                l = c.create();
            f.prototype.projectOntoLocalAxis = function(a, e) {
                var b = null,
                    l = null;
                a = k;
                for (var f = 0; f < this.vertices.length; f++) {
                    var g = this.vertices[f];
                    g = c.dot(g, a);
                    if (null === b || g > b) b = g;
                    if (null === l || g < l) l = g
                }
                l > b && (a = l, l = b, b = a);
                c.set(e, l, b)
            };
            f.prototype.projectOntoWorldAxis = function(a, e, b, k) {
                var f = l;
                this.projectOntoLocalAxis(a, k);
                0 !== b ? c.rotate(f, a, b) : f = a;
                a = c.dot(e, f);
                c.set(k, k[0] + a, k[1] + a)
            };
            f.prototype.updateTriangles = function() {
                this.triangles.length =
                    0;
                for (var a = [], c = 0; c < this.vertices.length; c++) {
                    var b = this.vertices[c];
                    a.push(b[0], b[1])
                }
                a = e.Triangulate(a);
                for (c = 0; c < a.length; c += 3) this.triangles.push([a[c], a[c + 1], a[c + 2]])
            };
            var m = c.create(),
                q = c.create();
            c.create();
            c.create();
            c.create();
            c.create();
            c.create();
            c.create();
            c.create();
            f.prototype.updateCenterOfMass = function() {
                var a = this.triangles,
                    e = this.vertices,
                    b = this.centerOfMass;
                c.set(b, 0, 0);
                for (var k = 0, l = 0; l !== a.length; l++) {
                    var g = a[l];
                    var h = e[g[0]];
                    var n = e[g[1]];
                    g = e[g[2]];
                    c.centroid(m, h, n, g);
                    h = f.triangleArea(h,
                        n, g);
                    k += h;
                    c.scale(q, m, h);
                    c.add(b, b, q)
                }
                c.scale(b, b, 1 / k)
            };
            f.prototype.computeMomentOfInertia = function(a) {
                for (var e = 0, b = 0, k = this.vertices.length, l = k - 1, f = 0; f < k; l = f, f++) {
                    var g = this.vertices[l],
                        m = this.vertices[f];
                    l = Math.abs(c.crossLength(g, m));
                    g = c.dot(m, m) + c.dot(m, g) + c.dot(g, g);
                    e += l * g;
                    b += l
                }
                return a / 6 * (e / b)
            };
            f.prototype.updateBoundingRadius = function() {
                for (var a = this.vertices, e = 0, b = 0; b !== a.length; b++) {
                    var k = c.squaredLength(a[b]);
                    k > e && (e = k)
                }
                this.boundingRadius = Math.sqrt(e)
            };
            f.triangleArea = function(a, c, e) {
                return .5 *
                    ((c[0] - a[0]) * (e[1] - a[1]) - (e[0] - a[0]) * (c[1] - a[1]))
            };
            f.prototype.updateArea = function() {
                this.updateTriangles();
                this.area = 0;
                for (var a = this.triangles, c = this.vertices, e = 0; e !== a.length; e++) {
                    var b = a[e];
                    b = f.triangleArea(c[b[0]], c[b[1]], c[b[2]]);
                    this.area += b
                }
            };
            f.prototype.computeAABB = function(a, c, e) {
                a.setFromPoints(this.vertices, c, e, 0)
            };
            var n = c.create(),
                p = c.create(),
                r = c.create();
            f.prototype.raycast = function(a, e, b, k) {
                var l = this.vertices;
                c.toLocalFrame(n, e.from, b, k);
                c.toLocalFrame(p, e.to, b, k);
                b = l.length;
                for (var f =
                        0; f < b && !a.shouldStop(e); f++) {
                    var g = l[f],
                        m = l[(f + 1) % b],
                        q = c.getLineSegmentsIntersectionFraction(n, p, g, m);
                    0 <= q && (c.sub(r, m, g), c.rotate(r, r, -Math.PI / 2 + k), c.normalize(r, r), e.reportIntersection(a, q, r, f))
                }
            }
        }, {
            "../math/polyk": 29,
            "../math/vec2": 30,
            "./Shape": 45,
            "poly-decomp": 5
        }],
        41: [function(b, h, g) {
            function f(c, e) {
                if (Array.isArray(c)) {
                    c = {
                        heights: c
                    };
                    if ("object" === typeof e)
                        for (var b in e) c[b] = e[b];
                    console.warn("The Heightfield constructor signature has changed. Please use the following format: new Heightfield({ heights: [...], ... })")
                }
                c =
                    c || {};
                this.heights = c.heights ? c.heights.slice(0) : [];
                this.maxValue = c.maxValue || null;
                this.minValue = c.minValue || null;
                this.elementWidth = c.elementWidth || .1;
                void 0 !== c.maxValue && void 0 !== c.minValue || this.updateMaxMinValues();
                c.type = a.HEIGHTFIELD;
                a.call(this, c)
            }
            var a = b("./Shape"),
                c = b("../math/vec2");
            b("../utils/Utils");
            h.exports = f;
            f.prototype = new a;
            f.prototype.constructor = f;
            f.prototype.updateMaxMinValues = function() {
                for (var a = this.heights, c = a[0], e = a[0], b = 0; b !== a.length; b++) {
                    var k = a[b];
                    k > c && (c = k);
                    k < e && (e = k)
                }
                this.maxValue =
                    c;
                this.minValue = e
            };
            f.prototype.computeMomentOfInertia = function(a) {
                return Number.MAX_VALUE
            };
            f.prototype.updateBoundingRadius = function() {
                this.boundingRadius = Number.MAX_VALUE
            };
            f.prototype.updateArea = function() {
                for (var a = this.heights, c = 0, e = 0; e < a.length - 1; e++) c += (a[e] + a[e + 1]) / 2 * this.elementWidth;
                this.area = c
            };
            var e = [c.create(), c.create(), c.create(), c.create()];
            f.prototype.computeAABB = function(a, b, k) {
                c.set(e[0], 0, this.maxValue);
                c.set(e[1], this.elementWidth * this.heights.length, this.maxValue);
                c.set(e[2], this.elementWidth *
                    this.heights.length, this.minValue);
                c.set(e[3], 0, this.minValue);
                a.setFromPoints(e, b, k)
            };
            f.prototype.getLineSegment = function(a, e, b) {
                var k = this.heights,
                    l = this.elementWidth;
                c.set(a, b * l, k[b]);
                c.set(e, (b + 1) * l, k[b + 1])
            };
            f.prototype.getSegmentIndex = function(a) {
                return Math.floor(a[0] / this.elementWidth)
            };
            f.prototype.getClampedSegmentIndex = function(a) {
                a = this.getSegmentIndex(a);
                return a = Math.min(this.heights.length, Math.max(a, 0))
            };
            c.create();
            var k = c.create(),
                l = c.create(),
                m = c.create(),
                q = c.create(),
                n = c.create();
            c.fromValues(0, 1);
            f.prototype.raycast = function(a, e, b, f) {
                var g = e.to;
                c.toLocalFrame(q, e.from, b, f);
                c.toLocalFrame(n, g, b, f);
                this.getClampedSegmentIndex(q);
                this.getClampedSegmentIndex(n);
                for (b = 0; b < this.heights.length - 1 && !(this.getLineSegment(l, m, b), g = c.getLineSegmentsIntersectionFraction(q, n, l, m), 0 <= g && (c.sub(k, m, l), c.rotate(k, k, f + Math.PI / 2), c.normalize(k, k), e.reportIntersection(a, g, k, -1), a.shouldStop(e))); b++);
            }
        }, {
            "../math/vec2": 30,
            "../utils/Utils": 57,
            "./Shape": 45
        }],
        42: [function(b, h, g) {
            function f(c) {
                "number" ===
                typeof c && (c = {
                    length: c
                }, console.warn("The Line constructor signature has changed. Please use the following format: new Line({ length: 1, ... })"));
                c = c || {};
                this.length = c.length || 1;
                c.type = a.LINE;
                a.call(this, c)
            }
            var a = b("./Shape"),
                c = b("../math/vec2");
            h.exports = f;
            f.prototype = new a;
            f.prototype.constructor = f;
            f.prototype.computeMomentOfInertia = function(a) {
                return a * Math.pow(this.length, 2) / 12
            };
            f.prototype.updateBoundingRadius = function() {
                this.boundingRadius = this.length / 2
            };
            var e = [c.create(), c.create()];
            f.prototype.computeAABB =
                function(a, b, k) {
                    var l = this.length / 2;
                    c.set(e[0], -l, 0);
                    c.set(e[1], l, 0);
                    a.setFromPoints(e, b, k, 0)
                };
            c.create();
            var k = c.create(),
                l = c.create(),
                m = c.create(),
                q = c.fromValues(0, 1);
            f.prototype.raycast = function(a, e, b, f) {
                var g = e.from,
                    h = e.to,
                    n = this.length / 2;
                c.set(l, -n, 0);
                c.set(m, n, 0);
                c.toGlobalFrame(l, l, b, f);
                c.toGlobalFrame(m, m, b, f);
                b = c.getLineSegmentsIntersectionFraction(l, m, g, h);
                0 <= b && (c.rotate(k, q, f), e.reportIntersection(a, b, k, -1))
            }
        }, {
            "../math/vec2": 30,
            "./Shape": 45
        }],
        43: [function(b, h, g) {
            function f(c) {
                c = c || {};
                c.type = a.PARTICLE;
                a.call(this, c)
            }
            var a = b("./Shape"),
                c = b("../math/vec2");
            h.exports = f;
            f.prototype = new a;
            f.prototype.constructor = f;
            f.prototype.computeMomentOfInertia = function(a) {
                return 0
            };
            f.prototype.updateBoundingRadius = function() {
                this.boundingRadius = 0
            };
            f.prototype.computeAABB = function(a, b, l) {
                c.copy(a.lowerBound, b);
                c.copy(a.upperBound, b)
            }
        }, {
            "../math/vec2": 30,
            "./Shape": 45
        }],
        44: [function(b, h, g) {
            function f(c) {
                c = c || {};
                c.type = a.PLANE;
                a.call(this, c)
            }
            var a = b("./Shape"),
                c = b("../math/vec2");
            b("../utils/Utils");
            h.exports = f;
            f.prototype = new a;
            f.prototype.constructor = f;
            f.prototype.computeMomentOfInertia = function(a) {
                return 0
            };
            f.prototype.updateBoundingRadius = function() {
                this.boundingRadius = Number.MAX_VALUE
            };
            f.prototype.computeAABB = function(a, e, b) {
                e = b % (2 * Math.PI);
                b = c.set;
                var k = a.lowerBound;
                a = a.upperBound;
                b(k, -1E7, -1E7);
                b(a, 1E7, 1E7);
                0 === e ? a[1] = 0 : e === Math.PI / 2 ? k[0] = 0 : e === Math.PI ? k[1] = 0 : e === 3 * Math.PI / 2 && (a[0] = 0)
            };
            f.prototype.updateArea = function() {
                this.area = Number.MAX_VALUE
            };
            var e = c.create();
            c.create();
            c.create();
            var k = c.create(),
                l = c.create();
            f.prototype.raycast = function(a, b, f, g) {
                var m = b.from,
                    q = b.to,
                    h = b.direction;
                c.set(k, 0, 1);
                c.rotate(k, k, g);
                c.sub(l, m, f);
                g = c.dot(l, k);
                c.sub(l, q, f);
                var n = c.dot(l, k);
                0 < g * n || c.squaredDistance(m, q) < g * g || (q = c.dot(k, h), c.sub(e, m, f), f = -c.dot(k, e) / q / b.length, b.reportIntersection(a, f, k, -1))
            }
        }, {
            "../math/vec2": 30,
            "../utils/Utils": 57,
            "./Shape": 45
        }],
        45: [function(b, h, g) {
            function f(c) {
                c = c || {};
                this.body = null;
                this.position = a.fromValues(0, 0);
                c.position && a.copy(this.position, c.position);
                this.angle =
                    c.angle || 0;
                this.type = c.type || 0;
                this.id = f.idCounter++;
                this.boundingRadius = 0;
                this.collisionGroup = void 0 !== c.collisionGroup ? c.collisionGroup : 1;
                this.collisionResponse = void 0 !== c.collisionResponse ? c.collisionResponse : !0;
                this.collisionMask = void 0 !== c.collisionMask ? c.collisionMask : 1;
                this.material = c.material || null;
                this.area = 0;
                this.sensor = void 0 !== c.sensor ? c.sensor : !1;
                this.type && this.updateBoundingRadius();
                this.updateArea()
            }
            h.exports = f;
            var a = b("../math/vec2");
            f.idCounter = 0;
            f.CIRCLE = 1;
            f.PARTICLE = 2;
            f.PLANE =
                4;
            f.CONVEX = 8;
            f.LINE = 16;
            f.BOX = 32;
            f.CAPSULE = 64;
            f.HEIGHTFIELD = 128;
            f.prototype.computeMomentOfInertia = function(a) {};
            f.prototype.updateBoundingRadius = function() {};
            f.prototype.updateArea = function() {};
            f.prototype.computeAABB = function(a, e, b) {};
            f.prototype.raycast = function(a, e, b, l) {}
        }, {
            "../math/vec2": 30
        }],
        46: [function(b, h, g) {
            function f(e) {
                a.call(this, e, a.GS);
                e = e || {};
                this.iterations = e.iterations || 10;
                this.tolerance = e.tolerance || 1E-7;
                this.arrayStep = 30;
                this.lambda = new c.ARRAY_TYPE(this.arrayStep);
                this.Bs = new c.ARRAY_TYPE(this.arrayStep);
                this.invCs = new c.ARRAY_TYPE(this.arrayStep);
                this.useZeroRHS = !1;
                this.frictionIterations = void 0 !== e.frictionIterations ? 0 : e.frictionIterations;
                this.usedIterations = 0
            }
            b("../math/vec2");
            var a = b("./Solver"),
                c = b("../utils/Utils"),
                e = b("../equations/FrictionEquation");
            h.exports = f;
            f.prototype = new a;
            f.prototype.constructor = f;
            f.prototype.solve = function(a, b) {
                this.sortEquations();
                var k = this.iterations,
                    l = this.frictionIterations,
                    g = this.equations,
                    h = g.length,
                    r = Math.pow(this.tolerance * h, 2),
                    u = b.bodies;
                b = b.bodies.length;
                var t = this.useZeroRHS,
                    v = this.lambda;
                this.usedIterations = 0;
                if (h)
                    for (var w = 0; w !== b; w++) {
                        var x = u[w];
                        x.updateSolveMassProperties()
                    }
                v.length < h && (v = this.lambda = new c.ARRAY_TYPE(h + this.arrayStep), this.Bs = new c.ARRAY_TYPE(h + this.arrayStep), this.invCs = new c.ARRAY_TYPE(h + this.arrayStep));
                for (var y = v.length; y--;) v[y] = 0;
                y = this.invCs;
                var z = this.Bs;
                v = this.lambda;
                for (w = 0; w !== g.length; w++) {
                    var B = g[w];
                    if (B.timeStep !== a || B.needsUpdate) B.timeStep = a, B.update();
                    z[w] = B.computeB(B.a, B.b, a);
                    y[w] = B.computeInvC(B.epsilon)
                }
                var A;
                if (0 !== h) {
                    for (w = 0; w !== b; w++) x = u[w], x.resetConstraintVelocity();
                    if (l) {
                        for (x = 0; x !== l; x++) {
                            for (w = A = 0; w !== h; w++) B = g[w], B = f.iterateEquation(w, B, B.epsilon, z, y, v, t, a, x), A += Math.abs(B);
                            this.usedIterations++;
                            if (A * A <= r) break
                        }
                        f.updateMultipliers(g, v, 1 / a);
                        for (w = 0; w !== h; w++)
                            if (l = g[w], l instanceof e) {
                                for (B = x = 0; B !== l.contactEquations.length; B++) x += l.contactEquations[B].multiplier;
                                x *= l.frictionCoefficient / l.contactEquations.length;
                                l.maxForce = x;
                                l.minForce = -x
                            }
                    }
                    for (x = 0; x !== k; x++) {
                        for (w = A = 0; w !== h; w++) B = g[w], B = f.iterateEquation(w,
                            B, B.epsilon, z, y, v, t, a, x), A += Math.abs(B);
                        this.usedIterations++;
                        if (A * A <= r) break
                    }
                    for (w = 0; w !== b; w++) u[w].addConstraintVelocity();
                    f.updateMultipliers(g, v, 1 / a)
                }
            };
            f.updateMultipliers = function(a, c, e) {
                for (var b = a.length; b--;) a[b].multiplier = c[b] * e
            };
            f.iterateEquation = function(a, c, e, b, f, g, h, u, t) {
                var k = b[a],
                    l = f[a];
                f = g[a];
                var m = c.computeGWlambda();
                b = c.maxForce;
                t = c.minForce;
                h && (k = 0);
                e = l * (k - m - e * f);
                h = f + e;
                h < t * u ? e = t * u - f : h > b * u && (e = b * u - f);
                g[a] += e;
                c.addToWlambda(e);
                return e
            }
        }, {
            "../equations/FrictionEquation": 23,
            "../math/vec2": 30,
            "../utils/Utils": 57,
            "./Solver": 47
        }],
        47: [function(b, h, g) {
            function f(c, b) {
                c = c || {};
                a.call(this);
                this.type = b;
                this.equations = [];
                this.equationSortFunction = c.equationSortFunction || !1
            }
            b("../utils/Utils");
            var a = b("../events/EventEmitter");
            h.exports = f;
            f.prototype = new a;
            f.prototype.constructor = f;
            f.prototype.solve = function(a, c) {
                throw Error("Solver.solve should be implemented by subclasses!");
            };
            var c = {
                bodies: []
            };
            f.prototype.solveIsland = function(a, b) {
                this.removeAllEquations();
                b.equations.length && (this.addEquations(b.equations),
                    c.bodies.length = 0, b.getBodies(c.bodies), c.bodies.length && this.solve(a, c))
            };
            f.prototype.sortEquations = function() {
                this.equationSortFunction && this.equations.sort(this.equationSortFunction)
            };
            f.prototype.addEquation = function(a) {
                a.enabled && this.equations.push(a)
            };
            f.prototype.addEquations = function(a) {
                for (var c = 0, e = a.length; c !== e; c++) {
                    var b = a[c];
                    b.enabled && this.equations.push(b)
                }
            };
            f.prototype.removeEquation = function(a) {
                a = this.equations.indexOf(a); - 1 !== a && this.equations.splice(a, 1)
            };
            f.prototype.removeAllEquations =
                function() {
                    this.equations.length = 0
                };
            f.GS = 1;
            f.ISLAND = 2
        }, {
            "../events/EventEmitter": 26,
            "../utils/Utils": 57
        }],
        48: [function(b, h, g) {
            function f() {
                c.apply(this, arguments)
            }
            var a = b("../equations/ContactEquation"),
                c = b("./Pool");
            h.exports = f;
            f.prototype = new c;
            f.prototype.constructor = f;
            f.prototype.create = function() {
                return new a
            };
            f.prototype.destroy = function(a) {
                a.bodyA = a.bodyB = null;
                return this
            }
        }, {
            "../equations/ContactEquation": 21,
            "./Pool": 55
        }],
        49: [function(b, h, g) {
            function f() {
                c.apply(this, arguments)
            }
            var a = b("../equations/FrictionEquation"),
                c = b("./Pool");
            h.exports = f;
            f.prototype = new c;
            f.prototype.constructor = f;
            f.prototype.create = function() {
                return new a
            };
            f.prototype.destroy = function(a) {
                a.bodyA = a.bodyB = null;
                return this
            }
        }, {
            "../equations/FrictionEquation": 23,
            "./Pool": 55
        }],
        50: [function(b, h, g) {
            function f() {
                c.apply(this, arguments)
            }
            var a = b("../world/IslandNode"),
                c = b("./Pool");
            h.exports = f;
            f.prototype = new c;
            f.prototype.constructor = f;
            f.prototype.create = function() {
                return new a
            };
            f.prototype.destroy = function(a) {
                a.reset();
                return this
            }
        }, {
            "../world/IslandNode": 60,
            "./Pool": 55
        }],
        51: [function(b, h, g) {
            function f() {
                c.apply(this, arguments)
            }
            var a = b("../world/Island"),
                c = b("./Pool");
            h.exports = f;
            f.prototype = new c;
            f.prototype.constructor = f;
            f.prototype.create = function() {
                return new a
            };
            f.prototype.destroy = function(a) {
                a.reset();
                return this
            }
        }, {
            "../world/Island": 58,
            "./Pool": 55
        }],
        52: [function(b, h, g) {
            function f() {
                this.overlappingShapesLastState = new a;
                this.overlappingShapesCurrentState = new a;
                this.recordPool = new c({
                    size: 16
                });
                this.tmpDict = new a;
                this.tmpArray1 = []
            }
            var a = b("./TupleDictionary");
            b("./OverlapKeeperRecord");
            var c = b("./OverlapKeeperRecordPool");
            b("./Utils");
            h.exports = f;
            f.prototype.tick = function() {
                for (var a = this.overlappingShapesLastState, c = this.overlappingShapesCurrentState, b = a.keys.length; b--;) {
                    var f = a.keys[b],
                        g = a.getByKey(f);
                    c.getByKey(f);
                    g && this.recordPool.release(g)
                }
                a.reset();
                a.copy(c);
                c.reset()
            };
            f.prototype.setOverlapping = function(a, c, b, f) {
                var e = this.overlappingShapesCurrentState;
                if (!e.get(c.id, f.id)) {
                    var k = this.recordPool.get();
                    k.set(a, c, b, f);
                    e.set(c.id, f.id, k)
                }
            };
            f.prototype.getNewOverlaps =
                function(a) {
                    return this.getDiff(this.overlappingShapesLastState, this.overlappingShapesCurrentState, a)
                };
            f.prototype.getEndOverlaps = function(a) {
                return this.getDiff(this.overlappingShapesCurrentState, this.overlappingShapesLastState, a)
            };
            f.prototype.bodiesAreOverlapping = function(a, c) {
                for (var e = this.overlappingShapesCurrentState, b = e.keys.length; b--;) {
                    var k = e.data[e.keys[b]];
                    if (k.bodyA === a && k.bodyB === c || k.bodyA === c && k.bodyB === a) return !0
                }
                return !1
            };
            f.prototype.getDiff = function(a, c, b) {
                b = b || [];
                b.length = 0;
                for (var e =
                        c.keys.length; e--;) {
                    var k = c.keys[e],
                        l = c.data[k];
                    if (!l) throw Error("Key " + k + " had no data!");
                    a.data[k] || b.push(l)
                }
                return b
            };
            f.prototype.isNewOverlap = function(a, c) {
                a = a.id | 0;
                c = c.id | 0;
                var e = this.overlappingShapesCurrentState;
                return !this.overlappingShapesLastState.get(a, c) && !!e.get(a, c)
            };
            f.prototype.getNewBodyOverlaps = function(a) {
                this.tmpArray1.length = 0;
                var c = this.getNewOverlaps(this.tmpArray1);
                return this.getBodyDiff(c, a)
            };
            f.prototype.getEndBodyOverlaps = function(a) {
                this.tmpArray1.length = 0;
                var c = this.getEndOverlaps(this.tmpArray1);
                return this.getBodyDiff(c, a)
            };
            f.prototype.getBodyDiff = function(a, c) {
                c = c || [];
                for (var e = this.tmpDict, b = a.length; b--;) {
                    var k = a[b];
                    e.set(k.bodyA.id | 0, k.bodyB.id | 0, k)
                }
                for (b = e.keys.length; b--;)(k = e.getByKey(e.keys[b])) && c.push(k.bodyA, k.bodyB);
                e.reset();
                return c
            }
        }, {
            "./OverlapKeeperRecord": 53,
            "./OverlapKeeperRecordPool": 54,
            "./TupleDictionary": 56,
            "./Utils": 57
        }],
        53: [function(b, h, g) {
            function f(a, c, e, b) {
                this.shapeA = c;
                this.shapeB = b;
                this.bodyA = a;
                this.bodyB = e
            }
            h.exports = f;
            f.prototype.set = function(a, c, e, b) {
                f.call(this,
                    a, c, e, b)
            }
        }, {}],
        54: [function(b, h, g) {
            function f() {
                c.apply(this, arguments)
            }
            var a = b("./OverlapKeeperRecord"),
                c = b("./Pool");
            h.exports = f;
            f.prototype = new c;
            f.prototype.constructor = f;
            f.prototype.create = function() {
                return new a
            };
            f.prototype.destroy = function(a) {
                a.bodyA = a.bodyB = a.shapeA = a.shapeB = null;
                return this
            }
        }, {
            "./OverlapKeeperRecord": 53,
            "./Pool": 55
        }],
        55: [function(b, h, g) {
            function f(a) {
                a = a || {};
                this.objects = [];
                void 0 !== a.size && this.resize(a.size)
            }
            h.exports = f;
            f.prototype.resize = function(a) {
                for (var c = this.objects; c.length >
                    a;) c.pop();
                for (; c.length < a;) c.push(this.create());
                return this
            };
            f.prototype.get = function() {
                var a = this.objects;
                return a.length ? a.pop() : this.create()
            };
            f.prototype.release = function(a) {
                this.destroy(a);
                this.objects.push(a);
                return this
            }
        }, {}],
        56: [function(b, h, g) {
            function f() {
                this.data = {};
                this.keys = []
            }
            var a = b("./Utils");
            h.exports = f;
            f.prototype.getKey = function(a, e) {
                a |= 0;
                e |= 0;
                return (a | 0) === (e | 0) ? -1 : ((a | 0) > (e | 0) ? a << 16 | e & 65535 : e << 16 | a & 65535) | 0
            };
            f.prototype.getByKey = function(a) {
                return this.data[a | 0]
            };
            f.prototype.get =
                function(a, e) {
                    return this.data[this.getKey(a, e)]
                };
            f.prototype.set = function(a, e, b) {
                if (!b) throw Error("No data!");
                a = this.getKey(a, e);
                this.data[a] || this.keys.push(a);
                this.data[a] = b;
                return a
            };
            f.prototype.reset = function() {
                for (var a = this.data, e = this.keys, b = e.length; b--;) delete a[e[b]];
                e.length = 0
            };
            f.prototype.copy = function(c) {
                this.reset();
                a.appendArray(this.keys, c.keys);
                for (var e = c.keys.length; e--;) {
                    var b = c.keys[e];
                    this.data[b] = c.data[b]
                }
            }
        }, {
            "./Utils": 57
        }],
        57: [function(b, h, g) {
            function f() {}
            h.exports = f;
            f.appendArray =
                function(a, c) {
                    if (15E4 > c.length) a.push.apply(a, c);
                    else
                        for (var e = 0, b = c.length; e !== b; ++e) a.push(c[e])
                };
            f.splice = function(a, c, e) {
                e = e || 1;
                for (var b = a.length - e; c < b; c++) a[c] = a[c + e];
                a.length = b
            };
            f.ARRAY_TYPE = "undefined" !== typeof P2_ARRAY_TYPE ? P2_ARRAY_TYPE : "undefined" !== typeof Float32Array ? Float32Array : Array;
            f.extend = function(a, c) {
                for (var e in c) a[e] = c[e]
            };
            f.defaults = function(a, c) {
                a = a || {};
                for (var e in c) e in a || (a[e] = c[e]);
                return a
            }
        }, {}],
        58: [function(b, h, g) {
            function f() {
                this.equations = [];
                this.bodies = []
            }
            var a =
                b("../objects/Body");
            h.exports = f;
            f.prototype.reset = function() {
                this.equations.length = this.bodies.length = 0
            };
            var c = [];
            f.prototype.getBodies = function(a) {
                a = a || [];
                for (var e = this.equations, b = c.length = 0; b !== e.length; b++) {
                    var f = e[b]; - 1 === c.indexOf(f.bodyA.id) && (a.push(f.bodyA), c.push(f.bodyA.id)); - 1 === c.indexOf(f.bodyB.id) && (a.push(f.bodyB), c.push(f.bodyB.id))
                }
                return a
            };
            f.prototype.wantsToSleep = function() {
                for (var c = 0; c < this.bodies.length; c++) {
                    var b = this.bodies[c];
                    if (b.type === a.DYNAMIC && !b.wantsToSleep) return !1
                }
                return !0
            };
            f.prototype.sleep = function() {
                for (var a = 0; a < this.bodies.length; a++) this.bodies[a].sleep();
                return !0
            }
        }, {
            "../objects/Body": 31
        }],
        59: [function(b, h, g) {
                function f(e) {
                    this.nodePool = new a({
                        size: 16
                    });
                    this.islandPool = new c({
                        size: 8
                    });
                    this.equations = [];
                    this.islands = [];
                    this.nodes = [];
                    this.queue = []
                }
                b("../math/vec2");
                b("./Island");
                b("./IslandNode");
                var a = b("./../utils/IslandNodePool"),
                    c = b("./../utils/IslandPool"),
                    e = b("../objects/Body");
                h.exports = f;
                f.getUnvisitedNode = function(a) {
                    for (var c = a.length, b = 0; b !== c; b++) {
                        var k =
                            a[b];
                        if (!k.visited && k.body.type === e.DYNAMIC) return k
                    }
                    return !1
                };
                f.prototype.visit = function(a, c, e) {
                    c.push(a.body);
                    c = a.equations.length;
                    for (var b = 0; b !== c; b++) {
                        var k = a.equations[b]; - 1 === e.indexOf(k) && e.push(k)
                    }
                };
                f.prototype.bfs = function(a, c, b) {
                    var k = this.queue;
                    k.length = 0;
                    k.push(a);
                    a.visited = !0;
                    for (this.visit(a, c, b); k.length;) {
                        a = k.pop();
                        for (var l; l = f.getUnvisitedNode(a.neighbors);) l.visited = !0, this.visit(l, c, b), l.body.type === e.DYNAMIC && k.push(l)
                    }
                };
                f.prototype.split = function(a) {
                    var c = a.bodies;
                    a = this.nodes;
                    for (var e = this.equations; a.length;) this.nodePool.release(a.pop());
                    for (var b = 0; b !== c.length; b++) {
                        var k = this.nodePool.get();
                        k.body = c[b];
                        a.push(k)
                    }
                    for (k = 0; k !== e.length; k++) {
                        var g = e[k];
                        b = c.indexOf(g.bodyA);
                        var h = c.indexOf(g.bodyB);
                        b = a[b];
                        h = a[h];
                        b.neighbors.push(h);
                        h.neighbors.push(b);
                        b.equations.push(g);
                        h.equations.push(g)
                    }
                    c = this.islands;
                    for (b = 0; b < c.length; b++) this.islandPool.release(c[b]);
                    for (c.length = 0; e = f.getUnvisitedNode(a);) b = this.islandPool.get(), this.bfs(e, b.bodies, b.equations), c.push(b);
                    return c
                }
            },
            {
                "../math/vec2": 30,
                "../objects/Body": 31,
                "./../utils/IslandNodePool": 50,
                "./../utils/IslandPool": 51,
                "./Island": 58,
                "./IslandNode": 60
            }
        ],
        60: [function(b, h, g) {
            function f(a) {
                this.body = a;
                this.neighbors = [];
                this.equations = [];
                this.visited = !1
            }
            h.exports = f;
            f.prototype.reset = function() {
                this.equations.length = 0;
                this.neighbors.length = 0;
                this.visited = !1;
                this.body = null
            }
        }, {}],
        61: [function(b, h, g) {
            function f(e) {
                n.apply(this);
                e = e || {};
                this.springs = [];
                this.bodies = [];
                this.disabledBodyCollisionPairs = [];
                this.solver = e.solver || new a;
                this.narrowphase = new v(this);
                this.islandManager = new y;
                this.gravity = c.fromValues(0, -9.78);
                e.gravity && c.copy(this.gravity, e.gravity);
                this.frictionGravity = c.length(this.gravity) || 10;
                this.useFrictionGravityOnZeroGravity = this.useWorldGravityAsFrictionGravity = !0;
                this.broadphase = e.broadphase || new t;
                this.broadphase.setWorld(this);
                this.constraints = [];
                this.defaultMaterial = new r;
                this.defaultContactMaterial = new u(this.defaultMaterial, this.defaultMaterial);
                this.lastTimeStep = 1 / 60;
                this.solveConstraints = this.applyGravity =
                    this.applyDamping = this.applySpringForces = !0;
                this.contactMaterials = [];
                this.accumulator = this.time = 0;
                this.stepping = !1;
                this.bodiesToBeRemoved = [];
                this.islandSplit = "undefined" !== typeof e.islandSplit ? !!e.islandSplit : !0;
                this.emitImpactEvent = !0;
                this._bodyIdCounter = this._constraintIdCounter = 0;
                this.postStepEvent = {
                    type: "postStep"
                };
                this.addBodyEvent = {
                    type: "addBody",
                    body: null
                };
                this.removeBodyEvent = {
                    type: "removeBody",
                    body: null
                };
                this.addSpringEvent = {
                    type: "addSpring",
                    spring: null
                };
                this.impactEvent = {
                    type: "impact",
                    bodyA: null,
                    bodyB: null,
                    shapeA: null,
                    shapeB: null,
                    contactEquation: null
                };
                this.postBroadphaseEvent = {
                    type: "postBroadphase",
                    pairs: null
                };
                this.sleepMode = f.NO_SLEEPING;
                this.beginContactEvent = {
                    type: "beginContact",
                    shapeA: null,
                    shapeB: null,
                    bodyA: null,
                    bodyB: null,
                    contactEquations: []
                };
                this.endContactEvent = {
                    type: "endContact",
                    shapeA: null,
                    shapeB: null,
                    bodyA: null,
                    bodyB: null
                };
                this.preSolveEvent = {
                    type: "preSolve",
                    contactEquations: null,
                    frictionEquations: null
                };
                this.overlappingShapesLastState = {
                    keys: []
                };
                this.overlappingShapesCurrentState = {
                    keys: []
                };
                this.overlapKeeper = new x
            }
            var a = b("../solver/GSSolver");
            b("../solver/Solver");
            b("../collision/Ray");
            var c = b("../math/vec2"),
                e = b("../shapes/Circle"),
                k = b("../shapes/Convex");
            b("../shapes/Line");
            var l = b("../shapes/Plane"),
                m = b("../shapes/Capsule"),
                q = b("../shapes/Particle"),
                n = b("../events/EventEmitter"),
                p = b("../objects/Body");
            b("../shapes/Shape");
            b("../objects/LinearSpring");
            var r = b("../material/Material"),
                u = b("../material/ContactMaterial");
            b("../constraints/DistanceConstraint");
            b("../constraints/Constraint");
            b("../constraints/LockConstraint");
            b("../constraints/RevoluteConstraint");
            b("../constraints/PrismaticConstraint");
            b("../constraints/GearConstraint");
            b("../../package.json");
            b("../collision/Broadphase");
            g = b("../collision/AABB");
            var t = b("../collision/SAPBroadphase"),
                v = b("../collision/Narrowphase"),
                w = b("../utils/Utils"),
                x = b("../utils/OverlapKeeper"),
                y = b("./IslandManager");
            b("../objects/RotationalSpring");
            h.exports = f;
            f.prototype = Object(n.prototype);
            f.prototype.constructor = f;
            f.NO_SLEEPING = 1;
            f.BODY_SLEEPING =
                2;
            f.ISLAND_SLEEPING = 4;
            f.prototype.addConstraint = function(a) {
                this.constraints.push(a)
            };
            f.prototype.addContactMaterial = function(a) {
                this.contactMaterials.push(a)
            };
            f.prototype.removeContactMaterial = function(a) {
                a = this.contactMaterials.indexOf(a); - 1 !== a && w.splice(this.contactMaterials, a, 1)
            };
            f.prototype.getContactMaterial = function(a, c) {
                for (var e = this.contactMaterials, b = 0, k = e.length; b !== k; b++) {
                    var l = e[b];
                    if (l.materialA.id === a.id && l.materialB.id === c.id || l.materialA.id === c.id && l.materialB.id === a.id) return l
                }
                return !1
            };
            f.prototype.removeConstraint = function(a) {
                a = this.constraints.indexOf(a); - 1 !== a && w.splice(this.constraints, a, 1)
            };
            c.create();
            c.create();
            c.create();
            c.create();
            c.create();
            c.create();
            var z = c.create(),
                B = c.fromValues(0, 0),
                A = c.fromValues(0, 0);
            c.fromValues(0, 0);
            c.fromValues(0, 0);
            f.prototype.step = function(a, e, b) {
                b = b || 10;
                e = e || 0;
                if (0 === e) this.internalStep(a), this.time += a;
                else {
                    this.accumulator += e;
                    for (e = 0; this.accumulator >= a && e < b;) this.internalStep(a), this.time += a, this.accumulator -= a, e++;
                    a = this.accumulator % a / a;
                    for (b = 0; b !== this.bodies.length; b++) e = this.bodies[b], c.lerp(e.interpolatedPosition, e.previousPosition, e.position, a), e.interpolatedAngle = e.previousAngle + a * (e.angle - e.previousAngle)
                }
            };
            var C = [];
            f.prototype.internalStep = function(a) {
                this.stepping = !0;
                var e = this.springs.length,
                    b = this.springs,
                    k = this.bodies,
                    l = this.gravity,
                    g = this.solver,
                    m = this.bodies.length,
                    h = this.broadphase,
                    q = this.narrowphase,
                    n = this.constraints,
                    r = c.add,
                    u = this.islandManager;
                this.overlapKeeper.tick();
                this.lastTimeStep = a;
                if (this.useWorldGravityAsFrictionGravity) {
                    var t =
                        c.length(this.gravity);
                    0 === t && this.useFrictionGravityOnZeroGravity || (this.frictionGravity = t)
                }
                if (this.applyGravity)
                    for (t = 0; t !== m; t++) {
                        var v = k[t],
                            x = v.force;
                        v.type === p.DYNAMIC && v.sleepState !== p.SLEEPING && (c.scale(z, l, v.mass * v.gravityScale), r(x, x, z))
                    }
                if (this.applySpringForces)
                    for (t = 0; t !== e; t++) b[t].applyForce();
                if (this.applyDamping)
                    for (t = 0; t !== m; t++) v = k[t], v.type === p.DYNAMIC && v.applyDamping(a);
                e = h.getCollisionPairs(this);
                l = this.disabledBodyCollisionPairs;
                for (t = l.length - 2; 0 <= t; t -= 2)
                    for (b = e.length - 2; 0 <=
                        b; b -= 2)(l[t] === e[b] && l[t + 1] === e[b + 1] || l[t + 1] === e[b] && l[t] === e[b + 1]) && e.splice(b, 2);
                l = n.length;
                for (t = 0; t !== l; t++)
                    if (h = n[t], !h.collideConnected)
                        for (b = e.length - 2; 0 <= b; b -= 2)(h.bodyA === e[b] && h.bodyB === e[b + 1] || h.bodyB === e[b] && h.bodyA === e[b + 1]) && e.splice(b, 2);
                this.postBroadphaseEvent.pairs = e;
                this.emit(this.postBroadphaseEvent);
                this.postBroadphaseEvent.pairs = null;
                q.reset(this);
                t = 0;
                for (l = e.length; t !== l; t += 2)
                    for (h = e[t], r = e[t + 1], v = 0, x = h.shapes.length; v !== x; v++) {
                        var y = h.shapes[v],
                            B = y.position,
                            D = y.angle;
                        b = 0;
                        for (var A =
                                r.shapes.length; b !== A; b++) {
                            var E = r.shapes[b],
                                J = E.position,
                                I = E.angle,
                                K = this.defaultContactMaterial;
                            if (y.material && E.material) {
                                var ca = this.getContactMaterial(y.material, E.material);
                                ca && (K = ca)
                            }
                            this.runNarrowphase(q, h, y, B, D, r, E, J, I, K, this.frictionGravity)
                        }
                    }
                for (t = 0; t !== m; t++) e = k[t], e._wakeUpAfterNarrowphase && (e.wakeUp(), e._wakeUpAfterNarrowphase = !1);
                if (this.has("endContact")) {
                    this.overlapKeeper.getEndOverlaps(C);
                    t = this.endContactEvent;
                    for (b = C.length; b--;) e = C[b], t.shapeA = e.shapeA, t.shapeB = e.shapeB, t.bodyA =
                        e.bodyA, t.bodyB = e.bodyB, this.emit(t);
                    C.length = 0
                }
                t = this.preSolveEvent;
                t.contactEquations = q.contactEquations;
                t.frictionEquations = q.frictionEquations;
                this.emit(t);
                t.contactEquations = t.frictionEquations = null;
                l = n.length;
                for (t = 0; t !== l; t++) n[t].update();
                if (q.contactEquations.length || q.frictionEquations.length || l)
                    if (this.islandSplit) {
                        u.equations.length = 0;
                        w.appendArray(u.equations, q.contactEquations);
                        w.appendArray(u.equations, q.frictionEquations);
                        for (t = 0; t !== l; t++) w.appendArray(u.equations, n[t].equations);
                        u.split(this);
                        for (t = 0; t !== u.islands.length; t++) n = u.islands[t], n.equations.length && g.solveIsland(a, n)
                    } else {
                        g.addEquations(q.contactEquations);
                        g.addEquations(q.frictionEquations);
                        for (t = 0; t !== l; t++) g.addEquations(n[t].equations);
                        this.solveConstraints && g.solve(a, this);
                        g.removeAllEquations()
                    } for (t = 0; t !== m; t++) e = k[t], e.integrate(a);
                for (t = 0; t !== m; t++) k[t].setZeroForce();
                if (this.emitImpactEvent && this.has("impact"))
                    for (g = this.impactEvent, t = 0; t !== q.contactEquations.length; t++) u = q.contactEquations[t], u.firstImpact &&
                        (g.bodyA = u.bodyA, g.bodyB = u.bodyB, g.shapeA = u.shapeA, g.shapeB = u.shapeB, g.contactEquation = u, this.emit(g));
                if (this.sleepMode === f.BODY_SLEEPING)
                    for (t = 0; t !== m; t++) k[t].sleepTick(this.time, !1, a);
                else if (this.sleepMode === f.ISLAND_SLEEPING && this.islandSplit) {
                    for (t = 0; t !== m; t++) k[t].sleepTick(this.time, !0, a);
                    for (t = 0; t < this.islandManager.islands.length; t++) n = this.islandManager.islands[t], n.wantsToSleep() && n.sleep()
                }
                this.stepping = !1;
                a = this.bodiesToBeRemoved;
                for (t = 0; t !== a.length; t++) this.removeBody(a[t]);
                a.length =
                    0;
                this.emit(this.postStepEvent)
            };
            f.prototype.runNarrowphase = function(a, e, b, k, l, f, g, m, h, q, n) {
                if (0 !== (b.collisionGroup & g.collisionMask) && 0 !== (g.collisionGroup & b.collisionMask) && (c.rotate(B, k, e.angle), c.rotate(A, m, f.angle), c.add(B, B, e.position), c.add(A, A, f.position), k = l + e.angle, h += f.angle, a.enableFriction = 0 < q.friction, a.frictionCoefficient = q.friction, a.slipForce = q.friction * n * (e.type === p.STATIC || e.type === p.KINEMATIC ? f.mass : f.type === p.STATIC || f.type === p.KINEMATIC ? e.mass : e.mass * f.mass / (e.mass + f.mass)),
                        a.restitution = q.restitution, a.surfaceVelocity = q.surfaceVelocity, a.frictionStiffness = q.frictionStiffness, a.frictionRelaxation = q.frictionRelaxation, a.stiffness = q.stiffness, a.relaxation = q.relaxation, a.contactSkinSize = q.contactSkinSize, a.enabledEquations = e.collisionResponse && f.collisionResponse && b.collisionResponse && g.collisionResponse, n = a[b.type | g.type]) && (l = b.sensor || g.sensor, q = a.frictionEquations.length, n = b.type < g.type ? n.call(a, e, b, B, k, f, g, A, h, l) : n.call(a, f, g, A, h, e, b, B, k, l), q = a.frictionEquations.length -
                        q, n)) {
                    e.allowSleep && e.type === p.DYNAMIC && e.sleepState === p.SLEEPING && f.sleepState === p.AWAKE && f.type !== p.STATIC && c.squaredLength(f.velocity) + Math.pow(f.angularVelocity, 2) >= 2 * Math.pow(f.sleepSpeedLimit, 2) && (e._wakeUpAfterNarrowphase = !0);
                    f.allowSleep && f.type === p.DYNAMIC && f.sleepState === p.SLEEPING && e.sleepState === p.AWAKE && e.type !== p.STATIC && c.squaredLength(e.velocity) + Math.pow(e.angularVelocity, 2) >= 2 * Math.pow(e.sleepSpeedLimit, 2) && (f._wakeUpAfterNarrowphase = !0);
                    this.overlapKeeper.setOverlapping(e, b, f, g);
                    if (this.has("beginContact") && this.overlapKeeper.isNewOverlap(b, g)) {
                        k = this.beginContactEvent;
                        k.shapeA = b;
                        k.shapeB = g;
                        k.bodyA = e;
                        k.bodyB = f;
                        k.contactEquations.length = 0;
                        if ("number" === typeof n)
                            for (e = a.contactEquations.length - n; e < a.contactEquations.length; e++) k.contactEquations.push(a.contactEquations[e]);
                        this.emit(k)
                    }
                    if ("number" === typeof n && 1 < q)
                        for (e = a.frictionEquations.length - q; e < a.frictionEquations.length; e++) b = a.frictionEquations[e], b.setSlipForce(b.getSlipForce() / q)
                }
            };
            f.prototype.addSpring = function(a) {
                this.springs.push(a);
                var c = this.addSpringEvent;
                c.spring = a;
                this.emit(c);
                c.spring = null
            };
            f.prototype.removeSpring = function(a) {
                a = this.springs.indexOf(a); - 1 !== a && w.splice(this.springs, a, 1)
            };
            f.prototype.addBody = function(a) {
                if (-1 === this.bodies.indexOf(a)) {
                    this.bodies.push(a);
                    a.world = this;
                    var c = this.addBodyEvent;
                    c.body = a;
                    this.emit(c);
                    c.body = null
                }
            };
            f.prototype.removeBody = function(a) {
                if (this.stepping) this.bodiesToBeRemoved.push(a);
                else {
                    a.world = null;
                    var c = this.bodies.indexOf(a); - 1 !== c && (w.splice(this.bodies, c, 1), this.removeBodyEvent.body =
                        a, a.resetConstraintVelocity(), this.emit(this.removeBodyEvent), this.removeBodyEvent.body = null)
                }
            };
            f.prototype.getBodyById = function(a) {
                for (var c = this.bodies, e = 0; e < c.length; e++) {
                    var b = c[e];
                    if (b.id === a) return b
                }
                return !1
            };
            f.prototype.disableBodyCollision = function(a, c) {
                this.disabledBodyCollisionPairs.push(a, c)
            };
            f.prototype.enableBodyCollision = function(a, c) {
                for (var e = this.disabledBodyCollisionPairs, b = 0; b < e.length; b += 2)
                    if (e[b] === a && e[b + 1] === c || e[b + 1] === a && e[b] === c) {
                        e.splice(b, 2);
                        break
                    }
            };
            f.prototype.clear =
                function() {
                    this.time = 0;
                    this.solver && this.solver.equations.length && this.solver.removeAllEquations();
                    for (var a = this.constraints, c = a.length - 1; 0 <= c; c--) this.removeConstraint(a[c]);
                    a = this.bodies;
                    for (c = a.length - 1; 0 <= c; c--) this.removeBody(a[c]);
                    a = this.springs;
                    for (c = a.length - 1; 0 <= c; c--) this.removeSpring(a[c]);
                    a = this.contactMaterials;
                    for (c = a.length - 1; 0 <= c; c--) this.removeContactMaterial(a[c]);
                    f.apply(this)
                };
            var D = c.create();
            c.fromValues(0, 0);
            var J = c.fromValues(0, 0);
            f.prototype.hitTest = function(a, b, f) {
                f = f ||
                    0;
                var g = new p({
                        position: a
                    }),
                    h = new q;
                g.addShape(h);
                for (var n = this.narrowphase, r = [], t = 0, u = b.length; t !== u; t++)
                    for (var v = b[t], w = 0, x = v.shapes.length; w !== x; w++) {
                        var y = v.shapes[w];
                        c.rotate(D, y.position, v.angle);
                        c.add(D, D, v.position);
                        var z = y.angle + v.angle;
                        (y instanceof e && n.circleParticle(v, y, D, z, g, h, a, 0, !0) || y instanceof k && n.particleConvex(g, h, a, 0, v, y, D, z, !0) || y instanceof l && n.particlePlane(g, h, a, 0, v, y, D, z, !0) || y instanceof m && n.particleCapsule(g, h, a, 0, v, y, D, z, !0) || y instanceof q && c.squaredLength(c.sub(J,
                            D, a)) < f * f) && r.push(v)
                    }
                return r
            };
            f.prototype.setGlobalStiffness = function(a) {
                for (var c = this.constraints, e = 0; e !== c.length; e++)
                    for (var b = c[e], k = 0; k !== b.equations.length; k++) {
                        var l = b.equations[k];
                        l.stiffness = a;
                        l.needsUpdate = !0
                    }
                c = this.contactMaterials;
                for (e = 0; e !== c.length; e++) b = c[e], b.stiffness = b.frictionStiffness = a;
                b = this.defaultContactMaterial;
                b.stiffness = b.frictionStiffness = a
            };
            f.prototype.setGlobalRelaxation = function(a) {
                for (var c = 0; c !== this.constraints.length; c++)
                    for (var e = this.constraints[c], b = 0; b !==
                        e.equations.length; b++) {
                        var k = e.equations[b];
                        k.relaxation = a;
                        k.needsUpdate = !0
                    }
                for (c = 0; c !== this.contactMaterials.length; c++) e = this.contactMaterials[c], e.relaxation = e.frictionRelaxation = a;
                e = this.defaultContactMaterial;
                e.relaxation = e.frictionRelaxation = a
            };
            var E = new g,
                K = [];
            f.prototype.raycast = function(a, c) {
                c.getAABB(E);
                this.broadphase.aabbQuery(this, E, K);
                c.intersectBodies(a, K);
                K.length = 0;
                return a.hasHit()
            }
        }, {
            "../../package.json": 6,
            "../collision/AABB": 7,
            "../collision/Broadphase": 8,
            "../collision/Narrowphase": 10,
            "../collision/Ray": 11,
            "../collision/SAPBroadphase": 13,
            "../constraints/Constraint": 14,
            "../constraints/DistanceConstraint": 15,
            "../constraints/GearConstraint": 16,
            "../constraints/LockConstraint": 17,
            "../constraints/PrismaticConstraint": 18,
            "../constraints/RevoluteConstraint": 19,
            "../events/EventEmitter": 26,
            "../material/ContactMaterial": 27,
            "../material/Material": 28,
            "../math/vec2": 30,
            "../objects/Body": 31,
            "../objects/LinearSpring": 32,
            "../objects/RotationalSpring": 33,
            "../shapes/Capsule": 38,
            "../shapes/Circle": 39,
            "../shapes/Convex": 40,
            "../shapes/Line": 42,
            "../shapes/Particle": 43,
            "../shapes/Plane": 44,
            "../shapes/Shape": 45,
            "../solver/GSSolver": 46,
            "../solver/Solver": 47,
            "../utils/OverlapKeeper": 52,
            "../utils/Utils": 57,
            "./IslandManager": 59
        }]
    }, {}, [36])(36)
});
(function() {
    function d(d, f, a, c, e) {
        var k = d.createFramebuffer(),
            l = d.createRenderbuffer();
        d.activeTexture(d.TEXTURE0 + e);
        d.bindFramebuffer(d.FRAMEBUFFER, k);
        d.bindRenderbuffer(d.RENDERBUFFER, l);
        d.framebufferRenderbuffer(d.FRAMEBUFFER, d.DEPTH_STENCIL_ATTACHMENT, d.RENDERBUFFER, this.renderBuffer);
        e = d.createTexture();
        d.bindTexture(d.TEXTURE_2D, e);
        d.texParameteri(d.TEXTURE_2D, d.TEXTURE_WRAP_S, d.CLAMP_TO_EDGE);
        d.texParameteri(d.TEXTURE_2D, d.TEXTURE_WRAP_T, d.CLAMP_TO_EDGE);
        d.texParameteri(d.TEXTURE_2D, d.TEXTURE_MAG_FILTER,
            c === b.scaleModes.LINEAR ? d.LINEAR : d.NEAREST);
        d.texParameteri(d.TEXTURE_2D, d.TEXTURE_MIN_FILTER, c === b.scaleModes.LINEAR ? d.LINEAR : d.NEAREST);
        d.texImage2D(d.TEXTURE_2D, 0, d.RGBA, f, a, 0, d.RGBA, d.UNSIGNED_BYTE, null);
        d.framebufferTexture2D(d.FRAMEBUFFER, d.COLOR_ATTACHMENT0, d.TEXTURE_2D, e, 0);
        c = d.checkFramebufferStatus(d.FRAMEBUFFER);
        c !== d.FRAMEBUFFER_COMPLETE && console.error("Incomplete GL framebuffer. ", h[c]);
        k.width = f;
        k.height = a;
        k.targetTexture = e;
        k.renderBuffer = l;
        return k
    }
    var b = b || {};
    b.DisplayObject = function() {
        this.position =
            new b.Point(0, 0);
        this.scale = new b.Point(1, 1);
        this.pivot = new b.Point(0, 0);
        this.rotation = 0;
        this.alpha = 1;
        this.visible = !0;
        this.hitArea = null;
        this.renderable = !1;
        this.parent = null;
        this.worldAlpha = 1;
        this.worldTransform = new Phaser.Matrix;
        this.worldPosition = new b.Point(0, 0);
        this.worldScale = new b.Point(1, 1);
        this.worldRotation = 0;
        this.filterArea = null;
        this._sr = 0;
        this._cr = 1;
        this._bounds = new b.Rectangle(0, 0, 0, 0);
        this._mask = this._currentBounds = null;
        this._cacheIsDirty = this._cacheAsBitmap = !1
    };
    b.DisplayObject.prototype = {
        constructor: b.DisplayObject,
        destroy: function() {
            if (this.children) {
                for (var b = this.children.length; b--;) this.children[b].destroy();
                this.children = []
            }
            this.filterArea = this.worldTransform = this.parent = this.hitArea = null;
            this.renderable = !1;
            this._mask = this._currentBounds = this._bounds = null;
            this._destroyCachedSprite()
        },
        updateTransform: function(b) {
            if (!b && !this.parent && !this.game) return this;
            var d = this.parent;
            b ? d = b : this.parent || (d = this.game.world);
            b = d.worldTransform;
            var a = this.worldTransform;
            if (this.rotation % Phaser.Math.PI2) {
                this.rotation !==
                    this.rotationCache && (this.rotationCache = this.rotation, this._sr = Math.sin(this.rotation), this._cr = Math.cos(this.rotation));
                var c = this._cr * this.scale.x;
                var e = this._sr * this.scale.x;
                var k = -this._sr * this.scale.y;
                var l = this._cr * this.scale.y;
                var g = this.position.x;
                var h = this.position.y;
                if (this.pivot.x || this.pivot.y) g -= this.pivot.x * c + this.pivot.y * k, h -= this.pivot.x * e + this.pivot.y * l;
                a.a = c * b.a + e * b.c;
                a.b = c * b.b + e * b.d;
                a.c = k * b.a + l * b.c;
                a.d = k * b.b + l * b.d
            } else c = this.scale.x, l = this.scale.y, g = this.position.x - this.pivot.x *
                c, h = this.position.y - this.pivot.y * l, a.a = c * b.a, a.b = c * b.b, a.c = l * b.c, a.d = l * b.d;
            a.tx = g * b.a + h * b.c + b.tx;
            a.ty = g * b.b + h * b.d + b.ty;
            c = a.a;
            e = a.b;
            k = a.c;
            l = a.d;
            g = c * l - e * k;
            c || e ? (k = Math.sqrt(c * c + e * e), this.worldRotation = 0 < e ? Math.acos(c / k) : -Math.acos(c / k), this.worldScale.x = k, this.worldScale.y = g / k) : k || l ? (c = Math.sqrt(k * k + l * l), this.worldRotation = Phaser.Math.HALF_PI - (0 < l ? Math.acos(-k / c) : -Math.acos(k / c)), this.worldScale.x = g / c, this.worldScale.y = c) : (this.worldScale.x = 0, this.worldScale.y = 0);
            this.worldAlpha = this.alpha * d.worldAlpha;
            this.worldPosition.x = a.tx;
            this.worldPosition.y = a.ty;
            this._currentBounds = null;
            this.transformCallback && this.transformCallback.call(this.transformCallbackContext, a, b);
            return this
        },
        preUpdate: function() {},
        generateTexture: function(d, f, a) {
            var c = this.getLocalBounds();
            d = new Phaser.RenderTexture(this.game, c.width | 0, c.height | 0, a, f, d);
            b.DisplayObject._tempMatrix.tx = -c.x;
            b.DisplayObject._tempMatrix.ty = -c.y;
            d.render(this, b.DisplayObject._tempMatrix);
            return d
        },
        updateCache: function() {
            this._generateCachedSprite();
            return this
        },
        toGlobal: function(b) {
            this.updateTransform();
            return this.worldTransform.apply(b)
        },
        toLocal: function(b, d) {
            d && (b = d.toGlobal(b));
            this.updateTransform();
            return this.worldTransform.applyInverse(b)
        },
        _renderCachedSprite: function(d) {
            this._cachedSprite.worldAlpha = this.worldAlpha;
            d.gl ? b.Sprite.prototype._renderWebGL.call(this._cachedSprite, d) : b.Sprite.prototype._renderCanvas.call(this._cachedSprite, d)
        },
        _generateCachedSprite: function() {
            this._cacheAsBitmap = !1;
            var d = this.getLocalBounds();
            d.width = Math.max(1,
                Math.ceil(d.width));
            d.height = Math.max(1, Math.ceil(d.height));
            this.updateTransform();
            if (this._cachedSprite) this._cachedSprite.texture.resize(d.width, d.height);
            else {
                var f = 0;
                this.texture && this.texture.baseTexture && b._enableMultiTextureToggle && (f = this.texture.baseTexture.textureIndex);
                f = new Phaser.RenderTexture(this.game, d.width, d.height, void 0, void 0, void 0, void 0, f);
                this._cachedSprite = new b.Sprite(f);
                this._cachedSprite.worldTransform = this.worldTransform
            }
            f = this._filters;
            this._filters = null;
            this._cachedSprite.filters =
                f;
            b.DisplayObject._tempMatrix.tx = -d.x;
            b.DisplayObject._tempMatrix.ty = -d.y;
            this._cachedSprite.texture.render(this, b.DisplayObject._tempMatrix, !0);
            this._cachedSprite.anchor.x = -(d.x / d.width);
            this._cachedSprite.anchor.y = -(d.y / d.height);
            this._filters = f;
            this._cacheAsBitmap = !0
        },
        _destroyCachedSprite: function() {
            this._cachedSprite && (this._cachedSprite.texture.destroy(!0), this._cachedSprite = null)
        }
    };
    b.DisplayObject.prototype.displayObjectUpdateTransform = b.DisplayObject.prototype.updateTransform;
    Object.defineProperties(b.DisplayObject.prototype, {
        x: {
            get: function() {
                return this.position.x
            },
            set: function(b) {
                this.position.x = b
            }
        },
        y: {
            get: function() {
                return this.position.y
            },
            set: function(b) {
                this.position.y = b
            }
        },
        worldVisible: {
            get: function() {
                if (this.visible) {
                    var b = this.parent;
                    if (b) {
                        do {
                            if (!b.visible) return !1;
                            b = b.parent
                        } while (b)
                    } else return this.visible;
                    return !0
                }
                return !1
            }
        },
        mask: {
            get: function() {
                return this._mask
            },
            set: function(b) {
                this._mask && (this._mask.isMask = !1);
                if (this._mask = b) this._mask.isMask = !0
            }
        },
        filters: {
            get: function() {
                return this._filters
            },
            set: function(d) {
                if (Array.isArray(d)) {
                    for (var f = [], a = 0; a < d.length; a++)
                        for (var c = d[a].passes, e = 0; e < c.length; e++) f.push(c[e]);
                    this._filterBlock = {
                        target: this,
                        filterPasses: f
                    }
                }
                this._filters = d;
                this.blendMode && this.blendMode === b.blendModes.MULTIPLY && (this.blendMode = b.blendModes.NORMAL)
            }
        },
        cacheAsBitmap: {
            get: function() {
                return this._cacheAsBitmap
            },
            set: function(b) {
                this._cacheAsBitmap !== b && (b ? this._generateCachedSprite() : this._destroyCachedSprite(), this._cacheAsBitmap = b)
            }
        }
    });
    b.DisplayObjectContainer = function() {
        b.DisplayObject.call(this);
        this.children = [];
        this.ignoreChildInput = !1
    };
    b.DisplayObjectContainer.prototype = Object.create(b.DisplayObject.prototype);
    b.DisplayObjectContainer.prototype.constructor = b.DisplayObjectContainer;
    b.DisplayObjectContainer.prototype.addChild = function(b) {
        return this.addChildAt(b, this.children.length)
    };
    b.DisplayObjectContainer.prototype.addChildAt = function(b, d) {
        if (0 <= d && d <= this.children.length) return b.parent && b.parent.removeChild(b), b.parent = this, this.children.splice(d, 0, b), b;
        throw Error(b + "addChildAt: The index " + d + " supplied is out of bounds " +
            this.children.length);
    };
    b.DisplayObjectContainer.prototype.swapChildren = function(b, d) {
        if (b !== d) {
            var a = this.getChildIndex(b),
                c = this.getChildIndex(d);
            if (0 > a || 0 > c) throw Error("swapChildren: Both the supplied DisplayObjects must be a child of the caller.");
            this.children[a] = d;
            this.children[c] = b
        }
    };
    b.DisplayObjectContainer.prototype.getChildIndex = function(b) {
        b = this.children.indexOf(b);
        if (-1 === b) throw Error("The supplied DisplayObject must be a child of the caller");
        return b
    };
    b.DisplayObjectContainer.prototype.setChildIndex =
        function(b, d) {
            if (0 > d || d >= this.children.length) throw Error("The supplied index is out of bounds");
            var a = this.getChildIndex(b);
            this.children.splice(a, 1);
            this.children.splice(d, 0, b)
        };
    b.DisplayObjectContainer.prototype.getChildAt = function(b) {
        if (0 > b || b >= this.children.length) throw Error("getChildAt: Supplied index " + b + " does not exist in the child list, or the supplied DisplayObject must be a child of the caller");
        return this.children[b]
    };
    b.DisplayObjectContainer.prototype.removeChild = function(b) {
        b = this.children.indexOf(b);
        if (-1 !== b) return this.removeChildAt(b)
    };
    b.DisplayObjectContainer.prototype.removeChildAt = function(b) {
        var d = this.getChildAt(b);
        d && (d.parent = void 0, this.children.splice(b, 1));
        return d
    };
    b.DisplayObjectContainer.prototype.removeChildren = function(b, d) {
        void 0 === b && (b = 0);
        void 0 === d && (d = this.children.length);
        var a = d - b;
        if (0 < a && a <= d) {
            b = this.children.splice(b, a);
            for (d = 0; d < b.length; d++) b[d].parent = void 0;
            return b
        }
        if (0 === a && 0 === this.children.length) return [];
        throw Error("removeChildren: Range Error, numeric values are outside the acceptable range");
    };
    b.DisplayObjectContainer.prototype.updateTransform = function() {
        if (this.visible && (this.displayObjectUpdateTransform(), !this._cacheAsBitmap))
            for (var b = 0; b < this.children.length; b++) this.children[b].updateTransform()
    };
    b.DisplayObjectContainer.prototype.displayObjectContainerUpdateTransform = b.DisplayObjectContainer.prototype.updateTransform;
    b.DisplayObjectContainer.prototype.getBounds = function(d) {
        var f = d && d instanceof b.DisplayObject,
            a = !0;
        f ? a = d instanceof b.DisplayObjectContainer ? d.contains(this) : !1 :
            d = this;
        var c;
        if (f) {
            var e = d.worldTransform;
            d.worldTransform = Phaser.identityMatrix;
            for (c = 0; c < d.children.length; c++) d.children[c].updateTransform()
        }
        var k = Infinity,
            l = Infinity,
            g = -Infinity,
            h = -Infinity,
            n = !1;
        for (c = 0; c < this.children.length; c++)
            if (this.children[c].visible) {
                n = !0;
                var p = this.children[c].getBounds();
                k = k < p.x ? k : p.x;
                l = l < p.y ? l : p.y;
                var r = p.width + p.x;
                p = p.height + p.y;
                g = g > r ? g : r;
                h = h > p ? h : p
            } r = this._bounds;
        if (!n) {
            r = new b.Rectangle;
            var u = r.x;
            g = r.width + r.x;
            h = r.y;
            n = r.height + r.y;
            c = this.worldTransform;
            var t = c.a,
                v = c.b,
                w = c.c,
                x = c.d,
                y = c.tx,
                z = c.ty;
            k = t * g + w * n + y;
            l = x * n + v * g + z;
            c = t * u + w * n + y;
            n = x * n + v * u + z;
            p = t * u + w * h + y;
            u = x * h + v * u + z;
            t = t * g + w * h + y;
            v = x * h + v * g + z;
            g = k;
            h = l;
            k = c < k ? c : k;
            k = p < k ? p : k;
            k = t < k ? t : k;
            l = n < l ? n : l;
            l = u < l ? u : l;
            l = v < l ? v : l;
            g = c > g ? c : g;
            g = p > g ? p : g;
            g = t > g ? t : g;
            h = n > h ? n : h;
            h = u > h ? u : h;
            h = v > h ? v : h
        }
        r.x = k;
        r.y = l;
        r.width = g - k;
        r.height = h - l;
        if (f)
            for (d.worldTransform = e, c = 0; c < d.children.length; c++) d.children[c].updateTransform();
        a || (d = d.getBounds(), r.x -= d.x, r.y -= d.y);
        return r
    };
    b.DisplayObjectContainer.prototype.getLocalBounds = function() {
        return this.getBounds(this)
    };
    b.DisplayObjectContainer.prototype.contains = function(b) {
        return b ? b === this ? !0 : this.contains(b.parent) : !1
    };
    b.DisplayObjectContainer.prototype._renderWebGL = function(b) {
        if (this.visible && !(0 >= this.alpha))
            if (this._cacheAsBitmap) this._renderCachedSprite(b);
            else {
                var d;
                if (this._mask || this._filters) {
                    this._filters && (b.spriteBatch.flush(), b.filterManager.pushFilter(this._filterBlock));
                    this._mask && (b.spriteBatch.stop(), b.maskManager.pushMask(this.mask, b), b.spriteBatch.start());
                    for (d = 0; d < this.children.length; d++) this.children[d]._renderWebGL(b);
                    b.spriteBatch.stop();
                    this._mask && b.maskManager.popMask(this._mask, b);
                    this._filters && b.filterManager.popFilter();
                    b.spriteBatch.start()
                } else
                    for (d = 0; d < this.children.length; d++) this.children[d]._renderWebGL(b)
            }
    };
    b.DisplayObjectContainer.prototype._renderCanvas = function(b) {
        if (!1 !== this.visible && 0 !== this.alpha)
            if (this._cacheAsBitmap) this._renderCachedSprite(b);
            else {
                this._mask && b.maskManager.pushMask(this._mask, b);
                for (var d = 0; d < this.children.length; d++) this.children[d]._renderCanvas(b);
                this._mask && b.maskManager.popMask(b)
            }
    };
    Object.defineProperty(b.DisplayObjectContainer.prototype, "width", {
        get: function() {
            return this.getLocalBounds().width * this.scale.x
        },
        set: function(b) {
            var d = this.getLocalBounds().width;
            this.scale.x = 0 !== d ? b / d : 1;
            this._width = b
        }
    });
    Object.defineProperty(b.DisplayObjectContainer.prototype, "height", {
        get: function() {
            return this.getLocalBounds().height * this.scale.y
        },
        set: function(b) {
            var d = this.getLocalBounds().height;
            this.scale.y = 0 !== d ? b / d : 1;
            this._height = b
        }
    });
    b.Sprite = function(d) {
        b.DisplayObjectContainer.call(this);
        this.anchor = new b.Point(b.Sprite.defaultAnchor.x, b.Sprite.defaultAnchor.y);
        this.texture = d || b.Texture.emptyTexture;
        this._height = this._width = 0;
        this.tint = 16777215;
        this.cachedTint = -1;
        this.tintedTexture = null;
        this.blendMode = b.blendModes.NORMAL;
        this.shader = null;
        this.exists = !0;
        if (this.texture.baseTexture.hasLoaded) this.onTextureUpdate();
        this.renderable = !0
    };
    b.Sprite.defaultAnchor = {
        x: 0,
        y: 0
    };
    b.Sprite.prototype = Object.create(b.DisplayObjectContainer.prototype);
    b.Sprite.prototype.constructor = b.Sprite;
    Object.defineProperty(b.Sprite.prototype,
        "width", {
            get: function() {
                return this.scale.x * this.texture.frame.width
            },
            set: function(b) {
                this.scale.x = b / this.texture.frame.width;
                this._width = b
            }
        });
    Object.defineProperty(b.Sprite.prototype, "height", {
        get: function() {
            return this.scale.y * this.texture.frame.height
        },
        set: function(b) {
            this.scale.y = b / this.texture.frame.height;
            this._height = b
        }
    });
    b.Sprite.prototype.setTexture = function(b, d) {
        d && this.texture.baseTexture.destroy();
        this.texture.baseTexture.skipRender = !1;
        this.texture = b;
        this.texture.valid = !0;
        this.cachedTint = -1
    };
    b.Sprite.prototype.onTextureUpdate = function() {
        this._width && (this.scale.x = this._width / this.texture.frame.width);
        this._height && (this.scale.y = this._height / this.texture.frame.height)
    };
    b.Sprite.prototype.getBounds = function(b) {
        var d = this.texture.frame.width,
            a = this.texture.frame.height,
            c = d * (1 - this.anchor.x);
        d *= -this.anchor.x;
        var e = a * (1 - this.anchor.y),
            k = a * -this.anchor.y;
        a = b || this.worldTransform;
        var l = a.a,
            g = a.b,
            h = a.c;
        b = a.d;
        var n = a.tx,
            p = a.ty,
            r = a = -Infinity,
            u = Infinity,
            t = Infinity;
        if (0 === g && 0 === h) 0 > l && (l *=
            -1, a = c, c = -d, d = -a), 0 > b && (b *= -1, a = e, e = -k, k = -a), u = l * d + n, a = l * c + n, t = b * k + p, r = b * e + p;
        else {
            var v = l * d + h * k + n,
                w = b * k + g * d + p,
                x = l * c + h * k + n;
            k = b * k + g * c + p;
            var y = l * c + h * e + n;
            c = b * e + g * c + p;
            l = l * d + h * e + n;
            d = b * e + g * d + p;
            u = v < u ? v : u;
            u = x < u ? x : u;
            u = y < u ? y : u;
            u = l < u ? l : u;
            t = w < t ? w : t;
            t = k < t ? k : t;
            t = c < t ? c : t;
            t = d < t ? d : t;
            a = v > a ? v : a;
            a = x > a ? x : a;
            a = y > a ? y : a;
            a = l > a ? l : a;
            r = w > r ? w : r;
            r = k > r ? k : r;
            r = c > r ? c : r;
            r = d > r ? d : r
        }
        d = this._bounds;
        d.x = u;
        d.width = a - u;
        d.y = t;
        d.height = r - t;
        return this._currentBounds = d
    };
    b.Sprite.prototype.getLocalBounds = function() {
        var b = this.worldTransform;
        this.worldTransform =
            Phaser.identityMatrix;
        for (var d = 0; d < this.children.length; d++) this.children[d].updateTransform();
        var a = this.getBounds();
        this.worldTransform = b;
        for (d = 0; d < this.children.length; d++) this.children[d].updateTransform();
        return a
    };
    b.Sprite.prototype._renderWebGL = function(b, d) {
        if (this.visible && !(0 >= this.alpha) && this.renderable) {
            var a = this.worldTransform;
            d && (a = d);
            if (this._mask || this._filters) {
                a = b.spriteBatch;
                this._filters && (a.flush(), b.filterManager.pushFilter(this._filterBlock));
                this._mask && (a.stop(), b.maskManager.pushMask(this.mask,
                    b), a.start());
                a.render(this);
                for (d = 0; d < this.children.length; d++) this.children[d]._renderWebGL(b);
                a.stop();
                this._mask && b.maskManager.popMask(this._mask, b);
                this._filters && b.filterManager.popFilter();
                a.start()
            } else
                for (b.spriteBatch.render(this), d = 0; d < this.children.length; d++) this.children[d]._renderWebGL(b, a)
        }
    };
    b.Sprite.prototype._renderCanvas = function(d, f) {
        if (!(!this.visible || 0 === this.alpha || !this.renderable || 1 > this.texture.crop.width || 1 > this.texture.crop.height)) {
            var a = this.worldTransform;
            f && (a = f);
            this.blendMode !== d.currentBlendMode && (d.currentBlendMode = this.blendMode, d.context.globalCompositeOperation = b.blendModesCanvas[d.currentBlendMode]);
            this._mask && d.maskManager.pushMask(this._mask, d);
            if (this.texture.valid) {
                f = this.texture.baseTexture.resolution / d.resolution;
                d.context.globalAlpha = this.worldAlpha;
                d.smoothProperty && d.scaleMode !== this.texture.baseTexture.scaleMode && (d.scaleMode = this.texture.baseTexture.scaleMode, d.context[d.smoothProperty] = d.scaleMode === b.scaleModes.LINEAR);
                var c = this.texture.trim ?
                    this.texture.trim.x - this.anchor.x * this.texture.trim.width : this.anchor.x * -this.texture.frame.width,
                    e = this.texture.trim ? this.texture.trim.y - this.anchor.y * this.texture.trim.height : this.anchor.y * -this.texture.frame.height,
                    k = a.tx * d.resolution + d.shakeX,
                    l = a.ty * d.resolution + d.shakeY,
                    g = this.texture.crop.width,
                    h = this.texture.crop.height;
                if (this.texture.rotated) {
                    var n = a.a,
                        p = a.b,
                        r = a.c,
                        u = a.d,
                        t = g;
                    k = a.c * h + k;
                    l = a.d * h + l;
                    a.a = 6.123233995736766E-17 * n + -r;
                    a.b = 6.123233995736766E-17 * p + -u;
                    a.c = n + 6.123233995736766E-17 * r;
                    a.d =
                        p + 6.123233995736766E-17 * u;
                    g = h;
                    h = t
                }
                d.roundPixels ? (d.context.setTransform(a.a, a.b, a.c, a.d, k | 0, l | 0), c |= 0, e |= 0) : d.context.setTransform(a.a, a.b, a.c, a.d, k, l);
                c /= f;
                e /= f;
                g |= 0;
                h |= 0;
                if (g && h) {
                    if (16777215 !== this.tint) {
                        if (this.texture.requiresReTint || this.cachedTint !== this.tint) this.tintedTexture = b.CanvasTinter.getTintedTexture(this, this.tint), this.cachedTint = this.tint, this.texture.requiresReTint = !1;
                        d.context.drawImage(this.tintedTexture, 0, 0, g, h, c, e, g / f, h / f)
                    } else d.context.drawImage(this.texture.baseTexture.source,
                        this.texture.crop.x, this.texture.crop.y, g, h, c, e, g / f, h / f);
                    for (a = 0; a < this.children.length; a++) this.children[a]._renderCanvas(d);
                    this._mask && d.maskManager.popMask(d)
                }
            } else {
                for (a = 0; a < this.children.length; a++) this.children[a]._renderCanvas(d);
                this._mask && d.maskManager.popMask(d)
            }
        }
    };
    b.initDefaultShaders = function() {};
    b.CompileVertexShader = function(d, f) {
        return b._CompileShader(d, f, d.VERTEX_SHADER)
    };
    b.CompileFragmentShader = function(d, f) {
        return b._CompileShader(d, f, d.FRAGMENT_SHADER)
    };
    b._CompileShader = function(b,
        d, a) {
        var c = d;
        Array.isArray(d) && (c = d.join("\n"));
        d = b.createShader(a);
        b.shaderSource(d, c);
        b.compileShader(d);
        return b.getShaderParameter(d, b.COMPILE_STATUS) ? d : (window.console.log(b.getShaderInfoLog(d)), null)
    };
    b.compileProgram = function(d, f, a) {
        a = b.CompileFragmentShader(d, a);
        f = b.CompileVertexShader(d, f);
        var c = d.createProgram();
        d.attachShader(c, f);
        d.attachShader(c, a);
        d.linkProgram(c);
        d.getProgramParameter(c, d.LINK_STATUS) || (window.console.log(d.getProgramInfoLog(c)), window.console.log("Could not initialise shaders"));
        return c
    };
    b.PixiShader = function(b) {
        this._UID = Phaser._UID++;
        this.gl = b;
        this.fragmentSrc = this.program = null;
        this.textureCount = 0;
        this.dirty = this.firstRun = !0;
        this.attributes = [];
        this.init()
    };
    b.PixiShader.prototype.constructor = b.PixiShader;
    b.PixiShader.prototype.initMultitexShader = function() {
        var d = this.gl;
        this.MAX_TEXTURES = d.getParameter(d.MAX_TEXTURE_IMAGE_UNITS);
        for (var f = "\tif (vTextureIndex == 0.0) { gl_FragColor = texture2D(uSamplerArray[0], vTextureCoord) * vColor;return;}\n", a = 1; a < this.MAX_TEXTURES; ++a) f +=
            "\tif (vTextureIndex == " + a + ".0) {gl_FragColor = texture2D(uSamplerArray[" + a + "], vTextureCoord) * vColor;return;}\n";
        this.fragmentSrc = ["// PixiShader Fragment Shader.", "precision lowp float;", "bool isnan( float val ) {  return ( val < 0.0 || 0.0 < val || val == 0.0 ) ? false : true; }", "varying vec2 vTextureCoord;", "varying vec4 vColor;", "varying float vTextureIndex;", "uniform sampler2D uSamplerArray[" + this.MAX_TEXTURES + "];", "const vec4 BLUE = vec4(1.0, 0.0, 1.0, 1.0);", "const vec4 RED = vec4(1.0, 0.0, 0.0, 1.0);",
            "void main(void) {", f, "   if(vTextureIndex >= " + this.MAX_TEXTURES + ".0) { gl_FragColor = BLUE;return;}", "   if(isnan(vTextureIndex)) { gl_FragColor = RED;return;}", "}"
        ];
        f = b.compileProgram(d, this.vertexSrc || b.PixiShader.defaultVertexSrc, this.fragmentSrc);
        d.useProgram(f);
        this.uSamplerArray = d.getUniformLocation(f, "uSamplerArray[0]");
        this.projectionVector = d.getUniformLocation(f, "projectionVector");
        this.offsetVector = d.getUniformLocation(f, "offsetVector");
        this.dimensions = d.getUniformLocation(f, "dimensions");
        this.aVertexPosition = d.getAttribLocation(f, "aVertexPosition");
        this.aTextureCoord = d.getAttribLocation(f, "aTextureCoord");
        this.colorAttribute = d.getAttribLocation(f, "aColor");
        this.aTextureIndex = d.getAttribLocation(f, "aTextureIndex");
        a = [];
        var c = d.createTexture();
        d.activeTexture(d.TEXTURE0);
        d.bindTexture(d.TEXTURE_2D, c);
        d.texImage2D(d.TEXTURE_2D, 0, d.RGB, 1, 1, 0, d.RGB, d.UNSIGNED_BYTE, null);
        for (var e = 0; e < this.MAX_TEXTURES; ++e) d.activeTexture(d.TEXTURE0 + e), d.bindTexture(d.TEXTURE_2D, c), a.push(e);
        d.activeTexture(d.TEXTURE0);
        d.uniform1iv(this.uSamplerArray, a); - 1 === this.colorAttribute && (this.colorAttribute = 2);
        this.attributes = [this.aVertexPosition, this.aTextureCoord, this.colorAttribute, this.aTextureIndex];
        for (var k in this.uniforms) this.uniforms[k].uniformLocation = d.getUniformLocation(f, k);
        this.initUniforms();
        this.program = f
    };
    b.PixiShader.prototype.initDefaultShader = function() {
        null === this.fragmentSrc && (this.fragmentSrc = ["precision lowp float;", "varying vec2 vTextureCoord;", "varying vec4 vColor;", "varying float vTextureIndex;",
            "uniform sampler2D uSampler;", "void main(void) {", "   gl_FragColor = texture2D(uSampler, vTextureCoord) * vColor ;", "}"
        ]);
        var d = this.gl,
            f = b.compileProgram(d, this.vertexSrc || b.PixiShader.defaultVertexSrc, this.fragmentSrc);
        d.useProgram(f);
        this.uSampler = d.getUniformLocation(f, "uSampler");
        this.projectionVector = d.getUniformLocation(f, "projectionVector");
        this.offsetVector = d.getUniformLocation(f, "offsetVector");
        this.dimensions = d.getUniformLocation(f, "dimensions");
        this.aVertexPosition = d.getAttribLocation(f,
            "aVertexPosition");
        this.aTextureCoord = d.getAttribLocation(f, "aTextureCoord");
        this.colorAttribute = d.getAttribLocation(f, "aColor");
        this.aTextureIndex = d.getAttribLocation(f, "aTextureIndex"); - 1 === this.colorAttribute && (this.colorAttribute = 2);
        this.attributes = [this.aVertexPosition, this.aTextureCoord, this.colorAttribute, this.aTextureIndex];
        for (var a in this.uniforms) this.uniforms[a].uniformLocation = d.getUniformLocation(f, a);
        this.initUniforms();
        this.program = f
    };
    b.PixiShader.prototype.init = function(d) {
        b._enableMultiTextureToggle &&
            !d ? this.initMultitexShader() : this.initDefaultShader()
    };
    b.PixiShader.prototype.initUniforms = function() {
        this.textureCount = 1;
        var b = this.gl,
            d;
        for (d in this.uniforms) {
            var a = this.uniforms[d];
            var c = a.type;
            "sampler2D" === c ? (a._init = !1, null !== a.value && this.initSampler2D(a)) : "mat2" === c || "mat3" === c || "mat4" === c ? (a.glMatrix = !0, a.glValueLength = 1, "mat2" === c ? a.glFunc = b.uniformMatrix2fv : "mat3" === c ? a.glFunc = b.uniformMatrix3fv : "mat4" === c && (a.glFunc = b.uniformMatrix4fv)) : (a.glFunc = b["uniform" + c], a.glValueLength = "2f" ===
                c || "2i" === c ? 2 : "3f" === c || "3i" === c ? 3 : "4f" === c || "4i" === c ? 4 : 1)
        }
    };
    b.PixiShader.prototype.initSampler2D = function(b) {
        if (b.value && b.value.baseTexture && b.value.baseTexture.hasLoaded) {
            var d = this.gl;
            d.activeTexture(d.TEXTURE0 + this.textureCount);
            d.bindTexture(d.TEXTURE_2D, b.value.baseTexture._glTextures[d.id]);
            if (b.textureData) {
                var a = b.textureData,
                    c = a.magFilter ? a.magFilter : d.LINEAR,
                    e = a.minFilter ? a.minFilter : d.LINEAR,
                    k = a.wrapS ? a.wrapS : d.CLAMP_TO_EDGE,
                    l = a.wrapT ? a.wrapT : d.CLAMP_TO_EDGE,
                    g = a.luminance ? d.LUMINANCE :
                    d.RGBA;
                a.repeat && (l = k = d.REPEAT);
                d.pixelStorei(d.UNPACK_FLIP_Y_WEBGL, !!a.flipY);
                a.width ? d.texImage2D(d.TEXTURE_2D, 0, g, a.width ? a.width : 512, a.height ? a.height : 2, a.border ? a.border : 0, g, d.UNSIGNED_BYTE, null) : d.texImage2D(d.TEXTURE_2D, 0, g, d.RGBA, d.UNSIGNED_BYTE, b.value.baseTexture.source);
                d.texParameteri(d.TEXTURE_2D, d.TEXTURE_MAG_FILTER, c);
                d.texParameteri(d.TEXTURE_2D, d.TEXTURE_MIN_FILTER, e);
                d.texParameteri(d.TEXTURE_2D, d.TEXTURE_WRAP_S, k);
                d.texParameteri(d.TEXTURE_2D, d.TEXTURE_WRAP_T, l)
            }
            d.uniform1i(b.uniformLocation,
                this.textureCount);
            b._init = !0;
            this.textureCount++
        }
    };
    b.PixiShader.prototype.syncUniforms = function() {
        this.textureCount = 1;
        var d = this.gl,
            f;
        for (f in this.uniforms) {
            var a = this.uniforms[f];
            1 === a.glValueLength ? !0 === a.glMatrix ? a.glFunc.call(d, a.uniformLocation, a.transpose, a.value) : a.glFunc.call(d, a.uniformLocation, a.value) : 2 === a.glValueLength ? a.glFunc.call(d, a.uniformLocation, a.value.x, a.value.y) : 3 === a.glValueLength ? a.glFunc.call(d, a.uniformLocation, a.value.x, a.value.y, a.value.z) : 4 === a.glValueLength ? a.glFunc.call(d,
                a.uniformLocation, a.value.x, a.value.y, a.value.z, a.value.w) : "sampler2D" === a.type && (a._init ? (d.activeTexture(d["TEXTURE" + this.textureCount]), a.value.baseTexture._dirty[d.id] ? b.instances[d.id].updateTexture(a.value.baseTexture) : d.bindTexture(d.TEXTURE_2D, a.value.baseTexture._glTextures[d.id]), d.uniform1i(a.uniformLocation, this.textureCount), this.textureCount++) : this.initSampler2D(a))
        }
    };
    b.PixiShader.prototype.destroy = function() {
        this.gl.deleteProgram(this.program);
        this.attributes = this.gl = this.uniforms =
            null
    };
    b.PixiShader.defaultVertexSrc = ["// PixiShader Vertex Shader", "// With multi-texture rendering", "attribute vec2 aVertexPosition;", "attribute vec2 aTextureCoord;", "attribute vec4 aColor;", "attribute float aTextureIndex;", "uniform vec2 projectionVector;", "uniform vec2 offsetVector;", "varying vec2 vTextureCoord;", "varying vec4 vColor;", "varying float vTextureIndex;", "const vec2 center = vec2(-1.0, 1.0);", "void main(void) {", "   if (aTextureIndex > 0.0) gl_Position = vec4(0.0);", "   gl_Position = vec4( ((aVertexPosition + offsetVector) / projectionVector) + center , 0.0, 1.0);",
        "   vTextureCoord = aTextureCoord;", "   vColor = vec4(aColor.rgb * aColor.a, aColor.a);", "   vTextureIndex = aTextureIndex;", "}"
    ];
    b.PixiFastShader = function(d) {
        this._UID = Phaser._UID++;
        this.gl = d;
        this.program = null;
        if (b._enableMultiTextureToggle) {
            d = this.gl;
            this.MAX_TEXTURES = d.getParameter(d.MAX_TEXTURE_IMAGE_UNITS);
            d = "\tif (vTextureIndex == 0.0) { gl_FragColor = texture2D(uSamplerArray[0], vTextureCoord) * vColor;return;}\n";
            for (var f = 1; f < this.MAX_TEXTURES; ++f) d += "\tif (vTextureIndex == " + f + ".0) { gl_FragColor = texture2D(uSamplerArray[" +
                f + "], vTextureCoord) * vColor;return;}\n";
            this.fragmentSrc = ["// PixiFastShader Fragment Shader.", "precision lowp float;", "bool isnan( float val ) {  return ( val < 0.0 || 0.0 < val || val == 0.0 ) ? false : true; }", "varying vec2 vTextureCoord;", "varying float vColor;", "varying float vTextureIndex;", "uniform sampler2D uSamplerArray[" + this.MAX_TEXTURES + "];", "const vec4 BLUE = vec4(1.0, 0.0, 1.0, 1.0);", "const vec4 RED = vec4(1.0, 0.0, 0.0, 1.0);", "void main(void) {", d, "   if(vTextureIndex >= " + this.MAX_TEXTURES +
                ".0) { gl_FragColor = BLUE;return;}", "   if(isnan(vTextureIndex)) {gl_FragColor = RED;return;}", "}"
            ]
        } else this.fragmentSrc = ["// PixiFastShader Fragment Shader.", "precision lowp float;", "varying vec2 vTextureCoord;", "varying float vColor;", "varying float vTextureIndex;", "uniform sampler2D uSampler;", "void main(void) {", "   gl_FragColor = texture2D(uSampler, vTextureCoord) * vColor;", "}"];
        this.vertexSrc = ["// PixiFastShader Vertex Shader.", "attribute vec2 aVertexPosition;", "attribute vec2 aPositionCoord;",
            "attribute vec2 aScale;", "attribute float aRotation;", "attribute vec2 aTextureCoord;", "attribute float aColor;", "attribute float aTextureIndex;", "uniform vec2 projectionVector;", "uniform vec2 offsetVector;", "uniform mat3 uMatrix;", "varying vec2 vTextureCoord;", "varying float vColor;", "varying float vTextureIndex;", "const vec2 center = vec2(-1.0, 1.0);", "void main(void) {", "   vec2 v;", "   vec2 sv = aVertexPosition * aScale;", "   v.x = (sv.x) * cos(aRotation) - (sv.y) * sin(aRotation);", "   v.y = (sv.x) * sin(aRotation) + (sv.y) * cos(aRotation);",
            "   v = ( uMatrix * vec3(v + aPositionCoord , 1.0) ).xy ;", "   gl_Position = vec4( ( v / projectionVector) + center , 0.0, 1.0);", "   vTextureCoord = aTextureCoord;", "   vTextureIndex = aTextureIndex;", "   vColor = aColor;", "}"
        ];
        this.textureCount = 0;
        this.init()
    };
    b.PixiFastShader.prototype.constructor = b.PixiFastShader;
    b.PixiFastShader.prototype.init = function() {
        var d = this.gl,
            f = b.compileProgram(d, this.vertexSrc, this.fragmentSrc);
        d.useProgram(f);
        this.uSampler = b._enableMultiTextureToggle ? d.getUniformLocation(f,
            "uSamplerArray[0]") : d.getUniformLocation(f, "uSampler");
        if (b._enableMultiTextureToggle) {
            var a = [],
                c = d.createTexture();
            d.activeTexture(d.TEXTURE0);
            d.bindTexture(d.TEXTURE_2D, c);
            d.texImage2D(d.TEXTURE_2D, 0, d.RGB, 1, 1, 0, d.RGB, d.UNSIGNED_BYTE, null);
            for (var e = 0; e < this.MAX_TEXTURES; ++e) d.activeTexture(d.TEXTURE0 + e), d.bindTexture(d.TEXTURE_2D, c), a.push(e);
            d.activeTexture(d.TEXTURE0);
            d.uniform1iv(this.uSampler, a)
        }
        this.projectionVector = d.getUniformLocation(f, "projectionVector");
        this.offsetVector = d.getUniformLocation(f,
            "offsetVector");
        this.dimensions = d.getUniformLocation(f, "dimensions");
        this.uMatrix = d.getUniformLocation(f, "uMatrix");
        this.aVertexPosition = d.getAttribLocation(f, "aVertexPosition");
        this.aPositionCoord = d.getAttribLocation(f, "aPositionCoord");
        this.aScale = d.getAttribLocation(f, "aScale");
        this.aRotation = d.getAttribLocation(f, "aRotation");
        this.aTextureCoord = d.getAttribLocation(f, "aTextureCoord");
        this.colorAttribute = d.getAttribLocation(f, "aColor");
        this.aTextureIndex = d.getAttribLocation(f, "aTextureIndex"); - 1 ===
            this.colorAttribute && (this.colorAttribute = 2);
        this.attributes = [this.aVertexPosition, this.aPositionCoord, this.aScale, this.aRotation, this.aTextureCoord, this.colorAttribute, this.aTextureIndex];
        this.program = f
    };
    b.PixiFastShader.prototype.destroy = function() {
        this.gl.deleteProgram(this.program);
        this.attributes = this.gl = this.uniforms = null
    };
    b.StripShader = function(d) {
        this._UID = Phaser._UID++;
        this.gl = d;
        this.program = null;
        if (b._enableMultiTextureToggle) {
            d = this.gl;
            this.MAX_TEXTURES = d.getParameter(d.MAX_TEXTURE_IMAGE_UNITS);
            d = "\tif (vTextureIndex == 0.0) { gl_FragColor = texture2D(uSamplerArray[0], vTextureCoord);return;}\n";
            for (var f = 1; f < this.MAX_TEXTURES; ++f) d += "\tif (vTextureIndex == " + f + ".0) { gl_FragColor = texture2D(uSamplerArray[" + f + "], vTextureCoord) ;return;}\n";
            this.fragmentSrc = ["//StripShader Fragment Shader.", "precision mediump float;", "bool isnan( float val ) {  return ( val < 0.0 || 0.0 < val || val == 0.0 ) ? false : true; }", "varying vec2 vTextureCoord;", "varying float vTextureIndex;", "uniform float alpha;",
                "uniform sampler2D uSamplerArray[" + this.MAX_TEXTURES + "];", "const vec4 BLUE = vec4(1.0, 0.0, 1.0, 1.0);", "const vec4 RED = vec4(1.0, 0.0, 0.0, 1.0);", "void main(void) {", d, "   if(vTextureIndex >= " + this.MAX_TEXTURES + ".0) { gl_FragColor = BLUE;return;}", "   if(isnan(vTextureIndex)) {gl_FragColor = RED;return;}", "}"
            ]
        } else this.fragmentSrc = ["//StripShader Fragment Shader.", "precision mediump float;", "varying vec2 vTextureCoord;", "varying float vTextureIndex;", "uniform float alpha;", "uniform sampler2D uSampler;",
            "void main(void) {", "   gl_FragColor = texture2D(uSampler, vTextureCoord);", "}"
        ];
        this.vertexSrc = ["//StripShader Vertex Shader.", "attribute vec2 aVertexPosition;", "attribute vec2 aTextureCoord;", "attribute float aTextureIndex;", "uniform mat3 translationMatrix;", "uniform vec2 projectionVector;", "uniform vec2 offsetVector;", "varying vec2 vTextureCoord;", "varying float vTextureIndex;", "void main(void) {", "   vec3 v = translationMatrix * vec3(aVertexPosition , 1.0);", "   v -= offsetVector.xyx;", "   gl_Position = vec4( v.x / projectionVector.x -1.0, v.y / -projectionVector.y + 1.0 , 0.0, 1.0);",
            "   vTextureCoord = aTextureCoord;", "   vTextureIndex = aTextureIndex;", "}"
        ];
        this.init()
    };
    b.StripShader.prototype.constructor = b.StripShader;
    b.StripShader.prototype.init = function() {
        var d = this.gl,
            f = b.compileProgram(d, this.vertexSrc, this.fragmentSrc);
        d.useProgram(f);
        this.uSampler = b._enableMultiTextureToggle ? d.getUniformLocation(f, "uSamplerArray[0]") : d.getUniformLocation(f, "uSampler");
        if (b._enableMultiTextureToggle) {
            var a = [],
                c = d.createTexture();
            d.activeTexture(d.TEXTURE0);
            d.bindTexture(d.TEXTURE_2D, c);
            d.texImage2D(d.TEXTURE_2D, 0, d.RGB, 1, 1, 0, d.RGB, d.UNSIGNED_BYTE, null);
            for (var e = 0; e < this.MAX_TEXTURES; ++e) d.activeTexture(d.TEXTURE0 + e), d.bindTexture(d.TEXTURE_2D, c), a.push(e);
            d.activeTexture(d.TEXTURE0);
            d.uniform1iv(this.uSampler, a)
        }
        this.projectionVector = d.getUniformLocation(f, "projectionVector");
        this.offsetVector = d.getUniformLocation(f, "offsetVector");
        this.colorAttribute = d.getAttribLocation(f, "aColor");
        this.aTextureIndex = d.getAttribLocation(f, "aTextureIndex");
        this.aVertexPosition = d.getAttribLocation(f,
            "aVertexPosition");
        this.aTextureCoord = d.getAttribLocation(f, "aTextureCoord");
        this.attributes = [this.aVertexPosition, this.aTextureCoord, this.aTextureIndex];
        this.translationMatrix = d.getUniformLocation(f, "translationMatrix");
        this.alpha = d.getUniformLocation(f, "alpha");
        this.program = f
    };
    b.StripShader.prototype.destroy = function() {
        this.gl.deleteProgram(this.program);
        this.attribute = this.gl = this.uniforms = null
    };
    b.PrimitiveShader = function(b) {
        this._UID = Phaser._UID++;
        this.gl = b;
        this.program = null;
        this.fragmentSrc = ["precision mediump float;", "varying vec4 vColor;", "void main(void) {", "   gl_FragColor = vColor;", "}"];
        this.vertexSrc = ["attribute vec2 aVertexPosition;", "attribute vec4 aColor;", "uniform mat3 translationMatrix;", "uniform vec2 projectionVector;", "uniform vec2 offsetVector;", "uniform float alpha;", "uniform float flipY;", "uniform vec3 tint;", "varying vec4 vColor;", "void main(void) {", "   vec3 v = translationMatrix * vec3(aVertexPosition , 1.0);", "   v -= offsetVector.xyx;", "   gl_Position = vec4( v.x / projectionVector.x -1.0, (v.y / projectionVector.y * -flipY) + flipY , 0.0, 1.0);",
            "   vColor = aColor * vec4(tint * alpha, alpha);", "}"
        ];
        this.init()
    };
    b.PrimitiveShader.prototype.constructor = b.PrimitiveShader;
    b.PrimitiveShader.prototype.init = function() {
        var d = this.gl,
            f = b.compileProgram(d, this.vertexSrc, this.fragmentSrc);
        d.useProgram(f);
        this.projectionVector = d.getUniformLocation(f, "projectionVector");
        this.offsetVector = d.getUniformLocation(f, "offsetVector");
        this.tintColor = d.getUniformLocation(f, "tint");
        this.flipY = d.getUniformLocation(f, "flipY");
        this.aVertexPosition = d.getAttribLocation(f,
            "aVertexPosition");
        this.colorAttribute = d.getAttribLocation(f, "aColor");
        this.attributes = [this.aVertexPosition, this.colorAttribute];
        this.translationMatrix = d.getUniformLocation(f, "translationMatrix");
        this.alpha = d.getUniformLocation(f, "alpha");
        this.program = f
    };
    b.PrimitiveShader.prototype.destroy = function() {
        this.gl.deleteProgram(this.program);
        this.attributes = this.gl = this.uniforms = null
    };
    b.ComplexPrimitiveShader = function(b) {
        this._UID = Phaser._UID++;
        this.gl = b;
        this.program = null;
        this.fragmentSrc = ["precision mediump float;",
            "varying vec4 vColor;", "void main(void) {", "   gl_FragColor = vColor;", "}"
        ];
        this.vertexSrc = ["attribute vec2 aVertexPosition;", "uniform mat3 translationMatrix;", "uniform vec2 projectionVector;", "uniform vec2 offsetVector;", "uniform vec3 tint;", "uniform float alpha;", "uniform vec3 color;", "uniform float flipY;", "varying vec4 vColor;", "void main(void) {", "   vec3 v = translationMatrix * vec3(aVertexPosition , 1.0);", "   v -= offsetVector.xyx;", "   gl_Position = vec4( v.x / projectionVector.x -1.0, (v.y / projectionVector.y * -flipY) + flipY , 0.0, 1.0);",
            "   vColor = vec4(color * alpha * tint, alpha);", "}"
        ];
        this.init()
    };
    b.ComplexPrimitiveShader.prototype.constructor = b.ComplexPrimitiveShader;
    b.ComplexPrimitiveShader.prototype.init = function() {
        var d = this.gl,
            f = b.compileProgram(d, this.vertexSrc, this.fragmentSrc);
        d.useProgram(f);
        this.projectionVector = d.getUniformLocation(f, "projectionVector");
        this.offsetVector = d.getUniformLocation(f, "offsetVector");
        this.tintColor = d.getUniformLocation(f, "tint");
        this.color = d.getUniformLocation(f, "color");
        this.flipY = d.getUniformLocation(f,
            "flipY");
        this.aVertexPosition = d.getAttribLocation(f, "aVertexPosition");
        this.attributes = [this.aVertexPosition, this.colorAttribute];
        this.translationMatrix = d.getUniformLocation(f, "translationMatrix");
        this.alpha = d.getUniformLocation(f, "alpha");
        this.program = f
    };
    b.ComplexPrimitiveShader.prototype.destroy = function() {
        this.gl.deleteProgram(this.program);
        this.attribute = this.gl = this.uniforms = null
    };
    b.glContexts = [];
    b.instances = [];
    b._enableMultiTextureToggle = !1;
    b.WebGLRenderer = function(d, f) {
        this.game = d;
        b.defaultRenderer ||
            (b.defaultRenderer = this);
        this.extensions = {};
        this.type = Phaser.WEBGL;
        this.resolution = d.resolution;
        this.transparent = d.transparent;
        this.autoResize = !1;
        this.preserveDrawingBuffer = d.preserveDrawingBuffer;
        this.clearBeforeRender = d.clearBeforeRender;
        this.width = d.width;
        this.height = d.height;
        this.view = d.canvas;
        this._contextOptions = {
            alpha: this.transparent,
            antialias: d.antialias,
            failIfMajorPerformanceCaveat: f.failIfMajorPerformanceCaveat,
            premultipliedAlpha: this.transparent && "notMultiplied" !== this.transparent,
            stencil: !0,
            preserveDrawingBuffer: this.preserveDrawingBuffer
        };
        this.projection = new b.Point;
        this.offset = new b.Point;
        this.shaderManager = new b.WebGLShaderManager;
        this.spriteBatch = new b.WebGLSpriteBatch(d);
        this.maskManager = new b.WebGLMaskManager;
        this.filterManager = new b.WebGLFilterManager;
        this.stencilManager = new b.WebGLStencilManager;
        this.blendModeManager = new b.WebGLBlendModeManager;
        this.renderSession = {};
        this.currentBatchedTextures = [];
        this.renderSession.game = this.game;
        this.renderSession.gl = this.gl;
        this.renderSession.drawCount =
            0;
        this.renderSession.shaderManager = this.shaderManager;
        this.renderSession.maskManager = this.maskManager;
        this.renderSession.filterManager = this.filterManager;
        this.renderSession.blendModeManager = this.blendModeManager;
        this.renderSession.spriteBatch = this.spriteBatch;
        this.renderSession.stencilManager = this.stencilManager;
        this.renderSession.renderer = this;
        this.renderSession.resolution = this.resolution;
        this.renderSession.roundPixels = f.roundPixels || !1;
        this.renderSession.maxTextureAvailableSpace = null;
        this.initContext();
        this.mapBlendModes()
    };
    b.WebGLRenderer.prototype.constructor = b.WebGLRenderer;
    b.WebGLRenderer.prototype.initContext = function() {
        var d = this.view.getContext("webgl", this._contextOptions) || this.view.getContext("experimental-webgl", this._contextOptions);
        this.gl = d;
        if (!d) throw Error("This browser does not support webGL. Try using the canvas renderer");
        this.maxTextures = d.getParameter(d.MAX_TEXTURE_IMAGE_UNITS);
        this.maxTextureSize = this.gl.getParameter(d.MAX_TEXTURE_SIZE);
        this.glContextId = d.id = b.WebGLRenderer.glContextId++;
        b.glContexts[this.glContextId] = d;
        b.instances[this.glContextId] = this;
        d.disable(d.DEPTH_TEST);
        d.disable(d.CULL_FACE);
        d.enable(d.BLEND);
        this.shaderManager.setContext(d);
        this.spriteBatch.setContext(d);
        this.maskManager.setContext(d);
        this.filterManager.setContext(d);
        this.blendModeManager.setContext(d);
        this.stencilManager.setContext(d);
        this.renderSession.gl = this.gl;
        this.resize(this.width, this.height);
        this.extensions.compression = {};
        var f = d.getExtension("WEBGL_compressed_texture_etc1") || d.getExtension("WEBKIT_WEBGL_compressed_texture_etc1"),
            a = d.getExtension("WEBGL_compressed_texture_pvrtc") || d.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");
        d = d.getExtension("WEBGL_compressed_texture_s3tc") || d.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");
        f && (this.extensions.compression.ETC1 = f);
        a && (this.extensions.compression.PVRTC = a);
        d && (this.extensions.compression.S3TC = d)
    };
    b.WebGLRenderer.prototype.setTexturePriority = function(d) {
        if (b._enableMultiTextureToggle) {
            var f = function(a) {
                    --a;
                    a |= a >> 1;
                    a |= a >> 2;
                    a |= a >> 4;
                    a |= a >> 8;
                    a |= a >> 16;
                    return ++a
                },
                a =
                this.gl,
                c = a.getParameter(a.MAX_TEXTURE_IMAGE_UNITS),
                e = a.getParameter(a.MAX_TEXTURE_SIZE);
            a = this.game.cache._cache.image;
            for (var k = null, l = 0; l < this.currentBatchedTextures.length; l++) k = this.currentBatchedTextures[l], k in a ? a[k].base.textureIndex = 0 : console.warn('setTexturePriority: There is no image "%s" in the image cache.', k);
            e -= f(Math.max(this.width, this.height));
            for (l = this.currentBatchedTextures.length = 0; l < d.length; ++l)
                if (k = d[l], k in a) {
                    var g = a[k].base;
                    e -= f(Math.max(g.width, g.height));
                    0 >= e ? (g.textureIndex =
                        0, console.warn('setTexturePriority: Image "%s" was given textureIndex=0 because there is no available texture space (%s).', k, e)) : g.textureIndex = 1 + l % (c - 1);
                    this.currentBatchedTextures.push(k)
                } else console.warn('setTexturePriority: There is no image "%s" in the image cache.', k);
            this.renderSession.maxTextureAvailableSpace = e;
            return this.currentBatchedTextures
        }
        console.warn("setTexturePriority error: Multi Texture support hasn't been enabled in the Phaser Game Config.")
    };
    b.WebGLRenderer.prototype.render =
        function(b) {
            if (!this.contextLost) {
                var d = this.gl;
                d.viewport(0, 0, this.width, this.height);
                d.bindFramebuffer(d.FRAMEBUFFER, null);
                this.game.clearBeforeRender && (d.clearColor(b._bgColor.r, b._bgColor.g, b._bgColor.b, b._bgColor.a), d.clear(d.COLOR_BUFFER_BIT));
                this.offset.x = this.game.camera._shake.x;
                this.offset.y = this.game.camera._shake.y;
                this.renderDisplayObject(b, this.projection)
            }
        };
    b.WebGLRenderer.prototype.renderDisplayObject = function(d, f, a, c) {
        this.renderSession.blendModeManager.setBlendMode(b.blendModes.NORMAL);
        this.renderSession.drawCount = 0;
        this.renderSession.flipY = a ? -1 : 1;
        this.renderSession.projection = f;
        this.renderSession.offset = this.offset;
        this.spriteBatch.begin(this.renderSession);
        this.filterManager.begin(this.renderSession, a);
        d._renderWebGL(this.renderSession, c);
        this.spriteBatch.end()
    };
    b.WebGLRenderer.prototype.resize = function(b, d) {
        this.width = b * this.resolution;
        this.height = d * this.resolution;
        this.view.width = this.width;
        this.view.height = this.height;
        this.autoResize && (this.view.style.width = this.width / this.resolution +
            "px", this.view.style.height = this.height / this.resolution + "px");
        this.gl.viewport(0, 0, this.width, this.height);
        this.projection.x = this.width / 2 / this.resolution;
        this.projection.y = -this.height / 2 / this.resolution
    };
    b.WebGLRenderer.prototype.updateCompressedTexture = function(d) {
        if (!d.hasLoaded) return !1;
        var f = this.gl,
            a = d.source;
        d._glTextures[f.id] || (d._glTextures[f.id] = f.createTexture());
        f.activeTexture(f.TEXTURE0 + d.textureIndex);
        f.bindTexture(f.TEXTURE_2D, d._glTextures[f.id]);
        f.compressedTexImage2D(f.TEXTURE_2D,
            0, a.glExtensionFormat, a.width, a.height, 0, a.textureData);
        f.texParameteri(f.TEXTURE_2D, f.TEXTURE_MAG_FILTER, d.scaleMode === b.scaleModes.LINEAR ? f.LINEAR : f.NEAREST);
        d.mipmap && Phaser.Math.isPowerOfTwo(d.width, d.height) ? (f.texParameteri(f.TEXTURE_2D, f.TEXTURE_MIN_FILTER, d.scaleMode === b.scaleModes.LINEAR ? f.LINEAR_MIPMAP_LINEAR : f.NEAREST_MIPMAP_NEAREST), f.generateMipmap(f.TEXTURE_2D)) : f.texParameteri(f.TEXTURE_2D, f.TEXTURE_MIN_FILTER, d.scaleMode === b.scaleModes.LINEAR ? f.LINEAR : f.NEAREST);
        d._powerOf2 ? (f.texParameteri(f.TEXTURE_2D,
            f.TEXTURE_WRAP_S, f.REPEAT), f.texParameteri(f.TEXTURE_2D, f.TEXTURE_WRAP_T, f.REPEAT)) : (f.texParameteri(f.TEXTURE_2D, f.TEXTURE_WRAP_S, f.CLAMP_TO_EDGE), f.texParameteri(f.TEXTURE_2D, f.TEXTURE_WRAP_T, f.CLAMP_TO_EDGE));
        d._dirty[f.id] = !1;
        return !0
    };
    b.WebGLRenderer.prototype.updateTexture = function(d) {
        if (!d.hasLoaded) return !1;
        if (d.source.compressionAlgorithm) return this.updateCompressedTexture(d);
        var f = this.gl;
        d._glTextures[f.id] || (d._glTextures[f.id] = f.createTexture());
        f.activeTexture(f.TEXTURE0 + d.textureIndex);
        f.bindTexture(f.TEXTURE_2D, d._glTextures[f.id]);
        f.pixelStorei(f.UNPACK_PREMULTIPLY_ALPHA_WEBGL, d.premultipliedAlpha);
        f.texImage2D(f.TEXTURE_2D, 0, f.RGBA, f.RGBA, f.UNSIGNED_BYTE, d.source);
        f.texParameteri(f.TEXTURE_2D, f.TEXTURE_MAG_FILTER, d.scaleMode === b.scaleModes.LINEAR ? f.LINEAR : f.NEAREST);
        d.mipmap && Phaser.Math.isPowerOfTwo(d.width, d.height) ? (f.texParameteri(f.TEXTURE_2D, f.TEXTURE_MIN_FILTER, d.scaleMode === b.scaleModes.LINEAR ? f.LINEAR_MIPMAP_LINEAR : f.NEAREST_MIPMAP_NEAREST), f.generateMipmap(f.TEXTURE_2D)) :
            f.texParameteri(f.TEXTURE_2D, f.TEXTURE_MIN_FILTER, d.scaleMode === b.scaleModes.LINEAR ? f.LINEAR : f.NEAREST);
        d._powerOf2 ? (f.texParameteri(f.TEXTURE_2D, f.TEXTURE_WRAP_S, f.REPEAT), f.texParameteri(f.TEXTURE_2D, f.TEXTURE_WRAP_T, f.REPEAT)) : (f.texParameteri(f.TEXTURE_2D, f.TEXTURE_WRAP_S, f.CLAMP_TO_EDGE), f.texParameteri(f.TEXTURE_2D, f.TEXTURE_WRAP_T, f.CLAMP_TO_EDGE));
        d._dirty[f.id] = !1;
        return !0
    };
    b.WebGLRenderer.prototype.destroy = function() {
        this.offset = this.projection = b.glContexts[this.glContextId] = null;
        this.shaderManager.destroy();
        this.spriteBatch.destroy();
        this.maskManager.destroy();
        this.filterManager.destroy();
        this.renderSession = this.gl = this.filterManager = this.maskManager = this.spriteBatch = this.shaderManager = null;
        Phaser.CanvasPool.remove(this);
        b.instances[this.glContextId] = null;
        b.WebGLRenderer.glContextId--
    };
    b.WebGLRenderer.prototype.mapBlendModes = function() {
        var d = this.gl;
        if (!b.blendModesWebGL) {
            var f = [],
                a = b.blendModes;
            f[a.NORMAL] = [d.ONE, d.ONE_MINUS_SRC_ALPHA];
            f[a.ADD] = [d.SRC_ALPHA, d.DST_ALPHA];
            f[a.MULTIPLY] = [d.DST_COLOR, d.ONE_MINUS_SRC_ALPHA];
            f[a.SCREEN] = [d.SRC_ALPHA, d.ONE];
            f[a.OVERLAY] = [d.ONE, d.ONE_MINUS_SRC_ALPHA];
            f[a.DARKEN] = [d.ONE, d.ONE_MINUS_SRC_ALPHA];
            f[a.LIGHTEN] = [d.ONE, d.ONE_MINUS_SRC_ALPHA];
            f[a.COLOR_DODGE] = [d.ONE, d.ONE_MINUS_SRC_ALPHA];
            f[a.COLOR_BURN] = [d.ONE, d.ONE_MINUS_SRC_ALPHA];
            f[a.HARD_LIGHT] = [d.ONE, d.ONE_MINUS_SRC_ALPHA];
            f[a.SOFT_LIGHT] = [d.ONE, d.ONE_MINUS_SRC_ALPHA];
            f[a.DIFFERENCE] = [d.ONE, d.ONE_MINUS_SRC_ALPHA];
            f[a.EXCLUSION] = [d.ONE, d.ONE_MINUS_SRC_ALPHA];
            f[a.HUE] = [d.ONE, d.ONE_MINUS_SRC_ALPHA];
            f[a.SATURATION] = [d.ONE, d.ONE_MINUS_SRC_ALPHA];
            f[a.COLOR] = [d.ONE, d.ONE_MINUS_SRC_ALPHA];
            f[a.LUMINOSITY] = [d.ONE, d.ONE_MINUS_SRC_ALPHA];
            b.blendModesWebGL = f
        }
    };
    b.WebGLRenderer.prototype.getMaxTextureUnit = function() {
        var b = this.gl;
        return b.getParameter(b.MAX_TEXTURE_IMAGE_UNITS)
    };
    b.enableMultiTexture = function() {
        b._enableMultiTextureToggle = !0
    };
    b.WebGLRenderer.glContextId = 0;
    b.WebGLRenderer.textureArray = [];
    b.WebGLBlendModeManager = function() {
        this.currentBlendMode = 99999
    };
    b.WebGLBlendModeManager.prototype.constructor = b.WebGLBlendModeManager;
    b.WebGLBlendModeManager.prototype.setContext =
        function(b) {
            this.gl = b
        };
    b.WebGLBlendModeManager.prototype.setBlendMode = function(d) {
        if (this.currentBlendMode === d) return !1;
        this.currentBlendMode = d;
        (d = b.blendModesWebGL[this.currentBlendMode]) && this.gl.blendFunc(d[0], d[1]);
        return !0
    };
    b.WebGLBlendModeManager.prototype.destroy = function() {
        this.gl = null
    };
    b.WebGLMaskManager = function() {};
    b.WebGLMaskManager.prototype.constructor = b.WebGLMaskManager;
    b.WebGLMaskManager.prototype.setContext = function(b) {
        this.gl = b
    };
    b.WebGLMaskManager.prototype.pushMask = function(d, f) {
        var a =
            f.gl;
        d.dirty && b.WebGLGraphics.updateGraphics(d, a);
        void 0 !== d._webGL[a.id] && void 0 !== d._webGL[a.id].data && 0 !== d._webGL[a.id].data.length && f.stencilManager.pushStencil(d, d._webGL[a.id].data[0], f)
    };
    b.WebGLMaskManager.prototype.popMask = function(b, d) {
        var a = this.gl;
        void 0 !== b._webGL[a.id] && void 0 !== b._webGL[a.id].data && 0 !== b._webGL[a.id].data.length && d.stencilManager.popStencil(b, b._webGL[a.id].data[0], d)
    };
    b.WebGLMaskManager.prototype.destroy = function() {
        this.gl = null
    };
    b.WebGLStencilManager = function() {
        this.stencilStack = [];
        this.reverse = !0;
        this.count = 0
    };
    b.WebGLStencilManager.prototype.setContext = function(b) {
        this.gl = b
    };
    b.WebGLStencilManager.prototype.pushStencil = function(b, d, a) {
        var c = this.gl;
        this.bindGraphics(b, d, a);
        0 === this.stencilStack.length && (c.enable(c.STENCIL_TEST), c.clear(c.STENCIL_BUFFER_BIT), this.reverse = !0, this.count = 0);
        this.stencilStack.push(d);
        b = this.count;
        c.colorMask(!1, !1, !1, !1);
        c.stencilFunc(c.ALWAYS, 0, 255);
        c.stencilOp(c.KEEP, c.KEEP, c.INVERT);
        1 === d.mode ? (c.drawElements(c.TRIANGLE_FAN, d.indices.length -
            4, c.UNSIGNED_SHORT, 0), this.reverse ? (c.stencilFunc(c.EQUAL, 255 - b, 255), c.stencilOp(c.KEEP, c.KEEP, c.DECR)) : (c.stencilFunc(c.EQUAL, b, 255), c.stencilOp(c.KEEP, c.KEEP, c.INCR)), c.drawElements(c.TRIANGLE_FAN, 4, c.UNSIGNED_SHORT, 2 * (d.indices.length - 4)), this.reverse ? c.stencilFunc(c.EQUAL, 255 - (b + 1), 255) : c.stencilFunc(c.EQUAL, b + 1, 255), this.reverse = !this.reverse) : (this.reverse ? (c.stencilFunc(c.EQUAL, b, 255), c.stencilOp(c.KEEP, c.KEEP, c.INCR)) : (c.stencilFunc(c.EQUAL, 255 - b, 255), c.stencilOp(c.KEEP, c.KEEP, c.DECR)), c.drawElements(c.TRIANGLE_STRIP,
            d.indices.length, c.UNSIGNED_SHORT, 0), this.reverse ? c.stencilFunc(c.EQUAL, b + 1, 255) : c.stencilFunc(c.EQUAL, 255 - (b + 1), 255));
        c.colorMask(!0, !0, !0, !0);
        c.stencilOp(c.KEEP, c.KEEP, c.KEEP);
        this.count++
    };
    b.WebGLStencilManager.prototype.bindGraphics = function(b, d, a) {
        this._currentGraphics = b;
        var c = this.gl,
            e = a.projection,
            k = a.offset;
        if (1 === d.mode) {
            var l = a.shaderManager.complexPrimitiveShader;
            a.shaderManager.setShader(l);
            c.uniform1f(l.flipY, a.flipY);
            c.uniformMatrix3fv(l.translationMatrix, !1, b.worldTransform.toArray(!0));
            c.uniform2f(l.projectionVector, e.x, -e.y);
            c.uniform2f(l.offsetVector, -k.x, -k.y);
            c.uniform3fv(l.tintColor, Phaser.Color.hexToRGBArray(b.tint));
            c.uniform3fv(l.color, d.color);
            c.uniform1f(l.alpha, b.worldAlpha * d.alpha);
            c.bindBuffer(c.ARRAY_BUFFER, d.buffer);
            c.vertexAttribPointer(l.aVertexPosition, 2, c.FLOAT, !1, 8, 0)
        } else l = a.shaderManager.primitiveShader, a.shaderManager.setShader(l), c.uniformMatrix3fv(l.translationMatrix, !1, b.worldTransform.toArray(!0)), c.uniform1f(l.flipY, a.flipY), c.uniform2f(l.projectionVector,
            e.x, -e.y), c.uniform2f(l.offsetVector, -k.x, -k.y), c.uniform3fv(l.tintColor, Phaser.Color.hexToRGBArray(b.tint)), c.uniform1f(l.alpha, b.worldAlpha), c.bindBuffer(c.ARRAY_BUFFER, d.buffer), c.vertexAttribPointer(l.aVertexPosition, 2, c.FLOAT, !1, 24, 0), c.vertexAttribPointer(l.colorAttribute, 4, c.FLOAT, !1, 24, 8);
        c.bindBuffer(c.ELEMENT_ARRAY_BUFFER, d.indexBuffer)
    };
    b.WebGLStencilManager.prototype.popStencil = function(b, d, a) {
        var c = this.gl;
        this.stencilStack.pop();
        this.count--;
        if (0 === this.stencilStack.length) c.disable(c.STENCIL_TEST);
        else {
            var e = this.count;
            this.bindGraphics(b, d, a);
            c.colorMask(!1, !1, !1, !1);
            1 === d.mode ? ((this.reverse = !this.reverse) ? (c.stencilFunc(c.EQUAL, 255 - (e + 1), 255), c.stencilOp(c.KEEP, c.KEEP, c.INCR)) : (c.stencilFunc(c.EQUAL, e + 1, 255), c.stencilOp(c.KEEP, c.KEEP, c.DECR)), c.drawElements(c.TRIANGLE_FAN, 4, c.UNSIGNED_SHORT, 2 * (d.indices.length - 4)), c.stencilFunc(c.ALWAYS, 0, 255), c.stencilOp(c.KEEP, c.KEEP, c.INVERT), c.drawElements(c.TRIANGLE_FAN, d.indices.length - 4, c.UNSIGNED_SHORT, 0)) : (this.reverse ? (c.stencilFunc(c.EQUAL, e +
                1, 255), c.stencilOp(c.KEEP, c.KEEP, c.DECR)) : (c.stencilFunc(c.EQUAL, 255 - (e + 1), 255), c.stencilOp(c.KEEP, c.KEEP, c.INCR)), c.drawElements(c.TRIANGLE_STRIP, d.indices.length, c.UNSIGNED_SHORT, 0));
            this.reverse ? c.stencilFunc(c.EQUAL, e, 255) : c.stencilFunc(c.EQUAL, 255 - e, 255);
            c.colorMask(!0, !0, !0, !0);
            c.stencilOp(c.KEEP, c.KEEP, c.KEEP)
        }
    };
    b.WebGLStencilManager.prototype.destroy = function() {
        this.gl = this.stencilStack = null
    };
    b.WebGLShaderManager = function() {
        this.maxAttibs = 10;
        this.attribState = [];
        this.tempAttribState = [];
        for (var b =
                0; b < this.maxAttibs; b++) this.attribState[b] = !1;
        this.stack = []
    };
    b.WebGLShaderManager.prototype.constructor = b.WebGLShaderManager;
    b.WebGLShaderManager.prototype.setContext = function(d) {
        this.gl = d;
        this.primitiveShader = new b.PrimitiveShader(d);
        this.complexPrimitiveShader = new b.ComplexPrimitiveShader(d);
        this.defaultShader = new b.PixiShader(d);
        this.fastShader = new b.PixiFastShader(d);
        this.stripShader = new b.StripShader(d);
        this.creatureShader = b.CreatureShader ? new b.CreatureShader(d) : null;
        this.setShader(this.defaultShader)
    };
    b.WebGLShaderManager.prototype.setAttribs = function(b) {
        var d;
        for (d = 0; d < this.tempAttribState.length; d++) this.tempAttribState[d] = !1;
        for (d = 0; d < b.length; d++) this.tempAttribState[b[d]] = !0;
        b = this.gl;
        for (d = 0; d < this.attribState.length; d++) this.attribState[d] !== this.tempAttribState[d] && (this.attribState[d] = this.tempAttribState[d], this.tempAttribState[d] ? b.enableVertexAttribArray(d) : b.disableVertexAttribArray(d))
    };
    b.WebGLShaderManager.prototype.setShader = function(b) {
        if (this._currentId === b._UID) return !1;
        this._currentId =
            b._UID;
        this.currentShader = b;
        this.gl.useProgram(b.program);
        this.setAttribs(b.attributes);
        return !0
    };
    b.WebGLShaderManager.prototype.destroy = function() {
        this.tempAttribState = this.attribState = null;
        this.primitiveShader.destroy();
        this.complexPrimitiveShader.destroy();
        this.defaultShader.destroy();
        this.fastShader.destroy();
        this.stripShader.destroy();
        this.creatureShader && this.creatureShader.destroy();
        this.gl = null
    };
    b.WebGLSpriteBatch = function(b) {
        this.game = b;
        this.vertSize = 5;
        this.size = 2E3;
        this.vertexSize = 24;
        b =
            6 * this.size;
        this.vertices = new ArrayBuffer(this.vertexSize * this.size * 4);
        this.positions = new Float32Array(this.vertices);
        this.colors = new Uint32Array(this.vertices);
        this.indices = new Uint16Array(b);
        for (var d = this.lastIndexCount = 0, a = 0; d < b; d += 6, a += 4) this.indices[d + 0] = a + 0, this.indices[d + 1] = a + 1, this.indices[d + 2] = a + 2, this.indices[d + 3] = a + 0, this.indices[d + 4] = a + 2, this.indices[d + 5] = a + 3;
        this.drawing = !1;
        this.currentBatchSize = 0;
        this.currentBaseTexture = null;
        this.dirty = !0;
        this.textures = [];
        this.blendModes = [];
        this.shaders = [];
        this.sprites = [];
        this.defaultShader = null
    };
    b.WebGLSpriteBatch.prototype.setContext = function(d) {
        this.MAX_TEXTURES = d.getParameter(d.MAX_TEXTURE_IMAGE_UNITS);
        this.gl = d;
        if (b._enableMultiTextureToggle) {
            for (var f = "\tif (vTextureIndex == 0.0) {gl_FragColor = texture2D(uSamplerArray[0], vTextureCoord) * vColor;return;}\n", a = 1; a < this.MAX_TEXTURES; ++a) f += "\tif (vTextureIndex == " + a + ".0) {gl_FragColor = texture2D(uSamplerArray[" + a + "], vTextureCoord) * vColor;return;}\n";
            this.defaultShader = new Phaser.Filter(this.game,
                void 0, ["//WebGLSpriteBatch Fragment Shader.", "precision lowp float;", "varying vec2 vTextureCoord;", "varying vec4 vColor;", "varying float vTextureIndex;", "uniform sampler2D uSamplerArray[" + this.MAX_TEXTURES + "];", "void main(void) {", f, "\tgl_FragColor = texture2D(uSamplerArray[0], vTextureCoord) * vColor;", "}"])
        } else this.defaultShader = new Phaser.Filter(this.game, void 0, ["//WebGLSpriteBatch Fragment Shader.", "precision lowp float;", "varying vec2 vTextureCoord;", "varying vec4 vColor;", "varying float vTextureIndex;",
            "uniform sampler2D uSampler;", "void main(void) {", "   gl_FragColor = texture2D(uSampler, vTextureCoord) * vColor;", "}"
        ]);
        this.vertexBuffer = d.createBuffer();
        this.indexBuffer = d.createBuffer();
        d.bindBuffer(d.ELEMENT_ARRAY_BUFFER, this.indexBuffer);
        d.bufferData(d.ELEMENT_ARRAY_BUFFER, this.indices, d.STATIC_DRAW);
        d.bindBuffer(d.ARRAY_BUFFER, this.vertexBuffer);
        d.bufferData(d.ARRAY_BUFFER, this.vertices, d.DYNAMIC_DRAW);
        this.currentBlendMode = 99999;
        f = new b.PixiShader(d);
        f.fragmentSrc = this.defaultShader.fragmentSrc;
        f.uniforms = {};
        f.init();
        this.defaultShader.shaders[d.id] = f
    };
    b.WebGLSpriteBatch.prototype.begin = function(b) {
        this.renderSession = b;
        this.shader = this.renderSession.shaderManager.defaultShader;
        this.start()
    };
    b.WebGLSpriteBatch.prototype.end = function() {
        this.flush()
    };
    b.WebGLSpriteBatch.prototype.render = function(d, f) {
        var a = d.texture,
            c = a.baseTexture,
            e = this.gl;
        b.WebGLRenderer.textureArray[c.textureIndex] != c && (this.flush(), e.activeTexture(e.TEXTURE0 + c.textureIndex), e.bindTexture(e.TEXTURE_2D, c._glTextures[e.id]),
            b.WebGLRenderer.textureArray[c.textureIndex] = c);
        var k = d.worldTransform;
        f && (k = f);
        this.currentBatchSize >= this.size && (this.flush(), this.currentBaseTexture = a.baseTexture);
        if (f = a._uvs) {
            e = d.anchor.x;
            var l = d.anchor.y;
            if (a.trim) {
                var g = a.trim;
                e = g.x - e * g.width;
                c = e + a.crop.width;
                l = g.y - l * g.height;
                g = l + a.crop.height
            } else c = a.frame.width * (1 - e), e = a.frame.width * -e, g = a.frame.height * (1 - l), l = a.frame.height * -l;
            var h = this.currentBatchSize * this.vertexSize,
                n = a.baseTexture.resolution,
                p = a.baseTexture.textureIndex,
                r = k.a / n,
                u =
                k.b / n,
                t = k.c / n,
                v = k.d / n;
            n = k.tx;
            var w = k.ty,
                x = a.crop.height;
            if (a.rotated) {
                t = k.a;
                v = k.b;
                var y = k.c,
                    z = k.d,
                    B = e,
                    A = c;
                n = k.c * x + n;
                w = k.d * x + w;
                r = 6.123233995736766E-17 * t + -y;
                u = 6.123233995736766E-17 * v + -z;
                t += 6.123233995736766E-17 * y;
                v += 6.123233995736766E-17 * z;
                a._updateUvsInverted();
                c = g;
                e = l;
                g = A;
                l = B
            }
            a = this.colors;
            k = this.positions;
            x = d.tint;
            x = (x >> 16) + (x & 65280) + ((x & 255) << 16) + (255 * d.worldAlpha << 24);
            this.renderSession.roundPixels ? (k[h++] = r * e + t * l + n | 0, k[h++] = v * l + u * e + w | 0, k[h++] = f.x0, k[h++] = f.y0, a[h++] = x, k[h++] = p, k[h++] = r * c + t * l +
                n | 0, k[h++] = v * l + u * c + w | 0, k[h++] = f.x1, k[h++] = f.y1, a[h++] = x, k[h++] = p, k[h++] = r * c + t * g + n | 0, k[h++] = v * g + u * c + w | 0, k[h++] = f.x2, k[h++] = f.y2, a[h++] = x, k[h++] = p, k[h++] = r * e + t * g + n | 0, k[h++] = v * g + u * e + w | 0) : (k[h++] = r * e + t * l + n, k[h++] = v * l + u * e + w, k[h++] = f.x0, k[h++] = f.y0, a[h++] = x, k[h++] = p, k[h++] = r * c + t * l + n, k[h++] = v * l + u * c + w, k[h++] = f.x1, k[h++] = f.y1, a[h++] = x, k[h++] = p, k[h++] = r * c + t * g + n, k[h++] = v * g + u * c + w, k[h++] = f.x2, k[h++] = f.y2, a[h++] = x, k[h++] = p, k[h++] = r * e + t * g + n, k[h++] = v * g + u * e + w);
            k[h++] = f.x3;
            k[h++] = f.y3;
            a[h++] = x;
            k[h++] = p;
            this.sprites[this.currentBatchSize++] =
                d
        }
    };
    b.WebGLSpriteBatch.prototype.renderTilingSprite = function(d) {
        var f = d.tilingTexture,
            a = f.baseTexture,
            c = this.gl,
            e = d.texture.baseTexture.textureIndex;
        b.WebGLRenderer.textureArray[e] != a && (this.flush(), c.activeTexture(c.TEXTURE0 + e), c.bindTexture(c.TEXTURE_2D, a._glTextures[c.id]), b.WebGLRenderer.textureArray[e] = a);
        this.currentBatchSize >= this.size && (this.flush(), this.currentBaseTexture = f.baseTexture);
        d._uvs || (d._uvs = new b.TextureUvs);
        a = d._uvs;
        var k = f.baseTexture.width,
            l = f.baseTexture.height;
        d.tilePosition.x %=
            k * d.tileScaleOffset.x;
        d.tilePosition.y %= l * d.tileScaleOffset.y;
        c = d.tilePosition.x / (k * d.tileScaleOffset.x);
        var g = d.tilePosition.y / (l * d.tileScaleOffset.y);
        k = d.width / k / (d.tileScale.x * d.tileScaleOffset.x);
        l = d.height / l / (d.tileScale.y * d.tileScaleOffset.y);
        a.x0 = 0 - c;
        a.y0 = 0 - g;
        a.x1 = 1 * k - c;
        a.y1 = 0 - g;
        a.x2 = 1 * k - c;
        a.y2 = 1 * l - g;
        a.x3 = 0 - c;
        a.y3 = 1 * l - g;
        c = d.tint;
        c = (c >> 16) + (c & 65280) + ((c & 255) << 16) + (255 * d.worldAlpha << 24);
        g = this.positions;
        l = this.colors;
        var h = d.width,
            n = d.height,
            p = d.anchor.x,
            r = d.anchor.y;
        k = h * (1 - p);
        h *= -p;
        p = n * (1 - r);
        n *= -r;
        r = this.currentBatchSize * this.vertexSize;
        var u = f.baseTexture.resolution,
            t = d.worldTransform;
        f = t.a / u;
        var v = t.b / u,
            w = t.c / u;
        u = t.d / u;
        var x = t.tx;
        t = t.ty;
        g[r++] = f * h + w * n + x;
        g[r++] = u * n + v * h + t;
        g[r++] = a.x0;
        g[r++] = a.y0;
        l[r++] = c;
        g[r++] = e;
        g[r++] = f * k + w * n + x;
        g[r++] = u * n + v * k + t;
        g[r++] = a.x1;
        g[r++] = a.y1;
        l[r++] = c;
        g[r++] = e;
        g[r++] = f * k + w * p + x;
        g[r++] = u * p + v * k + t;
        g[r++] = a.x2;
        g[r++] = a.y2;
        l[r++] = c;
        g[r++] = e;
        g[r++] = f * h + w * p + x;
        g[r++] = u * p + v * h + t;
        g[r++] = a.x3;
        g[r++] = a.y3;
        l[r++] = c;
        g[r++] = e;
        this.sprites[this.currentBatchSize++] = d
    };
    b.WebGLSpriteBatch.prototype.flush =
        function() {
            if (0 !== this.currentBatchSize) {
                var d = this.gl;
                if (this.dirty) {
                    this.dirty = !1;
                    var f = this.defaultShader.shaders[d.id];
                    d.activeTexture(d.TEXTURE0);
                    d.bindBuffer(d.ARRAY_BUFFER, this.vertexBuffer);
                    d.bindBuffer(d.ELEMENT_ARRAY_BUFFER, this.indexBuffer);
                    var a = this.vertexSize;
                    d.vertexAttribPointer(f.aVertexPosition, 2, d.FLOAT, !1, a, 0);
                    d.vertexAttribPointer(f.aTextureCoord, 2, d.FLOAT, !1, a, 8);
                    d.vertexAttribPointer(f.colorAttribute, 4, d.UNSIGNED_BYTE, !0, a, 16);
                    d.vertexAttribPointer(f.aTextureIndex, 1, d.FLOAT,
                        !1, a, 20)
                }
                this.currentBatchSize > .5 * this.size ? d.bufferSubData(d.ARRAY_BUFFER, 0, this.vertices) : (d.bindBuffer(d.ARRAY_BUFFER, this.vertexBuffer), a = this.positions.subarray(0, this.currentBatchSize * this.vertexSize), d.bufferSubData(d.ARRAY_BUFFER, 0, a));
                for (var c, e, k = a = 0, l = null, m = this.renderSession.blendModeManager.currentBlendMode, h = null, n, p, r = 0, u = this.currentBatchSize; r < u; r++) {
                    e = this.sprites[r];
                    f = e.tilingTexture ? e.tilingTexture.baseTexture : e.texture.baseTexture;
                    c = e.blendMode;
                    e = e.shader || this.defaultShader;
                    n = m !== c;
                    p = h !== e;
                    if (n || p) this.renderBatch(l, a, k), k = r, a = 0, l = f, n && (m = c, this.renderSession.blendModeManager.setBlendMode(m)), p && (h = e, f = h.shaders[d.id], f || (f = new b.PixiShader(d), f.fragmentSrc = h.fragmentSrc, f.uniforms = h.uniforms, f.init(), h.shaders[d.id] = f), this.renderSession.shaderManager.setShader(f), f.dirty && f.syncUniforms(), c = this.renderSession.projection, d.uniform2f(f.projectionVector, c.x, c.y), c = this.renderSession.offset, d.uniform2f(f.offsetVector, c.x, c.y));
                    a++
                }
                this.renderBatch(l, a, k);
                this.currentBatchSize =
                    0
            }
        };
    b.WebGLSpriteBatch.prototype.renderBatch = function(b, d, a) {
        if (0 !== d) {
            var c = this.gl;
            if (b._dirty[c.id]) {
                if (!this.renderSession.renderer.updateTexture(b)) return
            } else c.bindTexture(c.TEXTURE_2D, b._glTextures[c.id]);
            c.drawElements(c.TRIANGLES, 6 * d, c.UNSIGNED_SHORT, 12 * a);
            this.renderSession.drawCount++
        }
    };
    b.WebGLSpriteBatch.prototype.stop = function() {
        this.flush();
        this.dirty = !0
    };
    b.WebGLSpriteBatch.prototype.start = function() {
        this.dirty = !0
    };
    b.WebGLSpriteBatch.prototype.destroy = function() {
        this.indices = this.vertices =
            null;
        this.gl.deleteBuffer(this.vertexBuffer);
        this.gl.deleteBuffer(this.indexBuffer);
        this.gl = this.currentBaseTexture = null
    };
    b.WebGLFastSpriteBatch = function(b) {
        this.vertSize = 11;
        this.size = this.maxSize = 6E3;
        var d = 6 * this.maxSize;
        this.vertices = new Float32Array(4 * this.size * this.vertSize);
        this.indices = new Uint16Array(d);
        this.indexBuffer = this.vertexBuffer = null;
        for (var a = this.lastIndexCount = 0, c = 0; a < d; a += 6, c += 4) this.indices[a + 0] = c + 0, this.indices[a + 1] = c + 1, this.indices[a + 2] = c + 2, this.indices[a + 3] = c + 0, this.indices[a +
            4] = c + 2, this.indices[a + 5] = c + 3;
        this.drawing = !1;
        this.currentBatchSize = 0;
        this.currentBaseTexture = null;
        this.currentBlendMode = 0;
        this.matrix = this.shader = this.renderSession = null;
        this.setContext(b)
    };
    b.WebGLFastSpriteBatch.prototype.constructor = b.WebGLFastSpriteBatch;
    b.WebGLFastSpriteBatch.prototype.setContext = function(b) {
        this.gl = b;
        this.vertexBuffer = b.createBuffer();
        this.indexBuffer = b.createBuffer();
        b.bindBuffer(b.ELEMENT_ARRAY_BUFFER, this.indexBuffer);
        b.bufferData(b.ELEMENT_ARRAY_BUFFER, this.indices, b.STATIC_DRAW);
        b.bindBuffer(b.ARRAY_BUFFER, this.vertexBuffer);
        b.bufferData(b.ARRAY_BUFFER, this.vertices, b.DYNAMIC_DRAW)
    };
    b.WebGLFastSpriteBatch.prototype.begin = function(b, d) {
        this.renderSession = d;
        this.shader = this.renderSession.shaderManager.fastShader;
        this.matrix = b.worldTransform.toArray(!0);
        this.start()
    };
    b.WebGLFastSpriteBatch.prototype.end = function() {
        this.flush()
    };
    b.WebGLFastSpriteBatch.prototype.render = function(b) {
        b = b.children;
        var d = b[0];
        if (d.texture._uvs) {
            this.currentBaseTexture = d.texture.baseTexture;
            d.blendMode !==
                this.renderSession.blendModeManager.currentBlendMode && (this.flush(), this.renderSession.blendModeManager.setBlendMode(d.blendMode));
            d = 0;
            for (var a = b.length; d < a; d++) this.renderSprite(b[d]);
            this.flush()
        }
    };
    b.WebGLFastSpriteBatch.prototype.renderSprite = function(d) {
        var f = d.texture.baseTexture,
            a = this.gl,
            c = d.texture.baseTexture.textureIndex;
        if (b.WebGLRenderer.textureArray[c] != f && f._glTextures[a.id] && !d.texture.baseTexture.skipRender && (this.flush(), a.activeTexture(a.TEXTURE0 + c), a.bindTexture(a.TEXTURE_2D, f._glTextures[a.id]),
                b.WebGLRenderer.textureArray[c] = f, !d.texture._uvs)) return;
        if (d.visible) {
            a = this.vertices;
            f = d.texture._uvs;
            if (d.texture.trim) {
                var e = d.texture.trim;
                var k = e.x - d.anchor.x * e.width;
                var l = k + d.texture.crop.width;
                var g = e.y - d.anchor.y * e.height;
                e = g + d.texture.crop.height
            } else l = d.texture.frame.width * (1 - d.anchor.x), k = d.texture.frame.width * -d.anchor.x, e = d.texture.frame.height * (1 - d.anchor.y), g = d.texture.frame.height * -d.anchor.y;
            var h = 4 * this.currentBatchSize * this.vertSize;
            a[h++] = k;
            a[h++] = g;
            a[h++] = d.position.x;
            a[h++] =
                d.position.y;
            a[h++] = d.scale.x;
            a[h++] = d.scale.y;
            a[h++] = d.rotation;
            a[h++] = f.x0;
            a[h++] = f.y1;
            a[h++] = d.alpha;
            a[h++] = c;
            a[h++] = l;
            a[h++] = g;
            a[h++] = d.position.x;
            a[h++] = d.position.y;
            a[h++] = d.scale.x;
            a[h++] = d.scale.y;
            a[h++] = d.rotation;
            a[h++] = f.x1;
            a[h++] = f.y1;
            a[h++] = d.alpha;
            a[h++] = c;
            a[h++] = l;
            a[h++] = e;
            a[h++] = d.position.x;
            a[h++] = d.position.y;
            a[h++] = d.scale.x;
            a[h++] = d.scale.y;
            a[h++] = d.rotation;
            a[h++] = f.x2;
            a[h++] = f.y2;
            a[h++] = d.alpha;
            a[h++] = c;
            a[h++] = k;
            a[h++] = e;
            a[h++] = d.position.x;
            a[h++] = d.position.y;
            a[h++] = d.scale.x;
            a[h++] = d.scale.y;
            a[h++] = d.rotation;
            a[h++] = f.x3;
            a[h++] = f.y3;
            a[h++] = d.alpha;
            a[h++] = c;
            this.currentBatchSize++;
            this.currentBatchSize >= this.size && this.flush()
        }
    };
    b.WebGLFastSpriteBatch.prototype.flush = function() {
        if (0 !== this.currentBatchSize) {
            var b = this.gl;
            if (this.currentBaseTexture._glTextures[b.id]) {
                if (this.currentBatchSize > .5 * this.size) b.bufferSubData(b.ARRAY_BUFFER, 0, this.vertices);
                else {
                    var d = this.vertices.subarray(0, 4 * this.currentBatchSize * this.vertSize);
                    b.bufferSubData(b.ARRAY_BUFFER, 0, d)
                }
                b.drawElements(b.TRIANGLES,
                    6 * this.currentBatchSize, b.UNSIGNED_SHORT, 0);
                this.currentBatchSize = 0;
                this.renderSession.drawCount++
            } else this.renderSession.renderer.updateTexture(this.currentBaseTexture, b)
        }
    };
    b.WebGLFastSpriteBatch.prototype.stop = function() {
        this.flush()
    };
    b.WebGLFastSpriteBatch.prototype.start = function() {
        var b = this.gl;
        b.activeTexture(b.TEXTURE0);
        b.bindBuffer(b.ARRAY_BUFFER, this.vertexBuffer);
        b.bindBuffer(b.ELEMENT_ARRAY_BUFFER, this.indexBuffer);
        var d = this.renderSession.projection;
        b.uniform2f(this.shader.projectionVector,
            d.x, d.y);
        b.uniformMatrix3fv(this.shader.uMatrix, !1, this.matrix);
        d = 4 * this.vertSize;
        b.vertexAttribPointer(this.shader.aVertexPosition, 2, b.FLOAT, !1, d, 0);
        b.vertexAttribPointer(this.shader.aPositionCoord, 2, b.FLOAT, !1, d, 8);
        b.vertexAttribPointer(this.shader.aScale, 2, b.FLOAT, !1, d, 16);
        b.vertexAttribPointer(this.shader.aRotation, 1, b.FLOAT, !1, d, 24);
        b.vertexAttribPointer(this.shader.aTextureCoord, 2, b.FLOAT, !1, d, 28);
        b.vertexAttribPointer(this.shader.colorAttribute, 1, b.FLOAT, !1, d, 36);
        b.vertexAttribPointer(this.shader.aTextureIndex,
            1, b.FLOAT, !1, d, 40)
    };
    b.WebGLFilterManager = function() {
        this.filterStack = [];
        this.offsetY = this.offsetX = 0
    };
    b.WebGLFilterManager.prototype.constructor = b.WebGLFilterManager;
    b.WebGLFilterManager.prototype.setContext = function(b) {
        this.gl = b;
        this.texturePool = [];
        this.initShaderBuffers()
    };
    b.WebGLFilterManager.prototype.begin = function(b, d) {
        this.renderSession = b;
        this.defaultShader = b.shaderManager.defaultShader;
        b = this.renderSession.projection;
        this.width = 2 * b.x;
        this.height = 2 * -b.y;
        this.buffer = d
    };
    b.WebGLFilterManager.prototype.pushFilter =
        function(d) {
            var f = this.gl,
                a = this.renderSession.projection,
                c = this.renderSession.offset;
            d._filterArea = d.target.filterArea || d.target.getBounds();
            d._previous_stencil_mgr = this.renderSession.stencilManager;
            this.renderSession.stencilManager = new b.WebGLStencilManager;
            this.renderSession.stencilManager.setContext(f);
            f.disable(f.STENCIL_TEST);
            this.filterStack.push(d);
            var e = d.filterPasses[0];
            this.offsetX += d._filterArea.x;
            this.offsetY += d._filterArea.y;
            var k = this.texturePool.pop();
            k ? k.resize(this.width * this.renderSession.resolution,
                this.height * this.renderSession.resolution) : k = new b.FilterTexture(this.gl, this.width * this.renderSession.resolution, this.height * this.renderSession.resolution);
            f.bindTexture(f.TEXTURE_2D, k.texture);
            var l = d._filterArea;
            e = e.padding;
            l.x -= e;
            l.y -= e;
            l.width += 2 * e;
            l.height += 2 * e;
            0 > l.x && (l.x = 0);
            l.width > this.width && (l.width = this.width);
            0 > l.y && (l.y = 0);
            l.height > this.height && (l.height = this.height);
            f.bindFramebuffer(f.FRAMEBUFFER, k.frameBuffer);
            f.viewport(0, 0, l.width * this.renderSession.resolution, l.height * this.renderSession.resolution);
            a.x = l.width / 2;
            a.y = -l.height / 2;
            c.x = -l.x;
            c.y = -l.y;
            f.colorMask(!0, !0, !0, !0);
            f.clearColor(0, 0, 0, 0);
            f.clear(f.COLOR_BUFFER_BIT);
            d._glFilterTexture = k
        };
    b.WebGLFilterManager.prototype.popFilter = function() {
        var d = this.gl,
            f = this.filterStack.pop(),
            a = f._filterArea,
            c = f._glFilterTexture,
            e = this.renderSession.projection,
            k = this.renderSession.offset;
        if (1 < f.filterPasses.length) {
            d.viewport(0, 0, a.width * this.renderSession.resolution, a.height * this.renderSession.resolution);
            d.bindBuffer(d.ARRAY_BUFFER, this.vertexBuffer);
            this.vertexArray[0] = 0;
            this.vertexArray[1] = a.height;
            this.vertexArray[2] = a.width;
            this.vertexArray[3] = a.height;
            this.vertexArray[4] = 0;
            this.vertexArray[5] = 0;
            this.vertexArray[6] = a.width;
            this.vertexArray[7] = 0;
            d.bufferSubData(d.ARRAY_BUFFER, 0, this.vertexArray);
            d.bindBuffer(d.ARRAY_BUFFER, this.uvBuffer);
            this.uvArray[2] = a.width / this.width;
            this.uvArray[5] = a.height / this.height;
            this.uvArray[6] = a.width / this.width;
            this.uvArray[7] = a.height / this.height;
            d.bufferSubData(d.ARRAY_BUFFER, 0, this.uvArray);
            var l = this.texturePool.pop();
            l || (l = new b.FilterTexture(this.gl, this.width * this.renderSession.resolution, this.height * this.renderSession.resolution));
            l.resize(this.width * this.renderSession.resolution, this.height * this.renderSession.resolution);
            d.bindFramebuffer(d.FRAMEBUFFER, l.frameBuffer);
            d.clear(d.COLOR_BUFFER_BIT);
            d.disable(d.BLEND);
            for (var m = 0; m < f.filterPasses.length - 1; m++) {
                var h = f.filterPasses[m];
                d.bindFramebuffer(d.FRAMEBUFFER, l.frameBuffer);
                d.activeTexture(d.TEXTURE0);
                d.bindTexture(d.TEXTURE_2D, c.texture);
                this.applyFilterPass(h,
                    a, a.width, a.height);
                h = c;
                c = l;
                l = h
            }
            d.enable(d.BLEND);
            this.texturePool.push(l)
        }
        l = f.filterPasses[f.filterPasses.length - 1];
        this.offsetX -= a.x;
        this.offsetY -= a.y;
        m = this.width;
        h = this.height;
        var n = 0,
            p = 0,
            r = this.buffer;
        0 === this.filterStack.length ? d.colorMask(!0, !0, !0, !0) : (r = this.filterStack[this.filterStack.length - 1], a = r._filterArea, m = a.width, h = a.height, n = a.x, p = a.y, r = r._glFilterTexture.frameBuffer);
        e.x = m / 2;
        e.y = -h / 2;
        k.x = n;
        k.y = p;
        a = f._filterArea;
        e = a.x - n;
        k = a.y - p;
        d.bindBuffer(d.ARRAY_BUFFER, this.vertexBuffer);
        this.vertexArray[0] =
            e;
        this.vertexArray[1] = k + a.height;
        this.vertexArray[2] = e + a.width;
        this.vertexArray[3] = k + a.height;
        this.vertexArray[4] = e;
        this.vertexArray[5] = k;
        this.vertexArray[6] = e + a.width;
        this.vertexArray[7] = k;
        d.bufferSubData(d.ARRAY_BUFFER, 0, this.vertexArray);
        d.bindBuffer(d.ARRAY_BUFFER, this.uvBuffer);
        this.uvArray[2] = a.width / this.width;
        this.uvArray[5] = a.height / this.height;
        this.uvArray[6] = a.width / this.width;
        this.uvArray[7] = a.height / this.height;
        d.bufferSubData(d.ARRAY_BUFFER, 0, this.uvArray);
        d.viewport(0, 0, m * this.renderSession.resolution,
            h * this.renderSession.resolution);
        d.bindFramebuffer(d.FRAMEBUFFER, r);
        d.activeTexture(d.TEXTURE0);
        d.bindTexture(d.TEXTURE_2D, c.texture);
        this.renderSession.stencilManager && this.renderSession.stencilManager.destroy();
        this.renderSession.stencilManager = f._previous_stencil_mgr;
        f._previous_stencil_mgr = null;
        0 < this.renderSession.stencilManager.count ? d.enable(d.STENCIL_TEST) : d.disable(d.STENCIL_TEST);
        this.applyFilterPass(l, a, m, h);
        this.texturePool.push(c);
        f._glFilterTexture = null
    };
    b.WebGLFilterManager.prototype.applyFilterPass =
        function(d, f, a, c) {
            f = this.gl;
            var e = d.shaders[f.id];
            e || (e = new b.PixiShader(f), e.fragmentSrc = d.fragmentSrc, e.uniforms = d.uniforms, e.init(!0), d.shaders[f.id] = e);
            this.renderSession.shaderManager.setShader(e);
            f.uniform2f(e.projectionVector, a / 2, -c / 2);
            f.uniform2f(e.offsetVector, 0, 0);
            d.uniforms.dimensions && (d.uniforms.dimensions.value[0] = this.width, d.uniforms.dimensions.value[1] = this.height, d.uniforms.dimensions.value[2] = this.vertexArray[0], d.uniforms.dimensions.value[3] = this.vertexArray[5]);
            e.syncUniforms();
            f.bindBuffer(f.ARRAY_BUFFER, this.vertexBuffer);
            f.vertexAttribPointer(e.aVertexPosition, 2, f.FLOAT, !1, 0, 0);
            f.bindBuffer(f.ARRAY_BUFFER, this.uvBuffer);
            f.vertexAttribPointer(e.aTextureCoord, 2, f.FLOAT, !1, 0, 0);
            f.bindBuffer(f.ARRAY_BUFFER, this.colorBuffer);
            f.vertexAttribPointer(e.colorAttribute, 2, f.FLOAT, !1, 0, 0);
            f.bindBuffer(f.ELEMENT_ARRAY_BUFFER, this.indexBuffer);
            f.drawElements(f.TRIANGLES, 6, f.UNSIGNED_SHORT, 0);
            this.renderSession.drawCount++
        };
    b.WebGLFilterManager.prototype.initShaderBuffers = function() {
        var b =
            this.gl;
        this.vertexBuffer = b.createBuffer();
        this.uvBuffer = b.createBuffer();
        this.colorBuffer = b.createBuffer();
        this.indexBuffer = b.createBuffer();
        this.vertexArray = new Float32Array([0, 0, 1, 0, 0, 1, 1, 1]);
        b.bindBuffer(b.ARRAY_BUFFER, this.vertexBuffer);
        b.bufferData(b.ARRAY_BUFFER, this.vertexArray, b.STATIC_DRAW);
        this.uvArray = new Float32Array([0, 0, 1, 0, 0, 1, 1, 1]);
        b.bindBuffer(b.ARRAY_BUFFER, this.uvBuffer);
        b.bufferData(b.ARRAY_BUFFER, this.uvArray, b.STATIC_DRAW);
        this.colorArray = new Float32Array([1, 16777215, 1, 16777215,
            1, 16777215, 1, 16777215
        ]);
        b.bindBuffer(b.ARRAY_BUFFER, this.colorBuffer);
        b.bufferData(b.ARRAY_BUFFER, this.colorArray, b.STATIC_DRAW);
        b.bindBuffer(b.ELEMENT_ARRAY_BUFFER, this.indexBuffer);
        b.bufferData(b.ELEMENT_ARRAY_BUFFER, new Uint16Array([0, 1, 2, 1, 3, 2]), b.STATIC_DRAW)
    };
    b.WebGLFilterManager.prototype.destroy = function() {
        var b = this.gl;
        this.filterStack = null;
        for (var d = this.offsetY = this.offsetX = 0; d < this.texturePool.length; d++) this.texturePool[d].destroy();
        this.texturePool = null;
        b.deleteBuffer(this.vertexBuffer);
        b.deleteBuffer(this.uvBuffer);
        b.deleteBuffer(this.colorBuffer);
        b.deleteBuffer(this.indexBuffer)
    };
    var h = {
        36054: "Incomplete attachment",
        36055: "Missing attachment",
        36057: "Incomplete dimensions",
        36061: "Framebuffer unsupported"
    };
    b.FilterTexture = function(g, f, a, c, e) {
        this.gl = g;
        this.frameBuffer = d(g, f, a, c || b.scaleModes.DEFAULT, "number" === typeof e ? e : 0);
        this.texture = this.frameBuffer.targetTexture;
        this.width = f;
        this.height = a;
        this.renderBuffer = this.frameBuffer.renderBuffer
    };
    b.FilterTexture.prototype.constructor =
        b.FilterTexture;
    b.FilterTexture.prototype.clear = function() {
        var b = this.gl;
        b.clearColor(0, 0, 0, 0);
        b.clear(b.COLOR_BUFFER_BIT)
    };
    b.FilterTexture.prototype.resize = function(b, d) {
        if (this.width !== b || this.height !== d) {
            this.width = b;
            this.height = d;
            var a = this.gl;
            a.bindTexture(a.TEXTURE_2D, this.texture);
            a.texImage2D(a.TEXTURE_2D, 0, a.RGBA, b, d, 0, a.RGBA, a.UNSIGNED_BYTE, null);
            a.bindRenderbuffer(a.RENDERBUFFER, this.renderBuffer);
            a.renderbufferStorage(a.RENDERBUFFER, a.DEPTH_STENCIL, b, d)
        }
    };
    b.FilterTexture.prototype.destroy =
        function() {
            var b = this.gl;
            b.deleteFramebuffer(this.frameBuffer);
            b.deleteTexture(this.texture);
            this.texture = this.frameBuffer = null
        };
    b.CanvasBuffer = function(b, d) {
        this.width = b;
        this.height = d;
        this.canvas = Phaser.CanvasPool.create(this, this.width, this.height);
        this.context = this.canvas.getContext("2d");
        this.canvas.width = b;
        this.canvas.height = d
    };
    b.CanvasBuffer.prototype.constructor = b.CanvasBuffer;
    b.CanvasBuffer.prototype.clear = function() {
        this.context.setTransform(1, 0, 0, 1, 0, 0);
        this.context.clearRect(0, 0, this.width,
            this.height)
    };
    b.CanvasBuffer.prototype.resize = function(b, d) {
        this.width = this.canvas.width = b;
        this.height = this.canvas.height = d
    };
    b.CanvasBuffer.prototype.destroy = function() {
        Phaser.CanvasPool.remove(this)
    };
    b.CanvasMaskManager = function() {};
    b.CanvasMaskManager.prototype.constructor = b.CanvasMaskManager;
    b.CanvasMaskManager.prototype.pushMask = function(d, f) {
        var a = f.context;
        a.save();
        var c = d.alpha,
            e = d.worldTransform;
        f = f.resolution;
        a.setTransform(e.a * f, e.b * f, e.c * f, e.d * f, e.tx * f, e.ty * f);
        b.CanvasGraphics.renderGraphicsMask(d,
            a);
        a.clip();
        d.worldAlpha = c
    };
    b.CanvasMaskManager.prototype.popMask = function(b) {
        b.context.restore()
    };
    b.CanvasTinter = function() {};
    b.CanvasTinter.getTintedTexture = function(d, f) {
        var a = d.tintedTexture || Phaser.CanvasPool.create(this);
        b.CanvasTinter.tintMethod(d.texture, f, a);
        return a
    };
    b.CanvasTinter.tintWithMultiply = function(b, d, a) {
        var c = a.getContext("2d"),
            e = b.crop,
            k = e.width,
            l = e.height;
        b.rotated && (k = l, l = e.width);
        if (a.width !== k || a.height !== l) a.width = k, a.height = l;
        c.clearRect(0, 0, k, l);
        c.fillStyle = "#" + ("00000" +
            (d | 0).toString(16)).substr(-6);
        c.fillRect(0, 0, k, l);
        c.globalCompositeOperation = "multiply";
        c.drawImage(b.baseTexture.source, e.x, e.y, k, l, 0, 0, k, l);
        c.globalCompositeOperation = "destination-atop";
        c.drawImage(b.baseTexture.source, e.x, e.y, k, l, 0, 0, k, l)
    };
    b.CanvasTinter.tintWithPerPixel = function(d, f, a) {
        var c = a.getContext("2d"),
            e = d.crop,
            k = e.width,
            l = e.height;
        d.rotated && (k = l, l = e.width);
        if (a.width !== k || a.height !== l) a.width = k, a.height = l;
        c.globalCompositeOperation = "copy";
        c.drawImage(d.baseTexture.source, e.x, e.y, k,
            l, 0, 0, k, l);
        a = Phaser.Color.hexToRGBArray(f);
        d = a[0];
        f = a[1];
        a = a[2];
        k = c.getImageData(0, 0, k, l);
        l = k.data;
        for (e = 0; e < l.length; e += 4)
            if (l[e + 0] *= d, l[e + 1] *= f, l[e + 2] *= a, !b.CanvasTinter.canHandleAlpha) {
                var m = l[e + 3];
                l[e + 0] /= 255 / m;
                l[e + 1] /= 255 / m;
                l[e + 2] /= 255 / m
            } c.putImageData(k, 0, 0)
    };
    b.CanvasRenderer = function(d, f) {
        this.game = d;
        b.defaultRenderer || (b.defaultRenderer = this);
        this.type = Phaser.CANVAS;
        this.resolution = d.resolution;
        this.clearBeforeRender = d.clearBeforeRender;
        this.transparent = d.transparent;
        this.autoResize = !1;
        this.width =
            d.width * this.resolution;
        this.height = d.height * this.resolution;
        this.view = d.canvas;
        this.context = this.view.getContext("2d", {
            alpha: this.transparent
        });
        if (!this.context) throw Error("Failed to create a Canvas 2d context.");
        this.refresh = !0;
        this.count = 0;
        this.maskManager = new b.CanvasMaskManager;
        this.renderSession = {
            context: this.context,
            maskManager: this.maskManager,
            scaleMode: null,
            smoothProperty: Phaser.Canvas.getSmoothingPrefix(this.context),
            roundPixels: f.roundPixels || !1
        };
        this.mapBlendModes();
        this.resize(this.width,
            this.height)
    };
    b.CanvasRenderer.prototype.constructor = b.CanvasRenderer;
    b.CanvasRenderer.prototype.render = function(b) {
        this.context.setTransform(1, 0, 0, 1, 0, 0);
        this.context.globalAlpha = 1;
        this.renderSession.currentBlendMode = 0;
        this.renderSession.shakeX = this.game.camera._shake.x;
        this.renderSession.shakeY = this.game.camera._shake.y;
        this.context.globalCompositeOperation = "source-over";
        navigator.isCocoonJS && this.view.screencanvas && (this.context.fillStyle = "black", this.context.clear());
        this.clearBeforeRender && (this.transparent ?
            this.context.clearRect(0, 0, this.width, this.height) : b._bgColor && (this.context.fillStyle = b._bgColor.rgba, this.context.fillRect(0, 0, this.width, this.height)));
        this.renderDisplayObject(b)
    };
    b.CanvasRenderer.prototype.setTexturePriority = function(b) {};
    b.CanvasRenderer.prototype.destroy = function(b) {
        void 0 === b && (b = !0);
        b && this.view.parent && this.view.parent.removeChild(this.view);
        this.renderSession = this.maskManager = this.context = this.view = null
    };
    b.CanvasRenderer.prototype.resize = function(d, f) {
        this.width = d * this.resolution;
        this.height = f * this.resolution;
        this.view.width = this.width;
        this.view.height = this.height;
        this.autoResize && (this.view.style.width = this.width / this.resolution + "px", this.view.style.height = this.height / this.resolution + "px");
        this.renderSession.smoothProperty && (this.context[this.renderSession.smoothProperty] = this.renderSession.scaleMode === b.scaleModes.LINEAR)
    };
    b.CanvasRenderer.prototype.renderDisplayObject = function(b, d, a) {
        this.renderSession.context = d || this.context;
        this.renderSession.resolution = this.resolution;
        b._renderCanvas(this.renderSession, a)
    };
    b.CanvasRenderer.prototype.mapBlendModes = function() {
        if (!b.blendModesCanvas) {
            var d = [],
                f = b.blendModes,
                a = this.game.device.canUseMultiply;
            d[f.NORMAL] = "source-over";
            d[f.ADD] = "lighter";
            d[f.MULTIPLY] = a ? "multiply" : "source-over";
            d[f.SCREEN] = a ? "screen" : "source-over";
            d[f.OVERLAY] = a ? "overlay" : "source-over";
            d[f.DARKEN] = a ? "darken" : "source-over";
            d[f.LIGHTEN] = a ? "lighten" : "source-over";
            d[f.COLOR_DODGE] = a ? "color-dodge" : "source-over";
            d[f.COLOR_BURN] = a ? "color-burn" : "source-over";
            d[f.HARD_LIGHT] = a ? "hard-light" : "source-over";
            d[f.SOFT_LIGHT] = a ? "soft-light" : "source-over";
            d[f.DIFFERENCE] = a ? "difference" : "source-over";
            d[f.EXCLUSION] = a ? "exclusion" : "source-over";
            d[f.HUE] = a ? "hue" : "source-over";
            d[f.SATURATION] = a ? "saturation" : "source-over";
            d[f.COLOR] = a ? "color" : "source-over";
            d[f.LUMINOSITY] = a ? "luminosity" : "source-over";
            b.blendModesCanvas = d
        }
    };
    b.BaseTexture = function(d, f, a) {
        this.resolution = a || 1;
        this.height = this.width = 100;
        this.scaleMode = f || b.scaleModes.DEFAULT;
        this.hasLoaded = !1;
        this.source =
            d;
        this.premultipliedAlpha = !0;
        this._glTextures = [];
        this.mipmap = !1;
        this.textureIndex = 0;
        this._dirty = [!0, !0, !0, !0];
        d && ((this.source.complete || this.source.getContext) && this.source.width && this.source.height && (this.hasLoaded = !0, this.width = this.source.naturalWidth || this.source.width, this.height = this.source.naturalHeight || this.source.height, this.dirty()), this._powerOf2 = this.skipRender = !1)
    };
    b.BaseTexture.prototype.constructor = b.BaseTexture;
    b.BaseTexture.prototype.forceLoaded = function(b, d) {
        this.hasLoaded = !0;
        this.width = b;
        this.height = d;
        this.dirty()
    };
    b.BaseTexture.prototype.destroy = function() {
        this.source && Phaser.CanvasPool.removeByCanvas(this.source);
        this.source = null;
        this.unloadFromGPU()
    };
    b.BaseTexture.prototype.dirty = function() {
        for (var b = 0; b < this._glTextures.length; b++) this._dirty[b] = !0
    };
    b.BaseTexture.prototype.unloadFromGPU = function() {
        this.dirty();
        for (var d = this._glTextures.length - 1; 0 <= d; d--) {
            var f = this._glTextures[d],
                a = b.glContexts[d];
            a && f && a.deleteTexture(f)
        }
        this._glTextures.length = 0;
        this.dirty()
    };
    b.BaseTexture.fromCanvas = function(d, f, a) {
        0 === d.width && (d.width = 1);
        0 === d.height && (d.height = 1);
        return new b.BaseTexture(d, f, a || 1)
    };
    b.TextureSilentFail = !1;
    b.Texture = function(d, f, a, c) {
        this.noFrame = !1;
        f || (this.noFrame = !0, f = new b.Rectangle(0, 0, 1, 1));
        d instanceof b.Texture && (d = d.baseTexture);
        this.baseTexture = d;
        this.frame = f;
        this.trim = c;
        this.requiresReTint = this.requiresUpdate = this.isTiling = this.valid = !1;
        this._uvs = null;
        this.height = this.width = 0;
        this.crop = a || new b.Rectangle(0, 0, 1, 1);
        this.rotated = !1;
        d.hasLoaded &&
            (this.noFrame && (f = new b.Rectangle(0, 0, d.width, d.height)), this.setFrame(f))
    };
    b.Texture.prototype.constructor = b.Texture;
    b.Texture.prototype.onBaseTextureLoaded = function() {
        var d = this.baseTexture;
        this.noFrame && (this.frame = new b.Rectangle(0, 0, d.width, d.height));
        this.setFrame(this.frame)
    };
    b.Texture.prototype.destroy = function(b) {
        b && this.baseTexture.destroy();
        this.valid = !1
    };
    b.Texture.prototype.setFrame = function(d) {
        this.noFrame = !1;
        this.frame = d;
        this.width = d.width;
        this.height = d.height;
        this.crop.x = d.x;
        this.crop.y =
            d.y;
        this.crop.width = d.width;
        this.crop.height = d.height;
        if (!this.trim && (d.x + d.width > this.baseTexture.width || d.y + d.height > this.baseTexture.height)) {
            if (!b.TextureSilentFail) throw Error("Texture Error: frame does not fit inside the base Texture dimensions " + this);
            this.valid = !1
        } else this.valid = d && d.width && d.height && this.baseTexture.source && this.baseTexture.hasLoaded, this.trim && (this.width = this.trim.width, this.height = this.trim.height, this.frame.width = this.trim.width, this.frame.height = this.trim.height), this.valid &&
            this._updateUvs()
    };
    b.Texture.prototype._updateUvs = function() {
        this._uvs || (this._uvs = new b.TextureUvs);
        var d = this.crop,
            f = this.baseTexture.width,
            a = this.baseTexture.height;
        this._uvs.x0 = d.x / f;
        this._uvs.y0 = d.y / a;
        this._uvs.x1 = (d.x + d.width) / f;
        this._uvs.y1 = d.y / a;
        this._uvs.x2 = (d.x + d.width) / f;
        this._uvs.y2 = (d.y + d.height) / a;
        this._uvs.x3 = d.x / f;
        this._uvs.y3 = (d.y + d.height) / a
    };
    b.Texture.prototype._updateUvsInverted = function() {
        this._uvs || (this._uvs = new b.TextureUvs);
        var d = this.crop,
            f = this.baseTexture.width,
            a = this.baseTexture.height;
        this._uvs.x0 = d.x / f;
        this._uvs.y0 = d.y / a;
        this._uvs.x1 = (d.x + d.height) / f;
        this._uvs.y1 = d.y / a;
        this._uvs.x2 = (d.x + d.height) / f;
        this._uvs.y2 = (d.y + d.width) / a;
        this._uvs.x3 = d.x / f;
        this._uvs.y3 = (d.y + d.width) / a
    };
    b.Texture.fromCanvas = function(d, f) {
        d = b.BaseTexture.fromCanvas(d, f);
        return new b.Texture(d)
    };
    b.TextureUvs = function() {
        this.y3 = this.x3 = this.y2 = this.x2 = this.y1 = this.x1 = this.y0 = this.x0 = 0
    };
    "undefined" !== typeof exports ? ("undefined" !== typeof module && module.exports && (exports = module.exports = b), exports.PIXI = b) : "undefined" !==
        typeof define && define.amd ? define("PIXI", this.PIXI = b) : this.PIXI = b;
    return b
}).call(this);
(function() {
    function d(a, c) {
        this._scaleFactor = a;
        this._deltaMode = c;
        this.originalEvent = null
    }
    var b = b || {
        VERSION: "2.10.6",
        GAMES: [],
        AUTO: 0,
        CANVAS: 1,
        WEBGL: 2,
        HEADLESS: 3,
        WEBGL_MULTI: 4,
        NONE: 0,
        LEFT: 1,
        RIGHT: 2,
        UP: 3,
        DOWN: 4,
        SPRITE: 0,
        BUTTON: 1,
        IMAGE: 2,
        GRAPHICS: 3,
        TEXT: 4,
        TILESPRITE: 5,
        BITMAPTEXT: 6,
        GROUP: 7,
        RENDERTEXTURE: 8,
        TILEMAP: 9,
        TILEMAPLAYER: 10,
        EMITTER: 11,
        POLYGON: 12,
        BITMAPDATA: 13,
        CANVAS_FILTER: 14,
        WEBGL_FILTER: 15,
        ELLIPSE: 16,
        SPRITEBATCH: 17,
        RETROFONT: 18,
        POINTER: 19,
        ROPE: 20,
        CIRCLE: 21,
        RECTANGLE: 22,
        LINE: 23,
        MATRIX: 24,
        POINT: 25,
        ROUNDEDRECTANGLE: 26,
        CREATURE: 27,
        VIDEO: 28,
        PENDING_ATLAS: -1,
        HORIZONTAL: 0,
        VERTICAL: 1,
        LANDSCAPE: 0,
        PORTRAIT: 1,
        ANGLE_UP: 270,
        ANGLE_DOWN: 90,
        ANGLE_LEFT: 180,
        ANGLE_RIGHT: 0,
        ANGLE_NORTH_EAST: 315,
        ANGLE_NORTH_WEST: 225,
        ANGLE_SOUTH_EAST: 45,
        ANGLE_SOUTH_WEST: 135,
        TOP_LEFT: 0,
        TOP_CENTER: 1,
        TOP_RIGHT: 2,
        LEFT_TOP: 3,
        LEFT_CENTER: 4,
        LEFT_BOTTOM: 5,
        CENTER: 6,
        RIGHT_TOP: 7,
        RIGHT_CENTER: 8,
        RIGHT_BOTTOM: 9,
        BOTTOM_LEFT: 10,
        BOTTOM_CENTER: 11,
        BOTTOM_RIGHT: 12,
        blendModes: {
            NORMAL: 0,
            ADD: 1,
            MULTIPLY: 2,
            SCREEN: 3,
            OVERLAY: 4,
            DARKEN: 5,
            LIGHTEN: 6,
            COLOR_DODGE: 7,
            COLOR_BURN: 8,
            HARD_LIGHT: 9,
            SOFT_LIGHT: 10,
            DIFFERENCE: 11,
            EXCLUSION: 12,
            HUE: 13,
            SATURATION: 14,
            COLOR: 15,
            LUMINOSITY: 16
        },
        scaleModes: {
            DEFAULT: 0,
            LINEAR: 0,
            NEAREST: 1
        },
        PIXI: PIXI || {},
        _UID: 0
    };
    Math.trunc || (Math.trunc = function(a) {
        return 0 > a ? Math.ceil(a) : Math.floor(a)
    });
    Function.prototype.bind || (Function.prototype.bind = function() {
        var a = Array.prototype.slice;
        return function(c) {
            function e() {
                var k = d.concat(a.call(arguments));
                b.apply(this instanceof e ? this : c, k)
            }
            var b = this,
                d = a.call(arguments, 1);
            if ("function" !== typeof b) throw new TypeError;
            e.prototype = function n(a) {
                a && (n.prototype = a);
                if (!(this instanceof n)) return new n
            }(b.prototype);
            return e
        }
    }());
    Array.isArray || (Array.isArray = function(a) {
        return "[object Array]" === Object.prototype.toString.call(a)
    });
    Array.prototype.forEach || (Array.prototype.forEach = function(a) {
        if (void 0 === this || null === this) throw new TypeError;
        var c = Object(this),
            e = c.length >>> 0;
        if ("function" !== typeof a) throw new TypeError;
        for (var b = 2 <= arguments.length ? arguments[1] : void 0, d = 0; d < e; d++) d in c && a.call(b, c[d], d, c)
    });
    if ("function" !==
        typeof window.Uint32Array && "object" !== typeof window.Uint32Array) {
        var h = function(a) {
            window[a] = function(a) {
                if ("number" === typeof a) {
                    Array.call(this, a);
                    this.length = a;
                    for (var c = 0; c < this.length; c++) this[c] = 0
                } else
                    for (Array.call(this, a.length), this.length = a.length, c = 0; c < this.length; c++) this[c] = a[c]
            };
            window[a].prototype = [];
            window[a].constructor = window[a]
        };
        h("Float32Array");
        h("Uint32Array");
        h("Uint16Array");
        h("Int16Array");
        h("ArrayBuffer")
    }
    window.console || (window.console = {}, window.console.log = window.console.assert =
        function() {}, window.console.warn = window.console.assert = function() {});
    Object.assign || (Object.assign = function(a, c) {
        if (null == a) throw new TypeError("Cannot convert undefined or null to object");
        for (var e = Object(a), b = Object.prototype.hasOwnProperty, d = 1; d < arguments.length; d++) {
            var f = arguments[d];
            if (null != f)
                for (var g in f) b.call(f, g) && (e[g] = f[g])
        }
        return e
    });
    b.Utils = {
        reverseString: function(a) {
            return a.split("").reverse().join("")
        },
        getProperty: function(a, c) {
            var e = c.split(".");
            switch (e.length) {
                case 1:
                    return a[c];
                case 2:
                    return a[e[0]][e[1]];
                case 3:
                    return a[e[0]][e[1]][e[2]];
                case 4:
                    return a[e[0]][e[1]][e[2]][e[3]];
                default:
                    return this._getProperty(a, c)
            }
        },
        setProperties: function(a, c) {
            for (var e in c) this.setProperty(a, e, c[e]);
            return a
        },
        setProperty: function(a, c, e) {
            var b = c.split(".");
            switch (b.length) {
                case 1:
                    a[c] = e;
                    break;
                case 2:
                    a[b[0]][b[1]] = e;
                    break;
                case 3:
                    a[b[0]][b[1]][b[2]] = e;
                    break;
                case 4:
                    a[b[0]][b[1]][b[2]][b[3]] = e;
                    break;
                default:
                    this._setProperty(a, c, e)
            }
        },
        _getProperty: function(a, c) {
            c = c.split(".");
            for (var e = c.length,
                    b = 0; b < e;) {
                var d = c[b];
                if (null != a) a = a[d], b++;
                else return
            }
            return a
        },
        _setProperty: function(a, c, e) {
            var b = c.split("."),
                d = b.length,
                f = 0,
                g = a,
                h = b[0];
            if (1 === d) a[c] = e;
            else {
                for (; f < d - 1;) g = g[h], f++, h = b[f];
                g[h] = e
            }
            return a
        },
        chanceRoll: function(a) {
            void 0 === a && (a = 50);
            return 0 < a && 100 * Math.random() <= a
        },
        randomChoice: function(a, c) {
            return .5 > Math.random() ? a : c
        },
        parseDimension: function(a, c) {
            "string" === typeof a ? "%" === a.substr(-1) ? (a = parseInt(a, 10) / 100, c = 0 === c ? window.innerWidth * a : window.innerHeight * a) : c = parseInt(a, 10) : c = a;
            return c
        },
        pad: function(a, c, e, b) {
            void 0 === c && (c = 0);
            void 0 === e && (e = " ");
            void 0 === b && (b = 3);
            a = a.toString();
            if (c + 1 >= a.length) switch (b) {
                case 1:
                    a = Array(c + 1 - a.length).join(e) + a;
                    break;
                case 3:
                    b = Math.ceil((c -= a.length) / 2);
                    a = Array(c - b + 1).join(e) + a + Array(b + 1).join(e);
                    break;
                default:
                    a += Array(c + 1 - a.length).join(e)
            }
            return a
        },
        isPlainObject: function(a) {
            if ("object" !== typeof a || a.nodeType || a === a.window) return !1;
            try {
                if (a.constructor && !{}.hasOwnProperty.call(a.constructor.prototype, "isPrototypeOf")) return !1
            } catch (c) {
                return !1
            }
            return !0
        },
        extend: function() {
            var a, c, e, d = arguments[0] || {},
                l = 1,
                f = arguments.length,
                g = !1;
            "boolean" === typeof d && (g = d, d = arguments[1] || {}, l = 2);
            f === l && (d = this, --l);
            for (; l < f; l++)
                if (null != (a = arguments[l]))
                    for (c in a) {
                        var h = d[c];
                        var p = a[c];
                        d !== p && (g && p && (b.Utils.isPlainObject(p) || (e = Array.isArray(p))) ? (e ? (e = !1, h = h && Array.isArray(h) ? h : []) : h = h && b.Utils.isPlainObject(h) ? h : {}, d[c] = b.Utils.extend(g, h, p)) : void 0 !== p && (d[c] = p))
                    }
            return d
        },
        mixinPrototype: function(a, c, e) {
            void 0 === e && (e = !1);
            for (var b = Object.keys(c), d = 0; d < b.length; d++) {
                var f =
                    b[d],
                    g = c[f];
                !e && f in a || (!g || "function" !== typeof g.get && "function" !== typeof g.set ? a[f] = g : "function" === typeof g.clone ? a[f] = g.clone() : Object.defineProperty(a, f, g))
            }
        },
        mixin: function(a, c) {
            if (!a || "object" !== typeof a) return c;
            for (var e in a) {
                var d = a[e];
                if (!d.childNodes && !d.cloneNode) {
                    var l = typeof a[e];
                    c[e] = a[e] && "object" === l ? typeof c[e] === l ? b.Utils.mixin(a[e], c[e]) : b.Utils.mixin(a[e], new d.constructor) : a[e]
                }
            }
            return c
        }
    };
    b.Circle = function(a, c, e) {
        e = e || 0;
        this.x = a || 0;
        this.y = c || 0;
        this._diameter = e;
        this._radius =
            0;
        0 < e && (this._radius = .5 * e);
        this.type = b.CIRCLE
    };
    b.Circle.prototype = {
        circumference: function() {
            return 2 * Math.PI * this._radius
        },
        random: function(a) {
            void 0 === a && (a = new b.Point);
            var c = 2 * Math.PI * Math.random(),
                e = Math.random() + Math.random();
            e = 1 < e ? 2 - e : e;
            var d = e * Math.sin(c);
            a.x = this.x + e * Math.cos(c) * this.radius;
            a.y = this.y + d * this.radius;
            return a
        },
        getBounds: function() {
            return new b.Rectangle(this.x - this.radius, this.y - this.radius, this.diameter, this.diameter)
        },
        setTo: function(a, c, e) {
            this.x = a;
            this.y = c;
            this._diameter =
                e;
            this._radius = .5 * e;
            return this
        },
        copyFrom: function(a) {
            return this.setTo(a.x, a.y, a.diameter)
        },
        copyTo: function(a) {
            a.x = this.x;
            a.y = this.y;
            a.diameter = this._diameter;
            return a
        },
        distance: function(a, c) {
            a = b.Math.distance(this.x, this.y, a.x, a.y);
            return c ? Math.round(a) : a
        },
        clone: function(a) {
            void 0 === a || null === a ? a = new b.Circle(this.x, this.y, this.diameter) : a.setTo(this.x, this.y, this.diameter);
            return a
        },
        contains: function(a, c) {
            return b.Circle.contains(this, a, c)
        },
        circumferencePoint: function(a, c, e) {
            return b.Circle.circumferencePoint(this,
                a, c, e)
        },
        sample: function(a, c, e, d, l) {
            a || (a = 60);
            null == c && (c = 0);
            null == e && (e = b.Math.PI2);
            l || (l = []);
            for (var k = 0; k < a;) this.circumferencePoint(b.Math.linear(c, e, k / a), d, l[k] || (l[k] = new b.Point)), k += 1;
            return l
        },
        offset: function(a, c) {
            this.x += a;
            this.y += c;
            return this
        },
        offsetPoint: function(a) {
            return this.offset(a.x, a.y)
        },
        toString: function() {
            return "[{Phaser.Circle (x=" + this.x + " y=" + this.y + " diameter=" + this.diameter + " radius=" + this.radius + ")}]"
        }
    };
    b.Circle.prototype.constructor = b.Circle;
    Object.defineProperty(b.Circle.prototype,
        "diameter", {
            get: function() {
                return this._diameter
            },
            set: function(a) {
                0 < a && (this._diameter = a, this._radius = .5 * a)
            }
        });
    Object.defineProperty(b.Circle.prototype, "radius", {
        get: function() {
            return this._radius
        },
        set: function(a) {
            0 < a && (this._radius = a, this._diameter = 2 * a)
        }
    });
    Object.defineProperty(b.Circle.prototype, "left", {
        get: function() {
            return this.x - this._radius
        },
        set: function(a) {
            a > this.x ? this._diameter = this._radius = 0 : this.radius = this.x - a
        }
    });
    Object.defineProperty(b.Circle.prototype, "right", {
        get: function() {
            return this.x +
                this._radius
        },
        set: function(a) {
            a < this.x ? this._diameter = this._radius = 0 : this.radius = a - this.x
        }
    });
    Object.defineProperty(b.Circle.prototype, "top", {
        get: function() {
            return this.y - this._radius
        },
        set: function(a) {
            a > this.y ? this._diameter = this._radius = 0 : this.radius = this.y - a
        }
    });
    Object.defineProperty(b.Circle.prototype, "bottom", {
        get: function() {
            return this.y + this._radius
        },
        set: function(a) {
            a < this.y ? this._diameter = this._radius = 0 : this.radius = a - this.y
        }
    });
    Object.defineProperty(b.Circle.prototype, "area", {
        get: function() {
            return 0 <
                this._radius ? Math.PI * this._radius * this._radius : 0
        }
    });
    Object.defineProperty(b.Circle.prototype, "empty", {
        get: function() {
            return 0 === this._diameter
        },
        set: function(a) {
            !0 === a && this.setTo(0, 0, 0)
        }
    });
    b.Circle.contains = function(a, c, e) {
        return 0 < a.radius && c >= a.left && c <= a.right && e >= a.top && e <= a.bottom ? (a.x - c) * (a.x - c) + (a.y - e) * (a.y - e) <= a.radius * a.radius : !1
    };
    b.Circle.equals = function(a, c) {
        return a.x === c.x && a.y === c.y && a.diameter === c.diameter
    };
    b.Circle.intersects = function(a, c) {
        return b.Math.distance(a.x, a.y, c.x, c.y) <=
            a.radius + c.radius
    };
    b.Circle.circumferencePoint = function(a, c, e, d) {
        void 0 === e && (e = !1);
        void 0 === d && (d = new b.Point);
        !0 === e && (c = b.Math.degToRad(c));
        d.x = a.x + a.radius * Math.cos(c);
        d.y = a.y + a.radius * Math.sin(c);
        return d
    };
    b.Circle.intersectsRectangle = function(a, c) {
        var e = Math.abs(a.x - c.x - c.halfWidth);
        if (e > c.halfWidth + a.radius) return !1;
        var b = Math.abs(a.y - c.y - c.halfHeight);
        if (b > c.halfHeight + a.radius) return !1;
        if (e <= c.halfWidth || b <= c.halfHeight) return !0;
        e -= c.halfWidth;
        c = b - c.halfHeight;
        return e * e + c * c <= a.radius * a.radius
    };
    b.Circle.intersectsLine = function(a, c, e) {
        var d = a.x,
            l = a.y,
            f = (c.end.y - c.start.y) / (c.end.x - c.start.x),
            g = c.end.y - f * c.end.x,
            h = a.radius,
            p = a.radius,
            r = g + f * d;
        a = (d * p * p - f * h * h * (g - l) + h * p * Math.sqrt(h * h * f * f + p * p - r * r - l * l + 2 * r * l)) / (h * h * f * f + p * p);
        d = (d * p * p - f * h * h * (g - l) - h * p * Math.sqrt(h * h * f * f + p * p - r * r - l * l + 2 * r * l)) / (h * h * f * f + p * p);
        l = f * d + g;
        f = new b.Point(a, f * a + g);
        g = new b.Point(d, l);
        a = c.pointOnSegment(f.x, f.y, .01);
        c = c.pointOnSegment(g.x, g.y, .01);
        return a && c ? e ? [f, g] : !0 : a ? e ? [f] : !0 : c ? e ? [g] : !0 : e ? [] : !1
    };
    PIXI.Circle = b.Circle;
    b.Ellipse =
        function(a, c, e, d) {
            this.x = a || 0;
            this.y = c || 0;
            this.width = e || 0;
            this.height = d || 0;
            this.type = b.ELLIPSE
        };
    b.Ellipse.prototype = {
        setTo: function(a, c, e, b) {
            this.x = a;
            this.y = c;
            this.width = e;
            this.height = b;
            return this
        },
        getBounds: function() {
            return new b.Rectangle(this.x - this.width, this.y - this.height, this.width, this.height)
        },
        copyFrom: function(a) {
            return this.setTo(a.x, a.y, a.width, a.height)
        },
        copyTo: function(a) {
            a.x = this.x;
            a.y = this.y;
            a.width = this.width;
            a.height = this.height;
            return a
        },
        clone: function(a) {
            void 0 === a || null === a ?
                a = new b.Ellipse(this.x, this.y, this.width, this.height) : a.setTo(this.x, this.y, this.width, this.height);
            return a
        },
        contains: function(a, c) {
            return b.Ellipse.contains(this, a, c)
        },
        random: function(a) {
            void 0 === a && (a = new b.Point);
            var c = Math.random() * Math.PI * 2,
                e = Math.sqrt(Math.random());
            a.x = this.centerX + .5 * e * Math.cos(c) * this.width;
            a.y = this.centerY + .5 * e * Math.sin(c) * this.height;
            return a
        },
        toString: function() {
            return "[{Phaser.Ellipse (x=" + this.x + " y=" + this.y + " width=" + this.width + " height=" + this.height + ")}]"
        }
    };
    b.Ellipse.prototype.constructor =
        b.Ellipse;
    Object.defineProperty(b.Ellipse.prototype, "left", {
        get: function() {
            return this.x
        },
        set: function(a) {
            this.x = a
        }
    });
    Object.defineProperty(b.Ellipse.prototype, "right", {
        get: function() {
            return this.x + this.width
        },
        set: function(a) {
            this.width = a < this.x ? 0 : a - this.x
        }
    });
    Object.defineProperty(b.Ellipse.prototype, "top", {
        get: function() {
            return this.y
        },
        set: function(a) {
            this.y = a
        }
    });
    Object.defineProperty(b.Ellipse.prototype, "bottom", {
        get: function() {
            return this.y + this.height
        },
        set: function(a) {
            this.height = a < this.y ? 0 : a -
                this.y
        }
    });
    Object.defineProperty(b.Ellipse.prototype, "centerX", {
        get: function() {
            return this.x + .5 * this.width
        }
    });
    Object.defineProperty(b.Ellipse.prototype, "centerY", {
        get: function() {
            return this.y + .5 * this.height
        }
    });
    Object.defineProperty(b.Ellipse.prototype, "empty", {
        get: function() {
            return 0 === this.width || 0 === this.height
        },
        set: function(a) {
            !0 === a && this.setTo(0, 0, 0, 0)
        }
    });
    b.Ellipse.contains = function(a, c, e) {
        if (0 >= a.width || 0 >= a.height) return !1;
        c = (c - a.x) / a.width - .5;
        a = (e - a.y) / a.height - .5;
        return .25 > c * c + a * a
    };
    b.Ellipse.intersectsLine =
        function(a, c, e) {
            var d = a.x,
                l = a.y,
                f = (c.end.y - c.start.y) / (c.end.x - c.start.x),
                g = c.end.y - f * c.end.x,
                h = a.width / 2,
                p = a.height / 2,
                r = g + f * d;
            a = (d * p * p - f * h * h * (g - l) + h * p * Math.sqrt(h * h * f * f + p * p - r * r - l * l + 2 * r * l)) / (h * h * f * f + p * p);
            d = (d * p * p - f * h * h * (g - l) - h * p * Math.sqrt(h * h * f * f + p * p - r * r - l * l + 2 * r * l)) / (h * h * f * f + p * p);
            l = f * d + g;
            f = new b.Point(a, f * a + g);
            g = new b.Point(d, l);
            a = c.pointOnSegment(f.x, f.y, .01);
            c = c.pointOnSegment(g.x, g.y, .01);
            return a && c ? e ? [f, g] : !0 : a ? e ? [f] : !0 : c ? e ? [g] : !0 : e ? [] : !1
        };
    PIXI.Ellipse = b.Ellipse;
    b.Line = function(a, c, e, d) {
        e = e ||
            0;
        d = d || 0;
        this.start = new b.Point(a || 0, c || 0);
        this.end = new b.Point(e, d);
        this.type = b.LINE
    };
    b.Line.prototype = {
        setTo: function(a, c, e, b) {
            this.start.setTo(a, c);
            this.end.setTo(e, b);
            return this
        },
        fromPoints: function(a, c) {
            this.setTo(a.x, a.y, c.x, c.y);
            return this
        },
        fromSprite: function(a, c, e) {
            void 0 === e && (e = !1);
            return e ? this.setTo(a.centerX, a.centerY, c.centerX, c.centerY) : this.fromPoints(a, c)
        },
        fromAngle: function(a, c, e, b) {
            this.start.setTo(a, c);
            this.end.setTo(a + Math.cos(e) * b, c + Math.sin(e) * b);
            return this
        },
        rotate: function(a,
            c) {
            var e = (this.start.x + this.end.x) / 2,
                b = (this.start.y + this.end.y) / 2;
            this.start.rotate(e, b, a, c);
            this.end.rotate(e, b, a, c);
            return this
        },
        rotateAround: function(a, c, e, b) {
            this.start.rotate(a, c, e, b);
            this.end.rotate(a, c, e, b);
            return this
        },
        intersects: function(a, c, e) {
            return b.Line.intersectsPoints(this.start, this.end, a.start, a.end, c, e)
        },
        reflect: function(a) {
            return b.Line.reflect(this, a)
        },
        midPoint: function(a) {
            void 0 === a && (a = new b.Point);
            a.x = (this.start.x + this.end.x) / 2;
            a.y = (this.start.y + this.end.y) / 2;
            return a
        },
        centerOn: function(a,
            c) {
            a -= (this.start.x + this.end.x) / 2;
            c -= (this.start.y + this.end.y) / 2;
            this.start.add(a, c);
            this.end.add(a, c)
        },
        pointOnLine: function(a, c, e) {
            return b.Math.fuzzyEqual((a - this.start.x) * (this.end.y - this.start.y), (this.end.x - this.start.x) * (c - this.start.y), e || 0)
        },
        pointOnSegment: function(a, c, e) {
            var b = Math.min(this.start.x, this.end.x),
                d = Math.max(this.start.x, this.end.x),
                f = Math.min(this.start.y, this.end.y),
                g = Math.max(this.start.y, this.end.y);
            return this.pointOnLine(a, c, e) && a >= b && a <= d && c >= f && c <= g
        },
        random: function(a) {
            void 0 ===
                a && (a = new b.Point);
            var c = Math.random();
            a.x = this.start.x + c * (this.end.x - this.start.x);
            a.y = this.start.y + c * (this.end.y - this.start.y);
            return a
        },
        coordinatesOnLine: function(a, c) {
            void 0 === a && (a = 1);
            void 0 === c && (c = []);
            var e = Math.round(this.start.x),
                b = Math.round(this.start.y),
                d = Math.round(this.end.x),
                f = Math.round(this.end.y),
                g = Math.abs(d - e),
                h = Math.abs(f - b),
                p = e < d ? 1 : -1,
                r = b < f ? 1 : -1,
                u = g - h;
            c.push([e, b]);
            for (var t = 1; e !== d || b !== f;) {
                var v = u << 1;
                v > -h && (u -= h, e += p);
                v < g && (u += g, b += r);
                0 === t % a && c.push([e, b]);
                t++
            }
            return c
        },
        clone: function(a) {
            void 0 ===
                a || null === a ? a = new b.Line(this.start.x, this.start.y, this.end.x, this.end.y) : a.setTo(this.start.x, this.start.y, this.end.x, this.end.y);
            return a
        }
    };
    Object.defineProperty(b.Line.prototype, "length", {
        get: function() {
            return Math.sqrt((this.end.x - this.start.x) * (this.end.x - this.start.x) + (this.end.y - this.start.y) * (this.end.y - this.start.y))
        }
    });
    Object.defineProperty(b.Line.prototype, "angle", {
        get: function() {
            return b.Point.angle(this.end, this.start)
        }
    });
    Object.defineProperty(b.Line.prototype, "slope", {
        get: function() {
            return (this.end.y -
                this.start.y) / (this.end.x - this.start.x)
        }
    });
    Object.defineProperty(b.Line.prototype, "perpSlope", {
        get: function() {
            return -((this.end.x - this.start.x) / (this.end.y - this.start.y))
        }
    });
    Object.defineProperty(b.Line.prototype, "x", {
        get: function() {
            return Math.min(this.start.x, this.end.x)
        }
    });
    Object.defineProperty(b.Line.prototype, "y", {
        get: function() {
            return Math.min(this.start.y, this.end.y)
        }
    });
    Object.defineProperty(b.Line.prototype, "left", {
        get: function() {
            return Math.min(this.start.x, this.end.x)
        }
    });
    Object.defineProperty(b.Line.prototype,
        "right", {
            get: function() {
                return Math.max(this.start.x, this.end.x)
            }
        });
    Object.defineProperty(b.Line.prototype, "top", {
        get: function() {
            return Math.min(this.start.y, this.end.y)
        }
    });
    Object.defineProperty(b.Line.prototype, "bottom", {
        get: function() {
            return Math.max(this.start.y, this.end.y)
        }
    });
    Object.defineProperty(b.Line.prototype, "width", {
        get: function() {
            return Math.abs(this.start.x - this.end.x)
        }
    });
    Object.defineProperty(b.Line.prototype, "height", {
        get: function() {
            return Math.abs(this.start.y - this.end.y)
        }
    });
    Object.defineProperty(b.Line.prototype,
        "normalX", {
            get: function() {
                return Math.cos(this.angle - 1.5707963267948966)
            }
        });
    Object.defineProperty(b.Line.prototype, "normalY", {
        get: function() {
            return Math.sin(this.angle - 1.5707963267948966)
        }
    });
    Object.defineProperty(b.Line.prototype, "normalAngle", {
        get: function() {
            return b.Math.wrap(this.angle - 1.5707963267948966, -Math.PI, Math.PI)
        }
    });
    b.Line.intersectsPoints = function(a, c, e, d, l, f) {
        void 0 === l && (l = !0);
        void 0 === f && (f = new b.Point);
        var k = c.y - a.y,
            m = d.y - e.y,
            g = a.x - c.x,
            h = e.x - d.x,
            u = c.x * a.y - a.x * c.y,
            t = d.x * e.y - e.x * d.y,
            v = k * h - m * g;
        if (0 === v) return null;
        f.x = (g * t - h * u) / v;
        f.y = (m * u - k * t) / v;
        return !l || (l = (d.y - e.y) * (c.x - a.x) - (d.x - e.x) * (c.y - a.y), d = ((d.x - e.x) * (a.y - e.y) - (d.y - e.y) * (a.x - e.x)) / l, a = ((c.x - a.x) * (a.y - e.y) - (c.y - a.y) * (a.x - e.x)) / l, 0 <= d && 1 >= d && 0 <= a && 1 >= a) ? f : null
    };
    b.Line.intersects = function(a, c, e, d) {
        return b.Line.intersectsPoints(a.start, a.end, c.start, c.end, e, d)
    };
    b.Line.intersectsRectangle = function(a, c) {
        if (0 === a.length || c.empty) return !1;
        var e = a.start.x,
            b = a.start.y,
            d = a.end.x;
        a = a.end.y;
        var f = c.x,
            g = c.y,
            h = c.right;
        c = c.bottom;
        if (e >= f && e <= h && b >= g && b <= c || d >= f && d <= h && a >= g && a <= c) return !0;
        if (e < f && d >= f) {
            var p = b + (a - b) * (f - e) / (d - e);
            if (p > g && p <= c) return !0
        } else if (e > h && d <= h && (p = b + (a - b) * (h - e) / (d - e), p >= g && p <= c)) return !0;
        if (b < g && a >= g) {
            if (p = e + (d - e) * (g - b) / (a - b), p >= f && p <= h) return !0
        } else if (b > c && a <= c && (p = e + (d - e) * (c - b) / (a - b), p >= f && p <= h)) return !0;
        return !1
    };
    b.Line.intersectionWithRectangle = function(a, c, e) {
        var d = b.Line.intersectionWithRectangle;
        e || (e = new b.Point);
        d.edges || (d.edges = [new b.Line, new b.Line, new b.Line, new b.Line]);
        d.edgeIntersection ||
            (d.edgeIntersection = new b.Point);
        var l = d.edges;
        d = d.edgeIntersection.set(0);
        var f = c.x,
            g = c.y,
            h = c.right,
            p = c.bottom;
        c = Infinity;
        l[0].setTo(f, g, h, g);
        l[1].setTo(f, p, h, p);
        l[2].setTo(f, g, f, p);
        l[3].setTo(h, g, h, p);
        for (g = 0; f = l[g]; g++)
            if (a.intersects(f, !0, d)) {
                var r = a.start.distance(d);
                r < c && (c = r, e.copyFrom(d))
            } return null != r ? e : null
    };
    b.Line.reflect = function(a, c) {
        return 2 * c.normalAngle - 3.141592653589793 - a.angle
    };
    b.Matrix = function(a, c, e, d, l, f) {
        if (void 0 === a || null === a) a = 1;
        if (void 0 === c || null === c) c = 0;
        if (void 0 === e ||
            null === e) e = 0;
        if (void 0 === d || null === d) d = 1;
        if (void 0 === l || null === l) l = 0;
        if (void 0 === f || null === f) f = 0;
        this.a = a;
        this.b = c;
        this.c = e;
        this.d = d;
        this.tx = l;
        this.ty = f;
        this.type = b.MATRIX
    };
    b.Matrix.prototype = {
        fromArray: function(a) {
            return this.setTo(a[0], a[1], a[3], a[4], a[2], a[5])
        },
        setTo: function(a, c, e, b, d, f) {
            this.a = a;
            this.b = c;
            this.c = e;
            this.d = b;
            this.tx = d;
            this.ty = f;
            return this
        },
        clone: function(a) {
            void 0 === a || null === a ? a = new b.Matrix(this.a, this.b, this.c, this.d, this.tx, this.ty) : (a.a = this.a, a.b = this.b, a.c = this.c, a.d = this.d,
                a.tx = this.tx, a.ty = this.ty);
            return a
        },
        copyTo: function(a) {
            a.copyFrom(this);
            return a
        },
        copyFrom: function(a) {
            this.a = a.a;
            this.b = a.b;
            this.c = a.c;
            this.d = a.d;
            this.tx = a.tx;
            this.ty = a.ty;
            return this
        },
        toArray: function(a, c) {
            void 0 === c && (c = new Float32Array(9));
            a ? (c[0] = this.a, c[1] = this.b, c[2] = 0, c[3] = this.c, c[4] = this.d, c[5] = 0, c[6] = this.tx, c[7] = this.ty) : (c[0] = this.a, c[1] = this.c, c[2] = this.tx, c[3] = this.b, c[4] = this.d, c[5] = this.ty, c[6] = 0, c[7] = 0);
            c[8] = 1;
            return c
        },
        apply: function(a, c) {
            void 0 === c && (c = new b.Point);
            c.x = this.a *
                a.x + this.c * a.y + this.tx;
            c.y = this.b * a.x + this.d * a.y + this.ty;
            return c
        },
        applyInverse: function(a, c) {
            void 0 === c && (c = new b.Point);
            var e = 1 / (this.a * this.d + this.c * -this.b),
                d = a.x;
            a = a.y;
            c.x = this.d * e * d + -this.c * e * a + (this.ty * this.c - this.tx * this.d) * e;
            c.y = this.a * e * a + -this.b * e * d + (-this.ty * this.a + this.tx * this.b) * e;
            return c
        },
        translate: function(a, c) {
            this.tx += a;
            this.ty += c;
            return this
        },
        scale: function(a, c) {
            this.a *= a;
            this.d *= c;
            this.c *= a;
            this.b *= c;
            this.tx *= a;
            this.ty *= c;
            return this
        },
        rotate: function(a) {
            var c = Math.cos(a);
            a = Math.sin(a);
            var e = this.a,
                b = this.c,
                d = this.tx;
            this.a = e * c - this.b * a;
            this.b = e * a + this.b * c;
            this.c = b * c - this.d * a;
            this.d = b * a + this.d * c;
            this.tx = d * c - this.ty * a;
            this.ty = d * a + this.ty * c;
            return this
        },
        append: function(a) {
            var c = this.a,
                e = this.b,
                b = this.c,
                d = this.d;
            this.a = a.a * c + a.b * b;
            this.b = a.a * e + a.b * d;
            this.c = a.c * c + a.d * b;
            this.d = a.c * e + a.d * d;
            this.tx = a.tx * c + a.ty * b + this.tx;
            this.ty = a.tx * e + a.ty * d + this.ty;
            return this
        },
        identity: function() {
            return this.setTo(1, 0, 0, 1, 0, 0)
        }
    };
    b.identityMatrix = new b.Matrix;
    b.Point = function(a, c) {
        this.x = a || 0;
        this.y =
            c || 0;
        this.type = b.POINT
    };
    b.Point.prototype = {
        copyFrom: function(a) {
            return this.setTo(a.x, a.y)
        },
        invert: function() {
            return this.setTo(this.y, this.x)
        },
        setTo: function(a, c) {
            return b.Point.set(this, a, c)
        },
        set: function(a, c) {
            return b.Point.set(this, a, c)
        },
        setToPolar: function(a, c, e) {
            null == c && (c = 1);
            e && (a = b.Math.degToRad(a));
            return this.setTo(Math.cos(a) * c, Math.sin(a) * c)
        },
        add: function(a, c) {
            this.x += a;
            this.y += c;
            return this
        },
        subtract: function(a, c) {
            this.x -= a;
            this.y -= c;
            return this
        },
        multiply: function(a, c) {
            this.x *= a;
            this.y *=
                c;
            return this
        },
        divide: function(a, c) {
            this.x /= a;
            this.y /= c;
            return this
        },
        clampX: function(a, c) {
            this.x = b.Math.clamp(this.x, a, c);
            return this
        },
        clampY: function(a, c) {
            this.y = b.Math.clamp(this.y, a, c);
            return this
        },
        clamp: function(a, c) {
            this.x = b.Math.clamp(this.x, a, c);
            this.y = b.Math.clamp(this.y, a, c);
            return this
        },
        clip: function(a) {
            var c = a.left,
                e = a.top,
                b = a.right;
            a = a.bottom;
            this.x < c ? this.x = c : this.x > b && (this.x = b);
            this.y < e ? this.y = e : this.y > a && (this.y = a);
            return this
        },
        clone: function(a) {
            void 0 === a || null === a ? a = new b.Point(this.x,
                this.y) : a.setTo(this.x, this.y);
            return a
        },
        copyTo: function(a) {
            a.x = this.x;
            a.y = this.y;
            return a
        },
        distance: function(a, c) {
            return b.Point.distance(this, a, c)
        },
        equals: function(a) {
            return a.x === this.x && a.y === this.y
        },
        equalsXY: function(a, c) {
            return this.x === a && this.y === c
        },
        fuzzyEquals: function(a, c) {
            return b.Point.fuzzyEquals(this, a, c)
        },
        fuzzyEqualsXY: function(a, c, e) {
            return b.Point.fuzzyEqualsXY(this, a, c, e)
        },
        angle: function(a, c) {
            return this.angleXY(a.x, a.y, c)
        },
        angleXY: function(a, c, e) {
            a = Math.atan2(c - this.y, a - this.x);
            return e ? b.Math.radToDeg(a) : a
        },
        atan: function(a) {
            var c = Math.atan2(this.y, this.x);
            return a ? b.Math.radToDeg(c) : c
        },
        rotate: function(a, c, e, d, l) {
            return b.Point.rotate(this, a, c, e, d, l)
        },
        getMagnitude: function() {
            return Math.sqrt(this.x * this.x + this.y * this.y)
        },
        getMagnitudeSq: function() {
            return this.x * this.x + this.y * this.y
        },
        setMagnitude: function(a) {
            return this.normalize().multiply(a, a)
        },
        normalize: function() {
            if (!this.isZero()) {
                var a = this.getMagnitude();
                this.x /= a;
                this.y /= a
            }
            return this
        },
        limit: function(a) {
            this.getMagnitudeSq() >
                a * a && this.setMagnitude(a);
            return this
        },
        expand: function(a) {
            this.getMagnitudeSq() < a * a && this.setMagnitude(a);
            return this
        },
        isZero: function() {
            return 0 === this.x && 0 === this.y
        },
        dot: function(a) {
            return this.x * a.x + this.y * a.y
        },
        cross: function(a) {
            return this.x * a.y - this.y * a.x
        },
        perp: function() {
            return this.setTo(-this.y, this.x)
        },
        rperp: function() {
            return this.setTo(this.y, -this.x)
        },
        normalRightHand: function() {
            return this.setTo(-1 * this.y, this.x)
        },
        floor: function() {
            return this.setTo(Math.floor(this.x), Math.floor(this.y))
        },
        ceil: function() {
            return this.setTo(Math.ceil(this.x), Math.ceil(this.y))
        },
        round: function() {
            return this.setTo(Math.round(this.x), Math.round(this.y))
        },
        toString: function() {
            return "[{Point (x=" + this.x + " y=" + this.y + ")}]"
        }
    };
    b.Point.prototype.constructor = b.Point;
    b.Point.add = function(a, c, e) {
        void 0 === e && (e = new b.Point);
        e.x = a.x + c.x;
        e.y = a.y + c.y;
        return e
    };
    b.Point.subtract = function(a, c, e) {
        void 0 === e && (e = new b.Point);
        e.x = a.x - c.x;
        e.y = a.y - c.y;
        return e
    };
    b.Point.multiply = function(a, c, e) {
        void 0 === e && (e = new b.Point);
        e.x =
            a.x * c.x;
        e.y = a.y * c.y;
        return e
    };
    b.Point.divide = function(a, c, e) {
        void 0 === e && (e = new b.Point);
        e.x = a.x / c.x;
        e.y = a.y / c.y;
        return e
    };
    b.Point.equals = function(a, c) {
        return a.x === c.x && a.y === c.y
    };
    b.Point.equalsXY = function(a, c, e) {
        return a.x === c && a.y === e
    };
    b.Point.fuzzyEquals = function(a, c, e) {
        return b.Math.fuzzyEquals(a.x, c.x, e) && b.Math.fuzzyEquals(a.y, c.y, e)
    };
    b.Point.fuzzyEqualsXY = function(a, c, e, d) {
        return b.Math.fuzzyEquals(a.x, c, d) && b.Math.fuzzyEquals(a.y, e, d)
    };
    b.Point.angle = function(a, c) {
        return Math.atan2(a.y - c.y,
            a.x - c.x)
    };
    b.Point.negative = function(a, c) {
        void 0 === c && (c = new b.Point);
        return c.setTo(-a.x, -a.y)
    };
    b.Point.multiplyAdd = function(a, c, e, d) {
        void 0 === d && (d = new b.Point);
        return d.setTo(a.x + c.x * e, a.y + c.y * e)
    };
    b.Point.interpolate = function(a, c, e, d) {
        void 0 === d && (d = new b.Point);
        return d.setTo(a.x + (c.x - a.x) * e, a.y + (c.y - a.y) * e)
    };
    b.Point.perp = function(a, c) {
        void 0 === c && (c = new b.Point);
        return c.setTo(-a.y, a.x)
    };
    b.Point.rperp = function(a, c) {
        void 0 === c && (c = new b.Point);
        return c.setTo(a.y, -a.x)
    };
    b.Point.distance = function(a,
        c, e) {
        a = b.Math.distance(a.x, a.y, c.x, c.y);
        return e ? Math.round(a) : a
    };
    b.Point.project = function(a, c, e) {
        void 0 === e && (e = new b.Point);
        a = a.dot(c) / c.getMagnitudeSq();
        0 !== a && e.setTo(a * c.x, a * c.y);
        return e
    };
    b.Point.projectUnit = function(a, c, e) {
        void 0 === e && (e = new b.Point);
        a = a.dot(c);
        0 !== a && e.setTo(a * c.x, a * c.y);
        return e
    };
    b.Point.normalRightHand = function(a, c) {
        void 0 === c && (c = new b.Point);
        return c.setTo(-1 * a.y, a.x)
    };
    b.Point.normalize = function(a, c) {
        void 0 === c && (c = new b.Point);
        var e = a.getMagnitude();
        0 !== e && c.setTo(a.x /
            e, a.y / e);
        return c
    };
    b.Point.rotate = function(a, c, e, d, l, f) {
        l && (d = b.Math.degToRad(d));
        void 0 === f ? (a.subtract(c, e), f = Math.sin(d), d = Math.cos(d), l = f * a.x + d * a.y, a.x = d * a.x - f * a.y + c, a.y = l + e) : (d += Math.atan2(a.y - e, a.x - c), a.x = c + f * Math.cos(d), a.y = e + f * Math.sin(d));
        return a
    };
    b.Point.centroid = function(a, c) {
        void 0 === c && (c = new b.Point);
        if ("[object Array]" !== Object.prototype.toString.call(a)) throw Error("Phaser.Point. Parameter 'points' must be an array");
        var e = a.length;
        if (1 > e) throw Error("Phaser.Point. Parameter 'points' array must not be empty");
        if (1 === e) return c.copyFrom(a[0]), c;
        for (var d = 0; d < e; d++) b.Point.add(c, a[d], c);
        c.divide(e, e);
        return c
    };
    b.Point.parse = function(a, c, e) {
        c = c || "x";
        e = e || "y";
        var d = new b.Point;
        a[c] && (d.x = parseInt(a[c], 10));
        a[e] && (d.y = parseInt(a[e], 10));
        return d
    };
    b.Point.isPoint = function(a) {
        return null != a && "number" === typeof a.x && "number" === typeof a.y
    };
    b.Point.set = function(a, c, e) {
        a.x = c || 0;
        a.y = e || (0 !== e ? a.x : 0);
        return a
    };
    b.Point.sortClockwise = function(a, c) {
        c || (c = this.centroid(a));
        var e = c.x,
            b = c.y;
        return a.sort(function(a, c) {
            if (0 <=
                a.x - e && 0 > c.x - e) return -1;
            if (0 > a.x - e && 0 <= c.x - e) return 1;
            if (0 === a.x - e && 0 === c.x - e) return 0 <= a.y - b || 0 <= c.y - b ? a.y > c.y ? 1 : -1 : c.y > a.y ? 1 : -1;
            var d = (a.x - e) * -(c.y - b) - (c.x - e) * -(a.y - b);
            return 0 > d ? -1 : 0 < d ? 1 : (a.x - e) * (a.x - e) + (a.y - b) * (a.y - b) > (c.x - e) * (c.x - e) + (c.y - b) * (c.y - b) ? -1 : 1
        })
    };
    PIXI.Point = b.Point;
    b.Polygon = function() {
        this.area = 0;
        this._points = [];
        0 < arguments.length && this.setTo.apply(this, arguments);
        this.closed = !0;
        this.flattened = !1;
        this.type = b.POLYGON
    };
    b.Polygon.prototype = {
        toNumberArray: function(a) {
            void 0 === a && (a = []);
            for (var c = 0; c < this._points.length; c++) "number" === typeof this._points[c] ? (a.push(this._points[c]), a.push(this._points[c + 1]), c++) : (a.push(this._points[c].x), a.push(this._points[c].y));
            return a
        },
        flatten: function() {
            this._points = this.toNumberArray();
            this.flattened = !0;
            return this
        },
        clone: function(a) {
            var c = this._points.slice();
            void 0 === a || null === a ? a = new b.Polygon(c) : a.setTo(c);
            return a
        },
        contains: function(a, c) {
            var e = !1;
            if (this.flattened)
                for (var b = -2, d = this._points.length - 2;
                    (b += 2) < this._points.length; d = b) {
                    var f =
                        this._points[b],
                        g = this._points[b + 1],
                        h = this._points[d];
                    d = this._points[d + 1];
                    (g <= c && c < d || d <= c && c < g) && a < (h - f) * (c - g) / (d - g) + f && (e = !e)
                } else
                    for (b = -1, d = this._points.length - 1; ++b < this._points.length; d = b) f = this._points[b].x, g = this._points[b].y, h = this._points[d].x, d = this._points[d].y, (g <= c && c < d || d <= c && c < g) && a < (h - f) * (c - g) / (d - g) + f && (e = !e);
            return e
        },
        setTo: function(a) {
            this.area = 0;
            this._points = [];
            if (0 < arguments.length) {
                Array.isArray(a) || (a = Array.prototype.slice.call(arguments));
                for (var c = Number.MAX_VALUE, e = 0, b = a.length; e <
                    b; e++) {
                    if ("number" === typeof a[e]) {
                        var d = new PIXI.Point(a[e], a[e + 1]);
                        e++
                    } else d = Array.isArray(a[e]) ? new PIXI.Point(a[e][0], a[e][1]) : new PIXI.Point(a[e].x, a[e].y);
                    this._points.push(d);
                    d.y < c && (c = d.y)
                }
                this.calculateArea(c)
            }
            return this
        },
        calculateArea: function(a) {
            for (var c, e, b, d = 0, f = this._points.length; d < f; d++) c = this._points[d], e = d === f - 1 ? this._points[0] : this._points[d + 1], b = (c.y - a + (e.y - a)) / 2, c = c.x - e.x, this.area += b * c;
            return this.area
        }
    };
    b.Polygon.prototype.constructor = b.Polygon;
    Object.defineProperty(b.Polygon.prototype,
        "points", {
            get: function() {
                return this._points
            }
        });
    PIXI.Polygon = b.Polygon;
    b.Rectangle = function(a, c, e, d) {
        this.x = a || 0;
        this.y = c || 0;
        this.width = e || 0;
        this.height = d || 0;
        this.type = b.RECTANGLE
    };
    b.Rectangle.prototype = {
        offset: function(a, c) {
            this.x += a;
            this.y += c;
            return this
        },
        offsetPoint: function(a) {
            return this.offset(a.x, a.y)
        },
        setTo: function(a, c, e, b) {
            this.x = a;
            this.y = c;
            this.width = e;
            this.height = b;
            return this
        },
        scale: function(a, c) {
            void 0 === c && (c = a);
            this.width *= a;
            this.height *= c;
            return this
        },
        centerOn: function(a, c) {
            this.centerX =
                a;
            this.centerY = c;
            return this
        },
        floor: function() {
            this.x = Math.floor(this.x);
            this.y = Math.floor(this.y)
        },
        floorAll: function() {
            this.x = Math.floor(this.x);
            this.y = Math.floor(this.y);
            this.width = Math.floor(this.width);
            this.height = Math.floor(this.height)
        },
        ceil: function() {
            this.x = Math.ceil(this.x);
            this.y = Math.ceil(this.y)
        },
        ceilAll: function() {
            this.x = Math.ceil(this.x);
            this.y = Math.ceil(this.y);
            this.width = Math.ceil(this.width);
            this.height = Math.ceil(this.height)
        },
        copyFrom: function(a) {
            return this.setTo(a.x, a.y, a.width,
                a.height)
        },
        copyFromBounds: function(a) {
            return this.setTo(a.left, a.top, a.width, a.height)
        },
        copyTo: function(a) {
            a.x = this.x;
            a.y = this.y;
            a.width = this.width;
            a.height = this.height;
            return a
        },
        inflate: function(a, c) {
            return b.Rectangle.inflate(this, a, c)
        },
        size: function(a) {
            return b.Rectangle.size(this, a)
        },
        resize: function(a, c) {
            this.width = a;
            this.height = c;
            return this
        },
        clone: function(a) {
            return b.Rectangle.clone(this, a)
        },
        contains: function(a, c) {
            return b.Rectangle.contains(this, a, c)
        },
        containsRect: function(a) {
            return b.Rectangle.containsRect(a,
                this)
        },
        equals: function(a) {
            return b.Rectangle.equals(this, a)
        },
        intersection: function(a, c) {
            return b.Rectangle.intersection(this, a, c)
        },
        intersects: function(a) {
            return b.Rectangle.intersects(this, a)
        },
        intersectsRaw: function(a, c, e, d, l) {
            return b.Rectangle.intersectsRaw(this, a, c, e, d, l)
        },
        union: function(a, c) {
            return b.Rectangle.union(this, a, c)
        },
        random: function(a) {
            void 0 === a && (a = new b.Point);
            a.x = this.randomX;
            a.y = this.randomY;
            return a
        },
        getPoint: function(a, c) {
            void 0 === c && (c = new b.Point);
            switch (a) {
                default:
                case b.TOP_LEFT:
                    return c.set(this.x,
                        this.y);
                case b.TOP_CENTER:
                    return c.set(this.centerX, this.y);
                case b.TOP_RIGHT:
                    return c.set(this.right, this.y);
                case b.LEFT_CENTER:
                    return c.set(this.x, this.centerY);
                case b.CENTER:
                    return c.set(this.centerX, this.centerY);
                case b.RIGHT_CENTER:
                    return c.set(this.right, this.centerY);
                case b.BOTTOM_LEFT:
                    return c.set(this.x, this.bottom);
                case b.BOTTOM_CENTER:
                    return c.set(this.centerX, this.bottom);
                case b.BOTTOM_RIGHT:
                    return c.set(this.right, this.bottom)
            }
        },
        sides: function(a, c, e, d) {
            arguments.length || (a = new b.Line,
                c = new b.Line, e = new b.Line, d = new b.Line);
            var k = this.x,
                f = this.y,
                g = this.right,
                h = this.bottom;
            a.setTo(k, f, g, f);
            c.setTo(g, f, g, h);
            e.setTo(k, h, g, h);
            d.setTo(k, f, k, h);
            return arguments.length ? null : [a, c, e, d]
        },
        toString: function() {
            return "[{Rectangle (x=" + this.x + " y=" + this.y + " width=" + this.width + " height=" + this.height + " empty=" + this.empty + ")}]"
        }
    };
    Object.defineProperty(b.Rectangle.prototype, "halfWidth", {
        get: function() {
            return Math.round(this.width / 2)
        }
    });
    Object.defineProperty(b.Rectangle.prototype, "halfHeight", {
        get: function() {
            return Math.round(this.height /
                2)
        }
    });
    Object.defineProperty(b.Rectangle.prototype, "bottom", {
        get: function() {
            return this.y + this.height
        },
        set: function(a) {
            this.height = a <= this.y ? 0 : a - this.y
        }
    });
    Object.defineProperty(b.Rectangle.prototype, "bottomLeft", {
        get: function() {
            return new b.Point(this.x, this.bottom)
        },
        set: function(a) {
            this.x = a.x;
            this.bottom = a.y
        }
    });
    Object.defineProperty(b.Rectangle.prototype, "bottomRight", {
        get: function() {
            return new b.Point(this.right, this.bottom)
        },
        set: function(a) {
            this.right = a.x;
            this.bottom = a.y
        }
    });
    Object.defineProperty(b.Rectangle.prototype,
        "left", {
            get: function() {
                return this.x
            },
            set: function(a) {
                this.width = a >= this.right ? 0 : this.right - a;
                this.x = a
            }
        });
    Object.defineProperty(b.Rectangle.prototype, "right", {
        get: function() {
            return this.x + this.width
        },
        set: function(a) {
            this.width = a <= this.x ? 0 : a - this.x
        }
    });
    Object.defineProperty(b.Rectangle.prototype, "volume", {
        get: function() {
            return this.width * this.height
        }
    });
    Object.defineProperty(b.Rectangle.prototype, "perimeter", {
        get: function() {
            return 2 * this.width + 2 * this.height
        }
    });
    Object.defineProperty(b.Rectangle.prototype,
        "centerX", {
            get: function() {
                return this.x + this.halfWidth
            },
            set: function(a) {
                this.x = a - this.halfWidth
            }
        });
    Object.defineProperty(b.Rectangle.prototype, "centerY", {
        get: function() {
            return this.y + this.halfHeight
        },
        set: function(a) {
            this.y = a - this.halfHeight
        }
    });
    Object.defineProperty(b.Rectangle.prototype, "randomX", {
        get: function() {
            return this.x + Math.random() * this.width
        }
    });
    Object.defineProperty(b.Rectangle.prototype, "randomY", {
        get: function() {
            return this.y + Math.random() * this.height
        }
    });
    Object.defineProperty(b.Rectangle.prototype,
        "top", {
            get: function() {
                return this.y
            },
            set: function(a) {
                a >= this.bottom ? (this.height = 0, this.y = a) : this.height = this.bottom - a
            }
        });
    Object.defineProperty(b.Rectangle.prototype, "topLeft", {
        get: function() {
            return new b.Point(this.x, this.y)
        },
        set: function(a) {
            this.x = a.x;
            this.y = a.y
        }
    });
    Object.defineProperty(b.Rectangle.prototype, "topRight", {
        get: function() {
            return new b.Point(this.x + this.width, this.y)
        },
        set: function(a) {
            this.right = a.x;
            this.y = a.y
        }
    });
    Object.defineProperty(b.Rectangle.prototype, "empty", {
        get: function() {
            return !this.width ||
                !this.height
        },
        set: function(a) {
            !0 === a && this.setTo(0, 0, 0, 0)
        }
    });
    b.Rectangle.prototype.constructor = b.Rectangle;
    b.Rectangle.inflate = function(a, c, e) {
        a.x -= c;
        a.width += 2 * c;
        a.y -= e;
        a.height += 2 * e;
        return a
    };
    b.Rectangle.inflatePoint = function(a, c) {
        return b.Rectangle.inflate(a, c.x, c.y)
    };
    b.Rectangle.size = function(a, c) {
        void 0 === c || null === c ? c = new b.Point(a.width, a.height) : c.setTo(a.width, a.height);
        return c
    };
    b.Rectangle.clone = function(a, c) {
        void 0 === c || null === c ? c = new b.Rectangle(a.x, a.y, a.width, a.height) : c.setTo(a.x,
            a.y, a.width, a.height);
        return c
    };
    b.Rectangle.createFromBounds = function(a, c) {
        if (void 0 === c || null === c) c = new b.Rectangle(a.x, a.y, a.width, a.height);
        return c.copyFromBounds(a)
    };
    b.Rectangle.contains = function(a, c, e) {
        return 0 >= a.width || 0 >= a.height ? !1 : c >= a.x && c < a.right && e >= a.y && e < a.bottom
    };
    b.Rectangle.containsRaw = function(a, c, e, b, d, f) {
        return d >= a && d < a + e && f >= c && f < c + b
    };
    b.Rectangle.containsPoint = function(a, c) {
        return b.Rectangle.contains(a, c.x, c.y)
    };
    b.Rectangle.containsRect = function(a, c) {
        return a.volume > c.volume ?
            !1 : a.x >= c.x && a.y >= c.y && a.right < c.right && a.bottom < c.bottom
    };
    b.Rectangle.equals = function(a, c) {
        return a.x === c.x && a.y === c.y && a.width === c.width && a.height === c.height
    };
    b.Rectangle.sameDimensions = function(a, c) {
        return a.width === c.width && a.height === c.height
    };
    b.Rectangle.intersection = function(a, c, e) {
        void 0 === e && (e = new b.Rectangle);
        b.Rectangle.intersects(a, c) && (e.x = Math.max(a.x, c.x), e.y = Math.max(a.y, c.y), e.width = Math.min(a.right, c.right) - e.x, e.height = Math.min(a.bottom, c.bottom) - e.y);
        return e
    };
    b.Rectangle.intersects =
        function(a, c) {
            return 0 >= a.width || 0 >= a.height || 0 >= c.width || 0 >= c.height ? !1 : !(a.right < c.x || a.bottom < c.y || a.x > c.right || a.y > c.bottom)
        };
    b.Rectangle.intersectsRaw = function(a, c, e, b, d, f) {
        void 0 === f && (f = 0);
        return !(c > a.right + f || e < a.left - f || b > a.bottom + f || d < a.top - f)
    };
    b.Rectangle.union = function(a, c, e) {
        void 0 === e && (e = new b.Rectangle);
        return e.setTo(Math.min(a.x, c.x), Math.min(a.y, c.y), Math.max(a.right, c.right) - Math.min(a.left, c.left), Math.max(a.bottom, c.bottom) - Math.min(a.top, c.top))
    };
    b.Rectangle.aabb = function(a,
        c) {
        void 0 === c && (c = new b.Rectangle);
        var e = Number.NEGATIVE_INFINITY,
            d = Number.POSITIVE_INFINITY,
            l = Number.NEGATIVE_INFINITY,
            f = Number.POSITIVE_INFINITY;
        a.forEach(function(a) {
            a.x > e && (e = a.x);
            a.x < d && (d = a.x);
            a.y > l && (l = a.y);
            a.y < f && (f = a.y)
        });
        c.setTo(d, f, e - d, l - f);
        return c
    };
    PIXI.Rectangle = b.Rectangle;
    PIXI.EmptyRectangle = new b.Rectangle(0, 0, 0, 0);
    b.RoundedRectangle = function(a, c, e, d, l) {
        void 0 === a && (a = 0);
        void 0 === c && (c = 0);
        void 0 === e && (e = 0);
        void 0 === d && (d = 0);
        void 0 === l && (l = 20);
        this.x = a;
        this.y = c;
        this.width = e;
        this.height =
            d;
        this.radius = l || 20;
        this.type = b.ROUNDEDRECTANGLE
    };
    b.RoundedRectangle.prototype = {
        clone: function() {
            return new b.RoundedRectangle(this.x, this.y, this.width, this.height, this.radius)
        },
        contains: function(a, c) {
            if (0 >= this.width || 0 >= this.height) return !1;
            var e = this.x;
            return a >= e && a <= e + this.width && (a = this.y, c >= a && c <= a + this.height) ? !0 : !1
        }
    };
    b.RoundedRectangle.prototype.constructor = b.RoundedRectangle;
    PIXI.RoundedRectangle = b.RoundedRectangle;
    b.Camera = function(a, c, e, d, l, f) {
        this.game = a;
        this.world = a.world;
        this.id = 0;
        this.view = new b.Rectangle(e, d, l, f);
        this.bounds = new b.Rectangle(e, d, l, f);
        this.deadzone = null;
        this.roundPx = this.visible = !0;
        this.atLimit = {
            x: !1,
            y: !1
        };
        this.scale = this.displayObject = this.target = null;
        this.totalInView = 0;
        this.lerp = new b.Point(1, 1);
        this.onShakeComplete = new b.Signal;
        this.onFlashComplete = new b.Signal;
        this.onFadeComplete = new b.Signal;
        this.fx = null;
        this._targetPosition = new b.Point;
        this._edge = 0;
        this._position = new b.Point;
        this._shake = {
            intensity: 0,
            duration: 0,
            horizontal: !1,
            vertical: !1,
            shakeBounds: !0,
            x: 0,
            y: 0
        };
        this._fxType = this._fxDuration = 0;
        this._fixedView = new b.Rectangle
    };
    b.Camera.FOLLOW_LOCKON = 0;
    b.Camera.FOLLOW_PLATFORMER = 1;
    b.Camera.FOLLOW_TOPDOWN = 2;
    b.Camera.FOLLOW_TOPDOWN_TIGHT = 3;
    b.Camera.SHAKE_BOTH = 4;
    b.Camera.SHAKE_HORIZONTAL = 5;
    b.Camera.SHAKE_VERTICAL = 6;
    b.Camera.ENABLE_FX = !0;
    b.Camera.prototype = {
        boot: function() {
            this.displayObject = this.game.world;
            this.scale = this.game.world.scale;
            this.game.camera = this;
            b.Graphics && b.Camera.ENABLE_FX && (this.fx = new b.Graphics(this.game), this.game.stage.addChild(this.fx))
        },
        preUpdate: function() {
            this.totalInView = 0
        },
        follow: function(a, c, e, d) {
            void 0 === c && (c = b.Camera.FOLLOW_LOCKON);
            void 0 === e && (e = 1);
            void 0 === d && (d = 1);
            this.target = a;
            this.lerp.set(e, d);
            switch (c) {
                case b.Camera.FOLLOW_PLATFORMER:
                    a = this.width / 8;
                    c = this.height / 3;
                    this.deadzone = new b.Rectangle((this.width - a) / 2, (this.height - c) / 2 - .25 * c, a, c);
                    break;
                case b.Camera.FOLLOW_TOPDOWN:
                    a = Math.max(this.width, this.height) / 4;
                    this.deadzone = new b.Rectangle((this.width - a) / 2, (this.height - a) / 2, a, a);
                    break;
                case b.Camera.FOLLOW_TOPDOWN_TIGHT:
                    a =
                        Math.max(this.width, this.height) / 8;
                    this.deadzone = new b.Rectangle((this.width - a) / 2, (this.height - a) / 2, a, a);
                    break;
                case b.Camera.FOLLOW_LOCKON:
                    this.deadzone = null;
                    break;
                default:
                    this.deadzone = null
            }
        },
        unfollow: function() {
            this.target = null
        },
        focusOn: function(a) {
            this.setPosition(Math.round(a.x - this.view.halfWidth), Math.round(a.y - this.view.halfHeight))
        },
        focusOnXY: function(a, c) {
            this.setPosition(Math.round(a - this.view.halfWidth), Math.round(c - this.view.halfHeight))
        },
        shake: function(a, c, e, d, l) {
            void 0 === a && (a = .05);
            void 0 === c && (c = 500);
            void 0 === e && (e = !0);
            void 0 === d && (d = b.Camera.SHAKE_BOTH);
            void 0 === l && (l = !0);
            if (!e && 0 < this._shake.duration) return !1;
            this._shake.intensity = a;
            this._shake.duration = c;
            this._shake.shakeBounds = l;
            this._shake.x = 0;
            this._shake.y = 0;
            this._shake.horizontal = d === b.Camera.SHAKE_BOTH || d === b.Camera.SHAKE_HORIZONTAL;
            this._shake.vertical = d === b.Camera.SHAKE_BOTH || d === b.Camera.SHAKE_VERTICAL;
            return !0
        },
        flash: function(a, c, e, b) {
            void 0 === a && (a = 16777215);
            void 0 === c && (c = 500);
            void 0 === e && (e = !1);
            void 0 === b && (b =
                1);
            if (!this.fx || !e && 0 < this._fxDuration) return !1;
            this.fx.clear();
            this.fx.beginFill(a, b);
            this.fx.drawRect(0, 0, this.width, this.height);
            this.fx.endFill();
            this.fx.alpha = 1;
            this._fxDuration = c;
            this._fxType = 0;
            return !0
        },
        fade: function(a, c, e, b) {
            void 0 === a && (a = 0);
            void 0 === c && (c = 500);
            void 0 === e && (e = !1);
            void 0 === b && (b = 1);
            if (!this.fx || !e && 0 < this._fxDuration) return !1;
            this.fx.clear();
            this.fx.beginFill(a, b);
            this.fx.drawRect(0, 0, this.width, this.height);
            this.fx.endFill();
            this.fx.alpha = 0;
            this._fxDuration = c;
            this._fxType =
                1;
            return !0
        },
        update: function() {
            0 < this._fxDuration && this.updateFX();
            0 < this._shake.duration && this.updateShake();
            this.bounds && this.checkBounds();
            this.roundPx && (this.view.floor(), this._shake.x = Math.floor(this._shake.x), this._shake.y = Math.floor(this._shake.y));
            this.displayObject.position.x = -this.view.x;
            this.displayObject.position.y = -this.view.y
        },
        updateFX: function() {
            0 === this._fxType ? (this.fx.alpha -= this.game.time.elapsedMS / this._fxDuration, 0 >= this.fx.alpha && (this._fxDuration = 0, this.fx.alpha = 0, this.onFlashComplete.dispatch())) :
                (this.fx.alpha += this.game.time.elapsedMS / this._fxDuration, 1 <= this.fx.alpha && (this._fxDuration = 0, this.fx.alpha = 1, this.onFadeComplete.dispatch()))
        },
        updateShake: function() {
            this._shake.duration -= this.game.time.elapsedMS;
            0 >= this._shake.duration ? (this.onShakeComplete.dispatch(), this._shake.x = 0, this._shake.y = 0) : (this._shake.horizontal && (this._shake.x = this.game.rnd.frac() * this._shake.intensity * this.view.width * 2 - this._shake.intensity * this.view.width), this._shake.vertical && (this._shake.y = this.game.rnd.frac() *
                this._shake.intensity * this.view.height * 2 - this._shake.intensity * this.view.height))
        },
        updateTarget: function() {
            this._targetPosition.x = this.view.x + this.target.worldPosition.x;
            this._targetPosition.y = this.view.y + this.target.worldPosition.y;
            this.deadzone ? (this._edge = this._targetPosition.x - this.view.x, this._edge < this.deadzone.left ? this.view.x = this.game.math.linear(this.view.x, this._targetPosition.x - this.deadzone.left, this.lerp.x) : this._edge > this.deadzone.right && (this.view.x = this.game.math.linear(this.view.x,
                this._targetPosition.x - this.deadzone.right, this.lerp.x)), this._edge = this._targetPosition.y - this.view.y, this._edge < this.deadzone.top ? this.view.y = this.game.math.linear(this.view.y, this._targetPosition.y - this.deadzone.top, this.lerp.y) : this._edge > this.deadzone.bottom && (this.view.y = this.game.math.linear(this.view.y, this._targetPosition.y - this.deadzone.bottom, this.lerp.y))) : (this.view.x = this.game.math.linear(this.view.x, this._targetPosition.x - this.view.halfWidth, this.lerp.x), this.view.y = this.game.math.linear(this.view.y,
                this._targetPosition.y - this.view.halfHeight, this.lerp.y));
            this.bounds && this.checkBounds();
            this.roundPx && this.view.floor();
            this.displayObject.position.x = -this.view.x;
            this.displayObject.position.y = -this.view.y
        },
        setBoundsToWorld: function() {
            this.bounds && this.bounds.copyFrom(this.game.world.bounds)
        },
        checkBounds: function() {
            this.atLimit.x = !1;
            this.atLimit.y = !1;
            var a = this.view.right + this._shake.x,
                c = this.view.y + this._shake.y,
                e = this.view.bottom + this._shake.y;
            this.view.x + this._shake.x <= this.bounds.x * this.scale.x ?
                (this.atLimit.x = !0, this.view.x = this.bounds.x * this.scale.x, this._shake.shakeBounds || (this._shake.x = 0)) : a >= this.bounds.right * this.scale.x && (this.atLimit.x = !0, this.view.x = this.bounds.right * this.scale.x - this.width, this._shake.shakeBounds || (this._shake.x = 0));
            c <= this.bounds.top * this.scale.y ? (this.atLimit.y = !0, this.view.y = this.bounds.top * this.scale.y, this._shake.shakeBounds || (this._shake.y = 0)) : e >= this.bounds.bottom * this.scale.y && (this.atLimit.y = !0, this.view.y = this.bounds.bottom * this.scale.y - this.height,
                this._shake.shakeBounds || (this._shake.y = 0))
        },
        setPosition: function(a, c) {
            this.view.x = a;
            this.view.y = c;
            this.bounds && this.checkBounds()
        },
        setSize: function(a, c) {
            this.view.width = a;
            this.view.height = c
        },
        reset: function() {
            this.target = null;
            this.view.x = 0;
            this.view.y = 0;
            this._shake.duration = 0;
            this._shake.x = 0;
            this._shake.y = 0;
            this.resetFX()
        },
        resetFX: function() {
            this.fx && (this.fx.clear(), this.fx.alpha = 0);
            this._fxDuration = 0
        }
    };
    b.Camera.prototype.constructor = b.Camera;
    Object.defineProperty(b.Camera.prototype, "x", {
        get: function() {
            return this.view.x
        },
        set: function(a) {
            this.view.x = a;
            this.bounds && this.checkBounds()
        }
    });
    Object.defineProperty(b.Camera.prototype, "y", {
        get: function() {
            return this.view.y
        },
        set: function(a) {
            this.view.y = a;
            this.bounds && this.checkBounds()
        }
    });
    Object.defineProperty(b.Camera.prototype, "position", {
        get: function() {
            this._position.set(this.view.x, this.view.y);
            return this._position
        },
        set: function(a) {
            "undefined" !== typeof a.x && (this.view.x = a.x);
            "undefined" !== typeof a.y && (this.view.y = a.y);
            this.bounds && this.checkBounds()
        }
    });
    Object.defineProperty(b.Camera.prototype,
        "width", {
            get: function() {
                return this.view.width
            },
            set: function(a) {
                this.view.width = a
            }
        });
    Object.defineProperty(b.Camera.prototype, "height", {
        get: function() {
            return this.view.height
        },
        set: function(a) {
            this.view.height = a
        }
    });
    Object.defineProperty(b.Camera.prototype, "shakeIntensity", {
        get: function() {
            return this._shake.intensity
        },
        set: function(a) {
            this._shake.intensity = a
        }
    });
    Object.defineProperty(b.Camera.prototype, "fixedView", {
        get: function() {
            this._fixedView.setTo(0, 0, this.view.width, this.view.height);
            return this._fixedView
        }
    });
    b.State = function() {
        this.game = null;
        this.key = "";
        this.rnd = this.physics = this.particles = this.world = this.tweens = this.time = this.state = this.stage = this.scale = this.sound = this.math = this.load = this.input = this.cache = this.camera = this.make = this.add = null
    };
    b.State.prototype = {
        init: function() {},
        preload: function() {},
        loadUpdate: function() {},
        loadRender: function() {},
        create: function() {},
        update: function() {},
        preRender: function() {},
        render: function() {},
        resize: function() {},
        paused: function() {},
        resumed: function() {},
        pauseUpdate: function() {},
        shutdown: function() {}
    };
    b.State.prototype.constructor = b.State;
    b.StateManager = function(a, c) {
        this.game = a;
        this.states = {};
        this._pendingState = null;
        "undefined" !== typeof c && null !== c && (this._pendingState = c);
        this._created = this._clearCache = this._clearWorld = !1;
        this._args = [];
        this.current = "";
        this.onStateChange = new b.Signal;
        this.onShutDownCallback = this.onPauseUpdateCallback = this.onResumedCallback = this.onPausedCallback = this.onLoadRenderCallback = this.onLoadUpdateCallback = this.onPreRenderCallback = this.onResizeCallback =
            this.onRenderCallback = this.onUpdateCallback = this.onCreateCallback = this.onPreloadCallback = this.onInitCallback = null
    };
    b.StateManager.prototype = {
        boot: function() {
            this.game.onPause.add(this.pause, this);
            this.game.onResume.add(this.resume, this);
            null !== this._pendingState && "string" !== typeof this._pendingState && this.add("default", this._pendingState, !0)
        },
        add: function(a, c, e) {
            void 0 === e && (e = !1);
            if (c instanceof b.State) var d = c;
            else "object" === typeof c ? (d = c, d.game = this.game) : "function" === typeof c && (d = new c(this.game));
            this.states[a] = d;
            e && (this.game.isBooted ? this.start(a) : this._pendingState = a);
            return d
        },
        remove: function(a) {
            this.current === a && (this.onPauseUpdateCallback = this.onResumedCallback = this.onPausedCallback = this.onResizeCallback = this.onRenderCallback = this.onPreRenderCallback = this.onUpdateCallback = this.onCreateCallback = this.onLoadUpdateCallback = this.onLoadRenderCallback = this.onPreloadCallback = this.onShutDownCallback = this.onInitCallback = this.callbackContext = null);
            delete this.states[a]
        },
        start: function(a, c, e) {
            void 0 ===
                c && (c = !0);
            void 0 === e && (e = !1);
            this.checkState(a) && (this._pendingState = a, this._clearWorld = c, this._clearCache = e, 3 < arguments.length && (this._args = Array.prototype.splice.call(arguments, 3)))
        },
        restart: function(a, c) {
            void 0 === a && (a = !0);
            void 0 === c && (c = !1);
            this._pendingState = this.current;
            this._clearWorld = a;
            this._clearCache = c;
            2 < arguments.length && (this._args = Array.prototype.slice.call(arguments, 2))
        },
        dummy: function() {},
        preUpdate: function() {
            if (this._pendingState && this.game.isBooted) {
                var a = this.current;
                this.clearCurrentState();
                this.setCurrentState(this._pendingState);
                this.onStateChange.dispatch(this.current, a);
                this.current === this._pendingState && (this._pendingState = null, this.onPreloadCallback ? (this.game.load.reset(!0), this.onPreloadCallback.call(this.callbackContext, this.game), 0 === this.game.load.totalQueuedFiles() && 0 === this.game.load.totalQueuedPacks() ? this.loadComplete() : this.game.load.start()) : this.loadComplete())
            }
        },
        clearCurrentState: function() {
            this.current && (this.onShutDownCallback && this.onShutDownCallback.call(this.callbackContext,
                this.game), this.game.tweens.removeAll(), this.game.camera.reset(), this.game.input.reset(!0), this.game.physics.clear(), this.game.time.removeAll(), this.game.scale.reset(this._clearWorld), this.game.debug && this.game.debug.reset(), this._clearWorld && (this.game.world.shutdown(), this._clearCache && this.game.cache.destroy()))
        },
        checkState: function(a) {
            var c = this.states[a];
            if (c) {
                if (c.preload || c.create || c.update || c.render) return !0;
                console.warn("Invalid Phaser State object given. Must contain at least one of the required functions: preload, create, update or render");
                return !1
            }
            console.warn("Phaser.StateManager - No state found with the key: " + a);
            return !1
        },
        link: function(a) {
            var c = this.states[a];
            c.game = this.game;
            c.add = this.game.add;
            c.make = this.game.make;
            c.camera = this.game.camera;
            c.cache = this.game.cache;
            c.input = this.game.input;
            c.load = this.game.load;
            c.math = this.game.math;
            c.sound = this.game.sound;
            c.scale = this.game.scale;
            c.state = this;
            c.stage = this.game.stage;
            c.time = this.game.time;
            c.tweens = this.game.tweens;
            c.world = this.game.world;
            c.particles = this.game.particles;
            c.rnd = this.game.rnd;
            c.physics = this.game.physics;
            c.key = a
        },
        unlink: function(a) {
            if (a = this.states[a]) a.game = null, a.add = null, a.make = null, a.camera = null, a.cache = null, a.input = null, a.load = null, a.math = null, a.sound = null, a.scale = null, a.state = null, a.stage = null, a.time = null, a.tweens = null, a.world = null, a.particles = null, a.rnd = null, a.physics = null
        },
        setCurrentState: function(a) {
            var c = this.states[a];
            this.callbackContext = c;
            this.link(a);
            this.onInitCallback = c.init || this.dummy;
            this.onPreloadCallback = c.preload || null;
            this.onLoadRenderCallback = c.loadRender ||
                null;
            this.onLoadUpdateCallback = c.loadUpdate || null;
            this.onCreateCallback = c.create || null;
            this.onUpdateCallback = c.update || null;
            this.onPreRenderCallback = c.preRender || null;
            this.onRenderCallback = c.render || null;
            this.onResizeCallback = c.resize || null;
            this.onPausedCallback = c.paused || null;
            this.onResumedCallback = c.resumed || null;
            this.onPauseUpdateCallback = c.pauseUpdate || null;
            this.onShutDownCallback = c.shutdown || this.dummy;
            "" !== this.current && this.game.physics.reset();
            this.current = a;
            this._created = !1;
            this.onInitCallback.apply(this.callbackContext,
                this._args);
            a === this._pendingState && (this._args = []);
            this.game._kickstart = !0
        },
        getCurrentState: function() {
            return this.states[this.current]
        },
        loadComplete: function() {
            !1 === this._created && this.onCreateCallback ? (this._created = !0, this.onCreateCallback.call(this.callbackContext, this.game)) : this._created = !0
        },
        loadUpdate: function() {
            !1 === this._created && this.onLoadUpdateCallback && this.onLoadUpdateCallback.call(this.callbackContext, this.game)
        },
        pause: function() {
            this._created && this.onPausedCallback && this.onPausedCallback.call(this.callbackContext,
                this.game)
        },
        resume: function() {
            this._created && this.onResumedCallback && this.onResumedCallback.call(this.callbackContext, this.game)
        },
        update: function() {
            this._created ? this.onUpdateCallback && this.onUpdateCallback.call(this.callbackContext, this.game) : this.onLoadUpdateCallback && this.onLoadUpdateCallback.call(this.callbackContext, this.game)
        },
        pauseUpdate: function() {
            this._created ? this.onPauseUpdateCallback && this.onPauseUpdateCallback.call(this.callbackContext, this.game) : this.onLoadUpdateCallback && this.onLoadUpdateCallback.call(this.callbackContext,
                this.game)
        },
        preRender: function(a) {
            this._created && this.onPreRenderCallback && this.onPreRenderCallback.call(this.callbackContext, this.game, a)
        },
        resize: function(a, c) {
            this.onResizeCallback && this.onResizeCallback.call(this.callbackContext, a, c)
        },
        render: function() {
            this._created ? this.onRenderCallback && (this.game.renderType === b.CANVAS ? (this.game.context.save(), this.game.context.setTransform(1, 0, 0, 1, 0, 0), this.onRenderCallback.call(this.callbackContext, this.game), this.game.context.restore()) : this.onRenderCallback.call(this.callbackContext,
                this.game)) : this.onLoadRenderCallback && this.onLoadRenderCallback.call(this.callbackContext, this.game)
        },
        destroy: function() {
            this._clearCache = this._clearWorld = !0;
            this.clearCurrentState();
            this.game = this.onPauseUpdateCallback = this.onResumedCallback = this.onPausedCallback = this.onRenderCallback = this.onUpdateCallback = this.onCreateCallback = this.onLoadUpdateCallback = this.onLoadRenderCallback = this.onPreloadCallback = this.onShutDownCallback = this.onInitCallback = this.callbackContext = null;
            this.states = {};
            this._pendingState =
                null;
            this.current = ""
        }
    };
    b.StateManager.prototype.constructor = b.StateManager;
    Object.defineProperty(b.StateManager.prototype, "created", {
        get: function() {
            return this._created
        }
    });
    b.Signal = function() {};
    b.Signal.prototype = {
        _bindings: null,
        _prevParams: null,
        memorize: !1,
        _shouldPropagate: !0,
        active: !0,
        _boundDispatch: !1,
        validateListener: function(a, c) {
            if ("function" !== typeof a) throw Error("Phaser.Signal: listener is a required param of {fn}() and should be a Function.".replace("{fn}", c));
        },
        _registerListener: function(a,
            c, e, d, l) {
            var k = this._indexOfListener(a, e);
            if (-1 !== k) {
                if (a = this._bindings[k], a.isOnce() !== c) throw Error("You cannot add" + (c ? "" : "Once") + "() then add" + (c ? "Once" : "") + "() the same listener without removing the relationship first.");
            } else a = new b.SignalBinding(this, a, c, e, d, l), this._addBinding(a);
            this.memorize && this._prevParams && a.execute(this._prevParams);
            return a
        },
        _addBinding: function(a) {
            this._bindings || (this._bindings = []);
            var c = this._bindings.length;
            do c--; while (this._bindings[c] && a._priority <= this._bindings[c]._priority);
            this._bindings.splice(c + 1, 0, a)
        },
        _indexOfListener: function(a, c) {
            if (!this._bindings) return -1;
            void 0 === c && (c = null);
            for (var e = this._bindings.length, b; e--;)
                if (b = this._bindings[e], b._listener === a && b.context === c) return e;
            return -1
        },
        has: function(a, c) {
            return -1 !== this._indexOfListener(a, c)
        },
        add: function(a, c, e) {
            this.validateListener(a, "add");
            var b = [];
            if (3 < arguments.length)
                for (var d = 3; d < arguments.length; d++) b.push(arguments[d]);
            return this._registerListener(a, !1, c, e, b)
        },
        addOnce: function(a, c, e) {
            this.validateListener(a,
                "addOnce");
            var b = [];
            if (3 < arguments.length)
                for (var d = 3; d < arguments.length; d++) b.push(arguments[d]);
            return this._registerListener(a, !0, c, e, b)
        },
        remove: function(a, c) {
            this.validateListener(a, "remove");
            c = this._indexOfListener(a, c); - 1 !== c && (this._bindings[c]._destroy(), this._bindings.splice(c, 1));
            return a
        },
        removeAll: function(a) {
            void 0 === a && (a = null);
            if (this._bindings) {
                for (var c = this._bindings.length; c--;) a ? this._bindings[c].context === a && (this._bindings[c]._destroy(), this._bindings.splice(c, 1)) : this._bindings[c]._destroy();
                a || (this._bindings.length = 0)
            }
        },
        getNumListeners: function() {
            return this._bindings ? this._bindings.length : 0
        },
        halt: function() {
            this._shouldPropagate = !1
        },
        dispatch: function() {
            if (this.active && (this._bindings || this.memorize)) {
                var a = Array.prototype.slice.call(arguments);
                this.memorize && (this._prevParams = a);
                var c = this._bindings ? this._bindings.length : 0;
                if (c) {
                    var e = this._bindings.slice();
                    this._shouldPropagate = !0;
                    do c--; while (e[c] && this._shouldPropagate && !1 !== e[c].execute(a))
                }
            }
        },
        forget: function() {
            this._prevParams &&
                (this._prevParams = null)
        },
        dispose: function() {
            this.removeAll();
            this._bindings = null;
            this._prevParams && (this._prevParams = null)
        },
        toString: function() {
            return "[Phaser.Signal active:" + this.active + " numListeners:" + this.getNumListeners() + "]"
        }
    };
    Object.defineProperty(b.Signal.prototype, "boundDispatch", {
        get: function() {
            var a = this;
            return this._boundDispatch || (this._boundDispatch = function() {
                return a.dispatch.apply(a, arguments)
            })
        }
    });
    b.Signal.prototype.constructor = b.Signal;
    b.SignalBinding = function(a, c, e, b, d, f) {
        this._listener =
            c;
        e && (this._isOnce = !0);
        null != b && (this.context = b);
        this._signal = a;
        d && (this._priority = d);
        f && f.length && (this._args = f)
    };
    b.SignalBinding.prototype = {
        context: null,
        _isOnce: !1,
        _priority: 0,
        _args: null,
        callCount: 0,
        active: !0,
        params: null,
        execute: function(a) {
            if (this.active && this._listener) {
                a = this.params ? this.params.concat(a) : a;
                this._args && (a = a.concat(this._args));
                var c = this._listener.apply(this.context, a);
                this.callCount++;
                this._isOnce && this.detach()
            }
            return c
        },
        detach: function() {
            return this.isBound() ? this._signal.remove(this._listener,
                this.context) : null
        },
        isBound: function() {
            return !!this._signal && !!this._listener
        },
        isOnce: function() {
            return this._isOnce
        },
        getListener: function() {
            return this._listener
        },
        getSignal: function() {
            return this._signal
        },
        _destroy: function() {
            delete this._signal;
            delete this._listener;
            delete this.context
        },
        toString: function() {
            return "[Phaser.SignalBinding isOnce:" + this._isOnce + ", isBound:" + this.isBound() + ", active:" + this.active + "]"
        }
    };
    b.SignalBinding.prototype.constructor = b.SignalBinding;
    b.Filter = function(a, c, e) {
        this.game =
            a;
        this.type = b.WEBGL_FILTER;
        this.passes = [this];
        this.shaders = [];
        this.dirty = !0;
        this.padding = 0;
        this.prevPoint = new b.Point;
        a = new Date;
        this.uniforms = {
            resolution: {
                type: "2f",
                value: {
                    x: 256,
                    y: 256
                }
            },
            time: {
                type: "1f",
                value: 0
            },
            mouse: {
                type: "2f",
                value: {
                    x: 0,
                    y: 0
                }
            },
            date: {
                type: "4fv",
                value: [a.getFullYear(), a.getMonth(), a.getDate(), 3600 * a.getHours() + 60 * a.getMinutes() + a.getSeconds()]
            },
            sampleRate: {
                type: "1f",
                value: 44100
            },
            iChannel0: {
                type: "sampler2D",
                value: null,
                textureData: {
                    repeat: !0
                }
            },
            iChannel1: {
                type: "sampler2D",
                value: null,
                textureData: {
                    repeat: !0
                }
            },
            iChannel2: {
                type: "sampler2D",
                value: null,
                textureData: {
                    repeat: !0
                }
            },
            iChannel3: {
                type: "sampler2D",
                value: null,
                textureData: {
                    repeat: !0
                }
            }
        };
        if (c)
            for (var d in c) this.uniforms[d] = c[d];
        "string" === typeof e && (e = e.split("\n"));
        this.fragmentSrc = e || []
    };
    b.Filter.prototype = {
        init: function() {},
        setResolution: function(a, c) {
            this.uniforms.resolution.value.x = a;
            this.uniforms.resolution.value.y = c
        },
        update: function(a) {
            if (a) {
                var c = a.x / this.game.width;
                a = 1 - a.y / this.game.height;
                if (c !== this.prevPoint.x || a !==
                    this.prevPoint.y) this.uniforms.mouse.value.x = c.toFixed(2), this.uniforms.mouse.value.y = a.toFixed(2), this.prevPoint.set(c, a)
            }
            this.uniforms.time.value = this.game.time.totalElapsedSeconds()
        },
        addToWorld: function(a, c, e, d, l, f) {
            void 0 === l && (l = 0);
            void 0 === f && (f = 0);
            void 0 !== e && null !== e ? this.width = e : e = this.width;
            void 0 !== d && null !== d ? this.height = d : d = this.height;
            a = this.game.add.image(a, c, b.Cache.DEFAULT);
            a.width = e;
            a.height = d;
            a.anchor.set(l, f);
            a.filters = [this];
            return a
        },
        syncUniforms: function() {
            for (var a = 0; a < this.shaders.length; a++) this.shaders[a].dirty = !0
        },
        destroy: function() {
            this.passes.length = 0;
            this.shaders.length = 0;
            this.fragmentSrc.length = 0;
            this.prevPoint = this.uniforms = this.game = null
        }
    };
    b.Filter.prototype.constructor = b.Filter;
    Object.defineProperty(b.Filter.prototype, "width", {
        get: function() {
            return this.uniforms.resolution.value.x
        },
        set: function(a) {
            this.uniforms.resolution.value.x = a
        }
    });
    Object.defineProperty(b.Filter.prototype, "height", {
        get: function() {
            return this.uniforms.resolution.value.y
        },
        set: function(a) {
            this.uniforms.resolution.value.y = a
        }
    });
    b.Plugin =
        function(a, c) {
            void 0 === c && (c = null);
            this.game = a;
            this.parent = c;
            this.hasPostRender = this.hasRender = this.hasPostUpdate = this.hasUpdate = this.hasPreUpdate = this.visible = this.active = !1
        };
    b.Plugin.prototype = {
        preUpdate: function() {},
        update: function() {},
        render: function() {},
        postRender: function() {},
        destroy: function() {
            this.parent = this.game = null;
            this.visible = this.active = !1
        }
    };
    b.Plugin.prototype.constructor = b.Plugin;
    b.PluginManager = function(a) {
        this.game = a;
        this.plugins = [];
        this._i = this._len = 0
    };
    b.PluginManager.prototype = {
        add: function(a) {
            var c = Array.prototype.slice.call(arguments, 1),
                e = !1;
            "function" === typeof a ? a = new a(this.game, this) : (a.game = this.game, a.parent = this);
            "function" === typeof a.preUpdate && (e = a.hasPreUpdate = !0);
            "function" === typeof a.update && (e = a.hasUpdate = !0);
            "function" === typeof a.postUpdate && (e = a.hasPostUpdate = !0);
            "function" === typeof a.render && (e = a.hasRender = !0);
            "function" === typeof a.postRender && (e = a.hasPostRender = !0);
            if (e) {
                if (a.hasPreUpdate || a.hasUpdate || a.hasPostUpdate) a.active = !0;
                if (a.hasRender || a.hasPostRender) a.visible = !0;
                this._len = this.plugins.push(a);
                "function" === typeof a.init && a.init.apply(a, c);
                return a
            }
            return null
        },
        remove: function(a, c) {
            void 0 === c && (c = !0);
            for (this._i = this._len; this._i--;)
                if (this.plugins[this._i] === a) {
                    c && a.destroy();
                    this.plugins.splice(this._i, 1);
                    this._len--;
                    break
                }
        },
        removeAll: function() {
            for (this._i = this._len; this._i--;) this.plugins[this._i].destroy();
            this._len = this.plugins.length = 0
        },
        preUpdate: function() {
            for (this._i = this._len; this._i--;) this.plugins[this._i].active && this.plugins[this._i].hasPreUpdate &&
                this.plugins[this._i].preUpdate()
        },
        update: function() {
            for (this._i = this._len; this._i--;) this.plugins[this._i].active && this.plugins[this._i].hasUpdate && this.plugins[this._i].update()
        },
        postUpdate: function() {
            for (this._i = this._len; this._i--;) this.plugins[this._i].active && this.plugins[this._i].hasPostUpdate && this.plugins[this._i].postUpdate()
        },
        render: function() {
            for (this._i = this._len; this._i--;) this.plugins[this._i].visible && this.plugins[this._i].hasRender && this.plugins[this._i].render()
        },
        postRender: function() {
            for (this._i =
                this._len; this._i--;) this.plugins[this._i].visible && this.plugins[this._i].hasPostRender && this.plugins[this._i].postRender()
        },
        destroy: function() {
            this.removeAll();
            this.game = null
        }
    };
    b.PluginManager.prototype.constructor = b.PluginManager;
    b.Stage = function(a) {
        this.game = a;
        PIXI.DisplayObjectContainer.call(this);
        this.name = "_stage_root";
        this.disableVisibilityChange = !1;
        this.exists = !0;
        this.worldTransform = new b.Matrix;
        this.stage = this;
        this.currentRenderOrderID = 0;
        this._hiddenVar = "hidden";
        this._onChange = null;
        this._bgColor = {
            r: 0,
            g: 0,
            b: 0,
            a: 0,
            color: 0,
            rgba: "#000000"
        };
        this.game.transparent || (this._bgColor.a = 1);
        a.config && this.parseConfig(a.config)
    };
    b.Stage.prototype = Object.create(PIXI.DisplayObjectContainer.prototype);
    b.Stage.prototype.constructor = b.Stage;
    b.Stage.prototype.parseConfig = function(a) {
        a.disableVisibilityChange && (this.disableVisibilityChange = a.disableVisibilityChange);
        a.backgroundColor && this.setBackgroundColor(a.backgroundColor)
    };
    b.Stage.prototype.boot = function() {
        b.DOM.getOffset(this.game.canvas, this.offset);
        b.Canvas.setUserSelect(this.game.canvas,
            "none");
        b.Canvas.setTouchAction(this.game.canvas, "none");
        this.checkVisibility()
    };
    b.Stage.prototype.preUpdate = function() {
        for (var a = this.currentRenderOrderID = 0; a < this.children.length;) {
            var c = this.children[a];
            c.preUpdate();
            this === c.parent && a++
        }
    };
    b.Stage.prototype.update = function() {
        for (var a = this.children.length; a--;) this.children[a].update()
    };
    b.Stage.prototype.postUpdate = function() {
        this.game.camera.update();
        this.game.camera.target && (this.game.camera.target.postUpdate(), this.updateTransform(), this.game.camera.updateTarget());
        for (var a = 0; a < this.children.length; a++) this.children[a].postUpdate();
        this.updateTransform()
    };
    b.Stage.prototype.updateTransform = function() {
        this.worldAlpha = 1;
        for (var a = 0; a < this.children.length; a++) this.children[a].updateTransform()
    };
    b.Stage.prototype.checkVisibility = function() {
        this._hiddenVar = void 0 !== document.hidden ? "visibilitychange" : void 0 !== document.webkitHidden ? "webkitvisibilitychange" : void 0 !== document.mozHidden ? "mozvisibilitychange" : void 0 !== document.msHidden ? "msvisibilitychange" : null;
        var a =
            this;
        this._onChange = function(c) {
            return a.visibilityChange(c)
        };
        this._onChangePause = function() {
            return a._onChange({
                type: "pause"
            })
        };
        this._onChangeResume = function() {
            return a._onChange({
                type: "resume"
            })
        };
        this._onClick = function(c) {
            void 0 === document.hasFocus || document.hasFocus() || a.visibilityChange(c)
        };
        this._hiddenVar && document.addEventListener(this._hiddenVar, this._onChange, !1);
        window.onblur = this._onChange;
        window.onfocus = this._onChange;
        window.onpagehide = this._onChange;
        window.onpageshow = this._onChange;
        window.addEventListener("click",
            this._onClick);
        this.game.device.cocoonJSApp && CocoonJS.App && (CocoonJS.App.onSuspended && CocoonJS.App.onSuspended.addEventListener(this._onChangePause), CocoonJS.App.onActivated && CocoonJS.App.onActivated.addEventListener(this._onChangeResume), CocoonJS.App.on && (CocoonJS.App.on("activated", this._onChangeResume), CocoonJS.App.on("suspended", this._onChangePause)))
    };
    b.Stage.prototype.visibilityChange = function(a) {
        switch (a.type) {
            case "blur":
            case "pagehide":
                this.game.focusLoss(a);
                return;
            case "click":
            case "focus":
            case "pageshow":
                this.game.focusGain(a);
                return
        }
        this.disableVisibilityChange || (document.hidden || document.mozHidden || document.msHidden || document.webkitHidden || "pause" === a.type ? this.game.gamePaused(a) : this.game.gameResumed(a))
    };
    b.Stage.prototype.setBackgroundColor = function(a) {
        this.game.transparent || (b.Color.valueToColor(a, this._bgColor), b.Color.updateColor(this._bgColor), this._bgColor.r /= 255, this._bgColor.g /= 255, this._bgColor.b /= 255, this._bgColor.a = 1)
    };
    b.Stage.prototype.destroy = function() {
        this._hiddenVar && document.removeEventListener(this._hiddenVar,
            this._onChange, !1);
        window.onpagehide = null;
        window.onpageshow = null;
        window.onblur = null;
        window.onfocus = null;
        window.removeEventListener("click", this._onClick)
    };
    b.Stage.prototype.add = function(a, c, e) {
        if (a.parent === this) return a;
        a.body && a.parent && a.parent.hash && a.parent.removeFromHash(a);
        void 0 === e ? this.addChild(a) : this.addChildAt(a, e);
        return a
    };
    Object.defineProperty(b.Stage.prototype, "backgroundColor", {
        get: function() {
            return this._bgColor.color
        },
        set: function(a) {
            this.setBackgroundColor(a)
        }
    });
    Object.defineProperty(b.Stage.prototype,
        "smoothed", {
            get: function() {
                return PIXI.scaleModes.DEFAULT === PIXI.scaleModes.LINEAR
            },
            set: function(a) {
                PIXI.scaleModes.DEFAULT = a ? PIXI.scaleModes.LINEAR : PIXI.scaleModes.NEAREST
            }
        });
    b.Group = function(a, c, e, d, l, f) {
        void 0 === d && (d = !1);
        void 0 === l && (l = !1);
        void 0 === f && (f = b.Physics.ARCADE);
        this.game = a;
        void 0 === c && (c = a.world);
        this.name = e || "group";
        this.z = 0;
        PIXI.DisplayObjectContainer.call(this);
        d ? (this.game.stage.addChild(this), this.z = this.game.stage.children.length) : c && (c.addChild(this), this.z = c.children.length);
        this.physicsType = this.type = b.GROUP;
        this.exists = this.alive = !0;
        this.pendingDestroy = this.ignoreDestroy = !1;
        this.classType = b.Sprite;
        this.cursor = null;
        this.updateOnlyExistingChildren = this.inputEnableChildren = !1;
        this.onChildInputDown = new b.Signal;
        this.onChildInputUp = new b.Signal;
        this.onChildInputOver = new b.Signal;
        this.onChildInputOut = new b.Signal;
        this.enableBody = l;
        this.enableBodyDebug = !1;
        this.physicsBodyType = f;
        this.physicsSortDirection = null;
        this.onDestroy = new b.Signal;
        this.cursorIndex = 0;
        this.fixedToCamera = !1;
        this.cameraOffset = new b.Point;
        this.hash = [];
        this._sortProperty = "z"
    };
    b.Group.prototype = Object.create(PIXI.DisplayObjectContainer.prototype);
    b.Group.prototype.constructor = b.Group;
    b.Group.RETURN_NONE = 0;
    b.Group.RETURN_TOTAL = 1;
    b.Group.RETURN_CHILD = 2;
    b.Group.RETURN_ALL = 3;
    b.Group.SORT_ASCENDING = -1;
    b.Group.SORT_DESCENDING = 1;
    b.Group.prototype.add = function(a, c, e) {
        void 0 === c && (c = !1);
        if (a.parent === this) return a;
        a.body && a.parent && a.parent.hash && a.parent.removeFromHash(a);
        void 0 === e ? (a.z = this.children.length,
            this.addChild(a)) : (this.addChildAt(a, e), this.updateZ());
        this.enableBody && a.hasOwnProperty("body") && null === a.body ? this.game.physics.enable(a, this.physicsBodyType) : a.body && this.addToHash(a);
        !this.inputEnableChildren || a.input && !a.inputEnabled || (a.inputEnabled = !0);
        if (!c && a.events) a.events.onAddedToGroup$dispatch(a, this);
        null === this.cursor && (this.cursor = a);
        return a
    };
    b.Group.prototype.addAt = function(a, c, e) {
        return this.add(a, e, c)
    };
    b.Group.prototype.addToHash = function(a) {
        return a.parent === this && -1 === this.hash.indexOf(a) ?
            (this.hash.push(a), !0) : !1
    };
    b.Group.prototype.removeFromHash = function(a) {
        return a && (a = this.hash.indexOf(a), -1 !== a) ? (this.hash.splice(a, 1), !0) : !1
    };
    b.Group.prototype.addMultiple = function(a, c) {
        if (a instanceof b.Group) a.moveAll(this, c);
        else if (Array.isArray(a))
            for (var e = 0; e < a.length; e++) this.add(a[e], c);
        return a
    };
    b.Group.prototype.getAt = function(a) {
        return 0 > a || a >= this.children.length ? -1 : this.getChildAt(a)
    };
    b.Group.prototype.create = function(a, c, e, b, d, f) {
        void 0 === d && (d = !0);
        a = new this.classType(this.game,
            a, c, e, b);
        a.exists = d;
        a.visible = d;
        a.alive = d;
        return this.add(a, !1, f)
    };
    b.Group.prototype.createMultiple = function(a, c, e, b, d, f) {
        void 0 === e && (e = 0);
        void 0 === b && (b = !1);
        Array.isArray(c) || (c = [c]);
        Array.isArray(e) || (e = [e]);
        var k = this,
            l = [];
        c.forEach(function(c) {
            e.forEach(function(e) {
                for (var g = 0; g < a; g++) {
                    var m = k.create(0, 0, c, e, b);
                    d && d.call(f || m, m, g);
                    l.push(m)
                }
            })
        });
        return l
    };
    b.Group.prototype.updateZ = function() {
        for (var a = this.children.length; a--;) this.children[a].z = a
    };
    b.Group.prototype.align = function(a, c, e, d, l,
        f) {
        void 0 === l && (l = b.TOP_LEFT);
        void 0 === f && (f = 0);
        if (0 === this.children.length || f > this.children.length || -1 === a && -1 === c) return !1;
        for (var k = new b.Rectangle(0, 0, e, d), g = a * e, m = c * d; f < this.children.length; f++) {
            var h = this.children[f];
            if (h.alignIn)
                if (h.alignIn(k, l), -1 === a) k.y += d, k.y === m && (k.x += e, k.y = 0);
                else if (-1 === c) k.x += e, k.x === g && (k.x = 0, k.y += d);
            else if (k.x += e, k.x === g && (k.x = 0, k.y += d, k.y === m)) break
        }
        return !0
    };
    b.Group.prototype.resetCursor = function(a) {
        void 0 === a && (a = 0);
        a > this.children.length - 1 && (a = 0);
        if (this.cursor) return this.cursorIndex =
            a, this.cursor = this.children[this.cursorIndex]
    };
    b.Group.prototype.next = function() {
        if (this.cursor) return this.cursorIndex >= this.children.length - 1 ? this.cursorIndex = 0 : this.cursorIndex++, this.cursor = this.children[this.cursorIndex]
    };
    b.Group.prototype.previous = function() {
        if (this.cursor) return 0 === this.cursorIndex ? this.cursorIndex = this.children.length - 1 : this.cursorIndex--, this.cursor = this.children[this.cursorIndex]
    };
    b.Group.prototype.swap = function(a, c) {
        this.swapChildren(a, c);
        this.updateZ()
    };
    b.Group.prototype.bringToTop =
        function(a) {
            a.parent === this && this.getIndex(a) < this.children.length && (this.remove(a, !1, !0), this.add(a, !0));
            return a
        };
    b.Group.prototype.sendToBack = function(a) {
        a.parent === this && 0 < this.getIndex(a) && (this.remove(a, !1, !0), this.addAt(a, 0, !0));
        return a
    };
    b.Group.prototype.moveUp = function(a) {
        if (a.parent === this && this.getIndex(a) < this.children.length - 1) {
            var c = this.getIndex(a);
            (c = this.getAt(c + 1)) && this.swap(a, c)
        }
        return a
    };
    b.Group.prototype.moveDown = function(a) {
        if (a.parent === this && 0 < this.getIndex(a)) {
            var c = this.getIndex(a);
            (c = this.getAt(c - 1)) && this.swap(a, c)
        }
        return a
    };
    b.Group.prototype.xy = function(a, c, e) {
        if (0 > a || a > this.children.length) return -1;
        this.getChildAt(a).x = c;
        this.getChildAt(a).y = e
    };
    b.Group.prototype.reverse = function() {
        this.children.reverse();
        this.updateZ()
    };
    b.Group.prototype.getIndex = function(a) {
        return this.children.indexOf(a)
    };
    b.Group.prototype.getByName = function(a) {
        for (var c = 0; c < this.children.length; c++)
            if (this.children[c].name === a) return this.children[c];
        return null
    };
    b.Group.prototype.replace = function(a,
        c) {
        var e = this.getIndex(a);
        if (-1 !== e) return c.parent && (c.parent instanceof b.Group ? c.parent.remove(c) : c.parent.removeChild(c)), this.remove(a), this.addAt(c, e), a
    };
    b.Group.prototype.hasProperty = function(a, c) {
        var e = c.length;
        return 1 === e && c[0] in a || 2 === e && c[0] in a && c[1] in a[c[0]] || 3 === e && c[0] in a && c[1] in a[c[0]] && c[2] in a[c[0]][c[1]] || 4 === e && c[0] in a && c[1] in a[c[0]] && c[2] in a[c[0]][c[1]] && c[3] in a[c[0]][c[1]][c[2]] ? !0 : !1
    };
    b.Group.prototype.setProperty = function(a, c, e, b, d) {
        void 0 === d && (d = !1);
        b = b || 0;
        if (!this.hasProperty(a,
                c) && (!d || 0 < b)) return !1;
        d = c.length;
        1 === d ? 0 === b ? a[c[0]] = e : 1 === b ? a[c[0]] += e : 2 === b ? a[c[0]] -= e : 3 === b ? a[c[0]] *= e : 4 === b && (a[c[0]] /= e) : 2 === d ? 0 === b ? a[c[0]][c[1]] = e : 1 === b ? a[c[0]][c[1]] += e : 2 === b ? a[c[0]][c[1]] -= e : 3 === b ? a[c[0]][c[1]] *= e : 4 === b && (a[c[0]][c[1]] /= e) : 3 === d ? 0 === b ? a[c[0]][c[1]][c[2]] = e : 1 === b ? a[c[0]][c[1]][c[2]] += e : 2 === b ? a[c[0]][c[1]][c[2]] -= e : 3 === b ? a[c[0]][c[1]][c[2]] *= e : 4 === b && (a[c[0]][c[1]][c[2]] /= e) : 4 === d && (0 === b ? a[c[0]][c[1]][c[2]][c[3]] = e : 1 === b ? a[c[0]][c[1]][c[2]][c[3]] += e : 2 === b ? a[c[0]][c[1]][c[2]][c[3]] -=
            e : 3 === b ? a[c[0]][c[1]][c[2]][c[3]] *= e : 4 === b && (a[c[0]][c[1]][c[2]][c[3]] /= e));
        return !0
    };
    b.Group.prototype.checkProperty = function(a, c, e, d) {
        void 0 === d && (d = !1);
        if (this !== a.parent) return !1;
        a = b.Utils.getProperty(a, c);
        return void 0 === a && d || a !== e ? !1 : !0
    };
    b.Group.prototype.set = function(a, c, e, b, d, f, g) {
        void 0 === g && (g = !1);
        c = c.split(".");
        void 0 === b && (b = !1);
        void 0 === d && (d = !1);
        if ((!1 === b || b && a.alive) && (!1 === d || d && a.visible)) return this.setProperty(a, c, e, f, g)
    };
    b.Group.prototype.setAll = function(a, c, e, b, d, f) {
        void 0 ===
            e && (e = !1);
        void 0 === b && (b = !1);
        void 0 === f && (f = !1);
        a = a.split(".");
        d = d || 0;
        for (var k = 0; k < this.children.length; k++)(!e || e && this.children[k].alive) && (!b || b && this.children[k].visible) && this.setProperty(this.children[k], a, c, d, f)
    };
    b.Group.prototype.setAllChildren = function(a, c, e, d, l, f) {
        void 0 === e && (e = !1);
        void 0 === d && (d = !1);
        void 0 === f && (f = !1);
        l = l || 0;
        for (var k = 0; k < this.children.length; k++)(!e || e && this.children[k].alive) && (!d || d && this.children[k].visible) && (this.children[k] instanceof b.Group ? this.children[k].setAllChildren(a,
            c, e, d, l, f) : this.setProperty(this.children[k], a.split("."), c, l, f))
    };
    b.Group.prototype.checkAll = function(a, c, e, b, d) {
        void 0 === e && (e = !1);
        void 0 === b && (b = !1);
        void 0 === d && (d = !1);
        for (var k = 0; k < this.children.length; k++) {
            var l = this.children[k];
            if ((!e || e && l.alive) && (!b || b && l.visible) && !this.checkProperty(l, a, c, d)) return !1
        }
        return !0
    };
    b.Group.prototype.checkAny = function(a, c, e, b) {
        void 0 === e && (e = !1);
        void 0 === b && (b = !1);
        for (var d = 0; d < this.children.length; d++) {
            var k = this.children[d];
            if ((!e || e && k.alive) && (!b || b && k.visible) &&
                this.checkProperty(k, a, c)) return !0
        }
        return !1
    };
    b.Group.prototype.addAll = function(a, c, e, b) {
        this.setAll(a, c, e, b, 1)
    };
    b.Group.prototype.subAll = function(a, c, e, b) {
        this.setAll(a, c, e, b, 2)
    };
    b.Group.prototype.multiplyAll = function(a, c, e, b) {
        this.setAll(a, c, e, b, 3)
    };
    b.Group.prototype.divideAll = function(a, c, e, b) {
        this.setAll(a, c, e, b, 4)
    };
    b.Group.prototype.kill = function() {
        this.visible = this.exists = this.alive = !1
    };
    b.Group.prototype.killAll = function() {
        this.callAllExists("kill", !0)
    };
    b.Group.prototype.revive = function() {
        this.visible =
            this.exists = this.alive = !0
    };
    b.Group.prototype.reviveAll = function() {
        this.callAllExists("revive", !1)
    };
    b.Group.prototype.resetAll = function(a, c, e, b, d) {
        this.forEach(this.resetChild, this, d, a, c, e, b)
    };
    b.Group.prototype.callAllExists = function(a, c) {
        if (2 < arguments.length) {
            var e = [];
            for (var b = 2; b < arguments.length; b++) e.push(arguments[b])
        }
        for (b = 0; b < this.children.length; b++) this.children[b].exists === c && this.children[b][a] && this.children[b][a].apply(this.children[b], e)
    };
    b.Group.prototype.callbackFromArray = function(a,
        c, e) {
        if (1 === e) {
            if (a[c[0]]) return a[c[0]]
        } else if (2 === e) {
            if (a[c[0]][c[1]]) return a[c[0]][c[1]]
        } else if (3 === e) {
            if (a[c[0]][c[1]][c[2]]) return a[c[0]][c[1]][c[2]]
        } else if (4 === e) {
            if (a[c[0]][c[1]][c[2]][c[3]]) return a[c[0]][c[1]][c[2]][c[3]]
        } else if (a[c]) return a[c];
        return !1
    };
    b.Group.prototype.callAll = function(a, c) {
        if (void 0 !== a) {
            a = a.split(".");
            var e = a.length;
            if (void 0 === c || null === c || "" === c) c = null;
            else if ("string" === typeof c) {
                c = c.split(".");
                var b = c.length
            }
            if (2 < arguments.length) {
                var d = [];
                for (var f = 2; f < arguments.length; f++) d.push(arguments[f])
            }
            for (f =
                0; f < this.children.length; f++) {
                var g = this.callbackFromArray(this.children[f], a, e);
                if (c && g) {
                    var h = this.callbackFromArray(this.children[f], c, b);
                    g && g.apply(h, d)
                } else g && g.apply(this.children[f], d)
            }
        }
    };
    b.Group.prototype.preUpdate = function() {
        if (this.pendingDestroy) return this.destroy(), !1;
        if (!this.exists || !this.parent.exists) return this.renderOrderID = -1, !1;
        for (var a = 0; a < this.children.length;) {
            var c = this.children[a];
            c.preUpdate();
            this === c.parent && a++
        }
        return !0
    };
    b.Group.prototype.update = function() {
        for (var a =
                this.children.length; a--;) {
            var c = this.children.length;
            a >= c && (a = c - 1);
            c = this.children[a];
            this.updateOnlyExistingChildren && !c.exists || c.update()
        }
    };
    b.Group.prototype.postUpdate = function() {
        this.fixedToCamera && (this.x = (this.game.camera.view.x + this.cameraOffset.x) / this.game.camera.scale.x, this.y = (this.game.camera.view.y + this.cameraOffset.y) / this.game.camera.scale.y);
        for (var a = 0; a < this.children.length; a++) this.children[a].postUpdate()
    };
    b.Group.prototype.filter = function(a, c) {
        for (var e = -1, d = this.children.length,
                l = []; ++e < d;) {
            var f = this.children[e];
            (!c || c && f.exists) && a(f, e, this.children) && l.push(f)
        }
        return new b.ArraySet(l)
    };
    b.Group.prototype.forEach = function(a, c, e) {
        void 0 === e && (e = !1);
        if (3 >= arguments.length)
            for (var b = 0; b < this.children.length; b++)(!e || e && this.children[b].exists) && a.call(c, this.children[b]);
        else {
            var d = [null];
            for (b = 3; b < arguments.length; b++) d.push(arguments[b]);
            for (b = 0; b < this.children.length; b++)
                if (!e || e && this.children[b].exists) d[0] = this.children[b], a.apply(c, d)
        }
    };
    b.Group.prototype.forEachExists =
        function(a, c) {
            if (2 < arguments.length) {
                var e = [null];
                for (var d = 2; d < arguments.length; d++) e.push(arguments[d])
            }
            this.iterate("exists", !0, b.Group.RETURN_TOTAL, a, c, e)
        };
    b.Group.prototype.forEachAlive = function(a, c) {
        if (2 < arguments.length) {
            var e = [null];
            for (var d = 2; d < arguments.length; d++) e.push(arguments[d])
        }
        this.iterate("alive", !0, b.Group.RETURN_TOTAL, a, c, e)
    };
    b.Group.prototype.forEachDead = function(a, c) {
        if (2 < arguments.length) {
            var e = [null];
            for (var d = 2; d < arguments.length; d++) e.push(arguments[d])
        }
        this.iterate("alive",
            !1, b.Group.RETURN_TOTAL, a, c, e)
    };
    b.Group.prototype.sort = function(a, c) {
        2 > this.children.length || (void 0 === a && (a = "z"), void 0 === c && (c = b.Group.SORT_ASCENDING), this._sortProperty = a, c === b.Group.SORT_ASCENDING ? this.children.sort(this.ascendingSortHandler.bind(this)) : this.children.sort(this.descendingSortHandler.bind(this)), this.updateZ())
    };
    b.Group.prototype.customSort = function(a, c) {
        2 > this.children.length || (this.children.sort(a.bind(c)), this.updateZ())
    };
    b.Group.prototype.ascendingSortHandler = function(a, c) {
        return a[this._sortProperty] <
            c[this._sortProperty] ? -1 : a[this._sortProperty] > c[this._sortProperty] ? 1 : a.z < c.z ? -1 : 1
    };
    b.Group.prototype.descendingSortHandler = function(a, c) {
        return a[this._sortProperty] < c[this._sortProperty] ? 1 : a[this._sortProperty] > c[this._sortProperty] ? -1 : 0
    };
    b.Group.prototype.iterate = function(a, c, e, d, l, f) {
        if (0 === this.children.length) {
            if (e === b.Group.RETURN_TOTAL) return 0;
            if (e === b.Group.RETURN_ALL) return []
        }
        var k = 0;
        if (e === b.Group.RETURN_ALL) var g = [];
        for (var h = 0; h < this.children.length; h++)
            if (this.children[h][a] === c) {
                k++;
                d && (f ? (f[0] = this.children[h], d.apply(l, f)) : d.call(l, this.children[h]));
                if (e === b.Group.RETURN_CHILD) return this.children[h];
                e === b.Group.RETURN_ALL && g.push(this.children[h])
            } return e === b.Group.RETURN_TOTAL ? k : e === b.Group.RETURN_ALL ? g : null
    };
    b.Group.prototype.getFirst = function(a, c) {
        return this.iterate(a, c, b.Group.RETURN_CHILD)
    };
    b.Group.prototype.getFirstExists = function(a, c, e, b, d, f) {
        void 0 === c && (c = !1);
        "boolean" !== typeof a && (a = !0);
        a = this.getFirst("exists", a);
        return null === a && c ? this.create(e, b, d, f) : this.resetChild(a,
            e, b, d, f)
    };
    b.Group.prototype.getFirstAlive = function(a, c, e, b, d) {
        void 0 === a && (a = !1);
        var k = this.getFirst("alive", !0);
        return null === k && a ? this.create(c, e, b, d) : this.resetChild(k, c, e, b, d)
    };
    b.Group.prototype.getFirstDead = function(a, c, e, b, d) {
        void 0 === a && (a = !1);
        var k = this.getFirst("alive", !1);
        return null === k && a ? this.create(c, e, b, d) : this.resetChild(k, c, e, b, d)
    };
    b.Group.prototype.resetChild = function(a, c, e, b, d) {
        if (null === a) return null;
        void 0 === c && (c = null);
        void 0 === e && (e = null);
        null !== c && null !== e && a.reset(c, e);
        void 0 !==
            b && a.loadTexture(b, d);
        return a
    };
    b.Group.prototype.getTop = function() {
        if (0 < this.children.length) return this.children[this.children.length - 1]
    };
    b.Group.prototype.getBottom = function() {
        if (0 < this.children.length) return this.children[0]
    };
    b.Group.prototype.getClosestTo = function(a, c, e) {
        for (var d = Number.MAX_VALUE, l, f = null, g = 0; g < this.children.length; g++) {
            var h = this.children[g];
            h.exists && (l = Math.abs(b.Point.distance(a, h)), l < d && (!c || c.call(e, h, l)) && (d = l, f = h))
        }
        return f
    };
    b.Group.prototype.getFurthestFrom = function(a,
        c, e) {
        for (var d = 0, l, f = null, g = 0; g < this.children.length; g++) {
            var h = this.children[g];
            h.exists && (l = Math.abs(b.Point.distance(a, h)), l > d && (!c || c.call(e, h, l)) && (d = l, f = h))
        }
        return f
    };
    b.Group.prototype.count = function(a, c) {
        return this.iterate(a, c, b.Group.RETURN_TOTAL)
    };
    b.Group.prototype.countLiving = function() {
        return this.count("alive", !0)
    };
    b.Group.prototype.countDead = function() {
        return this.count("alive", !1)
    };
    b.Group.prototype.getRandom = function(a, c) {
        void 0 === a && (a = 0);
        void 0 === c && (c = this.children.length);
        return 0 ===
            c ? null : b.ArrayUtils.getRandomItem(this.children, a, c)
    };
    b.Group.prototype.getRandomExists = function(a, c) {
        a = this.getAll("exists", !0, a, c);
        return this.game.rnd.pick(a)
    };
    b.Group.prototype.getAll = function(a, c, e, b) {
        void 0 === e && (e = 0);
        void 0 === b && (b = this.children.length);
        for (var d = []; e < b; e++) {
            var k = this.children[e];
            a ? k[a] === c && d.push(k) : d.push(k)
        }
        return d
    };
    b.Group.prototype.remove = function(a, c, e) {
        void 0 === c && (c = !1);
        void 0 === e && (e = !1);
        if (0 === this.children.length || -1 === this.children.indexOf(a)) return !1;
        if (!e &&
            a.events && !a.destroyPhase) a.events.onRemovedFromGroup$dispatch(a, this);
        e = this.removeChild(a);
        this.removeFromHash(a);
        this.updateZ();
        this.cursor === a && this.next();
        c && e && e.destroy(!0);
        return !0
    };
    b.Group.prototype.moveAll = function(a, c) {
        void 0 === c && (c = !1);
        if (0 < this.children.length && a instanceof b.Group) {
            do a.add(this.children[0], c); while (0 < this.children.length);
            this.hash = [];
            this.cursor = null
        }
        return a
    };
    b.Group.prototype.removeAll = function(a, c, e) {
        void 0 === a && (a = !1);
        void 0 === c && (c = !1);
        void 0 === e && (e = !1);
        if (0 !==
            this.children.length) {
            do {
                if (!c && this.children[0].events) this.children[0].events.onRemovedFromGroup$dispatch(this.children[0], this);
                var b = this.removeChild(this.children[0]);
                this.removeFromHash(b);
                a && b && b.destroy(!0, e)
            } while (0 < this.children.length);
            this.hash = [];
            this.cursor = null
        }
    };
    b.Group.prototype.removeBetween = function(a, c, e, b) {
        void 0 === c && (c = this.children.length - 1);
        void 0 === e && (e = !1);
        void 0 === b && (b = !1);
        if (0 !== this.children.length) {
            if (a > c || 0 > a || c > this.children.length) return !1;
            for (; c >= a;) {
                if (!b && this.children[c].events) this.children[c].events.onRemovedFromGroup$dispatch(this.children[c],
                    this);
                var d = this.removeChild(this.children[c]);
                this.removeFromHash(d);
                e && d && d.destroy(!0);
                this.cursor === this.children[c] && (this.cursor = null);
                c--
            }
            this.updateZ()
        }
    };
    b.Group.prototype.scatter = function(a, c) {
        null == a && (a = this.game.world.bounds);
        this.forEach(function(c) {
            c.position.set(a.randomX, a.randomY)
        }, null, c)
    };
    b.Group.prototype.shuffle = function() {
        b.ArrayUtils.shuffle(this.children);
        this.updateZ()
    };
    b.Group.prototype.destroy = function(a, c) {
        null === this.game || this.ignoreDestroy || (void 0 === a && (a = !0), void 0 ===
            c && (c = !1), this.onDestroy.dispatch(this, a, c), this.removeAll(a), this.filters = this.cursor = null, this.pendingDestroy = !1, c || (this.parent && this.parent.removeChild(this), this.game = null, this.exists = !1))
    };
    Object.defineProperty(b.Group.prototype, "total", {
        get: function() {
            return this.iterate("exists", !0, b.Group.RETURN_TOTAL)
        }
    });
    Object.defineProperty(b.Group.prototype, "length", {
        get: function() {
            return this.children.length
        }
    });
    Object.defineProperty(b.Group.prototype, "angle", {
        get: function() {
            return b.Math.radToDeg(this.rotation)
        },
        set: function(a) {
            this.rotation = b.Math.degToRad(a)
        }
    });
    Object.defineProperty(b.Group.prototype, "centerX", {
        get: function() {
            return this.getBounds(this.parent).centerX
        },
        set: function(a) {
            var c = this.getBounds(this.parent);
            this.x = a + (this.x - c.x) - c.halfWidth
        }
    });
    Object.defineProperty(b.Group.prototype, "centerY", {
        get: function() {
            return this.getBounds(this.parent).centerY
        },
        set: function(a) {
            var c = this.getBounds(this.parent);
            this.y = a + (this.y - c.y) - c.halfHeight
        }
    });
    Object.defineProperty(b.Group.prototype, "left", {
        get: function() {
            return this.getBounds(this.parent).left
        },
        set: function(a) {
            var c = this.getBounds(this.parent);
            this.x = a + (this.x - c.x)
        }
    });
    Object.defineProperty(b.Group.prototype, "right", {
        get: function() {
            return this.getBounds(this.parent).right
        },
        set: function(a) {
            var c = this.getBounds(this.parent);
            this.x = a + (this.x - c.x) - c.width
        }
    });
    Object.defineProperty(b.Group.prototype, "top", {
        get: function() {
            return this.getBounds(this.parent).top
        },
        set: function(a) {
            var c = this.getBounds(this.parent);
            this.y = a + (this.y - c.y)
        }
    });
    Object.defineProperty(b.Group.prototype, "bottom", {
        get: function() {
            return this.getBounds(this.parent).bottom
        },
        set: function(a) {
            var c = this.getBounds(this.parent);
            this.y = a + (this.y - c.y) - c.height
        }
    });
    b.World = function(a) {
        b.Group.call(this, a, null, "__world", !1);
        this.bounds = new b.Rectangle(0, 0, a.width, a.height);
        this.camera = null;
        this._definedSize = !1;
        this._width = a.width;
        this._height = a.height;
        this.game.state.onStateChange.add(this.stateChange, this)
    };
    b.World.prototype = Object.create(b.Group.prototype);
    b.World.prototype.constructor = b.World;
    b.World.prototype.boot = function() {
        this.camera = new b.Camera(this.game, 0, 0, 0, this.game.width,
            this.game.height);
        this.game.stage.addChild(this);
        this.camera.boot()
    };
    b.World.prototype.stateChange = function() {
        this.y = this.x = 0;
        this.camera.reset()
    };
    b.World.prototype.setBounds = function(a, c, e, b) {
        this._definedSize = !0;
        this._width = e;
        this._height = b;
        this.bounds.setTo(a, c, e, b);
        this.x = a;
        this.y = c;
        this.camera.bounds && this.camera.bounds.setTo(a, c, Math.max(e, this.game.width), Math.max(b, this.game.height));
        this.game.physics.setBoundsToWorld()
    };
    b.World.prototype.resize = function(a, c) {
        this._definedSize && (a < this._width &&
            (a = this._width), c < this._height && (c = this._height));
        this.bounds.width = a;
        this.bounds.height = c;
        this.game.camera.setBoundsToWorld();
        this.game.physics.setBoundsToWorld()
    };
    b.World.prototype.shutdown = function() {
        this.destroy(!0, !0)
    };
    b.World.prototype.wrap = function(a, c, e, b, d) {
        void 0 === c && (c = 0);
        void 0 === e && (e = !1);
        void 0 === b && (b = !0);
        void 0 === d && (d = !0);
        e ? (a.getBounds(), b && (a.x + a._currentBounds.width < this.bounds.x ? a.x = this.bounds.right : a.x > this.bounds.right && (a.x = this.bounds.left)), d && (a.y + a._currentBounds.height <
            this.bounds.top ? a.y = this.bounds.bottom : a.y > this.bounds.bottom && (a.y = this.bounds.top))) : (b && a.x + c < this.bounds.x ? a.x = this.bounds.right + c : b && a.x - c > this.bounds.right && (a.x = this.bounds.left - c), d && a.y + c < this.bounds.top ? a.y = this.bounds.bottom + c : d && a.y - c > this.bounds.bottom && (a.y = this.bounds.top - c))
    };
    b.World.prototype.wrapAll = function(a, c, e, b, d, f) {
        a.forEach(this.wrap, this, c, e, b, d, f)
    };
    Object.defineProperty(b.World.prototype, "width", {
        get: function() {
            return this.bounds.width
        },
        set: function(a) {
            a < this.game.width &&
                (a = this.game.width);
            this._width = this.bounds.width = a;
            this._definedSize = !0
        }
    });
    Object.defineProperty(b.World.prototype, "height", {
        get: function() {
            return this.bounds.height
        },
        set: function(a) {
            a < this.game.height && (a = this.game.height);
            this._height = this.bounds.height = a;
            this._definedSize = !0
        }
    });
    Object.defineProperty(b.World.prototype, "centerX", {
        get: function() {
            return this.bounds.halfWidth + this.bounds.x
        }
    });
    Object.defineProperty(b.World.prototype, "centerY", {
        get: function() {
            return this.bounds.halfHeight + this.bounds.y
        }
    });
    Object.defineProperty(b.World.prototype, "randomX", {
        get: function() {
            return 0 > this.bounds.x ? this.game.rnd.between(this.bounds.x, this.bounds.width - Math.abs(this.bounds.x)) : this.game.rnd.between(this.bounds.x, this.bounds.width)
        }
    });
    Object.defineProperty(b.World.prototype, "randomY", {
        get: function() {
            return 0 > this.bounds.y ? this.game.rnd.between(this.bounds.y, this.bounds.height - Math.abs(this.bounds.y)) : this.game.rnd.between(this.bounds.y, this.bounds.height)
        }
    });
    b.Game = function(a, c, e, d, l, f, g, h) {
        this.id = b.GAMES.push(this) -
            1;
        this.config = null;
        this.physicsConfig = h;
        this.parent = "";
        this.width = 800;
        this.height = 600;
        this.resolution = 1;
        this._width = 800;
        this._height = 600;
        this.transparent = !1;
        this.antialias = !0;
        this.preserveDrawingBuffer = this.multiTexture = !1;
        this.clearBeforeRender = !0;
        this.renderer = null;
        this.renderType = b.AUTO;
        this.state = null;
        this.isRunning = this.isBooted = !1;
        this.rnd = this.plugins = this.physics = this.world = this.tweens = this.time = this.stage = this.sound = this.scale = this.net = this.math = this.load = this.input = this.cache = this.make =
            this.add = this.raf = null;
        this.device = b.Device;
        this.create = this.particles = this.debug = this.context = this.canvas = this.camera = null;
        this.pendingStep = this.stepping = this.pendingDestroy = this.lockRender = !1;
        this.stepCount = 0;
        this.onFocus = this.onBlur = this.onResume = this.onPause = null;
        this._codePaused = this._paused = !1;
        this.currentUpdateID = 0;
        this.rendersThisFrame = this.updatesThisFrame = 1;
        this._spiraling = this._lastCount = this._deltaTime = 0;
        this._kickstart = !0;
        this.fpsProblemNotifier = new b.Signal;
        this.forceSingleRender = this.forceSingleUpdate = !0;
        this.dropFrames = !1;
        this._nextFpsNotification = 0;
        1 === arguments.length && "object" === typeof arguments[0] ? this.parseConfig(arguments[0]) : (this.config = {
                enableDebug: !0
            }, "undefined" !== typeof a && (this._width = a), "undefined" !== typeof c && (this._height = c), "undefined" !== typeof e && (this.renderType = e), "undefined" !== typeof d && (this.parent = d), "undefined" !== typeof f && (this.transparent = f), "undefined" !== typeof g && (this.antialias = g), this.rnd = new b.RandomDataGenerator([(Date.now() * Math.random()).toString()]), this.state =
            new b.StateManager(this, l));
        this.device.whenReady(this.boot, this);
        return this
    };
    b.Game.prototype = {
        parseConfig: function(a) {
            this.config = a;
            void 0 === a.enableDebug && (this.config.enableDebug = !0);
            a.width && (this._width = a.width);
            a.height && (this._height = a.height);
            a.renderer && (this.renderType = a.renderer);
            a.parent && (this.parent = a.parent);
            void 0 !== a.transparent && (this.transparent = a.transparent);
            void 0 !== a.antialias && (this.antialias = a.antialias);
            void 0 !== a.clearBeforeRender && (this.clearBeforeRender = a.clearBeforeRender);
            void 0 !== a.multiTexture && (this.multiTexture = a.multiTexture);
            a.resolution && (this.resolution = a.resolution);
            void 0 !== a.preserveDrawingBuffer && (this.preserveDrawingBuffer = a.preserveDrawingBuffer);
            a.physicsConfig && (this.physicsConfig = a.physicsConfig);
            var c = [(Date.now() * Math.random()).toString()];
            a.seed && (c = a.seed);
            this.rnd = new b.RandomDataGenerator(c);
            c = null;
            a.state && (c = a.state);
            this.state = new b.StateManager(this, c)
        },
        boot: function() {
            this.isBooted || (this.onPause = new b.Signal, this.onResume = new b.Signal,
                this.onBlur = new b.Signal, this.onFocus = new b.Signal, this.isBooted = !0, PIXI.game = this, this.math = b.Math, this.scale = new b.ScaleManager(this, this._width, this._height), this.stage = new b.Stage(this), this.setUpRenderer(), this.world = new b.World(this), this.add = new b.GameObjectFactory(this), this.make = new b.GameObjectCreator(this), this.cache = new b.Cache(this), this.load = new b.Loader(this), this.time = new b.Time(this), this.tweens = new b.TweenManager(this), this.input = new b.Input(this), this.sound = new b.SoundManager(this),
                this.physics = new b.Physics(this, this.physicsConfig), this.particles = new b.Particles(this), this.create = new b.Create(this), this.plugins = new b.PluginManager(this), this.net = new b.Net(this), this.time.boot(), this.stage.boot(), this.world.boot(), this.scale.boot(), this.input.boot(), this.sound.boot(), this.state.boot(), this.config.enableDebug ? (this.debug = new b.Utils.Debug(this), this.debug.boot()) : this.debug = {
                    preUpdate: function() {},
                    update: function() {},
                    reset: function() {},
                    isDisabled: !0
                }, this.showDebugHeader(), this.isRunning = !0, this.raf = this.config && this.config.forceSetTimeOut ? new b.RequestAnimationFrame(this, this.config.forceSetTimeOut) : new b.RequestAnimationFrame(this, !1), this._kickstart = !0, window.focus && (!window.PhaserGlobal || window.PhaserGlobal && !window.PhaserGlobal.stopFocus) && window.focus(), this.config.disableStart || (this.cache.isReady ? this.raf.start() : this.cache.onReady.addOnce(function() {
                    this.raf.start()
                }, this)))
        },
        showDebugHeader: function() {
            if (!window.PhaserGlobal || !window.PhaserGlobal.hideBanner) {
                var a = b.VERSION,
                    c = "Canvas",
                    e = "HTML Audio",
                    d = 1;
                this.renderType === b.WEBGL ? (c = "WebGL", d++) : this.renderType === b.HEADLESS && (c = "Headless");
                this.device.webAudio && (e = "WebAudio", d++);
                if (this.device.ie) window.console && console.log("Phaser v" + a + " | Pixi.js | " + c + " | " + e + " | http://phaser.io");
                else {
                    a = ["%c %c %c Phaser CE v" + a + " | Pixi.js | " + c + " | " + e + "  %c %c %c http://phaser.io %c\u2665%c\u2665%c\u2665", "background: #fb8cb3", "background: #d44a52", "color: #ffffff; background: #871905;", "background: #d44a52", "background: #fb8cb3",
                        "background: #ffffff"
                    ];
                    for (c = 0; 3 > c; c++) c < d ? a.push("color: #ff2424; background: #fff") : a.push("color: #959595; background: #fff");
                    console.log.apply(console, a)
                }
            }
        },
        setUpRenderer: function() {
            if (!this.device.canvas) throw Error("Phaser.Game - Cannot create Canvas 2d context, aborting.");
            this.canvas = this.config.canvas ? this.config.canvas : b.Canvas.create(this, this.width, this.height, this.config.canvasID, !0);
            this.config.canvasStyle ? this.canvas.style = this.config.canvasStyle : this.canvas.style["-webkit-full-screen"] =
                "width: 100%; height: 100%";
            this.config.crisp && b.Canvas.setImageRenderingCrisp(this.canvas);
            if (this.renderType === b.WEBGL || this.renderType === b.WEBGL_MULTI || this.renderType === b.AUTO && this.device.webGL) {
                if (this.multiTexture || this.renderType === b.WEBGL_MULTI) PIXI.enableMultiTexture(), this.multiTexture = !0;
                try {
                    this.renderer = new PIXI.WebGLRenderer(this, this.config), this.renderType = b.WEBGL, this.context = null, this.canvas.addEventListener("webglcontextlost", this.contextLost.bind(this), !1), this.canvas.addEventListener("webglcontextrestored",
                        this.contextRestored.bind(this), !1)
                } catch (a) {
                    if (this.renderer = null, this.multiTexture = !1, PIXI._enableMultiTextureToggle = !1, this.renderType === b.WEBGL) throw a;
                }
            }
            this.renderer || (this.renderer = new PIXI.CanvasRenderer(this, this.config), this.context = this.renderer.context, this.renderType === b.AUTO && (this.renderType = b.CANVAS));
            this.device.cocoonJS && (this.canvas.screencanvas = this.renderType === b.CANVAS ? !0 : !1);
            this.renderType !== b.HEADLESS && (this.stage.smoothed = this.antialias, b.Canvas.addToDOM(this.canvas, this.parent,
                !1), b.Canvas.setTouchAction(this.canvas))
        },
        contextLost: function(a) {
            a.preventDefault();
            this.renderer.contextLost = !0
        },
        contextRestored: function() {
            this.renderer.initContext();
            this.cache.clearGLTextures();
            this.renderer.contextLost = !1
        },
        update: function(a) {
            if (this.pendingDestroy) this.destroy();
            else if (this.time.update(a), this._kickstart) this.updateLogic(this.time.desiredFpsMult), this.updateRender(this.time.slowMotion * this.time.desiredFps), this._kickstart = !1;
            else if (1 < this._spiraling && !this.forceSingleUpdate) this.time.time >
                this._nextFpsNotification && (this._nextFpsNotification = this.time.time + 1E4, this.fpsProblemNotifier.dispatch()), this._spiraling = this._deltaTime = 0, this.dropFrames ? this.rendersThisFrame = 0 : (this.updateRender(this.time.slowMotion * this.time.desiredFps), this.rendersThisFrame = 1);
            else {
                a = 1E3 * this.time.slowMotion / this.time.desiredFps;
                this._deltaTime += Math.max(Math.min(3 * a, this.time.elapsed), 0);
                var c = 0;
                this.updatesThisFrame = Math.floor(this._deltaTime / a);
                this.forceSingleUpdate && (this.updatesThisFrame = Math.min(1,
                    this.updatesThisFrame));
                for (this.rendersThisFrame = this.forceSingleRender ? 1 : Math.min(1, this.updatesThisFrame); this._deltaTime >= a && (this._deltaTime -= a, this.currentUpdateID = c, this.updateLogic(this.time.desiredFpsMult), c++, !this.forceSingleUpdate || 1 !== c);) this.time.refresh();
                c > this._lastCount ? this._spiraling++ : c < this._lastCount && (this._spiraling = 0);
                this._lastCount = c;
                0 < this.rendersThisFrame && this.updateRender(this._deltaTime / a)
            }
        },
        updateLogic: function(a) {
            this._paused || this.pendingStep ? (this.scale.pauseUpdate(),
                this.state.pauseUpdate(a), this.debug.preUpdate(), this.input.pauseUpdate()) : (this.stepping && (this.pendingStep = !0), this.time.countUpdate(), this.scale.preUpdate(), this.debug.preUpdate(), this.camera.preUpdate(), this.physics.preUpdate(), this.state.preUpdate(a), this.plugins.preUpdate(a), this.stage.preUpdate(), this.state.update(), this.stage.update(), this.tweens.update(), this.sound.update(), this.input.update(), this.physics.update(), this.plugins.update(), this.stage.postUpdate(), this.plugins.postUpdate());
            this.stage.updateTransform()
        },
        updateRender: function(a) {
            this.lockRender || (this.time.countRender(), this.state.preRender(a), this.renderType !== b.HEADLESS && (this.renderer.render(this.stage), this.plugins.render(a), this.state.render(a)), this.plugins.postRender(a))
        },
        enableStep: function() {
            this.stepping = !0;
            this.pendingStep = !1;
            this.stepCount = 0
        },
        disableStep: function() {
            this.pendingStep = this.stepping = !1
        },
        step: function() {
            this.pendingStep = !1;
            this.stepCount++
        },
        destroy: function() {
            this.raf.stop();
            this.debug.destroy &&
                this.debug.destroy();
            this.state.destroy();
            this.sound.destroy();
            this.scale.destroy();
            this.stage.destroy();
            this.input.destroy();
            this.physics.destroy();
            this.plugins.destroy();
            this.world = this.time = this.load = this.cache = this.plugins = this.physics = this.input = this.stage = this.scale = this.sound = this.state = this.debug = null;
            this.isBooted = !1;
            this.renderer.destroy(!1);
            b.Canvas.removeFromDOM(this.canvas);
            PIXI.defaultRenderer = null;
            b.GAMES[this.id] = null
        },
        gamePaused: function(a) {
            this._paused || (this._paused = !0, this.time.gamePaused(),
                this.sound.muteOnPause && this.sound.setMute(), this.onPause.dispatch(a), this.device.cordova && this.device.iOS && (this.lockRender = !0))
        },
        gameResumed: function(a) {
            this._paused && !this._codePaused && (this._paused = !1, this.time.gameResumed(), this.input.reset(), this.sound.muteOnPause && this.sound.unsetMute(), this.onResume.dispatch(a), this.device.cordova && this.device.iOS && (this.lockRender = !1))
        },
        focusLoss: function(a) {
            this.onBlur.dispatch(a);
            this.stage.disableVisibilityChange || this.gamePaused(a)
        },
        focusGain: function(a) {
            this.onFocus.dispatch(a);
            this.stage.disableVisibilityChange || this.gameResumed(a)
        }
    };
    b.Game.prototype.constructor = b.Game;
    Object.defineProperty(b.Game.prototype, "paused", {
        get: function() {
            return this._paused
        },
        set: function(a) {
            !0 === a ? (!1 === this._paused && (this._paused = !0, this.sound.setMute(), this.time.gamePaused(), this.onPause.dispatch(this)), this._codePaused = !0) : (this._paused && (this._paused = !1, this.input.reset(), this.sound.unsetMute(), this.time.gameResumed(), this.onResume.dispatch(this)), this._codePaused = !1)
        }
    });
    b.Input = function(a) {
        this.game =
            a;
        this.hitContext = this.hitCanvas = null;
        this.moveCallbacks = [];
        this.customCandidateHandlerContext = this.customCandidateHandler = null;
        this.pollRate = 0;
        this.enabled = !0;
        this.multiInputOverride = b.Input.MOUSE_TOUCH_COMBINE;
        this.scale = this.circle = this.speed = this.position = null;
        this.maxPointers = -1;
        this.tapRate = 200;
        this.doubleTapRate = 300;
        this.holdRate = 2E3;
        this.justReleasedRate = this.justPressedRate = 200;
        this.recordPointerHistory = !1;
        this.recordLimit = this.recordRate = 100;
        this.touchLockCallbacks = [];
        this.pointer10 = this.pointer9 =
            this.pointer8 = this.pointer7 = this.pointer6 = this.pointer5 = this.pointer4 = this.pointer3 = this.pointer2 = this.pointer1 = null;
        this.pointers = [];
        this.gamepad = this.mspointer = this.touch = this.keyboard = this.mouse = this.mousePointer = this.activePointer = null;
        this.resetLocked = !1;
        this.onHold = this.onTap = this.onUp = this.onDown = null;
        this.minPriorityID = 0;
        this.interactiveItems = new b.ArraySet;
        this._localPoint = new b.Point;
        this._pollCounter = 0;
        this._oldPosition = null;
        this._y = this._x = 0
    };
    b.Input.MOUSE_OVERRIDES_TOUCH = 0;
    b.Input.TOUCH_OVERRIDES_MOUSE =
        1;
    b.Input.MOUSE_TOUCH_COMBINE = 2;
    b.Input.MAX_POINTERS = 10;
    b.Input.prototype = {
        boot: function() {
            this.mousePointer = new b.Pointer(this.game, 0, b.PointerMode.CURSOR);
            this.addPointer();
            this.addPointer();
            this.mouse = new b.Mouse(this.game);
            this.touch = new b.Touch(this.game);
            this.mspointer = new b.MSPointer(this.game);
            b.Keyboard && (this.keyboard = new b.Keyboard(this.game));
            b.Gamepad && (this.gamepad = new b.Gamepad(this.game));
            this.onDown = new b.Signal;
            this.onUp = new b.Signal;
            this.onTap = new b.Signal;
            this.onHold = new b.Signal;
            this.scale = new b.Point(1, 1);
            this.speed = new b.Point;
            this.position = new b.Point;
            this._oldPosition = new b.Point;
            this.circle = new b.Circle(0, 0, 44);
            this.activePointer = this.mousePointer;
            this.hitCanvas = b.CanvasPool.create(this, 1, 1);
            this.hitContext = this.hitCanvas.getContext("2d");
            this.mouse.start();
            this.game.device.mspointer || this.touch.start();
            this.mspointer.start();
            this.mousePointer.active = !0;
            this.keyboard && this.keyboard.start();
            var a = this;
            this._onClickTrampoline = function(c) {
                a.onClickTrampoline(c)
            };
            this.game.canvas.addEventListener("click",
                this._onClickTrampoline, !1)
        },
        destroy: function() {
            this.mouse.stop();
            this.touch.stop();
            this.mspointer.stop();
            this.keyboard && this.keyboard.stop();
            this.gamepad && this.gamepad.stop();
            this.moveCallbacks = [];
            b.CanvasPool.remove(this);
            this.game.canvas.removeEventListener("click", this._onClickTrampoline)
        },
        setInteractiveCandidateHandler: function(a, c) {
            this.customCandidateHandler = a;
            this.customCandidateHandlerContext = c
        },
        addMoveCallback: function(a, c) {
            this.moveCallbacks.push({
                callback: a,
                context: c
            })
        },
        addTouchLockCallback: function(a,
            c, e) {
            void 0 === e && (e = !1);
            this.touchLockCallbacks.push({
                callback: a,
                context: c,
                onEnd: e
            })
        },
        removeTouchLockCallback: function(a, c) {
            for (var e = this.touchLockCallbacks.length; e--;)
                if (this.touchLockCallbacks[e].callback === a && this.touchLockCallbacks[e].context === c) return this.touchLockCallbacks.splice(e, 1), !0;
            return !1
        },
        executeTouchLockCallbacks: function(a, c) {
            for (var e = this.touchLockCallbacks.length; e--;) {
                var b = this.touchLockCallbacks[e];
                b.onEnd === a && b.callback.call(b.context, this, c) && this.touchLockCallbacks.splice(e,
                    1)
            }
        },
        deleteMoveCallback: function(a, c) {
            for (var e = this.moveCallbacks.length; e--;)
                if (this.moveCallbacks[e].callback === a && this.moveCallbacks[e].context === c) {
                    this.moveCallbacks.splice(e, 1);
                    break
                }
        },
        addPointer: function() {
            if (this.pointers.length >= b.Input.MAX_POINTERS) return console.warn("Phaser.Input.addPointer: Maximum limit of " + b.Input.MAX_POINTERS + " pointers reached."), null;
            var a = this.pointers.length + 1,
                c = new b.Pointer(this.game, a, b.PointerMode.CONTACT);
            this.pointers.push(c);
            return this["pointer" + a] = c
        },
        update: function() {
            this.keyboard && this.keyboard.update();
            if (0 < this.pollRate && this._pollCounter < this.pollRate) this._pollCounter++;
            else {
                this.speed.x = this.position.x - this._oldPosition.x;
                this.speed.y = this.position.y - this._oldPosition.y;
                this._oldPosition.copyFrom(this.position);
                this.mousePointer.update();
                this.gamepad && this.gamepad.active && this.gamepad.update();
                for (var a = 0; a < this.pointers.length; a++) this.pointers[a].update();
                this._pollCounter = 0
            }
        },
        pauseUpdate: function() {
            this.gamepad && this.gamepad.active &&
                this.gamepad.update()
        },
        reset: function(a) {
            if (this.game.isBooted && !this.resetLocked) {
                void 0 === a && (a = !1);
                this.mousePointer.reset();
                this.keyboard && this.keyboard.reset(a);
                for (var c = 0; c < this.pointers.length; c++) this.pointers[c].reset();
                "none" !== this.game.canvas.style.cursor && (this.game.canvas.style.cursor = "");
                a && (this.onDown.dispose(), this.onUp.dispose(), this.onTap.dispose(), this.onHold.dispose(), this.onDown = new b.Signal, this.onUp = new b.Signal, this.onTap = new b.Signal, this.onHold = new b.Signal, this.moveCallbacks = []);
                this._pollCounter = 0
            }
        },
        resetSpeed: function(a, c) {
            this._oldPosition.setTo(a, c);
            this.speed.setTo(0, 0)
        },
        startPointer: function(a) {
            if (0 <= this.maxPointers && this.countActivePointers(this.maxPointers) >= this.maxPointers) return null;
            if (!this.pointer1.active) return this.pointer1.start(a);
            if (!this.pointer2.active) return this.pointer2.start(a);
            for (var c = 2; c < this.pointers.length; c++) {
                var e = this.pointers[c];
                if (!e.active) return e.start(a)
            }
            return null
        },
        updatePointer: function(a) {
            if (this.pointer1.active && this.pointer1.identifier ===
                a.identifier) return this.pointer1.move(a);
            if (this.pointer2.active && this.pointer2.identifier === a.identifier) return this.pointer2.move(a);
            for (var c = 2; c < this.pointers.length; c++) {
                var e = this.pointers[c];
                if (e.active && e.identifier === a.identifier) return e.move(a)
            }
            return null
        },
        stopPointer: function(a) {
            if (this.pointer1.active && this.pointer1.identifier === a.identifier) return this.pointer1.stop(a);
            if (this.pointer2.active && this.pointer2.identifier === a.identifier) return this.pointer2.stop(a);
            for (var c = 2; c < this.pointers.length; c++) {
                var e =
                    this.pointers[c];
                if (e.active && e.identifier === a.identifier) return e.stop(a)
            }
            return null
        },
        countActivePointers: function(a) {
            void 0 === a && (a = this.pointers.length);
            for (var c = a, e = 0; e < this.pointers.length && 0 < c; e++) this.pointers[e].active && c--;
            return a - c
        },
        getPointer: function(a) {
            void 0 === a && (a = !1);
            for (var c = 0; c < this.pointers.length; c++) {
                var e = this.pointers[c];
                if (e.active === a) return e
            }
            return null
        },
        getPointerFromIdentifier: function(a) {
            for (var c = 0; c < this.pointers.length; c++) {
                var e = this.pointers[c];
                if (e.identifier ===
                    a) return e
            }
            return null
        },
        getPointerFromId: function(a) {
            for (var c = 0; c < this.pointers.length; c++) {
                var e = this.pointers[c];
                if (e.pointerId === a) return e
            }
            return null
        },
        getLocalPosition: function(a, c, e) {
            void 0 === e && (e = new b.Point);
            a = a.worldTransform;
            var d = 1 / (a.a * a.d + a.c * -a.b);
            return e.setTo(a.d * d * c.x + -a.c * d * c.y + (a.ty * a.c - a.tx * a.d) * d, a.a * d * c.y + -a.b * d * c.x + (-a.ty * a.a + a.tx * a.b) * d)
        },
        hitTest: function(a, c, e) {
            if (!a.worldVisible) return !1;
            this.getLocalPosition(a, c, this._localPoint);
            e.copyFrom(this._localPoint);
            if (a.hitArea &&
                a.hitArea.contains) return a.hitArea.contains(this._localPoint.x, this._localPoint.y);
            if (b.Creature && a instanceof b.Creature) {
                var d = Math.abs(a.width),
                    l = Math.abs(a.height),
                    f = a.x - d * a.anchorX;
                if (this.game.camera.x + c.x >= f && this.game.camera.x + c.x < f + d && (d = a.y - l * a.anchorY, this.game.camera.y + c.y >= d && this.game.camera.y + c.y < d + l)) return !0
            } else if (a instanceof b.TileSprite) {
                if (d = a.width, l = a.height, f = -d * a.anchor.x, this._localPoint.x >= f && this._localPoint.x < f + d && (d = -l * a.anchor.y, this._localPoint.y >= d && this._localPoint.y <
                        d + l)) return !0
            } else if (a instanceof PIXI.Sprite) {
                if (d = a.texture.frame.width / a.texture.baseTexture.resolution, l = a.texture.frame.height / a.texture.baseTexture.resolution, f = -d * a.anchor.x, this._localPoint.x >= f && this._localPoint.x < f + d && (d = -l * a.anchor.y, this._localPoint.y >= d && this._localPoint.y < d + l)) return !0
            } else if (a instanceof b.Graphics)
                for (l = 0; l < a.graphicsData.length; l++)
                    if (d = a.graphicsData[l], d.fill && d.shape && d.shape.contains(this._localPoint.x, this._localPoint.y)) return !0;
            for (l = 0; l < a.children.length; l++)
                if (this.hitTest(a.children[l],
                        c, e)) return !0;
            return !1
        },
        onClickTrampoline: function() {
            this.activePointer.processClickTrampolines()
        }
    };
    b.Input.prototype.constructor = b.Input;
    Object.defineProperty(b.Input.prototype, "x", {
        get: function() {
            return this._x
        },
        set: function(a) {
            this._x = Math.floor(a)
        }
    });
    Object.defineProperty(b.Input.prototype, "y", {
        get: function() {
            return this._y
        },
        set: function(a) {
            this._y = Math.floor(a)
        }
    });
    Object.defineProperty(b.Input.prototype, "pollLocked", {
        get: function() {
            return 0 < this.pollRate && this._pollCounter < this.pollRate
        }
    });
    Object.defineProperty(b.Input.prototype,
        "totalInactivePointers", {
            get: function() {
                return this.pointers.length - this.countActivePointers()
            }
        });
    Object.defineProperty(b.Input.prototype, "totalActivePointers", {
        get: function() {
            return this.countActivePointers()
        }
    });
    Object.defineProperty(b.Input.prototype, "worldX", {
        get: function() {
            return this.game.camera.view.x + this.x
        }
    });
    Object.defineProperty(b.Input.prototype, "worldY", {
        get: function() {
            return this.game.camera.view.y + this.y
        }
    });
    b.Mouse = function(a) {
        this.game = a;
        this.input = a.input;
        this.callbackContext = this.game;
        this.mouseWheelCallback = this.mouseOverCallback = this.mouseOutCallback = this.mouseUpCallback = this.mouseDownCallback = null;
        this.capture = !1;
        this.button = -1;
        this.wheelDelta = 0;
        this.enabled = !0;
        this.stopOnGameOut = this.locked = !1;
        this.pointerLock = new b.Signal;
        this._wheelEvent = this._onMouseWheel = this._onMouseOver = this._onMouseOut = this._onMouseUp = this._onMouseMove = this._onMouseDown = this.event = null
    };
    b.Mouse.NO_BUTTON = -1;
    b.Mouse.LEFT_BUTTON = 0;
    b.Mouse.MIDDLE_BUTTON = 1;
    b.Mouse.RIGHT_BUTTON = 2;
    b.Mouse.BACK_BUTTON = 3;
    b.Mouse.FORWARD_BUTTON =
        4;
    b.Mouse.WHEEL_UP = 1;
    b.Mouse.WHEEL_DOWN = -1;
    b.Mouse.prototype = {
        start: function() {
            if ((!this.game.device.android || !1 !== this.game.device.chrome) && null === this._onMouseDown) {
                var a = this;
                this._onMouseDown = function(c) {
                    return a.onMouseDown(c)
                };
                this._onMouseMove = function(c) {
                    return a.onMouseMove(c)
                };
                this._onMouseUp = function(c) {
                    return a.onMouseUp(c)
                };
                this._onMouseUpGlobal = function(c) {
                    return a.onMouseUpGlobal(c)
                };
                this._onMouseOutGlobal = function(c) {
                    return a.onMouseOutGlobal(c)
                };
                this._onMouseOut = function(c) {
                    return a.onMouseOut(c)
                };
                this._onMouseOver = function(c) {
                    return a.onMouseOver(c)
                };
                this._onMouseWheel = function(c) {
                    return a.onMouseWheel(c)
                };
                var c = this.game.canvas;
                c.addEventListener("mousedown", this._onMouseDown, !0);
                c.addEventListener("mousemove", this._onMouseMove, !0);
                c.addEventListener("mouseup", this._onMouseUp, !0);
                this.game.device.cocoonJS || (window.addEventListener("mouseup", this._onMouseUpGlobal, !0), window.addEventListener("mouseout", this._onMouseOutGlobal, !0), c.addEventListener("mouseover", this._onMouseOver, !0), c.addEventListener("mouseout",
                    this._onMouseOut, !0));
                var e = this.game.device.wheelEvent;
                e && (c.addEventListener(e, this._onMouseWheel, !0), "mousewheel" === e ? this._wheelEvent = new d(-.025, 1) : "DOMMouseScroll" === e && (this._wheelEvent = new d(1, 1)))
            }
        },
        onMouseDown: function(a) {
            this.event = a;
            this.capture && a.preventDefault();
            this.mouseDownCallback && this.mouseDownCallback.call(this.callbackContext, a);
            this.input.enabled && this.enabled && (a.identifier = 0, this.input.mousePointer.start(a))
        },
        onMouseMove: function(a) {
            this.event = a;
            this.capture && a.preventDefault();
            this.mouseMoveCallback && this.mouseMoveCallback.call(this.callbackContext, a);
            this.input.enabled && this.enabled && (a.identifier = 0, this.input.mousePointer.move(a))
        },
        onMouseUp: function(a) {
            this.event = a;
            this.capture && a.preventDefault();
            this.mouseUpCallback && this.mouseUpCallback.call(this.callbackContext, a);
            this.input.enabled && this.enabled && (a.identifier = 0, this.input.mousePointer.stop(a))
        },
        onMouseUpGlobal: function(a) {
            this.input.mousePointer.withinGame || (this.mouseUpCallback && this.mouseUpCallback.call(this.callbackContext,
                a), a.identifier = 0, this.input.mousePointer.stop(a))
        },
        onMouseOutGlobal: function(a) {
            this.event = a;
            this.capture && a.preventDefault();
            this.input.mousePointer.withinGame = !1;
            this.input.enabled && this.enabled && (this.input.mousePointer.stop(a), this.input.mousePointer.resetButtons())
        },
        onMouseOut: function(a) {
            this.event = a;
            this.capture && a.preventDefault();
            this.input.mousePointer.withinGame = !1;
            this.mouseOutCallback && this.mouseOutCallback.call(this.callbackContext, a);
            if (this.input.enabled && this.enabled) {
                this.stopOnGameOut &&
                    (a.identifier = 0, this.input.mousePointer.stop(a));
                for (var c in this.input.interactiveItems.list) !0 === this.input.interactiveItems.list[c].enabled && this.input.interactiveItems.list[c]._pointerOutHandler(this.input.mousePointer)
            }
        },
        onMouseOver: function(a) {
            this.event = a;
            this.capture && a.preventDefault();
            this.input.mousePointer.withinGame = !0;
            this.mouseOverCallback && this.mouseOverCallback.call(this.callbackContext, a)
        },
        onMouseWheel: function(a) {
            this._wheelEvent && (a = this._wheelEvent.bindEvent(a));
            this.event = a;
            this.capture && a.preventDefault();
            this.wheelDelta = b.Math.clamp(-a.deltaY, -1, 1);
            this.mouseWheelCallback && this.mouseWheelCallback.call(this.callbackContext, a)
        },
        requestPointerLock: function() {
            if (this.game.device.pointerLock) {
                var a = this.game.canvas;
                a.requestPointerLock = a.requestPointerLock || a.mozRequestPointerLock || a.webkitRequestPointerLock;
                a.requestPointerLock();
                var c = this;
                this._pointerLockChange = function(a) {
                    return c.pointerLockChange(a)
                };
                document.addEventListener("pointerlockchange", this._pointerLockChange,
                    !0);
                document.addEventListener("mozpointerlockchange", this._pointerLockChange, !0);
                document.addEventListener("webkitpointerlockchange", this._pointerLockChange, !0)
            }
        },
        pointerLockChange: function(a) {
            var c = this.game.canvas;
            document.pointerLockElement === c || document.mozPointerLockElement === c || document.webkitPointerLockElement === c ? (this.locked = !0, this.pointerLock.dispatch(!0, a)) : (this.locked = !1, this.pointerLock.dispatch(!1, a))
        },
        releasePointerLock: function() {
            document.exitPointerLock = document.exitPointerLock ||
                document.mozExitPointerLock || document.webkitExitPointerLock;
            document.exitPointerLock();
            document.removeEventListener("pointerlockchange", this._pointerLockChange, !0);
            document.removeEventListener("mozpointerlockchange", this._pointerLockChange, !0);
            document.removeEventListener("webkitpointerlockchange", this._pointerLockChange, !0)
        },
        stop: function() {
            var a = this.game.canvas;
            a.removeEventListener("mousedown", this._onMouseDown, !0);
            a.removeEventListener("mousemove", this._onMouseMove, !0);
            a.removeEventListener("mouseup",
                this._onMouseUp, !0);
            a.removeEventListener("mouseover", this._onMouseOver, !0);
            a.removeEventListener("mouseout", this._onMouseOut, !0);
            var c = this.game.device.wheelEvent;
            c && a.removeEventListener(c, this._onMouseWheel, !0);
            window.removeEventListener("mouseup", this._onMouseUpGlobal, !0);
            window.removeEventListener("mouseout", this._onMouseOutGlobal, !0);
            document.removeEventListener("pointerlockchange", this._pointerLockChange, !0);
            document.removeEventListener("mozpointerlockchange", this._pointerLockChange, !0);
            document.removeEventListener("webkitpointerlockchange",
                this._pointerLockChange, !0)
        }
    };
    b.Mouse.prototype.constructor = b.Mouse;
    d.prototype = {};
    d.prototype.constructor = d;
    d.prototype.bindEvent = function(a) {
        if (!d._stubsGenerated && a) {
            var c = function(a) {
                    return function() {
                        var c = this.originalEvent[a];
                        return "function" !== typeof c ? c : c.bind(this.originalEvent)
                    }
                },
                e;
            for (e in a) e in d.prototype || Object.defineProperty(d.prototype, e, {
                get: c(e)
            });
            d._stubsGenerated = !0
        }
        this.originalEvent = a;
        return this
    };
    Object.defineProperties(d.prototype, {
        type: {
            value: "wheel"
        },
        deltaMode: {
            get: function() {
                return this._deltaMode
            }
        },
        deltaY: {
            get: function() {
                return this._scaleFactor * (this.originalEvent.wheelDelta || this.originalEvent.detail) || 0
            }
        },
        deltaX: {
            get: function() {
                return this._scaleFactor * this.originalEvent.wheelDeltaX || 0
            }
        },
        deltaZ: {
            value: 0
        }
    });
    b.MSPointer = function(a) {
        this.game = a;
        this.input = a.input;
        this.callbackContext = this.game;
        this.pointerUpCallback = this.pointerMoveCallback = this.pointerDownCallback = null;
        this.capture = !0;
        this.button = -1;
        this.event = null;
        this.enabled = !0;
        this._onMSPointerOver = this._onMSPointerOut = this._onMSPointerUpGlobal =
            this._onMSPointerUp = this._onMSPointerMove = this._onMSPointerDown = null
    };
    b.MSPointer.prototype = {
        start: function() {
            if (null === this._onMSPointerDown) {
                var a = this;
                if (this.game.device.mspointer) {
                    this._onMSPointerDown = function(c) {
                        return a.onPointerDown(c)
                    };
                    this._onMSPointerMove = function(c) {
                        return a.onPointerMove(c)
                    };
                    this._onMSPointerUp = function(c) {
                        return a.onPointerUp(c)
                    };
                    this._onMSPointerUpGlobal = function(c) {
                        return a.onPointerUpGlobal(c)
                    };
                    this._onMSPointerOut = function(c) {
                        return a.onPointerOut(c)
                    };
                    this._onMSPointerOver =
                        function(c) {
                            return a.onPointerOver(c)
                        };
                    var c = this.game.canvas;
                    c.addEventListener("MSPointerDown", this._onMSPointerDown, !1);
                    c.addEventListener("MSPointerMove", this._onMSPointerMove, !1);
                    c.addEventListener("MSPointerUp", this._onMSPointerUp, !1);
                    c.addEventListener("pointerdown", this._onMSPointerDown, !1);
                    c.addEventListener("pointermove", this._onMSPointerMove, !1);
                    c.addEventListener("pointerup", this._onMSPointerUp, !1);
                    c.style["-ms-content-zooming"] = "none";
                    c.style["-ms-touch-action"] = "none";
                    this.game.device.cocoonJS ||
                        (window.addEventListener("MSPointerUp", this._onMSPointerUpGlobal, !0), c.addEventListener("MSPointerOver", this._onMSPointerOver, !0), c.addEventListener("MSPointerOut", this._onMSPointerOut, !0), window.addEventListener("pointerup", this._onMSPointerUpGlobal, !0), c.addEventListener("pointerover", this._onMSPointerOver, !0), c.addEventListener("pointerout", this._onMSPointerOut, !0))
                }
            }
        },
        onPointerDown: function(a) {
            this.game.input.executeTouchLockCallbacks(!1, a);
            this.event = a;
            this.capture && a.preventDefault();
            this.pointerDownCallback &&
                this.pointerDownCallback.call(this.callbackContext, a);
            this.input.enabled && this.enabled && (a.identifier = a.pointerId, "mouse" === a.pointerType || 4 === a.pointerType ? this.input.mousePointer.start(a) : this.input.startPointer(a))
        },
        onPointerMove: function(a) {
            this.event = a;
            this.capture && a.preventDefault();
            this.pointerMoveCallback && this.pointerMoveCallback.call(this.callbackContext, a);
            this.input.enabled && this.enabled && (a.identifier = a.pointerId, "mouse" === a.pointerType || 4 === a.pointerType ? this.input.mousePointer.move(a) :
                this.input.updatePointer(a))
        },
        onPointerUp: function(a) {
            this.game.input.executeTouchLockCallbacks(!0, a);
            this.event = a;
            this.capture && a.preventDefault();
            this.pointerUpCallback && this.pointerUpCallback.call(this.callbackContext, a);
            this.input.enabled && this.enabled && (a.identifier = a.pointerId, "mouse" === a.pointerType || 4 === a.pointerType ? this.input.mousePointer.stop(a) : this.input.stopPointer(a))
        },
        onPointerUpGlobal: function(a) {
            if ("mouse" !== a.pointerType && 4 !== a.pointerType || this.input.mousePointer.withinGame) {
                var c =
                    this.input.getPointerFromIdentifier(a.identifier);
                if (c && c.withinGame) this.onPointerUp(a)
            } else this.onPointerUp(a)
        },
        onPointerOut: function(a) {
            this.event = a;
            this.capture && a.preventDefault();
            if ("mouse" === a.pointerType || 4 === a.pointerType) this.input.mousePointer.withinGame = !1;
            else {
                var c = this.input.getPointerFromIdentifier(a.identifier);
                c && (c.withinGame = !1)
            }
            this.input.mouse.mouseOutCallback && this.input.mouse.mouseOutCallback.call(this.input.mouse.callbackContext, a);
            this.input.enabled && this.enabled && this.input.mouse.stopOnGameOut &&
                (a.identifier = 0, c ? c.stop(a) : this.input.mousePointer.stop(a))
        },
        onPointerOver: function(a) {
            this.event = a;
            this.capture && a.preventDefault();
            if ("mouse" === a.pointerType || 4 === a.pointerType) this.input.mousePointer.withinGame = !0;
            else {
                var c = this.input.getPointerFromIdentifier(a.identifier);
                c && (c.withinGame = !0)
            }
            this.input.mouse.mouseOverCallback && this.input.mouse.mouseOverCallback.call(this.input.mouse.callbackContext, a)
        },
        stop: function() {
            var a = this.game.canvas;
            a.removeEventListener("MSPointerDown", this._onMSPointerDown,
                !1);
            a.removeEventListener("MSPointerMove", this._onMSPointerMove, !1);
            a.removeEventListener("MSPointerUp", this._onMSPointerUp, !1);
            a.removeEventListener("pointerdown", this._onMSPointerDown, !1);
            a.removeEventListener("pointermove", this._onMSPointerMove, !1);
            a.removeEventListener("pointerup", this._onMSPointerUp, !1);
            window.removeEventListener("MSPointerUp", this._onMSPointerUpGlobal, !0);
            a.removeEventListener("MSPointerOver", this._onMSPointerOver, !0);
            a.removeEventListener("MSPointerOut", this._onMSPointerOut,
                !0);
            window.removeEventListener("pointerup", this._onMSPointerUpGlobal, !0);
            a.removeEventListener("pointerover", this._onMSPointerOver, !0);
            a.removeEventListener("pointerout", this._onMSPointerOut, !0)
        }
    };
    b.MSPointer.prototype.constructor = b.MSPointer;
    b.DeviceButton = function(a, c) {
        this.parent = a;
        this.game = a.game;
        this.event = null;
        this.isDown = !1;
        this.isUp = !0;
        this.repeats = this.timeUp = this.timeDown = 0;
        this.ctrlKey = this.shiftKey = this.altKey = !1;
        this.value = 0;
        this.buttonCode = c;
        this.onDown = new b.Signal;
        this.onUp = new b.Signal;
        this.onFloat = new b.Signal
    };
    b.DeviceButton.prototype = {
        start: function(a, c) {
            this.isDown || (this.isDown = !0, this.isUp = !1, this.timeDown = this.game.time.time, this.repeats = 0, this.event = a, this.value = c, a && (this.altKey = a.altKey, this.shiftKey = a.shiftKey, this.ctrlKey = a.ctrlKey), this.onDown.dispatch(this, c))
        },
        stop: function(a, c) {
            this.isUp || (this.isDown = !1, this.isUp = !0, this.timeUp = this.game.time.time, this.event = a, this.value = c, a && (this.altKey = a.altKey, this.shiftKey = a.shiftKey, this.ctrlKey = a.ctrlKey), this.onUp.dispatch(this,
                c))
        },
        startStop: function(a, c, e) {
            a ? this.start(c, e) : this.stop(c, e)
        },
        padFloat: function(a) {
            this.isUp = this.isDown = !1;
            this.value = a;
            this.onFloat.dispatch(this, a)
        },
        justPressed: function(a) {
            return this.isDown && this.timeDown + (a || 250) > this.game.time.time
        },
        justReleased: function(a) {
            return this.isUp && this.timeUp + (a || 250) > this.game.time.time
        },
        reset: function() {
            this.isDown = !1;
            this.isUp = !0;
            this.timeDown = this.game.time.time;
            this.repeats = 0;
            this.ctrlKey = this.shiftKey = this.altKey = !1
        },
        destroy: function() {
            this.onDown.dispose();
            this.onUp.dispose();
            this.onFloat.dispose();
            this.game = this.parent = null
        }
    };
    b.DeviceButton.prototype.constructor = b.DeviceButton;
    Object.defineProperty(b.DeviceButton.prototype, "duration", {
        get: function() {
            return this.isUp ? -1 : this.game.time.time - this.timeDown
        }
    });
    b.Pointer = function(a, c, e) {
        this.game = a;
        this.id = c;
        this.type = b.POINTER;
        this.exists = !0;
        this.identifier = 0;
        this.pointerId = null;
        this.pointerMode = e || b.PointerMode.CURSOR | b.PointerMode.CONTACT;
        this.button = this.target = null;
        this.leftButton = new b.DeviceButton(this,
            b.Pointer.LEFT_BUTTON);
        this.middleButton = new b.DeviceButton(this, b.Pointer.MIDDLE_BUTTON);
        this.rightButton = new b.DeviceButton(this, b.Pointer.RIGHT_BUTTON);
        this.backButton = new b.DeviceButton(this, b.Pointer.BACK_BUTTON);
        this.forwardButton = new b.DeviceButton(this, b.Pointer.FORWARD_BUTTON);
        this.eraserButton = new b.DeviceButton(this, b.Pointer.ERASER_BUTTON);
        this._holdSent = !1;
        this._history = [];
        this._nextDrop = 0;
        this.withinGame = this._stateReset = !1;
        this.screenY = this.screenX = this.pageY = this.pageX = this.clientY =
            this.clientX = -1;
        this.movementY = this.movementX = this.rawMovementY = this.rawMovementX = 0;
        this.y = this.x = -1;
        this.isMouse = 0 === c;
        this.isDown = !1;
        this.isUp = !0;
        this.totalTouches = this.previousTapTime = this.timeUp = this.timeDown = 0;
        this.msSinceLastClick = Number.MAX_VALUE;
        this.targetObject = null;
        this.interactiveCandidates = [];
        this.dirty = this.active = !1;
        this.position = new b.Point;
        this.positionDown = new b.Point;
        this.positionUp = new b.Point;
        this.circle = new b.Circle(0, 0, 44);
        this._trampolineTargetObject = this._clickTrampolines =
            null
    };
    b.Pointer.NO_BUTTON = 0;
    b.Pointer.LEFT_BUTTON = 1;
    b.Pointer.RIGHT_BUTTON = 2;
    b.Pointer.MIDDLE_BUTTON = 4;
    b.Pointer.BACK_BUTTON = 8;
    b.Pointer.FORWARD_BUTTON = 16;
    b.Pointer.ERASER_BUTTON = 32;
    b.Pointer.prototype = {
        resetButtons: function() {
            this.isDown = !1;
            this.isUp = !0;
            this.isMouse && (this.leftButton.reset(), this.middleButton.reset(), this.rightButton.reset(), this.backButton.reset(), this.forwardButton.reset(), this.eraserButton.reset())
        },
        processButtonsDown: function(a, c) {
            a === b.Mouse.LEFT_BUTTON && this.leftButton.start(c);
            a === b.Mouse.RIGHT_BUTTON && this.rightButton.start(c);
            a === b.Mouse.MIDDLE_BUTTON && this.middleButton.start(c);
            a === b.Mouse.BACK_BUTTON && this.backButton.start(c);
            a === b.Mouse.FORWARD_BUTTON && this.forwardButton.start(c)
        },
        processButtonsUp: function(a, c) {
            a === b.Mouse.LEFT_BUTTON && this.leftButton.stop(c);
            a === b.Mouse.RIGHT_BUTTON && this.rightButton.stop(c);
            a === b.Mouse.MIDDLE_BUTTON && this.middleButton.stop(c);
            a === b.Mouse.BACK_BUTTON && this.backButton.stop(c);
            a === b.Mouse.FORWARD_BUTTON && this.forwardButton.stop(c)
        },
        processButtonsUpDown: function(a, c) {
            var e = "down" === c.type.toLowerCase().substr(-4),
                d = "move" === c.type.toLowerCase().substr(-4);
            void 0 !== a ? (e && 1 === a && c.ctrlKey && (a = 2), this.leftButton.startStop(b.Pointer.LEFT_BUTTON & a, c), this.rightButton.startStop(b.Pointer.RIGHT_BUTTON & a, c), this.middleButton.startStop(b.Pointer.MIDDLE_BUTTON & a, c), this.backButton.startStop(b.Pointer.BACK_BUTTON & a, c), this.forwardButton.startStop(b.Pointer.FORWARD_BUTTON & a, c), this.eraserButton.startStop(b.Pointer.ERASER_BUTTON & a, c)) : void 0 !==
                c.button ? e && c.ctrlKey && 0 === c.button ? this.rightButton.start(c) : e ? this.processButtonsDown(c.button, c) : d || this.processButtonsUp(c.button, c) : e ? c.ctrlKey ? this.rightButton.start(c) : this.leftButton.start(c) : (this.leftButton.stop(c), this.rightButton.stop(c))
        },
        updateButtons: function(a) {
            this.button = a.button;
            this.processButtonsUpDown(a.buttons, a);
            this.isUp = !0;
            this.isDown = !1;
            if (this.leftButton.isDown || this.rightButton.isDown || this.middleButton.isDown || this.backButton.isDown || this.forwardButton.isDown || this.eraserButton.isDown) this.isUp = !1, this.isDown = !0
        },
        start: function(a) {
            var c = this.game.input;
            a.pointerId && (this.pointerId = a.pointerId);
            this.identifier = a.identifier;
            this.target = a.target;
            this.isMouse ? this.updateButtons(a) : (this.isDown = !0, this.isUp = !1);
            this.withinGame = this.active = !0;
            this.dirty = !1;
            this._history = [];
            this._trampolineTargetObject = this._clickTrampolines = null;
            this.msSinceLastClick = this.game.time.time - this.timeDown;
            this.timeDown = this.game.time.time;
            this._holdSent = !1;
            this.move(a, !0);
            this.positionDown.setTo(this.x, this.y);
            if (c.multiInputOverride ===
                b.Input.MOUSE_OVERRIDES_TOUCH || c.multiInputOverride === b.Input.MOUSE_TOUCH_COMBINE || c.multiInputOverride === b.Input.TOUCH_OVERRIDES_MOUSE && 0 === c.totalActivePointers) c.x = this.x, c.y = this.y, c.position.setTo(this.x, this.y), c.onDown.dispatch(this, a), c.resetSpeed(this.x, this.y);
            this._stateReset = !1;
            this.totalTouches++;
            null !== this.targetObject && this.targetObject._touchedHandler(this);
            return this
        },
        update: function() {
            var a = this.game.input;
            this.active && (this.dirty && (0 < a.interactiveItems.total && this.processInteractiveObjects(!1),
                this.dirty = !1), !1 === this._holdSent && this.duration >= a.holdRate && ((a.multiInputOverride === b.Input.MOUSE_OVERRIDES_TOUCH || a.multiInputOverride === b.Input.MOUSE_TOUCH_COMBINE || a.multiInputOverride === b.Input.TOUCH_OVERRIDES_MOUSE && 0 === a.totalActivePointers) && a.onHold.dispatch(this), this._holdSent = !0), a.recordPointerHistory && this.game.time.time >= this._nextDrop && (this._nextDrop = this.game.time.time + a.recordRate, this._history.push({
                x: this.position.x,
                y: this.position.y
            }), this._history.length > a.recordLimit && this._history.shift()))
        },
        move: function(a, c) {
            var e = this.game.input;
            if (!e.pollLocked) {
                void 0 === c && (c = !1);
                void 0 !== a.button && (this.button = a.button);
                this.isMouse && this.updateButtons(a);
                this.clientX = a.clientX;
                this.clientY = a.clientY;
                this.pageX = a.pageX;
                this.pageY = a.pageY;
                this.screenX = a.screenX;
                this.screenY = a.screenY;
                this.isMouse && e.mouse.locked && !c && (this.rawMovementX = a.movementX || a.mozMovementX || a.webkitMovementX || 0, this.rawMovementY = a.movementY || a.mozMovementY || a.webkitMovementY || 0, this.movementX += this.rawMovementX, this.movementY +=
                    this.rawMovementY);
                this.x = (this.pageX - this.game.scale.offset.x) * e.scale.x;
                this.y = (this.pageY - this.game.scale.offset.y) * e.scale.y;
                this.position.setTo(this.x, this.y);
                this.circle.x = this.x;
                this.circle.y = this.y;
                if (e.multiInputOverride === b.Input.MOUSE_OVERRIDES_TOUCH || e.multiInputOverride === b.Input.MOUSE_TOUCH_COMBINE || e.multiInputOverride === b.Input.TOUCH_OVERRIDES_MOUSE && 0 === e.totalActivePointers) e.activePointer = this, e.x = this.x, e.y = this.y, e.position.setTo(e.x, e.y), e.circle.x = e.x, e.circle.y = e.y;
                this.withinGame =
                    this.game.scale.bounds.contains(this.pageX, this.pageY);
                for (var d = e.moveCallbacks.length; d--;) e.moveCallbacks[d].callback.call(e.moveCallbacks[d].context, this, this.x, this.y, c, a);
                null === this.targetObject || this.game.paused && !this.targetObject.noPause || !0 !== this.targetObject.isDragged ? 0 < e.interactiveItems.total && this.processInteractiveObjects(c) : !1 === this.targetObject.update(this) && (this.targetObject = null);
                return this
            }
        },
        processInteractiveObjects: function(a) {
            var c = 0,
                e = -1,
                b = null,
                d = this.game.input.interactiveItems.first;
            for (this.interactiveCandidates = []; d;) d.checked = !1, d.validForInput(e, c, !1) && (!this.game.paused || d.sprite.noPause) && (d.checked = !0, a && d.checkPointerDown(this, !0) || !a && d.checkPointerOver(this, !0)) && (c = d.sprite.renderOrderID, e = d.priorityID, b = d, this.interactiveCandidates.push(d)), d = this.game.input.interactiveItems.next;
            for (d = this.game.input.interactiveItems.first; d;) !d.checked && d.validForInput(e, c, !0) && (a && d.checkPointerDown(this, !1) || !a && d.checkPointerOver(this, !1)) && (c = d.sprite.renderOrderID, e = d.priorityID,
                b = d, this.interactiveCandidates.push(d)), d = this.game.input.interactiveItems.next;
            this.game.input.customCandidateHandler && (b = this.game.input.customCandidateHandler.call(this.game.input.customCandidateHandlerContext, this, this.interactiveCandidates, b));
            this.swapTarget(b, !1);
            return null !== this.targetObject
        },
        swapTarget: function(a, c) {
            void 0 === c && (c = !1);
            null === a ? this.targetObject && (this.targetObject._pointerOutHandler(this, c), this.targetObject = null) : null === this.targetObject ? (this.targetObject = a, a._pointerOverHandler(this,
                c)) : this.targetObject === a ? !1 === a.update(this) && (this.targetObject = null) : (this.targetObject._pointerOutHandler(this, c), this.targetObject = a, this.targetObject._pointerOverHandler(this, c))
        },
        leave: function(a) {
            this.withinGame = !1;
            this.move(a, !1)
        },
        stop: function(a) {
            var c = this.game.input;
            if (this._stateReset && this.withinGame) a.preventDefault();
            else {
                this.timeUp = this.game.time.time;
                if (c.multiInputOverride === b.Input.MOUSE_OVERRIDES_TOUCH || c.multiInputOverride === b.Input.MOUSE_TOUCH_COMBINE || c.multiInputOverride ===
                    b.Input.TOUCH_OVERRIDES_MOUSE && 0 === c.totalActivePointers) c.onUp.dispatch(this, a), 0 <= this.duration && this.duration <= c.tapRate && (this.timeUp - this.previousTapTime < c.doubleTapRate ? c.onTap.dispatch(this, !0) : c.onTap.dispatch(this, !1), this.previousTapTime = this.timeUp);
                this.isMouse ? this.updateButtons(a) : (this.isDown = !1, this.isUp = !0);
                0 < this.id && (this.active = !1);
                this.withinGame = this.game.scale.bounds.contains(a.pageX, a.pageY);
                this.identifier = this.pointerId = null;
                this.positionUp.setTo(this.x, this.y);
                !1 === this.isMouse &&
                    c.currentPointers--;
                c.interactiveItems.callAll("_releasedHandler", this);
                this._clickTrampolines && (this._trampolineTargetObject = this.targetObject);
                this.targetObject = null;
                return this
            }
        },
        justPressed: function(a) {
            a = a || this.game.input.justPressedRate;
            return !0 === this.isDown && this.timeDown + a > this.game.time.time
        },
        justReleased: function(a) {
            a = a || this.game.input.justReleasedRate;
            return this.isUp && this.timeUp + a > this.game.time.time
        },
        addClickTrampoline: function(a, c, e, b) {
            if (this.isDown) {
                for (var d = this._clickTrampolines =
                        this._clickTrampolines || [], k = 0; k < d.length; k++)
                    if (d[k].name === a) {
                        d.splice(k, 1);
                        break
                    } d.push({
                    name: a,
                    targetObject: this.targetObject,
                    callback: c,
                    callbackContext: e,
                    callbackArgs: b
                })
            }
        },
        processClickTrampolines: function() {
            var a = this._clickTrampolines;
            if (a) {
                for (var c = 0; c < a.length; c++) {
                    var e = a[c];
                    e.targetObject === this._trampolineTargetObject && e.callback.apply(e.callbackContext, e.callbackArgs)
                }
                this._trampolineTargetObject = this._clickTrampolines = null
            }
        },
        reset: function() {
            !1 === this.isMouse && (this.active = !1);
            this.identifier =
                this.pointerId = null;
            this.dirty = !1;
            this.totalTouches = 0;
            this._holdSent = !1;
            this._history.length = 0;
            this._stateReset = !0;
            this.resetButtons();
            this.targetObject && this.targetObject._releasedHandler(this);
            this.targetObject = null
        },
        resetMovement: function() {
            this.movementY = this.movementX = 0
        }
    };
    b.Pointer.prototype.constructor = b.Pointer;
    Object.defineProperty(b.Pointer.prototype, "duration", {
        get: function() {
            return this.isUp ? -1 : this.game.time.time - this.timeDown
        }
    });
    Object.defineProperty(b.Pointer.prototype, "worldX", {
        get: function() {
            return this.game.world.camera.x +
                this.x
        }
    });
    Object.defineProperty(b.Pointer.prototype, "worldY", {
        get: function() {
            return this.game.world.camera.y + this.y
        }
    });
    b.PointerMode = {
        CURSOR: 1,
        CONTACT: 2
    };
    b.Touch = function(a) {
        this.game = a;
        this.enabled = !0;
        this.callbackContext = this.game;
        this.touchCancelCallback = this.touchLeaveCallback = this.touchEnterCallback = this.touchEndCallback = this.touchMoveCallback = this.touchStartCallback = null;
        this.preventDefault = !0;
        this._onTouchMove = this._onTouchCancel = this._onTouchLeave = this._onTouchEnter = this._onTouchEnd = this._onTouchMove =
            this._onTouchStart = this.event = null
    };
    b.Touch.prototype = {
        start: function() {
            if (null === this._onTouchStart) {
                var a = this;
                this.game.device.touch && (this._onTouchStart = function(c) {
                    return a.onTouchStart(c)
                }, this._onTouchMove = function(c) {
                    return a.onTouchMove(c)
                }, this._onTouchEnd = function(c) {
                    return a.onTouchEnd(c)
                }, this._onTouchEnter = function(c) {
                    return a.onTouchEnter(c)
                }, this._onTouchLeave = function(c) {
                    return a.onTouchLeave(c)
                }, this._onTouchCancel = function(c) {
                    return a.onTouchCancel(c)
                }, this.game.canvas.addEventListener("touchstart",
                    this._onTouchStart, !1), this.game.canvas.addEventListener("touchmove", this._onTouchMove, !1), this.game.canvas.addEventListener("touchend", this._onTouchEnd, !1), this.game.canvas.addEventListener("touchcancel", this._onTouchCancel, !1), this.game.device.cocoonJS || (this.game.canvas.addEventListener("touchenter", this._onTouchEnter, !1), this.game.canvas.addEventListener("touchleave", this._onTouchLeave, !1)))
            }
        },
        consumeDocumentTouches: function() {
            this._documentTouchMove = function(a) {
                a.preventDefault()
            };
            document.addEventListener("touchmove",
                this._documentTouchMove, !1)
        },
        onTouchStart: function(a) {
            this.game.input.executeTouchLockCallbacks(!1, a);
            this.event = a;
            if (this.game.input.enabled && this.enabled) {
                this.touchStartCallback && this.touchStartCallback.call(this.callbackContext, a);
                this.preventDefault && a.preventDefault();
                for (var c = 0; c < a.changedTouches.length; c++) this.game.input.startPointer(a.changedTouches[c])
            }
        },
        onTouchCancel: function(a) {
            this.event = a;
            this.touchCancelCallback && this.touchCancelCallback.call(this.callbackContext, a);
            if (this.game.input.enabled &&
                this.enabled) {
                this.preventDefault && a.preventDefault();
                for (var c = 0; c < a.changedTouches.length; c++) this.game.input.stopPointer(a.changedTouches[c])
            }
        },
        onTouchEnter: function(a) {
            this.event = a;
            this.touchEnterCallback && this.touchEnterCallback.call(this.callbackContext, a);
            this.game.input.enabled && this.enabled && this.preventDefault && a.preventDefault()
        },
        onTouchLeave: function(a) {
            this.event = a;
            this.touchLeaveCallback && this.touchLeaveCallback.call(this.callbackContext, a);
            this.preventDefault && a.preventDefault()
        },
        onTouchMove: function(a) {
            this.event =
                a;
            this.touchMoveCallback && this.touchMoveCallback.call(this.callbackContext, a);
            this.preventDefault && a.preventDefault();
            for (var c = 0; c < a.changedTouches.length; c++) this.game.input.updatePointer(a.changedTouches[c])
        },
        onTouchEnd: function(a) {
            this.game.input.executeTouchLockCallbacks(!0, a);
            this.event = a;
            this.touchEndCallback && this.touchEndCallback.call(this.callbackContext, a);
            this.preventDefault && a.preventDefault();
            for (var c = 0; c < a.changedTouches.length; c++) this.game.input.stopPointer(a.changedTouches[c])
        },
        stop: function() {
            this.game.device.touch && (this.game.canvas.removeEventListener("touchstart", this._onTouchStart), this.game.canvas.removeEventListener("touchmove", this._onTouchMove), this.game.canvas.removeEventListener("touchend", this._onTouchEnd), this.game.canvas.removeEventListener("touchenter", this._onTouchEnter), this.game.canvas.removeEventListener("touchleave", this._onTouchLeave), this.game.canvas.removeEventListener("touchcancel", this._onTouchCancel))
        }
    };
    b.Touch.prototype.constructor = b.Touch;
    b.InputHandler =
        function(a) {
            this.sprite = a;
            this.game = a.game;
            this.checked = this.enabled = !1;
            this.priorityID = 0;
            this.isDragged = this._setHandCursor = this.useHandCursor = !1;
            this.allowVerticalDrag = this.allowHorizontalDrag = !0;
            this.bringToTop = !1;
            this.snapOffset = null;
            this.snapOnRelease = this.snapOnDrag = !1;
            this.snapOffsetY = this.snapOffsetX = this.snapY = this.snapX = 0;
            this.pixelPerfectClick = this.pixelPerfectOver = !1;
            this.pixelPerfectAlpha = 255;
            this.draggable = !1;
            this.boundsSprite = this.boundsRect = null;
            this.scaleLayer = !1;
            this.dragOffset =
                new b.Point;
            this.dragStopBlocksInputUp = this.dragFromCenter = !1;
            this.dragStartPoint = new b.Point;
            this.dragTimeThreshold = this.dragDistanceThreshold = 0;
            this.downPoint = new b.Point;
            this.snapPoint = new b.Point;
            this._dragPoint = new b.Point;
            this._wasEnabled = this._dragDistancePass = this._dragTimePass = this._pendingDrag = this._dragPhase = !1;
            this._tempPoint = new b.Point;
            this._pointerData = [];
            this._pointerData.push({
                id: 0,
                x: 0,
                y: 0,
                camX: 0,
                camY: 0,
                isDown: !1,
                isUp: !1,
                isOver: !1,
                isOut: !1,
                timeOver: 0,
                timeOut: 0,
                timeDown: 0,
                timeUp: 0,
                downDuration: 0,
                isDragged: !1
            })
        };
    b.InputHandler.prototype = {
        start: function(a, c) {
            a = a || 0;
            void 0 === c && (c = !1);
            if (!1 === this.enabled) {
                this.game.input.interactiveItems.add(this);
                this.useHandCursor = c;
                this.priorityID = a;
                for (a = 0; 10 > a; a++) this._pointerData[a] = {
                    id: a,
                    x: 0,
                    y: 0,
                    isDown: !1,
                    isUp: !1,
                    isOver: !1,
                    isOut: !1,
                    timeOver: 0,
                    timeOut: 0,
                    timeDown: 0,
                    timeUp: 0,
                    downDuration: 0,
                    isDragged: !1
                };
                this.snapOffset = new b.Point;
                this._wasEnabled = this.enabled = !0
            }
            this.sprite.events.onAddedToGroup.add(this.addedToGroup, this);
            this.sprite.events.onRemovedFromGroup.add(this.removedFromGroup,
                this);
            return this.sprite
        },
        addedToGroup: function() {
            this._dragPhase || this._wasEnabled && !this.enabled && this.start()
        },
        removedFromGroup: function() {
            this._dragPhase || (this.enabled ? (this._wasEnabled = !0, this.stop()) : this._wasEnabled = !1)
        },
        reset: function() {
            this.enabled = !1;
            for (var a = 0; 10 > a; a++) this._pointerData[a] = {
                id: a,
                x: 0,
                y: 0,
                isDown: !1,
                isUp: !1,
                isOver: !1,
                isOut: !1,
                timeOver: 0,
                timeOut: 0,
                timeDown: 0,
                timeUp: 0,
                downDuration: 0,
                isDragged: !1
            }
        },
        stop: function() {
            !1 !== this.enabled && (this.enabled = !1, this.game.input.interactiveItems.remove(this))
        },
        destroy: function() {
            this.sprite && (this._setHandCursor && (this.game.canvas.style.cursor = "", this._setHandCursor = !1), this.enabled = !1, this.game.input.interactiveItems.remove(this), this._pointerData.length = 0, this.sprite = this.boundsSprite = this.boundsRect = null)
        },
        validForInput: function(a, c, e) {
            void 0 === e && (e = !0);
            return !this.enabled || 0 === this.sprite.scale.x || 0 === this.sprite.scale.y || this.priorityID < this.game.input.minPriorityID || this.sprite.parent && this.sprite.parent.ignoreChildInput || !e && (this.pixelPerfectClick ||
                this.pixelPerfectOver) ? !1 : this.priorityID > a || this.priorityID === a && this.sprite.renderOrderID > c ? !0 : !1
        },
        isPixelPerfect: function() {
            return this.pixelPerfectClick || this.pixelPerfectOver
        },
        pointerX: function(a) {
            return this._pointerData[a || 0].x
        },
        pointerY: function(a) {
            return this._pointerData[a || 0].y
        },
        pointerDown: function(a) {
            return this._pointerData[a || 0].isDown
        },
        pointerUp: function(a) {
            return this._pointerData[a || 0].isUp
        },
        pointerTimeDown: function(a) {
            return this._pointerData[a || 0].timeDown
        },
        pointerTimeUp: function(a) {
            return this._pointerData[a ||
                0].timeUp
        },
        pointerOver: function(a) {
            if (!this.enabled) return !1;
            if (void 0 === a) {
                for (a = 0; 10 > a; a++)
                    if (this._pointerData[a].isOver) return !0;
                return !1
            }
            return this._pointerData[a].isOver
        },
        pointerOut: function(a) {
            if (!this.enabled) return !1;
            if (void 0 === a)
                for (a = 0; 10 > a; a++) {
                    if (this._pointerData[a].isOut) return !0
                } else return this._pointerData[a].isOut
        },
        pointerTimeOver: function(a) {
            return this._pointerData[a || 0].timeOver
        },
        pointerTimeOut: function(a) {
            return this._pointerData[a || 0].timeOut
        },
        pointerDragged: function(a) {
            return this._pointerData[a ||
                0].isDragged
        },
        checkPointerDown: function(a, c) {
            return a.isDown && this.enabled && this.sprite && this.sprite.parent && this.sprite.visible && this.sprite.parent.visible && 0 !== this.sprite.worldScale.x && 0 !== this.sprite.worldScale.y ? this.game.input.hitTest(this.sprite, a, this._tempPoint) ? (void 0 === c && (c = !1), !c && this.pixelPerfectClick ? this.checkPixel(this._tempPoint.x, this._tempPoint.y) : !0) : !1 : !1
        },
        checkPointerOver: function(a, c) {
            return this.enabled && this.sprite && this.sprite.parent && this.sprite.visible && this.sprite.parent.visible &&
                0 !== this.sprite.worldScale.x && 0 !== this.sprite.worldScale.y ? this.game.input.hitTest(this.sprite, a, this._tempPoint) ? (void 0 === c && (c = !1), !c && this.pixelPerfectOver ? this.checkPixel(this._tempPoint.x, this._tempPoint.y) : !0) : !1 : !1
        },
        checkPixel: function(a, c, e) {
            if (this.sprite.texture.baseTexture.source) {
                null === a && null === c && (this.game.input.getLocalPosition(this.sprite, e, this._tempPoint), a = this._tempPoint.x, c = this._tempPoint.y);
                0 !== this.sprite.anchor.x && (a -= -this.sprite.texture.frame.width * this.sprite.anchor.x);
                0 !== this.sprite.anchor.y && (c -= -this.sprite.texture.frame.height * this.sprite.anchor.y);
                a += this.sprite.texture.frame.x;
                c += this.sprite.texture.frame.y;
                if (this.sprite.texture.trim && (a -= this.sprite.texture.trim.x, c -= this.sprite.texture.trim.y, a < this.sprite.texture.crop.x || a > this.sprite.texture.crop.right || c < this.sprite.texture.crop.y || c > this.sprite.texture.crop.bottom)) return this._dx = a, this._dy = c, !1;
                this._dx = a;
                this._dy = c;
                this.game.input.hitContext.clearRect(0, 0, 1, 1);
                this.game.input.hitContext.drawImage(this.sprite.texture.baseTexture.source,
                    a, c, 1, 1, 0, 0, 1, 1);
                if (this.game.input.hitContext.getImageData(0, 0, 1, 1).data[3] >= this.pixelPerfectAlpha) return !0
            }
            return !1
        },
        update: function(a) {
            if (null !== this.sprite && void 0 !== this.sprite.parent) {
                if (!this.enabled || !this.sprite.visible || !this.sprite.parent.visible) return this._pointerOutHandler(a), !1;
                if (this._pendingDrag) return this._dragDistancePass || (this._dragDistancePass = b.Math.distance(a.x, a.y, this.downPoint.x, this.downPoint.y) >= this.dragDistanceThreshold), this._dragDistancePass && this._dragTimePass &&
                    this.startDrag(a), !0;
                if (this.draggable && this._draggedPointerID === a.id) return this.updateDrag(a, !1);
                if (this._pointerData[a.id].isOver) {
                    if (this.checkPointerOver(a)) return this._pointerData[a.id].x = a.x - this.sprite.x, this._pointerData[a.id].y = a.y - this.sprite.y, !0;
                    this._pointerOutHandler(a);
                    return !1
                }
            }
        },
        _pointerOverHandler: function(a, c) {
            if (null !== this.sprite) {
                var e = this._pointerData[a.id];
                if (!1 === e.isOver || a.dirty) {
                    var b = !1 === e.isOver;
                    e.isOver = !0;
                    e.isOut = !1;
                    e.timeOver = this.game.time.time;
                    e.x = a.x - this.sprite.x;
                    e.y = a.y - this.sprite.y;
                    this.useHandCursor && !1 === e.isDragged && (this.game.canvas.style.cursor = "pointer", this._setHandCursor = !0);
                    if (!c && b && this.sprite && this.sprite.events) this.sprite.events.onInputOver$dispatch(this.sprite, a);
                    this.sprite.parent && this.sprite.parent.onChildInputOver && this.sprite.parent.onChildInputOver.dispatch(this.sprite, a)
                }
            }
        },
        _pointerOutHandler: function(a, c) {
            if (null !== this.sprite) {
                var e = this._pointerData[a.id];
                e.isOver = !1;
                e.isOut = !0;
                e.timeOut = this.game.time.time;
                this.useHandCursor &&
                    !1 === e.isDragged && (this.game.canvas.style.cursor = "", this._setHandCursor = !1);
                !c && this.sprite && this.sprite.events && (this.sprite.events.onInputOut$dispatch(this.sprite, a), this.sprite && this.sprite.parent && this.sprite.parent.onChildInputOut && this.sprite.parent.onChildInputOut.dispatch(this.sprite, a))
            }
        },
        _touchedHandler: function(a) {
            if (null !== this.sprite) {
                var c = this._pointerData[a.id];
                if (!c.isDown && c.isOver && (!this.pixelPerfectClick || this.checkPixel(null, null, a))) {
                    c.isDown = !0;
                    c.isUp = !1;
                    c.timeDown = this.game.time.time;
                    this.downPoint.set(a.x, a.y);
                    a.dirty = !0;
                    if (this.sprite && this.sprite.events && (this.sprite.events.onInputDown$dispatch(this.sprite, a), this.sprite && this.sprite.parent && this.sprite.parent.onChildInputDown && this.sprite.parent.onChildInputDown.dispatch(this.sprite, a), null === this.sprite)) return;
                    this.draggable && !1 === this.isDragged && (0 === this.dragTimeThreshold && 0 === this.dragDistanceThreshold ? this.startDrag(a) : (this._pendingDrag = !0, this._dragDistancePass = 0 === this.dragDistanceThreshold, 0 < this.dragTimeThreshold ?
                        (this._dragTimePass = !1, this.game.time.events.add(this.dragTimeThreshold, this.dragTimeElapsed, this, a)) : this._dragTimePass = !0));
                    this.bringToTop && this.sprite.bringToTop()
                }
            }
        },
        dragTimeElapsed: function(a) {
            this._dragTimePass = !0;
            this._pendingDrag && this.sprite && this._dragDistancePass && this.startDrag(a)
        },
        _releasedHandler: function(a) {
            if (null !== this.sprite) {
                var c = this._pointerData[a.id];
                if (c.isDown && a.isUp) {
                    c.isDown = !1;
                    c.isUp = !0;
                    c.timeUp = this.game.time.time;
                    c.downDuration = c.timeUp - c.timeDown;
                    var e = this.checkPointerOver(a);
                    if (this.sprite && this.sprite.events) {
                        if (!this.dragStopBlocksInputUp || this.dragStopBlocksInputUp && (!this.draggable || !this.isDragged || this._draggedPointerID !== a.id)) this.sprite.events.onInputUp$dispatch(this.sprite, a, e);
                        this.sprite && this.sprite.parent && this.sprite.parent.onChildInputUp && this.sprite.parent.onChildInputUp.dispatch(this.sprite, a, e);
                        e && (e = this.checkPointerOver(a))
                    }
                    c.isOver = e;
                    !e && this.useHandCursor && (this.game.canvas.style.cursor = "default", this._setHandCursor = !1);
                    a.dirty = !0;
                    this._pendingDrag = !1;
                    this.draggable && this.isDragged && this._draggedPointerID === a.id && this.stopDrag(a)
                }
            }
        },
        updateDrag: function(a, c) {
            void 0 === c && (c = !1);
            if (a.isUp) return this.stopDrag(a), !1;
            var e = this.globalToLocal(a);
            if (this.sprite.fixedToCamera) {
                var b = this.game.camera.scale.x * e.x + this._dragPoint.x + this.dragOffset.x;
                e = this.game.camera.scale.y * e.y + this._dragPoint.y + this.dragOffset.y
            } else b = e.x + this._dragPoint.x + this.dragOffset.x, e = e.y + this._dragPoint.y + this.dragOffset.y;
            if (this.sprite.fixedToCamera) this.allowHorizontalDrag &&
                (this.sprite.cameraOffset.x = b - this.game.camera.x), this.allowVerticalDrag && (this.sprite.cameraOffset.y = e - this.game.camera.y), this.boundsRect && this.checkBoundsRect(), this.boundsSprite && this.checkBoundsSprite(), this.snapOnDrag && (this.sprite.cameraOffset.x = Math.round((this.sprite.cameraOffset.x - this.snapOffsetX % this.snapX) / this.snapX) * this.snapX + this.snapOffsetX % this.snapX, this.sprite.cameraOffset.y = Math.round((this.sprite.cameraOffset.y - this.snapOffsetY % this.snapY) / this.snapY) * this.snapY + this.snapOffsetY %
                    this.snapY, this.snapPoint.set(this.sprite.cameraOffset.x, this.sprite.cameraOffset.y));
            else {
                var d = this.game.camera.x - this._pointerData[a.id].camX,
                    f = this.game.camera.y - this._pointerData[a.id].camY;
                this.allowHorizontalDrag && (this.sprite.x = b + d);
                this.allowVerticalDrag && (this.sprite.y = e + f);
                this.boundsRect && this.checkBoundsRect();
                this.boundsSprite && this.checkBoundsSprite();
                this.snapOnDrag && (this.sprite.x = Math.round((this.sprite.x - this.snapOffsetX % this.snapX) / this.snapX) * this.snapX + this.snapOffsetX % this.snapX,
                    this.sprite.y = Math.round((this.sprite.y - this.snapOffsetY % this.snapY) / this.snapY) * this.snapY + this.snapOffsetY % this.snapY, this.snapPoint.set(this.sprite.x, this.sprite.y))
            }
            this.sprite.events.onDragUpdate.dispatch(this.sprite, a, b, e, this.snapPoint, c);
            return !0
        },
        justOver: function(a, c) {
            a = a || 0;
            c = c || 500;
            return this._pointerData[a].isOver && this.overDuration(a) < c
        },
        justOut: function(a, c) {
            a = a || 0;
            return this._pointerData[a].isOut && this.game.time.time - this._pointerData[a].timeOut < (c || 500)
        },
        justPressed: function(a,
            c) {
            a = a || 0;
            c = c || 500;
            return this._pointerData[a].isDown && this.downDuration(a) < c
        },
        justReleased: function(a, c) {
            a = a || 0;
            return this._pointerData[a].isUp && this.game.time.time - this._pointerData[a].timeUp < (c || 500)
        },
        overDuration: function(a) {
            a = a || 0;
            return this._pointerData[a].isOver ? this.game.time.time - this._pointerData[a].timeOver : -1
        },
        downDuration: function(a) {
            a = a || 0;
            return this._pointerData[a].isDown ? this.game.time.time - this._pointerData[a].timeDown : -1
        },
        enableDrag: function(a, c, e, d, l, f) {
            void 0 === a && (a = !1);
            void 0 ===
                c && (c = !1);
            void 0 === e && (e = !1);
            void 0 === d && (d = 255);
            void 0 === l && (l = null);
            void 0 === f && (f = null);
            this._dragPoint = new b.Point;
            this.draggable = !0;
            this.bringToTop = c;
            this.dragOffset = new b.Point;
            this.dragFromCenter = a;
            this.pixelPerfectClick = e;
            this.pixelPerfectAlpha = d;
            l && (this.boundsRect = l);
            f && (this.boundsSprite = f)
        },
        disableDrag: function() {
            if (this._pointerData)
                for (var a = 0; 10 > a; a++) this._pointerData[a].isDragged = !1;
            this.isDragged = this.draggable = !1;
            this._draggedPointerID = -1;
            this._pendingDrag = !1
        },
        startDrag: function(a) {
            var c =
                this.sprite.x,
                e = this.sprite.y,
                d = this.globalToLocal(a);
            this.isDragged = !0;
            this._draggedPointerID = a.id;
            this._pointerData[a.id].camX = this.game.camera.x;
            this._pointerData[a.id].camY = this.game.camera.y;
            this._pointerData[a.id].isDragged = !0;
            if (this.sprite.fixedToCamera) {
                if (this.dragFromCenter) {
                    var l = this.sprite.getBounds();
                    l = this.globalToLocal(new b.Point(l.centerX, l.centerY));
                    this.sprite.cameraOffset.x = d.x + (this.sprite.cameraOffset.x - l.x);
                    this.sprite.cameraOffset.y = d.y + (this.sprite.cameraOffset.y - l.y)
                }
                this._dragPoint.setTo(this.sprite.cameraOffset.x -
                    a.x, this.sprite.cameraOffset.y - a.y)
            } else this.dragFromCenter && (l = this.sprite.getBounds(), l = this.globalToLocal(new b.Point(l.centerX, l.centerY)), this.sprite.x = d.x + (this.sprite.x - l.x), this.sprite.y = d.y + (this.sprite.y - l.y)), this._dragPoint.setTo(this.sprite.x - d.x, this.sprite.y - d.y);
            this.updateDrag(a, !0);
            this.bringToTop && (this._dragPhase = !0, this.sprite.bringToTop());
            this.dragStartPoint.set(c, e);
            this.sprite.events.onDragStart$dispatch(this.sprite, a, c, e);
            this._pendingDrag = !1
        },
        globalToLocalX: function(a) {
            this.scaleLayer &&
                (a -= this.game.scale.grid.boundsFluid.x, a *= this.game.scale.grid.scaleFluidInversed.x);
            return a
        },
        globalToLocalY: function(a) {
            this.scaleLayer && (a -= this.game.scale.grid.boundsFluid.y, a *= this.game.scale.grid.scaleFluidInversed.y);
            return a
        },
        globalToLocal: function(a) {
            return this.sprite.parent ? this.game.input.getLocalPosition(this.sprite.parent, {
                x: a.x,
                y: a.y
            }) : a
        },
        stopDrag: function(a) {
            this.isDragged = !1;
            this._draggedPointerID = -1;
            this._pendingDrag = this._dragPhase = this._pointerData[a.id].isDragged = !1;
            this.snapOnRelease &&
                (this.sprite.fixedToCamera ? (this.sprite.cameraOffset.x = Math.round((this.sprite.cameraOffset.x - this.snapOffsetX % this.snapX) / this.snapX) * this.snapX + this.snapOffsetX % this.snapX, this.sprite.cameraOffset.y = Math.round((this.sprite.cameraOffset.y - this.snapOffsetY % this.snapY) / this.snapY) * this.snapY + this.snapOffsetY % this.snapY) : (this.sprite.x = Math.round((this.sprite.x - this.snapOffsetX % this.snapX) / this.snapX) * this.snapX + this.snapOffsetX % this.snapX, this.sprite.y = Math.round((this.sprite.y - this.snapOffsetY % this.snapY) /
                    this.snapY) * this.snapY + this.snapOffsetY % this.snapY));
            this.sprite.events.onDragStop$dispatch(this.sprite, a);
            !1 === this.checkPointerOver(a) && this._pointerOutHandler(a)
        },
        setDragLock: function(a, c) {
            void 0 === a && (a = !0);
            void 0 === c && (c = !0);
            this.allowHorizontalDrag = a;
            this.allowVerticalDrag = c
        },
        enableSnap: function(a, c, e, b, d, f) {
            void 0 === e && (e = !0);
            void 0 === b && (b = !1);
            void 0 === d && (d = 0);
            void 0 === f && (f = 0);
            this.snapX = a;
            this.snapY = c;
            this.snapOffsetX = d;
            this.snapOffsetY = f;
            this.snapOnDrag = e;
            this.snapOnRelease = b
        },
        disableSnap: function() {
            this.snapOnRelease =
                this.snapOnDrag = !1
        },
        checkBoundsRect: function() {
            this.sprite.fixedToCamera ? (this.sprite.cameraOffset.x < this.boundsRect.left ? this.sprite.cameraOffset.x = this.boundsRect.left : this.sprite.cameraOffset.x + this.sprite.width > this.boundsRect.right && (this.sprite.cameraOffset.x = this.boundsRect.right - this.sprite.width), this.sprite.cameraOffset.y < this.boundsRect.top ? this.sprite.cameraOffset.y = this.boundsRect.top : this.sprite.cameraOffset.y + this.sprite.height > this.boundsRect.bottom && (this.sprite.cameraOffset.y = this.boundsRect.bottom -
                this.sprite.height)) : (this.sprite.left < this.boundsRect.left ? this.sprite.x = this.boundsRect.x + this.sprite.offsetX : this.sprite.right > this.boundsRect.right && (this.sprite.x = this.boundsRect.right - (this.sprite.width - this.sprite.offsetX)), this.sprite.top < this.boundsRect.top ? this.sprite.y = this.boundsRect.top + this.sprite.offsetY : this.sprite.bottom > this.boundsRect.bottom && (this.sprite.y = this.boundsRect.bottom - (this.sprite.height - this.sprite.offsetY)))
        },
        checkBoundsSprite: function() {
            this.sprite.fixedToCamera &&
                this.boundsSprite.fixedToCamera ? (this.sprite.cameraOffset.x < this.boundsSprite.cameraOffset.x ? this.sprite.cameraOffset.x = this.boundsSprite.cameraOffset.x : this.sprite.cameraOffset.x + this.sprite.width > this.boundsSprite.cameraOffset.x + this.boundsSprite.width && (this.sprite.cameraOffset.x = this.boundsSprite.cameraOffset.x + this.boundsSprite.width - this.sprite.width), this.sprite.cameraOffset.y < this.boundsSprite.cameraOffset.y ? this.sprite.cameraOffset.y = this.boundsSprite.cameraOffset.y : this.sprite.cameraOffset.y +
                    this.sprite.height > this.boundsSprite.cameraOffset.y + this.boundsSprite.height && (this.sprite.cameraOffset.y = this.boundsSprite.cameraOffset.y + this.boundsSprite.height - this.sprite.height)) : (this.sprite.left < this.boundsSprite.left ? this.sprite.x = this.boundsSprite.left + this.sprite.offsetX : this.sprite.right > this.boundsSprite.right && (this.sprite.x = this.boundsSprite.right - (this.sprite.width - this.sprite.offsetX)), this.sprite.top < this.boundsSprite.top ? this.sprite.y = this.boundsSprite.top + this.sprite.offsetY : this.sprite.bottom >
                    this.boundsSprite.bottom && (this.sprite.y = this.boundsSprite.bottom - (this.sprite.height - this.sprite.offsetY)))
        }
    };
    b.InputHandler.prototype.constructor = b.InputHandler;
    b.Gamepad = function(a) {
        this.game = a;
        this._gamepadIndexMap = {};
        this._rawPads = [];
        this._active = !1;
        this.enabled = !0;
        this._gamepadSupportAvailable = !!navigator.webkitGetGamepads || !!navigator.webkitGamepads || -1 !== navigator.userAgent.indexOf("Firefox/") || !!navigator.getGamepads;
        this._prevRawGamepadTypes = [];
        this._prevTimestamps = [];
        this.callbackContext =
            this;
        this._gamepaddisconnected = this._ongamepadconnected = this.onFloatCallback = this.onAxisCallback = this.onUpCallback = this.onDownCallback = this.onDisconnectCallback = this.onConnectCallback = null;
        this._gamepads = [new b.SinglePad(a, this), new b.SinglePad(a, this), new b.SinglePad(a, this), new b.SinglePad(a, this)]
    };
    b.Gamepad.prototype = {
        addCallbacks: function(a, c) {
            "undefined" !== typeof c && (this.onConnectCallback = "function" === typeof c.onConnect ? c.onConnect : this.onConnectCallback, this.onDisconnectCallback = "function" ===
                typeof c.onDisconnect ? c.onDisconnect : this.onDisconnectCallback, this.onDownCallback = "function" === typeof c.onDown ? c.onDown : this.onDownCallback, this.onUpCallback = "function" === typeof c.onUp ? c.onUp : this.onUpCallback, this.onAxisCallback = "function" === typeof c.onAxis ? c.onAxis : this.onAxisCallback, this.onFloatCallback = "function" === typeof c.onFloat ? c.onFloat : this.onFloatCallback, this.callbackContext = a)
        },
        start: function() {
            if (!this._active) {
                this._active = !0;
                var a = this;
                this._onGamepadConnected = function(c) {
                    return a.onGamepadConnected(c)
                };
                this._onGamepadDisconnected = function(c) {
                    return a.onGamepadDisconnected(c)
                };
                window.addEventListener("gamepadconnected", this._onGamepadConnected, !1);
                window.addEventListener("gamepaddisconnected", this._onGamepadDisconnected, !1)
            }
        },
        onGamepadConnected: function(a) {
            a = a.gamepad;
            this._rawPads.push(a);
            this._gamepads[a.index].connect(a)
        },
        onGamepadDisconnected: function(a) {
            a = a.gamepad;
            for (var c in this._rawPads) this._rawPads[c].index === a.index && this._rawPads.splice(c, 1);
            this._gamepads[a.index].disconnect()
        },
        update: function() {
            this._pollGamepads();
            this.pad1.pollStatus();
            this.pad2.pollStatus();
            this.pad3.pollStatus();
            this.pad4.pollStatus()
        },
        _pollGamepads: function() {
            if (this._active) {
                if (navigator.getGamepads) var a = navigator.getGamepads();
                else navigator.webkitGetGamepads ? a = navigator.webkitGetGamepads() : navigator.webkitGamepads && (a = navigator.webkitGamepads());
                if (a) {
                    this._rawPads = [];
                    for (var c = !1, e = 0; e < a.length && (typeof a[e] !== this._prevRawGamepadTypes[e] && (c = !0, this._prevRawGamepadTypes[e] = typeof a[e]), a[e] && this._rawPads.push(a[e]), 3 !== e); e++);
                    for (a =
                        0; a < this._gamepads.length; a++) this._gamepads[a]._rawPad = this._rawPads[a];
                    if (c) {
                        c = {};
                        a = {};
                        for (var b = 0; b < this._gamepads.length; b++)
                            if (e = this._gamepads[b], e.connected)
                                for (var d = 0; d < this._rawPads.length; d++) this._rawPads[d].index === e.index && (c[e.index] = !0, a[b] = !0);
                        for (b = 0; b < this._gamepads.length; b++)
                            if (e = this._gamepads[b], !a[b])
                                for (1 > this._rawPads.length && e.disconnect(), d = 0; d < this._rawPads.length && !a[b]; d++) {
                                    var f = this._rawPads[d];
                                    f ? c[f.index] ? e.disconnect() : (e.connect(f), c[f.index] = !0, a[b] = !0) : e.disconnect()
                                }
                    }
                }
            }
        },
        setDeadZones: function(a) {
            for (var c = 0; c < this._gamepads.length; c++) this._gamepads[c].deadZone = a
        },
        stop: function() {
            this._active = !1;
            window.removeEventListener("gamepadconnected", this._onGamepadConnected);
            window.removeEventListener("gamepaddisconnected", this._onGamepadDisconnected)
        },
        reset: function() {
            this.update();
            for (var a = 0; a < this._gamepads.length; a++) this._gamepads[a].reset()
        },
        justPressed: function(a, c) {
            for (var e = 0; e < this._gamepads.length; e++)
                if (!0 === this._gamepads[e].justPressed(a, c)) return !0;
            return !1
        },
        justReleased: function(a, c) {
            for (var e = 0; e < this._gamepads.length; e++)
                if (!0 === this._gamepads[e].justReleased(a, c)) return !0;
            return !1
        },
        isDown: function(a) {
            for (var c = 0; c < this._gamepads.length; c++)
                if (!0 === this._gamepads[c].isDown(a)) return !0;
            return !1
        },
        destroy: function() {
            this.stop();
            for (var a = 0; a < this._gamepads.length; a++) this._gamepads[a].destroy()
        }
    };
    b.Gamepad.prototype.constructor = b.Gamepad;
    Object.defineProperty(b.Gamepad.prototype, "active", {
        get: function() {
            return this._active
        }
    });
    Object.defineProperty(b.Gamepad.prototype,
        "supported", {
            get: function() {
                return this._gamepadSupportAvailable
            }
        });
    Object.defineProperty(b.Gamepad.prototype, "padsConnected", {
        get: function() {
            return this._rawPads.length
        }
    });
    Object.defineProperty(b.Gamepad.prototype, "pad1", {
        get: function() {
            return this._gamepads[0]
        }
    });
    Object.defineProperty(b.Gamepad.prototype, "pad2", {
        get: function() {
            return this._gamepads[1]
        }
    });
    Object.defineProperty(b.Gamepad.prototype, "pad3", {
        get: function() {
            return this._gamepads[2]
        }
    });
    Object.defineProperty(b.Gamepad.prototype, "pad4", {
        get: function() {
            return this._gamepads[3]
        }
    });
    b.Gamepad.BUTTON_0 = 0;
    b.Gamepad.BUTTON_1 = 1;
    b.Gamepad.BUTTON_2 = 2;
    b.Gamepad.BUTTON_3 = 3;
    b.Gamepad.BUTTON_4 = 4;
    b.Gamepad.BUTTON_5 = 5;
    b.Gamepad.BUTTON_6 = 6;
    b.Gamepad.BUTTON_7 = 7;
    b.Gamepad.BUTTON_8 = 8;
    b.Gamepad.BUTTON_9 = 9;
    b.Gamepad.BUTTON_10 = 10;
    b.Gamepad.BUTTON_11 = 11;
    b.Gamepad.BUTTON_12 = 12;
    b.Gamepad.BUTTON_13 = 13;
    b.Gamepad.BUTTON_14 = 14;
    b.Gamepad.BUTTON_15 = 15;
    b.Gamepad.AXIS_0 = 0;
    b.Gamepad.AXIS_1 = 1;
    b.Gamepad.AXIS_2 = 2;
    b.Gamepad.AXIS_3 = 3;
    b.Gamepad.AXIS_4 = 4;
    b.Gamepad.AXIS_5 =
        5;
    b.Gamepad.AXIS_6 = 6;
    b.Gamepad.AXIS_7 = 7;
    b.Gamepad.AXIS_8 = 8;
    b.Gamepad.AXIS_9 = 9;
    b.Gamepad.XBOX360_A = 0;
    b.Gamepad.XBOX360_B = 1;
    b.Gamepad.XBOX360_X = 2;
    b.Gamepad.XBOX360_Y = 3;
    b.Gamepad.XBOX360_LEFT_BUMPER = 4;
    b.Gamepad.XBOX360_RIGHT_BUMPER = 5;
    b.Gamepad.XBOX360_LEFT_TRIGGER = 6;
    b.Gamepad.XBOX360_RIGHT_TRIGGER = 7;
    b.Gamepad.XBOX360_BACK = 8;
    b.Gamepad.XBOX360_START = 9;
    b.Gamepad.XBOX360_STICK_LEFT_BUTTON = 10;
    b.Gamepad.XBOX360_STICK_RIGHT_BUTTON = 11;
    b.Gamepad.XBOX360_DPAD_LEFT = 14;
    b.Gamepad.XBOX360_DPAD_RIGHT = 15;
    b.Gamepad.XBOX360_DPAD_UP =
        12;
    b.Gamepad.XBOX360_DPAD_DOWN = 13;
    b.Gamepad.XBOX360_STICK_LEFT_X = 0;
    b.Gamepad.XBOX360_STICK_LEFT_Y = 1;
    b.Gamepad.XBOX360_STICK_RIGHT_X = 2;
    b.Gamepad.XBOX360_STICK_RIGHT_Y = 3;
    b.Gamepad.PS3XC_X = 0;
    b.Gamepad.PS3XC_CIRCLE = 1;
    b.Gamepad.PS3XC_SQUARE = 2;
    b.Gamepad.PS3XC_TRIANGLE = 3;
    b.Gamepad.PS3XC_L1 = 4;
    b.Gamepad.PS3XC_R1 = 5;
    b.Gamepad.PS3XC_L2 = 6;
    b.Gamepad.PS3XC_R2 = 7;
    b.Gamepad.PS3XC_SELECT = 8;
    b.Gamepad.PS3XC_START = 9;
    b.Gamepad.PS3XC_STICK_LEFT_BUTTON = 10;
    b.Gamepad.PS3XC_STICK_RIGHT_BUTTON = 11;
    b.Gamepad.PS3XC_DPAD_UP = 12;
    b.Gamepad.PS3XC_DPAD_DOWN =
        13;
    b.Gamepad.PS3XC_DPAD_LEFT = 14;
    b.Gamepad.PS3XC_DPAD_RIGHT = 15;
    b.Gamepad.PS3XC_STICK_LEFT_X = 0;
    b.Gamepad.PS3XC_STICK_LEFT_Y = 1;
    b.Gamepad.PS3XC_STICK_RIGHT_X = 2;
    b.Gamepad.PS3XC_STICK_RIGHT_Y = 3;
    b.SinglePad = function(a, c) {
        this.game = a;
        this.index = null;
        this.connected = !1;
        this.callbackContext = this;
        this.onFloatCallback = this.onAxisCallback = this.onUpCallback = this.onDownCallback = this.onDisconnectCallback = this.onConnectCallback = null;
        this.deadZone = .26;
        this._padParent = c;
        this._prevTimestamp = this._rawPad = null;
        this._buttons = [];
        this._buttonsLen = 0;
        this._axes = [];
        this._axesLen = 0
    };
    b.SinglePad.prototype = {
        addCallbacks: function(a, c) {
            "undefined" !== typeof c && (this.onConnectCallback = "function" === typeof c.onConnect ? c.onConnect : this.onConnectCallback, this.onDisconnectCallback = "function" === typeof c.onDisconnect ? c.onDisconnect : this.onDisconnectCallback, this.onDownCallback = "function" === typeof c.onDown ? c.onDown : this.onDownCallback, this.onUpCallback = "function" === typeof c.onUp ? c.onUp : this.onUpCallback, this.onAxisCallback = "function" ===
                typeof c.onAxis ? c.onAxis : this.onAxisCallback, this.onFloatCallback = "function" === typeof c.onFloat ? c.onFloat : this.onFloatCallback, this.callbackContext = a)
        },
        getButton: function(a) {
            return this._buttons[a] ? this._buttons[a] : null
        },
        pollStatus: function() {
            if (this.connected && this.game.input.enabled && this.game.input.gamepad.enabled && (!this._rawPad.timestamp || this._rawPad.timestamp !== this._prevTimestamp)) {
                for (var a = 0; a < this._buttonsLen; a++) {
                    var c = isNaN(this._rawPad.buttons[a]) ? this._rawPad.buttons[a].value : this._rawPad.buttons[a];
                    c !== this._buttons[a].value && (1 === c ? this.processButtonDown(a, c) : 0 === c ? this.processButtonUp(a, c) : this.processButtonFloat(a, c))
                }
                for (a = 0; a < this._axesLen; a++) c = this._rawPad.axes[a], 0 < c && c > this.deadZone || 0 > c && c < -this.deadZone ? this.processAxisChange(a, c) : this.processAxisChange(a, 0);
                this._prevTimestamp = this._rawPad.timestamp
            }
        },
        connect: function(a) {
            var c = !this.connected;
            this.connected = !0;
            this.index = a.index;
            this._rawPad = a;
            this._buttons = [];
            this._buttonsLen = a.buttons.length;
            this._axes = [];
            this._axesLen = a.axes.length;
            for (var e = 0; e < this._axesLen; e++) this._axes[e] = a.axes[e];
            for (var d in a.buttons) d = parseInt(d, 10), this._buttons[d] = new b.DeviceButton(this, d);
            c && this._padParent.onConnectCallback && this._padParent.onConnectCallback.call(this._padParent.callbackContext, this.index);
            c && this.onConnectCallback && this.onConnectCallback.call(this.callbackContext)
        },
        disconnect: function() {
            var a = this.connected,
                c = this.index;
            this.connected = !1;
            this.index = null;
            this._rawPad = void 0;
            for (var e = 0; e < this._buttonsLen; e++) this._buttons[e].destroy();
            this._buttons = [];
            this._buttonsLen = 0;
            this._axes = [];
            this._axesLen = 0;
            a && this._padParent.onDisconnectCallback && this._padParent.onDisconnectCallback.call(this._padParent.callbackContext, c);
            a && this.onDisconnectCallback && this.onDisconnectCallback.call(this.callbackContext)
        },
        destroy: function() {
            this._rawPad = void 0;
            for (var a = 0; a < this._buttonsLen; a++) this._buttons[a].destroy();
            this._buttons = [];
            this._buttonsLen = 0;
            this._axes = [];
            this._axesLen = 0;
            this.onFloatCallback = this.onAxisCallback = this.onUpCallback = this.onDownCallback =
                this.onDisconnectCallback = this.onConnectCallback = null
        },
        processAxisChange: function(a, c) {
            this._axes[a] !== c && (this._axes[a] = c, this._padParent.onAxisCallback && this._padParent.onAxisCallback.call(this._padParent.callbackContext, this, a, c), this.onAxisCallback && this.onAxisCallback.call(this.callbackContext, this, a, c))
        },
        processButtonDown: function(a, c) {
            this._buttons[a] && this._buttons[a].start(null, c);
            this._padParent.onDownCallback && this._padParent.onDownCallback.call(this._padParent.callbackContext, a, c, this.index);
            this.onDownCallback && this.onDownCallback.call(this.callbackContext, a, c)
        },
        processButtonUp: function(a, c) {
            this._padParent.onUpCallback && this._padParent.onUpCallback.call(this._padParent.callbackContext, a, c, this.index);
            this.onUpCallback && this.onUpCallback.call(this.callbackContext, a, c);
            this._buttons[a] && this._buttons[a].stop(null, c)
        },
        processButtonFloat: function(a, c) {
            this._padParent.onFloatCallback && this._padParent.onFloatCallback.call(this._padParent.callbackContext, a, c, this.index);
            this.onFloatCallback &&
                this.onFloatCallback.call(this.callbackContext, a, c);
            this._buttons[a] && this._buttons[a].padFloat(c)
        },
        axis: function(a) {
            return this._axes[a] ? this._axes[a] : !1
        },
        isDown: function(a) {
            return this._buttons[a] ? this._buttons[a].isDown : !1
        },
        isUp: function(a) {
            return this._buttons[a] ? this._buttons[a].isUp : !1
        },
        justReleased: function(a, c) {
            if (this._buttons[a]) return this._buttons[a].justReleased(c)
        },
        justPressed: function(a, c) {
            if (this._buttons[a]) return this._buttons[a].justPressed(c)
        },
        buttonValue: function(a) {
            return this._buttons[a] ?
                this._buttons[a].value : null
        },
        reset: function() {
            for (var a = 0; a < this._axes.length; a++) this._axes[a] = 0
        }
    };
    b.SinglePad.prototype.constructor = b.SinglePad;
    b.Key = function(a, c) {
        this.game = a;
        this._enabled = !0;
        this.event = null;
        this.isDown = !1;
        this.isUp = !0;
        this.shiftKey = this.ctrlKey = this.altKey = !1;
        this.duration = this.timeDown = 0;
        this.durationUp = this.timeUp = -2500;
        this.repeats = 0;
        this.keyCode = c;
        this.onDown = new b.Signal;
        this.onHoldContext = this.onHoldCallback = null;
        this.onUp = new b.Signal;
        this._justUp = this._justDown = !1
    };
    b.Key.prototype = {
        update: function() {
            this._enabled && (this.isDown ? (this.duration = this.game.time.time - this.timeDown, this.repeats++, this.onHoldCallback && this.onHoldCallback.call(this.onHoldContext, this)) : this.durationUp = this.game.time.time - this.timeUp)
        },
        processKeyDown: function(a) {
            this._enabled && (this.event = a, this.isDown || (this.altKey = a.altKey, this.ctrlKey = a.ctrlKey, this.shiftKey = a.shiftKey, this.isDown = !0, this.isUp = !1, this.timeDown = this.game.time.time, this.duration = 0, this.durationUp = this.game.time.time - this.timeUp, this.repeats =
                0, this._justDown = !0, this.onDown.dispatch(this)))
        },
        processKeyUp: function(a) {
            this._enabled && (this.event = a, this.isUp || (this.isDown = !1, this.isUp = !0, this.timeUp = this.game.time.time, this.duration = this.game.time.time - this.timeDown, this.durationUp = 0, this._justUp = !0, this.onUp.dispatch(this)))
        },
        reset: function(a) {
            void 0 === a && (a = !0);
            this.isDown = !1;
            this.isUp = !0;
            this.timeUp = this.game.time.time;
            this.duration = 0;
            this.durationUp = -2500;
            this._enabled = !0;
            this._justUp = this._justDown = !1;
            a && (this.onDown.removeAll(), this.onUp.removeAll(),
                this.onHoldContext = this.onHoldCallback = null)
        },
        downDuration: function(a) {
            void 0 === a && (a = 50);
            return this.isDown && this.duration < a
        },
        upDuration: function(a) {
            void 0 === a && (a = 50);
            return !this.isDown && this.game.time.time - this.timeUp < a
        },
        justPressed: function() {
            return this.isDown && 0 === this.duration
        },
        justReleased: function() {
            return !this.isDown && 0 === this.durationUp
        }
    };
    Object.defineProperty(b.Key.prototype, "justDown", {
        get: function() {
            var a = this._justDown;
            this._justDown = !1;
            return a
        }
    });
    Object.defineProperty(b.Key.prototype,
        "justUp", {
            get: function() {
                var a = this._justUp;
                this._justUp = !1;
                return a
            }
        });
    Object.defineProperty(b.Key.prototype, "enabled", {
        get: function() {
            return this._enabled
        },
        set: function(a) {
            a = !!a;
            a !== this._enabled && (a || this.reset(!1), this._enabled = a)
        }
    });
    b.Key.prototype.constructor = b.Key;
    b.Keyboard = function(a) {
        this.game = a;
        this.enabled = !0;
        this.pressEvent = this.event = null;
        this.callbackContext = this;
        this.onUpCallback = this.onPressCallback = this.onDownCallback = null;
        this._keys = [];
        this._capture = [];
        this._onKeyUp = this._onKeyPress =
            this._onKeyDown = null;
        this._k = this._i = 0
    };
    b.Keyboard.prototype = {
        addCallbacks: function(a, c, e, b) {
            this.callbackContext = a;
            void 0 !== c && null !== c && (this.onDownCallback = c);
            void 0 !== e && null !== e && (this.onUpCallback = e);
            void 0 !== b && null !== b && (this.onPressCallback = b)
        },
        removeCallbacks: function() {
            this.callbackContext = this;
            this.onPressCallback = this.onUpCallback = this.onDownCallback = null
        },
        addKey: function(a) {
            this._keys[a] || (this._keys[a] = new b.Key(this.game, a), this.addKeyCapture(a));
            return this._keys[a]
        },
        addKeys: function(a) {
            var c = {},
                e;
            for (e in a) c[e] = this.addKey(a[e]);
            return c
        },
        removeKey: function(a) {
            this._keys[a] && (this._keys[a] = null, this.removeKeyCapture(a))
        },
        createCursorKeys: function() {
            return this.addKeys({
                up: b.KeyCode.UP,
                down: b.KeyCode.DOWN,
                left: b.KeyCode.LEFT,
                right: b.KeyCode.RIGHT
            })
        },
        start: function() {
            if (!this.game.device.cocoonJS && null === this._onKeyDown) {
                var a = this;
                this._onKeyDown = function(c) {
                    return a.processKeyDown(c)
                };
                this._onKeyUp = function(c) {
                    return a.processKeyUp(c)
                };
                this._onKeyPress = function(c) {
                    return a.processKeyPress(c)
                };
                window.addEventListener("keydown", this._onKeyDown, !1);
                window.addEventListener("keyup", this._onKeyUp, !1);
                window.addEventListener("keypress", this._onKeyPress, !1)
            }
        },
        stop: function() {
            window.removeEventListener("keydown", this._onKeyDown);
            window.removeEventListener("keyup", this._onKeyUp);
            window.removeEventListener("keypress", this._onKeyPress);
            this._onKeyPress = this._onKeyUp = this._onKeyDown = null
        },
        destroy: function() {
            this.stop();
            this.clearCaptures();
            this._i = this._keys.length = 0
        },
        addKeyCapture: function(a) {
            if ("object" ===
                typeof a)
                for (var c in a) this._capture[a[c]] = !0;
            else this._capture[a] = !0
        },
        removeKeyCapture: function(a) {
            delete this._capture[a]
        },
        clearCaptures: function() {
            this._capture = {}
        },
        update: function() {
            for (this._i = this._keys.length; this._i--;) this._keys[this._i] && this._keys[this._i].update()
        },
        processKeyDown: function(a) {
            this.event = a;
            if (this.game.input.enabled && this.enabled) {
                var c = a.keyCode;
                this._capture[c] && a.preventDefault();
                this._keys[c] || (this._keys[c] = new b.Key(this.game, c));
                this._keys[c].processKeyDown(a);
                this._k = c;
                this.onDownCallback && this.onDownCallback.call(this.callbackContext, a)
            }
        },
        processKeyPress: function(a) {
            this.pressEvent = a;
            this.game.input.enabled && this.enabled && this.onPressCallback && this.onPressCallback.call(this.callbackContext, String.fromCharCode(a.charCode), a)
        },
        processKeyUp: function(a) {
            this.event = a;
            if (this.game.input.enabled && this.enabled) {
                var c = a.keyCode;
                this._capture[c] && a.preventDefault();
                this._keys[c] || (this._keys[c] = new b.Key(this.game, c));
                this._keys[c].processKeyUp(a);
                this.onUpCallback &&
                    this.onUpCallback.call(this.callbackContext, a)
            }
        },
        reset: function(a) {
            void 0 === a && (a = !0);
            this.event = null;
            for (var c = this._keys.length; c--;) this._keys[c] && this._keys[c].reset(a)
        },
        downDuration: function(a, c) {
            return this._keys[a] ? this._keys[a].downDuration(c) : null
        },
        upDuration: function(a, c) {
            return this._keys[a] ? this._keys[a].upDuration(c) : null
        },
        justPressed: function(a) {
            return this._keys[a] ? this._keys[a].justPressed() : null
        },
        justReleased: function(a) {
            return this._keys[a] ? this._keys[a].justReleased() : null
        },
        isDown: function(a) {
            return this._keys[a] ?
                this._keys[a].isDown : null
        }
    };
    Object.defineProperty(b.Keyboard.prototype, "lastChar", {
        get: function() {
            return this.event && 32 === this.event.charCode ? "" : this.pressEvent ? String.fromCharCode(this.pressEvent.charCode) : null
        }
    });
    Object.defineProperty(b.Keyboard.prototype, "lastKey", {
        get: function() {
            return this._keys[this._k]
        }
    });
    b.Keyboard.prototype.constructor = b.Keyboard;
    b.KeyCode = {
        A: 65,
        B: 66,
        C: 67,
        D: 68,
        E: 69,
        F: 70,
        G: 71,
        H: 72,
        I: 73,
        J: 74,
        K: 75,
        L: 76,
        M: 77,
        N: 78,
        O: 79,
        P: 80,
        Q: 81,
        R: 82,
        S: 83,
        T: 84,
        U: 85,
        V: 86,
        W: 87,
        X: 88,
        Y: 89,
        Z: 90,
        ZERO: 48,
        ONE: 49,
        TWO: 50,
        THREE: 51,
        FOUR: 52,
        FIVE: 53,
        SIX: 54,
        SEVEN: 55,
        EIGHT: 56,
        NINE: 57,
        NUMPAD_0: 96,
        NUMPAD_1: 97,
        NUMPAD_2: 98,
        NUMPAD_3: 99,
        NUMPAD_4: 100,
        NUMPAD_5: 101,
        NUMPAD_6: 102,
        NUMPAD_7: 103,
        NUMPAD_8: 104,
        NUMPAD_9: 105,
        NUMPAD_MULTIPLY: 106,
        NUMPAD_ADD: 107,
        NUMPAD_ENTER: 108,
        NUMPAD_SUBTRACT: 109,
        NUMPAD_DECIMAL: 110,
        NUMPAD_DIVIDE: 111,
        F1: 112,
        F2: 113,
        F3: 114,
        F4: 115,
        F5: 116,
        F6: 117,
        F7: 118,
        F8: 119,
        F9: 120,
        F10: 121,
        F11: 122,
        F12: 123,
        F13: 124,
        F14: 125,
        F15: 126,
        COLON: 186,
        EQUALS: 187,
        COMMA: 188,
        UNDERSCORE: 189,
        PERIOD: 190,
        QUESTION_MARK: 191,
        TILDE: 192,
        OPEN_BRACKET: 219,
        BACKWARD_SLASH: 220,
        CLOSED_BRACKET: 221,
        QUOTES: 222,
        BACKSPACE: 8,
        TAB: 9,
        CLEAR: 12,
        ENTER: 13,
        SHIFT: 16,
        CONTROL: 17,
        ALT: 18,
        CAPS_LOCK: 20,
        ESC: 27,
        SPACEBAR: 32,
        PAGE_UP: 33,
        PAGE_DOWN: 34,
        END: 35,
        HOME: 36,
        LEFT: 37,
        UP: 38,
        RIGHT: 39,
        DOWN: 40,
        PLUS: 43,
        MINUS: 44,
        INSERT: 45,
        DELETE: 46,
        HELP: 47,
        NUM_LOCK: 144
    };
    for (var g in b.KeyCode) b.KeyCode.hasOwnProperty(g) && !g.match(/[a-z]/) && (b.Keyboard[g] = b.KeyCode[g]);
    b.Component = function() {};
    b.Component.Angle = function() {};
    b.Component.Angle.prototype = {
        angle: {
            get: function() {
                return b.Math.wrapAngle(b.Math.radToDeg(this.rotation))
            },
            set: function(a) {
                this.rotation = b.Math.degToRad(b.Math.wrapAngle(a))
            }
        }
    };
    b.Component.Animation = function() {};
    b.Component.Animation.prototype = {
        play: function(a, c, e, b) {
            if (this.animations) return this.animations.play(a, c, e, b)
        }
    };
    b.Component.AutoCull = function() {};
    b.Component.AutoCull.prototype = {
        autoCull: !1,
        inCamera: {
            get: function() {
                this.autoCull || this.checkWorldBounds || (this._bounds.copyFrom(this.getBounds()), this._bounds.x += this.game.camera.view.x, this._bounds.y += this.game.camera.view.y);
                return this.game.world.camera.view.intersects(this._bounds)
            }
        }
    };
    b.Component.Bounds = function() {};
    b.Component.Bounds.prototype = {
        offsetX: {
            get: function() {
                return this.anchor.x * this.width
            }
        },
        offsetY: {
            get: function() {
                return this.anchor.y * this.height
            }
        },
        centerX: {
            get: function() {
                return this.x - this.offsetX + .5 * this.width
            },
            set: function(a) {
                this.x = a + this.offsetX - .5 * this.width
            }
        },
        centerY: {
            get: function() {
                return this.y - this.offsetY + .5 * this.height
            },
            set: function(a) {
                this.y = a + this.offsetY - .5 * this.height
            }
        },
        left: {
            get: function() {
                return this.x - this.offsetX
            },
            set: function(a) {
                this.x = a + this.offsetX
            }
        },
        right: {
            get: function() {
                return this.x + this.width - this.offsetX
            },
            set: function(a) {
                this.x = a - this.width + this.offsetX
            }
        },
        top: {
            get: function() {
                return this.y - this.offsetY
            },
            set: function(a) {
                this.y = a + this.offsetY
            }
        },
        bottom: {
            get: function() {
                return this.y + this.height - this.offsetY
            },
            set: function(a) {
                this.y = a - this.height + this.offsetY
            }
        },
        alignIn: function(a, c, e, d) {
            void 0 === e && (e = 0);
            void 0 === d && (d = 0);
            switch (c) {
                default:
                case b.TOP_LEFT:
                    this.left = a.left - e;
                    this.top = a.top - d;
                    break;
                case b.TOP_CENTER:
                    this.centerX = a.centerX + e;
                    this.top =
                        a.top - d;
                    break;
                case b.TOP_RIGHT:
                    this.right = a.right + e;
                    this.top = a.top - d;
                    break;
                case b.LEFT_CENTER:
                    this.left = a.left - e;
                    this.centerY = a.centerY + d;
                    break;
                case b.CENTER:
                    this.centerX = a.centerX + e;
                    this.centerY = a.centerY + d;
                    break;
                case b.RIGHT_CENTER:
                    this.right = a.right + e;
                    this.centerY = a.centerY + d;
                    break;
                case b.BOTTOM_LEFT:
                    this.left = a.left - e;
                    this.bottom = a.bottom + d;
                    break;
                case b.BOTTOM_CENTER:
                    this.centerX = a.centerX + e;
                    this.bottom = a.bottom + d;
                    break;
                case b.BOTTOM_RIGHT:
                    this.right = a.right + e, this.bottom = a.bottom + d
            }
            return this
        },
        alignTo: function(a, c, e, d) {
            void 0 === e && (e = 0);
            void 0 === d && (d = 0);
            switch (c) {
                default:
                case b.TOP_LEFT:
                    this.left = a.left - e;
                    this.bottom = a.top - d;
                    break;
                case b.TOP_CENTER:
                    this.centerX = a.centerX + e;
                    this.bottom = a.top - d;
                    break;
                case b.TOP_RIGHT:
                    this.right = a.right + e;
                    this.bottom = a.top - d;
                    break;
                case b.LEFT_TOP:
                    this.right = a.left - e;
                    this.top = a.top - d;
                    break;
                case b.LEFT_CENTER:
                    this.right = a.left - e;
                    this.centerY = a.centerY + d;
                    break;
                case b.LEFT_BOTTOM:
                    this.right = a.left - e;
                    this.bottom = a.bottom + d;
                    break;
                case b.RIGHT_TOP:
                    this.left = a.right +
                        e;
                    this.top = a.top - d;
                    break;
                case b.RIGHT_CENTER:
                    this.left = a.right + e;
                    this.centerY = a.centerY + d;
                    break;
                case b.RIGHT_BOTTOM:
                    this.left = a.right + e;
                    this.bottom = a.bottom + d;
                    break;
                case b.BOTTOM_LEFT:
                    this.left = a.left - e;
                    this.top = a.bottom + d;
                    break;
                case b.BOTTOM_CENTER:
                    this.centerX = a.centerX + e;
                    this.top = a.bottom + d;
                    break;
                case b.BOTTOM_RIGHT:
                    this.right = a.right + e, this.top = a.bottom + d
            }
            return this
        }
    };
    b.Group.prototype.alignIn = b.Component.Bounds.prototype.alignIn;
    b.Group.prototype.alignTo = b.Component.Bounds.prototype.alignTo;
    b.Component.BringToTop = function() {};
    b.Component.BringToTop.prototype.bringToTop = function() {
        this.parent && this.parent.bringToTop(this);
        return this
    };
    b.Component.BringToTop.prototype.sendToBack = function() {
        this.parent && this.parent.sendToBack(this);
        return this
    };
    b.Component.BringToTop.prototype.moveUp = function() {
        this.parent && this.parent.moveUp(this);
        return this
    };
    b.Component.BringToTop.prototype.moveDown = function() {
        this.parent && this.parent.moveDown(this);
        return this
    };
    b.Component.Core = function() {};
    b.Component.Core.skipTypeChecks = !1;
    b.Component.Core.install = function(a) {
        b.Utils.mixinPrototype(this, b.Component.Core.prototype);
        this.components = {};
        for (var c = 0; c < a.length; c++) {
            var e = a[c],
                d = !1;
            "Destroy" === e && (d = !0);
            b.Utils.mixinPrototype(this, b.Component[e].prototype, d);
            this.components[e] = !0
        }
    };
    b.Component.Core.init = function(a, c, e, d, l) {
        if (!b.Component.Core.skipTypeChecks) {
            if (!(a instanceof b.Game)) throw Error("The value passed as the `game` argument (" + a + ") is not an instance of Phaser.Game.");
            "number" !== typeof c && (console.warn("The `x` argument value (%s) should be a number.",
                c), c = 0);
            "number" !== typeof e && (console.warn("The `y` argument value (%s) should be a number.", e), e = 0)
        }
        this.game = a;
        this.key = d;
        this.data = {};
        this.position.set(c, e);
        this.world = new b.Point(c, e);
        this.previousPosition = new b.Point(c, e);
        this.events = new b.Events(this);
        this._bounds = new b.Rectangle;
        this.components.PhysicsBody && (this.body = this.body);
        this.components.Animation && (this.animations = new b.AnimationManager(this));
        this.components.LoadTexture && null !== d && this.loadTexture(d, l);
        this.components.FixedToCamera &&
            (this.cameraOffset = new b.Point(c, e))
    };
    b.Component.Core.preUpdate = function() {
        if (this.pendingDestroy) return this.destroy(), !1;
        this.previousPosition.set(this.world.x, this.world.y);
        this.previousRotation = this.rotation;
        if (!this.exists || !this.parent.exists) return this.renderOrderID = -1, !1;
        this.world.setTo(this.game.camera.x + this.worldTransform.tx, this.game.camera.y + this.worldTransform.ty);
        this.visible && (this.renderOrderID = this.game.stage.currentRenderOrderID++);
        this.animations && this.animations.update();
        this.body &&
            this.body.preUpdate();
        this.preUpdateChildren();
        return !0
    };
    b.Component.Core.prototype = {
        game: null,
        name: "",
        data: {},
        components: {},
        z: 0,
        events: void 0,
        animations: void 0,
        key: "",
        world: null,
        debug: !1,
        previousPosition: null,
        previousRotation: 0,
        renderOrderID: 0,
        fresh: !0,
        pendingDestroy: !1,
        _bounds: null,
        _exists: !0,
        exists: {
            get: function() {
                return this._exists
            },
            set: function(a) {
                a ? (this._exists = !0, this.body && this.body.type === b.Physics.P2JS && this.body.addToWorld(), this.visible = !0) : (this._exists = !1, this.body && this.body.type ===
                    b.Physics.P2JS && this.body.removeFromWorld(), this.visible = !1)
            }
        },
        preUpdateChildren: function() {
            for (var a = 0; a < this.children.length;) {
                var c = this.children[a];
                c.preUpdate();
                this === c.parent && a++
            }
        },
        update: function() {},
        postUpdate: function() {
            this.customRender && this.key.render();
            this.components.PhysicsBody && b.Component.PhysicsBody.postUpdate.call(this);
            this.components.FixedToCamera && b.Component.FixedToCamera.postUpdate.call(this);
            for (var a = 0; a < this.children.length; a++) this.children[a].postUpdate()
        }
    };
    b.Component.Crop =
        function() {};
    b.Component.Crop.prototype = {
        cropRect: null,
        _crop: null,
        crop: function(a, c) {
            void 0 === c && (c = !1);
            a ? (c && null !== this.cropRect ? this.cropRect.setTo(a.x, a.y, a.width, a.height) : this.cropRect = c && null === this.cropRect ? new b.Rectangle(a.x, a.y, a.width, a.height) : a, this.updateCrop()) : (this.cropRect = this._crop = null, this.resetFrame())
        },
        updateCrop: function() {
            if (this.cropRect) {
                var a = this.texture.crop.x,
                    c = this.texture.crop.y,
                    e = this.texture.crop.width,
                    d = this.texture.crop.height;
                this._crop = b.Rectangle.clone(this.cropRect,
                    this._crop);
                this._crop.x += this._frame.x;
                this._crop.y += this._frame.y;
                var l = Math.max(this._frame.x, this._crop.x),
                    f = Math.max(this._frame.y, this._crop.y),
                    g = Math.min(this._frame.right, this._crop.right) - l,
                    h = Math.min(this._frame.bottom, this._crop.bottom) - f;
                this.texture.crop.x = l;
                this.texture.crop.y = f;
                this.texture.crop.width = g;
                this.texture.crop.height = h;
                this.texture.frame.width = Math.min(g, this.cropRect.width);
                this.texture.frame.height = Math.min(h, this.cropRect.height);
                this.texture.width = this.texture.frame.width;
                this.texture.height = this.texture.frame.height;
                this.texture._updateUvs();
                16777215 === this.tint || a === l && c === f && e === g && d === h || (this.texture.requiresReTint = !0)
            }
        }
    };
    b.Component.Delta = function() {};
    b.Component.Delta.prototype = {
        deltaX: {
            get: function() {
                return this.world.x - this.previousPosition.x
            }
        },
        deltaY: {
            get: function() {
                return this.world.y - this.previousPosition.y
            }
        },
        deltaZ: {
            get: function() {
                return this.rotation - this.previousRotation
            }
        }
    };
    b.Component.Destroy = function() {};
    b.Component.Destroy.prototype = {
        destroyPhase: !1,
        destroy: function(a, c) {
            if (null !== this.game && !this.destroyPhase) {
                void 0 === a && (a = !0);
                void 0 === c && (c = !1);
                this.destroyPhase = !0;
                if (this.events) this.events.onDestroy$dispatch(this);
                this.parent && (this.parent instanceof b.Group ? this.parent.remove(this) : this.parent.removeChild(this));
                this.input && this.input.destroy();
                this.animations && this.animations.destroy();
                this.body && this.body.destroy();
                this.events && this.events.destroy();
                this.game.tweens.removeFrom(this);
                var e = this.children.length;
                if (a)
                    for (; e--;) this.children[e].destroy(a);
                else
                    for (; e--;) this.removeChild(this.children[e]);
                this._crop && (this.cropRect = this._crop = null);
                this._frame && (this._frame = null);
                b.Video && this.key instanceof b.Video && this.key.onChangeSource.remove(this.resizeFrame, this);
                b.BitmapText && this._glyphs && (this._glyphs = []);
                this.visible = this.exists = this.alive = !1;
                this.game = this.mask = this.filters = null;
                this.data = {};
                this.renderable = !1;
                this.transformCallback && (this.transformCallbackContext = this.transformCallback = null);
                this._mask = this._currentBounds = this._bounds =
                    this.filterArea = this.worldTransform = this.stage = this.parent = this.hitArea = null;
                this._destroyCachedSprite();
                c && this.texture.destroy(!0);
                this.pendingDestroy = this.destroyPhase = !1
            }
        }
    };
    b.Events = function(a) {
        this.parent = a
    };
    b.Events.prototype = {
        destroy: function() {
            this._parent = null;
            this._onDestroy && this._onDestroy.dispose();
            this._onAddedToGroup && this._onAddedToGroup.dispose();
            this._onRemovedFromGroup && this._onRemovedFromGroup.dispose();
            this._onKilled && this._onKilled.dispose();
            this._onRevived && this._onRevived.dispose();
            this._onEnterBounds && this._onEnterBounds.dispose();
            this._onOutOfBounds && this._onOutOfBounds.dispose();
            this._onInputOver && this._onInputOver.dispose();
            this._onInputOut && this._onInputOut.dispose();
            this._onInputDown && this._onInputDown.dispose();
            this._onInputUp && this._onInputUp.dispose();
            this._onDragStart && this._onDragStart.dispose();
            this._onDragUpdate && this._onDragUpdate.dispose();
            this._onDragStop && this._onDragStop.dispose();
            this._onAnimationStart && this._onAnimationStart.dispose();
            this._onAnimationComplete &&
                this._onAnimationComplete.dispose();
            this._onAnimationLoop && this._onAnimationLoop.dispose()
        },
        onAddedToGroup: null,
        onRemovedFromGroup: null,
        onDestroy: null,
        onKilled: null,
        onRevived: null,
        onOutOfBounds: null,
        onEnterBounds: null,
        onInputOver: null,
        onInputOut: null,
        onInputDown: null,
        onInputUp: null,
        onDragStart: null,
        onDragUpdate: null,
        onDragStop: null,
        onAnimationStart: null,
        onAnimationComplete: null,
        onAnimationLoop: null
    };
    b.Events.prototype.constructor = b.Events;
    for (var f in b.Events.prototype) b.Events.prototype.hasOwnProperty(f) &&
        0 === f.indexOf("on") && null === b.Events.prototype[f] && function(a, c) {
            Object.defineProperty(b.Events.prototype, a, {
                get: function() {
                    return this[c] || (this[c] = new b.Signal)
                }
            });
            b.Events.prototype[a + "$dispatch"] = function() {
                return this[c] ? this[c].dispatch.apply(this[c], arguments) : null
            }
        }(f, "_" + f);
    b.Component.FixedToCamera = function() {};
    b.Component.FixedToCamera.postUpdate = function() {
        this.fixedToCamera && (this.position.x = (this.game.camera.view.x + this.cameraOffset.x) / this.game.camera.scale.x, this.position.y = (this.game.camera.view.y +
            this.cameraOffset.y) / this.game.camera.scale.y)
    };
    b.Component.FixedToCamera.prototype = {
        _fixedToCamera: !1,
        fixedToCamera: {
            get: function() {
                return this._fixedToCamera
            },
            set: function(a) {
                a ? (this._fixedToCamera = !0, this.cameraOffset.set(this.x, this.y)) : this._fixedToCamera = !1
            }
        },
        cameraOffset: new b.Point
    };
    b.Component.Health = function() {};
    b.Component.Health.prototype = {
        health: 1,
        maxHealth: 100,
        damage: function(a) {
            this.alive && (this.health -= a, 0 >= this.health && this.kill());
            return this
        },
        setHealth: function(a) {
            this.health = a;
            this.health > this.maxHealth && (this.health = this.maxHealth);
            return this
        },
        heal: function(a) {
            this.alive && (this.health += a, this.health > this.maxHealth && (this.health = this.maxHealth));
            return this
        }
    };
    b.Component.InCamera = function() {};
    b.Component.InCamera.prototype = {
        inCamera: {
            get: function() {
                return this.game.world.camera.view.intersects(this._bounds)
            }
        }
    };
    b.Component.InputEnabled = function() {};
    b.Component.InputEnabled.prototype = {
        input: null,
        inputEnabled: {
            get: function() {
                return this.input && this.input.enabled
            },
            set: function(a) {
                a ?
                    null === this.input ? (this.input = new b.InputHandler(this), this.input.start()) : this.input && !this.input.enabled && this.input.start() : this.input && this.input.enabled && this.input.stop()
            }
        }
    };
    b.Component.InWorld = function() {};
    b.Component.InWorld.preUpdate = function() {
        if (this.pendingDestroy) return this.destroy(), !1;
        if (this.autoCull || this.checkWorldBounds) {
            this._bounds.copyFrom(this.getBounds());
            this._bounds.x += this.game.camera.view.x;
            this._bounds.y += this.game.camera.view.y;
            if (this.autoCull)
                if (this.game.world.camera.view.intersects(this._bounds)) this.renderable = !0, this.game.world.camera.totalInView++;
                else if (this.renderable = !1, this.outOfCameraBoundsKill) return this.kill(), !1;
            if (this.checkWorldBounds)
                if (this._outOfBoundsFired && this.game.world.bounds.intersects(this._bounds)) this._outOfBoundsFired = !1, this.events.onEnterBounds$dispatch(this);
                else if (!this._outOfBoundsFired && !this.game.world.bounds.intersects(this._bounds) && (this._outOfBoundsFired = !0, this.events.onOutOfBounds$dispatch(this), this.outOfBoundsKill)) return this.kill(), !1
        }
        return !0
    };
    b.Component.InWorld.prototype = {
        checkWorldBounds: !1,
        outOfBoundsKill: !1,
        outOfCameraBoundsKill: !1,
        _outOfBoundsFired: !1,
        inWorld: {
            get: function() {
                return this.game.world.bounds.intersects(this.getBounds())
            }
        }
    };
    b.Component.LifeSpan = function() {};
    b.Component.LifeSpan.preUpdate = function() {
        return this.pendingDestroy ? (this.destroy(), !1) : 0 < this.lifespan && (this.lifespan -= this.game.time.physicsElapsedMS, 0 >= this.lifespan) ? (this.kill(), !1) : !0
    };
    b.Component.LifeSpan.prototype = {
        alive: !0,
        lifespan: 0,
        revive: function(a) {
            void 0 === a && (a = 100);
            this.visible =
                this.exists = this.alive = !0;
            "function" === typeof this.setHealth && this.setHealth(a);
            if (this.events) this.events.onRevived$dispatch(this);
            return this
        },
        kill: function() {
            this.visible = this.exists = this.alive = !1;
            if (this.events) this.events.onKilled$dispatch(this);
            return this
        }
    };
    b.Component.LoadTexture = function() {};
    b.Component.LoadTexture.prototype = {
        customRender: !1,
        _frame: null,
        loadTexture: function(a, c, e) {
            a === b.PENDING_ATLAS ? (a = c, c = 0) : c = c || 0;
            (e || void 0 === e) && this.animations && this.animations.stop();
            this.key = a;
            this.customRender = !1;
            var d = this.game.cache,
                l = !0;
            e = !this.texture.baseTexture.scaleMode;
            b.RenderTexture && a instanceof b.RenderTexture ? (this.key = a.key, this.setTexture(a)) : b.BitmapData && a instanceof b.BitmapData ? (this.customRender = !0, this.setTexture(a.texture), l = d.hasFrameData(a.key, b.Cache.BITMAPDATA) ? !this.animations.loadFrameData(d.getFrameData(a.key, b.Cache.BITMAPDATA), c) : !this.animations.loadFrameData(a.frameData, 0)) : b.Video && a instanceof b.Video ? (this.customRender = !0, c = a.texture.valid, this.setTexture(a.texture),
                this.setFrame(a.texture.frame.clone()), a.onChangeSource.add(this.resizeFrame, this), this.texture.valid = c) : b.Tilemap && a instanceof b.TilemapLayer ? this.setTexture(PIXI.Texture.fromCanvas(a.canvas)) : a instanceof PIXI.Texture ? this.setTexture(a) : (l = d.getImage(a, !0), this.key = l.key, this.setTexture(new PIXI.Texture(l.base)), this.texture.baseTexture.skipRender = "__default" === a ? !0 : !1, l = !this.animations.loadFrameData(l.frameData, c));
            l && (this._frame = b.Rectangle.clone(this.texture.frame));
            e || (this.texture.baseTexture.scaleMode =
                1)
        },
        setFrame: function(a) {
            this._frame = a;
            this.texture.frame.x = a.x;
            this.texture.frame.y = a.y;
            this.texture.frame.width = a.width;
            this.texture.frame.height = a.height;
            this.texture.crop.x = a.x;
            this.texture.crop.y = a.y;
            this.texture.crop.width = a.width;
            this.texture.crop.height = a.height;
            a.trimmed ? (this.texture.trim ? (this.texture.trim.x = a.spriteSourceSizeX, this.texture.trim.y = a.spriteSourceSizeY, this.texture.trim.width = a.sourceSizeW, this.texture.trim.height = a.sourceSizeH) : this.texture.trim = {
                x: a.spriteSourceSizeX,
                y: a.spriteSourceSizeY,
                width: a.sourceSizeW,
                height: a.sourceSizeH
            }, this.texture.width = a.sourceSizeW, this.texture.height = a.sourceSizeH, this.texture.frame.width = a.sourceSizeW, this.texture.frame.height = a.sourceSizeH) : !a.trimmed && this.texture.trim && (this.texture.trim = null);
            a.rotated && (this.texture.rotated = !0);
            this.cropRect && this.updateCrop();
            this.texture.requiresReTint = !0;
            this.texture._updateUvs();
            this.tilingTexture && (this.refreshTexture = !0)
        },
        resizeFrame: function(a, c, e) {
            this.texture.frame.resize(c, e);
            this.texture.setFrame(this.texture.frame)
        },
        resetFrame: function() {
            this._frame && this.setFrame(this._frame)
        },
        frame: {
            get: function() {
                return this.animations.frame
            },
            set: function(a) {
                this.animations.frame = a
            }
        },
        frameName: {
            get: function() {
                return this.animations.frameName
            },
            set: function(a) {
                this.animations.frameName = a
            }
        }
    };
    b.Component.Overlap = function() {};
    b.Component.Overlap.prototype = {
        overlap: function(a) {
            return b.Rectangle.intersects(this.getBounds(), a.getBounds())
        }
    };
    b.Component.PhysicsBody = function() {};
    b.Component.PhysicsBody.preUpdate = function() {
        if (this.pendingDestroy) return this.destroy(),
            !1;
        if (this.fresh && this.exists) return this.world.setTo(this.parent.position.x + this.position.x, this.parent.position.y + this.position.y), this.worldTransform.tx = this.world.x, this.worldTransform.ty = this.world.y, this.previousPosition.set(this.world.x, this.world.y), this.previousRotation = this.rotation, this.body && this.body.preUpdate(), this.fresh = !1, this.preUpdateChildren(), !1;
        this.previousPosition.set(this.world.x, this.world.y);
        this.previousRotation = this.rotation;
        return this._exists && this.parent.exists ? !0 :
            (this.renderOrderID = -1, !1)
    };
    b.Component.PhysicsBody.postUpdate = function() {
        this.exists && this.body && this.body.postUpdate()
    };
    b.Component.PhysicsBody.prototype = {
        body: null,
        x: {
            get: function() {
                return this.position.x
            },
            set: function(a) {
                this.position.x = a;
                this.body && !this.body.dirty && (this.body._reset = !0)
            }
        },
        y: {
            get: function() {
                return this.position.y
            },
            set: function(a) {
                this.position.y = a;
                this.body && !this.body.dirty && (this.body._reset = !0)
            }
        }
    };
    b.Component.Reset = function() {};
    b.Component.Reset.prototype.reset = function(a,
        c, e) {
        void 0 === e && (e = 1);
        this.world.set(a, c);
        this.position.set(a, c);
        this.renderable = this.visible = this.exists = this.fresh = !0;
        this.components.InWorld && (this._outOfBoundsFired = !1);
        this.components.LifeSpan && (this.alive = !0, this.health = e);
        this.components.PhysicsBody && this.body && this.body.reset(a, c, !1, !1);
        return this
    };
    b.Component.ScaleMinMax = function() {};
    b.Component.ScaleMinMax.prototype = {
        transformCallback: null,
        transformCallbackContext: this,
        scaleMin: null,
        scaleMax: null,
        checkTransform: function(a) {
            this.scaleMin &&
                (a.a < this.scaleMin.x && (a.a = this.scaleMin.x), a.d < this.scaleMin.y && (a.d = this.scaleMin.y));
            this.scaleMax && (a.a > this.scaleMax.x && (a.a = this.scaleMax.x), a.d > this.scaleMax.y && (a.d = this.scaleMax.y))
        },
        setScaleMinMax: function(a, c, e, d) {
            void 0 === c ? c = e = d = a : void 0 === e && (e = d = c, c = a);
            null === a ? this.scaleMin = null : this.scaleMin ? this.scaleMin.set(a, c) : this.scaleMin = new b.Point(a, c);
            null === e ? this.scaleMax = null : this.scaleMax ? this.scaleMax.set(e, d) : this.scaleMax = new b.Point(e, d);
            null === this.scaleMin ? this.transformCallback =
                null : (this.transformCallback = this.checkTransform, this.transformCallbackContext = this)
        }
    };
    b.Component.Smoothed = function() {};
    b.Component.Smoothed.prototype = {
        smoothed: {
            get: function() {
                return !this.texture.baseTexture.scaleMode
            },
            set: function(a) {
                a ? this.texture && (this.texture.baseTexture.scaleMode = 0, this.texture.baseTexture.dirty()) : this.texture && (this.texture.baseTexture.scaleMode = 1, this.texture.baseTexture.dirty())
            }
        }
    };
    b.GameObjectFactory = function(a) {
        this.game = a;
        this.world = this.game.world
    };
    b.GameObjectFactory.prototype = {
        existing: function(a) {
            return this.world.add(a)
        },
        weapon: function(a, c, e, d, l) {
            var k = this.game.plugins.add(b.Weapon);
            l && (k.bulletClass = l);
            k.createBullets(a, c, e, d);
            return k
        },
        image: function(a, c, e, d, l) {
            void 0 === l && (l = this.world);
            return l.add(new b.Image(this.game, a, c, e, d))
        },
        sprite: function(a, c, e, d, l) {
            void 0 === l && (l = this.world);
            return l.add(new b.Sprite(this.game, a, c, e, d))
        },
        creature: function(a, c, e, d, l) {
            void 0 === l && (l = this.world);
            a = new b.Creature(this.game, a, c, e, d);
            l.add(a);
            return a
        },
        tween: function(a) {
            return this.game.tweens.create(a)
        },
        group: function(a, c, e, d, l) {
            return new b.Group(this.game, a, c, e, d, l)
        },
        physicsGroup: function(a, c, e, d) {
            return new b.Group(this.game, c, e, d, !0, a)
        },
        spriteBatch: function(a, c, e) {
            void 0 === a && (a = null);
            void 0 === c && (c = "group");
            void 0 === e && (e = !1);
            return new b.SpriteBatch(this.game, a, c, e)
        },
        audio: function(a, c, e, b) {
            return this.game.sound.add(a, c, e, b)
        },
        sound: function(a, c, e, b) {
            return this.game.sound.add(a, c, e, b)
        },
        audioSprite: function(a) {
            return this.game.sound.addSprite(a)
        },
        tileSprite: function(a, c, e, d, l, f, g) {
            void 0 ===
                g && (g = this.world);
            return g.add(new b.TileSprite(this.game, a, c, e, d, l, f))
        },
        rope: function(a, c, e, d, l, f) {
            void 0 === f && (f = this.world);
            return f.add(new b.Rope(this.game, a, c, e, d, l))
        },
        text: function(a, c, e, d, l) {
            void 0 === l && (l = this.world);
            return l.add(new b.Text(this.game, a, c, e, d))
        },
        button: function(a, c, e, d, l, f, g, h, p, r) {
            void 0 === r && (r = this.world);
            return r.add(new b.Button(this.game, a, c, e, d, l, f, g, h, p))
        },
        graphics: function(a, c, e) {
            void 0 === e && (e = this.world);
            return e.add(new b.Graphics(this.game, a, c))
        },
        emitter: function(a,
            c, e) {
            return this.game.particles.add(new b.Particles.Arcade.Emitter(this.game, a, c, e))
        },
        retroFont: function(a, c, e, d, l, f, g, h, p) {
            return new b.RetroFont(this.game, a, c, e, d, l, f, g, h, p)
        },
        bitmapText: function(a, c, e, d, l, f) {
            void 0 === f && (f = this.world);
            return f.add(new b.BitmapText(this.game, a, c, e, d, l))
        },
        tilemap: function(a, c, e, d, l) {
            return new b.Tilemap(this.game, a, c, e, d, l)
        },
        renderTexture: function(a, c, e, d) {
            if (void 0 === e || "" === e) e = this.game.rnd.uuid();
            void 0 === d && (d = !1);
            a = new b.RenderTexture(this.game, a, c, e);
            d && this.game.cache.addRenderTexture(e,
                a);
            return a
        },
        video: function(a, c) {
            return new b.Video(this.game, a, c)
        },
        bitmapData: function(a, c, e, d) {
            void 0 === d && (d = !1);
            if (void 0 === e || "" === e) e = this.game.rnd.uuid();
            a = new b.BitmapData(this.game, e, a, c);
            d && this.game.cache.addBitmapData(e, a);
            return a
        },
        filter: function(a) {
            var c = Array.prototype.slice.call(arguments, 1);
            a = new b.Filter[a](this.game);
            a.init.apply(a, c);
            return a
        },
        plugin: function() {
            return this.game.plugins.add.apply(this.game.plugins, arguments)
        }
    };
    b.GameObjectFactory.prototype.constructor = b.GameObjectFactory;
    b.GameObjectCreator = function(a) {
        this.game = a;
        this.world = this.game.world
    };
    b.GameObjectCreator.prototype = {
        image: function(a, c, e, d) {
            return new b.Image(this.game, a, c, e, d)
        },
        sprite: function(a, c, e, d) {
            return new b.Sprite(this.game, a, c, e, d)
        },
        tween: function(a) {
            return new b.Tween(a, this.game, this.game.tweens)
        },
        group: function(a, c, e, d, l) {
            return new b.Group(this.game, a, c, e, d, l)
        },
        spriteBatch: function(a, c, e) {
            void 0 === c && (c = "group");
            void 0 === e && (e = !1);
            return new b.SpriteBatch(this.game, a, c, e)
        },
        audio: function(a, c, e,
            b) {
            return this.game.sound.add(a, c, e, b)
        },
        audioSprite: function(a) {
            return this.game.sound.addSprite(a)
        },
        sound: function(a, c, e, b) {
            return this.game.sound.add(a, c, e, b)
        },
        tileSprite: function(a, c, e, d, l, f) {
            return new b.TileSprite(this.game, a, c, e, d, l, f)
        },
        rope: function(a, c, e, d, l) {
            return new b.Rope(this.game, a, c, e, d, l)
        },
        text: function(a, c, e, d) {
            return new b.Text(this.game, a, c, e, d)
        },
        button: function(a, c, e, d, l, f, g, h, p) {
            return new b.Button(this.game, a, c, e, d, l, f, g, h, p)
        },
        graphics: function(a, c) {
            return new b.Graphics(this.game,
                a, c)
        },
        emitter: function(a, c, e) {
            return new b.Particles.Arcade.Emitter(this.game, a, c, e)
        },
        retroFont: function(a, c, e, d, l, f, g, h, p) {
            return new b.RetroFont(this.game, a, c, e, d, l, f, g, h, p)
        },
        bitmapText: function(a, c, e, d, l, f) {
            return new b.BitmapText(this.game, a, c, e, d, l, f)
        },
        tilemap: function(a, c, e, d, l) {
            return new b.Tilemap(this.game, a, c, e, d, l)
        },
        renderTexture: function(a, c, e, d) {
            if (void 0 === e || "" === e) e = this.game.rnd.uuid();
            void 0 === d && (d = !1);
            a = new b.RenderTexture(this.game, a, c, e);
            d && this.game.cache.addRenderTexture(e,
                a);
            return a
        },
        bitmapData: function(a, c, e, d) {
            void 0 === d && (d = !1);
            if (void 0 === e || "" === e) e = this.game.rnd.uuid();
            a = new b.BitmapData(this.game, e, a, c);
            d && this.game.cache.addBitmapData(e, a);
            return a
        },
        filter: function(a) {
            var c = Array.prototype.slice.call(arguments, 1);
            a = new b.Filter[a](this.game);
            a.init.apply(a, c);
            return a
        }
    };
    b.GameObjectCreator.prototype.constructor = b.GameObjectCreator;
    b.Sprite = function(a, c, e, d, l) {
        c = c || 0;
        e = e || 0;
        d = d || null;
        l = l || null;
        this.physicsType = this.type = b.SPRITE;
        PIXI.Sprite.call(this, b.Cache.DEFAULT);
        b.Component.Core.init.call(this, a, c, e, d, l)
    };
    b.Sprite.prototype = Object.create(PIXI.Sprite.prototype);
    b.Sprite.prototype.constructor = b.Sprite;
    b.Component.Core.install.call(b.Sprite.prototype, "Angle Animation AutoCull Bounds BringToTop Crop Delta Destroy FixedToCamera Health InCamera InputEnabled InWorld LifeSpan LoadTexture Overlap PhysicsBody Reset ScaleMinMax Smoothed".split(" "));
    b.Sprite.prototype.preUpdatePhysics = b.Component.PhysicsBody.preUpdate;
    b.Sprite.prototype.preUpdateLifeSpan = b.Component.LifeSpan.preUpdate;
    b.Sprite.prototype.preUpdateInWorld = b.Component.InWorld.preUpdate;
    b.Sprite.prototype.preUpdateCore = b.Component.Core.preUpdate;
    b.Sprite.prototype.preUpdate = function() {
        return this.preUpdatePhysics() && this.preUpdateLifeSpan() && this.preUpdateInWorld() ? this.preUpdateCore() : !1
    };
    b.Image = function(a, c, e, d, l) {
        c = c || 0;
        e = e || 0;
        d = d || null;
        l = l || null;
        this.type = b.IMAGE;
        PIXI.Sprite.call(this, b.Cache.DEFAULT);
        b.Component.Core.init.call(this, a, c, e, d, l)
    };
    b.Image.prototype = Object.create(PIXI.Sprite.prototype);
    b.Image.prototype.constructor =
        b.Image;
    b.Component.Core.install.call(b.Image.prototype, "Angle Animation AutoCull Bounds BringToTop Crop Destroy FixedToCamera InputEnabled LifeSpan LoadTexture Overlap Reset ScaleMinMax Smoothed".split(" "));
    b.Image.prototype.preUpdateLifeSpan = b.Component.LifeSpan.preUpdate;
    b.Image.prototype.preUpdateInWorld = b.Component.InWorld.preUpdate;
    b.Image.prototype.preUpdateCore = b.Component.Core.preUpdate;
    b.Image.prototype.preUpdate = function() {
        return this.preUpdateInWorld() && this.preUpdateLifeSpan() ? this.preUpdateCore() :
            !1
    };
    b.Button = function(a, c, e, d, l, f, g, h, p, r) {
        l = l || null;
        f = f || this;
        b.Image.call(this, a, c || 0, e || 0, d || null, h);
        this.type = b.BUTTON;
        this.physicsType = b.SPRITE;
        this.onUpSound = this.onDownSound = this.onOutSound = this.onOverSound = this._onUpFrame = this._onDownFrame = this._onOutFrame = this._onOverFrame = null;
        this.onUpSoundMarker = this.onDownSoundMarker = this.onOutSoundMarker = this.onOverSoundMarker = "";
        this.onInputOver = new b.Signal;
        this.onInputOut = new b.Signal;
        this.onInputDown = new b.Signal;
        this.onInputUp = new b.Signal;
        this.onOverMouseOnly = !0;
        this.justReleasedPreventsOver = b.PointerMode.CONTACT;
        this.forceOut = this.freezeFrames = !1;
        this.inputEnabled = !0;
        this.input.start(0, !0);
        this.input.useHandCursor = !0;
        this.setFrames(g, h, p, r);
        null !== l && this.onInputUp.add(l, f);
        this.events.onInputOver.add(this.onInputOverHandler, this);
        this.events.onInputOut.add(this.onInputOutHandler, this);
        this.events.onInputDown.add(this.onInputDownHandler, this);
        this.events.onInputUp.add(this.onInputUpHandler, this)
    };
    b.Button.prototype = Object.create(b.Image.prototype);
    b.Button.prototype.constructor =
        b.Button;
    b.Button.prototype.clearFrames = function() {
        this.setFrames(null, null, null, null)
    };
    b.Button.prototype.setStateFrame = function(a, c, e) {
        var b = "_on" + a + "Frame";
        null !== c ? (this[b] = c, e && this.changeStateFrame(a)) : this[b] = null
    };
    b.Button.prototype.changeStateFrame = function(a) {
        if (this.freezeFrames) return !1;
        a = this["_on" + a + "Frame"];
        return "string" === typeof a ? (this.frameName = a, !0) : "number" === typeof a ? (this.frame = a, !0) : !1
    };
    b.Button.prototype.setFrames = function(a, c, e, b) {
        this.setStateFrame("Over", a, this.input.pointerOver());
        this.setStateFrame("Out", c, !this.input.pointerOver());
        this.setStateFrame("Down", e, this.input.pointerDown());
        this.setStateFrame("Up", b, this.input.pointerUp())
    };
    b.Button.prototype.setStateSound = function(a, c, e) {
        var d = "on" + a + "Sound";
        a = "on" + a + "SoundMarker";
        c instanceof b.Sound || c instanceof b.AudioSprite ? (this[d] = c, this[a] = "string" === typeof e ? e : "") : (this[d] = null, this[a] = "")
    };
    b.Button.prototype.playStateSound = function(a) {
        var c = this["on" + a + "Sound"];
        return c ? (c.play(this["on" + a + "SoundMarker"]), !0) : !1
    };
    b.Button.prototype.setSounds =
        function(a, c, e, b, d, f, g, h) {
            this.setStateSound("Over", a, c);
            this.setStateSound("Out", d, f);
            this.setStateSound("Down", e, b);
            this.setStateSound("Up", g, h)
        };
    b.Button.prototype.setOverSound = function(a, c) {
        this.setStateSound("Over", a, c)
    };
    b.Button.prototype.setOutSound = function(a, c) {
        this.setStateSound("Out", a, c)
    };
    b.Button.prototype.setDownSound = function(a, c) {
        this.setStateSound("Down", a, c)
    };
    b.Button.prototype.setUpSound = function(a, c) {
        this.setStateSound("Up", a, c)
    };
    b.Button.prototype.onInputOverHandler = function(a,
        c) {
        if (!c.justReleased() || (this.justReleasedPreventsOver & c.pointerMode) !== c.pointerMode)
            if (this.changeStateFrame("Over"), !this.onOverMouseOnly || c.isMouse) this.playStateSound("Over"), this.onInputOver && this.onInputOver.dispatch(this, c)
    };
    b.Button.prototype.onInputOutHandler = function(a, c) {
        this.changeStateFrame("Out");
        this.playStateSound("Out");
        this.onInputOut && this.onInputOut.dispatch(this, c)
    };
    b.Button.prototype.onInputDownHandler = function(a, c) {
        this.changeStateFrame("Down");
        this.playStateSound("Down");
        this.onInputDown && this.onInputDown.dispatch(this, c)
    };
    b.Button.prototype.onInputUpHandler = function(a, c, e) {
        this.playStateSound("Up");
        this.onInputUp && this.onInputUp.dispatch(this, c, e);
        this.freezeFrames || (!0 === this.forceOut || (this.forceOut & c.pointerMode) === c.pointerMode ? this.changeStateFrame("Out") : this.changeStateFrame("Up") || (e ? this.changeStateFrame("Over") : this.changeStateFrame("Out")))
    };
    b.SpriteBatch = function(a, c, e, d) {
        if (void 0 === c || null === c) c = a.world;
        b.Group.call(this, a, c, e, d);
        this.type = b.SPRITEBATCH;
        this.fastSpriteBatch = null;
        this.ready = !1
    };
    b.SpriteBatch.prototype = Object.create(b.Group.prototype);
    b.SpriteBatch.prototype.constructor = b.SpriteBatch;
    b.SpriteBatch.prototype._renderWebGL = function(a) {
        !this.visible || 0 >= this.alpha || !this.children.length || (this.ready || (this.fastSpriteBatch = new PIXI.WebGLFastSpriteBatch(a.gl), this.ready = !0), this.fastSpriteBatch.gl !== a.gl && this.fastSpriteBatch.setContext(a.gl), a.spriteBatch.stop(), a.shaderManager.setShader(a.shaderManager.fastShader), this.fastSpriteBatch.begin(this,
            a), this.fastSpriteBatch.render(this), a.spriteBatch.start())
    };
    b.SpriteBatch.prototype._renderCanvas = function(a) {
        if (this.visible && !(0 >= this.alpha) && this.children.length) {
            var c = a.context;
            c.globalAlpha = this.worldAlpha;
            this.displayObjectUpdateTransform();
            for (var e = this.worldTransform, b = !0, d = 0; d < this.children.length; d++) {
                var f = this.children[d];
                if (f.visible) {
                    var g = f.texture,
                        h = g.frame;
                    c.globalAlpha = this.worldAlpha * f.alpha;
                    if (0 === f.rotation % (2 * Math.PI)) b && (c.setTransform(e.a, e.b, e.c, e.d, e.tx, e.ty), b = !1), c.drawImage(g.baseTexture.source,
                        h.x, h.y, h.width, h.height, f.anchor.x * -h.width * f.scale.x + f.position.x + .5 + a.shakeX | 0, f.anchor.y * -h.height * f.scale.y + f.position.y + .5 + a.shakeY | 0, h.width * f.scale.x, h.height * f.scale.y);
                    else {
                        b || (b = !0);
                        f.displayObjectUpdateTransform();
                        var p = f.worldTransform,
                            r = p.tx * a.resolution + a.shakeX,
                            u = p.ty * a.resolution + a.shakeY;
                        a.roundPixels ? c.setTransform(p.a, p.b, p.c, p.d, r | 0, u | 0) : c.setTransform(p.a, p.b, p.c, p.d, r, u);
                        c.drawImage(g.baseTexture.source, h.x, h.y, h.width, h.height, f.anchor.x * -h.width + .5 | 0, f.anchor.y * -h.height +
                            .5 | 0, h.width, h.height)
                    }
                }
            }
        }
    };
    b.BitmapData = function(a, c, e, d, l) {
        if (void 0 === e || 0 === e) e = 256;
        if (void 0 === d || 0 === d) d = 256;
        void 0 === l && (l = !1);
        this.game = a;
        this.key = c;
        this.width = e;
        this.height = d;
        this.canvas = b.Canvas.create(this, e, d, null, l);
        this.ctx = this.context = this.canvas.getContext("2d", {
            alpha: !0
        });
        this.smoothProperty = a.renderType === b.CANVAS ? a.renderer.renderSession.smoothProperty : b.Canvas.getSmoothingPrefix(this.context);
        this.imageData = this.context.getImageData(0, 0, e, d);
        this.data = null;
        this.imageData && (this.data =
            this.imageData.data);
        this.pixels = null;
        this.data && (this.imageData.data.buffer ? (this.buffer = this.imageData.data.buffer, this.pixels = new Uint32Array(this.buffer)) : window.ArrayBuffer ? (this.buffer = new ArrayBuffer(this.imageData.data.length), this.pixels = new Uint32Array(this.buffer)) : this.pixels = this.imageData.data);
        this.baseTexture = new PIXI.BaseTexture(this.canvas, null, this.game.resolution);
        this.texture = new PIXI.Texture(this.baseTexture);
        this.frameData = new b.FrameData;
        this.textureFrame = this.frameData.addFrame(new b.Frame(0,
            0, 0, e, d, "bitmapData"));
        this.texture.frame = this.textureFrame;
        this.type = b.BITMAPDATA;
        this.dirty = this.disableTextureUpload = !1;
        this.cls = this.clear;
        this._image = null;
        this._pos = new b.Point;
        this._size = new b.Point;
        this._scale = new b.Point;
        this._rotate = 0;
        this._alpha = {
            prev: 1,
            current: 1
        };
        this._anchor = new b.Point;
        this._tempB = this._tempG = this._tempR = 0;
        this._circle = new b.Circle;
        this._swapCanvas = void 0
    };
    b.BitmapData.prototype = {
        move: function(a, c, e) {
            0 !== a && this.moveH(a, e);
            0 !== c && this.moveV(c, e);
            return this
        },
        moveH: function(a,
            c) {
            void 0 === c && (c = !0);
            void 0 === this._swapCanvas && (this._swapCanvas = b.CanvasPool.create(this, this.width, this.height));
            var e = this._swapCanvas.getContext("2d"),
                d = this.height,
                l = this.canvas;
            e.clearRect(0, 0, this.width, this.height);
            if (0 > a) {
                a = Math.abs(a);
                var f = this.width - a;
                c && e.drawImage(l, 0, 0, a, d, f, 0, a, d);
                e.drawImage(l, a, 0, f, d, 0, 0, f, d)
            } else f = this.width - a, c && e.drawImage(l, f, 0, a, d, 0, 0, a, d), e.drawImage(l, 0, 0, f, d, a, 0, f, d);
            this.clear();
            return this.copy(this._swapCanvas)
        },
        moveV: function(a, c) {
            void 0 === c && (c = !0);
            void 0 === this._swapCanvas && (this._swapCanvas = b.CanvasPool.create(this, this.width, this.height));
            var e = this._swapCanvas.getContext("2d"),
                d = this.width,
                l = this.canvas;
            e.clearRect(0, 0, this.width, this.height);
            if (0 > a) {
                a = Math.abs(a);
                var f = this.height - a;
                c && e.drawImage(l, 0, 0, d, a, 0, f, d, a);
                e.drawImage(l, 0, a, d, f, 0, 0, d, f)
            } else f = this.height - a, c && e.drawImage(l, 0, f, d, a, 0, 0, d, a), e.drawImage(l, 0, 0, d, f, 0, a, d, f);
            this.clear();
            return this.copy(this._swapCanvas)
        },
        add: function(a) {
            if (Array.isArray(a))
                for (var c = 0; c < a.length; c++) a[c].loadTexture &&
                    a[c].loadTexture(this);
            else a.loadTexture(this);
            return this
        },
        load: function(a) {
            "string" === typeof a && (a = this.game.cache.getImage(a));
            if (a) return this.resize(a.width, a.height), this.cls(), this.draw(a), this.update(), this
        },
        clear: function(a, c, e, b) {
            void 0 === a && (a = 0);
            void 0 === c && (c = 0);
            void 0 === e && (e = this.width);
            void 0 === b && (b = this.height);
            this.context.clearRect(a, c, e, b);
            this.dirty = !0;
            return this
        },
        fill: function(a, c, e, b) {
            void 0 === b && (b = 1);
            this.context.fillStyle = "rgba(" + a + "," + c + "," + e + "," + b + ")";
            this.context.fillRect(0,
                0, this.width, this.height);
            this.dirty = !0;
            return this
        },
        generateTexture: function(a, c, e) {
            var b = this.game.cache,
                d = new Image;
            c && (d.onload = function() {
                var k = b.addImage(a, "", d);
                k = new PIXI.Texture(k.base);
                c.call(e || null, k);
                d.onload = null
            });
            d.src = this.canvas.toDataURL("image/png");
            if (!c) {
                var f = b.addImage(a, "", d);
                return new PIXI.Texture(f.base)
            }
            return null
        },
        resize: function(a, c) {
            if (a !== this.width || c !== this.height) this.width = a, this.height = c, this.canvas.width = a, this.canvas.height = c, void 0 !== this._swapCanvas && (this._swapCanvas.width =
                a, this._swapCanvas.height = c), this.baseTexture.width = a, this.baseTexture.height = c, this.textureFrame.width = a, this.textureFrame.height = c, this.texture.width = a, this.texture.height = c, this.texture.crop.width = a, this.texture.crop.height = c, this.update(), this.dirty = !0;
            return this
        },
        update: function(a, c, e, b) {
            void 0 === a && (a = 0);
            void 0 === c && (c = 0);
            void 0 === e && (e = Math.max(1, this.width));
            void 0 === b && (b = Math.max(1, this.height));
            this.imageData = this.context.getImageData(a, c, e, b);
            this.data = this.imageData.data;
            this.imageData.data.buffer ?
                (this.buffer = this.imageData.data.buffer, this.pixels = new Uint32Array(this.buffer)) : window.ArrayBuffer ? (this.buffer = new ArrayBuffer(this.imageData.data.length), this.pixels = new Uint32Array(this.buffer)) : this.pixels = this.imageData.data;
            return this
        },
        processPixelRGB: function(a, c, e, d, l, f) {
            void 0 === e && (e = 0);
            void 0 === d && (d = 0);
            void 0 === l && (l = this.width);
            void 0 === f && (f = this.height);
            l = e + l;
            f = d + f;
            for (var k = b.Color.createColor(), g = !1, h = d; h < f; h++)
                for (var m = e; m < l; m++) b.Color.unpackPixel(this.getPixel32(m, h), k), d =
                    a.call(c, k, m, h), !1 !== d && null !== d && void 0 !== d && (this.setPixel32(m, h, d.r, d.g, d.b, d.a, !1), g = !0);
            g && (this.context.putImageData(this.imageData, 0, 0), this.dirty = !0);
            return this
        },
        processPixel: function(a, c, e, b, d, f) {
            void 0 === e && (e = 0);
            void 0 === b && (b = 0);
            void 0 === d && (d = this.width);
            void 0 === f && (f = this.height);
            d = e + d;
            f = b + f;
            for (var k, l = !1, g = b; g < f; g++)
                for (var h = e; h < d; h++) b = this.getPixel32(h, g), k = a.call(c, b, h, g), k !== b && (this.pixels[g * this.width + h] = k, l = !0);
            l && (this.context.putImageData(this.imageData, 0, 0), this.dirty = !0);
            return this
        },
        replaceRGB: function(a, c, e, d, l, f, g, h, p) {
            var k = 0,
                m = 0,
                q = this.width,
                n = this.height;
            a = b.Color.packPixel(a, c, e, d);
            void 0 !== p && p instanceof b.Rectangle && (k = p.x, m = p.y, q = p.width, n = p.height);
            for (p = 0; p < n; p++)
                for (c = 0; c < q; c++) this.getPixel32(k + c, m + p) === a && this.setPixel32(k + c, m + p, l, f, g, h, !1);
            this.context.putImageData(this.imageData, 0, 0);
            this.dirty = !0;
            return this
        },
        setHSL: function(a, c, e, d) {
            var k = a || 0 === a,
                f = c || 0 === c,
                g = e || 0 === e;
            if (k || f || g) {
                void 0 === d && (d = new b.Rectangle(0, 0, this.width, this.height));
                for (var h = b.Color.createColor(), p = d.y; p < d.bottom; p++)
                    for (var r = d.x; r < d.right; r++) b.Color.unpackPixel(this.getPixel32(r, p), h, !0), k && (h.h = a), f && (h.s = c), g && (h.l = e), b.Color.HSLtoRGB(h.h, h.s, h.l, h), this.setPixel32(r, p, h.r, h.g, h.b, h.a, !1);
                this.context.putImageData(this.imageData, 0, 0);
                this.dirty = !0;
                return this
            }
        },
        shiftHSL: function(a, c, e, d) {
            if (void 0 === a || null === a) a = !1;
            if (void 0 === c || null === c) c = !1;
            if (void 0 === e || null === e) e = !1;
            if (a || c || e) {
                void 0 === d && (d = new b.Rectangle(0, 0, this.width, this.height));
                for (var k =
                        b.Color.createColor(), f = d.y; f < d.bottom; f++)
                    for (var g = d.x; g < d.right; g++) b.Color.unpackPixel(this.getPixel32(g, f), k, !0), a && (k.h = this.game.math.wrap(k.h + a, 0, 1)), c && (k.s = this.game.math.clamp(k.s + c, 0, 1)), e && (k.l = this.game.math.clamp(k.l + e, 0, 1)), b.Color.HSLtoRGB(k.h, k.s, k.l, k), this.setPixel32(g, f, k.r, k.g, k.b, k.a, !1);
                this.context.putImageData(this.imageData, 0, 0);
                this.dirty = !0;
                return this
            }
        },
        setPixel32: function(a, c, e, d, l, f, g) {
            void 0 === g && (g = !0);
            0 <= a && a <= this.width && 0 <= c && c <= this.height && (this.pixels[c * this.width +
                a] = b.Device.LITTLE_ENDIAN ? f << 24 | l << 16 | d << 8 | e : e << 24 | d << 16 | l << 8 | f, g && (this.context.putImageData(this.imageData, 0, 0), this.dirty = !0));
            return this
        },
        setPixel: function(a, c, e, b, d, f) {
            return this.setPixel32(a, c, e, b, d, 255, f)
        },
        getPixel: function(a, c, e) {
            e || (e = b.Color.createColor());
            a = ~~(a + c * this.width);
            a *= 4;
            e.r = this.data[a];
            e.g = this.data[++a];
            e.b = this.data[++a];
            e.a = this.data[++a];
            return e
        },
        getPixel32: function(a, c) {
            if (0 <= a && a <= this.width && 0 <= c && c <= this.height) return this.pixels[c * this.width + a]
        },
        getPixelRGB: function(a,
            c, e, d, l) {
            return b.Color.unpackPixel(this.getPixel32(a, c), e, d, l)
        },
        getPixels: function(a) {
            return this.context.getImageData(a.x, a.y, a.width, a.height)
        },
        getFirstPixel: function(a) {
            void 0 === a && (a = 0);
            var c = b.Color.createColor(),
                e = 0,
                d = 0,
                l = 1,
                f = !1;
            1 === a ? (l = -1, d = this.height) : 3 === a && (l = -1, e = this.width);
            do
                if (b.Color.unpackPixel(this.getPixel32(e, d), c), 0 === a || 1 === a) {
                    if (e++, e === this.width && (e = 0, d += l, d >= this.height || 0 >= d)) f = !0
                } else if (2 === a || 3 === a)
                if (d++, d === this.height && (d = 0, e += l, e >= this.width || 0 >= e)) f = !0; while (0 ===
                c.a && !f);
            c.x = e;
            c.y = d;
            return c
        },
        getBounds: function(a) {
            void 0 === a && (a = new b.Rectangle);
            a.x = this.getFirstPixel(2).x;
            if (a.x === this.width) return a.setTo(0, 0, 0, 0);
            a.y = this.getFirstPixel(0).y;
            a.width = this.getFirstPixel(3).x - a.x + 1;
            a.height = this.getFirstPixel(1).y - a.y + 1;
            return a
        },
        addToWorld: function(a, c, e, b, d, f) {
            d = d || 1;
            f = f || 1;
            a = this.game.add.image(a, c, this);
            a.anchor.set(e, b);
            a.scale.set(d, f);
            return a
        },
        copy: function(a, c, e, d, l, f, g, h, p, r, u, t, v, w, x, y, z) {
            if (void 0 === a || null === a) a = this;
            a instanceof b.RenderTexture &&
                (a = a.getCanvas());
            this._image = a;
            if (a instanceof b.Sprite || a instanceof b.Image || a instanceof b.Text || a instanceof PIXI.Sprite) {
                this._pos.set(a.texture.crop.x, a.texture.crop.y);
                this._size.set(a.texture.crop.width, a.texture.crop.height);
                this._scale.set(a.scale.x, a.scale.y);
                this._anchor.set(a.anchor.x, a.anchor.y);
                this._rotate = a.rotation;
                this._alpha.current = a.alpha;
                this._image = a.texture instanceof b.RenderTexture ? a.texture.getCanvas() : a.texture.baseTexture.source;
                if (void 0 === f || null === f) f = a.x;
                if (void 0 ===
                    g || null === g) g = a.y;
                a.texture.trim && (f += a.texture.trim.x - a.anchor.x * a.texture.trim.width, g += a.texture.trim.y - a.anchor.y * a.texture.trim.height);
                16777215 !== a.tint && (a.cachedTint !== a.tint && (a.cachedTint = a.tint, a.tintedTexture = PIXI.CanvasTinter.getTintedTexture(a, a.tint)), this._image = a.tintedTexture, this._pos.set(0))
            } else {
                this._pos.set(0);
                this._scale.set(1);
                this._anchor.set(0);
                this._rotate = 0;
                this._alpha.current = 1;
                if (a instanceof b.BitmapData) this._image = a.canvas;
                else if ("string" === typeof a) {
                    a = this.game.cache.getImage(a);
                    if (null === a) return;
                    this._image = a
                }
                this._size.set(this._image.width, this._image.height)
            }
            if (void 0 === c || null === c) c = 0;
            if (void 0 === e || null === e) e = 0;
            d && (this._size.x = d);
            l && (this._size.y = l);
            if (void 0 === f || null === f) f = c;
            if (void 0 === g || null === g) g = e;
            if (void 0 === h || null === h) h = this._size.x;
            if (void 0 === p || null === p) p = this._size.y;
            "number" === typeof r && (this._rotate = r);
            "number" === typeof u && (this._anchor.x = u);
            "number" === typeof t && (this._anchor.y = t);
            "number" === typeof v && (this._scale.x = v);
            "number" === typeof w && (this._scale.y =
                w);
            "number" === typeof x && (this._alpha.current = x);
            void 0 === y && (y = null);
            void 0 === z && (z = !1);
            if (!(0 >= this._alpha.current || 0 === this._scale.x || 0 === this._scale.y || 0 === this._size.x || 0 === this._size.y)) return a = this.context, this._alpha.prev = a.globalAlpha, a.save(), a.globalAlpha = this._alpha.current, y && (this.op = y), z && (f |= 0, g |= 0), a.translate(f, g), a.scale(this._scale.x, this._scale.y), a.rotate(this._rotate), a.drawImage(this._image, this._pos.x + c, this._pos.y + e, this._size.x, this._size.y, -h * this._anchor.x, -p * this._anchor.y,
                h, p), a.restore(), a.globalAlpha = this._alpha.prev, this.dirty = !0, this
        },
        copyTransform: function(a, c, e) {
            void 0 === c && (c = null);
            void 0 === e && (e = !1);
            if (!a.hasOwnProperty("worldTransform") || !a.worldVisible || 0 === a.worldAlpha) return this;
            var d = a.worldTransform;
            this._pos.set(a.texture.crop.x, a.texture.crop.y);
            this._size.set(a.texture.crop.width, a.texture.crop.height);
            if (0 === d.a || 0 === d.d || 0 === this._size.x || 0 === this._size.y) return this;
            this._image = a.texture instanceof b.RenderTexture ? a.texture.getCanvas() : a.texture.baseTexture.source;
            var l = d.tx,
                f = d.ty;
            a.texture.trim && (l += a.texture.trim.x - a.anchor.x * a.texture.trim.width, f += a.texture.trim.y - a.anchor.y * a.texture.trim.height);
            16777215 !== a.tint && (a.cachedTint !== a.tint && (a.cachedTint = a.tint, a.tintedTexture = PIXI.CanvasTinter.getTintedTexture(a, a.tint)), this._image = a.tintedTexture, this._pos.set(0));
            e && (l |= 0, f |= 0);
            e = this.context;
            this._alpha.prev = e.globalAlpha;
            e.save();
            e.globalAlpha = this._alpha.current;
            c && (this.op = c);
            e[this.smoothProperty] = a.texture.baseTexture.scaleMode === PIXI.scaleModes.LINEAR;
            e.setTransform(d.a, d.b, d.c, d.d, l, f);
            e.drawImage(this._image, this._pos.x, this._pos.y, this._size.x, this._size.y, -this._size.x * a.anchor.x, -this._size.y * a.anchor.y, this._size.x, this._size.y);
            e.restore();
            e.globalAlpha = this._alpha.prev;
            this.dirty = !0;
            return this
        },
        copyRect: function(a, c, e, b, d, f, g) {
            return this.copy(a, c.x, c.y, c.width, c.height, e, b, c.width, c.height, 0, 0, 0, 1, 1, d, f, g)
        },
        draw: function(a, c, e, b, d, f, g) {
            return this.copy(a, null, null, null, null, c, e, b, d, null, null, null, null, null, null, f, g)
        },
        drawGroup: function(a,
            c, e) {
            0 < a.total && a.forEachExists(this.drawGroupProxy, this, c, e);
            return this
        },
        drawGroupProxy: function(a, c, e) {
            a.hasOwnProperty("texture") && this.copyTransform(a, c, e);
            if (a.type === b.GROUP && a.exists) this.drawGroup(a, c, e);
            else if (a.hasOwnProperty("children") && 0 < a.children.length)
                for (var d = 0; d < a.children.length; d++) a.children[d].exists && this.copyTransform(a.children[d], c, e)
        },
        drawFull: function(a, c, e) {
            if (!1 === a.worldVisible || 0 === a.worldAlpha || a.hasOwnProperty("exists") && !1 === a.exists) return this;
            if (a.type !==
                b.GROUP && a.type !== b.EMITTER && a.type !== b.BITMAPTEXT)
                if (a.type === b.GRAPHICS) {
                    var d = a.getBounds();
                    this.ctx.save();
                    this.ctx.translate(d.x, d.y);
                    PIXI.CanvasGraphics.renderGraphics(a, this.ctx);
                    this.ctx.restore()
                } else this.copy(a, null, null, null, null, a.worldPosition.x, a.worldPosition.y, null, null, a.worldRotation, null, null, a.worldScale.x, a.worldScale.y, a.worldAlpha, c, e);
            if (a.children)
                for (d = 0; d < a.children.length; d++) this.drawFull(a.children[d], c, e);
            return this
        },
        shadow: function(a, c, e, b) {
            var d = this.context;
            void 0 ===
                a || null === a ? d.shadowColor = "rgba(0,0,0,0)" : (d.shadowColor = a, d.shadowBlur = c || 5, d.shadowOffsetX = e || 10, d.shadowOffsetY = b || 10);
            return this
        },
        alphaMask: function(a, c, e, b) {
            void 0 === b || null === b ? this.draw(c).blendSourceAtop() : this.draw(c, b.x, b.y, b.width, b.height).blendSourceAtop();
            void 0 === e || null === e ? this.draw(a).blendReset() : this.draw(a, e.x, e.y, e.width, e.height).blendReset();
            return this
        },
        extract: function(a, c, e, b, d, f, g, h, p) {
            void 0 === d && (d = 255);
            void 0 === f && (f = !1);
            void 0 === g && (g = c);
            void 0 === h && (h = e);
            void 0 ===
                p && (p = b);
            f && a.resize(this.width, this.height);
            this.processPixelRGB(function(k, l, f) {
                k.r === c && k.g === e && k.b === b && a.setPixel32(l, f, g, h, p, d, !1);
                return !1
            }, this);
            a.context.putImageData(a.imageData, 0, 0);
            a.dirty = !0;
            return a
        },
        rect: function(a, c, e, b, d) {
            "undefined" !== typeof d && (this.context.fillStyle = d);
            this.context.fillRect(a, c, e, b);
            return this
        },
        text: function(a, c, e, b, d, f) {
            void 0 === c && (c = 0);
            void 0 === e && (e = 0);
            void 0 === b && (b = "14px Courier");
            void 0 === d && (d = "rgb(255,255,255)");
            void 0 === f && (f = !0);
            var k = this.context,
                l = k.font;
            k.font = b;
            f && (k.fillStyle = "rgb(0,0,0)", k.fillText(a, c + 1, e + 1));
            k.fillStyle = d;
            k.fillText(a, c, e);
            k.font = l;
            return this
        },
        circle: function(a, c, e, b) {
            var d = this.context;
            void 0 !== b && (d.fillStyle = b);
            d.beginPath();
            d.arc(a, c, e, 0, 2 * Math.PI, !1);
            d.closePath();
            d.fill();
            return this
        },
        line: function(a, c, e, b, d, f) {
            void 0 === d && (d = "#fff");
            void 0 === f && (f = 1);
            var k = this.context;
            k.beginPath();
            k.moveTo(a, c);
            k.lineTo(e, b);
            k.lineWidth = f;
            k.strokeStyle = d;
            k.stroke();
            k.closePath();
            return this
        },
        polygon: function(a, c, e, b) {
            void 0 ===
                b && (b = "#fff");
            void 0 === e && (e = 0);
            var d = this.context;
            c && (d.fillStyle = c);
            e && (d.lineWidth = e, d.strokeStyle = b);
            d.beginPath();
            d.moveTo(a[0].x, a[0].y);
            b = 1;
            for (var k = a.length; b < k; b++) {
                var f = a[b];
                d.lineTo(f.x, f.y)
            }
            d.closePath();
            c && d.fill();
            e && d.stroke();
            return this
        },
        textureLine: function(a, c, e) {
            void 0 === e && (e = "repeat-x");
            if ("string" === typeof c && (c = this.game.cache.getImage(c), !c)) return;
            var d = a.length;
            "no-repeat" === e && d > c.width && (d = c.width);
            var l = this.context;
            l.fillStyle = l.createPattern(c, e);
            this._circle = new b.Circle(a.start.x,
                a.start.y, c.height);
            this._circle.circumferencePoint(a.angle - 1.5707963267948966, !1, this._pos);
            l.save();
            l.translate(this._pos.x, this._pos.y);
            l.rotate(a.angle);
            l.fillRect(0, 0, d, c.height);
            l.restore();
            this.dirty = !0;
            return this
        },
        render: function() {
            !this.disableTextureUpload && this.dirty && (this.baseTexture.dirty(), this.dirty = !1);
            return this
        },
        destroy: function() {
            this.frameData.destroy();
            this.texture.destroy(!0);
            b.CanvasPool.remove(this)
        },
        blendReset: function() {
            this.op = "source-over";
            return this
        },
        blendSourceOver: function() {
            this.op =
                "source-over";
            return this
        },
        blendSourceIn: function() {
            this.op = "source-in";
            return this
        },
        blendSourceOut: function() {
            this.op = "source-out";
            return this
        },
        blendSourceAtop: function() {
            this.op = "source-atop";
            return this
        },
        blendDestinationOver: function() {
            this.op = "destination-over";
            return this
        },
        blendDestinationIn: function() {
            this.op = "destination-in";
            return this
        },
        blendDestinationOut: function() {
            this.op = "destination-out";
            return this
        },
        blendDestinationAtop: function() {
            this.op = "destination-atop";
            return this
        },
        blendXor: function() {
            this.op =
                "xor";
            return this
        },
        blendAdd: function() {
            this.op = "lighter";
            return this
        },
        blendMultiply: function() {
            this.op = "multiply";
            return this
        },
        blendScreen: function() {
            this.op = "screen";
            return this
        },
        blendOverlay: function() {
            this.op = "overlay";
            return this
        },
        blendDarken: function() {
            this.op = "darken";
            return this
        },
        blendLighten: function() {
            this.op = "lighten";
            return this
        },
        blendColorDodge: function() {
            this.op = "color-dodge";
            return this
        },
        blendColorBurn: function() {
            this.op = "color-burn";
            return this
        },
        blendHardLight: function() {
            this.op = "hard-light";
            return this
        },
        blendSoftLight: function() {
            this.op = "soft-light";
            return this
        },
        blendDifference: function() {
            this.op = "difference";
            return this
        },
        blendExclusion: function() {
            this.op = "exclusion";
            return this
        },
        blendHue: function() {
            this.op = "hue";
            return this
        },
        blendSaturation: function() {
            this.op = "saturation";
            return this
        },
        blendColor: function() {
            this.op = "color";
            return this
        },
        blendLuminosity: function() {
            this.op = "luminosity";
            return this
        },
        copyBitmapData: function(a, c, e) {
            a.update();
            for (var b = 0, d; b < a.height; b++) {
                d = (e + b) * this.width +
                    c;
                for (var f = 0; f < a.width; f++) this.pixels[d + f] = a.pixels[b * a.width + f]
            }
            return this
        }
    };
    Object.defineProperty(b.BitmapData.prototype, "smoothed", {
        get: function() {
            b.Canvas.getSmoothingEnabled(this.context)
        },
        set: function(a) {
            b.Canvas.setSmoothingEnabled(this.context, a)
        }
    });
    Object.defineProperty(b.BitmapData.prototype, "op", {
        get: function() {
            return this.context.globalCompositeOperation
        },
        set: function(a) {
            this.context.globalCompositeOperation = a
        }
    });
    b.BitmapData.getTransform = function(a, c, e, b, d, f) {
        "number" !== typeof a &&
            (a = 0);
        "number" !== typeof c && (c = 0);
        "number" !== typeof e && (e = 1);
        "number" !== typeof b && (b = 1);
        "number" !== typeof d && (d = 0);
        "number" !== typeof f && (f = 0);
        return {
            sx: e,
            sy: b,
            scaleX: e,
            scaleY: b,
            skewX: d,
            skewY: f,
            translateX: a,
            translateY: c,
            tx: a,
            ty: c
        }
    };
    b.BitmapData.prototype.constructor = b.BitmapData;
    b.EarCut = {};
    b.EarCut.Triangulate = function(a, c, e) {
        e = e || 2;
        var d = c && c.length,
            l = d ? c[0] * e : a.length,
            f = b.EarCut.linkedList(a, 0, l, e, !0),
            g = [];
        if (!f) return g;
        d && (f = b.EarCut.eliminateHoles(a, c, f, e));
        if (a.length > 80 * e) {
            var h = c = a[0];
            var p =
                d = a[1];
            for (var r = e; r < l; r += e) {
                var u = a[r];
                var t = a[r + 1];
                u < h && (h = u);
                t < p && (p = t);
                u > c && (c = u);
                t > d && (d = t)
            }
            u = Math.max(c - h, d - p)
        }
        b.EarCut.earcutLinked(f, g, e, h, p, u);
        return g
    };
    b.EarCut.linkedList = function(a, c, e, d, l) {
        var k = 0,
            f;
        var g = c;
        for (f = e - d; g < e; g += d) k += (a[f] - a[g]) * (a[g + 1] + a[f + 1]), f = g;
        if (l === 0 < k)
            for (g = c; g < e; g += d) var h = b.EarCut.insertNode(g, a[g], a[g + 1], h);
        else
            for (g = e - d; g >= c; g -= d) h = b.EarCut.insertNode(g, a[g], a[g + 1], h);
        return h
    };
    b.EarCut.filterPoints = function(a, c) {
        if (!a) return a;
        c || (c = a);
        do {
            var e = !1;
            if (a.steiner ||
                !b.EarCut.equals(a, a.next) && 0 !== b.EarCut.area(a.prev, a, a.next)) a = a.next;
            else {
                b.EarCut.removeNode(a);
                a = c = a.prev;
                if (a === a.next) return null;
                e = !0
            }
        } while (e || a !== c);
        return c
    };
    b.EarCut.earcutLinked = function(a, c, e, d, l, f, g) {
        if (a) {
            !g && f && b.EarCut.indexCurve(a, d, l, f);
            for (var k = a, h, m; a.prev !== a.next;)
                if (h = a.prev, m = a.next, f ? b.EarCut.isEarHashed(a, d, l, f) : b.EarCut.isEar(a)) c.push(h.i / e), c.push(a.i / e), c.push(m.i / e), b.EarCut.removeNode(a), k = a = m.next;
                else if (a = m, a === k) {
                g ? 1 === g ? (a = b.EarCut.cureLocalIntersections(a,
                    c, e), b.EarCut.earcutLinked(a, c, e, d, l, f, 2)) : 2 === g && b.EarCut.splitEarcut(a, c, e, d, l, f) : b.EarCut.earcutLinked(b.EarCut.filterPoints(a), c, e, d, l, f, 1);
                break
            }
        }
    };
    b.EarCut.isEar = function(a) {
        var c = a.prev,
            e = a.next;
        if (0 <= b.EarCut.area(c, a, e)) return !1;
        for (var d = a.next.next; d !== a.prev;) {
            if (b.EarCut.pointInTriangle(c.x, c.y, a.x, a.y, e.x, e.y, d.x, d.y) && 0 <= b.EarCut.area(d.prev, d, d.next)) return !1;
            d = d.next
        }
        return !0
    };
    b.EarCut.isEarHashed = function(a, c, e, d) {
        var k = a.prev,
            f = a.next;
        if (0 <= b.EarCut.area(k, a, f)) return !1;
        var g = k.x >
            a.x ? k.x > f.x ? k.x : f.x : a.x > f.x ? a.x : f.x,
            h = k.y > a.y ? k.y > f.y ? k.y : f.y : a.y > f.y ? a.y : f.y,
            p = b.EarCut.zOrder(k.x < a.x ? k.x < f.x ? k.x : f.x : a.x < f.x ? a.x : f.x, k.y < a.y ? k.y < f.y ? k.y : f.y : a.y < f.y ? a.y : f.y, c, e, d);
        c = b.EarCut.zOrder(g, h, c, e, d);
        for (e = a.nextZ; e && e.z <= c;) {
            if (e !== a.prev && e !== a.next && b.EarCut.pointInTriangle(k.x, k.y, a.x, a.y, f.x, f.y, e.x, e.y) && 0 <= b.EarCut.area(e.prev, e, e.next)) return !1;
            e = e.nextZ
        }
        for (e = a.prevZ; e && e.z >= p;) {
            if (e !== a.prev && e !== a.next && b.EarCut.pointInTriangle(k.x, k.y, a.x, a.y, f.x, f.y, e.x, e.y) && 0 <= b.EarCut.area(e.prev,
                    e, e.next)) return !1;
            e = e.prevZ
        }
        return !0
    };
    b.EarCut.cureLocalIntersections = function(a, c, e) {
        var d = a;
        do {
            var l = d.prev,
                f = d.next.next;
            b.EarCut.intersects(l, d, d.next, f) && b.EarCut.locallyInside(l, f) && b.EarCut.locallyInside(f, l) && (c.push(l.i / e), c.push(d.i / e), c.push(f.i / e), b.EarCut.removeNode(d), b.EarCut.removeNode(d.next), d = a = f);
            d = d.next
        } while (d !== a);
        return d
    };
    b.EarCut.splitEarcut = function(a, c, e, d, l, f) {
        var k = a;
        do {
            for (var g = k.next.next; g !== k.prev;) {
                if (k.i !== g.i && b.EarCut.isValidDiagonal(k, g)) {
                    a = b.EarCut.splitPolygon(k,
                        g);
                    k = b.EarCut.filterPoints(k, k.next);
                    a = b.EarCut.filterPoints(a, a.next);
                    b.EarCut.earcutLinked(k, c, e, d, l, f);
                    b.EarCut.earcutLinked(a, c, e, d, l, f);
                    return
                }
                g = g.next
            }
            k = k.next
        } while (k !== a)
    };
    b.EarCut.eliminateHoles = function(a, c, e, d) {
        var k = [],
            f;
        var g = 0;
        for (f = c.length; g < f; g++) {
            var h = c[g] * d;
            var p = g < f - 1 ? c[g + 1] * d : a.length;
            h = b.EarCut.linkedList(a, h, p, d, !1);
            h === h.next && (h.steiner = !0);
            k.push(b.EarCut.getLeftmost(h))
        }
        k.sort(b.EarCut.compareX);
        for (g = 0; g < k.length; g++) b.EarCut.eliminateHole(k[g], e), e = b.EarCut.filterPoints(e,
            e.next);
        return e
    };
    b.EarCut.compareX = function(a, c) {
        return a.x - c.x
    };
    b.EarCut.eliminateHole = function(a, c) {
        if (c = b.EarCut.findHoleBridge(a, c)) a = b.EarCut.splitPolygon(c, a), b.EarCut.filterPoints(a, a.next)
    };
    b.EarCut.findHoleBridge = function(a, c) {
        var e = c,
            d = a.x,
            l = a.y,
            f = -Infinity;
        do {
            if (l <= e.y && l >= e.next.y) {
                var g = e.x + (l - e.y) * (e.next.x - e.x) / (e.next.y - e.y);
                if (g <= d && g > f) {
                    f = g;
                    var h = e.x < e.next.x ? e : e.next
                }
            }
            e = e.next
        } while (e !== c);
        if (!h) return null;
        if (a.x === h.x) return h.prev;
        c = h;
        g = Infinity;
        for (e = h.next; e !== c;) {
            if (d >= e.x &&
                e.x >= h.x && b.EarCut.pointInTriangle(l < h.y ? d : f, l, h.x, h.y, l < h.y ? f : d, l, e.x, e.y)) {
                var p = Math.abs(l - e.y) / (d - e.x);
                (p < g || p === g && e.x > h.x) && b.EarCut.locallyInside(e, a) && (h = e, g = p)
            }
            e = e.next
        }
        return h
    };
    b.EarCut.indexCurve = function(a, c, e, d) {
        var k = a;
        do null === k.z && (k.z = b.EarCut.zOrder(k.x, k.y, c, e, d)), k.prevZ = k.prev, k = k.nextZ = k.next; while (k !== a);
        k.prevZ.nextZ = null;
        k.prevZ = null;
        b.EarCut.sortLinked(k)
    };
    b.EarCut.sortLinked = function(a) {
        var c, e, b, d, f = 1;
        do {
            var g = a;
            var h = a = null;
            for (e = 0; g;) {
                e++;
                var p = g;
                for (c = b = 0; c < f && (b++,
                        p = p.nextZ, p); c++);
                for (d = f; 0 < b || 0 < d && p;) 0 === b ? (c = p, p = p.nextZ, d--) : 0 !== d && p ? g.z <= p.z ? (c = g, g = g.nextZ, b--) : (c = p, p = p.nextZ, d--) : (c = g, g = g.nextZ, b--), h ? h.nextZ = c : a = c, c.prevZ = h, h = c;
                g = p
            }
            h.nextZ = null;
            f *= 2
        } while (1 < e);
        return a
    };
    b.EarCut.zOrder = function(a, c, e, b, d) {
        a = 32767 * (a - e) / d;
        c = 32767 * (c - b) / d;
        a = (a | a << 8) & 16711935;
        a = (a | a << 4) & 252645135;
        a = (a | a << 2) & 858993459;
        c = (c | c << 8) & 16711935;
        c = (c | c << 4) & 252645135;
        c = (c | c << 2) & 858993459;
        return (a | a << 1) & 1431655765 | ((c | c << 1) & 1431655765) << 1
    };
    b.EarCut.getLeftmost = function(a) {
        var c = a,
            e = a;
        do c.x < e.x && (e = c), c = c.next; while (c !== a);
        return e
    };
    b.EarCut.pointInTriangle = function(a, c, e, b, d, f, g, h) {
        return 0 <= (d - g) * (c - h) - (a - g) * (f - h) && 0 <= (a - g) * (b - h) - (e - g) * (c - h) && 0 <= (e - g) * (f - h) - (d - g) * (b - h)
    };
    b.EarCut.isValidDiagonal = function(a, c) {
        return b.EarCut.equals(a, c) || a.next.i !== c.i && a.prev.i !== c.i && !b.EarCut.intersectsPolygon(a, c) && b.EarCut.locallyInside(a, c) && b.EarCut.locallyInside(c, a) && b.EarCut.middleInside(a, c)
    };
    b.EarCut.area = function(a, c, e) {
        return (c.y - a.y) * (e.x - c.x) - (c.x - a.x) * (e.y - c.y)
    };
    b.EarCut.equals =
        function(a, c) {
            return a.x === c.x && a.y === c.y
        };
    b.EarCut.intersects = function(a, c, e, d) {
        return 0 < b.EarCut.area(a, c, e) !== 0 < b.EarCut.area(a, c, d) && 0 < b.EarCut.area(e, d, a) !== 0 < b.EarCut.area(e, d, c)
    };
    b.EarCut.intersectsPolygon = function(a, c) {
        var e = a;
        do {
            if (e.i !== a.i && e.next.i !== a.i && e.i !== c.i && e.next.i !== c.i && b.EarCut.intersects(e, e.next, a, c)) return !0;
            e = e.next
        } while (e !== a);
        return !1
    };
    b.EarCut.locallyInside = function(a, c) {
        return 0 > b.EarCut.area(a.prev, a, a.next) ? 0 <= b.EarCut.area(a, c, a.next) && 0 <= b.EarCut.area(a, a.prev,
            c) : 0 > b.EarCut.area(a, c, a.prev) || 0 > b.EarCut.area(a, a.next, c)
    };
    b.EarCut.middleInside = function(a, c) {
        var e = a,
            b = !1,
            d = (a.x + c.x) / 2;
        c = (a.y + c.y) / 2;
        do e.y > c !== e.next.y > c && d < (e.next.x - e.x) * (c - e.y) / (e.next.y - e.y) + e.x && (b = !b), e = e.next; while (e !== a);
        return b
    };
    b.EarCut.splitPolygon = function(a, c) {
        var e = new b.EarCut.Node(a.i, a.x, a.y),
            d = new b.EarCut.Node(c.i, c.x, c.y),
            l = a.next,
            f = c.prev;
        a.next = c;
        c.prev = a;
        e.next = l;
        l.prev = e;
        d.next = e;
        e.prev = d;
        f.next = d;
        d.prev = f;
        return d
    };
    b.EarCut.insertNode = function(a, c, e, d) {
        a = new b.EarCut.Node(a,
            c, e);
        d ? (a.next = d.next, a.prev = d, d.next.prev = a, d.next = a) : (a.prev = a, a.next = a);
        return a
    };
    b.EarCut.removeNode = function(a) {
        a.next.prev = a.prev;
        a.prev.next = a.next;
        a.prevZ && (a.prevZ.nextZ = a.nextZ);
        a.nextZ && (a.nextZ.prevZ = a.prevZ)
    };
    b.EarCut.Node = function(a, c, e) {
        this.i = a;
        this.x = c;
        this.y = e;
        this.nextZ = this.prevZ = this.z = this.next = this.prev = null;
        this.steiner = !1
    };
    PIXI.WebGLGraphics = function() {};
    PIXI.WebGLGraphics.stencilBufferLimit = 6;
    PIXI.WebGLGraphics.renderGraphics = function(a, c) {
        var e = c.gl,
            d = c.projection,
            l = c.offset,
            f = c.shaderManager.primitiveShader;
        a.dirty && PIXI.WebGLGraphics.updateGraphics(a, e);
        var g = a._webGL[e.id];
        if (g)
            for (var h = 0; h < g.data.length; h++)
                if (1 === g.data[h].mode) {
                    var p = g.data[h];
                    c.stencilManager.pushStencil(a, p, c);
                    e.drawElements(e.TRIANGLE_FAN, 4, e.UNSIGNED_SHORT, 2 * (p.indices.length - 4));
                    c.stencilManager.popStencil(a, p, c)
                } else p = g.data[h], c.shaderManager.setShader(f), f = c.shaderManager.primitiveShader, e.uniformMatrix3fv(f.translationMatrix, !1, a.worldTransform.toArray(!0)), e.uniform1f(f.flipY, 1), e.uniform2f(f.projectionVector,
                    d.x, -d.y), e.uniform2f(f.offsetVector, -l.x, -l.y), e.uniform3fv(f.tintColor, b.Color.hexToRGBArray(a.tint)), e.uniform1f(f.alpha, a.worldAlpha), e.bindBuffer(e.ARRAY_BUFFER, p.buffer), e.vertexAttribPointer(f.aVertexPosition, 2, e.FLOAT, !1, 24, 0), e.vertexAttribPointer(f.colorAttribute, 4, e.FLOAT, !1, 24, 8), e.bindBuffer(e.ELEMENT_ARRAY_BUFFER, p.indexBuffer), e.drawElements(e.TRIANGLE_STRIP, p.indices.length, e.UNSIGNED_SHORT, 0)
    };
    PIXI.WebGLGraphics.updateGraphics = function(a, c) {
        var e = a._webGL[c.id];
        e || (e = a._webGL[c.id] = {
            lastIndex: 0,
            data: [],
            gl: c
        });
        a.dirty = !1;
        if (a.clearDirty) {
            a.clearDirty = !1;
            for (c = 0; c < e.data.length; c++) {
                var d = e.data[c];
                d.reset();
                PIXI.WebGLGraphics.graphicsDataPool.push(d)
            }
            e.data = [];
            e.lastIndex = 0
        }
        for (c = e.lastIndex; c < a.graphicsData.length; c++) {
            var l = a.graphicsData[c];
            l.type === b.POLYGON ? (l.points = l.shape.points.slice(), l.shape.closed && (l.points[0] !== l.points[l.points.length - 2] || l.points[1] !== l.points[l.points.length - 1]) && l.points.push(l.points[0], l.points[1]), l.fill && l.points.length >= PIXI.WebGLGraphics.stencilBufferLimit &&
                (l.points.length < 2 * PIXI.WebGLGraphics.stencilBufferLimit ? (d = PIXI.WebGLGraphics.switchMode(e, 0), PIXI.WebGLGraphics.buildPoly(l, d) || (d = PIXI.WebGLGraphics.switchMode(e, 1), PIXI.WebGLGraphics.buildComplexPoly(l, d))) : (d = PIXI.WebGLGraphics.switchMode(e, 1), PIXI.WebGLGraphics.buildComplexPoly(l, d))), 0 < l.lineWidth && (d = PIXI.WebGLGraphics.switchMode(e, 0), PIXI.WebGLGraphics.buildLine(l, d))) : (d = PIXI.WebGLGraphics.switchMode(e, 0), l.type === b.RECTANGLE ? PIXI.WebGLGraphics.buildRectangle(l, d) : l.type === b.CIRCLE || l.type ===
                b.ELLIPSE ? PIXI.WebGLGraphics.buildCircle(l, d) : l.type === b.ROUNDEDRECTANGLE && PIXI.WebGLGraphics.buildRoundedRectangle(l, d));
            e.lastIndex++
        }
        for (c = 0; c < e.data.length; c++) d = e.data[c], d.dirty && d.upload()
    };
    PIXI.WebGLGraphics.switchMode = function(a, c) {
        if (a.data.length) {
            var e = a.data[a.data.length - 1];
            if (e.mode !== c || 1 === c) e = PIXI.WebGLGraphics.graphicsDataPool.pop() || new PIXI.WebGLGraphicsData(a.gl), e.mode = c, a.data.push(e)
        } else e = PIXI.WebGLGraphics.graphicsDataPool.pop() || new PIXI.WebGLGraphicsData(a.gl), e.mode =
            c, a.data.push(e);
        e.dirty = !0;
        return e
    };
    PIXI.WebGLGraphics.buildRectangle = function(a, c) {
        var e = a.shape,
            d = e.x,
            l = e.y,
            f = e.width;
        e = e.height;
        if (a.fill) {
            var g = b.Color.hexToRGBArray(a.fillColor),
                h = a.fillAlpha,
                p = g[0] * h,
                r = g[1] * h;
            g = g[2] * h;
            var u = c.points,
                t = c.indices,
                v = u.length / 6;
            u.push(d, l);
            u.push(p, r, g, h);
            u.push(d + f, l);
            u.push(p, r, g, h);
            u.push(d, l + e);
            u.push(p, r, g, h);
            u.push(d + f, l + e);
            u.push(p, r, g, h);
            t.push(v, v, v + 1, v + 2, v + 3, v + 3)
        }
        a.lineWidth && (h = a.points, a.points = [d, l, d + f, l, d + f, l + e, d, l + e, d, l], PIXI.WebGLGraphics.buildLine(a,
            c), a.points = h)
    };
    PIXI.WebGLGraphics.buildRoundedRectangle = function(a, c) {
        var e = a.shape,
            d = e.x,
            l = e.y,
            f = e.width,
            g = e.height,
            h = e.radius;
        e = [];
        e.push(d, l + h);
        e = e.concat(PIXI.WebGLGraphics.quadraticBezierCurve(d, l + g - h, d, l + g, d + h, l + g));
        e = e.concat(PIXI.WebGLGraphics.quadraticBezierCurve(d + f - h, l + g, d + f, l + g, d + f, l + g - h));
        e = e.concat(PIXI.WebGLGraphics.quadraticBezierCurve(d + f, l + h, d + f, l, d + f - h, l));
        e = e.concat(PIXI.WebGLGraphics.quadraticBezierCurve(d + h, l, d, l, d, l + h));
        if (a.fill) {
            g = b.Color.hexToRGBArray(a.fillColor);
            d = a.fillAlpha;
            l = g[0] * d;
            f = g[1] * d;
            g = g[2] * d;
            h = c.points;
            var p = c.indices,
                r = h.length / 6,
                u = b.EarCut.Triangulate(e, null, 2),
                t;
            for (t = 0; t < u.length; t += 3) p.push(u[t] + r), p.push(u[t] + r), p.push(u[t + 1] + r), p.push(u[t + 2] + r), p.push(u[t + 2] + r);
            for (t = 0; t < e.length; t++) h.push(e[t], e[++t], l, f, g, d)
        }
        a.lineWidth && (d = a.points, a.points = e, PIXI.WebGLGraphics.buildLine(a, c), a.points = d)
    };
    PIXI.WebGLGraphics.quadraticBezierCurve = function(a, c, e, b, d, f) {
        for (var k, l, g, h, m = [], t, v = 0; 20 >= v; v++) t = v / 20, k = a + (e - a) * t, l = c + (b - c) * t, g = e + (d - e) * t, h = b + (f - b) * t, k += (g -
            k) * t, l += (h - l) * t, m.push(k, l);
        return m
    };
    PIXI.WebGLGraphics.buildCircle = function(a, c) {
        var e = a.shape,
            d = e.x,
            l = e.y,
            f;
        a.type === b.CIRCLE ? e = f = e.radius : (f = e.width, e = e.height);
        var g = 2 * Math.PI / 40;
        if (a.fill) {
            var h = b.Color.hexToRGBArray(a.fillColor);
            var p = a.fillAlpha,
                r = h[0] * p,
                u = h[1] * p,
                t = h[2] * p,
                v = c.points,
                w = c.indices,
                x = v.length / 6;
            w.push(x);
            for (h = 0; 41 > h; h++) v.push(d, l, r, u, t, p), v.push(d + Math.sin(g * h) * f, l + Math.cos(g * h) * e, r, u, t, p), w.push(x++, x++);
            w.push(x - 1)
        }
        if (a.lineWidth) {
            p = a.points;
            a.points = [];
            for (h = 0; 41 > h; h++) a.points.push(d +
                Math.sin(g * h) * f, l + Math.cos(g * h) * e);
            PIXI.WebGLGraphics.buildLine(a, c);
            a.points = p
        }
    };
    PIXI.WebGLGraphics.buildLine = function(a, c) {
        var e, d = a.points;
        if (0 !== d.length) {
            if (a.lineWidth % 2)
                for (e = 0; e < d.length; e++) d[e] += .5;
            e = new PIXI.Point(d[0], d[1]);
            var l = new PIXI.Point(d[d.length - 2], d[d.length - 1]);
            if (e.x === l.x && e.y === l.y) {
                d = d.slice();
                d.pop();
                d.pop();
                l = new PIXI.Point(d[d.length - 2], d[d.length - 1]);
                var f = l.x + .5 * (e.x - l.x);
                e = l.y + .5 * (e.y - l.y);
                d.unshift(f, e);
                d.push(f, e)
            }
            f = c.points;
            c = c.indices;
            l = d.length / 2;
            var g = d.length,
                h = f.length / 6,
                p = a.lineWidth / 2;
            e = b.Color.hexToRGBArray(a.lineColor);
            a = a.lineAlpha;
            var r = e[0] * a,
                u = e[1] * a,
                t = e[2] * a;
            var v = d[0];
            var w = d[1];
            var x = d[2];
            var y = d[3];
            var z = -(w - y);
            var B = v - x;
            var A = Math.sqrt(z * z + B * B);
            z = z / A * p;
            B = B / A * p;
            f.push(v - z, w - B, r, u, t, a);
            f.push(v + z, w + B, r, u, t, a);
            for (e = 1; e < l - 1; e++) {
                v = d[2 * (e - 1)];
                w = d[2 * (e - 1) + 1];
                x = d[2 * e];
                y = d[2 * e + 1];
                var C = d[2 * (e + 1)];
                var D = d[2 * (e + 1) + 1];
                z = -(w - y);
                B = v - x;
                A = Math.sqrt(z * z + B * B);
                z /= A;
                B /= A;
                z *= p;
                B *= p;
                var J = -(y - D);
                var E = x - C;
                A = Math.sqrt(J * J + E * E);
                J /= A;
                E /= A;
                J *= p;
                E *= p;
                A = -B + w - (-B +
                    y);
                var K = -z + x - (-z + v);
                v = (-z + v) * (-B + y) - (-z + x) * (-B + w);
                w = -E + D - (-E + y);
                var I = -J + x - (-J + C);
                C = (-J + C) * (-E + y) - (-J + x) * (-E + D);
                D = A * I - w * K;
                .1 > Math.abs(D) ? (f.push(x - z, y - B, r, u, t, a), f.push(x + z, y + B, r, u, t, a)) : (K = (K * C - I * v) / D, A = (w * v - A * C) / D, C = (K - x) * (K - x) + (A - y) + (A - y), 19600 < C ? (z -= J, B -= E, A = Math.sqrt(z * z + B * B), z /= A, B /= A, z *= p, B *= p, f.push(x - z, y - B), f.push(r, u, t, a), f.push(x + z, y + B), f.push(r, u, t, a), f.push(x - z, y - B), f.push(r, u, t, a), g++) : (f.push(K, A), f.push(r, u, t, a), f.push(x - (K - x), y - (A - y)), f.push(r, u, t, a)))
            }
            v = d[2 * (l - 2)];
            w = d[2 * (l - 2) + 1];
            x = d[2 * (l - 1)];
            y = d[2 * (l - 1) + 1];
            z = -(w - y);
            B = v - x;
            A = Math.sqrt(z * z + B * B);
            z = z / A * p;
            B = B / A * p;
            f.push(x - z, y - B);
            f.push(r, u, t, a);
            f.push(x + z, y + B);
            f.push(r, u, t, a);
            c.push(h);
            for (e = 0; e < g; e++) c.push(h++);
            c.push(h - 1)
        }
    };
    PIXI.WebGLGraphics.buildComplexPoly = function(a, c) {
        var e = a.points.slice();
        if (!(6 > e.length)) {
            var d = c.indices;
            c.points = e;
            c.alpha = a.fillAlpha;
            c.color = b.Color.hexToRGBArray(a.fillColor);
            c = Infinity;
            var l = -Infinity,
                f = Infinity,
                g = -Infinity;
            for (a = 0; a < e.length; a += 2) {
                var h = e[a];
                var p = e[a + 1];
                c = h < c ? h : c;
                l = h > l ? h : l;
                f = p < f ?
                    p : f;
                g = p > g ? p : g
            }
            e.push(c, f, l, f, l, g, c, g);
            e = e.length / 2;
            for (a = 0; a < e; a++) d.push(a)
        }
    };
    PIXI.WebGLGraphics.buildPoly = function(a, c) {
        var e = a.points;
        if (!(6 > e.length)) {
            var d = c.points;
            c = c.indices;
            var l = e.length / 2,
                f = b.Color.hexToRGBArray(a.fillColor);
            a = a.fillAlpha;
            var g = f[0] * a,
                h = f[1] * a;
            f = f[2] * a;
            var p = b.EarCut.Triangulate(e, null, 2);
            if (!p) return !1;
            var r = d.length / 6,
                u;
            for (u = 0; u < p.length; u += 3) c.push(p[u] + r), c.push(p[u] + r), c.push(p[u + 1] + r), c.push(p[u + 2] + r), c.push(p[u + 2] + r);
            for (u = 0; u < l; u++) d.push(e[2 * u], e[2 * u + 1], g, h, f,
                a);
            return !0
        }
    };
    PIXI.WebGLGraphics.graphicsDataPool = [];
    PIXI.WebGLGraphicsData = function(a) {
        this.gl = a;
        this.color = [0, 0, 0];
        this.points = [];
        this.indices = [];
        this.buffer = a.createBuffer();
        this.indexBuffer = a.createBuffer();
        this.alpha = this.mode = 1;
        this.dirty = !0
    };
    PIXI.WebGLGraphicsData.prototype.reset = function() {
        this.points = [];
        this.indices = []
    };
    PIXI.WebGLGraphicsData.prototype.upload = function() {
        var a = this.gl;
        this.glPoints = new Float32Array(this.points);
        a.bindBuffer(a.ARRAY_BUFFER, this.buffer);
        a.bufferData(a.ARRAY_BUFFER,
            this.glPoints, a.STATIC_DRAW);
        this.glIndicies = new Uint16Array(this.indices);
        a.bindBuffer(a.ELEMENT_ARRAY_BUFFER, this.indexBuffer);
        a.bufferData(a.ELEMENT_ARRAY_BUFFER, this.glIndicies, a.STATIC_DRAW);
        this.dirty = !1
    };
    PIXI.CanvasGraphics = function() {};
    PIXI.CanvasGraphics.renderGraphics = function(a, c) {
        var e = a.worldAlpha;
        a.dirty && (this.updateGraphicsTint(a), a.dirty = !1);
        for (var d = 0; d < a.graphicsData.length; d++) {
            var l = a.graphicsData[d],
                f = l.shape,
                g = l._fillTint,
                h = l._lineTint;
            c.lineWidth = l.lineWidth;
            if (l.type === b.POLYGON) {
                c.beginPath();
                var p = f.points;
                c.moveTo(p[0], p[1]);
                for (var r = 1; r < p.length / 2; r++) c.lineTo(p[2 * r], p[2 * r + 1]);
                f.closed && c.lineTo(p[0], p[1]);
                p[0] === p[p.length - 2] && p[1] === p[p.length - 1] && c.closePath();
                l.fill && (c.globalAlpha = l.fillAlpha * e, c.fillStyle = "#" + ("00000" + (g | 0).toString(16)).substr(-6), c.fill());
                l.lineWidth && (c.globalAlpha = l.lineAlpha * e, c.strokeStyle = "#" + ("00000" + (h | 0).toString(16)).substr(-6), c.stroke())
            } else if (l.type === b.RECTANGLE) {
                if (l.fillColor || 0 === l.fillColor) c.globalAlpha = l.fillAlpha * e, c.fillStyle = "#" + ("00000" +
                    (g | 0).toString(16)).substr(-6), c.fillRect(f.x, f.y, f.width, f.height);
                l.lineWidth && (c.globalAlpha = l.lineAlpha * e, c.strokeStyle = "#" + ("00000" + (h | 0).toString(16)).substr(-6), c.strokeRect(f.x, f.y, f.width, f.height))
            } else if (l.type === b.CIRCLE) c.beginPath(), c.arc(f.x, f.y, f.radius, 0, 2 * Math.PI), c.closePath(), l.fill && (c.globalAlpha = l.fillAlpha * e, c.fillStyle = "#" + ("00000" + (g | 0).toString(16)).substr(-6), c.fill()), l.lineWidth && (c.globalAlpha = l.lineAlpha * e, c.strokeStyle = "#" + ("00000" + (h | 0).toString(16)).substr(-6),
                c.stroke());
            else if (l.type === b.ELLIPSE) {
                var u = 2 * f.width;
                r = 2 * f.height;
                p = f.x - u / 2;
                f = f.y - r / 2;
                c.beginPath();
                var t = u / 2 * .5522848,
                    v = r / 2 * .5522848,
                    w = p + u,
                    x = f + r;
                u = p + u / 2;
                r = f + r / 2;
                c.moveTo(p, r);
                c.bezierCurveTo(p, r - v, u - t, f, u, f);
                c.bezierCurveTo(u + t, f, w, r - v, w, r);
                c.bezierCurveTo(w, r + v, u + t, x, u, x);
                c.bezierCurveTo(u - t, x, p, r + v, p, r);
                c.closePath();
                l.fill && (c.globalAlpha = l.fillAlpha * e, c.fillStyle = "#" + ("00000" + (g | 0).toString(16)).substr(-6), c.fill());
                l.lineWidth && (c.globalAlpha = l.lineAlpha * e, c.strokeStyle = "#" + ("00000" + (h | 0).toString(16)).substr(-6),
                    c.stroke())
            } else if (l.type === b.ROUNDEDRECTANGLE) {
                p = f.x;
                r = f.y;
                t = f.width;
                v = f.height;
                f = f.radius;
                w = Math.min(t, v) / 2 | 0;
                f = f > w ? w : f;
                c.beginPath();
                c.moveTo(p, r + f);
                c.lineTo(p, r + v - f);
                c.quadraticCurveTo(p, r + v, p + f, r + v);
                c.lineTo(p + t - f, r + v);
                c.quadraticCurveTo(p + t, r + v, p + t, r + v - f);
                c.lineTo(p + t, r + f);
                c.quadraticCurveTo(p + t, r, p + t - f, r);
                c.lineTo(p + f, r);
                c.quadraticCurveTo(p, r, p, r + f);
                c.closePath();
                if (l.fillColor || 0 === l.fillColor) c.globalAlpha = l.fillAlpha * e, c.fillStyle = "#" + ("00000" + (g | 0).toString(16)).substr(-6), c.fill();
                l.lineWidth &&
                    (c.globalAlpha = l.lineAlpha * e, c.strokeStyle = "#" + ("00000" + (h | 0).toString(16)).substr(-6), c.stroke())
            }
        }
    };
    PIXI.CanvasGraphics.renderGraphicsMask = function(a, c) {
        var e = a.graphicsData.length;
        if (0 !== e) {
            c.beginPath();
            for (var d = 0; d < e; d++) {
                var l = a.graphicsData[d],
                    f = l.shape;
                if (l.type === b.POLYGON) {
                    l = f.points;
                    c.moveTo(l[0], l[1]);
                    for (var g = 1; g < l.length / 2; g++) c.lineTo(l[2 * g], l[2 * g + 1]);
                    l[0] === l[l.length - 2] && l[1] === l[l.length - 1] && c.closePath()
                } else if (l.type === b.RECTANGLE) c.rect(f.x, f.y, f.width, f.height), c.closePath();
                else if (l.type === b.CIRCLE) c.arc(f.x, f.y, f.radius, 0, 2 * Math.PI), c.closePath();
                else if (l.type === b.ELLIPSE) {
                    var h = 2 * f.width;
                    g = 2 * f.height;
                    l = f.x - h / 2;
                    f = f.y - g / 2;
                    var p = h / 2 * .5522848,
                        r = g / 2 * .5522848,
                        u = l + h,
                        t = f + g;
                    h = l + h / 2;
                    g = f + g / 2;
                    c.moveTo(l, g);
                    c.bezierCurveTo(l, g - r, h - p, f, h, f);
                    c.bezierCurveTo(h + p, f, u, g - r, u, g);
                    c.bezierCurveTo(u, g + r, h + p, t, h, t);
                    c.bezierCurveTo(h - p, t, l, g + r, l, g);
                    c.closePath()
                } else l.type === b.ROUNDEDRECTANGLE && (l = f.x, g = f.y, p = f.width, r = f.height, f = f.radius, u = Math.min(p, r) / 2 | 0, f = f > u ? u : f, c.moveTo(l, g + f), c.lineTo(l,
                    g + r - f), c.quadraticCurveTo(l, g + r, l + f, g + r), c.lineTo(l + p - f, g + r), c.quadraticCurveTo(l + p, g + r, l + p, g + r - f), c.lineTo(l + p, g + f), c.quadraticCurveTo(l + p, g, l + p - f, g), c.lineTo(l + f, g), c.quadraticCurveTo(l, g, l, g + f), c.closePath())
            }
        }
    };
    PIXI.CanvasGraphics.updateGraphicsTint = function(a) {
        if (16777215 !== a.tint)
            for (var c = (a.tint >> 16 & 255) / 255, e = (a.tint >> 8 & 255) / 255, b = (a.tint & 255) / 255, d = 0; d < a.graphicsData.length; d++) {
                var f = a.graphicsData[d],
                    g = f.fillColor | 0,
                    h = f.lineColor | 0;
                f._fillTint = ((g >> 16 & 255) / 255 * c * 255 << 16) + ((g >> 8 & 255) / 255 *
                    e * 255 << 8) + (g & 255) / 255 * b * 255;
                f._lineTint = ((h >> 16 & 255) / 255 * c * 255 << 16) + ((h >> 8 & 255) / 255 * e * 255 << 8) + (h & 255) / 255 * b * 255
            }
    };
    b.GraphicsData = function(a, c, e, b, d, f, g) {
        this.lineWidth = a;
        this.lineColor = c;
        this.lineAlpha = e;
        this._lineTint = c;
        this.fillColor = b;
        this.fillAlpha = d;
        this._fillTint = b;
        this.fill = f;
        this.shape = g;
        this.type = g.type
    };
    b.GraphicsData.prototype.constructor = b.GraphicsData;
    b.GraphicsData.prototype.clone = function() {
        return new b.GraphicsData(this.lineWidth, this.lineColor, this.lineAlpha, this.fillColor, this.fillAlpha,
            this.fill, this.shape)
    };
    b.Graphics = function(a, c, e) {
        void 0 === c && (c = 0);
        void 0 === e && (e = 0);
        this.type = b.GRAPHICS;
        this.physicsType = b.SPRITE;
        this.anchor = new b.Point;
        PIXI.DisplayObjectContainer.call(this);
        this.renderable = !0;
        this.fillAlpha = 1;
        this.lineColor = this.lineWidth = 0;
        this.graphicsData = [];
        this.tint = 16777215;
        this.blendMode = PIXI.blendModes.NORMAL;
        this.currentPath = null;
        this._webGL = [];
        this.isMask = !1;
        this.boundsPadding = 0;
        this._localBounds = new b.Rectangle(0, 0, 1, 1);
        this.dirty = !0;
        this.cachedSpriteDirty = this.webGLDirty =
            this._boundsDirty = !1;
        b.Component.Core.init.call(this, a, c, e, "", null)
    };
    b.Graphics.prototype = Object.create(PIXI.DisplayObjectContainer.prototype);
    b.Graphics.prototype.constructor = b.Graphics;
    b.Component.Core.install.call(b.Graphics.prototype, "Angle AutoCull Bounds Destroy FixedToCamera InputEnabled InWorld LifeSpan PhysicsBody Reset".split(" "));
    b.Graphics.prototype.preUpdatePhysics = b.Component.PhysicsBody.preUpdate;
    b.Graphics.prototype.preUpdateLifeSpan = b.Component.LifeSpan.preUpdate;
    b.Graphics.prototype.preUpdateInWorld =
        b.Component.InWorld.preUpdate;
    b.Graphics.prototype.preUpdateCore = b.Component.Core.preUpdate;
    b.Graphics.prototype.preUpdate = function() {
        return this.preUpdatePhysics() && this.preUpdateLifeSpan() && this.preUpdateInWorld() ? this.preUpdateCore() : !1
    };
    b.Graphics.prototype.postUpdate = function() {
        b.Component.PhysicsBody.postUpdate.call(this);
        b.Component.FixedToCamera.postUpdate.call(this);
        this._boundsDirty && (this.updateLocalBounds(), this._boundsDirty = !1);
        for (var a = 0; a < this.children.length; a++) this.children[a].postUpdate()
    };
    b.Graphics.prototype.destroy = function(a) {
        this.clear();
        b.Component.Destroy.prototype.destroy.call(this, a)
    };
    b.Graphics.prototype.drawTriangle = function(a, c) {
        void 0 === c && (c = !1);
        var e = new b.Polygon(a);
        if (c) {
            c = new b.Point(this.game.camera.x - a[0].x, this.game.camera.y - a[0].y);
            var d = new b.Point(a[1].x - a[0].x, a[1].y - a[0].y);
            a = (new b.Point(a[1].x - a[2].x, a[1].y - a[2].y)).cross(d);
            0 < c.dot(a) && this.drawPolygon(e)
        } else this.drawPolygon(e)
    };
    b.Graphics.prototype.drawTriangles = function(a, c, e) {
        void 0 === e && (e = !1);
        var d =
            new b.Point,
            l = new b.Point,
            f = new b.Point,
            g = [],
            h;
        if (c)
            if (a[0] instanceof b.Point)
                for (h = 0; h < c.length / 3; h++) g.push(a[c[3 * h]]), g.push(a[c[3 * h + 1]]), g.push(a[c[3 * h + 2]]), 3 === g.length && (this.drawTriangle(g, e), g = []);
            else
                for (h = 0; h < c.length; h++) d.x = a[2 * c[h]], d.y = a[2 * c[h] + 1], g.push(d.copyTo({})), 3 === g.length && (this.drawTriangle(g, e), g = []);
        else if (a[0] instanceof b.Point)
            for (h = 0; h < a.length / 3; h++) this.drawTriangle([a[3 * h], a[3 * h + 1], a[3 * h + 2]], e);
        else
            for (h = 0; h < a.length / 6; h++) d.x = a[6 * h + 0], d.y = a[6 * h + 1], l.x = a[6 * h + 2],
                l.y = a[6 * h + 3], f.x = a[6 * h + 4], f.y = a[6 * h + 5], this.drawTriangle([d, l, f], e)
    };
    b.Graphics.prototype.lineStyle = function(a, c, e) {
        this.lineWidth = a || 0;
        this.lineColor = c || 0;
        this.lineAlpha = void 0 === e ? 1 : e;
        this.currentPath && (this.currentPath.shape.points.length ? this.drawShape(new b.Polygon(this.currentPath.shape.points.slice(-2))) : (this.currentPath.lineWidth = this.lineWidth, this.currentPath.lineColor = this.lineColor, this.currentPath.lineAlpha = this.lineAlpha));
        return this
    };
    b.Graphics.prototype.moveTo = function(a, c) {
        this.drawShape(new b.Polygon([a,
            c
        ]));
        return this
    };
    b.Graphics.prototype.lineTo = function(a, c) {
        this.currentPath || this.moveTo(0, 0);
        this.currentPath.shape.points.push(a, c);
        this._boundsDirty = this.dirty = !0;
        return this
    };
    b.Graphics.prototype.quadraticCurveTo = function(a, c, e, b) {
        this.currentPath ? 0 === this.currentPath.shape.points.length && (this.currentPath.shape.points = [0, 0]) : this.moveTo(0, 0);
        var d = this.currentPath.shape.points;
        0 === d.length && this.moveTo(0, 0);
        for (var k = d[d.length - 2], f = d[d.length - 1], g, h = 1; 20 >= h; ++h) {
            g = h / 20;
            var r = k + (a - k) * g;
            var u =
                f + (c - f) * g;
            d.push(r + (a + (e - a) * g - r) * g, u + (c + (b - c) * g - u) * g)
        }
        this._boundsDirty = this.dirty = !0;
        return this
    };
    b.Graphics.prototype.bezierCurveTo = function(a, c, e, b, d, f) {
        this.currentPath ? 0 === this.currentPath.shape.points.length && (this.currentPath.shape.points = [0, 0]) : this.moveTo(0, 0);
        for (var k, l, g, h, m, t = this.currentPath.shape.points, v = t[t.length - 2], w = t[t.length - 1], x, y = 1; 20 >= y; ++y) x = y / 20, k = 1 - x, l = k * k, g = l * k, h = x * x, m = h * x, t.push(g * v + 3 * l * x * a + 3 * k * h * e + m * d, g * w + 3 * l * x * c + 3 * k * h * b + m * f);
        this._boundsDirty = this.dirty = !0;
        return this
    };
    b.Graphics.prototype.arcTo = function(a, c, e, b, d) {
        this.currentPath ? 0 === this.currentPath.shape.points.length && this.currentPath.shape.points.push(a, c) : this.moveTo(a, c);
        var k = this.currentPath.shape.points,
            l = k[k.length - 1] - c,
            f = k[k.length - 2] - a;
        b -= c;
        e -= a;
        var g = Math.abs(l * e - f * b);
        if (1E-8 > g || 0 === d) k[k.length - 2] === a && k[k.length - 1] === c || k.push(a, c);
        else {
            var h = l * l + f * f,
                u = b * b + e * e,
                t = l * b + f * e;
            k = d * Math.sqrt(h) / g;
            g = d * Math.sqrt(u) / g;
            h = k * t / h;
            u = g * t / u;
            t = k * e + g * f;
            var v = k * b + g * l;
            this.arc(t + a, v + c, d, Math.atan2(l * (g + h) - v, f * (g + h) -
                t), Math.atan2(b * (k + u) - v, e * (k + u) - t), f * b > e * l)
        }
        this._boundsDirty = this.dirty = !0;
        return this
    };
    b.Graphics.prototype.arc = function(a, c, e, b, d, f, g) {
        if (b === d) return this;
        void 0 === f && (f = !1);
        void 0 === g && (g = 40);
        !f && d <= b ? d += 2 * Math.PI : f && b <= d && (b += 2 * Math.PI);
        d = f ? -1 * (b - d) : d - b;
        var k = Math.ceil(Math.abs(d) / (2 * Math.PI)) * g;
        if (0 === d) return this;
        g = a + Math.cos(b) * e;
        var l = c + Math.sin(b) * e;
        f && this.filling ? this.moveTo(a, c) : this.moveTo(g, l);
        f = this.currentPath.shape.points;
        d /= 2 * k;
        g = 2 * d;
        l = Math.cos(d);
        var h = Math.sin(d);
        --k;
        for (var m =
                k % 1 / k, q = 0; q <= k; q++) {
            var v = d + b + g * (q + m * q),
                w = Math.cos(v);
            v = -Math.sin(v);
            f.push((l * w + h * v) * e + a, (l * -v + h * w) * e + c)
        }
        this._boundsDirty = this.dirty = !0;
        return this
    };
    b.Graphics.prototype.beginFill = function(a, c) {
        this.filling = !0;
        this.fillColor = a || 0;
        this.fillAlpha = void 0 === c ? 1 : c;
        this.currentPath && 2 >= this.currentPath.shape.points.length && (this.currentPath.fill = this.filling, this.currentPath.fillColor = this.fillColor, this.currentPath.fillAlpha = this.fillAlpha);
        return this
    };
    b.Graphics.prototype.endFill = function() {
        this.filling = !1;
        this.fillColor = null;
        this.fillAlpha = 1;
        return this
    };
    b.Graphics.prototype.drawRect = function(a, c, e, d) {
        this.drawShape(new b.Rectangle(a, c, e, d));
        return this
    };
    b.Graphics.prototype.drawRoundedRect = function(a, c, e, d, f) {
        this.drawShape(new b.RoundedRectangle(a, c, e, d, f));
        return this
    };
    b.Graphics.prototype.drawCircle = function(a, c, e) {
        this.drawShape(new b.Circle(a, c, e));
        return this
    };
    b.Graphics.prototype.drawEllipse = function(a, c, e, d) {
        this.drawShape({
            x: a,
            y: c,
            width: e,
            height: d,
            type: b.ELLIPSE
        });
        return this
    };
    b.Graphics.prototype.drawPolygon =
        function(a) {
            a instanceof b.Polygon && (a = a.points);
            var c = a;
            if (!Array.isArray(c)) {
                c = Array(arguments.length);
                for (var e = 0; e < c.length; ++e) c[e] = arguments[e]
            }
            this.drawShape(new b.Polygon(c));
            return this
        };
    b.Graphics.prototype.clear = function() {
        this.lineWidth = 0;
        this.filling = !1;
        this.clearDirty = this._boundsDirty = this.dirty = !0;
        this.graphicsData = [];
        this.updateLocalBounds();
        return this
    };
    b.Graphics.prototype.generateTexture = function(a, c, e) {
        void 0 === a && (a = 1);
        void 0 === c && (c = PIXI.scaleModes.DEFAULT);
        void 0 === e && (e = 0);
        var b = this.getBounds();
        b.width += e;
        b.height += e;
        e = new PIXI.CanvasBuffer(b.width * a, b.height * a);
        c = PIXI.Texture.fromCanvas(e.canvas, c);
        c.baseTexture.resolution = a;
        e.context.scale(a, a);
        e.context.translate(-b.x, -b.y);
        PIXI.CanvasGraphics.renderGraphics(this, e.context);
        return c
    };
    b.Graphics.prototype._renderWebGL = function(a) {
        if (!1 !== this.visible && 0 !== this.alpha && !0 !== this.isMask)
            if (this._cacheAsBitmap) {
                if (this.dirty || this.cachedSpriteDirty) this._generateCachedSprite(), this.updateCachedSpriteTexture(), this.dirty =
                    this.cachedSpriteDirty = !1;
                this._cachedSprite.worldAlpha = this.worldAlpha;
                PIXI.Sprite.prototype._renderWebGL.call(this._cachedSprite, a)
            } else {
                a.spriteBatch.stop();
                a.blendModeManager.setBlendMode(this.blendMode);
                this._mask && a.maskManager.pushMask(this._mask, a);
                this._filters && a.filterManager.pushFilter(this._filterBlock);
                if (this.blendMode !== a.spriteBatch.currentBlendMode) {
                    a.spriteBatch.currentBlendMode = this.blendMode;
                    var c = PIXI.blendModesWebGL[a.spriteBatch.currentBlendMode];
                    a.spriteBatch.gl.blendFunc(c[0],
                        c[1])
                }
                this.webGLDirty && (this.dirty = !0, this.webGLDirty = !1);
                PIXI.WebGLGraphics.renderGraphics(this, a);
                if (this.children.length) {
                    a.spriteBatch.start();
                    for (c = 0; c < this.children.length; c++) this.children[c]._renderWebGL(a);
                    a.spriteBatch.stop()
                }
                this._filters && a.filterManager.popFilter();
                this._mask && a.maskManager.popMask(this.mask, a);
                a.drawCount++;
                a.spriteBatch.start()
            }
    };
    b.Graphics.prototype._renderCanvas = function(a) {
        if (!1 !== this.visible && 0 !== this.alpha && !0 !== this.isMask)
            if (this._prevTint !== this.tint && (this.dirty = !0, this._prevTint = this.tint), this._cacheAsBitmap) {
                if (this.dirty || this.cachedSpriteDirty) this._generateCachedSprite(), this.updateCachedSpriteTexture(), this.dirty = this.cachedSpriteDirty = !1;
                this._cachedSprite.alpha = this.alpha;
                PIXI.Sprite.prototype._renderCanvas.call(this._cachedSprite, a)
            } else {
                var c = a.context,
                    e = this.worldTransform;
                this.blendMode !== a.currentBlendMode && (a.currentBlendMode = this.blendMode, c.globalCompositeOperation = PIXI.blendModesCanvas[a.currentBlendMode]);
                this._mask && a.maskManager.pushMask(this._mask,
                    a);
                var b = a.resolution;
                c.setTransform(e.a * b, e.b * b, e.c * b, e.d * b, e.tx * a.resolution + a.shakeX, e.ty * a.resolution + a.shakeY);
                PIXI.CanvasGraphics.renderGraphics(this, c);
                for (c = 0; c < this.children.length; c++) this.children[c]._renderCanvas(a);
                this._mask && a.maskManager.popMask(a)
            }
    };
    b.Graphics.prototype.getBounds = function(a) {
        if (this._currentBounds) return this._currentBounds;
        if (!this.renderable) return b.EmptyRectangle;
        this.dirty && (this.updateLocalBounds(), this.cachedSpriteDirty = this.webGLDirty = !0, this.dirty = !1);
        var c =
            this._localBounds,
            e = c.x,
            d = c.width + c.x,
            f = c.y,
            g = c.height + c.y;
        a = a || this.worldTransform;
        var h = a.a,
            n = a.b,
            p = a.c,
            r = a.d,
            u = a.tx,
            t = a.ty,
            v = h * d + p * g + u;
        c = r * g + n * d + t;
        a = h * e + p * g + u;
        g = r * g + n * e + t;
        var w = h * e + p * f + u;
        e = r * f + n * e + t;
        h = h * d + p * f + u;
        d = r * f + n * d + t;
        f = v;
        n = c;
        v = a < v ? a : v;
        v = w < v ? w : v;
        v = h < v ? h : v;
        c = g < c ? g : c;
        c = e < c ? e : c;
        c = d < c ? d : c;
        f = a > f ? a : f;
        f = w > f ? w : f;
        n = g > n ? g : n;
        n = e > n ? e : n;
        this._bounds.x = v;
        this._bounds.width = (h > f ? h : f) - v;
        this._bounds.y = c;
        this._bounds.height = (d > n ? d : n) - c;
        return this._currentBounds = this._bounds
    };
    b.Graphics.prototype.getLocalBounds =
        function() {
            var a = this.worldTransform;
            this.worldTransform = b.identityMatrix;
            for (var c = 0; c < this.children.length; c++) this.children[c].updateTransform();
            var e = this.getBounds();
            this.worldTransform = a;
            for (c = 0; c < this.children.length; c++) this.children[c].updateTransform();
            return e
        };
    b.Graphics.prototype.containsPoint = function(a, c) {
        void 0 === c && (c = new b.Point);
        this.worldTransform.applyInverse(a, c);
        a = this.graphicsData;
        for (var e = 0; e < a.length; e++) {
            var d = a[e];
            if (d.fill && d.shape && d.shape.contains(c.x, c.y)) return !0
        }
        return !1
    };
    b.Graphics.prototype.updateLocalBounds = function() {
        var a = Infinity,
            c = -Infinity,
            e = Infinity,
            d = -Infinity;
        if (this.graphicsData.length)
            for (var f, g, h, n, p, r = 0; r < this.graphicsData.length; r++)
                if (h = this.graphicsData[r], g = h.type, p = h.lineWidth, f = h.shape, g === b.RECTANGLE || g === b.ROUNDEDRECTANGLE) g = f.x - p / 2, h = f.y - p / 2, n = f.width + p, p = f.height + p, a = g < a ? g : a, c = g + n > c ? g + n : c, e = h < e ? h : e, d = h + p > d ? h + p : d;
                else if (g === b.CIRCLE) g = f.x, h = f.y, n = f.radius + p / 2, p = f.radius + p / 2, a = g - n < a ? g - n : a, c = g + n > c ? g + n : c, e = h - p < e ? h - p : e, d = h + p > d ? h + p : d;
        else if (g ===
            b.ELLIPSE) g = f.x, h = f.y, n = f.width + p / 2, p = f.height + p / 2, a = g - n < a ? g - n : a, c = g + n > c ? g + n : c, e = h - p < e ? h - p : e, d = h + p > d ? h + p : d;
        else
            for (f = f.points, n = 0; n < f.length; n++) f[n] instanceof b.Point ? (g = f[n].x, h = f[n].y) : (g = f[n], h = f[n + 1], n < f.length - 1 && n++), a = g - p < a ? g - p : a, c = g + p > c ? g + p : c, e = h - p < e ? h - p : e, d = h + p > d ? h + p : d;
        else d = e = c = a = 0;
        r = this.boundsPadding;
        this._localBounds.x = a - r;
        this._localBounds.width = c - a + 2 * r;
        this._localBounds.y = e - r;
        this._localBounds.height = d - e + 2 * r
    };
    b.Graphics.prototype._generateCachedSprite = function() {
        var a = this.getLocalBounds();
        if (this._cachedSprite) this._cachedSprite.buffer.resize(a.width, a.height);
        else {
            var c = new PIXI.CanvasBuffer(a.width, a.height),
                e = PIXI.Texture.fromCanvas(c.canvas);
            this._cachedSprite = new PIXI.Sprite(e);
            this._cachedSprite.buffer = c;
            this._cachedSprite.worldTransform = this.worldTransform
        }
        this._cachedSprite.anchor.x = -(a.x / a.width);
        this._cachedSprite.anchor.y = -(a.y / a.height);
        this._cachedSprite.buffer.context.translate(-a.x, -a.y);
        this.worldAlpha = 1;
        PIXI.CanvasGraphics.renderGraphics(this, this._cachedSprite.buffer.context);
        this._cachedSprite.alpha = this.alpha
    };
    b.Graphics.prototype.updateCachedSpriteTexture = function() {
        var a = this._cachedSprite,
            c = a.texture,
            e = a.buffer.canvas;
        c.baseTexture.width = e.width;
        c.baseTexture.height = e.height;
        c.crop.width = c.frame.width = e.width;
        c.crop.height = c.frame.height = e.height;
        a._width = e.width;
        a._height = e.height;
        c.baseTexture.dirty()
    };
    b.Graphics.prototype.destroyCachedSprite = function() {
        this._cachedSprite.texture.destroy(!0);
        this._cachedSprite = null
    };
    b.Graphics.prototype.drawShape = function(a) {
        this.currentPath &&
            2 >= this.currentPath.shape.points.length && this.graphicsData.pop();
        this.currentPath = null;
        a instanceof b.Polygon && (a = a.clone(), a.flatten());
        a = new b.GraphicsData(this.lineWidth, this.lineColor, this.lineAlpha, this.fillColor, this.fillAlpha, this.filling, a);
        this.graphicsData.push(a);
        a.type === b.POLYGON && (a.shape.closed = this.filling, this.currentPath = a);
        this._boundsDirty = this.dirty = !0;
        return a
    };
    Object.defineProperty(b.Graphics.prototype, "cacheAsBitmap", {
        get: function() {
            return this._cacheAsBitmap
        },
        set: function(a) {
            (this._cacheAsBitmap =
                a) ? this._generateCachedSprite(): this.destroyCachedSprite();
            this.webGLDirty = this.dirty = !0
        }
    });
    b.RenderTexture = function(a, c, e, d, f, g, h, n) {
        void 0 === c && (c = 100);
        void 0 === e && (e = 100);
        void 0 === d && (d = "");
        void 0 === f && (f = b.scaleModes.DEFAULT);
        void 0 === g && (g = 1);
        void 0 === h && (h = PIXI.defaultRenderer);
        void 0 === n && (n = 0);
        this.game = a;
        this.key = d;
        this.type = b.RENDERTEXTURE;
        this._tempMatrix = new b.Matrix;
        this.width = c;
        this.height = e;
        this.resolution = g;
        this.frame = new b.Rectangle(0, 0, this.width * this.resolution, this.height * this.resolution);
        this.crop = this.frame.clone();
        this.baseTexture = new PIXI.BaseTexture;
        this.baseTexture.width = this.width * this.resolution;
        this.baseTexture.height = this.height * this.resolution;
        this.baseTexture._glTextures = [];
        this.baseTexture.resolution = this.resolution;
        this.baseTexture.scaleMode = f;
        this.baseTexture.hasLoaded = !0;
        PIXI.Texture.call(this, this.baseTexture, this.frame.clone());
        this.renderer = h;
        this.renderer.type === b.WEBGL ? (a = this.renderer.gl, this.baseTexture.textureIndex = n, this.baseTexture._dirty[a.id] = !1, this.textureBuffer =
            new PIXI.FilterTexture(a, this.width, this.height, this.baseTexture.scaleMode, n), this.baseTexture._glTextures[a.id] = this.textureBuffer.texture, this.projection = new b.Point(.5 * this.width, .5 * -this.height)) : (this.textureBuffer = new PIXI.CanvasBuffer(this.width * this.resolution, this.height * this.resolution), this.baseTexture.source = this.textureBuffer.canvas);
        this.valid = !0;
        this.tempMatrix = new b.Matrix;
        this._updateUvs()
    };
    b.RenderTexture.prototype = Object.create(PIXI.Texture.prototype);
    b.RenderTexture.prototype.constructor =
        b.RenderTexture;
    b.RenderTexture.prototype.renderXY = function(a, c, e, d) {
        a.updateTransform();
        this._tempMatrix.copyFrom(a.worldTransform);
        this._tempMatrix.tx = c;
        this._tempMatrix.ty = e;
        this.renderer.type === b.WEBGL ? this._renderWebGL(a, this._tempMatrix, d) : this._renderCanvas(a, this._tempMatrix, d)
    };
    b.RenderTexture.prototype.renderRawXY = function(a, c, e, d) {
        this._tempMatrix.identity().translate(c, e);
        this.renderer.type === b.WEBGL ? this._renderWebGL(a, this._tempMatrix, d) : this._renderCanvas(a, this._tempMatrix, d)
    };
    b.RenderTexture.prototype.render =
        function(a, c, e) {
            void 0 === c || null === c ? this._tempMatrix.copyFrom(a.worldTransform) : this._tempMatrix.copyFrom(c);
            this.renderer.type === b.WEBGL ? this._renderWebGL(a, this._tempMatrix, e) : this._renderCanvas(a, this._tempMatrix, e)
        };
    b.RenderTexture.prototype.resize = function(a, c, e) {
        if (a !== this.width || c !== this.height) this.valid = 0 < a && 0 < c, this.width = a, this.height = c, this.frame.width = this.crop.width = a * this.resolution, this.frame.height = this.crop.height = c * this.resolution, e && (this.baseTexture.width = this.width * this.resolution,
            this.baseTexture.height = this.height * this.resolution), this.renderer.type === b.WEBGL && (this.projection.x = this.width / 2, this.projection.y = -this.height / 2), this.valid && this.textureBuffer.resize(this.width, this.height)
    };
    b.RenderTexture.prototype.clear = function() {
        this.valid && (this.renderer.type === b.WEBGL && this.renderer.gl.bindFramebuffer(this.renderer.gl.FRAMEBUFFER, this.textureBuffer.frameBuffer), this.textureBuffer.clear())
    };
    b.RenderTexture.prototype._renderWebGL = function(a, c, e) {
        if (this.valid && 0 !== a.alpha) {
            var b =
                a.worldTransform;
            b.identity();
            b.translate(0, 2 * this.projection.y);
            c && b.append(c);
            b.scale(1, -1);
            for (b = 0; b < a.children.length; b++) a.children[b].updateTransform();
            b = this.renderer.gl;
            b.viewport(0, 0, this.width * this.resolution, this.height * this.resolution);
            b.bindFramebuffer(b.FRAMEBUFFER, this.textureBuffer.frameBuffer);
            e && this.textureBuffer.clear();
            this.renderer.spriteBatch.dirty = !0;
            this.renderer.renderDisplayObject(a, this.projection, this.textureBuffer.frameBuffer, c);
            this.renderer.spriteBatch.dirty = !0;
            b.bindFramebuffer(b.FRAMEBUFFER,
                null)
        }
    };
    b.RenderTexture.prototype._renderCanvas = function(a, c, e) {
        if (this.valid && 0 !== a.alpha) {
            var b = a.worldTransform;
            b.identity();
            c && b.append(c);
            for (b = 0; b < a.children.length; b++) a.children[b].updateTransform();
            e && this.textureBuffer.clear();
            e = this.renderer.resolution;
            this.renderer.resolution = this.resolution;
            this.renderer.renderDisplayObject(a, this.textureBuffer.context, c);
            this.renderer.resolution = e
        }
    };
    b.RenderTexture.prototype.getImage = function() {
        var a = new Image;
        a.src = this.getBase64();
        return a
    };
    b.RenderTexture.prototype.getBase64 =
        function() {
            return this.getCanvas().toDataURL()
        };
    b.RenderTexture.prototype.getCanvas = function() {
        if (this.renderer.type === b.WEBGL) {
            var a = this.renderer.gl,
                c = this.textureBuffer.width,
                e = this.textureBuffer.height,
                d = new Uint8Array(4 * c * e);
            a.bindFramebuffer(a.FRAMEBUFFER, this.textureBuffer.frameBuffer);
            a.readPixels(0, 0, c, e, a.RGBA, a.UNSIGNED_BYTE, d);
            a.bindFramebuffer(a.FRAMEBUFFER, null);
            a = new PIXI.CanvasBuffer(c, e);
            c = a.context.getImageData(0, 0, c, e);
            c.data.set(d);
            a.context.putImageData(c, 0, 0);
            return a.canvas
        }
        return this.textureBuffer.canvas
    };
    b.Text = function(a, c, e, d, f) {
        c = c || 0;
        e = e || 0;
        d = void 0 === d || null === d ? "" : d.toString();
        this.canvas = b.CanvasPool.create(this);
        b.Sprite.call(this, a, c, e, PIXI.Texture.fromCanvas(this.canvas));
        this.type = b.TEXT;
        this.physicsType = b.SPRITE;
        this.padding = new b.Point;
        this.textBounds = null;
        this.context = this.canvas.getContext("2d");
        this.colors = [];
        this.strokeColors = [];
        this.fontStyles = [];
        this.fontWeights = [];
        this.useAdvancedWrap = this.autoRound = !1;
        this.splitRegExp = /(?:\r\n|\r|\n)/;
        this.characterLimitSize = -1;
        this.characterLimitSuffix =
            "";
        this._testString = "|M\u00c9q";
        this._res = a.renderer.resolution;
        this._text = d;
        this._fontComponents = null;
        this._height = this._width = this._charCount = this._lineSpacing = 0;
        this.style = {};
        this.setStyle(f || {});
        "" !== d && this.updateText()
    };
    b.Text.prototype = Object.create(b.Sprite.prototype);
    b.Text.prototype.constructor = b.Text;
    b.Text.prototype.preUpdate = function() {
        return this.preUpdatePhysics() && this.preUpdateLifeSpan() && this.preUpdateInWorld() ? this.preUpdateCore() : !1
    };
    b.Text.prototype.update = function() {};
    b.Text.prototype.destroy =
        function(a) {
            this.texture.destroy(!0);
            b.Component.Destroy.prototype.destroy.call(this, a)
        };
    b.Text.prototype.setShadow = function(a, c, e, b, d, f) {
        void 0 === a && (a = 0);
        void 0 === c && (c = 0);
        void 0 === e && (e = "rgba(0, 0, 0, 1)");
        void 0 === b && (b = 0);
        void 0 === d && (d = !0);
        void 0 === f && (f = !0);
        this.style.shadowOffsetX = a;
        this.style.shadowOffsetY = c;
        this.style.shadowColor = e;
        this.style.shadowBlur = b;
        this.style.shadowStroke = d;
        this.style.shadowFill = f;
        this.dirty = !0;
        return this
    };
    b.Text.prototype.setStyle = function(a, c) {
        void 0 === c && (c = !1);
        var e = Object.assign({}, a);
        e.font = a.font || "bold 20pt Arial";
        e.backgroundColor = a.backgroundColor || null;
        e.fill = a.fill || "black";
        e.align = (a.align || "left").toLowerCase();
        e.boundsAlignH = (a.boundsAlignH || "left").toLowerCase();
        e.boundsAlignV = (a.boundsAlignV || "top").toLowerCase();
        e.stroke = a.stroke || "black";
        e.strokeThickness = Number(a.strokeThickness) || 0;
        e.wordWrap = a.wordWrap || !1;
        e.wordWrapWidth = a.wordWrapWidth || 100;
        e.maxLines = a.maxLines || 0;
        e.shadowOffsetX = a.shadowOffsetX || 0;
        e.shadowOffsetY = a.shadowOffsetY ||
            0;
        e.shadowColor = a.shadowColor || "rgba(0,0,0,0)";
        e.shadowBlur = a.shadowBlur || 0;
        e.tabs = a.tabs || 0;
        a = this.fontToComponents(e.font);
        e.fontStyle && (a.fontStyle = e.fontStyle);
        e.fontVariant && (a.fontVariant = e.fontVariant);
        e.fontWeight && (a.fontWeight = e.fontWeight);
        e.fontSize && ("number" === typeof e.fontSize && (e.fontSize += "px"), a.fontSize = e.fontSize);
        this._fontComponents = a;
        e.font = this.componentsToFont(this._fontComponents);
        this.style = e;
        this.dirty = !0;
        c && this.updateText();
        return this
    };
    b.Text.prototype.updateText = function() {
        this.texture.baseTexture.resolution =
            this._res;
        this.context.font = this.style.font;
        var a = this.text; - 1 < this.characterLimitSize && this.characterLimitSize < a.length && (a = this.text.substring(0, this.characterLimitSize) + this.characterLimitSuffix);
        this.style.wordWrap && (a = this.runWordWrap(this.text));
        a = a.split(this.splitRegExp);
        var c = this.style.tabs,
            e = [],
            b = 0,
            d = this.determineFontProperties(this.style.font),
            f = a.length;
        0 < this.style.maxLines && this.style.maxLines < a.length && (f = this.style.maxLines);
        for (var g = this._charCount = 0; g < f; g++) {
            if (0 === c) {
                var h = this.style.strokeThickness +
                    this.padding.x;
                h = 0 < this.colors.length || 0 < this.strokeColors.length || 0 < this.fontWeights.length || 0 < this.fontStyles.length ? h + this.measureLine(a[g]) : h + this.context.measureText(a[g]).width;
                this.style.wordWrap && (h -= this.context.measureText(" ").width)
            } else {
                var p = a[g].split(/(?:\t)/);
                h = this.padding.x + this.style.strokeThickness;
                if (Array.isArray(c))
                    for (var r = 0, u = 0; u < p.length; u++) h = 0 < this.colors.length || 0 < this.strokeColors.length || 0 < this.fontWeights.length || 0 < this.fontStyles.length ? this.measureLine(p[u]) : Math.ceil(this.context.measureText(p[u]).width),
                        0 < u && (r += c[u - 1]), h = r + h;
                else
                    for (u = 0; u < p.length; u++) h = 0 < this.colors.length || 0 < this.strokeColors.length || 0 < this.fontWeights.length || 0 < this.fontStyles.length ? h + this.measureLine(p[u]) : h + Math.ceil(this.context.measureText(p[u]).width), r = this.game.math.snapToCeil(h, c) - h, h += r
            }
            e[g] = Math.ceil(h);
            b = Math.max(b, e[g])
        }
        this.canvas.width = b * this._res;
        p = d.fontSize + this.style.strokeThickness + this.padding.y;
        g = p * f;
        u = this._lineSpacing;
        0 > u && Math.abs(u) > p && (u = -p);
        0 !== u && (g += 0 < u ? u * a.length : u * (a.length - 1));
        this.canvas.height =
            g * this._res;
        this.context.scale(this._res, this._res);
        navigator.isCocoonJS && this.context.clearRect(0, 0, this.canvas.width, this.canvas.height);
        this.style.backgroundColor && (this.context.fillStyle = this.style.backgroundColor, this.context.fillRect(0, 0, this.canvas.width, this.canvas.height));
        this.context.fillStyle = this.style.fill;
        this.context.font = this.style.font;
        this.context.strokeStyle = this.style.stroke;
        this.context.textBaseline = "alphabetic";
        this.context.lineWidth = this.style.strokeThickness;
        this.context.lineCap =
            "round";
        this.context.lineJoin = "round";
        for (g = this._charCount = 0; g < f; g++) h = this.style.strokeThickness / 2, r = this.style.strokeThickness / 2 + g * p + d.ascent, 0 < g && (r += u * g), "right" === this.style.align ? h += b - e[g] : "center" === this.style.align && (h += (b - e[g]) / 2), this.autoRound && (h = Math.round(h), r = Math.round(r)), 0 < this.colors.length || 0 < this.strokeColors.length || 0 < this.fontWeights.length || 0 < this.fontStyles.length ? this.updateLine(a[g], h, r) : (this.style.stroke && this.style.strokeThickness && (this.updateShadow(this.style.shadowStroke),
            0 === c ? this.context.strokeText(a[g], h, r) : this.renderTabLine(a[g], h, r, !1)), this.style.fill && (this.updateShadow(this.style.shadowFill), 0 === c ? this.context.fillText(a[g], h, r) : this.renderTabLine(a[g], h, r, !0)));
        this.updateTexture();
        this.dirty = !1
    };
    b.Text.prototype.renderTabLine = function(a, c, e, b) {
        a = a.split(/(?:\t)/);
        var d = this.style.tabs;
        if (Array.isArray(d))
            for (var k = 0, f = 0; f < a.length; f++) {
                0 < f && (k += d[f - 1]);
                var g = c + k;
                b ? this.context.fillText(a[f], g, e) : this.context.strokeText(a[f], g, e)
            } else
                for (f = 0; f < a.length; f++) k =
                    Math.ceil(this.context.measureText(a[f]).width), g = this.game.math.snapToCeil(c, d), b ? this.context.fillText(a[f], g, e) : this.context.strokeText(a[f], g, e), c = g + k
    };
    b.Text.prototype.updateShadow = function(a) {
        a ? (this.context.shadowOffsetX = this.style.shadowOffsetX, this.context.shadowOffsetY = this.style.shadowOffsetY, this.context.shadowColor = this.style.shadowColor, this.context.shadowBlur = this.style.shadowBlur) : (this.context.shadowOffsetX = 0, this.context.shadowOffsetY = 0, this.context.shadowColor = 0, this.context.shadowBlur =
            0)
    };
    b.Text.prototype.measureLine = function(a) {
        for (var c = 0, e = 0; e < a.length; e++) {
            var b = a[e];
            if (0 < this.fontWeights.length || 0 < this.fontStyles.length) {
                var d = this.fontToComponents(this.context.font);
                this.fontStyles[this._charCount] && (d.fontStyle = this.fontStyles[this._charCount]);
                this.fontWeights[this._charCount] && (d.fontWeight = this.fontWeights[this._charCount]);
                this.context.font = this.componentsToFont(d)
            }
            this.style.stroke && this.style.strokeThickness && (this.strokeColors[this._charCount] && (this.context.strokeStyle =
                this.strokeColors[this._charCount]), this.updateShadow(this.style.shadowStroke));
            this.style.fill && (this.colors[this._charCount] && (this.context.fillStyle = this.colors[this._charCount]), this.updateShadow(this.style.shadowFill));
            c += this.context.measureText(b).width;
            this._charCount++
        }
        return Math.ceil(c)
    };
    b.Text.prototype.updateLine = function(a, c, e) {
        for (var b = 0; b < a.length; b++) {
            var d = a[b];
            if (0 < this.fontWeights.length || 0 < this.fontStyles.length) {
                var f = this.fontToComponents(this.context.font);
                this.fontStyles[this._charCount] &&
                    (f.fontStyle = this.fontStyles[this._charCount]);
                this.fontWeights[this._charCount] && (f.fontWeight = this.fontWeights[this._charCount]);
                this.context.font = this.componentsToFont(f)
            }
            this.style.stroke && this.style.strokeThickness && (this.strokeColors[this._charCount] && (this.context.strokeStyle = this.strokeColors[this._charCount]), this.updateShadow(this.style.shadowStroke), this.context.strokeText(d, c, e));
            this.style.fill && (this.colors[this._charCount] && (this.context.fillStyle = this.colors[this._charCount]), this.updateShadow(this.style.shadowFill),
                this.context.fillText(d, c, e));
            c += this.context.measureText(d).width;
            this._charCount++
        }
    };
    b.Text.prototype.clearColors = function() {
        this.colors = [];
        this.strokeColors = [];
        this.dirty = !0;
        return this
    };
    b.Text.prototype.clearFontValues = function() {
        this.fontStyles = [];
        this.fontWeights = [];
        this.dirty = !0;
        return this
    };
    b.Text.prototype.addColor = function(a, c) {
        this.colors[c] = a;
        this.dirty = !0;
        return this
    };
    b.Text.prototype.addStrokeColor = function(a, c) {
        this.strokeColors[c] = a;
        this.dirty = !0;
        return this
    };
    b.Text.prototype.addFontStyle =
        function(a, c) {
            this.fontStyles[c] = a;
            this.dirty = !0;
            return this
        };
    b.Text.prototype.addFontWeight = function(a, c) {
        this.fontWeights[c] = a;
        this.dirty = !0;
        return this
    };
    b.Text.prototype.precalculateWordWrap = function(a) {
        this.texture.baseTexture.resolution = this._res;
        this.context.font = this.style.font;
        return this.runWordWrap(a).split(/(?:\r\n|\r|\n)/)
    };
    b.Text.prototype.runWordWrap = function(a) {
        return this.useAdvancedWrap ? this.advancedWordWrap(a) : this.basicWordWrap(a)
    };
    b.Text.prototype.advancedWordWrap = function(a) {
        var c =
            this.context,
            e = this.style.wordWrapWidth,
            b = "";
        a = a.replace(/ +/gi, " ").split(/\r?\n/gi);
        for (var d = a.length, f = 0; f < d; f++) {
            var g = a[f],
                h = "";
            g = g.replace(/^ *|\s*$/gi, "");
            if (c.measureText(g).width < e) b += g + "\n";
            else {
                var p = e;
                g = g.split(" ");
                for (var r = 0; r < g.length; r++) {
                    var u = g[r],
                        t = u + " ",
                        v = c.measureText(t).width;
                    if (v > p) {
                        if (0 === r) {
                            for (d = t; d.length && !(d = d.slice(0, -1), v = c.measureText(d).width, v <= p););
                            if (!d.length) throw Error("This text's wordWrapWidth setting is less than a single character!");
                            p = u.substr(d.length);
                            g[r] = p;
                            h += d
                        }
                        p = g.slice(g[r].length ? r : r + 1).join(" ").replace(/[ \n]*$/gi, "");
                        a[f + 1] = p + " " + (a[f + 1] || "");
                        d = a.length;
                        break
                    } else h += t, p -= v
                }
                b += h.replace(/[ \n]*$/gi, "") + "\n"
            }
        }
        return b = b.replace(/[\s|\n]*$/gi, "")
    };
    b.Text.prototype.basicWordWrap = function(a) {
        var c = "";
        a = a.split("\n");
        for (var e = 0; e < a.length; e++) {
            for (var b = this.style.wordWrapWidth, d = a[e].split(" "), f = 0; f < d.length; f++) {
                var g = this.context.measureText(d[f]).width,
                    h = g + this.context.measureText(" ").width;
                h > b ? (0 < f && (c += "\n"), c += d[f] + " ", b = this.style.wordWrapWidth -
                    g) : (b -= h, c += d[f] + " ")
            }
            e < a.length - 1 && (c += "\n")
        }
        return c
    };
    b.Text.prototype.updateFont = function(a) {
        a = this.componentsToFont(a);
        this.style.font !== a && (this.style.font = a, this.dirty = !0, this.parent && this.updateTransform())
    };
    b.Text.prototype.fontToComponents = function(a) {
        var c = a.match(/^\s*(?:\b(normal|italic|oblique|inherit)?\b)\s*(?:\b(normal|small-caps|inherit)?\b)\s*(?:\b(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900|inherit)?\b)\s*(?:\b(xx-small|x-small|small|medium|large|x-large|xx-large|larger|smaller|0|\d*(?:[.]\d*)?(?:%|[a-z]{2,5}))?\b)\s*(.*)\s*$/);
        if (c) {
            var b = c[5].trim();
            /^(?:inherit|serif|sans-serif|cursive|fantasy|monospace)$/.exec(b) || /['",]/.exec(b) || (b = "'" + b + "'");
            return {
                font: a,
                fontStyle: c[1] || "normal",
                fontVariant: c[2] || "normal",
                fontWeight: c[3] || "normal",
                fontSize: c[4] || "medium",
                fontFamily: b
            }
        }
        console.warn("Phaser.Text - unparsable CSS font: " + a);
        return {
            font: a
        }
    };
    b.Text.prototype.componentsToFont = function(a) {
        var c = [],
            b;
        (b = a.fontStyle) && "normal" !== b && c.push(b);
        (b = a.fontVariant) && "normal" !== b && c.push(b);
        (b = a.fontWeight) && "normal" !== b && c.push(b);
        (b = a.fontSize) && "medium" !== b && c.push(b);
        (b = a.fontFamily) && c.push(b);
        c.length || c.push(a.font);
        return c.join(" ")
    };
    b.Text.prototype.setText = function(a, c) {
        void 0 === c && (c = !1);
        a = a.toString() || "";
        if (a === this._text) return this;
        this.text = a;
        c ? this.updateText() : this.dirty = !0;
        return this
    };
    b.Text.prototype.parseList = function(a) {
        if (Array.isArray(a))
            for (var c = "", b = 0; b < a.length; b++) Array.isArray(a[b]) ? (c += a[b].join("\t"), b < a.length - 1 && (c += "\n")) : (c += a[b], b < a.length - 1 && (c += "\t"));
        else return this;
        this.text = c;
        this.dirty = !0;
        return this
    };
    b.Text.prototype.setTextBounds = function(a, c, e, d) {
        void 0 === a ? this.textBounds = null : (this.textBounds ? this.textBounds.setTo(a, c, e, d) : this.textBounds = new b.Rectangle(a, c, e, d), this.style.wordWrapWidth > e && (this.style.wordWrapWidth = e));
        this.updateTexture();
        return this
    };
    b.Text.prototype.updateTexture = function() {
        var a = this.texture.baseTexture,
            c = this.texture.crop,
            b = this.texture.frame,
            d = this.canvas.width,
            f = this.canvas.height;
        a.width = d;
        a.height = f;
        c.width = d;
        c.height = f;
        b.width = d;
        b.height = f;
        this.texture.width =
            d;
        this.texture.height = f;
        this._width = d;
        this._height = f;
        this.textBounds && (a = this.textBounds.x, c = this.textBounds.y, "right" === this.style.boundsAlignH ? a += this.textBounds.width - this.canvas.width / this.resolution : "center" === this.style.boundsAlignH && (a += this.textBounds.halfWidth - this.canvas.width / this.resolution / 2), "bottom" === this.style.boundsAlignV ? c += this.textBounds.height - this.canvas.height / this.resolution : "middle" === this.style.boundsAlignV && (c += this.textBounds.halfHeight - this.canvas.height / this.resolution /
            2), this.pivot.x = -a, this.pivot.y = -c);
        this.renderable = 0 !== d && 0 !== f;
        this.texture.requiresReTint = !0;
        this.texture.baseTexture.dirty()
    };
    b.Text.prototype._renderWebGL = function(a) {
        this.dirty && (this.updateText(), this.dirty = !1);
        PIXI.Sprite.prototype._renderWebGL.call(this, a)
    };
    b.Text.prototype._renderCanvas = function(a) {
        this.dirty && (this.updateText(), this.dirty = !1);
        PIXI.Sprite.prototype._renderCanvas.call(this, a)
    };
    b.Text.prototype.determineFontProperties = function(a) {
        var c = b.Text.fontPropertiesCache[a],
            e = this.testString ||
            "|M\u00c9q";
        if (!c) {
            c = {};
            var d = b.Text.fontPropertiesCanvas,
                f = b.Text.fontPropertiesContext;
            f.font = a;
            var g = Math.ceil(f.measureText(e).width),
                h = Math.ceil(f.measureText(e).width),
                n = 2 * h;
            h = 1.4 * h | 0;
            d.width = g;
            d.height = n;
            f.fillStyle = "#f00";
            f.fillRect(0, 0, g, n);
            f.font = a;
            f.textBaseline = "alphabetic";
            f.fillStyle = "#000";
            f.fillText(e, 0, h);
            if (!f.getImageData(0, 0, g, n)) return c.ascent = h, c.descent = h + 6, c.fontSize = c.ascent + c.descent, b.Text.fontPropertiesCache[a] = c;
            e = f.getImageData(0, 0, g, n).data;
            d = e.length;
            g *= 4;
            var p, r =
                0,
                u = !1;
            for (f = 0; f < h; f++) {
                for (p = 0; p < g; p += 4)
                    if (255 !== e[r + p]) {
                        u = !0;
                        break
                    } if (u) break;
                else r += g
            }
            c.ascent = h - f;
            r = d - g;
            u = !1;
            for (f = n; f > h; f--) {
                for (p = 0; p < g; p += 4)
                    if (255 !== e[r + p]) {
                        u = !0;
                        break
                    } if (u) break;
                else r -= g
            }
            c.descent = f - h;
            c.descent += 6;
            c.fontSize = c.ascent + c.descent;
            b.Text.fontPropertiesCache[a] = c
        }
        return c
    };
    b.Text.prototype.getBounds = function(a) {
        this.dirty && (this.updateText(), this.dirty = !1);
        return PIXI.Sprite.prototype.getBounds.call(this, a)
    };
    b.Text.prototype.setCharacterLimit = function(a, c) {
        this.characterLimitSuffix =
            void 0 === c ? "" : c;
        this.characterLimitSize = a;
        this.updateText()
    };
    Object.defineProperty(b.Text.prototype, "text", {
        get: function() {
            return this._text
        },
        set: function(a) {
            a !== this._text && (this._text = a.toString() || "", this.dirty = !0, this.parent && this.updateTransform())
        }
    });
    Object.defineProperty(b.Text.prototype, "cssFont", {
        get: function() {
            return this.componentsToFont(this._fontComponents)
        },
        set: function(a) {
            this._fontComponents = this.fontToComponents(a || "bold 20pt Arial");
            this.updateFont(this._fontComponents)
        }
    });
    Object.defineProperty(b.Text.prototype,
        "font", {
            get: function() {
                return this._fontComponents.fontFamily
            },
            set: function(a) {
                a = (a || "Arial").trim();
                /^(?:inherit|serif|sans-serif|cursive|fantasy|monospace)$/.exec(a) || /['",]/.exec(a) || (a = "'" + a + "'");
                this._fontComponents.fontFamily = a;
                this.updateFont(this._fontComponents)
            }
        });
    Object.defineProperty(b.Text.prototype, "fontSize", {
        get: function() {
            var a = this._fontComponents.fontSize;
            return a && /(?:^0$|px$)/.exec(a) ? parseInt(a, 10) : a
        },
        set: function(a) {
            a = a || "0";
            "number" === typeof a && (a += "px");
            this._fontComponents.fontSize =
                a;
            this.updateFont(this._fontComponents)
        }
    });
    Object.defineProperty(b.Text.prototype, "fontWeight", {
        get: function() {
            return this._fontComponents.fontWeight || "normal"
        },
        set: function(a) {
            this._fontComponents.fontWeight = a || "normal";
            this.updateFont(this._fontComponents)
        }
    });
    Object.defineProperty(b.Text.prototype, "fontStyle", {
        get: function() {
            return this._fontComponents.fontStyle || "normal"
        },
        set: function(a) {
            this._fontComponents.fontStyle = a || "normal";
            this.updateFont(this._fontComponents)
        }
    });
    Object.defineProperty(b.Text.prototype,
        "fontVariant", {
            get: function() {
                return this._fontComponents.fontVariant || "normal"
            },
            set: function(a) {
                this._fontComponents.fontVariant = a || "normal";
                this.updateFont(this._fontComponents)
            }
        });
    Object.defineProperty(b.Text.prototype, "fill", {
        get: function() {
            return this.style.fill
        },
        set: function(a) {
            a !== this.style.fill && (this.style.fill = a, this.dirty = !0)
        }
    });
    Object.defineProperty(b.Text.prototype, "align", {
        get: function() {
            return this.style.align
        },
        set: function(a) {
            a = a.toLowerCase();
            a !== this.style.align && (this.style.align =
                a, this.dirty = !0)
        }
    });
    Object.defineProperty(b.Text.prototype, "resolution", {
        get: function() {
            return this._res
        },
        set: function(a) {
            a !== this._res && (this._res = a, this.dirty = !0)
        }
    });
    Object.defineProperty(b.Text.prototype, "tabs", {
        get: function() {
            return this.style.tabs
        },
        set: function(a) {
            a !== this.style.tabs && (this.style.tabs = a, this.dirty = !0)
        }
    });
    Object.defineProperty(b.Text.prototype, "boundsAlignH", {
        get: function() {
            return this.style.boundsAlignH
        },
        set: function(a) {
            a = a.toLowerCase();
            a !== this.style.boundsAlignH && (this.style.boundsAlignH =
                a, this.dirty = !0)
        }
    });
    Object.defineProperty(b.Text.prototype, "boundsAlignV", {
        get: function() {
            return this.style.boundsAlignV
        },
        set: function(a) {
            a = a.toLowerCase();
            a !== this.style.boundsAlignV && (this.style.boundsAlignV = a, this.dirty = !0)
        }
    });
    Object.defineProperty(b.Text.prototype, "stroke", {
        get: function() {
            return this.style.stroke
        },
        set: function(a) {
            a !== this.style.stroke && (this.style.stroke = a, this.dirty = !0)
        }
    });
    Object.defineProperty(b.Text.prototype, "strokeThickness", {
        get: function() {
            return this.style.strokeThickness
        },
        set: function(a) {
            a !== this.style.strokeThickness && (this.style.strokeThickness = Number(a), this.dirty = !0)
        }
    });
    Object.defineProperty(b.Text.prototype, "wordWrap", {
        get: function() {
            return this.style.wordWrap
        },
        set: function(a) {
            a !== this.style.wordWrap && (this.style.wordWrap = a, this.dirty = !0)
        }
    });
    Object.defineProperty(b.Text.prototype, "wordWrapWidth", {
        get: function() {
            return this.style.wordWrapWidth
        },
        set: function(a) {
            a !== this.style.wordWrapWidth && (this.style.wordWrapWidth = a, this.dirty = !0)
        }
    });
    Object.defineProperty(b.Text.prototype,
        "lineSpacing", {
            get: function() {
                return this._lineSpacing
            },
            set: function(a) {
                a !== this._lineSpacing && (this._lineSpacing = parseFloat(a), this.dirty = !0, this.parent && this.updateTransform())
            }
        });
    Object.defineProperty(b.Text.prototype, "shadowOffsetX", {
        get: function() {
            return this.style.shadowOffsetX
        },
        set: function(a) {
            a !== this.style.shadowOffsetX && (this.style.shadowOffsetX = a, this.dirty = !0)
        }
    });
    Object.defineProperty(b.Text.prototype, "shadowOffsetY", {
        get: function() {
            return this.style.shadowOffsetY
        },
        set: function(a) {
            a !==
                this.style.shadowOffsetY && (this.style.shadowOffsetY = a, this.dirty = !0)
        }
    });
    Object.defineProperty(b.Text.prototype, "shadowColor", {
        get: function() {
            return this.style.shadowColor
        },
        set: function(a) {
            a !== this.style.shadowColor && (this.style.shadowColor = a, this.dirty = !0)
        }
    });
    Object.defineProperty(b.Text.prototype, "shadowBlur", {
        get: function() {
            return this.style.shadowBlur
        },
        set: function(a) {
            a !== this.style.shadowBlur && (this.style.shadowBlur = a, this.dirty = !0)
        }
    });
    Object.defineProperty(b.Text.prototype, "shadowStroke", {
        get: function() {
            return this.style.shadowStroke
        },
        set: function(a) {
            a !== this.style.shadowStroke && (this.style.shadowStroke = a, this.dirty = !0)
        }
    });
    Object.defineProperty(b.Text.prototype, "shadowFill", {
        get: function() {
            return this.style.shadowFill
        },
        set: function(a) {
            a !== this.style.shadowFill && (this.style.shadowFill = a, this.dirty = !0)
        }
    });
    Object.defineProperty(b.Text.prototype, "width", {
        get: function() {
            this.dirty && (this.updateText(), this.dirty = !1);
            return this.texture.frame.width / this.resolution * this.scale.x
        },
        set: function(a) {
            this.scale.x = a / this.texture.frame.width;
            this._width = a
        }
    });
    Object.defineProperty(b.Text.prototype, "height", {
        get: function() {
            this.dirty && (this.updateText(), this.dirty = !1);
            return this.texture.frame.height / this.resolution * this.scale.y
        },
        set: function(a) {
            this.scale.y = a / this.texture.frame.height;
            this._height = a
        }
    });
    Object.defineProperty(b.Text.prototype, "testString", {
        get: function() {
            return this._testString
        },
        set: function(a) {
            this._testString = a;
            this.updateText()
        }
    });
    b.Text.fontPropertiesCache = {};
    b.Text.fontPropertiesCanvas = document.createElement("canvas");
    b.Text.fontPropertiesContext = b.Text.fontPropertiesCanvas.getContext("2d");
    b.BitmapText = function(a, c, e, d, f, g, h) {
        c = c || 0;
        e = e || 0;
        d = d || "";
        f = f || "";
        g = g || 32;
        h = h || "left";
        PIXI.DisplayObjectContainer.call(this);
        this.type = b.BITMAPTEXT;
        this.physicsType = b.SPRITE;
        this.textHeight = this.textWidth = 0;
        this.anchor = new b.Point;
        this._prevAnchor = new b.Point;
        this._glyphs = [];
        this._maxWidth = 0;
        this._text = f.toString() || "";
        this._data = a.cache.getBitmapFont(d);
        this._font = d;
        this._fontSize = g;
        this._align = h;
        this._tint = 16777215;
        this.updateText();
        this.dirty = !1;
        b.Component.Core.init.call(this, a, c, e, "", null)
    };
    b.BitmapText.prototype = Object.create(PIXI.DisplayObjectContainer.prototype);
    b.BitmapText.prototype.constructor = b.BitmapText;
    b.Component.Core.install.call(b.BitmapText.prototype, "Angle AutoCull Bounds Destroy FixedToCamera InputEnabled InWorld LifeSpan PhysicsBody Reset".split(" "));
    b.BitmapText.prototype.preUpdatePhysics = b.Component.PhysicsBody.preUpdate;
    b.BitmapText.prototype.preUpdateLifeSpan = b.Component.LifeSpan.preUpdate;
    b.BitmapText.prototype.preUpdateInWorld =
        b.Component.InWorld.preUpdate;
    b.BitmapText.prototype.preUpdateCore = b.Component.Core.preUpdate;
    b.BitmapText.prototype.preUpdate = function() {
        return this.preUpdatePhysics() && this.preUpdateLifeSpan() && this.preUpdateInWorld() ? this.preUpdateCore() : !1
    };
    b.BitmapText.prototype.postUpdate = function() {
        b.Component.PhysicsBody.postUpdate.call(this);
        b.Component.FixedToCamera.postUpdate.call(this);
        this.body && this.body.type === b.Physics.ARCADE && (this.textWidth !== this.body.sourceWidth || this.textHeight !== this.body.sourceHeight) &&
            this.body.setSize(this.textWidth, this.textHeight)
    };
    b.BitmapText.prototype.setText = function(a) {
        this.text = a
    };
    b.BitmapText.prototype.scanLine = function(a, c, b) {
        for (var e = 0, d = 0, f = -1, g = 0, h = null, p = 0 < this._maxWidth ? this._maxWidth : null, r = [], u = 0; u < b.length; u++) {
            var t = u === b.length - 1 ? !0 : !1;
            if (/(?:\r\n|\r|\n)/.test(b.charAt(u))) return {
                width: d,
                text: b.substr(0, u),
                end: t,
                chars: r
            };
            var v = b.charCodeAt(u),
                w = a.chars[v];
            void 0 === w && (v = 32, w = a.chars[v]);
            var x = h && w.kerning[h] ? w.kerning[h] : 0;
            /(\s)/.test(b.charAt(u)) && (f = u, g =
                d);
            h = (x + w.texture.width + w.xOffset) * c;
            if (p && d + h >= p && -1 < f) return {
                width: g || d,
                text: b.substr(0, u - (u - f)),
                end: !1,
                chars: r
            };
            d += (w.xAdvance + x) * c;
            r.push(e + (w.xOffset + x) * c);
            e += (w.xAdvance + x) * c;
            h = v
        }
        return {
            width: d,
            text: b,
            end: t,
            chars: r
        }
    };
    b.BitmapText.prototype.cleanText = function(a, c) {
        void 0 === c && (c = "");
        var b = this._data.font;
        if (!b) return "";
        a = a.replace(/\r\n|\n\r|\n|\r/g, "\n").split("\n");
        for (var d = 0; d < a.length; d++) {
            for (var f = "", g = a[d], h = 0; h < g.length; h++) f = b.chars[g.charCodeAt(h)] ? f.concat(g[h]) : f.concat(c);
            a[d] =
                f
        }
        return a.join("\n")
    };
    b.BitmapText.prototype.updateText = function() {
        var a = this._data.font;
        if (a) {
            var c = this.text,
                b = this._fontSize / a.size,
                d = [],
                f = 0;
            this.textWidth = 0;
            do {
                var g = this.scanLine(a, b, c);
                g.y = f;
                d.push(g);
                g.width > this.textWidth && (this.textWidth = g.width);
                f += a.lineHeight * b;
                c = c.substr(g.text.length + 1)
            } while (!1 === g.end);
            this.textHeight = f;
            f = c = 0;
            for (var h = this.textWidth * this.anchor.x, n = this.textHeight * this.anchor.y, p = 0; p < d.length; p++) {
                g = d[p];
                "right" === this._align ? f = this.textWidth - g.width : "center" ===
                    this._align && (f = (this.textWidth - g.width) / 2);
                for (var r = 0; r < g.text.length; r++) {
                    var u = g.text.charCodeAt(r);
                    u = a.chars[u];
                    void 0 === u && (u = 32, u = a.chars[u]);
                    var t = this._glyphs[c];
                    t ? t.texture = u.texture : (t = new PIXI.Sprite(u.texture), t.name = g.text[r], this._glyphs.push(t));
                    t.position.x = g.chars[r] + f - h;
                    t.position.y = g.y + u.yOffset * b - n;
                    t.scale.set(b);
                    t.tint = this.tint;
                    t.texture.requiresReTint = !0;
                    t.cachedTint = 16777215;
                    t.parent || this.addChild(t);
                    c++
                }
            }
            for (p = c; p < this._glyphs.length; p++) this.removeChild(this._glyphs[p])
        }
    };
    b.BitmapText.prototype.purgeGlyphs = function() {
        for (var a = this._glyphs.length, c = [], b = 0; b < this._glyphs.length; b++) this._glyphs[b].parent !== this ? this._glyphs[b].destroy() : c.push(this._glyphs[b]);
        this._glyphs = [];
        this._glyphs = c;
        this.updateText();
        return a - c.length
    };
    b.BitmapText.prototype.updateTransform = function() {
        if (this.dirty || !this.anchor.equals(this._prevAnchor)) this.updateText(), this.dirty = !1, this._prevAnchor.copyFrom(this.anchor);
        PIXI.DisplayObjectContainer.prototype.updateTransform.call(this)
    };
    Object.defineProperty(b.BitmapText.prototype,
        "align", {
            get: function() {
                return this._align
            },
            set: function(a) {
                a === this._align || "left" !== a && "center" !== a && "right" !== a || (this._align = a, this.updateText())
            }
        });
    Object.defineProperty(b.BitmapText.prototype, "tint", {
        get: function() {
            return this._tint
        },
        set: function(a) {
            a !== this._tint && (this._tint = a, this.updateText())
        }
    });
    Object.defineProperty(b.BitmapText.prototype, "font", {
        get: function() {
            return this._font
        },
        set: function(a) {
            a !== this._font && (this._font = a.trim(), this._data = this.game.cache.getBitmapFont(this._font),
                this.updateText())
        }
    });
    Object.defineProperty(b.BitmapText.prototype, "fontSize", {
        get: function() {
            return this._fontSize
        },
        set: function(a) {
            a = parseInt(a, 10);
            a !== this._fontSize && 0 < a && (this._fontSize = a, this.updateText())
        }
    });
    Object.defineProperty(b.BitmapText.prototype, "text", {
        get: function() {
            return this._text
        },
        set: function(a) {
            a !== this._text && (this._text = a.toString() || "", this.updateText())
        }
    });
    Object.defineProperty(b.BitmapText.prototype, "maxWidth", {
        get: function() {
            return this._maxWidth
        },
        set: function(a) {
            a !== this._maxWidth &&
                (this._maxWidth = a, this.updateText())
        }
    });
    Object.defineProperty(b.BitmapText.prototype, "smoothed", {
        get: function() {
            return !this._data.base.scaleMode
        },
        set: function(a) {
            this._data.base.scaleMode = a ? 0 : 1;
            this._data.base.dirty()
        }
    });
    b.RetroFont = function(a, c, e, d, f, g, h, n, p, r) {
        if (!a.cache.checkImageKey(c)) return !1;
        if (void 0 === g || null === g) g = a.cache.getImage(c).width / e;
        this.characterWidth = e;
        this.characterHeight = d;
        this.characterSpacingX = h || 0;
        this.characterSpacingY = n || 0;
        this.characterPerRow = g;
        this.offsetX = p || 0;
        this.offsetY =
            r || 0;
        this.align = "left";
        this.multiLine = !1;
        this.autoUpperCase = !0;
        this.fixedWidth = this.customSpacingY = this.customSpacingX = 0;
        this.fontSet = a.cache.getImage(c);
        this._text = "";
        this.grabData = [];
        this.frameData = new b.FrameData;
        e = this.offsetX;
        d = this.offsetY;
        for (h = g = 0; h < f.length; h++) n = this.frameData.addFrame(new b.Frame(h, e, d, this.characterWidth, this.characterHeight)), this.grabData[f.charCodeAt(h)] = n.index, g++, g === this.characterPerRow ? (g = 0, e = this.offsetX, d += this.characterHeight + this.characterSpacingY) : e += this.characterWidth +
            this.characterSpacingX;
        a.cache.updateFrameData(c, this.frameData);
        this.stamp = new b.Image(a, 0, 0, c, 0);
        b.RenderTexture.call(this, a, 100, 100, "", b.scaleModes.NEAREST);
        this.type = b.RETROFONT
    };
    b.RetroFont.prototype = Object.create(b.RenderTexture.prototype);
    b.RetroFont.prototype.constructor = b.RetroFont;
    b.RetroFont.ALIGN_LEFT = "left";
    b.RetroFont.ALIGN_RIGHT = "right";
    b.RetroFont.ALIGN_CENTER = "center";
    b.RetroFont.TEXT_SET1 = " !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~";
    b.RetroFont.TEXT_SET2 = " !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ";
    b.RetroFont.TEXT_SET3 = "ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 ";
    b.RetroFont.TEXT_SET4 = "ABCDEFGHIJKLMNOPQRSTUVWXYZ 0123456789";
    b.RetroFont.TEXT_SET5 = "ABCDEFGHIJKLMNOPQRSTUVWXYZ.,/() '!?-*:0123456789";
    b.RetroFont.TEXT_SET6 = "ABCDEFGHIJKLMNOPQRSTUVWXYZ!?:;0123456789\"(),-.' ";
    b.RetroFont.TEXT_SET7 = "AGMSY+:4BHNTZ!;5CIOU.?06DJPV,(17EKQW\")28FLRX-'39";
    b.RetroFont.TEXT_SET8 = "0123456789 .ABCDEFGHIJKLMNOPQRSTUVWXYZ";
    b.RetroFont.TEXT_SET9 =
        "ABCDEFGHIJKLMNOPQRSTUVWXYZ()-0123456789.:,'\"?!";
    b.RetroFont.TEXT_SET10 = "ABCDEFGHIJKLMNOPQRSTUVWXYZ";
    b.RetroFont.TEXT_SET11 = "ABCDEFGHIJKLMNOPQRSTUVWXYZ.,\"-+!?()':;0123456789";
    b.RetroFont.prototype.setFixedWidth = function(a, c) {
        void 0 === c && (c = "left");
        this.fixedWidth = a;
        this.align = c
    };
    b.RetroFont.prototype.setText = function(a, c, b, d, f, g) {
        this.multiLine = c || !1;
        this.customSpacingX = b || 0;
        this.customSpacingY = d || 0;
        this.align = f || "left";
        this.autoUpperCase = g ? !1 : !0;
        0 < a.length && (this.text = a)
    };
    b.RetroFont.prototype.buildRetroFontText =
        function() {
            var a = 0;
            this.clear();
            if (this.multiLine) {
                var c = this._text.split("\n");
                0 < this.fixedWidth ? this.resize(this.fixedWidth, c.length * (this.characterHeight + this.customSpacingY) - this.customSpacingY, !0) : this.resize(this.getLongestLine() * (this.characterWidth + this.customSpacingX), c.length * (this.characterHeight + this.customSpacingY) - this.customSpacingY, !0);
                for (var e = 0; e < c.length; e++) {
                    var d = 0;
                    this.align === b.RetroFont.ALIGN_RIGHT ? d = this.width - c[e].length * (this.characterWidth + this.customSpacingX) : this.align ===
                        b.RetroFont.ALIGN_CENTER && (d = this.width / 2 - c[e].length * (this.characterWidth + this.customSpacingX) / 2, d += this.customSpacingX / 2);
                    0 > d && (d = 0);
                    this.pasteLine(c[e], d, a, this.customSpacingX);
                    a += this.characterHeight + this.customSpacingY
                }
            } else 0 < this.fixedWidth ? this.resize(this.fixedWidth, this.characterHeight, !0) : this.resize(this._text.length * (this.characterWidth + this.customSpacingX), this.characterHeight, !0), d = 0, this.align === b.RetroFont.ALIGN_RIGHT ? d = this.width - this._text.length * (this.characterWidth + this.customSpacingX) :
                this.align === b.RetroFont.ALIGN_CENTER && (d = this.width / 2 - this._text.length * (this.characterWidth + this.customSpacingX) / 2, d += this.customSpacingX / 2), 0 > d && (d = 0), this.pasteLine(this._text, d, 0, this.customSpacingX);
            this.requiresReTint = !0
        };
    b.RetroFont.prototype.pasteLine = function(a, c, b, d) {
        for (var e = 0; e < a.length; e++)
            if (" " === a.charAt(e)) c += this.characterWidth + d;
            else if (0 <= this.grabData[a.charCodeAt(e)] && (this.stamp.frame = this.grabData[a.charCodeAt(e)], this.renderXY(this.stamp, c, b, !1), c += this.characterWidth + d,
                c > this.width)) break
    };
    b.RetroFont.prototype.getLongestLine = function() {
        var a = 0;
        if (0 < this._text.length)
            for (var c = this._text.split("\n"), b = 0; b < c.length; b++) c[b].length > a && (a = c[b].length);
        return a
    };
    b.RetroFont.prototype.removeUnsupportedCharacters = function(a) {
        for (var c = "", b = 0; b < this._text.length; b++) {
            var d = this._text[b],
                f = d.charCodeAt(0);
            if (0 <= this.grabData[f] || !a && "\n" === d) c = c.concat(d)
        }
        return c
    };
    b.RetroFont.prototype.updateOffset = function(a, c) {
        if (this.offsetX !== a || this.offsetY !== c) {
            a -= this.offsetX;
            c -=
                this.offsetY;
            for (var b = this.game.cache.getFrameData(this.stamp.key).getFrames(), d = b.length; d--;) b[d].x += a, b[d].y += c;
            this.buildRetroFontText()
        }
    };
    Object.defineProperty(b.RetroFont.prototype, "text", {
        get: function() {
            return this._text
        },
        set: function(a) {
            a = this.autoUpperCase ? a.toUpperCase() : a;
            a !== this._text && (this._text = a, this.removeUnsupportedCharacters(this.multiLine), this.buildRetroFontText())
        }
    });
    Object.defineProperty(b.RetroFont.prototype, "smoothed", {
        get: function() {
            return this.stamp.smoothed
        },
        set: function(a) {
            this.stamp.smoothed =
                a;
            this.buildRetroFontText()
        }
    });
    b.Rope = function(a, c, e, d, f, g) {
        this.points = g || [];
        this._hasUpdateAnimation = !1;
        this._updateAnimationCallback = null;
        c = c || 0;
        e = e || 0;
        d = d || null;
        f = f || null;
        this.type = b.ROPE;
        PIXI.DisplayObjectContainer.call(this);
        this.texture = b.Cache.DEFAULT;
        this.uvs = new Float32Array([0, 1, 1, 1, 1, 0, 0, 1]);
        this.vertices = new Float32Array([0, 0, 100, 0, 100, 100, 0, 100]);
        this.colors = new Float32Array([1, 1, 1, 1]);
        this.indices = new Uint16Array([0, 1, 2, 3]);
        g && (this.vertices = new Float32Array(4 * g.length), this.uvs = new Float32Array(4 *
            g.length), this.colors = new Float32Array(2 * g.length), this.indices = new Uint16Array(2 * g.length));
        this.dirty = !0;
        this.canvasPadding = 0;
        this.drawMode = b.Rope.TRIANGLE_STRIP;
        b.Component.Core.init.call(this, a, c, e, d, f);
        this.refresh()
    };
    b.Rope.prototype = Object.create(PIXI.DisplayObjectContainer.prototype);
    b.Rope.prototype.constructor = b.Rope;
    b.Component.Core.install.call(b.Rope.prototype, "Angle Animation AutoCull Bounds BringToTop Crop Delta Destroy FixedToCamera InWorld LifeSpan LoadTexture Overlap PhysicsBody Reset ScaleMinMax Smoothed".split(" "));
    b.Rope.prototype.preUpdatePhysics = b.Component.PhysicsBody.preUpdate;
    b.Rope.prototype.preUpdateLifeSpan = b.Component.LifeSpan.preUpdate;
    b.Rope.prototype.preUpdateInWorld = b.Component.InWorld.preUpdate;
    b.Rope.prototype.preUpdateCore = b.Component.Core.preUpdate;
    b.Rope.TRIANGLE_STRIP = 0;
    b.Rope.TRIANGLES = 1;
    b.Rope.prototype.preUpdate = function() {
        return this.preUpdatePhysics() && this.preUpdateLifeSpan() && this.preUpdateInWorld() ? this.preUpdateCore() : !1
    };
    b.Rope.prototype.update = function() {
        this._hasUpdateAnimation &&
            this.updateAnimation.call(this)
    };
    b.Rope.prototype.reset = function(a, c) {
        b.Component.Reset.prototype.reset.call(this, a, c);
        return this
    };
    b.Rope.prototype.refresh = function() {
        var a = this.points;
        if (!(1 > a.length)) {
            var c = this.uvs,
                b = this.indices,
                d = this.colors;
            this.count -= .2;
            c[0] = 0;
            c[1] = 0;
            c[2] = 0;
            c[3] = 1;
            d[0] = 1;
            d[1] = 1;
            b[0] = 0;
            b[1] = 1;
            a = a.length;
            for (var f, g, h = 1; h < a; h++) f = 4 * h, g = h / (a - 1), c[f] = g, c[f + 1] = 0, c[f + 2] = g, c[f + 3] = 1, f = 2 * h, d[f] = 1, d[f + 1] = 1, f = 2 * h, b[f] = f, b[f + 1] = f + 1
        }
    };
    b.Rope.prototype.updateTransform = function() {
        var a =
            this.points;
        if (!(1 > a.length)) {
            var c = a[0];
            this.count -= .2;
            for (var b = this.vertices, d = a.length, f, g, h, n = 0; n < d; n++) {
                f = a[n];
                g = 4 * n;
                var p = n < a.length - 1 ? a[n + 1] : f;
                var r = -(p.x - c.x);
                c = p.y - c.y;
                p = Math.sqrt(c * c + r * r);
                h = this.texture.height / 2;
                c /= p;
                r /= p;
                c *= h;
                r *= h;
                b[g] = f.x + c;
                b[g + 1] = f.y + r;
                b[g + 2] = f.x - c;
                b[g + 3] = f.y - r;
                c = f
            }
            PIXI.DisplayObjectContainer.prototype.updateTransform.call(this)
        }
    };
    b.Rope.prototype.setTexture = function(a) {
        this.texture = a
    };
    b.Rope.prototype._renderWebGL = function(a) {
        !this.visible || 0 >= this.alpha || (a.spriteBatch.stop(),
            this._vertexBuffer || this._initWebGL(a), a.shaderManager.setShader(a.shaderManager.stripShader), this._renderStrip(a), a.spriteBatch.start())
    };
    b.Rope.prototype._initWebGL = function(a) {
        a = a.gl;
        this._vertexBuffer = a.createBuffer();
        this._indexBuffer = a.createBuffer();
        this._uvBuffer = a.createBuffer();
        this._colorBuffer = a.createBuffer();
        a.bindBuffer(a.ARRAY_BUFFER, this._vertexBuffer);
        a.bufferData(a.ARRAY_BUFFER, this.vertices, a.DYNAMIC_DRAW);
        a.bindBuffer(a.ARRAY_BUFFER, this._uvBuffer);
        a.bufferData(a.ARRAY_BUFFER,
            this.uvs, a.STATIC_DRAW);
        a.bindBuffer(a.ARRAY_BUFFER, this._colorBuffer);
        a.bufferData(a.ARRAY_BUFFER, this.colors, a.STATIC_DRAW);
        a.bindBuffer(a.ELEMENT_ARRAY_BUFFER, this._indexBuffer);
        a.bufferData(a.ELEMENT_ARRAY_BUFFER, this.indices, a.STATIC_DRAW)
    };
    b.Rope.prototype._renderStrip = function(a) {
        var c = a.gl,
            e = a.projection,
            d = a.offset,
            f = a.shaderManager.stripShader,
            g = this.drawMode === b.Rope.TRIANGLE_STRIP ? c.TRIANGLE_STRIP : c.TRIANGLES;
        a.blendModeManager.setBlendMode(this.blendMode);
        c.uniformMatrix3fv(f.translationMatrix,
            !1, this.worldTransform.toArray(!0));
        c.uniform2f(f.projectionVector, e.x, -e.y);
        c.uniform2f(f.offsetVector, -d.x, -d.y);
        c.uniform1f(f.alpha, this.worldAlpha);
        this.dirty ? (this.dirty = !1, c.bindBuffer(c.ARRAY_BUFFER, this._vertexBuffer), c.bufferData(c.ARRAY_BUFFER, this.vertices, c.STATIC_DRAW), c.vertexAttribPointer(f.aVertexPosition, 2, c.FLOAT, !1, 0, 0), c.bindBuffer(c.ARRAY_BUFFER, this._uvBuffer), c.bufferData(c.ARRAY_BUFFER, this.uvs, c.STATIC_DRAW), c.vertexAttribPointer(f.aTextureCoord, 2, c.FLOAT, !1, 0, 0), c.activeTexture(c.TEXTURE0),
            this.texture.baseTexture._dirty[c.id] ? a.renderer.updateTexture(this.texture.baseTexture) : c.bindTexture(c.TEXTURE_2D, this.texture.baseTexture._glTextures[c.id]), c.bindBuffer(c.ELEMENT_ARRAY_BUFFER, this._indexBuffer), c.bufferData(c.ELEMENT_ARRAY_BUFFER, this.indices, c.STATIC_DRAW)) : (c.bindBuffer(c.ARRAY_BUFFER, this._vertexBuffer), c.bufferSubData(c.ARRAY_BUFFER, 0, this.vertices), c.vertexAttribPointer(f.aVertexPosition, 2, c.FLOAT, !1, 0, 0), c.bindBuffer(c.ARRAY_BUFFER, this._uvBuffer), c.vertexAttribPointer(f.aTextureCoord,
            2, c.FLOAT, !1, 0, 0), c.activeTexture(c.TEXTURE0), this.texture.baseTexture._dirty[c.id] ? a.renderer.updateTexture(this.texture.baseTexture) : c.bindTexture(c.TEXTURE_2D, this.texture.baseTexture._glTextures[c.id]), c.bindBuffer(c.ELEMENT_ARRAY_BUFFER, this._indexBuffer));
        c.drawElements(g, this.indices.length, c.UNSIGNED_SHORT, 0)
    };
    b.Rope.prototype._renderCanvas = function(a) {
        var c = a.context,
            e = this.worldTransform,
            d = e.tx * a.resolution + a.shakeX,
            f = e.ty * a.resolution + a.shakeY;
        a.roundPixels ? c.setTransform(e.a, e.b, e.c, e.d,
            d | 0, f | 0) : c.setTransform(e.a, e.b, e.c, e.d, d, f);
        this.drawMode === b.Rope.TRIANGLE_STRIP ? this._renderCanvasTriangleStrip(c) : this._renderCanvasTriangles(c)
    };
    b.Rope.prototype._renderCanvasTriangleStrip = function(a) {
        var c = this.vertices,
            b = this.uvs,
            d = c.length / 2;
        this.count++;
        for (var f = 0; f < d - 2; f++) {
            var g = 2 * f;
            this._renderCanvasDrawTriangle(a, c, b, g, g + 2, g + 4)
        }
    };
    b.Rope.prototype._renderCanvasTriangles = function(a) {
        var c = this.vertices,
            b = this.uvs,
            d = this.indices,
            f = d.length;
        this.count++;
        for (var g = 0; g < f; g += 3) this._renderCanvasDrawTriangle(a,
            c, b, 2 * d[g], 2 * d[g + 1], 2 * d[g + 2])
    };
    b.Rope.prototype._renderCanvasDrawTriangle = function(a, c, b, d, f, g) {
        var e = this.texture.baseTexture.source,
            k = this.texture.width,
            l = this.texture.height,
            h = c[d],
            m = c[f],
            t = c[g],
            v = c[d + 1],
            w = c[f + 1];
        c = c[g + 1];
        var x = b[d] * k,
            y = b[f] * k;
        k *= b[g];
        d = b[d + 1] * l;
        f = b[f + 1] * l;
        b = b[g + 1] * l;
        if (0 < this.canvasPadding) {
            g = this.canvasPadding / this.worldTransform.a;
            l = this.canvasPadding / this.worldTransform.d;
            var z = (h + m + t) / 3,
                B = (v + w + c) / 3,
                A = h - z,
                C = v - B,
                D = Math.sqrt(A * A + C * C);
            h = z + A / D * (D + g);
            v = B + C / D * (D + l);
            A = m - z;
            C = w - B;
            D =
                Math.sqrt(A * A + C * C);
            m = z + A / D * (D + g);
            w = B + C / D * (D + l);
            A = t - z;
            C = c - B;
            D = Math.sqrt(A * A + C * C);
            t = z + A / D * (D + g);
            c = B + C / D * (D + l)
        }
        a.save();
        a.beginPath();
        a.moveTo(h, v);
        a.lineTo(m, w);
        a.lineTo(t, c);
        a.closePath();
        a.clip();
        g = x * f + d * k + y * b - f * k - d * y - x * b;
        a.transform((h * f + d * t + m * b - f * t - d * m - h * b) / g, (v * f + d * c + w * b - f * c - d * w - v * b) / g, (x * m + h * k + y * t - m * k - h * y - x * t) / g, (x * w + v * k + y * c - w * k - v * y - x * c) / g, (x * f * t + d * m * k + h * y * b - h * f * k - d * y * t - x * m * b) / g, (x * f * c + d * w * k + v * y * b - v * f * k - d * y * c - x * w * b) / g);
        a.drawImage(e, 0, 0);
        a.restore()
    };
    b.Rope.prototype.renderStripFlat = function(a) {
        var c =
            this.context;
        a = a.vertices;
        var b = a.length / 2;
        this.count++;
        c.beginPath();
        for (var d = 1; d < b - 2; d++) {
            var f = 2 * d,
                g = a[f + 2],
                h = a[f + 4],
                n = a[f + 3],
                p = a[f + 5];
            c.moveTo(a[f], a[f + 1]);
            c.lineTo(g, n);
            c.lineTo(h, p)
        }
        c.fillStyle = "#FF0000";
        c.fill();
        c.closePath()
    };
    b.Rope.prototype.getBounds = function(a) {
        var c = a || this.worldTransform;
        a = c.a;
        for (var b = c.b, d = c.c, f = c.d, g = c.tx, h = c.ty, n = c = -Infinity, p = Infinity, r = Infinity, u = this.vertices, t = 0; t < u.length; t += 2) {
            var v = u[t],
                w = u[t + 1],
                x = a * v + d * w + g;
            v = f * w + b * v + h;
            p = x < p ? x : p;
            r = v < r ? v : r;
            c = x > c ? x : c;
            n = v > n ?
                v : n
        }
        if (-Infinity === p || Infinity === n) return PIXI.EmptyRectangle;
        a = this._bounds;
        a.x = p;
        a.width = c - p;
        a.y = r;
        a.height = n - r;
        return this._currentBounds = a
    };
    Object.defineProperty(b.Rope.prototype, "updateAnimation", {
        get: function() {
            return this._updateAnimation
        },
        set: function(a) {
            a && "function" === typeof a ? (this._hasUpdateAnimation = !0, this._updateAnimation = a) : (this._hasUpdateAnimation = !1, this._updateAnimation = null)
        }
    });
    Object.defineProperty(b.Rope.prototype, "segments", {
        get: function() {
            for (var a = [], c, e, d, f, g = 0; g < this.points.length; g++) c =
                4 * g, e = this.vertices[c] * this.scale.x, d = this.vertices[c + 1] * this.scale.y, f = this.vertices[c + 4] * this.scale.x, c = this.vertices[c + 3] * this.scale.y, f = b.Math.difference(e, f), c = b.Math.difference(d, c), e += this.world.x, d += this.world.y, e = new b.Rectangle(e, d, f, c), a.push(e);
            return a
        }
    });
    b.TileSprite = function(a, c, e, d, f, g, h) {
        c = c || 0;
        e = e || 0;
        d = d || 256;
        f = f || 256;
        g = g || null;
        h = h || null;
        PIXI.Sprite.call(this, new PIXI.Texture(b.Cache.DEFAULT.baseTexture), d, f);
        this.type = b.TILESPRITE;
        this.physicsType = b.SPRITE;
        this._scroll = new b.Point;
        this.tileScale = new b.Point(1, 1);
        this.tileScaleOffset = new b.Point(1, 1);
        this.tilePosition = new b.Point;
        this.textureDebug = !1;
        this.tilePattern = this.tilingTexture = this.canvasBuffer = null;
        this.refreshTexture = !0;
        this.frameHeight = this.frameWidth = 0;
        this._width = d;
        this._height = f;
        b.Component.Core.init.call(this, a, c, e, g, h)
    };
    b.TileSprite.prototype = Object.create(PIXI.Sprite.prototype);
    b.TileSprite.prototype.constructor = b.TileSprite;
    b.Component.Core.install.call(b.TileSprite.prototype, "Angle Animation AutoCull Bounds BringToTop Destroy FixedToCamera Health InCamera InputEnabled InWorld LifeSpan LoadTexture Overlap PhysicsBody Reset Smoothed".split(" "));
    b.TileSprite.prototype.preUpdatePhysics = b.Component.PhysicsBody.preUpdate;
    b.TileSprite.prototype.preUpdateLifeSpan = b.Component.LifeSpan.preUpdate;
    b.TileSprite.prototype.preUpdateInWorld = b.Component.InWorld.preUpdate;
    b.TileSprite.prototype.preUpdateCore = b.Component.Core.preUpdate;
    b.TileSprite.prototype.preUpdate = function() {
        0 !== this._scroll.x && (this.tilePosition.x += this._scroll.x * this.game.time.physicsElapsed);
        0 !== this._scroll.y && (this.tilePosition.y += this._scroll.y * this.game.time.physicsElapsed);
        return this.preUpdatePhysics() &&
            this.preUpdateLifeSpan() && this.preUpdateInWorld() ? this.preUpdateCore() : !1
    };
    b.TileSprite.prototype.autoScroll = function(a, c) {
        this._scroll.set(a, c);
        return this
    };
    b.TileSprite.prototype.stopScroll = function() {
        this._scroll.set(0, 0);
        return this
    };
    b.TileSprite.prototype.destroy = function(a) {
        b.Component.Destroy.prototype.destroy.call(this, a);
        PIXI.Sprite.prototype.destroy.call(this);
        this.canvasBuffer && (this.canvasBuffer.destroy(), this.canvasBuffer = null);
        this.tilePosition = this.tileScaleOffset = this.tileScale = null;
        this.tilingTexture && (this.tilingTexture.destroy(!0), this.tilingTexture = null)
    };
    b.TileSprite.prototype.reset = function(a, c) {
        b.Component.Reset.prototype.reset.call(this, a, c);
        this.tilePosition.x = 0;
        this.tilePosition.y = 0;
        return this
    };
    b.TileSprite.prototype.setTexture = function(a) {
        this.texture !== a && (this.texture = a, this.refreshTexture = !0, this.cachedTint = 16777215);
        return this
    };
    b.TileSprite.prototype._renderWebGL = function(a) {
        if (this.visible && this.renderable && 0 !== this.alpha) {
            this._mask && (a.spriteBatch.stop(),
                a.maskManager.pushMask(this.mask, a), a.spriteBatch.start());
            this._filters && (a.spriteBatch.flush(), a.filterManager.pushFilter(this._filterBlock));
            if (this.refreshTexture)
                if (this.generateTilingTexture(!0, a), this.tilingTexture) this.tilingTexture.needsUpdate && (this.tilingTexture.baseTexture.textureIndex = this.texture.baseTexture.textureIndex, a.renderer.updateTexture(this.tilingTexture.baseTexture), this.tilingTexture.needsUpdate = !1);
                else return;
            a.spriteBatch.renderTilingSprite(this);
            for (var c = 0; c < this.children.length; c++) this.children[c]._renderWebGL(a);
            c = !1;
            this._filters && (c = !0, a.spriteBatch.stop(), a.filterManager.popFilter());
            this._mask && (c || a.spriteBatch.stop(), a.maskManager.popMask(this._mask, a));
            c && a.spriteBatch.start()
        }
    };
    b.TileSprite.prototype._renderCanvas = function(a) {
        if (this.visible && this.renderable && 0 !== this.alpha) {
            var c = a.context;
            this._mask && a.maskManager.pushMask(this._mask, a);
            c.globalAlpha = this.worldAlpha;
            var b = this.worldTransform,
                d = a.resolution,
                f = b.tx * d + a.shakeX,
                g = b.ty * d + a.shakeY;
            c.setTransform(b.a * d, b.b * d, b.c * d, b.d * d, f, g);
            16777215 ===
                this.tint || !this.texture.requiresReTint && this.cachedTint === this.tint || (this.tintedTexture = PIXI.CanvasTinter.getTintedTexture(this, this.tint), this.cachedTint = this.tint, this.texture.requiresReTint = !1, this.refreshTexture = !0);
            if (this.refreshTexture)
                if (this.generateTilingTexture(!1, a), this.tilingTexture) this.tilePattern = c.createPattern(this.tilingTexture.baseTexture.source, "repeat");
                else return;
            b = a.currentBlendMode;
            this.blendMode !== a.currentBlendMode && (a.currentBlendMode = this.blendMode, c.globalCompositeOperation =
                PIXI.blendModesCanvas[a.currentBlendMode]);
            d = this.tilePosition;
            var h = this.tileScale;
            d.x %= this.tilingTexture.baseTexture.width;
            d.y %= this.tilingTexture.baseTexture.height;
            c.scale(h.x, h.y);
            c.translate(d.x + this.anchor.x * -this._width, d.y + this.anchor.y * -this._height);
            c.fillStyle = this.tilePattern;
            f = -d.x;
            g = -d.y;
            var n = this._width / h.x,
                p = this._height / h.y;
            a.roundPixels && (f |= 0, g |= 0, n |= 0, p |= 0);
            c.fillRect(f, g, n, p);
            c.scale(1 / h.x, 1 / h.y);
            c.translate(-d.x + this.anchor.x * this._width, -d.y + this.anchor.y * this._height);
            this._mask &&
                a.maskManager.popMask(a);
            for (f = 0; f < this.children.length; f++) this.children[f]._renderCanvas(a);
            b !== this.blendMode && (a.currentBlendMode = b, c.globalCompositeOperation = PIXI.blendModesCanvas[b])
        }
    };
    b.TileSprite.prototype.onTextureUpdate = function() {};
    b.TileSprite.prototype.generateTilingTexture = function(a) {
        if (this.texture.baseTexture.hasLoaded) {
            var c = this.texture,
                e = c.frame,
                d = this._frame.sourceSizeW || this._frame.width,
                f = this._frame.sourceSizeH || this._frame.height,
                g = 0,
                h = 0;
            this._frame.trimmed && (g = this._frame.spriteSourceSizeX,
                h = this._frame.spriteSourceSizeY);
            a && (d = b.Math.getNextPowerOfTwo(d), f = b.Math.getNextPowerOfTwo(f));
            this.canvasBuffer ? (this.canvasBuffer.resize(d, f), this.tilingTexture.baseTexture.width = d, this.tilingTexture.baseTexture.height = f) : (this.canvasBuffer = new PIXI.CanvasBuffer(d, f), this.tilingTexture = PIXI.Texture.fromCanvas(this.canvasBuffer.canvas), this.tilingTexture.isTiling = !0);
            this.tilingTexture.needsUpdate = !0;
            this.textureDebug && (this.canvasBuffer.context.strokeStyle = "#00ff00", this.canvasBuffer.context.strokeRect(0,
                0, d, f));
            a = c.crop.width;
            var n = c.crop.height;
            if (a !== d || n !== f) a = d, n = f;
            this.canvasBuffer.context.drawImage(this.tintedTexture ? this.tintedTexture : c.baseTexture.source, c.crop.x, c.crop.y, c.crop.width, c.crop.height, g, h, a, n);
            this.tileScaleOffset.x = e.width / d;
            this.tileScaleOffset.y = e.height / f;
            this.refreshTexture = !1;
            this.tilingTexture.baseTexture._powerOf2 = !0
        }
    };
    b.TileSprite.prototype.getBounds = function() {
        var a = this._width,
            c = this._height,
            b = a * (1 - this.anchor.x),
            d = a * -this.anchor.x,
            f = c * (1 - this.anchor.y),
            g = c * -this.anchor.y;
        c = this.worldTransform;
        var h = c.a,
            n = c.b,
            p = c.c,
            r = c.d,
            u = c.tx,
            t = c.ty;
        c = h * d + p * g + u;
        a = r * g + n * d + t;
        var v = h * b + p * g + u;
        g = r * g + n * b + t;
        var w = h * b + p * f + u;
        b = r * f + n * b + t;
        h = h * d + p * f + u;
        d = r * f + n * d + t;
        n = f = -Infinity;
        p = r = Infinity;
        r = c < r ? c : r;
        r = v < r ? v : r;
        r = w < r ? w : r;
        r = h < r ? h : r;
        p = a < p ? a : p;
        p = g < p ? g : p;
        p = b < p ? b : p;
        p = d < p ? d : p;
        f = c > f ? c : f;
        f = v > f ? v : f;
        f = w > f ? w : f;
        n = a > n ? a : n;
        n = g > n ? g : n;
        n = b > n ? b : n;
        c = this._bounds;
        c.x = r;
        c.width = (h > f ? h : f) - r;
        c.y = p;
        c.height = (d > n ? d : n) - p;
        return this._currentBounds = c
    };
    Object.defineProperty(b.TileSprite.prototype, "width", {
        get: function() {
            return this._width
        },
        set: function(a) {
            this._width = a
        }
    });
    Object.defineProperty(b.TileSprite.prototype, "height", {
        get: function() {
            return this._height
        },
        set: function(a) {
            this._height = a
        }
    });
    b.CanvasPool = {
        create: function(a, c, e) {
            var d = b.CanvasPool.getFirst(); - 1 === d ? (a = {
                parent: a,
                canvas: document.createElement("canvas")
            }, b.CanvasPool.pool.push(a), a = a.canvas) : (b.CanvasPool.pool[d].parent = a, a = b.CanvasPool.pool[d].canvas);
            void 0 !== c && (a.width = c, a.height = e);
            return a
        },
        getFirst: function() {
            for (var a = b.CanvasPool.pool, c = 0; c < a.length; c++)
                if (!a[c].parent) return c;
            return -1
        },
        remove: function(a) {
            for (var c = b.CanvasPool.pool, e = 0; e < c.length; e++) c[e].parent === a && (c[e].parent = null, c[e].canvas.width = 1, c[e].canvas.height = 1)
        },
        removeByCanvas: function(a) {
            for (var c = b.CanvasPool.pool, e = 0; e < c.length; e++) c[e].canvas === a && (c[e].parent = null, c[e].canvas.width = 1, c[e].canvas.height = 1)
        },
        getTotal: function() {
            for (var a = b.CanvasPool.pool, c = 0, e = 0; e < a.length; e++) a[e].parent && c++;
            return c
        },
        getFree: function() {
            for (var a = b.CanvasPool.pool, c = 0, e = 0; e < a.length; e++) a[e].parent || c++;
            return c
        },
        log: function() {
            console.log("CanvasPool: %s used, %s free, %s total", this.getTotal(), this.getFree(), this.pool.length)
        }
    };
    b.CanvasPool.pool = [];
    Object.defineProperty(b.CanvasPool, "length", {
        get: function() {
            return this.pool.length
        }
    });
    b.Device = function() {
        this.deviceReadyAt = 0;
        this.iOS = this.desktop = this.initialized = !1;
        this.iOSVersion = 0;
        this.canvas = this.windowsPhone = this.windows = this.macOS = this.linux = this.chromeOS = this.android = this.crosswalk = this.ejecta = this.electron = this.nodeWebkit = this.node = this.cordova = this.cocoonJSApp =
            this.cocoonJS = !1;
        this.canvasBitBltShift = null;
        this.vibration = this.typedArray = this.pointerLock = this.css3D = this.worker = this.localStorage = this.fileSystem = this.file = this.webGL = this.canUseMultiply = this.canHandleAlpha = !1;
        this.getUserMedia = !0;
        this.mspointer = this.touch = this.quirksMode = !1;
        this.wheelEvent = null;
        this.chrome = this.arora = !1;
        this.chromeVersion = 0;
        this.firefox = this.epiphany = !1;
        this.firefoxVersion = 0;
        this.ie = !1;
        this.ieVersion = 0;
        this.trident = !1;
        this.tridentVersion = 0;
        this.safari = this.opera = this.midori =
            this.mobileSafari = this.edge = !1;
        this.safariVersion = 0;
        this.iPad = this.iPhone4 = this.iPhone = this.hlsVideo = this.vp9Video = this.webmVideo = this.mp4Video = this.h264Video = this.oggVideo = this.dolby = this.webm = this.m4a = this.wav = this.mp3 = this.opus = this.ogg = this.webAudio = this.audioData = this.silk = this.webApp = !1;
        this.pixelRatio = 0;
        this.fullscreen = this.support32bit = this.LITTLE_ENDIAN = this.littleEndian = !1;
        this.cancelFullscreen = this.requestFullscreen = "";
        this.fullscreenKeyboard = !1
    };
    b.Device = new b.Device;
    b.Device.onInitialized =
        new b.Signal;
    b.Device.whenReady = function(a, c, b) {
        var e = this._readyCheck;
        this.deviceReadyAt || !e ? a.call(c, this) : e._monitor || b ? (e._queue = e._queue || [], e._queue.push([a, c])) : (e._monitor = e.bind(this), e._queue = e._queue || [], e._queue.push([a, c]), a = "undefined" !== typeof window.cordova, c = navigator.isCocoonJS, "complete" === document.readyState || "interactive" === document.readyState ? window.setTimeout(e._monitor, 0) : a && !c ? document.addEventListener("deviceready", e._monitor, !1) : (document.addEventListener("DOMContentLoaded",
            e._monitor, !1), window.addEventListener("load", e._monitor, !1)))
    };
    b.Device._readyCheck = function() {
        var a = this._readyCheck;
        if (!document.body) window.setTimeout(a._monitor, 20);
        else if (!this.deviceReadyAt) {
            this.deviceReadyAt = Date.now();
            document.removeEventListener("deviceready", a._monitor);
            document.removeEventListener("DOMContentLoaded", a._monitor);
            window.removeEventListener("load", a._monitor);
            this._initialize();
            this.initialized = !0;
            this.onInitialized.dispatch(this);
            for (var c; c = a._queue.shift();) c[0].call(c[1],
                this);
            this.onInitialized = this._initialize = this._readyCheck = null
        }
    };
    b.Device._initialize = function() {
        function a() {
            var a = new ArrayBuffer(4),
                c = new Uint8Array(a);
            a = new Uint32Array(a);
            c[0] = 161;
            c[1] = 178;
            c[2] = 195;
            c[3] = 212;
            return 3569595041 === a[0] ? !0 : 2712847316 === a[0] ? !1 : null
        }

        function c() {
            if (void 0 === Uint8ClampedArray) return !1;
            var a = b.CanvasPool.create(this, 1, 1).getContext("2d");
            if (!a) return !1;
            a = a.createImageData(1, 1);
            b.CanvasPool.remove(this);
            return a.data instanceof Uint8ClampedArray
        }
        var e = this;
        (function() {
            var a =
                navigator.userAgent;
            /Playstation Vita/.test(a) ? e.vita = !0 : /Kindle/.test(a) || /\bKF[A-Z][A-Z]+/.test(a) || /Silk.*Mobile Safari/.test(a) ? e.kindle = !0 : /Android/.test(a) ? e.android = !0 : /CrOS/.test(a) ? e.chromeOS = !0 : /iP[ao]d|iPhone/i.test(a) ? (e.iOS = !0, navigator.appVersion.match(/OS (\d+)/), e.iOSVersion = parseInt(RegExp.$1, 10)) : /Linux/.test(a) ? e.linux = !0 : /Mac OS/.test(a) ? e.macOS = !0 : /Windows/.test(a) && (e.windows = !0);
            if (/Windows Phone/i.test(a) || /IEMobile/i.test(a)) e.android = !1, e.iOS = !1, e.macOS = !1, e.windows = !0, e.windowsPhone = !0;
            var c = /Silk/.test(a);
            if (e.windows || e.macOS || e.linux && !c || e.chromeOS) e.desktop = !0;
            if (e.windowsPhone || /Windows NT/i.test(a) && /Touch/i.test(a)) e.desktop = !1
        })();
        (function() {
            var a = navigator.userAgent;
            /Arora/.test(a) ? e.arora = !0 : /Edge\/\d+/.test(a) ? e.edge = !0 : /Chrome\/(\d+)/.test(a) && !e.windowsPhone ? (e.chrome = !0, e.chromeVersion = parseInt(RegExp.$1, 10)) : /Epiphany/.test(a) ? e.epiphany = !0 : /Firefox\D+(\d+)/.test(a) ? (e.firefox = !0, e.firefoxVersion = parseInt(RegExp.$1, 10)) : /AppleWebKit/.test(a) && e.iOS ? e.mobileSafari = !0 : /MSIE (\d+\.\d+);/.test(a) ? (e.ie = !0, e.ieVersion = parseInt(RegExp.$1, 10)) : /Midori/.test(a) ? e.midori = !0 : /Opera/.test(a) ? e.opera = !0 : /Safari\/(\d+)/.test(a) && !e.windowsPhone ? (e.safari = !0, /Version\/(\d+)\./.test(a) && (e.safariVersion = parseInt(RegExp.$1, 10))) : /Trident\/(\d+\.\d+)(.*)rv:(\d+\.\d+)/.test(a) && (e.ie = !0, e.trident = !0, e.tridentVersion = parseInt(RegExp.$1, 10), e.ieVersion = parseInt(RegExp.$3, 10));
            /Silk/.test(a) && (e.silk = !0);
            navigator.standalone && (e.webApp = !0);
            "undefined" !== typeof window.cordova &&
                (e.cordova = !0);
            "undefined" !== typeof process && "undefined" !== typeof require && (e.node = !0);
            e.node && "object" === typeof process.versions && (e.nodeWebkit = !!process.versions["node-webkit"], e.electron = !!process.versions.electron);
            navigator.isCocoonJS && (e.cocoonJS = !0);
            if (e.cocoonJS) try {
                e.cocoonJSApp = "undefined" !== typeof CocoonJS
            } catch (l) {
                e.cocoonJSApp = !1
            }
            "undefined" !== typeof window.ejecta && (e.ejecta = !0);
            /Crosswalk/.test(a) && (e.crosswalk = !0)
        })();
        (function() {
            e.audioData = !!window.Audio;
            e.webAudio = !(!window.AudioContext &&
                !window.webkitAudioContext);
            var a = document.createElement("audio");
            try {
                if (a.canPlayType) {
                    a.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/, "") && (e.ogg = !0);
                    if (a.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/, "") || a.canPlayType("audio/opus;").replace(/^no$/, "")) e.opus = !0;
                    a.canPlayType("audio/mpeg;").replace(/^no$/, "") && (e.mp3 = !0);
                    a.canPlayType('audio/wav; codecs="1"').replace(/^no$/, "") && (e.wav = !0);
                    if (a.canPlayType("audio/x-m4a;") || a.canPlayType("audio/aac;").replace(/^no$/, "")) e.m4a = !0;
                    a.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/, "") && (e.webm = !0);
                    if ("" !== a.canPlayType('audio/mp4;codecs="ec-3"'))
                        if (e.edge) e.dolby = !0;
                        else if (e.safari && 9 <= e.safariVersion && /Mac OS X (\d+)_(\d+)/.test(navigator.userAgent)) {
                        var c = parseInt(RegExp.$1, 10),
                            b = parseInt(RegExp.$2, 10);
                        if (10 === c && 11 <= b || 10 < c) e.dolby = !0
                    }
                }
            } catch (q) {}
        })();
        (function() {
            var a = document.createElement("video");
            try {
                a.canPlayType && (a.canPlayType('video/ogg; codecs="theora"').replace(/^no$/, "") && (e.oggVideo = !0), a.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,
                    "") && (e.h264Video = !0, e.mp4Video = !0), a.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/, "") && (e.webmVideo = !0), a.canPlayType('video/webm; codecs="vp9"').replace(/^no$/, "") && (e.vp9Video = !0), a.canPlayType('application/x-mpegURL; codecs="avc1.42E01E"').replace(/^no$/, "") && (e.hlsVideo = !0))
            } catch (l) {}
        })();
        (function() {
            var a = document.createElement("p"),
                c = {
                    webkitTransform: "-webkit-transform",
                    OTransform: "-o-transform",
                    msTransform: "-ms-transform",
                    MozTransform: "-moz-transform",
                    transform: "transform"
                };
            document.body.insertBefore(a, null);
            for (var b in c)
                if (void 0 !== a.style[b]) {
                    a.style[b] = "translate3d(1px,1px,1px)";
                    var d = window.getComputedStyle(a).getPropertyValue(c[b])
                } document.body.removeChild(a);
            e.css3D = void 0 !== d && 0 < d.length && "none" !== d
        })();
        e.pixelRatio = window.devicePixelRatio || 1;
        e.iPhone = -1 !== navigator.userAgent.toLowerCase().indexOf("iphone");
        e.iPhone4 = 2 === e.pixelRatio && e.iPhone;
        e.iPad = -1 !== navigator.userAgent.toLowerCase().indexOf("ipad");
        e.typedArray = "undefined" !== typeof Int8Array ? !0 : !1;
        "undefined" !==
        typeof ArrayBuffer && "undefined" !== typeof Uint8Array && "undefined" !== typeof Uint32Array && (e.littleEndian = a(), e.LITTLE_ENDIAN = e.littleEndian);
        e.support32bit = "undefined" !== typeof ArrayBuffer && "undefined" !== typeof Uint8ClampedArray && "undefined" !== typeof Int32Array && null !== e.littleEndian && c();
        navigator.vibrate = navigator.vibrate || navigator.webkitVibrate || navigator.mozVibrate || navigator.msVibrate;
        navigator.vibrate && (e.vibration = !0);
        e.canvas = !!window.CanvasRenderingContext2D || e.cocoonJS;
        try {
            e.localStorage = !!localStorage.getItem
        } catch (k) {
            e.localStorage = !1
        }
        e.file = !!window.File && !!window.FileReader && !!window.FileList && !!window.Blob;
        e.fileSystem = !!window.requestFileSystem;
        e.webGL = !!window.WebGLRenderingContext;
        e.worker = !!window.Worker;
        e.pointerLock = "pointerLockElement" in document || "mozPointerLockElement" in document || "webkitPointerLockElement" in document;
        e.quirksMode = "CSS1Compat" === document.compatMode ? !1 : !0;
        navigator.getUserMedia = navigator.getUserMedia || navigator.webkitGetUserMedia || navigator.mozGetUserMedia ||
            navigator.msGetUserMedia || navigator.oGetUserMedia;
        window.URL = window.URL || window.webkitURL || window.mozURL || window.msURL;
        e.getUserMedia = e.getUserMedia && !!navigator.getUserMedia && !!window.URL;
        e.firefox && 21 > e.firefoxVersion && (e.getUserMedia = !1);
        !e.iOS && (e.ie || e.firefox || e.chrome) && (e.canvasBitBltShift = !0);
        if (e.safari || e.mobileSafari) e.canvasBitBltShift = !1;
        (function() {
            var a = b.CanvasPool.create(this, 6, 1),
                c = a.getContext("2d");
            c.fillStyle = "rgba(10, 20, 30, 0.5)";
            c.fillRect(0, 0, 1, 1);
            var d = c.getImageData(0,
                0, 1, 1);
            if (d) {
                c.putImageData(d, 1, 0);
                var f = c.getImageData(1, 0, 1, 1);
                e.canHandleAlpha = f.data[0] === d.data[0] && f.data[1] === d.data[1] && f.data[2] === d.data[2] && f.data[3] === d.data[3]
            }
            c.globalCompositeOperation = "multiply";
            e.canUseMultiply = "multiply" === c.globalCompositeOperation;
            b.CanvasPool.removeByCanvas(a);
            PIXI.CanvasTinter.tintMethod = e.canUseMultiply ? PIXI.CanvasTinter.tintWithMultiply : PIXI.CanvasTinter.tintWithPerPixel
        })();
        (function() {
            for (var a = "requestFullscreen requestFullScreen webkitRequestFullscreen webkitRequestFullScreen msRequestFullscreen msRequestFullScreen mozRequestFullScreen mozRequestFullscreen".split(" "),
                    c = document.createElement("div"), b = 0; b < a.length; b++)
                if (c[a[b]]) {
                    e.fullscreen = !0;
                    e.requestFullscreen = a[b];
                    break
                } a = "cancelFullScreen exitFullscreen webkitCancelFullScreen webkitExitFullscreen msCancelFullScreen msExitFullscreen mozCancelFullScreen mozExitFullscreen".split(" ");
            if (e.fullscreen)
                for (b = 0; b < a.length; b++)
                    if (document[a[b]]) {
                        e.cancelFullscreen = a[b];
                        break
                    } window.Element && Element.ALLOW_KEYBOARD_INPUT && (e.fullscreenKeyboard = !0)
        })();
        if ("ontouchstart" in document.documentElement || window.navigator.maxTouchPoints &&
            1 <= window.navigator.maxTouchPoints) e.touch = !0;
        if (window.PointerEvent || window.MSPointerEvent || window.navigator.msPointerEnabled || window.navigator.pointerEnabled) e.mspointer = !0;
        e.cocoonJS || ("onwheel" in window || e.ie && "WheelEvent" in window ? e.wheelEvent = "wheel" : "onmousewheel" in window ? e.wheelEvent = "mousewheel" : e.firefox && "MouseScrollEvent" in window && (e.wheelEvent = "DOMMouseScroll"))
    };
    b.Device.canPlayAudio = function(a) {
        return "mp3" === a && this.mp3 || "ogg" === a && (this.ogg || this.opus) || "m4a" === a && this.m4a || "opus" ===
            a && this.opus || "wav" === a && this.wav || "webm" === a && this.webm || "mp4" === a && this.dolby ? !0 : !1
    };
    b.Device.canPlayVideo = function(a) {
        return "webm" === a && (this.webmVideo || this.vp9Video) || "mp4" === a && (this.mp4Video || this.h264Video) || ("ogg" === a || "ogv" === a) && this.oggVideo || "mpeg" === a && this.hlsVideo ? !0 : !1
    };
    b.Device.needsTouchUnlock = function() {
        return !!(!this.cocoonJS && (this.iOS || this.android) || window.PhaserGlobal && window.PhaserGlobal.fakeiOSTouchLock)
    };
    b.Device.isAndroidStockBrowser = function() {
        var a = window.navigator.userAgent.match(/Android.*AppleWebKit\/([\d.]+)/);
        return a && 537 > a[1]
    };
    b.Canvas = {
        create: function(a, c, e, d, f) {
            c = c || 256;
            e = e || 256;
            a = f ? document.createElement("canvas") : b.CanvasPool.create(a, c, e);
            "string" === typeof d && "" !== d && (a.id = d);
            a.width = c;
            a.height = e;
            a.style.display = "block";
            return a
        },
        setBackgroundColor: function(a, c) {
            a.style.backgroundColor = c || "rgb(0,0,0)";
            return a
        },
        setTouchAction: function(a, c) {
            c = c || "none";
            a.style.msTouchAction = c;
            a.style["ms-touch-action"] = c;
            a.style["touch-action"] = c;
            return a
        },
        setUserSelect: function(a, c) {
            c = c || "none";
            a.style["-webkit-touch-callout"] =
                c;
            a.style["-webkit-user-select"] = c;
            a.style["-khtml-user-select"] = c;
            a.style["-moz-user-select"] = c;
            a.style["-ms-user-select"] = c;
            a.style["user-select"] = c;
            a.style["-webkit-tap-highlight-color"] = "rgba(0, 0, 0, 0)";
            return a
        },
        addToDOM: function(a, c, b) {
            var e;
            void 0 === b && (b = !0);
            c && ("string" === typeof c ? e = document.getElementById(c) : "object" === typeof c && 1 === c.nodeType && (e = c));
            e || (e = document.body);
            b && e.style && (e.style.overflow = "hidden");
            e.appendChild(a);
            return a
        },
        removeFromDOM: function(a) {
            a.parentNode && a.parentNode.removeChild(a)
        },
        setTransform: function(a, c, b, d, f, g, h) {
            a.setTransform(d, g, h, f, c, b);
            return a
        },
        setSmoothingEnabled: function(a, c) {
            var e = b.Canvas.getSmoothingPrefix(a);
            e && (a[e] = c);
            return a
        },
        getSmoothingPrefix: function(a) {
            var c = ["i", "webkitI", "msI", "mozI", "oI"],
                b;
            for (b in c) {
                var d = c[b] + "mageSmoothingEnabled";
                if (d in a) return d
            }
            return null
        },
        getSmoothingEnabled: function(a) {
            var c = b.Canvas.getSmoothingPrefix(a);
            if (c) return a[c]
        },
        setImageRenderingCrisp: function(a) {
            for (var c = ["-webkit-optimize-contrast", "-moz-crisp-edges", "crisp-edges",
                    "pixelated"
                ], b = 0; b < c.length; b++) a.style["image-rendering"] = c[b];
            a.style.msInterpolationMode = "nearest-neighbor";
            return a
        },
        setImageRenderingBicubic: function(a) {
            a.style["image-rendering"] = "auto";
            a.style.msInterpolationMode = "bicubic";
            return a
        }
    };
    b.RequestAnimationFrame = function(a, c) {
        void 0 === c && (c = !1);
        this.game = a;
        this.isRunning = !1;
        this.forceSetTimeOut = c;
        a = ["ms", "moz", "webkit", "o"];
        for (c = 0; c < a.length && !window.requestAnimationFrame; c++) window.requestAnimationFrame = window[a[c] + "RequestAnimationFrame"], window.cancelAnimationFrame =
            window[a[c] + "CancelAnimationFrame"] || window[a[c] + "CancelRequestAnimationFrame"];
        this._isSetTimeOut = !1;
        this._timeOutID = this._onLoop = null
    };
    b.RequestAnimationFrame.prototype = {
        start: function() {
            this.isRunning = !0;
            var a = this;
            !window.requestAnimationFrame || this.forceSetTimeOut ? (this._isSetTimeOut = !0, this._onLoop = function() {
                return a.updateSetTimeout()
            }, this._timeOutID = window.setTimeout(this._onLoop, 0)) : (this._isSetTimeOut = !1, this._onLoop = function(c) {
                return a.updateRAF(c)
            }, this._timeOutID = window.requestAnimationFrame(this._onLoop))
        },
        updateRAF: function(a) {
            this.isRunning && (this.game.update(Math.floor(a)), this._timeOutID = window.requestAnimationFrame(this._onLoop))
        },
        updateSetTimeout: function() {
            this.isRunning && (this.game.update(Date.now()), this._timeOutID = window.setTimeout(this._onLoop, this.game.time.timeToCall))
        },
        stop: function() {
            this._isSetTimeOut ? clearTimeout(this._timeOutID) : window.cancelAnimationFrame(this._timeOutID);
            this.isRunning = !1
        },
        isSetTimeOut: function() {
            return this._isSetTimeOut
        },
        isRAF: function() {
            return !1 === this._isSetTimeOut
        }
    };
    b.RequestAnimationFrame.prototype.constructor = b.RequestAnimationFrame;
    b.Math = {
        PI2: 2 * Math.PI,
        HALF_PI: .5 * Math.PI,
        DEG_TO_RAD: Math.PI / 180,
        RAD_TO_DEG: 180 / Math.PI,
        degToRad: function(a) {
            return a * b.Math.DEG_TO_RAD
        },
        radToDeg: function(a) {
            return a * b.Math.RAD_TO_DEG
        },
        getNextPowerOfTwo: function(a) {
            if (0 < a && 0 === (a & a - 1)) return a;
            for (var c = 1; c < a;) c <<= 1;
            return c
        },
        isPowerOfTwo: function(a, c) {
            return 0 < a && 0 === (a & a - 1) && 0 < c && 0 === (c & c - 1)
        },
        random: function(a, c) {
            void 0 === a && (a = 0);
            void 0 === c && (c = 1);
            if (a === c) return a;
            if (a > c) {
                var b =
                    a;
                a = c;
                c = b
            }
            return Math.random() * (c - a) + a
        },
        between: function(a, c) {
            void 0 === a && (a = 0);
            void 0 === c && (c = 1);
            if (a === c) return a;
            if (a > c) {
                var b = a;
                a = c;
                c = b
            }
            a = Math.ceil(a);
            c = Math.floor(c);
            return Math.floor(Math.random() * (c - a + 1)) + a
        },
        fuzzyEqual: function(a, c, b) {
            void 0 === b && (b = 1E-4);
            return Math.abs(a - c) < b
        },
        fuzzyLessThan: function(a, c, b) {
            void 0 === b && (b = 1E-4);
            return a < c + b
        },
        fuzzyGreaterThan: function(a, c, b) {
            void 0 === b && (b = 1E-4);
            return a > c - b
        },
        fuzzyCeil: function(a, c) {
            void 0 === c && (c = 1E-4);
            return Math.ceil(a - c)
        },
        fuzzyFloor: function(a,
            c) {
            void 0 === c && (c = 1E-4);
            return Math.floor(a + c)
        },
        average: function() {
            for (var a = 0, c = arguments.length, b = 0; b < c; b++) a += +arguments[b];
            return a / c
        },
        shear: function(a) {
            return a % 1
        },
        snapTo: function(a, c, b) {
            void 0 === b && (b = 0);
            if (0 === c) return a;
            a = c * Math.round((a - b) / c);
            return b + a
        },
        snapToFloor: function(a, c, b) {
            void 0 === b && (b = 0);
            if (0 === c) return a;
            a = c * Math.floor((a - b) / c);
            return b + a
        },
        snapToCeil: function(a, c, b) {
            void 0 === b && (b = 0);
            if (0 === c) return a;
            a = c * Math.ceil((a - b) / c);
            return b + a
        },
        roundTo: function(a, c, b) {
            void 0 === c && (c =
                0);
            void 0 === b && (b = 10);
            c = Math.pow(b, -c);
            return Math.round(a * c) / c
        },
        floorTo: function(a, c, b) {
            void 0 === c && (c = 0);
            void 0 === b && (b = 10);
            c = Math.pow(b, -c);
            return Math.floor(a * c) / c
        },
        ceilTo: function(a, c, b) {
            void 0 === c && (c = 0);
            void 0 === b && (b = 10);
            c = Math.pow(b, -c);
            return Math.ceil(a * c) / c
        },
        rotateToAngle: function(a, c, e) {
            void 0 === e && (e = .05);
            if (a === c) return a;
            Math.abs(c - a) <= e || Math.abs(c - a) >= b.Math.PI2 - e ? a = c : (Math.abs(c - a) > Math.PI && (c = c < a ? c + b.Math.PI2 : c - b.Math.PI2), c > a ? a += e : c < a && (a -= e));
            return a
        },
        getShortestAngle: function(a,
            c) {
            a = c - a;
            return 0 === a ? 0 : a - 360 * Math.floor((a - -180) / 360)
        },
        angleBetween: function(a, c, b, d) {
            return Math.atan2(d - c, b - a)
        },
        angleBetweenY: function(a, c, b, d) {
            return Math.atan2(b - a, d - c)
        },
        angleBetweenPoints: function(a, c) {
            return Math.atan2(c.y - a.y, c.x - a.x)
        },
        angleBetweenPointsY: function(a, c) {
            return Math.atan2(c.x - a.x, c.y - a.y)
        },
        reverseAngle: function(a) {
            return this.normalizeAngle(a + Math.PI, !0)
        },
        normalizeAngle: function(a) {
            a %= 2 * Math.PI;
            return 0 <= a ? a : a + 2 * Math.PI
        },
        maxAdd: function(a, c, b) {
            return Math.min(a + c, b)
        },
        minSub: function(a,
            c, b) {
            return Math.max(a - c, b)
        },
        wrap: function(a, c, b) {
            b -= c;
            if (0 >= b) return 0;
            a = (a - c) % b;
            0 > a && (a += b);
            return a + c
        },
        wrapValue: function(a, c, b) {
            a = Math.abs(a);
            c = Math.abs(c);
            b = Math.abs(b);
            return (a + c) % b
        },
        isOdd: function(a) {
            return !!(a & 1)
        },
        isEven: function(a) {
            return !(a & 1)
        },
        min: function() {
            for (var a = 1 === arguments.length && "object" === typeof arguments[0] ? arguments[0] : arguments, c = 1, b = 0, d = a.length; c < d; c++) a[c] < a[b] && (b = c);
            return a[b]
        },
        max: function() {
            for (var a = 1 === arguments.length && "object" === typeof arguments[0] ? arguments[0] :
                    arguments, c = 1, b = 0, d = a.length; c < d; c++) a[c] > a[b] && (b = c);
            return a[b]
        },
        minProperty: function(a) {
            for (var c = 2 === arguments.length && "object" === typeof arguments[1] ? arguments[1] : arguments.slice(1), b = 1, d = 0, f = c.length; b < f; b++) c[b][a] < c[d][a] && (d = b);
            return c[d][a]
        },
        maxProperty: function(a) {
            for (var c = 2 === arguments.length && "object" === typeof arguments[1] ? arguments[1] : arguments.slice(1), b = 1, d = 0, f = c.length; b < f; b++) c[b][a] > c[d][a] && (d = b);
            return c[d][a]
        },
        wrapAngle: function(a, c) {
            return c ? this.wrap(a, -Math.PI, Math.PI) : this.wrap(a,
                -180, 180)
        },
        linearInterpolation: function(a, c) {
            var b = a.length - 1,
                d = b * c,
                f = Math.floor(d);
            return 0 > c ? this.linear(a[0], a[1], d) : 1 < c ? this.linear(a[b], a[b - 1], b - d) : this.linear(a[f], a[f + 1 > b ? b : f + 1], d - f)
        },
        bezierInterpolation: function(a, c) {
            for (var b = 0, d = a.length - 1, f = 0; f <= d; f++) b += Math.pow(1 - c, d - f) * Math.pow(c, f) * a[f] * this.bernstein(d, f);
            return b
        },
        catmullRomInterpolation: function(a, c) {
            var b = a.length - 1,
                d = b * c,
                f = Math.floor(d);
            return a[0] === a[b] ? (0 > c && (f = Math.floor(d = b * (1 + c))), this.catmullRom(a[(f - 1 + b) % b], a[f], a[(f + 1) %
                b], a[(f + 2) % b], d - f)) : 0 > c ? a[0] - (this.catmullRom(a[0], a[0], a[1], a[1], -d) - a[0]) : 1 < c ? a[b] - (this.catmullRom(a[b], a[b], a[b - 1], a[b - 1], d - b) - a[b]) : this.catmullRom(a[f ? f - 1 : 0], a[f], a[b < f + 1 ? b : f + 1], a[b < f + 2 ? b : f + 2], d - f)
        },
        linear: function(a, c, b) {
            return (c - a) * b + a
        },
        bernstein: function(a, c) {
            return this.factorial(a) / this.factorial(c) / this.factorial(a - c)
        },
        factorial: function(a) {
            if (0 === a) return 1;
            for (var c = a; --a;) c *= a;
            return c
        },
        catmullRom: function(a, c, b, d, f) {
            a = .5 * (b - a);
            d = .5 * (d - c);
            var e = f * f;
            return (2 * c - 2 * b + a + d) * f * e + (-3 * c + 3 * b -
                2 * a - d) * e + a * f + c
        },
        difference: function(a, c) {
            return Math.abs(a - c)
        },
        roundAwayFromZero: function(a) {
            return 0 < a ? Math.ceil(a) : Math.floor(a)
        },
        sinCosGenerator: function(a, c, b, d) {
            void 0 === c && (c = 1);
            void 0 === b && (b = 1);
            void 0 === d && (d = 1);
            d = d * Math.PI / a;
            for (var e = [], k = [], f = 0; f < a; f++) b -= c * d, c += b * d, e[f] = b, k[f] = c;
            return {
                sin: k,
                cos: e,
                length: a
            }
        },
        hypot: function(a, c) {
            return Math.sqrt(a * a + c * c)
        },
        distance: function(a, c, b, d) {
            a -= b;
            c -= d;
            return Math.sqrt(a * a + c * c)
        },
        distanceSq: function(a, c, b, d) {
            a -= b;
            c -= d;
            return a * a + c * c
        },
        distancePow: function(a,
            c, b, d, f) {
            void 0 === f && (f = 2);
            return Math.sqrt(Math.pow(b - a, f) + Math.pow(d - c, f))
        },
        clamp: function(a, c, b) {
            return a < c ? c : b < a ? b : a
        },
        clampBottom: function(a, c) {
            return a < c ? c : a
        },
        within: function(a, c, b) {
            return Math.abs(a - c) <= b
        },
        mapLinear: function(a, c, b, d, f) {
            return d + (a - c) * (f - d) / (b - c)
        },
        smoothstep: function(a, c, b) {
            a = Math.max(0, Math.min(1, (a - c) / (b - c)));
            return a * a * (3 - 2 * a)
        },
        smootherstep: function(a, c, b) {
            a = Math.max(0, Math.min(1, (a - c) / (b - c)));
            return a * a * a * (a * (6 * a - 15) + 10)
        },
        sign: function(a) {
            return 0 > a ? -1 : 0 < a ? 1 : 0
        },
        percent: function(a,
            c, b) {
            void 0 === b && (b = 0);
            return a > c || b > c ? 1 : a < b || b > a ? 0 : (a - b) / c
        }
    };
    b.RandomDataGenerator = function(a) {
        void 0 === a && (a = []);
        this.c = 1;
        this.s2 = this.s1 = this.s0 = 0;
        "string" === typeof a ? this.state(a) : this.sow(a)
    };
    b.RandomDataGenerator.prototype = {
        rnd: function() {
            var a = 2091639 * this.s0 + 2.3283064365386963E-10 * this.c;
            this.c = a | 0;
            this.s0 = this.s1;
            this.s1 = this.s2;
            return this.s2 = a - this.c
        },
        sow: function(a) {
            this.s0 = this.hash(" ");
            this.s1 = this.hash(this.s0);
            this.s2 = this.hash(this.s1);
            this.c = 1;
            if (a)
                for (var c = 0; c < a.length && null !=
                    a[c]; c++) {
                    var b = a[c];
                    this.s0 -= this.hash(b);
                    this.s0 += ~~(0 > this.s0);
                    this.s1 -= this.hash(b);
                    this.s1 += ~~(0 > this.s1);
                    this.s2 -= this.hash(b);
                    this.s2 += ~~(0 > this.s2)
                }
        },
        hash: function(a) {
            var c;
            var b = 4022871197;
            a = a.toString();
            for (c = 0; c < a.length; c++) {
                b += a.charCodeAt(c);
                var d = .02519603282416938 * b;
                b = d >>> 0;
                d -= b;
                d *= b;
                b = d >>> 0;
                d -= b;
                b += 4294967296 * d
            }
            return 2.3283064365386963E-10 * (b >>> 0)
        },
        integer: function() {
            return 4294967296 * this.rnd.apply(this)
        },
        frac: function() {
            return this.rnd.apply(this) + 1.1102230246251565E-16 * (2097152 *
                this.rnd.apply(this) | 0)
        },
        real: function() {
            return this.integer() + this.frac()
        },
        integerInRange: function(a, c) {
            return Math.floor(this.realInRange(0, c - a + 1) + a)
        },
        between: function(a, c) {
            return this.integerInRange(a, c)
        },
        realInRange: function(a, c) {
            return this.frac() * (c - a) + a
        },
        normal: function() {
            return 1 - 2 * this.frac()
        },
        uuid: function() {
            var a, c;
            for (c = a = ""; 36 > a++; c += ~a % 5 | 3 * a & 4 ? (a ^ 15 ? 8 ^ this.frac() * (a ^ 20 ? 16 : 4) : 4).toString(16) : "-");
            return c
        },
        pick: function(a) {
            return a[this.integerInRange(0, a.length - 1)]
        },
        sign: function() {
            return this.pick([-1,
                1
            ])
        },
        weightedPick: function(a) {
            return a[~~(Math.pow(this.frac(), 2) * (a.length - 1) + .5)]
        },
        timestamp: function(a, c) {
            return this.realInRange(a || 9466848E5, c || 1577862E6)
        },
        angle: function() {
            return this.integerInRange(-180, 180)
        },
        state: function(a) {
            "string" === typeof a && a.match(/^!rnd/) && (a = a.split(","), this.c = parseFloat(a[1]), this.s0 = parseFloat(a[2]), this.s1 = parseFloat(a[3]), this.s2 = parseFloat(a[4]));
            return ["!rnd", this.c, this.s0, this.s1, this.s2].join()
        }
    };
    b.RandomDataGenerator.prototype.constructor = b.RandomDataGenerator;
    b.QuadTree = function(a, c, b, d, f, g, h) {
        this.maxObjects = 10;
        this.maxLevels = 4;
        this.level = 0;
        this.bounds = {};
        this.objects = [];
        this.nodes = [];
        this._empty = [];
        this.reset(a, c, b, d, f, g, h)
    };
    b.QuadTree.prototype = {
        reset: function(a, c, b, d, f, g, h) {
            this.maxObjects = f || 10;
            this.maxLevels = g || 4;
            this.level = h || 0;
            this.bounds = {
                x: Math.round(a),
                y: Math.round(c),
                width: b,
                height: d,
                subWidth: Math.floor(b / 2),
                subHeight: Math.floor(d / 2),
                right: Math.round(a) + Math.floor(b / 2),
                bottom: Math.round(c) + Math.floor(d / 2)
            };
            this.objects.length = 0;
            this.nodes.length =
                0
        },
        populate: function(a) {
            a.forEach(this.populateHandler, this, !0)
        },
        populateHandler: function(a) {
            a.body && a.exists && this.insert(a.body)
        },
        split: function() {
            this.nodes[0] = new b.QuadTree(this.bounds.right, this.bounds.y, this.bounds.subWidth, this.bounds.subHeight, this.maxObjects, this.maxLevels, this.level + 1);
            this.nodes[1] = new b.QuadTree(this.bounds.x, this.bounds.y, this.bounds.subWidth, this.bounds.subHeight, this.maxObjects, this.maxLevels, this.level + 1);
            this.nodes[2] = new b.QuadTree(this.bounds.x, this.bounds.bottom,
                this.bounds.subWidth, this.bounds.subHeight, this.maxObjects, this.maxLevels, this.level + 1);
            this.nodes[3] = new b.QuadTree(this.bounds.right, this.bounds.bottom, this.bounds.subWidth, this.bounds.subHeight, this.maxObjects, this.maxLevels, this.level + 1)
        },
        insert: function(a) {
            var c = 0;
            if (null != this.nodes[0]) {
                var b = this.getIndex(a);
                if (-1 !== b) {
                    this.nodes[b].insert(a);
                    return
                }
            }
            this.objects.push(a);
            if (this.objects.length > this.maxObjects && this.level < this.maxLevels)
                for (null == this.nodes[0] && this.split(); c < this.objects.length;) b =
                    this.getIndex(this.objects[c]), -1 !== b ? this.nodes[b].insert(this.objects.splice(c, 1)[0]) : c++
        },
        getIndex: function(a) {
            var c = -1;
            a.x < this.bounds.right && a.right < this.bounds.right ? a.y < this.bounds.bottom && a.bottom < this.bounds.bottom ? c = 1 : a.y > this.bounds.bottom && (c = 2) : a.x > this.bounds.right && (a.y < this.bounds.bottom && a.bottom < this.bounds.bottom ? c = 0 : a.y > this.bounds.bottom && (c = 3));
            return c
        },
        retrieve: function(a) {
            if (a instanceof b.Rectangle) var c = this.objects,
                e = this.getIndex(a);
            else {
                if (!a.body) return this._empty;
                c = this.objects;
                e = this.getIndex(a.body)
            }
            this.nodes[0] && (-1 !== e ? c = c.concat(this.nodes[e].retrieve(a)) : (c = c.concat(this.nodes[0].retrieve(a)), c = c.concat(this.nodes[1].retrieve(a)), c = c.concat(this.nodes[2].retrieve(a)), c = c.concat(this.nodes[3].retrieve(a))));
            return c
        },
        clear: function() {
            this.objects.length = 0;
            for (var a = this.nodes.length; a--;) this.nodes[a].clear(), this.nodes.splice(a, 1);
            this.nodes.length = 0
        }
    };
    b.QuadTree.prototype.constructor = b.QuadTree;
    b.Net = function(a) {
        this.game = a
    };
    b.Net.prototype = {
        getHostName: function() {
            return window.location &&
                window.location.hostname ? window.location.hostname : null
        },
        checkDomainName: function(a) {
            return -1 !== window.location.hostname.indexOf(a)
        },
        updateQueryString: function(a, c, b, d) {
            void 0 === b && (b = !1);
            if (void 0 === d || "" === d) d = window.location.href;
            var e = new RegExp("([?|&])" + a + "=.*?(&|#|$)(.*)", "gi");
            if (e.test(d)) a = "undefined" !== typeof c && null !== c ? d.replace(e, "$1" + a + "=" + c + "$2$3") : d.replace(e, "$1$3").replace(/(&|\?)$/, "");
            else {
                if ("undefined" !== typeof c && null !== c) {
                    e = -1 !== d.indexOf("?") ? "&" : "?";
                    var k = d.split("#");
                    d =
                        k[0] + e + a + "=" + c;
                    k[1] && (d += "#" + k[1])
                }
                a = d
            }
            if (b) window.location.href = a;
            else return a
        },
        getQueryString: function(a) {
            void 0 === a && (a = "");
            var c = {},
                b = location.search.substring(1).split("&"),
                d;
            for (d in b) {
                var f = b[d].split("=");
                if (1 < f.length) {
                    if (a && a === this.decodeURI(f[0])) return this.decodeURI(f[1]);
                    c[this.decodeURI(f[0])] = this.decodeURI(f[1])
                }
            }
            return c
        },
        decodeURI: function(a) {
            return decodeURIComponent(a.replace(/\+/g, " "))
        }
    };
    b.Net.prototype.constructor = b.Net;
    b.TweenManager = function(a) {
        this.game = a;
        this.frameBased = !1;
        this._tweens = [];
        this._add = [];
        this.easeMap = {
            Power0: b.Easing.Power0,
            Power1: b.Easing.Power1,
            Power2: b.Easing.Power2,
            Power3: b.Easing.Power3,
            Power4: b.Easing.Power4,
            Linear: b.Easing.Linear.None,
            Quad: b.Easing.Quadratic.Out,
            Cubic: b.Easing.Cubic.Out,
            Quart: b.Easing.Quartic.Out,
            Quint: b.Easing.Quintic.Out,
            Sine: b.Easing.Sinusoidal.Out,
            Expo: b.Easing.Exponential.Out,
            Circ: b.Easing.Circular.Out,
            Elastic: b.Easing.Elastic.Out,
            Back: b.Easing.Back.Out,
            Bounce: b.Easing.Bounce.Out,
            "Quad.easeIn": b.Easing.Quadratic.In,
            "Cubic.easeIn": b.Easing.Cubic.In,
            "Quart.easeIn": b.Easing.Quartic.In,
            "Quint.easeIn": b.Easing.Quintic.In,
            "Sine.easeIn": b.Easing.Sinusoidal.In,
            "Expo.easeIn": b.Easing.Exponential.In,
            "Circ.easeIn": b.Easing.Circular.In,
            "Elastic.easeIn": b.Easing.Elastic.In,
            "Back.easeIn": b.Easing.Back.In,
            "Bounce.easeIn": b.Easing.Bounce.In,
            "Quad.easeOut": b.Easing.Quadratic.Out,
            "Cubic.easeOut": b.Easing.Cubic.Out,
            "Quart.easeOut": b.Easing.Quartic.Out,
            "Quint.easeOut": b.Easing.Quintic.Out,
            "Sine.easeOut": b.Easing.Sinusoidal.Out,
            "Expo.easeOut": b.Easing.Exponential.Out,
            "Circ.easeOut": b.Easing.Circular.Out,
            "Elastic.easeOut": b.Easing.Elastic.Out,
            "Back.easeOut": b.Easing.Back.Out,
            "Bounce.easeOut": b.Easing.Bounce.Out,
            "Quad.easeInOut": b.Easing.Quadratic.InOut,
            "Cubic.easeInOut": b.Easing.Cubic.InOut,
            "Quart.easeInOut": b.Easing.Quartic.InOut,
            "Quint.easeInOut": b.Easing.Quintic.InOut,
            "Sine.easeInOut": b.Easing.Sinusoidal.InOut,
            "Expo.easeInOut": b.Easing.Exponential.InOut,
            "Circ.easeInOut": b.Easing.Circular.InOut,
            "Elastic.easeInOut": b.Easing.Elastic.InOut,
            "Back.easeInOut": b.Easing.Back.InOut,
            "Bounce.easeInOut": b.Easing.Bounce.InOut
        };
        this.game.onPause.add(this._pauseAll, this);
        this.game.onResume.add(this._resumeAll, this)
    };
    b.TweenManager.prototype = {
        getAll: function() {
            return this._tweens
        },
        removeAll: function() {
            for (var a = 0; a < this._tweens.length; a++) this._tweens[a].pendingDelete = !0;
            this._add = []
        },
        removeFrom: function(a, c) {
            void 0 === c && (c = !0);
            var e;
            if (Array.isArray(a))
                for (c = 0, e = a.length; c < e; c++) this.removeFrom(a[c]);
            else if (a.type === b.GROUP && c)
                for (c = 0, e = a.children.length; c < e; c++) this.removeFrom(a.children[c]);
            else {
                c = 0;
                for (e = this._tweens.length; c < e; c++) a === this._tweens[c].target && this.remove(this._tweens[c]);
                c = 0;
                for (e = this._add.length; c < e; c++) a === this._add[c].target && this.remove(this._add[c])
            }
        },
        add: function(a) {
            a._manager = this;
            this._add.push(a)
        },
        create: function(a) {
            return new b.Tween(a, this.game, this)
        },
        remove: function(a) {
            var c = this._tweens.indexOf(a); - 1 !== c ? this._tweens[c].pendingDelete = !0 : (c = this._add.indexOf(a), -1 !== c && (this._add[c].pendingDelete = !0))
        },
        update: function() {
            var a = this._add.length,
                c = this._tweens.length;
            if (0 === c && 0 === a) return !1;
            for (var b = 0; b < c;) this._tweens[b].update(this.game.time.time) ? b++ : (this._tweens.splice(b, 1), c--);
            0 < a && (this._tweens = this._tweens.concat(this._add), this._add.length = 0);
            return !0
        },
        isTweening: function(a, c) {
            c || (c = !1);
            return this._tweens.some(function(b) {
                return b.target === a && (!c || b.isRunning && !b.pendingDelete)
            })
        },
        _pauseAll: function() {
            for (var a = this._tweens.length - 1; 0 <= a; a--) this._tweens[a]._pause()
        },
        _resumeAll: function() {
            for (var a = this._tweens.length - 1; 0 <= a; a--) this._tweens[a]._resume()
        },
        pauseAll: function() {
            for (var a = this._tweens.length - 1; 0 <= a; a--) this._tweens[a].pause()
        },
        resumeAll: function() {
            for (var a = this._tweens.length - 1; 0 <= a; a--) this._tweens[a].resume(!0)
        }
    };
    b.TweenManager.prototype.constructor = b.TweenManager;
    b.Tween = function(a, c, e) {
        this.game = c;
        this.target = a;
        this.manager = e;
        this.timeline = [];
        this.reverse = !1;
        this.timeScale = 1;
        this.repeatCounter = 0;
        this.pendingDelete = !1;
        this.onStart = new b.Signal;
        this.onLoop = new b.Signal;
        this.onRepeat = new b.Signal;
        this.onChildComplete = new b.Signal;
        this.onComplete =
            new b.Signal;
        this.isRunning = !1;
        this.current = 0;
        this.properties = {};
        this.chainedTween = null;
        this.isPaused = !1;
        this.frameBased = e.frameBased;
        this._onUpdateCallbackContext = this._onUpdateCallback = null;
        this._pausedTime = 0;
        this._hasStarted = this._codePaused = !1
    };
    b.Tween.updateColor = function(a) {
        b.Color.updateColor(a.target)
    };
    b.Tween.prototype = {
        to: function(a, c, e, d, f, g, h) {
            if (void 0 === c || 0 >= c) c = 1E3;
            if (void 0 === e || null === e) e = b.Easing.Default;
            void 0 === d && (d = !1);
            void 0 === f && (f = 0);
            void 0 === g && (g = 0);
            void 0 === h && (h = !1);
            "string" === typeof e && this.manager.easeMap[e] && (e = this.manager.easeMap[e]);
            if (this.isRunning) return console.warn("Phaser.Tween.to cannot be called after Tween.start"), this;
            this.timeline.push((new b.TweenData(this)).to(a, c, e, f, g, h));
            d && this.start();
            return this
        },
        from: function(a, c, e, d, f, g, h) {
            void 0 === c && (c = 1E3);
            if (void 0 === e || null === e) e = b.Easing.Default;
            void 0 === d && (d = !1);
            void 0 === f && (f = 0);
            void 0 === g && (g = 0);
            void 0 === h && (h = !1);
            "string" === typeof e && this.manager.easeMap[e] && (e = this.manager.easeMap[e]);
            if (this.isRunning) return console.warn("Phaser.Tween.from cannot be called after Tween.start"),
                this;
            this.timeline.push((new b.TweenData(this)).from(a, c, e, f, g, h));
            d && this.start();
            return this
        },
        start: function(a) {
            void 0 === a && (a = 0);
            if (this.pendingDelete) return console.warn("Phaser.Tween.start cannot be called after Tween.stop"), this;
            if (null === this.game || null === this.target || 0 === this.timeline.length || this.isRunning) return this;
            for (var c = 0; c < this.timeline.length; c++)
                for (var b in this.timeline[c].vEnd) this.properties[b] = this.target[b] || 0, Array.isArray(this.properties[b]) || (this.properties[b] *= 1);
            for (c =
                0; c < this.timeline.length; c++) this.timeline[c].loadValues();
            this.manager.add(this);
            this.isRunning = !0;
            if (0 > a || a > this.timeline.length - 1) a = 0;
            this.current = a;
            this.timeline[this.current].start();
            return this
        },
        stop: function(a) {
            void 0 === a && (a = !1);
            this.isRunning = !1;
            this._onUpdateCallbackContext = this._onUpdateCallback = null;
            a && (this.onComplete.dispatch(this.target, this), this._hasStarted = !1, this.chainedTween && this.chainedTween.start());
            this.manager.remove(this);
            return this
        },
        updateTweenData: function(a, c, b) {
            if (0 ===
                this.timeline.length) return this;
            void 0 === b && (b = 0);
            if (-1 === b)
                for (b = 0; b < this.timeline.length; b++) this.timeline[b][a] = c;
            else this.timeline[b][a] = c;
            return this
        },
        delay: function(a, c) {
            return this.updateTweenData("delay", a, c)
        },
        repeat: function(a, c, b) {
            void 0 === c && (c = 0);
            this.updateTweenData("repeatCounter", a, b);
            this.updateTweenData("repeatTotal", a, b);
            return this.updateTweenData("repeatDelay", c, b)
        },
        repeatDelay: function(a, c) {
            return this.updateTweenData("repeatDelay", a, c)
        },
        yoyo: function(a, c, b) {
            void 0 === c && (c =
                0);
            this.updateTweenData("yoyo", a, b);
            return this.updateTweenData("yoyoDelay", c, b)
        },
        yoyoDelay: function(a, c) {
            return this.updateTweenData("yoyoDelay", a, c)
        },
        easing: function(a, c) {
            "string" === typeof a && this.manager.easeMap[a] && (a = this.manager.easeMap[a]);
            return this.updateTweenData("easingFunction", a, c)
        },
        interpolation: function(a, c, e) {
            void 0 === c && (c = b.Math);
            this.updateTweenData("interpolationFunction", a, e);
            return this.updateTweenData("interpolationContext", c, e)
        },
        repeatAll: function(a) {
            void 0 === a && (a = 0);
            this.repeatCounter =
                a;
            return this
        },
        chain: function() {
            for (var a = arguments.length; a--;) 0 < a ? arguments[a - 1].chainedTween = arguments[a] : this.chainedTween = arguments[a];
            return this
        },
        loop: function(a) {
            void 0 === a && (a = !0);
            this.repeatCounter = a ? -1 : 0;
            return this
        },
        onUpdateCallback: function(a, c) {
            this._onUpdateCallback = a;
            this._onUpdateCallbackContext = c;
            return this
        },
        pause: function() {
            this._codePaused = this.isPaused = !0;
            this._pausedTime = this.game.time.time
        },
        _pause: function() {
            this._codePaused || (this.isPaused = !0, this._pausedTime = this.game.time.time)
        },
        resume: function() {
            if (this.isPaused) {
                this._codePaused = this.isPaused = !1;
                for (var a = 0; a < this.timeline.length; a++) this.timeline[a].isRunning || (this.timeline[a].startTime += this.game.time.time - this._pausedTime)
            }
        },
        _resume: function() {
            this._codePaused || this.resume()
        },
        update: function(a) {
            if (this.pendingDelete || !this.target) return !1;
            if (this.isPaused) return !0;
            a = this.timeline[this.current].update(a);
            if (a === b.TweenData.PENDING) return !0;
            if (a === b.TweenData.RUNNING) return this._hasStarted || (this.onStart.dispatch(this.target,
                this), this._hasStarted = !0), null !== this._onUpdateCallback && this._onUpdateCallback.call(this._onUpdateCallbackContext, this, this.timeline[this.current].value, this.timeline[this.current]), this.isRunning;
            if (a === b.TweenData.LOOPED) return -1 === this.timeline[this.current].repeatCounter ? this.onLoop.dispatch(this.target, this) : this.onRepeat.dispatch(this.target, this), !0;
            if (a === b.TweenData.COMPLETE) {
                a = !1;
                this.reverse ? (this.current--, 0 > this.current && (this.current = this.timeline.length - 1, a = !0)) : (this.current++, this.current ===
                    this.timeline.length && (this.current = 0, a = !0));
                if (a) {
                    if (-1 === this.repeatCounter) return this.timeline[this.current].start(), this.onLoop.dispatch(this.target, this), !0;
                    if (0 < this.repeatCounter) return this.repeatCounter--, this.timeline[this.current].start(), this.onRepeat.dispatch(this.target, this), !0;
                    this.isRunning = !1;
                    this.onComplete.dispatch(this.target, this);
                    this._hasStarted = !1;
                    this.chainedTween && this.chainedTween.start();
                    return !1
                }
                this.onChildComplete.dispatch(this.target, this);
                this.timeline[this.current].start();
                return !0
            }
        },
        generateData: function(a, c) {
            if (null === this.game || null === this.target) return null;
            void 0 === a && (a = 60);
            void 0 === c && (c = []);
            for (var b = 0; b < this.timeline.length; b++)
                for (var d in this.timeline[b].vEnd) this.properties[d] = this.target[d] || 0, Array.isArray(this.properties[d]) || (this.properties[d] *= 1);
            for (b = 0; b < this.timeline.length; b++) this.timeline[b].loadValues();
            for (b = 0; b < this.timeline.length; b++) c = c.concat(this.timeline[b].generateData(a));
            return c
        }
    };
    Object.defineProperty(b.Tween.prototype, "totalDuration", {
        get: function() {
            for (var a = 0, c = 0; c < this.timeline.length; c++) a += this.timeline[c].duration;
            return a
        }
    });
    b.Tween.prototype.constructor = b.Tween;
    b.TweenData = function(a) {
        this.parent = a;
        this.game = a.game;
        this.vStart = {};
        this.vStartCache = {};
        this.vEnd = {};
        this.vEndCache = {};
        this.duration = 1E3;
        this.repeatTotal = this.repeatDelay = this.repeatCounter = this.value = this.percent = 0;
        this.yoyo = this.interpolate = !1;
        this.yoyoDelay = 0;
        this.inReverse = !1;
        this.dt = this.delay = 0;
        this.startTime = null;
        this.easingFunction = b.Easing.Default;
        this.interpolationFunction =
            b.Math.linearInterpolation;
        this.interpolationContext = b.Math;
        this.isFrom = this.isRunning = !1
    };
    b.TweenData.PENDING = 0;
    b.TweenData.RUNNING = 1;
    b.TweenData.LOOPED = 2;
    b.TweenData.COMPLETE = 3;
    b.TweenData.prototype = {
        to: function(a, c, b, d, f, g) {
            this.vEnd = a;
            this.duration = c;
            this.easingFunction = b;
            this.delay = d;
            this.repeatTotal = f;
            this.yoyo = g;
            this.isFrom = !1;
            return this
        },
        from: function(a, c, b, d, f, g) {
            this.vEnd = a;
            this.duration = c;
            this.easingFunction = b;
            this.delay = d;
            this.repeatTotal = f;
            this.yoyo = g;
            this.isFrom = !0;
            return this
        },
        start: function() {
            this.startTime =
                this.game.time.time + this.delay;
            this.dt = this.parent.reverse ? this.duration : 0;
            this.isRunning = 0 < this.delay ? !1 : !0;
            if (this.isFrom)
                for (var a in this.vStartCache) this.vStart[a] = this.vEndCache[a], this.vEnd[a] = this.vStartCache[a], this.parent.target[a] = this.vStart[a];
            this.value = 0;
            this.repeatCounter = this.repeatTotal;
            return this
        },
        loadValues: function() {
            for (var a in this.parent.properties) {
                this.vStart[a] = this.parent.properties[a];
                if (Array.isArray(this.vEnd[a])) {
                    if (0 === this.vEnd[a].length) continue;
                    0 === this.percent &&
                        (this.vEnd[a] = [this.vStart[a]].concat(this.vEnd[a]))
                }
                "undefined" !== typeof this.vEnd[a] ? ("string" === typeof this.vEnd[a] && (this.vEnd[a] = this.vStart[a] + parseFloat(this.vEnd[a], 10)), this.parent.properties[a] = this.vEnd[a]) : this.vEnd[a] = this.vStart[a];
                this.vStartCache[a] = this.vStart[a];
                this.vEndCache[a] = this.vEnd[a]
            }
            return this
        },
        update: function(a) {
            if (!this.isRunning)
                if (a >= this.startTime) this.isRunning = !0;
                else return b.TweenData.PENDING;
            else if (a < this.startTime) return b.TweenData.RUNNING;
            a = this.parent.frameBased ?
                this.game.time.physicsElapsedMS : this.game.time.elapsedMS;
            this.parent.reverse ? (this.dt -= a * this.parent.timeScale, this.dt = Math.max(this.dt, 0)) : (this.dt += a * this.parent.timeScale, this.dt = Math.min(this.dt, this.duration));
            this.percent = this.dt / this.duration;
            this.value = this.easingFunction(this.percent);
            for (var c in this.vEnd) {
                a = this.vStart[c];
                var e = this.vEnd[c];
                Array.isArray(e) ? this.parent.target[c] = this.interpolationFunction.call(this.interpolationContext, e, this.value) : this.parent.target[c] = a + (e - a) * this.value
            }
            return !this.parent.reverse &&
                1 === this.percent || this.parent.reverse && 0 === this.percent ? this.repeat() : b.TweenData.RUNNING
        },
        generateData: function(a) {
            this.dt = this.parent.reverse ? this.duration : 0;
            var c = [],
                b = !1;
            a = 1 / a * 1E3;
            do {
                this.parent.reverse ? (this.dt -= a, this.dt = Math.max(this.dt, 0)) : (this.dt += a, this.dt = Math.min(this.dt, this.duration));
                this.percent = this.dt / this.duration;
                this.value = this.easingFunction(this.percent);
                var d = {},
                    f;
                for (f in this.vEnd) {
                    var g = this.vStart[f],
                        h = this.vEnd[f];
                    Array.isArray(h) ? d[f] = this.interpolationFunction.call(this.interpolationContext,
                        h, this.value) : d[f] = g + (h - g) * this.value
                }
                c.push(d);
                if (!this.parent.reverse && 1 === this.percent || this.parent.reverse && 0 === this.percent) b = !0
            } while (!b);
            this.yoyo && (b = c.slice(), b.reverse(), c = c.concat(b));
            return c
        },
        repeat: function() {
            if (this.yoyo) {
                if (this.inReverse && 0 === this.repeatCounter) {
                    for (var a in this.vStartCache) this.vStart[a] = this.vStartCache[a], this.vEnd[a] = this.vEndCache[a];
                    this.inReverse = !1;
                    return b.TweenData.COMPLETE
                }
                this.inReverse = !this.inReverse
            } else if (0 === this.repeatCounter) return b.TweenData.COMPLETE;
            if (this.inReverse)
                for (a in this.vStartCache) this.vStart[a] = this.vEndCache[a], this.vEnd[a] = this.vStartCache[a];
            else {
                for (a in this.vStartCache) this.vStart[a] = this.vStartCache[a], this.vEnd[a] = this.vEndCache[a];
                0 < this.repeatCounter && this.repeatCounter--
            }
            this.startTime = this.game.time.time;
            this.yoyo && this.inReverse ? this.startTime += this.yoyoDelay : this.inReverse || (this.startTime += this.repeatDelay);
            this.dt = this.parent.reverse ? this.duration : 0;
            return b.TweenData.LOOPED
        }
    };
    b.TweenData.prototype.constructor = b.TweenData;
    b.Easing = {
        Linear: {
            None: function(a) {
                return a
            }
        },
        Quadratic: {
            In: function(a) {
                return a * a
            },
            Out: function(a) {
                return a * (2 - a)
            },
            InOut: function(a) {
                return 1 > (a *= 2) ? .5 * a * a : -.5 * (--a * (a - 2) - 1)
            }
        },
        Cubic: {
            In: function(a) {
                return a * a * a
            },
            Out: function(a) {
                return --a * a * a + 1
            },
            InOut: function(a) {
                return 1 > (a *= 2) ? .5 * a * a * a : .5 * ((a -= 2) * a * a + 2)
            }
        },
        Quartic: {
            In: function(a) {
                return a * a * a * a
            },
            Out: function(a) {
                return 1 - --a * a * a * a
            },
            InOut: function(a) {
                return 1 > (a *= 2) ? .5 * a * a * a * a : -.5 * ((a -= 2) * a * a * a - 2)
            }
        },
        Quintic: {
            In: function(a) {
                return a * a * a * a * a
            },
            Out: function(a) {
                return --a *
                    a * a * a * a + 1
            },
            InOut: function(a) {
                return 1 > (a *= 2) ? .5 * a * a * a * a * a : .5 * ((a -= 2) * a * a * a * a + 2)
            }
        },
        Sinusoidal: {
            In: function(a) {
                return 0 === a ? 0 : 1 === a ? 1 : 1 - Math.cos(a * Math.PI / 2)
            },
            Out: function(a) {
                return 0 === a ? 0 : 1 === a ? 1 : Math.sin(a * Math.PI / 2)
            },
            InOut: function(a) {
                return 0 === a ? 0 : 1 === a ? 1 : .5 * (1 - Math.cos(Math.PI * a))
            }
        },
        Exponential: {
            In: function(a) {
                return 0 === a ? 0 : Math.pow(1024, a - 1)
            },
            Out: function(a) {
                return 1 === a ? 1 : 1 - Math.pow(2, -10 * a)
            },
            InOut: function(a) {
                return 0 === a ? 0 : 1 === a ? 1 : 1 > (a *= 2) ? .5 * Math.pow(1024, a - 1) : .5 * (-Math.pow(2, -10 * (a - 1)) +
                    2)
            }
        },
        Circular: {
            In: function(a) {
                return 1 - Math.sqrt(1 - a * a)
            },
            Out: function(a) {
                return Math.sqrt(1 - --a * a)
            },
            InOut: function(a) {
                return 1 > (a *= 2) ? -.5 * (Math.sqrt(1 - a * a) - 1) : .5 * (Math.sqrt(1 - (a -= 2) * a) + 1)
            }
        },
        Elastic: {
            In: function(a) {
                var c = .1;
                if (0 === a) return 0;
                if (1 === a) return 1;
                if (!c || 1 > c) {
                    c = 1;
                    var b = .1
                } else b = .4 * Math.asin(1 / c) / (2 * Math.PI);
                return -(c * Math.pow(2, 10 * --a) * Math.sin(2 * (a - b) * Math.PI / .4))
            },
            Out: function(a) {
                var c = .1;
                if (0 === a) return 0;
                if (1 === a) return 1;
                if (!c || 1 > c) {
                    c = 1;
                    var b = .1
                } else b = .4 * Math.asin(1 / c) / (2 * Math.PI);
                return c * Math.pow(2, -10 * a) * Math.sin(2 * (a - b) * Math.PI / .4) + 1
            },
            InOut: function(a) {
                var c = .1;
                if (0 === a) return 0;
                if (1 === a) return 1;
                if (!c || 1 > c) {
                    c = 1;
                    var b = .1
                } else b = .4 * Math.asin(1 / c) / (2 * Math.PI);
                return 1 > (a *= 2) ? -.5 * c * Math.pow(2, 10 * --a) * Math.sin(2 * (a - b) * Math.PI / .4) : c * Math.pow(2, -10 * --a) * Math.sin(2 * (a - b) * Math.PI / .4) * .5 + 1
            }
        },
        Back: {
            In: function(a) {
                return a * a * (2.70158 * a - 1.70158)
            },
            Out: function(a) {
                return --a * a * (2.70158 * a + 1.70158) + 1
            },
            InOut: function(a) {
                return 1 > (a *= 2) ? .5 * a * a * (3.5949095 * a - 2.5949095) : .5 * ((a -= 2) * a * (3.5949095 *
                    a + 2.5949095) + 2)
            }
        },
        Bounce: {
            In: function(a) {
                return 1 - b.Easing.Bounce.Out(1 - a)
            },
            Out: function(a) {
                return a < 1 / 2.75 ? 7.5625 * a * a : a < 2 / 2.75 ? 7.5625 * (a -= 1.5 / 2.75) * a + .75 : a < 2.5 / 2.75 ? 7.5625 * (a -= 2.25 / 2.75) * a + .9375 : 7.5625 * (a -= 2.625 / 2.75) * a + .984375
            },
            InOut: function(a) {
                return .5 > a ? .5 * b.Easing.Bounce.In(2 * a) : .5 * b.Easing.Bounce.Out(2 * a - 1) + .5
            }
        }
    };
    b.Easing.Default = b.Easing.Linear.None;
    b.Easing.Power0 = b.Easing.Linear.None;
    b.Easing.Power1 = b.Easing.Quadratic.Out;
    b.Easing.Power2 = b.Easing.Cubic.Out;
    b.Easing.Power3 = b.Easing.Quartic.Out;
    b.Easing.Power4 = b.Easing.Quintic.Out;
    b.Time = function(a) {
        this.game = a;
        this.elapsedMS = this.elapsed = this.now = this.prevTime = this.time = 0;
        this.physicsElapsed = 1 / 60;
        this.physicsElapsedMS = 1 / 60 * 1E3;
        this.desiredFpsMult = 1 / 60;
        this._desiredFps = 60;
        this.suggestedFps = this.desiredFps;
        this.slowMotion = 1;
        this.advancedTiming = !1;
        this.rps = this.ups = this.fps = this.renders = this.updates = this.frames = 0;
        this.fpsMin = 1E3;
        this.fpsMax = 0;
        this.msMin = 1E3;
        this.timeExpected = this.timeToCall = this.pauseDuration = this.msMax = 0;
        this.events = new b.Timer(this.game,
            !1);
        this._pauseStarted = this._timeLastSecond = this._started = this._elapsedAccumulator = this._frameCount = 0;
        this._justResumed = !1;
        this._timers = []
    };
    b.Time.prototype = {
        boot: function() {
            this._started = Date.now();
            this.time = Date.now();
            this.events.start();
            this.timeExpected = this.time
        },
        add: function(a) {
            this._timers.push(a);
            return a
        },
        create: function(a) {
            void 0 === a && (a = !0);
            a = new b.Timer(this.game, a);
            this._timers.push(a);
            return a
        },
        removeAll: function() {
            for (var a = 0; a < this._timers.length; a++) this._timers[a].destroy();
            this._timers = [];
            this.events.removeAll()
        },
        refresh: function() {
            var a = this.time;
            this.time = Date.now();
            this.elapsedMS = this.time - a
        },
        update: function(a) {
            var c = this.time;
            this.time = Date.now();
            this.elapsedMS = this.time - c;
            this.prevTime = this.now;
            this.now = a;
            this.elapsed = this.now - this.prevTime;
            this.game.raf._isSetTimeOut && (this.timeToCall = Math.floor(Math.max(0, 1E3 / this._desiredFps - (this.timeExpected - a))), this.timeExpected = a + this.timeToCall);
            this.advancedTiming && this.updateAdvancedTiming();
            this.game.paused || (this.events.update(this.time),
                this._timers.length && this.updateTimers())
        },
        updateTimers: function() {
            for (var a = 0, c = this._timers.length; a < c;) this._timers[a].update(this.time) ? a++ : (this._timers.splice(a, 1), c--)
        },
        updateAdvancedTiming: function() {
            this._frameCount++;
            this._elapsedAccumulator += this.elapsed;
            this._frameCount >= 2 * this._desiredFps && (this.suggestedFps = 5 * Math.floor(200 / (this._elapsedAccumulator / this._frameCount)), this._elapsedAccumulator = this._frameCount = 0);
            this.msMin = Math.min(this.msMin, this.elapsed);
            this.msMax = Math.max(this.msMax,
                this.elapsed);
            this.frames++;
            if (this.now > this._timeLastSecond + 1E3) {
                var a = this.now - this._timeLastSecond;
                this.fps = Math.round(1E3 * this.frames / a);
                this.ups = Math.round(1E3 * this.updates / a);
                this.rps = Math.round(1E3 * this.renders / a);
                this.fpsMin = Math.min(this.fpsMin, this.fps);
                this.fpsMax = Math.max(this.fpsMax, this.fps);
                this._timeLastSecond = this.now;
                this.renders = this.updates = this.frames = 0
            }
        },
        countUpdate: function() {
            this.advancedTiming && this.updates++
        },
        countRender: function() {
            this.advancedTiming && this.renders++
        },
        gamePaused: function() {
            this._pauseStarted =
                Date.now();
            this.events.pause();
            for (var a = this._timers.length; a--;) this._timers[a]._pause()
        },
        gameResumed: function() {
            this.time = Date.now();
            this.pauseDuration = this.time - this._pauseStarted;
            this.events.resume();
            for (var a = this._timers.length; a--;) this._timers[a]._resume()
        },
        totalElapsedSeconds: function() {
            return .001 * (this.time - this._started)
        },
        elapsedSince: function(a) {
            return this.time - a
        },
        elapsedSecondsSince: function(a) {
            return .001 * (this.time - a)
        },
        reset: function() {
            this._started = this.time;
            this.removeAll()
        }
    };
    Object.defineProperty(b.Time.prototype,
        "desiredFps", {
            get: function() {
                return this._desiredFps
            },
            set: function(a) {
                this._desiredFps = a;
                this.physicsElapsed = 1 / a;
                this.physicsElapsedMS = 1E3 * this.physicsElapsed;
                this.desiredFpsMult = 1 / a
            }
        });
    b.Time.prototype.constructor = b.Time;
    b.Timer = function(a, c) {
        void 0 === c && (c = !0);
        this.game = a;
        this.running = !1;
        this.autoDestroy = c;
        this.expired = !1;
        this.elapsed = 0;
        this.events = [];
        this.onComplete = new b.Signal;
        this.nextTick = 0;
        this.timeCap = 1E3;
        this._codePaused = this.paused = !1;
        this._pauseTotal = this._pauseStarted = this._started = 0;
        this._now = Date.now();
        this._newTick = this._diff = this._i = this._marked = this._len = 0
    };
    b.Timer.MINUTE = 6E4;
    b.Timer.SECOND = 1E3;
    b.Timer.HALF = 500;
    b.Timer.QUARTER = 250;
    b.Timer.prototype = {
        create: function(a, c, e, d, f, g) {
            var k = a = Math.round(a);
            k = 0 === this._now ? k + this.game.time.time : k + this._now;
            a = new b.TimerEvent(this, a, k, e, c, d, f, g);
            this.events.push(a);
            this.order();
            this.expired = !1;
            return a
        },
        add: function(a, c, b) {
            return this.create(a, !1, 0, c, b, Array.prototype.slice.call(arguments, 3))
        },
        repeat: function(a, c, b, d) {
            return this.create(a,
                !1, c, b, d, Array.prototype.slice.call(arguments, 4))
        },
        loop: function(a, c, b) {
            return this.create(a, !0, 0, c, b, Array.prototype.slice.call(arguments, 3))
        },
        start: function(a) {
            if (!this.running)
                for (this._started = this.game.time.time + (a || 0), this.running = !0, a = 0; a < this.events.length; a++) this.events[a].tick = this.events[a].delay + this._started
        },
        stop: function(a) {
            this.running = !1;
            void 0 === a && (a = !0);
            a && (this.events.length = 0)
        },
        remove: function(a) {
            for (var c = 0; c < this.events.length; c++)
                if (this.events[c] === a) return this.events[c].pendingDelete = !0;
            return !1
        },
        order: function() {
            0 < this.events.length && (this.events.sort(this.sortHandler), this.nextTick = this.events[0].tick)
        },
        sortHandler: function(a, c) {
            return a.tick < c.tick ? -1 : a.tick > c.tick ? 1 : 0
        },
        clearPendingEvents: function() {
            for (this._i = this.events.length; this._i--;) this.events[this._i].pendingDelete && this.events.splice(this._i, 1);
            this._len = this.events.length;
            this._i = 0
        },
        update: function(a) {
            if (this.paused) return !0;
            this.elapsed = a - this._now;
            this._now = a;
            this.elapsed > this.timeCap && this.adjustEvents(a - this.elapsed);
            this._marked = 0;
            this.clearPendingEvents();
            if (this.running && this._now >= this.nextTick && 0 < this._len) {
                for (; this._i < this._len && this.running;)
                    if (a = this.events[this._i], this._now >= a.tick && !a.pendingDelete) this._newTick = this._now + a.delay - (this._now - a.tick), 0 > this._newTick && (this._newTick = this._now + a.delay), !0 === a.loop ? a.tick = this._newTick : 0 < a.repeatCount ? (a.repeatCount--, a.tick = this._newTick) : (this._marked++, a.pendingDelete = !0), a.callback.apply(a.callbackContext, a.args), this._i++;
                    else break;
                this.events.length >
                    this._marked ? this.order() : (this.expired = !0, this.onComplete.dispatch(this))
            }
            return this.expired && this.autoDestroy ? !1 : !0
        },
        pause: function() {
            this.running && (this._codePaused = !0, this.paused || (this._pauseStarted = this.game.time.time, this.paused = !0))
        },
        _pause: function() {
            !this.paused && this.running && (this._pauseStarted = this.game.time.time, this.paused = !0)
        },
        adjustEvents: function(a) {
            for (var c = 0; c < this.events.length; c++)
                if (!this.events[c].pendingDelete) {
                    var b = this.events[c].tick - a;
                    0 > b && (b = 0);
                    this.events[c].tick =
                        this._now + b
                } a = this.nextTick - a;
            this.nextTick = 0 > a ? this._now : this._now + a
        },
        resume: function() {
            if (this.paused) {
                var a = this.game.time.time;
                this._pauseTotal += a - this._now;
                this._now = a;
                this.adjustEvents(this._pauseStarted);
                this._codePaused = this.paused = !1
            }
        },
        _resume: function() {
            this._codePaused || this.resume()
        },
        removeAll: function() {
            this.onComplete.removeAll();
            this._i = this._len = this.events.length = 0
        },
        destroy: function() {
            this.onComplete.removeAll();
            this.running = !1;
            this.expired = !0;
            this.events = [];
            this._i = this._len = 0
        }
    };
    Object.defineProperty(b.Timer.prototype, "next", {
        get: function() {
            return this.nextTick
        }
    });
    Object.defineProperty(b.Timer.prototype, "duration", {
        get: function() {
            return this.running && this.nextTick > this._now ? this.nextTick - this._now : 0
        }
    });
    Object.defineProperty(b.Timer.prototype, "length", {
        get: function() {
            return this.events.length
        }
    });
    Object.defineProperty(b.Timer.prototype, "ms", {
        get: function() {
            return this.running ? this._now - this._started - this._pauseTotal : 0
        }
    });
    Object.defineProperty(b.Timer.prototype, "seconds", {
        get: function() {
            return this.running ?
                .001 * this.ms : 0
        }
    });
    b.Timer.prototype.constructor = b.Timer;
    b.TimerEvent = function(a, c, b, d, f, g, h, n) {
        this.timer = a;
        this.delay = c;
        this.tick = b;
        this.repeatCount = d - 1;
        this.loop = f;
        this.callback = g;
        this.callbackContext = h;
        this.args = n;
        this.pendingDelete = !1
    };
    b.TimerEvent.prototype.constructor = b.TimerEvent;
    b.AnimationManager = function(a) {
        this.sprite = a;
        this.game = a.game;
        this.currentAnim = this.currentFrame = null;
        this.updateIfVisible = !0;
        this.isLoaded = !1;
        this._frameData = null;
        this._anims = {};
        this._outputFrames = []
    };
    b.AnimationManager.prototype = {
        loadFrameData: function(a, c) {
            if (void 0 === a) return !1;
            if (this.isLoaded)
                for (var b in this._anims) this._anims[b].updateFrameData(a);
            this._frameData = a;
            void 0 === c || null === c ? this.frame = 0 : "string" === typeof c ? this.frameName = c : this.frame = c;
            return this.isLoaded = !0
        },
        copyFrameData: function(a, c) {
            this._frameData = a.clone();
            if (this.isLoaded)
                for (var b in this._anims) this._anims[b].updateFrameData(this._frameData);
            void 0 === c || null === c ? this.frame = 0 : "string" === typeof c ? this.frameName = c : this.frame = c;
            return this.isLoaded = !0
        },
        add: function(a, c, e, d, f) {
            c = c || [];
            e = e || 60;
            void 0 === d && (d = !1);
            void 0 === f && (f = c && "number" === typeof c[0] ? !0 : !1);
            this._outputFrames = [];
            this._frameData.getFrameIndexes(c, f, this._outputFrames);
            this._anims[a] = new b.Animation(this.game, this.sprite, a, this._frameData, this._outputFrames, e, d);
            this.currentAnim = this._anims[a];
            this.sprite.tilingTexture && (this.sprite.refreshTexture = !0);
            return this._anims[a]
        },
        validateFrames: function(a, c) {
            void 0 === c && (c = !0);
            for (var b = 0; b < a.length; b++)
                if (!0 === c) {
                    if (a[b] > this._frameData.total) return !1
                } else if (!1 ===
                this._frameData.checkFrameName(a[b])) return !1;
            return !0
        },
        play: function(a, c, b, d) {
            if (this._anims[a]) {
                if (this.currentAnim === this._anims[a]) return !1 === this.currentAnim.isPlaying ? (this.currentAnim.paused = !1, this.currentAnim.play(c, b, d)) : this.currentAnim;
                this.currentAnim && this.currentAnim.isPlaying && this.currentAnim.stop();
                this.currentAnim = this._anims[a];
                this.currentAnim.paused = !1;
                this.currentFrame = this.currentAnim.currentFrame;
                return this.currentAnim.play(c, b, d)
            }
        },
        stop: function(a, c) {
            void 0 === c && (c = !1);
            !this.currentAnim || "string" === typeof a && a !== this.currentAnim.name || this.currentAnim.stop(c)
        },
        update: function() {
            return this.updateIfVisible && !this.sprite.visible ? !1 : this.currentAnim && this.currentAnim.update() ? (this.currentFrame = this.currentAnim.currentFrame, !0) : !1
        },
        next: function(a) {
            this.currentAnim && (this.currentAnim.next(a), this.currentFrame = this.currentAnim.currentFrame)
        },
        previous: function(a) {
            this.currentAnim && (this.currentAnim.previous(a), this.currentFrame = this.currentAnim.currentFrame)
        },
        getAnimation: function(a) {
            return "string" ===
                typeof a && this._anims[a] ? this._anims[a] : null
        },
        refreshFrame: function() {},
        destroy: function() {
            var a = null;
            for (a in this._anims) this._anims.hasOwnProperty(a) && this._anims[a].destroy();
            this._anims = {};
            this._outputFrames = [];
            this.game = this.sprite = this.currentFrame = this.currentAnim = this._frameData = null
        }
    };
    b.AnimationManager.prototype.constructor = b.AnimationManager;
    Object.defineProperty(b.AnimationManager.prototype, "frameData", {
        get: function() {
            return this._frameData
        }
    });
    Object.defineProperty(b.AnimationManager.prototype,
        "frameTotal", {
            get: function() {
                return this._frameData.total
            }
        });
    Object.defineProperty(b.AnimationManager.prototype, "paused", {
        get: function() {
            return this.currentAnim.isPaused
        },
        set: function(a) {
            this.currentAnim.paused = a
        }
    });
    Object.defineProperty(b.AnimationManager.prototype, "name", {
        get: function() {
            if (this.currentAnim) return this.currentAnim.name
        }
    });
    Object.defineProperty(b.AnimationManager.prototype, "frame", {
        get: function() {
            if (this.currentFrame) return this.currentFrame.index
        },
        set: function(a) {
            var c;
            "number" ===
            typeof a && this._frameData && (c = this._frameData.getFrame(a)) && (this.currentFrame = c, this.sprite.setFrame(this.currentFrame))
        }
    });
    Object.defineProperty(b.AnimationManager.prototype, "frameName", {
        get: function() {
            if (this.currentFrame) return this.currentFrame.name
        },
        set: function(a) {
            var c;
            "string" === typeof a && this._frameData && (c = this._frameData.getFrameByName(a)) ? (this.currentFrame = c, this._frameIndex = this.currentFrame.index, this.sprite.setFrame(this.currentFrame)) : console.warn("Cannot set frameName: " + a)
        }
    });
    b.Animation = function(a, c, d, k, f, g, h) {
        void 0 === h && (h = !1);
        this.game = a;
        this._parent = c;
        this._frameData = k;
        this.name = d;
        this._frames = [];
        this._frames = this._frames.concat(f);
        this.delay = 1E3 / g;
        this.loop = h;
        this.loopCount = 0;
        this.isPaused = this.isPlaying = this.isFinished = this.killOnComplete = !1;
        this._frameDiff = this._frameIndex = this._pauseStartTime = 0;
        this._frameSkip = 1;
        this.currentFrame = this._frameData.getFrame(this._frames[this._frameIndex]);
        this.onStart = new b.Signal;
        this.onUpdate = null;
        this.onComplete = new b.Signal;
        this.onLoop = new b.Signal;
        this.isReversed = !1;
        this.game.onPause.add(this.onPause, this);
        this.game.onResume.add(this.onResume, this)
    };
    b.Animation.prototype = {
        play: function(a, c, b) {
            "number" === typeof a && (this.delay = 1E3 / a);
            "boolean" === typeof c && (this.loop = c);
            "undefined" !== typeof b && (this.killOnComplete = b);
            this.isPlaying = !0;
            this.paused = this.isFinished = !1;
            this.loopCount = 0;
            this._timeLastFrame = this.game.time.time;
            this._timeNextFrame = this.game.time.time + this.delay;
            this._frameIndex = this.isReversed ? this._frames.length -
                1 : 0;
            this.updateCurrentFrame(!1, !0);
            this._parent.events.onAnimationStart$dispatch(this._parent, this);
            this.onStart.dispatch(this._parent, this);
            this._parent.animations.currentAnim = this;
            this._parent.animations.currentFrame = this.currentFrame;
            return this
        },
        restart: function() {
            this.isPlaying = !0;
            this.paused = this.isFinished = !1;
            this.loopCount = 0;
            this._timeLastFrame = this.game.time.time;
            this._timeNextFrame = this.game.time.time + this.delay;
            this._frameIndex = 0;
            this.currentFrame = this._frameData.getFrame(this._frames[this._frameIndex]);
            this._parent.setFrame(this.currentFrame);
            this._parent.animations.currentAnim = this;
            this._parent.animations.currentFrame = this.currentFrame;
            this.onStart.dispatch(this._parent, this)
        },
        reverse: function() {
            this.reversed = !this.reversed;
            return this
        },
        reverseOnce: function() {
            this.onComplete.addOnce(this.reverse, this);
            return this.reverse()
        },
        setFrame: function(a, c) {
            var b;
            void 0 === c && (c = !1);
            if ("string" === typeof a)
                for (c = 0; c < this._frames.length; c++) this._frameData.getFrame(this._frames[c]).name === a && (b = c);
            else if ("number" ===
                typeof a)
                if (c) b = a;
                else
                    for (c = 0; c < this._frames.length; c++) this._frames[c] === a && (b = c);
            b && (this._frameIndex = b - (this.isReversed ? -1 : 1), this._timeNextFrame = this.game.time.time, this.update())
        },
        stop: function(a, c) {
            void 0 === a && (a = !1);
            void 0 === c && (c = !1);
            this.isPlaying = !1;
            this.isFinished = !0;
            this.paused = !1;
            a && (this.currentFrame = this._frameData.getFrame(this._frames[0]), this._parent.setFrame(this.currentFrame));
            c && (this._parent.events.onAnimationComplete$dispatch(this._parent, this), this.onComplete.dispatch(this._parent,
                this))
        },
        onPause: function() {
            this.isPlaying && (this._frameDiff = this._timeNextFrame - this.game.time.time)
        },
        onResume: function() {
            this.isPlaying && (this._timeNextFrame = this.game.time.time + this._frameDiff)
        },
        update: function() {
            if (this.isPaused) return !1;
            if (this.isPlaying && this.game.time.time >= this._timeNextFrame)
                if (this._frameSkip = 1, this._frameDiff = this.game.time.time - this._timeNextFrame, this._timeLastFrame = this.game.time.time, this._frameDiff > this.delay ? (this._frameSkip = Math.floor(this._frameDiff / this.delay),
                        this._frameDiff -= this._frameSkip * this.delay) : this._frameDiff = 0, this._timeNextFrame = this.game.time.time + (this.delay - this._frameDiff), this._frameIndex = this.isReversed ? this._frameIndex - this._frameSkip : this._frameIndex + this._frameSkip, !this.isReversed && this._frameIndex >= this._frames.length || this.isReversed && -1 >= this._frameIndex) {
                    if (this.loop) return this._frameIndex = Math.abs(this._frameIndex) % this._frames.length, this.isReversed && (this._frameIndex = this._frames.length - 1 - this._frameIndex), (this.currentFrame =
                        this._frameData.getFrame(this._frames[this._frameIndex])) && this._parent.setFrame(this.currentFrame), this.loopCount++, this._parent.events.onAnimationLoop$dispatch(this._parent, this), this.onLoop.dispatch(this._parent, this), this.onUpdate ? (this.onUpdate.dispatch(this, this.currentFrame), !!this._frameData) : !0;
                    this.complete()
                } else return this.updateCurrentFrame(!0);
            return !1
        },
        updateCurrentFrame: function(a, c) {
            void 0 === c && (c = !1);
            if (!this._frameData) return !1;
            var b = this.currentFrame.index;
            (this.currentFrame =
                this._frameData.getFrame(this._frames[this._frameIndex])) && (c || !c && b !== this.currentFrame.index) && this._parent.setFrame(this.currentFrame);
            return this.onUpdate && a ? (this.onUpdate.dispatch(this, this.currentFrame), !!this._frameData) : !0
        },
        next: function(a) {
            void 0 === a && (a = 1);
            a = this._frameIndex + a;
            a >= this._frames.length && (a = this.loop ? a % this._frames.length : this._frames.length - 1);
            a !== this._frameIndex && (this._frameIndex = a, this.updateCurrentFrame(!0))
        },
        previous: function(a) {
            void 0 === a && (a = 1);
            a = this._frameIndex -
                a;
            0 > a && (this.loop ? a = this._frames.length + a : a++);
            a !== this._frameIndex && (this._frameIndex = a, this.updateCurrentFrame(!0))
        },
        updateFrameData: function(a) {
            this.currentFrame = (this._frameData = a) ? this._frameData.getFrame(this._frames[this._frameIndex % this._frames.length]) : null
        },
        destroy: function() {
            this._frameData && (this.game.onPause.remove(this.onPause, this), this.game.onResume.remove(this.onResume, this), this.currentFrame = this._frameData = this._frames = this._parent = this.game = null, this.isPlaying = !1, this.onStart.dispose(),
                this.onLoop.dispose(), this.onComplete.dispose(), this.onUpdate && this.onUpdate.dispose())
        },
        complete: function() {
            this._frameIndex = this._frames.length - 1;
            this.currentFrame = this._frameData.getFrame(this._frames[this._frameIndex]);
            this.updateCurrentFrame(!1);
            this.isPlaying = !1;
            this.isFinished = !0;
            this.paused = !1;
            this._parent.events.onAnimationComplete$dispatch(this._parent, this);
            this.onComplete.dispatch(this._parent, this);
            this.killOnComplete && this._parent.kill()
        }
    };
    b.Animation.prototype.constructor = b.Animation;
    Object.defineProperty(b.Animation.prototype, "paused", {
        get: function() {
            return this.isPaused
        },
        set: function(a) {
            (this.isPaused = a) ? this._pauseStartTime = this.game.time.time: this.isPlaying && (this._timeNextFrame = this.game.time.time + this.delay)
        }
    });
    Object.defineProperty(b.Animation.prototype, "reversed", {
        get: function() {
            return this.isReversed
        },
        set: function(a) {
            this.isReversed = a
        }
    });
    Object.defineProperty(b.Animation.prototype, "frameTotal", {
        get: function() {
            return this._frames.length
        }
    });
    Object.defineProperty(b.Animation.prototype,
        "frame", {
            get: function() {
                return null !== this.currentFrame ? this.currentFrame.index : this._frameIndex
            },
            set: function(a) {
                this.currentFrame = this._frameData.getFrame(this._frames[a]);
                null !== this.currentFrame && (this._frameIndex = a, this._parent.setFrame(this.currentFrame), this.onUpdate && this.onUpdate.dispatch(this, this.currentFrame))
            }
        });
    Object.defineProperty(b.Animation.prototype, "speed", {
        get: function() {
            return 1E3 / this.delay
        },
        set: function(a) {
            0 < a && (this.delay = 1E3 / a)
        }
    });
    Object.defineProperty(b.Animation.prototype,
        "enableUpdate", {
            get: function() {
                return null !== this.onUpdate
            },
            set: function(a) {
                a && null === this.onUpdate ? this.onUpdate = new b.Signal : a || null === this.onUpdate || (this.onUpdate.dispose(), this.onUpdate = null)
            }
        });
    b.Animation.generateFrameNames = function(a, c, d, k, f) {
        void 0 === k && (k = "");
        var e = [];
        if (c < d)
            for (var l = c; l <= d; l++) c = "number" === typeof f ? b.Utils.pad(l.toString(), f, "0", 1) : l.toString(), c = a + c + k, e.push(c);
        else
            for (l = c; l >= d; l--) c = "number" === typeof f ? b.Utils.pad(l.toString(), f, "0", 1) : l.toString(), c = a + c + k, e.push(c);
        return e
    };
    b.Frame = function(a, c, d, k, f, g) {
        this.index = a;
        this.x = c;
        this.y = d;
        this.width = k;
        this.height = f;
        0 !== this.width && 0 !== this.height || console.warn('Phaser.Frame: Frame "' + this.name + '" has a width or height of zero');
        this.name = g;
        this.centerX = Math.floor(k / 2);
        this.centerY = Math.floor(f / 2);
        this.distance = b.Math.distance(0, 0, k, f);
        this.trimmed = this.rotated = !1;
        this.sourceSizeW = k;
        this.sourceSizeH = f;
        this.spriteSourceSizeH = this.spriteSourceSizeW = this.spriteSourceSizeY = this.spriteSourceSizeX = 0;
        this.right = this.x +
            this.width;
        this.bottom = this.y + this.height
    };
    b.Frame.prototype = {
        resize: function(a, c) {
            this.width = a;
            this.height = c;
            this.centerX = Math.floor(a / 2);
            this.centerY = Math.floor(c / 2);
            this.distance = b.Math.distance(0, 0, a, c);
            this.sourceSizeW = a;
            this.sourceSizeH = c;
            this.right = this.x + a;
            this.bottom = this.y + c
        },
        setTrim: function(a, c, b, d, f, g, h) {
            if (this.trimmed = a) this.sourceSizeW = c, this.sourceSizeH = b, this.centerX = Math.floor(c / 2), this.centerY = Math.floor(b / 2), this.spriteSourceSizeX = d, this.spriteSourceSizeY = f, this.spriteSourceSizeW =
                g, this.spriteSourceSizeH = h
        },
        clone: function() {
            var a = new b.Frame(this.index, this.x, this.y, this.width, this.height, this.name),
                c;
            for (c in this) this.hasOwnProperty(c) && (a[c] = this[c]);
            return a
        },
        getRect: function(a) {
            void 0 === a ? a = new b.Rectangle(this.x, this.y, this.width, this.height) : a.setTo(this.x, this.y, this.width, this.height);
            return a
        }
    };
    b.Frame.prototype.constructor = b.Frame;
    b.FrameData = function() {
        this._frames = [];
        this._frameNames = []
    };
    b.FrameData.prototype = {
        addFrame: function(a) {
            a.index = this._frames.length;
            this._frames.push(a);
            "" !== a.name && (this._frameNames[a.name] = a.index);
            return a
        },
        getFrame: function(a) {
            a >= this._frames.length && (a = 0);
            return this._frames[a]
        },
        getFrameByName: function(a) {
            return "number" === typeof this._frameNames[a] ? this._frames[this._frameNames[a]] : null
        },
        checkFrameName: function(a) {
            return null == this._frameNames[a] ? !1 : !0
        },
        clone: function() {
            for (var a = new b.FrameData, c = 0; c < this._frames.length; c++) a._frames.push(this._frames[c].clone());
            for (var d in this._frameNames) this._frameNames.hasOwnProperty(d) &&
                a._frameNames.push(this._frameNames[d]);
            return a
        },
        getFrameRange: function(a, c, b) {
            for (void 0 === b && (b = []); a <= c; a++) b.push(this._frames[a]);
            return b
        },
        getFrames: function(a, c, b) {
            void 0 === c && (c = !0);
            void 0 === b && (b = []);
            if (void 0 === a || 0 === a.length)
                for (var d = 0; d < this._frames.length; d++) b.push(this._frames[d]);
            else
                for (d = 0; d < a.length; d++) c ? b.push(this.getFrame(a[d])) : b.push(this.getFrameByName(a[d]));
            return b
        },
        getFrameIndexes: function(a, c, b) {
            void 0 === c && (c = !0);
            void 0 === b && (b = []);
            if (void 0 === a || 0 === a.length)
                for (var d =
                        0; d < this._frames.length; d++) b.push(this._frames[d].index);
            else
                for (d = 0; d < a.length; d++) c && this._frames[a[d]] ? b.push(this._frames[a[d]].index) : this.getFrameByName(a[d]) && b.push(this.getFrameByName(a[d]).index);
            return b
        },
        destroy: function() {
            this._frameNames = this._frames = null
        }
    };
    b.FrameData.prototype.constructor = b.FrameData;
    Object.defineProperty(b.FrameData.prototype, "total", {
        get: function() {
            return this._frames.length
        }
    });
    b.AnimationParser = {
        spriteSheet: function(a, c, d, k, f, g, h, n) {
            void 0 === f && (f = -1);
            void 0 ===
                g && (g = 0);
            void 0 === h && (h = 0);
            void 0 === n && (n = 0);
            var e = c;
            "string" === typeof c && (e = a.cache.getImage(c));
            if (null === e) return null;
            a = e.width;
            e = e.height;
            if (0 === a || 0 === e) return console.warn("Phaser.AnimationParser.spriteSheet: '%s' width (%f) or height (%f) is zero", c, a, e), null;
            0 >= d && (d = Math.floor(-a / Math.min(-1, d)));
            0 >= k && (k = Math.floor(-e / Math.min(-1, k)));
            if (a < d || e < k) return console.warn("Phaser.AnimationParser.spriteSheet: '%s' width (%f) or height (%f) is less than the given frameWidth (%f) or frameHeight (%f)",
                c, a, e, d, k), null;
            e = Math.floor((a - g) / (d + h)) * Math.floor((e - g) / (k + h));
            if (n > e || n < -e) return console.warn("Phaser.AnimationParser.spriteSheet: '%s' skipFrames = %f is larger than the frame total %f", c, n, e), null;
            0 > n && (n = e + n); - 1 !== f && (e = n + f);
            if (0 === e) return console.warn("Phaser.AnimationParser.spriteSheet: '%s' zero frames were produced", c), null;
            c = new b.FrameData;
            n = f = g;
            for (var l = 0; l < e; l++) c.addFrame(new b.Frame(l, f, n, d, k, "")), f += d + h, f + d > a && (f = g, n += k + h);
            return c
        },
        JSONData: function(a, c) {
            if (c.frames) {
                a = new b.FrameData;
                c = c.frames;
                for (var d, k = 0; k < c.length; k++) d = a.addFrame(new b.Frame(k, c[k].frame.x, c[k].frame.y, c[k].frame.w, c[k].frame.h, c[k].filename)), c[k].trimmed && d.setTrim(c[k].trimmed, c[k].sourceSize.w, c[k].sourceSize.h, c[k].spriteSourceSize.x, c[k].spriteSourceSize.y, c[k].spriteSourceSize.w, c[k].spriteSourceSize.h), c[k].rotated && (d.rotated = !0);
                return a
            }
            console.warn("Phaser.AnimationParser.JSONData: Invalid Texture Atlas JSON given, missing 'frames' array");
            console.log(c)
        },
        JSONDataPyxel: function(a, c) {
            ["layers",
                "tilewidth", "tileheight", "tileswide", "tileshigh"
            ].forEach(function(a) {
                c[a] || (console.warn('Phaser.AnimationParser.JSONDataPyxel: Invalid Pyxel Tilemap JSON given, missing "' + a + '" key.'), console.log(c))
            });
            if (1 !== c.layers.length) console.warn("Phaser.AnimationParser.JSONDataPyxel: Too many layers, this parser only supports flat Tilemaps."), console.log(c);
            else {
                a = new b.FrameData;
                for (var d = c.tileheight, k = c.tilewidth, f = c.layers[0].tiles, g, h = 0; h < f.length; h++) g = a.addFrame(new b.Frame(h, f[h].x, f[h].y, k, d, "frame_" +
                    h)), g.setTrim(!1);
                return a
            }
        },
        JSONDataHash: function(a, c) {
            if (c.frames) {
                a = new b.FrameData;
                c = c.frames;
                var d = 0,
                    k;
                for (k in c) {
                    var f = a.addFrame(new b.Frame(d, c[k].frame.x, c[k].frame.y, c[k].frame.w, c[k].frame.h, k));
                    c[k].trimmed && f.setTrim(c[k].trimmed, c[k].sourceSize.w, c[k].sourceSize.h, c[k].spriteSourceSize.x, c[k].spriteSourceSize.y, c[k].spriteSourceSize.w, c[k].spriteSourceSize.h);
                    c[k].rotated && (f.rotated = !0);
                    d++
                }
                return a
            }
            console.warn("Phaser.AnimationParser.JSONDataHash: Invalid Texture Atlas JSON given, missing 'frames' object");
            console.log(c)
        },
        XMLData: function(a, c) {
            if (c.getElementsByTagName("TextureAtlas")) {
                a = new b.FrameData;
                c = c.getElementsByTagName("SubTexture");
                for (var d, k, f, g, h, n, p, r, u, t, v = 0; v < c.length; v++) k = c[v].attributes, d = k.name.value, f = parseInt(k.x.value, 10), g = parseInt(k.y.value, 10), h = parseInt(k.width.value, 10), n = parseInt(k.height.value, 10), r = p = null, k.frameX && (p = Math.abs(parseInt(k.frameX.value, 10)), r = Math.abs(parseInt(k.frameY.value, 10)), u = parseInt(k.frameWidth.value, 10), t = parseInt(k.frameHeight.value, 10)), d = a.addFrame(new b.Frame(v,
                    f, g, h, n, d)), null === p && null === r || d.setTrim(!0, h, n, p, r, u, t);
                return a
            }
            console.warn("Phaser.AnimationParser.XMLData: Invalid Texture Atlas XML given, missing <TextureAtlas> tag")
        }
    };
    b.Cache = function(a) {
        this.game = a;
        this.autoResolveURL = !1;
        this._cache = {
            canvas: {},
            image: {},
            texture: {},
            sound: {},
            video: {},
            text: {},
            json: {},
            xml: {},
            physics: {},
            tilemap: {},
            binary: {},
            bitmapData: {},
            bitmapFont: {},
            shader: {},
            renderTexture: {},
            compressedTexture: {}
        };
        this._urlMap = {};
        this._urlResolver = new Image;
        this._urlTemp = null;
        this.onSoundUnlock =
            new b.Signal;
        this._cacheMap = [];
        this._cacheMap[b.Cache.CANVAS] = this._cache.canvas;
        this._cacheMap[b.Cache.IMAGE] = this._cache.image;
        this._cacheMap[b.Cache.TEXTURE] = this._cache.texture;
        this._cacheMap[b.Cache.SOUND] = this._cache.sound;
        this._cacheMap[b.Cache.TEXT] = this._cache.text;
        this._cacheMap[b.Cache.PHYSICS] = this._cache.physics;
        this._cacheMap[b.Cache.TILEMAP] = this._cache.tilemap;
        this._cacheMap[b.Cache.BINARY] = this._cache.binary;
        this._cacheMap[b.Cache.BITMAPDATA] = this._cache.bitmapData;
        this._cacheMap[b.Cache.BITMAPFONT] =
            this._cache.bitmapFont;
        this._cacheMap[b.Cache.JSON] = this._cache.json;
        this._cacheMap[b.Cache.XML] = this._cache.xml;
        this._cacheMap[b.Cache.VIDEO] = this._cache.video;
        this._cacheMap[b.Cache.SHADER] = this._cache.shader;
        this._cacheMap[b.Cache.RENDER_TEXTURE] = this._cache.renderTexture;
        this._pendingCount = 0;
        this.onReady = new b.Signal;
        this._addImages()
    };
    b.Cache.CANVAS = 1;
    b.Cache.IMAGE = 2;
    b.Cache.TEXTURE = 3;
    b.Cache.SOUND = 4;
    b.Cache.TEXT = 5;
    b.Cache.PHYSICS = 6;
    b.Cache.TILEMAP = 7;
    b.Cache.BINARY = 8;
    b.Cache.BITMAPDATA = 9;
    b.Cache.BITMAPFONT =
        10;
    b.Cache.JSON = 11;
    b.Cache.XML = 12;
    b.Cache.VIDEO = 13;
    b.Cache.SHADER = 14;
    b.Cache.RENDER_TEXTURE = 15;
    b.Cache.DEFAULT = null;
    b.Cache.DEFAULT_KEY = "__default";
    b.Cache.DEFAULT_SRC = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgAQMAAABJtOi3AAAAA1BMVEX///+nxBvIAAAAAXRSTlMAQObYZgAAABVJREFUeF7NwIEAAAAAgKD9qdeocAMAoAABm3DkcAAAAABJRU5ErkJggg==";
    b.Cache.MISSING = null;
    b.Cache.MISSING_KEY = "__missing";
    b.Cache.MISSING_SRC = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAIAAAD8GO2jAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJ9JREFUeNq01ssOwyAMRFG46v//Mt1ESmgh+DFmE2GPOBARKb2NVjo+17PXLD8a1+pl5+A+wSgFygymWYHBb0FtsKhJDdZlncG2IzJ4ayoMDv20wTmSMzClEgbWYNTAkQ0Z+OJ+A/eWnAaR9+oxCF4Os0H8htsMUp+pwcgBBiMNnAwF8GqIgL2hAzaGFFgZauDPKABmowZ4GL369/0rwACp2yA/ttmvsQAAAABJRU5ErkJggg==";
    b.Cache.READY_TIMEOUT = 1E3;
    b.Cache.prototype = {
        addCompressedTextureMetaData: function(a, c, d, k) {
            this.checkImageKey(a) && this.removeImage(a);
            k = d in b.LoaderParser ? b.LoaderParser[d](k) : k;
            d = {
                key: a,
                url: c,
                data: k,
                base: new PIXI.BaseTexture(k, null, this.game.resolution),
                frame: new b.Frame(0, 0, 0, k.width, k.height, a),
                frameData: new b.FrameData,
                fileFormat: d
            };
            d.frameData.addFrame(new b.Frame(0, 0, 0, k.width, k.height, c));
            this._cache.image[a] = d;
            this._resolveURL(c, d);
            return d
        },
        addCanvas: function(a, c, b) {
            void 0 === b && (b = c.getContext("2d"));
            this._cache.canvas[a] = {
                canvas: c,
                context: b
            }
        },
        addImage: function(a, c, d) {
            this.checkImageKey(a) && this.removeImage(a);
            !1 === d.complete && console.warn('Phaser.Cache.addImage: Image "' + a + "\" hasn't been retrieved yet");
            var e = {
                key: a,
                url: c,
                data: d,
                base: new PIXI.BaseTexture(d, null, this.game.resolution),
                frame: new b.Frame(0, 0, 0, d.width, d.height, a),
                frameData: new b.FrameData
            };
            e.frameData.addFrame(new b.Frame(0, 0, 0, d.width, d.height, c));
            this._cache.image[a] = e;
            this._resolveURL(c, e);
            "__default" === a ? b.Cache.DEFAULT = new PIXI.Texture(e.base) :
                "__missing" === a && (b.Cache.MISSING = new PIXI.Texture(e.base));
            return e
        },
        addImageAsync: function(a, c, b) {
            var d = this,
                e = new Image;
            e.onload = function() {
                b.call(this, d.addImage(a, null, e));
                d._removePending();
                e.onload = null
            };
            this._addPending();
            e.src = c
        },
        addDefaultImage: function() {
            this.addImageAsync(b.Cache.DEFAULT_KEY, b.Cache.DEFAULT_SRC, function(a) {
                a.base.skipRender = !0;
                b.Cache.DEFAULT = new PIXI.Texture(a.base)
            })
        },
        addMissingImage: function() {
            this.addImageAsync(b.Cache.MISSING_KEY, b.Cache.MISSING_SRC, function(a) {
                b.Cache.MISSING =
                    new PIXI.Texture(a.base)
            })
        },
        addSound: function(a, c, b, d, f) {
            void 0 === d && (d = !0, f = !1);
            void 0 === f && (d = !1, f = !0);
            var e = !1;
            f && (e = !0);
            this._cache.sound[a] = {
                url: c,
                data: b,
                isDecoding: !1,
                decoded: e,
                webAudio: d,
                audioTag: f,
                locked: this.game.sound.touchLocked
            };
            this._resolveURL(c, this._cache.sound[a])
        },
        addText: function(a, c, b) {
            this._cache.text[a] = {
                url: c,
                data: b
            };
            this._resolveURL(c, this._cache.text[a])
        },
        addPhysicsData: function(a, c, b, d) {
            this._cache.physics[a] = {
                url: c,
                data: b,
                format: d
            };
            this._resolveURL(c, this._cache.physics[a])
        },
        addTilemap: function(a, c, b, d) {
            this._cache.tilemap[a] = {
                url: c,
                data: b,
                format: d
            };
            this._resolveURL(c, this._cache.tilemap[a])
        },
        addBinary: function(a, c) {
            this._cache.binary[a] = c
        },
        addBitmapData: function(a, c, d) {
            c.key = a;
            void 0 === d && (d = new b.FrameData, d.addFrame(c.textureFrame));
            this._cache.bitmapData[a] = {
                data: c,
                frameData: d
            };
            return c
        },
        addBitmapFont: function(a, c, d, k, f, g, h) {
            d = {
                url: c,
                data: d,
                font: null,
                base: new PIXI.BaseTexture(d, null, this.game.resolution)
            };
            void 0 === g && (g = 0);
            void 0 === h && (h = 0);
            d.font = "json" === f ? b.LoaderParser.jsonBitmapFont(k,
                d.base, g, h, !1, this.game.resolution) : b.LoaderParser.xmlBitmapFont(k, d.base, g, h, !1, this.game.resolution);
            this._cache.bitmapFont[a] = d;
            this._resolveURL(c, d)
        },
        addBitmapFontFromAtlas: function(a, c, d, k, f, g, h) {
            if (d = this.getFrameByName(c, d)) c = {
                    font: null,
                    base: this.getBaseTexture(c),
                    frame: d
                }, void 0 === g && (g = 0), void 0 === h && (h = 0), "json" === f ? (k = this.getJSON(k), c.font = b.LoaderParser.jsonBitmapFont(k, c.base, g, h, d, this.game.resolution)) : (k = this.getXML(k), c.font = b.LoaderParser.xmlBitmapFont(k, c.base, g, h, d, this.game.resolution)),
                this._cache.bitmapFont[a] = c
        },
        addJSON: function(a, c, b) {
            this._cache.json[a] = {
                url: c,
                data: b
            };
            this._resolveURL(c, this._cache.json[a])
        },
        addXML: function(a, c, b) {
            this._cache.xml[a] = {
                url: c,
                data: b
            };
            this._resolveURL(c, this._cache.xml[a])
        },
        addVideo: function(a, c, b, d) {
            this._cache.video[a] = {
                url: c,
                data: b,
                isBlob: d,
                locked: !0
            };
            this._resolveURL(c, this._cache.video[a])
        },
        addShader: function(a, c, b) {
            this._cache.shader[a] = {
                url: c,
                data: b
            };
            this._resolveURL(c, this._cache.shader[a])
        },
        addRenderTexture: function(a, c) {
            this._cache.renderTexture[a] = {
                texture: c,
                frame: new b.Frame(0, 0, 0, c.width, c.height, "", "")
            }
        },
        addSpriteSheet: function(a, c, d, k, f, g, h, n, p) {
            void 0 === g && (g = -1);
            void 0 === h && (h = 0);
            void 0 === n && (n = 0);
            d = {
                key: a,
                url: c,
                data: d,
                frameWidth: k,
                frameHeight: f,
                margin: h,
                spacing: n,
                base: new PIXI.BaseTexture(d, null, this.game.resolution),
                frameData: b.AnimationParser.spriteSheet(this.game, d, k, f, g, h, n, p)
            };
            this._cache.image[a] = d;
            this._resolveURL(c, d)
        },
        addTextureAtlas: function(a, c, d, k, f) {
            d = {
                key: a,
                url: c,
                data: d,
                base: new PIXI.BaseTexture(d, null, this.game.resolution)
            };
            f === b.Loader.TEXTURE_ATLAS_XML_STARLING ? d.frameData = b.AnimationParser.XMLData(this.game, k, a) : f === b.Loader.TEXTURE_ATLAS_JSON_PYXEL ? d.frameData = b.AnimationParser.JSONDataPyxel(this.game, k, a) : Array.isArray(k.frames) ? d.frameData = b.AnimationParser.JSONData(this.game, k, a) : d.frameData = b.AnimationParser.JSONDataHash(this.game, k, a);
            this._cache.image[a] = d;
            this._resolveURL(c, d)
        },
        reloadSound: function(a) {
            var c = this,
                b = this.getSound(a);
            b && (b.data.src = b.url, b.data.addEventListener("canplaythrough", function() {
                    return c.reloadSoundComplete(a)
                },
                !1), b.data.load())
        },
        reloadSoundComplete: function(a) {
            var c = this.getSound(a);
            c && (c.locked = !1, this.onSoundUnlock.dispatch(a))
        },
        updateSound: function(a, c, b) {
            (a = this.getSound(a)) && (a[c] = b)
        },
        decodedSound: function(a, c) {
            a = this.getSound(a);
            a.data = c;
            a.decoded = !0;
            a.isDecoding = !1
        },
        isSoundDecoded: function(a) {
            if (a = this.getItem(a, b.Cache.SOUND, "isSoundDecoded")) return a.decoded
        },
        isSoundReady: function(a) {
            if (a = this.getItem(a, b.Cache.SOUND, "isSoundDecoded")) return a.decoded && !this.game.sound.touchLocked
        },
        checkKey: function(a,
            c) {
            return this._cacheMap[a][c] ? !0 : !1
        },
        checkURL: function(a) {
            return this._urlMap[this._resolveURL(a)] ? !0 : !1
        },
        checkCanvasKey: function(a) {
            return this.checkKey(b.Cache.CANVAS, a)
        },
        checkImageKey: function(a) {
            return this.checkKey(b.Cache.IMAGE, a)
        },
        checkTextureKey: function(a) {
            return this.checkKey(b.Cache.TEXTURE, a)
        },
        checkSoundKey: function(a) {
            return this.checkKey(b.Cache.SOUND, a)
        },
        checkTextKey: function(a) {
            return this.checkKey(b.Cache.TEXT, a)
        },
        checkPhysicsKey: function(a) {
            return this.checkKey(b.Cache.PHYSICS,
                a)
        },
        checkTilemapKey: function(a) {
            return this.checkKey(b.Cache.TILEMAP, a)
        },
        checkBinaryKey: function(a) {
            return this.checkKey(b.Cache.BINARY, a)
        },
        checkBitmapDataKey: function(a) {
            return this.checkKey(b.Cache.BITMAPDATA, a)
        },
        checkBitmapFontKey: function(a) {
            return this.checkKey(b.Cache.BITMAPFONT, a)
        },
        checkJSONKey: function(a) {
            return this.checkKey(b.Cache.JSON, a)
        },
        checkXMLKey: function(a) {
            return this.checkKey(b.Cache.XML, a)
        },
        checkVideoKey: function(a) {
            return this.checkKey(b.Cache.VIDEO, a)
        },
        checkShaderKey: function(a) {
            return this.checkKey(b.Cache.SHADER,
                a)
        },
        checkRenderTextureKey: function(a) {
            return this.checkKey(b.Cache.RENDER_TEXTURE, a)
        },
        getItem: function(a, c, b, d) {
            if (this.checkKey(c, a)) return void 0 === d ? this._cacheMap[c][a] : this._cacheMap[c][a][d];
            b && console.warn("Phaser.Cache." + b + ': Key "' + a + '" not found in Cache.');
            return null
        },
        getCanvas: function(a) {
            return this.getItem(a, b.Cache.CANVAS, "getCanvas", "canvas")
        },
        getImage: function(a, c) {
            if (void 0 === a || null === a) a = "__default";
            void 0 === c && (c = !1);
            a = this.getItem(a, b.Cache.IMAGE, "getImage");
            null === a && (a = this.getItem("__missing",
                b.Cache.IMAGE, "getImage"));
            return c ? a : a.data
        },
        getTextureFrame: function(a) {
            return this.getItem(a, b.Cache.TEXTURE, "getTextureFrame", "frame")
        },
        getSound: function(a) {
            return this.getItem(a, b.Cache.SOUND, "getSound")
        },
        getSoundData: function(a) {
            return this.getItem(a, b.Cache.SOUND, "getSoundData", "data")
        },
        getText: function(a) {
            return this.getItem(a, b.Cache.TEXT, "getText", "data")
        },
        getPhysicsData: function(a, c, d) {
            var e = this.getItem(a, b.Cache.PHYSICS, "getPhysicsData", "data");
            if (null === e || void 0 === c || null === c) return e;
            if (e[c])
                if ((c = e[c]) && d) {
                    for (var f in c)
                        if (f = c[f], f.fixtureKey === d) return f;
                    console.warn('Phaser.Cache.getPhysicsData: Could not find given fixtureKey: "' + d + " in " + a + '"')
                } else return c;
            else console.warn('Phaser.Cache.getPhysicsData: Invalid key/object: "' + a + " / " + c + '"');
            return null
        },
        getTilemapData: function(a) {
            return this.getItem(a, b.Cache.TILEMAP, "getTilemapData")
        },
        getBinary: function(a) {
            return this.getItem(a, b.Cache.BINARY, "getBinary")
        },
        getBitmapData: function(a) {
            return this.getItem(a, b.Cache.BITMAPDATA,
                "getBitmapData", "data")
        },
        getBitmapFont: function(a) {
            return this.getItem(a, b.Cache.BITMAPFONT, "getBitmapFont")
        },
        getJSON: function(a, c) {
            return (a = this.getItem(a, b.Cache.JSON, "getJSON", "data")) ? c ? b.Utils.extend(!0, Array.isArray(a) ? [] : {}, a) : a : null
        },
        getXML: function(a) {
            return this.getItem(a, b.Cache.XML, "getXML", "data")
        },
        getVideo: function(a) {
            return this.getItem(a, b.Cache.VIDEO, "getVideo")
        },
        getShader: function(a) {
            return this.getItem(a, b.Cache.SHADER, "getShader", "data")
        },
        getRenderTexture: function(a) {
            return this.getItem(a,
                b.Cache.RENDER_TEXTURE, "getRenderTexture")
        },
        getBaseTexture: function(a, c) {
            void 0 === c && (c = b.Cache.IMAGE);
            return this.getItem(a, c, "getBaseTexture", "base")
        },
        getFrame: function(a, c) {
            void 0 === c && (c = b.Cache.IMAGE);
            return this.getItem(a, c, "getFrame", "frame")
        },
        getFrameCount: function(a, c) {
            return (a = this.getFrameData(a, c)) ? a.total : 0
        },
        getFrameData: function(a, c) {
            void 0 === c && (c = b.Cache.IMAGE);
            return this.getItem(a, c, "getFrameData", "frameData")
        },
        hasFrameData: function(a, c) {
            void 0 === c && (c = b.Cache.IMAGE);
            return null !==
                this.getItem(a, c, "", "frameData")
        },
        updateFrameData: function(a, c, d) {
            void 0 === d && (d = b.Cache.IMAGE);
            this._cacheMap[d][a] && (this._cacheMap[d][a].frameData = c)
        },
        getFrameByIndex: function(a, c, b) {
            return (a = this.getFrameData(a, b)) ? a.getFrame(c) : null
        },
        getFrameByName: function(a, c, b) {
            return (a = this.getFrameData(a, b)) ? a.getFrameByName(c) : null
        },
        getURL: function(a) {
            if (a = this._resolveURL(a)) return this._urlMap[a];
            console.warn('Phaser.Cache.getUrl: Invalid url: "' + a + '" or Cache.autoResolveURL was false');
            return null
        },
        getKeys: function(a) {
            void 0 === a && (a = b.Cache.IMAGE);
            var c = [];
            if (this._cacheMap[a])
                for (var d in this._cacheMap[a]) "__default" !== d && "__missing" !== d && c.push(d);
            return c
        },
        removeCanvas: function(a) {
            delete this._cache.canvas[a]
        },
        removeImage: function(a, c) {
            void 0 === c && (c = !0);
            var b = this.getImage(a, !0);
            c && b.base && b.base.destroy();
            delete this._cache.image[a]
        },
        removeSound: function(a) {
            delete this._cache.sound[a]
        },
        removeText: function(a) {
            delete this._cache.text[a]
        },
        removePhysics: function(a) {
            delete this._cache.physics[a]
        },
        removeTilemap: function(a) {
            delete this._cache.tilemap[a]
        },
        removeBinary: function(a) {
            delete this._cache.binary[a]
        },
        removeBitmapData: function(a) {
            delete this._cache.bitmapData[a]
        },
        removeBitmapFont: function(a) {
            delete this._cache.bitmapFont[a]
        },
        removeJSON: function(a) {
            delete this._cache.json[a]
        },
        removeXML: function(a) {
            delete this._cache.xml[a]
        },
        removeVideo: function(a) {
            delete this._cache.video[a]
        },
        removeShader: function(a) {
            delete this._cache.shader[a]
        },
        removeRenderTexture: function(a) {
            delete this._cache.renderTexture[a]
        },
        removeSpriteSheet: function(a) {
            delete this._cache.spriteSheet[a]
        },
        removeTextureAtlas: function(a) {
            delete this._cache.image[a]
        },
        clearGLTextures: function() {
            for (var a in this._cache.image) this._cache.image[a].base._glTextures = []
        },
        _resolveURL: function(a, c) {
            if (!this.autoResolveURL) return null;
            this._urlResolver.src = this.game.load.baseURL + a;
            this._urlTemp = this._urlResolver.src;
            this._urlResolver.src = "";
            c && (this._urlMap[this._urlTemp] = c);
            return this._urlTemp
        },
        destroy: function() {
            for (var a = 0; a < this._cacheMap.length; a++) {
                var c =
                    this._cacheMap[a],
                    b;
                for (b in c) "__default" !== b && "__missing" !== b && (this.destroyItem(c[b]), delete c[b])
            }
            this._urlTemp = this._urlResolver = this._urlMap = null
        },
        destroyItem: function(a) {
            a.destroy ? a.destroy() : (a.base && a.base.destroy && a.base.destroy(), a.data && a.data.destroy && a.data.destroy(), a.frameData && a.frameData.destroy && a.frameData.destroy(), a.texture && a.texture.destroy && a.texture.destroy(!0))
        },
        _addImages: function() {
            this._pendingCount = 0;
            this.addDefaultImage();
            this.addMissingImage();
            var a = this,
                c = b.Cache.READY_TIMEOUT;
            0 < b.Cache.READY_TIMEOUT ? setTimeout(function() {
                a.isReady || (console.warn("Phaser.Cache: Still waiting for images after %s ms.", c), a._ready())
            }, b.Cache.READY_TIMEOUT) : this._ready()
        },
        _addPending: function() {
            this._pendingCount += 1
        },
        _removePending: function() {
            --this._pendingCount;
            this._checkReady()
        },
        _checkReady: function() {
            this.isReady && this._ready()
        },
        _ready: function() {
            this._pendingCount = 0;
            this.onReady.dispatch(this)
        }
    };
    b.Cache.prototype.constructor = b.Cache;
    Object.defineProperty(b.Cache.prototype, "isReady", {
        get: function() {
            return 0 >= this._pendingCount
        }
    });
    b.Loader = function(a) {
        this.game = a;
        this.cache = a.cache;
        this.hasLoaded = this.isLoading = this.resetLocked = !1;
        this.preloadSprite = null;
        this.crossOrigin = !1;
        this.path = this.baseURL = "";
        this.headers = {
            requestedWith: !1,
            json: "application/json",
            xml: "application/xml"
        };
        this.onLoadStart = new b.Signal;
        this.onBeforeLoadComplete = new b.Signal;
        this.onLoadComplete = new b.Signal;
        this.onPackComplete = new b.Signal;
        this.onFileStart = new b.Signal;
        this.onFileComplete = new b.Signal;
        this.onFileError =
            new b.Signal;
        this.enableParallel = !0;
        this.maxParallelDownloads = 4;
        this._withSyncPointDepth = 0;
        this._fileList = [];
        this._flightQueue = [];
        this._processingHead = 0;
        this._fileLoadStarted = !1;
        this._loadedFileCount = this._loadedPackCount = this._totalFileCount = this._totalPackCount = 0
    };
    b.Loader.TEXTURE_ATLAS_JSON_ARRAY = 0;
    b.Loader.TEXTURE_ATLAS_JSON_HASH = 1;
    b.Loader.TEXTURE_ATLAS_XML_STARLING = 2;
    b.Loader.PHYSICS_LIME_CORONA_JSON = 3;
    b.Loader.PHYSICS_PHASER_JSON = 4;
    b.Loader.TEXTURE_ATLAS_JSON_PYXEL = 5;
    b.Loader.prototype = {
        setPreloadSprite: function(a,
            c) {
            c = c || 0;
            this.preloadSprite = {
                sprite: a,
                direction: c,
                width: a.width,
                height: a.height,
                rect: null
            };
            this.preloadSprite.rect = 0 === c ? new b.Rectangle(0, 0, 1, a.height) : new b.Rectangle(0, 0, a.width, 1);
            a.crop(this.preloadSprite.rect);
            a.visible = !0
        },
        resize: function() {
            this.preloadSprite && this.preloadSprite.height !== this.preloadSprite.sprite.height && (this.preloadSprite.rect.height = this.preloadSprite.sprite.height)
        },
        checkKeyExists: function(a, c) {
            return -1 < this.getAssetIndex(a, c)
        },
        getAssetIndex: function(a, c) {
            for (var b = -1,
                    d = 0; d < this._fileList.length; d++) {
                var f = this._fileList[d];
                if (f.type === a && f.key === c && (b = d, !f.loaded && !f.loading)) break
            }
            return b
        },
        getAsset: function(a, c) {
            a = this.getAssetIndex(a, c);
            return -1 < a ? {
                index: a,
                file: this._fileList[a]
            } : !1
        },
        reset: function(a, c) {
            void 0 === c && (c = !1);
            this.resetLocked || (a && (this.preloadSprite = null), this.isLoading = !1, this._processingHead = 0, this._fileList.length = 0, this._flightQueue.length = 0, this._fileLoadStarted = !1, this._loadedFileCount = this._loadedPackCount = this._totalPackCount = this._totalFileCount =
                0, c && (this.onLoadStart.removeAll(), this.onLoadComplete.removeAll(), this.onPackComplete.removeAll(), this.onFileStart.removeAll(), this.onFileComplete.removeAll(), this.onFileError.removeAll()))
        },
        addToFileList: function(a, c, b, d, f, g) {
            void 0 === f && (f = !1);
            if (void 0 === c || "" === c) return console.warn("Phaser.Loader: Invalid or no key given of type " + a), this;
            if (void 0 === b || null === b)
                if (g) b = c + g;
                else return console.warn("Phaser.Loader: No URL given for file type: " + a + " key: " + c), this;
            b = {
                type: a,
                key: c,
                path: this.path,
                url: b,
                syncPoint: 0 < this._withSyncPointDepth,
                data: null,
                loading: !1,
                loaded: !1,
                error: !1
            };
            if (d)
                for (var e in d) b[e] = d[e];
            a = this.getAssetIndex(a, c);
            f && -1 < a ? (f = this._fileList[a], f.loading || f.loaded ? (this._fileList.push(b), this._totalFileCount++) : this._fileList[a] = b) : -1 === a && (this._fileList.push(b), this._totalFileCount++);
            return this
        },
        replaceInFileList: function(a, c, b, d) {
            return this.addToFileList(a, c, b, d, !0)
        },
        pack: function(a, c, b, d) {
            void 0 === c && (c = null);
            void 0 === b && (b = null);
            void 0 === d && (d = null);
            if (!c && !b) return console.warn("Phaser.Loader.pack - Both url and data are null. One must be set."),
                this;
            a = {
                type: "packfile",
                key: a,
                url: c,
                path: this.path,
                syncPoint: !0,
                data: null,
                loading: !1,
                loaded: !1,
                error: !1,
                callbackContext: d
            };
            b && ("string" === typeof b && (b = JSON.parse(b)), a.data = b || {}, a.loaded = !0);
            for (b = 0; b < this._fileList.length + 1; b++)
                if (c = this._fileList[b], !c || !c.loaded && !c.loading && "packfile" !== c.type) {
                    this._fileList.splice(b, 0, a);
                    this._totalPackCount++;
                    break
                } return this
        },
        image: function(a, c, b) {
            return "object" === typeof c ? this.texture(a, c, b) : this.addToFileList("image", a, c, void 0, b, ".png")
        },
        imageFromBitmapData: function(a,
            c, b) {
            return this.image(a, c.canvas.toDataURL("image/png"), b)
        },
        imageFromGrid: function(a, c, b, d, f, g) {
            return this.imageFromBitmapData(a, this.game.create.grid(a, c, b, d, f, g, !1))
        },
        imageFromTexture: function(a, c, b, d, f) {
            return this.imageFromBitmapData(a, this.game.create.texture(a, c, b, d, f, !1))
        },
        texture: function(a, c, d) {
            if (this.game.renderType === b.WEBGL) {
                var e = this.game.renderer.extensions.compression,
                    f;
                for (f in c)
                    if (f.toUpperCase() in e) return this.addToFileList("texture", a, c[f], void 0, d, ".pvr")
            }
            c.truecolor && this.addToFileList("image",
                a, c.truecolor, void 0, d, ".png");
            return this
        },
        images: function(a, c) {
            if (Array.isArray(c))
                for (var b = 0; b < a.length; b++) this.image(a[b], c[b]);
            else
                for (b = 0; b < a.length; b++) this.image(a[b]);
            return this
        },
        text: function(a, c, b) {
            return this.addToFileList("text", a, c, void 0, b, ".txt")
        },
        json: function(a, c, b) {
            return this.addToFileList("json", a, c, void 0, b, ".json")
        },
        shader: function(a, c, b) {
            return this.addToFileList("shader", a, c, void 0, b, ".frag")
        },
        xml: function(a, c, b) {
            return this.addToFileList("xml", a, c, void 0, b, ".xml")
        },
        script: function(a,
            c, b, d) {
            void 0 === b && (b = !1);
            !1 !== b && void 0 === d && (d = this);
            return this.addToFileList("script", a, c, {
                syncPoint: !0,
                callback: b,
                callbackContext: d
            }, !1, ".js")
        },
        binary: function(a, c, b, d) {
            void 0 === b && (b = !1);
            !1 !== b && void 0 === d && (d = b);
            return this.addToFileList("binary", a, c, {
                callback: b,
                callbackContext: d
            }, !1, ".bin")
        },
        spritesheet: function(a, c, b, d, f, g, h, n) {
            void 0 === f && (f = -1);
            void 0 === g && (g = 0);
            void 0 === h && (h = 0);
            void 0 === n && (n = 0);
            return this.addToFileList("spritesheet", a, c, {
                frameWidth: b,
                frameHeight: d,
                frameMax: f,
                margin: g,
                spacing: h,
                skipFrames: n
            }, !1, ".png")
        },
        audio: function(a, c, b) {
            if (this.game.sound.noAudio) return this;
            void 0 === b && (b = !0);
            "string" === typeof c && (c = [c]);
            return this.addToFileList("audio", a, c, {
                buffer: null,
                autoDecode: b
            })
        },
        audioSprite: function(a, c, b, d, f) {
            if (this.game.sound.noAudio) return this;
            void 0 === b && (b = null);
            void 0 === d && (d = null);
            void 0 === f && (f = !0);
            this.audio(a, c, f);
            b ? this.json(a + "-audioatlas", b) : d ? ("string" === typeof d && (d = JSON.parse(d)), this.cache.addJSON(a + "-audioatlas", "", d)) : console.warn("Phaser.Loader.audiosprite - You must specify either a jsonURL or provide a jsonData object");
            return this
        },
        audiosprite: function(a, c, b, d, f) {
            return this.audioSprite(a, c, b, d, f)
        },
        video: function(a, c, b, d) {
            void 0 === b && (b = this.game.device.firefox ? "loadeddata" : "canplaythrough");
            void 0 === d && (d = !1);
            "string" === typeof c && (c = [c]);
            return this.addToFileList("video", a, c, {
                buffer: null,
                asBlob: d,
                loadEvent: b
            })
        },
        tilemap: function(a, c, d, k) {
            void 0 === c && (c = null);
            void 0 === d && (d = null);
            void 0 === k && (k = b.Tilemap.CSV);
            c || d || (c = k === b.Tilemap.CSV ? a + ".csv" : a + ".json");
            if (d) {
                switch (k) {
                    case b.Tilemap.TILED_JSON:
                        "string" === typeof d &&
                            (d = JSON.parse(d))
                }
                this.cache.addTilemap(a, null, d, k)
            } else this.addToFileList("tilemap", a, c, {
                format: k
            });
            return this
        },
        physics: function(a, c, d, k) {
            void 0 === c && (c = null);
            void 0 === d && (d = null);
            void 0 === k && (k = b.Physics.LIME_CORONA_JSON);
            c || d || (c = a + ".json");
            d ? ("string" === typeof d && (d = JSON.parse(d)), this.cache.addPhysicsData(a, null, d, k)) : this.addToFileList("physics", a, c, {
                format: k
            });
            return this
        },
        bitmapFont: function(a, c, b, d, f, g) {
            if (void 0 === c || null === c) c = a + ".png";
            void 0 === b && (b = null);
            void 0 === d && (d = null);
            null ===
                b && null === d && (b = a + ".xml");
            void 0 === f && (f = 0);
            void 0 === g && (g = 0);
            if (b) this.addToFileList("bitmapfont", a, c, {
                atlasURL: b,
                xSpacing: f,
                ySpacing: g
            });
            else if ("string" === typeof d) {
                try {
                    var e = JSON.parse(d)
                } catch (p) {
                    var k = this.parseXml(d)
                }
                if (!k && !e) throw Error("Phaser.Loader. Invalid Bitmap Font atlas given");
                this.addToFileList("bitmapfont", a, c, {
                    atlasURL: null,
                    atlasData: e || k,
                    atlasType: e ? "json" : "xml",
                    xSpacing: f,
                    ySpacing: g
                })
            }
            return this
        },
        atlasJSONArray: function(a, c, d, k) {
            return this.atlas(a, c, d, k, b.Loader.TEXTURE_ATLAS_JSON_ARRAY)
        },
        atlasJSONHash: function(a, c, d, k) {
            return this.atlas(a, c, d, k, b.Loader.TEXTURE_ATLAS_JSON_HASH)
        },
        atlasXML: function(a, c, d, k) {
            void 0 === d && (d = null);
            void 0 === k && (k = null);
            d || k || (d = a + ".xml");
            return this.atlas(a, c, d, k, b.Loader.TEXTURE_ATLAS_XML_STARLING)
        },
        atlas: function(a, c, d, k, f) {
            if (void 0 === c || null === c) c = a + ".png";
            void 0 === d && (d = null);
            void 0 === k && (k = null);
            void 0 === f && (f = b.Loader.TEXTURE_ATLAS_JSON_ARRAY);
            d || k || (d = f === b.Loader.TEXTURE_ATLAS_XML_STARLING ? a + ".xml" : a + ".json");
            if (d) this.addToFileList("textureatlas",
                a, c, {
                    atlasURL: d,
                    format: f
                });
            else {
                switch (f) {
                    case b.Loader.TEXTURE_ATLAS_JSON_ARRAY:
                        "string" === typeof k && (k = JSON.parse(k));
                        break;
                    case b.Loader.TEXTURE_ATLAS_XML_STARLING:
                        if ("string" === typeof k) {
                            d = this.parseXml(k);
                            if (!d) throw Error("Phaser.Loader. Invalid Texture Atlas XML given");
                            k = d
                        }
                }
                this.addToFileList("textureatlas", a, c, {
                    atlasURL: null,
                    atlasData: k,
                    format: f
                })
            }
            return this
        },
        withSyncPoint: function(a, c) {
            this._withSyncPointDepth++;
            try {
                a.call(c || this, this)
            } finally {
                this._withSyncPointDepth--
            }
            return this
        },
        addSyncPoint: function(a,
            c) {
            if (a = this.getAsset(a, c)) a.file.syncPoint = !0;
            return this
        },
        removeFile: function(a, c) {
            (a = this.getAsset(a, c)) && (a.loaded || a.loading || this._fileList.splice(a.index, 1))
        },
        removeAll: function() {
            this._fileList.length = 0;
            this._flightQueue.length = 0
        },
        start: function() {
            this.isLoading || (this.hasLoaded = !1, this.isLoading = !0, this.updateProgress(), this.processLoadQueue())
        },
        processLoadQueue: function() {
            if (this.isLoading) {
                for (var a = 0; a < this._flightQueue.length; a++) {
                    var c = this._flightQueue[a];
                    if (c.loaded || c.error) this._flightQueue.splice(a,
                        1), a--, c.loading = !1, c.requestUrl = null, c.requestObject = null, c.error && this.onFileError.dispatch(c.key, c), "packfile" !== c.type ? (this._loadedFileCount++, this.onFileComplete.dispatch(this.progress, c.key, !c.error, this._loadedFileCount, this._totalFileCount)) : "packfile" === c.type && c.error && (this._loadedPackCount++, this.onPackComplete.dispatch(c.key, !c.error, this._loadedPackCount, this._totalPackCount))
                }
                var b = !1,
                    d = this.enableParallel ? Math.max(1, this.maxParallelDownloads) : 1;
                for (a = this._processingHead; a < this._fileList.length &&
                    !(c = this._fileList[a], "packfile" === c.type && !c.error && c.loaded && a === this._processingHead && (this.processPack(c), this._loadedPackCount++, this.onPackComplete.dispatch(c.key, !c.error, this._loadedPackCount, this._totalPackCount)), c.loaded || c.error ? a === this._processingHead && (this._processingHead = a + 1) : !c.loading && this._flightQueue.length < d && ("packfile" !== c.type || c.data ? b || (this._fileLoadStarted || (this._fileLoadStarted = !0, this.onLoadStart.dispatch()), this._flightQueue.push(c), c.loading = !0, this.onFileStart.dispatch(this.progress,
                        c.key, c.url), this.loadFile(c)) : (this._flightQueue.push(c), c.loading = !0, this.loadFile(c))), !c.loaded && c.syncPoint && (b = !0), this._flightQueue.length >= d || b && this._loadedPackCount === this._totalPackCount); a++);
                this.updateProgress();
                if (this._processingHead >= this._fileList.length) this.finishedLoading();
                else if (!this._flightQueue.length) {
                    console.warn("Phaser.Loader - aborting: processing queue empty, loading may have stalled");
                    var f = this;
                    setTimeout(function() {
                        f.finishedLoading(!0)
                    }, 2E3)
                }
            } else console.warn("Phaser.Loader - active loading canceled / reset"),
                this.finishedLoading(!0)
        },
        finishedLoading: function(a) {
            this.hasLoaded || (this.hasLoaded = !0, this.isLoading = !1, a || this._fileLoadStarted || (this._fileLoadStarted = !0, this.onLoadStart.dispatch()), this.game.state.loadUpdate(), this.onBeforeLoadComplete.dispatch(), this.reset(), this.onLoadComplete.dispatch(), this.game.state && this.game.state.loadComplete())
        },
        asyncComplete: function(a, c) {
            void 0 === c && (c = "");
            a.loaded = !0;
            a.error = !!c;
            c && (a.errorMessage = c, console.warn("Phaser.Loader - " + a.type + "[" + a.key + "]: " + c));
            this.processLoadQueue()
        },
        processPack: function(a) {
            var c = a.data[a.key];
            if (c)
                for (var d = 0; d < c.length; d++) {
                    var k = c[d];
                    switch (k.type) {
                        case "image":
                            this.image(k.key, k.url, k.overwrite);
                            break;
                        case "text":
                            this.text(k.key, k.url, k.overwrite);
                            break;
                        case "json":
                            this.json(k.key, k.url, k.overwrite);
                            break;
                        case "xml":
                            this.xml(k.key, k.url, k.overwrite);
                            break;
                        case "script":
                            this.script(k.key, k.url, k.callback, a.callbackContext || this);
                            break;
                        case "binary":
                            this.binary(k.key, k.url, k.callback, a.callbackContext || this);
                            break;
                        case "spritesheet":
                            this.spritesheet(k.key,
                                k.url, k.frameWidth, k.frameHeight, k.frameMax, k.margin, k.spacing, k.skipFrames);
                            break;
                        case "video":
                            this.video(k.key, k.urls);
                            break;
                        case "audio":
                            this.audio(k.key, k.urls, k.autoDecode);
                            break;
                        case "audiosprite":
                            this.audiosprite(k.key, k.urls, k.jsonURL, k.jsonData, k.autoDecode);
                            break;
                        case "tilemap":
                            this.tilemap(k.key, k.url, k.data, b.Tilemap[k.format]);
                            break;
                        case "physics":
                            this.physics(k.key, k.url, k.data, b.Loader[k.format]);
                            break;
                        case "bitmapFont":
                            this.bitmapFont(k.key, k.textureURL, k.atlasURL, k.atlasData, k.xSpacing,
                                k.ySpacing);
                            break;
                        case "atlasJSONArray":
                            this.atlasJSONArray(k.key, k.textureURL, k.atlasURL, k.atlasData);
                            break;
                        case "atlasJSONHash":
                            this.atlasJSONHash(k.key, k.textureURL, k.atlasURL, k.atlasData);
                            break;
                        case "atlasXML":
                            this.atlasXML(k.key, k.textureURL, k.atlasURL, k.atlasData);
                            break;
                        case "atlas":
                            this.atlas(k.key, k.textureURL, k.atlasURL, k.atlasData, b.Loader[k.format]);
                            break;
                        case "shader":
                            this.shader(k.key, k.url, k.overwrite)
                    }
                } else console.warn("Phaser.Loader - " + a.key + ": pack has data, but not for pack key")
        },
        transformUrl: function(a, c) {
            return a ? a.match(/^(?:blob:|data:|http:\/\/|https:\/\/|\/\/)/) ? a : this.baseURL + c.path + a : !1
        },
        loadFile: function(a) {
            switch (a.type) {
                case "packfile":
                    this.xhrLoad(a, this.transformUrl(a.url, a), "text", this.fileComplete);
                    break;
                case "image":
                case "spritesheet":
                case "textureatlas":
                case "bitmapfont":
                    this.loadImageTag(a);
                    break;
                case "audio":
                    a.url = this.getAudioURL(a.url);
                    a.url ? this.game.sound.usingWebAudio ? this.xhrLoad(a, this.transformUrl(a.url, a), "arraybuffer", this.fileComplete) : this.game.sound.usingAudioTag &&
                        this.loadAudioTag(a) : this.fileError(a, null, "No supported audio URL specified or device does not have audio playback support");
                    break;
                case "video":
                    a.url = this.getVideoURL(a.url);
                    a.url ? a.asBlob ? this.xhrLoad(a, this.transformUrl(a.url, a), "blob", this.fileComplete) : this.loadVideoTag(a) : this.fileError(a, null, "No supported video URL specified or device does not have video playback support");
                    break;
                case "json":
                    this.xhrLoad(a, this.transformUrl(a.url, a), "text", this.jsonLoadComplete);
                    break;
                case "xml":
                    this.xhrLoad(a,
                        this.transformUrl(a.url, a), "text", this.xmlLoadComplete);
                    break;
                case "tilemap":
                    a.format === b.Tilemap.TILED_JSON ? this.xhrLoad(a, this.transformUrl(a.url, a), "text", this.jsonLoadComplete) : a.format === b.Tilemap.CSV ? this.xhrLoad(a, this.transformUrl(a.url, a), "text", this.csvLoadComplete) : this.asyncComplete(a, "invalid Tilemap format: " + a.format);
                    break;
                case "text":
                case "script":
                case "shader":
                case "physics":
                    this.xhrLoad(a, this.transformUrl(a.url, a), "text", this.fileComplete);
                    break;
                case "texture":
                    "truecolor" === a.key.split("_").pop() ?
                        this.loadImageTag(a) : this.xhrLoad(a, this.transformUrl(a.url, a), "arraybuffer", this.fileComplete);
                    break;
                case "binary":
                    this.xhrLoad(a, this.transformUrl(a.url, a), "arraybuffer", this.fileComplete)
            }
        },
        loadImageTag: function(a) {
            var c = this;
            a.data = new Image;
            a.data.name = a.key;
            this.crossOrigin && (a.data.crossOrigin = this.crossOrigin);
            a.data.onload = function() {
                a.data.onload && (a.data.onload = null, a.data.onerror = null, c.fileComplete(a))
            };
            a.data.onerror = function() {
                a.data.onload && (a.data.onload = null, a.data.onerror = null,
                    c.fileError(a))
            };
            a.data.src = this.transformUrl(a.url, a);
            !this.game.device.firefox && a.data.complete && a.data.width && a.data.height && (a.data.onload = null, a.data.onerror = null, this.fileComplete(a))
        },
        loadVideoTag: function(a) {
            var c = this;
            a.data = document.createElement("video");
            a.data.name = a.key;
            a.data.controls = !1;
            a.data.autoplay = !1;
            var d = function() {
                a.data.removeEventListener(a.loadEvent, d, !1);
                a.data.onerror = null;
                a.data.canplay = !0;
                b.GAMES[c.game.id].load.fileComplete(a)
            };
            a.data.onerror = function() {
                a.data.removeEventListener(a.loadEvent,
                    d, !1);
                a.data.onerror = null;
                a.data.canplay = !1;
                c.fileError(a)
            };
            a.data.addEventListener(a.loadEvent, d, !1);
            a.data.src = this.transformUrl(a.url, a);
            a.data.load()
        },
        loadAudioTag: function(a) {
            var c = this;
            if (this.game.sound.touchLocked) a.data = new Audio, a.data.name = a.key, a.data.preload = "auto", a.data.src = this.transformUrl(a.url, a), this.fileComplete(a);
            else {
                a.data = new Audio;
                a.data.name = a.key;
                var b = function() {
                    a.data.removeEventListener("canplaythrough", b, !1);
                    a.data.onerror = null;
                    c.fileComplete(a)
                };
                a.data.onerror = function() {
                    a.data.removeEventListener("canplaythrough",
                        b, !1);
                    a.data.onerror = null;
                    c.fileError(a)
                };
                a.data.preload = "auto";
                a.data.src = this.transformUrl(a.url, a);
                a.data.addEventListener("canplaythrough", b, !1);
                a.data.load()
            }
        },
        xhrLoad: function(a, c, b, d, f) {
            var e = new XMLHttpRequest;
            e.open("GET", c, !0);
            e.responseType = b;
            !1 !== this.headers.requestedWith && e.setRequestHeader("X-Requested-With", this.headers.requestedWith);
            this.headers[a.type] && e.setRequestHeader("Accept", this.headers[a.type]);
            f = f || this.fileError;
            var k = this;
            e.onload = function() {
                try {
                    return 4 === e.readyState &&
                        400 <= e.status && 599 >= e.status ? f.call(k, a, e) : d.call(k, a, e)
                } catch (n) {
                    k.hasLoaded ? window.console && console.error(n) : k.asyncComplete(a, n.message || "Exception")
                }
            };
            e.onerror = function() {
                try {
                    return f.call(k, a, e)
                } catch (n) {
                    k.hasLoaded ? window.console && console.error(n) : k.asyncComplete(a, n.message || "Exception")
                }
            };
            a.requestObject = e;
            a.requestUrl = c;
            e.send()
        },
        getVideoURL: function(a) {
            for (var c = 0; c < a.length; c++) {
                var b = a[c];
                if (b.uri) {
                    var d = b.type;
                    b = b.uri;
                    if (this.game.device.canPlayVideo(d)) return b
                } else {
                    if (0 === b.indexOf("blob:") ||
                        0 === b.indexOf("data:")) return b;
                    0 <= b.indexOf("?") && (b = b.substr(0, b.indexOf("?")));
                    d = b.substr((Math.max(0, b.lastIndexOf(".")) || Infinity) + 1).toLowerCase();
                    if (this.game.device.canPlayVideo(d)) return a[c]
                }
            }
            return null
        },
        getAudioURL: function(a) {
            if (this.game.sound.noAudio) return null;
            for (var c = 0; c < a.length; c++) {
                var b = a[c];
                if (b.uri) {
                    var d = b.type;
                    b = b.uri;
                    if (this.game.device.canPlayAudio(d)) return b
                } else {
                    if (0 === b.indexOf("blob:") || 0 === b.indexOf("data:")) return b;
                    0 <= b.indexOf("?") && (b = b.substr(0, b.indexOf("?")));
                    d = b.substr((Math.max(0, b.lastIndexOf(".")) || Infinity) + 1).toLowerCase();
                    if (this.game.device.canPlayAudio(d)) return a[c]
                }
            }
            return null
        },
        fileError: function(a, c, b) {
            var d = "error loading asset from URL " + (a.requestUrl || this.transformUrl(a.url, a));
            !b && c && (b = c.status);
            b && (d = d + " (" + b + ")");
            this.asyncComplete(a, d)
        },
        fileComplete: function(a, c) {
            var d = !0;
            switch (a.type) {
                case "packfile":
                    c = JSON.parse(c.responseText);
                    a.data = c || {};
                    break;
                case "texture":
                    var k = /\.([^.]+)$/.exec(a.url.split("?", 1)[0])[1].toLowerCase();
                    null !==
                        a.data ? this.cache.addCompressedTextureMetaData(a.key, a.url, k, a.data) : this.cache.addCompressedTextureMetaData(a.key, a.url, k, c.response);
                    break;
                case "image":
                    this.cache.addImage(a.key, a.url, a.data);
                    break;
                case "spritesheet":
                    this.cache.addSpriteSheet(a.key, a.url, a.data, a.frameWidth, a.frameHeight, a.frameMax, a.margin, a.spacing, a.skipFrames);
                    break;
                case "textureatlas":
                    if (null == a.atlasURL) this.cache.addTextureAtlas(a.key, a.url, a.data, a.atlasData, a.format);
                    else if (d = !1, a.format === b.Loader.TEXTURE_ATLAS_JSON_ARRAY ||
                        a.format === b.Loader.TEXTURE_ATLAS_JSON_HASH || a.format === b.Loader.TEXTURE_ATLAS_JSON_PYXEL) this.xhrLoad(a, this.transformUrl(a.atlasURL, a), "text", this.jsonLoadComplete);
                    else if (a.format === b.Loader.TEXTURE_ATLAS_XML_STARLING) this.xhrLoad(a, this.transformUrl(a.atlasURL, a), "text", this.xmlLoadComplete);
                    else throw Error("Phaser.Loader. Invalid Texture Atlas format: " + a.format);
                    break;
                case "bitmapfont":
                    a.atlasURL ? (d = !1, this.xhrLoad(a, this.transformUrl(a.atlasURL, a), "text", function(a, c) {
                        try {
                            var b = JSON.parse(c.responseText)
                        } catch (n) {}
                        b ?
                            (a.atlasType = "json", this.jsonLoadComplete(a, c)) : (a.atlasType = "xml", this.xmlLoadComplete(a, c))
                    })) : this.cache.addBitmapFont(a.key, a.url, a.data, a.atlasData, a.atlasType, a.xSpacing, a.ySpacing);
                    break;
                case "video":
                    if (a.asBlob) try {
                        a.data = c.response
                    } catch (l) {
                        throw Error("Phaser.Loader. Unable to parse video file as Blob: " + a.key);
                    }
                    this.cache.addVideo(a.key, a.url, a.data, a.asBlob);
                    break;
                case "audio":
                    this.game.sound.usingWebAudio ? (a.data = c.response, this.cache.addSound(a.key, a.url, a.data, !0, !1), a.autoDecode &&
                        this.game.sound.decode(a.key)) : this.cache.addSound(a.key, a.url, a.data, !1, !0);
                    break;
                case "text":
                    a.data = c.responseText;
                    this.cache.addText(a.key, a.url, a.data);
                    break;
                case "shader":
                    a.data = c.responseText;
                    this.cache.addShader(a.key, a.url, a.data);
                    break;
                case "physics":
                    c = JSON.parse(c.responseText);
                    this.cache.addPhysicsData(a.key, a.url, c, a.format);
                    break;
                case "script":
                    a.data = document.createElement("script");
                    a.data.language = "javascript";
                    a.data.type = "text/javascript";
                    a.data.defer = !1;
                    a.data.text = c.responseText;
                    document.head.appendChild(a.data);
                    a.callback && (a.data = a.callback.call(a.callbackContext, a.key, c.responseText));
                    break;
                case "binary":
                    a.data = a.callback ? a.callback.call(a.callbackContext, a.key, c.response) : c.response, this.cache.addBinary(a.key, a.data)
            }
            d && this.asyncComplete(a)
        },
        jsonLoadComplete: function(a, c) {
            c = JSON.parse(c.responseText);
            "tilemap" === a.type ? this.cache.addTilemap(a.key, a.url, c, a.format) : "bitmapfont" === a.type ? this.cache.addBitmapFont(a.key, a.url, a.data, c, a.atlasType, a.xSpacing, a.ySpacing) :
                "json" === a.type ? this.cache.addJSON(a.key, a.url, c) : this.cache.addTextureAtlas(a.key, a.url, a.data, c, a.format);
            this.asyncComplete(a)
        },
        csvLoadComplete: function(a, c) {
            this.cache.addTilemap(a.key, a.url, c.responseText, a.format);
            this.asyncComplete(a)
        },
        xmlLoadComplete: function(a, c) {
            var b = this.parseXml(c.responseText);
            b ? ("bitmapfont" === a.type ? this.cache.addBitmapFont(a.key, a.url, a.data, b, a.atlasType, a.xSpacing, a.ySpacing) : "textureatlas" === a.type ? this.cache.addTextureAtlas(a.key, a.url, a.data, b, a.format) : "xml" ===
                a.type && this.cache.addXML(a.key, a.url, b), this.asyncComplete(a)) : (console.warn("Phaser.Loader - " + a.key + ": invalid XML (" + (c.responseType || c.contentType) + ")"), this.asyncComplete(a, "invalid XML"))
        },
        parseXml: function(a) {
            try {
                if (window.DOMParser) var c = (new DOMParser).parseFromString(a, "text/xml");
                else c = new ActiveXObject("Microsoft.XMLDOM"), c.async = "false", c.loadXML(a)
            } catch (e) {
                c = null
            }
            return c && c.documentElement && !c.getElementsByTagName("parsererror").length ? c : null
        },
        updateProgress: function() {
            this.preloadSprite &&
                (0 === this.preloadSprite.direction ? this.preloadSprite.rect.width = Math.floor(this.preloadSprite.width / 100 * this.progress) : this.preloadSprite.rect.height = Math.floor(this.preloadSprite.height / 100 * this.progress), this.preloadSprite.sprite ? this.preloadSprite.sprite.updateCrop() : this.preloadSprite = null)
        },
        totalLoadedFiles: function() {
            return this._loadedFileCount
        },
        totalQueuedFiles: function() {
            return this._totalFileCount - this._loadedFileCount
        },
        totalLoadedPacks: function() {
            return this._totalPackCount
        },
        totalQueuedPacks: function() {
            return this._totalPackCount -
                this._loadedPackCount
        }
    };
    Object.defineProperty(b.Loader.prototype, "progressFloat", {
        get: function() {
            return b.Math.clamp(this._loadedFileCount / this._totalFileCount * 100 || 0, 0, 100)
        }
    });
    Object.defineProperty(b.Loader.prototype, "progress", {
        get: function() {
            return Math.round(this.progressFloat)
        }
    });
    b.Loader.prototype.constructor = b.Loader;
    b.LoaderParser = {
        bitmapFont: function(a, c, b, d, f, g) {
            return this.xmlBitmapFont(a, c, b, d, f, g)
        },
        xmlBitmapFont: function(a, c, b, d, f, g) {
            null == g && (g = 1);
            var e = {},
                k = a.getElementsByTagName("info")[0],
                l = a.getElementsByTagName("common")[0];
            e.font = k.getAttribute("face");
            e.size = parseInt(k.getAttribute("size"), 10);
            e.lineHeight = parseInt(l.getAttribute("lineHeight"), 10) + d;
            e.chars = {};
            d = a.getElementsByTagName("char");
            k = f ? f.x : 0;
            l = f ? f.y : 0;
            for (f = 0; f < d.length; f++) {
                var h = parseInt(d[f].getAttribute("id"), 10);
                e.chars[h] = {
                    x: k + parseInt(d[f].getAttribute("x"), 10),
                    y: l + parseInt(d[f].getAttribute("y"), 10),
                    width: parseInt(d[f].getAttribute("width"), 10),
                    height: parseInt(d[f].getAttribute("height"), 10),
                    xOffset: parseInt(d[f].getAttribute("xoffset"),
                        10) / g,
                    yOffset: parseInt(d[f].getAttribute("yoffset"), 10) / g,
                    xAdvance: (parseInt(d[f].getAttribute("xadvance"), 10) + b) / g,
                    kerning: {}
                }
            }
            a = a.getElementsByTagName("kerning");
            for (f = 0; f < a.length; f++) b = parseInt(a[f].getAttribute("first"), 10), d = parseInt(a[f].getAttribute("second"), 10), k = parseInt(a[f].getAttribute("amount"), 10) / g, e.chars[d].kerning[b] = k;
            return this.finalizeBitmapFont(c, e)
        },
        jsonBitmapFont: function(a, c, b, d, f, g) {
            null == g && (g = 1);
            var e = {
                    font: a.font.info._face,
                    size: parseInt(a.font.info._size, 10),
                    lineHeight: parseInt(a.font.common._lineHeight,
                        10) + d,
                    chars: {}
                },
                k = f ? f.x : 0,
                l = f ? f.y : 0;
            a.font.chars["char"].forEach(function(a) {
                var c = parseInt(a._id, 10);
                e.chars[c] = {
                    x: k + parseInt(a._x, 10),
                    y: l + parseInt(a._y, 10),
                    width: parseInt(a._width, 10),
                    height: parseInt(a._height, 10),
                    xOffset: parseInt(a._xoffset, 10) / g,
                    yOffset: parseInt(a._yoffset, 10) / g,
                    xAdvance: (parseInt(a._xadvance, 10) + b) / g,
                    kerning: {}
                }
            });
            a.font.kernings && a.font.kernings.kerning && a.font.kernings.kerning.forEach(function(a) {
                e.chars[a._second].kerning[a._first] = parseInt(a._amount, 10) / g
            });
            return this.finalizeBitmapFont(c,
                e)
        },
        finalizeBitmapFont: function(a, c) {
            Object.keys(c.chars).forEach(function(d) {
                d = c.chars[d];
                d.texture = new PIXI.Texture(a, new b.Rectangle(d.x, d.y, d.width, d.height))
            });
            return c
        },
        pvr: function(a) {
            var c = new Uint32Array(a.slice(0, 52));
            a = new Uint8Array(a);
            var b = null,
                d = c[3] << 32 | c[2],
                f;
            if (55727696 === c[0] && 0 <= [0, 1, 2, 3, 6, 7, 9, 11].indexOf(d)) {
                0 <= d && 3 >= d ? f = "PVRTC" : 7 <= d && 11 >= d ? f = "S3TC" : 6 === d && (f = "ETC1");
                switch (d) {
                    case 0:
                        b = 35841;
                        break;
                    case 1:
                        b = 35843;
                        break;
                    case 2:
                        b = 35840;
                        break;
                    case 3:
                        b = 35842;
                        break;
                    case 6:
                        b = 36196;
                        break;
                    case 7:
                        b = 33777;
                        break;
                    case 9:
                        b = 33778;
                        break;
                    case 11:
                        b = 33779;
                        break;
                    default:
                        b = -1
                }
                b = {
                    complete: !0,
                    fileFormat: "PVR",
                    compressionAlgorithm: f,
                    flags: c[1],
                    pixelFormat: d,
                    colorSpace: c[4],
                    channelType: c[5],
                    height: c[6],
                    width: c[7],
                    depth: c[8],
                    numberOfSurfaces: c[9],
                    numberOfFaces: c[10],
                    numberOfMipmaps: c[11],
                    metaDataSize: c[12],
                    textureData: a.subarray(52 + c[12], a.byteLength),
                    glExtensionFormat: b
                }
            }
            return b
        },
        dds: function(a) {
            var c = new Uint8Array(a);
            a = new Uint32Array(a);
            var b = null;
            68 === c[0] && 68 === c[1] && 83 === c[2] && 32 === c[3] && (b = {
                complete: !0,
                fileFormat: "DDS",
                compressionAlgorithm: "S3TC",
                size: a[1],
                flags: a[2],
                height: a[3],
                width: a[4],
                pitch: a[5],
                depth: a[6],
                mipmapCount: a[7],
                formatSize: a[19],
                formatFlag: a[19],
                formatFourCC: [String.fromCharCode(c[84]), String.fromCharCode(c[85]), String.fromCharCode(c[86]), String.fromCharCode(c[87])].join(""),
                formatBitCount: a[21],
                formatRBitMask: a[22],
                formatGBitMask: a[23],
                formatBBitMask: a[24],
                formatABitMask: a[25],
                caps1: a[26],
                caps2: a[27],
                caps3: a[28],
                caps4: a[29],
                reserved2: a[30],
                DXGIFormat: null,
                resourceDimension: null,
                miscFlag: null,
                arraySize: null,
                textureData: c.subarray(a[1] + 4, c.byteLength)
            }, "DX10" === b.formatFourCC && (b.DXGIFormat = a[31], b.resourceDimension = a[32], b.miscFlag = a[33], b.arraySize = a[34], b.miscFlag = a[35]));
            return b
        },
        ktx: function(a) {
            var c = new Uint8Array(a);
            a = new Uint32Array(a);
            var b = null,
                d = 16 + a[15] / 4 | 0,
                f = a[d],
                g = a[7],
                h = 0;
            if (171 === c[0] && 75 === c[1] && 84 === c[2] && 88 === c[3] && 32 === c[4] && 49 === c[5] && 49 === c[6] && 187 === c[7] && 13 === c[8] && 10 === c[9] && 26 === c[10] && 10 === c[11] && 0 <= [36196, 35840, 35841, 35842, 35843, 33776, 33777, 33778,
                    33779
                ].indexOf(g)) {
                switch (g) {
                    case 36196:
                        h = "ETC1";
                        break;
                    case 35840:
                    case 35841:
                    case 35842:
                    case 35843:
                        h = "PVRTC";
                        break;
                    case 33776:
                    case 33777:
                    case 33778:
                    case 33779:
                        h = "S3TC"
                }
                b = {
                    complete: !0,
                    fileFormat: "KTX",
                    compressionAlgorithm: h,
                    endianness: a[3],
                    glType: a[4],
                    glTypeSize: a[5],
                    glFormat: a[6],
                    glInternalFormat: a[7],
                    glBaseInternalFormat: a[8],
                    width: a[9],
                    height: a[10],
                    pixelDepth: a[11],
                    numberOfArrayElements: a[12],
                    numberOfFaces: a[13],
                    numberOfMipmapLevels: a[14],
                    bytesOfKeyValueData: a[15],
                    keyAndValueByteSize: a[16],
                    imageSize: f,
                    textureData: c.subarray(4 * (d + 1), f + 100)
                }
            }
            return b
        },
        pkm: function(a) {
            a = new Uint8Array(a);
            var c = null;
            80 === a[0] && 75 === a[1] && 77 === a[2] && 32 === a[3] && (c = {
                complete: !0,
                fileFormat: "PKM",
                compressionAlgorithm: "ETC1",
                format: (a[6] << 8 | a[7]) & 65535,
                width: (a[8] << 8 | a[9]) & 65535,
                height: (a[10] << 8 | a[11]) & 65535,
                originalWidth: (a[12] << 8 | a[13]) & 65535,
                originalHeight: (a[14] << 8 | a[15]) & 65535,
                textureData: a.subarray(16, a.length)
            });
            return c
        }
    };
    b.AudioSprite = function(a, c) {
        this.game = a;
        this.key = c;
        this.config = this.game.cache.getJSON(c + "-audioatlas");
        this.autoplayKey = null;
        this.autoplay = !1;
        this.sounds = {};
        for (var b in this.config.spritemap) a = this.config.spritemap[b], c = this.game.add.sound(this.key), c.addMarker(b, a.start, a.end - a.start, null, a.loop), this.sounds[b] = c;
        this.config.autoplay && (this.autoplayKey = this.config.autoplay, this.play(this.autoplayKey), this.autoplay = this.sounds[this.autoplayKey])
    };
    b.AudioSprite.prototype = {
        play: function(a, c) {
            void 0 === c && (c = 1);
            return this.sounds[a].play(a, null, c)
        },
        stop: function(a) {
            if (a) this.sounds[a].stop();
            else
                for (var c in this.sounds) this.sounds[c].stop()
        },
        get: function(a) {
            return this.sounds[a]
        }
    };
    b.AudioSprite.prototype.constructor = b.AudioSprite;
    b.Sound = function(a, c, d, f, l) {
        void 0 === d && (d = 1);
        void 0 === f && (f = !1);
        void 0 === l && (l = a.sound.connectToMaster);
        this.game = a;
        this.key = this.name = c;
        this.loop = f;
        this.markers = {};
        this.context = null;
        this.autoplay = !1;
        this.stopTime = this.position = this.durationMS = this.duration = this.currentTime = this.startTime = this.totalDuration = 0;
        this.paused = !1;
        this.pausedTime = this.pausedPosition = 0;
        this.isPlaying = !1;
        this.currentMarker = "";
        this.fadeTween =
            null;
        this.playOnce = this.allowMultiple = this.override = this.pendingPlayback = !1;
        this.usingWebAudio = this.game.sound.usingWebAudio;
        this.usingAudioTag = this.game.sound.usingAudioTag;
        this._sound = this.gainNode = this.masterGainNode = this.externalNode = null;
        this._globalVolume = 1;
        this._removeFromSoundManager = this._markedToDelete = !1;
        this._sourceId = 0;
        this.usingWebAudio ? (this.context = this.game.sound.context, this.masterGainNode = this.game.sound.masterGain, this.gainNode = void 0 === this.context.createGain ? this.context.createGainNode() :
            this.context.createGain(), this.gainNode.gain.value = d, l && this.gainNode.connect(this.masterGainNode)) : this.usingAudioTag && (this.game.cache.getSound(c) && this.game.cache.isSoundReady(c) ? (this._sound = this.game.cache.getSoundData(c), this.totalDuration = 0, this._sound.duration && (this.totalDuration = this._sound.duration)) : this.game.cache.onSoundUnlock.add(this.soundHasUnlocked, this));
        this.onDecoded = new b.Signal;
        this.onPlay = new b.Signal;
        this.onPause = new b.Signal;
        this.onResume = new b.Signal;
        this.onLoop = new b.Signal;
        this.onStop = new b.Signal;
        this.onMute = new b.Signal;
        this.onMarkerComplete = new b.Signal;
        this.onFadeComplete = new b.Signal;
        this._volume = d;
        this._buffer = null;
        this._muted = !1;
        this._tempLoop = this._muteVolume = this._tempPause = this._tempVolume = this._tempPosition = this._tempMarker = 0;
        this._onDecodedEventDispatched = this._paused = !1
    };
    b.Sound.prototype = {
        soundHasUnlocked: function(a) {
            a === this.key && (this._sound = this.game.cache.getSoundData(this.key), this.totalDuration = this._sound.duration)
        },
        addMarker: function(a, c, b, d, f) {
            if (void 0 ===
                b || null === b) b = 1;
            if (void 0 === d || null === d) d = 1;
            void 0 === f && (f = !1);
            this.markers[a] = {
                name: a,
                start: c,
                stop: c + b,
                volume: d,
                duration: b,
                durationMS: 1E3 * b,
                loop: f
            }
        },
        removeMarker: function(a) {
            delete this.markers[a]
        },
        onEndedHandler: function() {
            this._removeOnEndedHandler();
            this.isPlaying = !1;
            this.currentTime = this.durationMS;
            this.stop();
            this.playOnce && (this._removeFromSoundManager = this._markedToDelete = !0);
            this._markedToDelete && (this._disconnectSource(), this._removeFromSoundManager ? this.game.sound.remove(this) : (this.markers = {}, this.externalNode = this._buffer = this.context = null, this.onDecoded.dispose(), this.onPlay.dispose(), this.onPause.dispose(), this.onResume.dispose(), this.onLoop.dispose(), this.onStop.dispose(), this.onMute.dispose(), this.onMarkerComplete.dispose()))
        },
        update: function() {
            this.game.cache.checkSoundKey(this.key) ? (this.isDecoded && !this._onDecodedEventDispatched && (this.onDecoded.dispatch(this), this._onDecodedEventDispatched = !0), this.pendingPlayback && this.game.cache.isSoundReady(this.key) && (this.pendingPlayback = !1, this.play(this._tempMarker, this._tempPosition, this._tempVolume, this._tempLoop)), this.isPlaying && (this.currentTime = this.game.time.time - this.startTime, this.currentTime >= this.durationMS && (this.usingWebAudio ? this.loop ? (this.onLoop.dispatch(this), this.isPlaying = !1, "" === this.currentMarker ? (this.currentTime = 0, this.startTime = this.game.time.time, this.isPlaying = !0) : (this.onMarkerComplete.dispatch(this.currentMarker, this), this.play(this.currentMarker, 0, this.volume, !0, !0))) : "" !== this.currentMarker && this.stop() :
                this.loop ? (this.onLoop.dispatch(this), "" === this.currentMarker && (this.currentTime = 0, this.startTime = this.game.time.time), this.isPlaying = !1, this.play(this.currentMarker, 0, this.volume, !0, !0)) : this.stop()))) : this.destroy()
        },
        loopFull: function(a) {
            return this.play(null, 0, a, !0)
        },
        play: function(a, c, b, d, f) {
            if (void 0 === a || !1 === a || null === a) a = "";
            void 0 === f && (f = !0);
            if (this.isPlaying && !this.allowMultiple && !f && !this.override) return this;
            this._sound && this.isPlaying && !this.allowMultiple && (this.override || f) && (this.usingWebAudio ?
                this._stopSourceAndDisconnect() : this.usingAudioTag && (this._sound.pause(), this._sound.currentTime = 0), this.isPlaying = !1);
            if ("" === a && 0 < Object.keys(this.markers).length) return this;
            if ("" !== a)
                if (this.markers[a]) this.currentMarker = a, this.position = this.markers[a].start, this.volume = this.markers[a].volume, this.loop = this.markers[a].loop, this.duration = this.markers[a].duration, this.durationMS = this.markers[a].durationMS, "undefined" !== typeof b && (this.volume = b), "undefined" !== typeof d && (this.loop = d), this._tempMarker =
                    a, this._tempPosition = this.position, this._tempVolume = this.volume, this._tempLoop = this.loop;
                else return console.warn("Phaser.Sound.play: audio marker " + a + " doesn't exist"), this;
            else c = c || 0, void 0 === b && (b = this._volume), void 0 === d && (d = this.loop), this.position = Math.max(0, c), this.volume = b, this.loop = d, this.durationMS = this.duration = 0, this._tempMarker = a, this._tempPosition = c, this._tempVolume = b, this._tempLoop = d;
            this.usingWebAudio ? this.game.cache.isSoundDecoded(this.key) ? (this._createSourceAndConnect(), this.loop &&
                "" === a && (this._sound.loop = !0), this.loop || "" !== a || this._addOnEndedHandler(), this.totalDuration = this._sound.buffer.duration, 0 === this.duration && (this.duration = this.totalDuration, this.durationMS = Math.ceil(1E3 * this.totalDuration)), this.loop && "" === a ? this._startSource(0, 0) : this._startSource(0, this.position, this.duration), this.isPlaying = !0, this.paused = !1, this.startTime = this.game.time.time, this.currentTime = 0, this.stopTime = this.startTime + this.durationMS, this.onPlay.dispatch(this)) : (this.pendingPlayback = !0,
                this.game.cache.getSound(this.key) && !1 === this.game.cache.getSound(this.key).isDecoding && this.game.sound.decode(this.key, this)) : this.game.cache.getSound(this.key) && this.game.cache.getSound(this.key).locked ? (this.game.cache.reloadSound(this.key), this.pendingPlayback = !0) : this._sound && (this.game.device.cocoonJS || 4 === this._sound.readyState) ? (this._sound.play(), this._sound.loop = this.loop, this.totalDuration = this._sound.duration, 0 === this.duration && (this.duration = this.totalDuration, this.durationMS = 1E3 * this.totalDuration),
                this._sound.currentTime = this.position, this._sound.muted = this._muted, this._sound.volume = this._muted || this.game.sound.mute ? 0 : this._volume, this.isPlaying = !0, this.paused = !1, this.startTime = this.game.time.time, this.currentTime = 0, this.stopTime = this.startTime + this.durationMS, this.onPlay.dispatch(this)) : this.pendingPlayback = !0;
            this.playOnce && (this.loop && console.warn("Phaser.Sound.play: audio clip " + this.name + " cannot be deleted while looping."), this._removeFromSoundManager = this._markedToDelete = !0);
            return this
        },
        restart: function(a, c, b, d) {
            void 0 === d && (d = !1);
            this.play(a || "", c || 0, b || 1, d, !0)
        },
        pause: function() {
            this.isPlaying && (this.paused = !0, this.pausedPosition = this.currentTime, this.pausedTime = this.game.time.time, this._tempPause = this._sound.currentTime, this.onPause.dispatch(this), this.stop())
        },
        resume: function() {
            if (this.paused) {
                if (this.usingWebAudio) {
                    var a = Math.max(0, this.position + this.pausedPosition / 1E3);
                    this._createSourceAndConnect();
                    "" === this.currentMarker && (this.loop ? this._sound.loop = !0 : this._addOnEndedHandler());
                    var c = this.duration - this.pausedPosition / 1E3;
                    this.loop && "" === this.currentMarker ? this._startSource(0, a) : this._startSource(0, a, c)
                } else this._sound.currentTime = this._tempPause, this._sound.play();
                this.isPlaying = !0;
                this.paused = !1;
                this.startTime += this.game.time.time - this.pausedTime;
                this.onResume.dispatch(this)
            }
        },
        stop: function() {
            this.isPlaying && this._sound && (this.usingWebAudio ? this._stopSourceAndDisconnect() : this.usingAudioTag && (this._sound.pause(), this._sound.currentTime = 0));
            this.isPlaying = this.pendingPlayback = !1;
            if (!this.paused) {
                var a = this.currentMarker;
                "" !== this.currentMarker && this.onMarkerComplete.dispatch(this.currentMarker, this);
                this.currentMarker = "";
                null !== this.fadeTween && this.fadeTween.stop();
                this.onStop.dispatch(this, a)
            }
        },
        fadeIn: function(a, c, b) {
            void 0 === c && (c = !1);
            void 0 === b && (b = this.currentMarker);
            this.paused || (this.play(b, 0, 0, c), this.fadeTo(a, 1))
        },
        fadeOut: function(a) {
            this.fadeTo(a, 0)
        },
        fadeTo: function(a, c) {
            this.isPlaying && !this.paused && c !== this.volume && (void 0 === a && (a = 1E3), void 0 === c ? console.warn("Phaser.Sound.fadeTo: No Volume Specified.") :
                (this.fadeTween = this.game.add.tween(this).to({
                    volume: c
                }, a, b.Easing.Linear.None, !0), this.fadeTween.onComplete.add(this.fadeComplete, this)))
        },
        fadeComplete: function() {
            this.onFadeComplete.dispatch(this, this.volume);
            0 === this.volume && this.stop()
        },
        updateGlobalVolume: function(a) {
            this.usingAudioTag && this._sound && (this._globalVolume = a, this._sound.volume = this._globalVolume * this._volume)
        },
        destroy: function(a) {
            void 0 === a && (a = !0);
            this._markedToDelete = !0;
            this._removeFromSoundManager = a;
            this.stop();
            a ? this.game.sound.remove(this) :
                (this.markers = {}, this.externalNode = this._buffer = this.context = null, this.onDecoded.dispose(), this.onPlay.dispose(), this.onPause.dispose(), this.onResume.dispose(), this.onLoop.dispose(), this.onStop.dispose(), this.onMute.dispose(), this.onMarkerComplete.dispose())
        },
        _createSourceAndConnect: function() {
            this._sound && !this.allowMultiple && console.warn("Phaser.Sound: Audio source already exists");
            this._sound = this.context.createBufferSource();
            this._sourceId++;
            this.externalNode ? this._sound.connect(this.externalNode) :
                this._sound.connect(this.gainNode);
            this._buffer = this.game.cache.getSoundData(this.key);
            this._sound.buffer = this._buffer
        },
        _disconnectSource: function() {
            this.externalNode ? this._sound.disconnect(this.externalNode) : this.gainNode && this._sound.disconnect(this.gainNode)
        },
        _startSource: function(a, c, b) {
            a || (a = 0);
            void 0 === this._sound.start ? this._sound.noteGrainOn(a, c, b) : this._sound.start(a, c, b)
        },
        _stopSourceAndDisconnect: function() {
            this._removeOnEndedHandler();
            if (void 0 === this._sound.stop) this._sound.noteOff(0);
            else try {
                this._sound.stop(0)
            } catch (a) {}
            this._disconnectSource();
            this._sound = null
        },
        _addOnEndedHandler: function() {
            this._sound.onended = this.onEndedHandler.bind(this)
        },
        _removeOnEndedHandler: function() {
            this._sound.onended = null
        }
    };
    b.Sound.prototype.constructor = b.Sound;
    Object.defineProperty(b.Sound.prototype, "isDecoding", {
        get: function() {
            return this.game.cache.getSound(this.key).isDecoding
        }
    });
    Object.defineProperty(b.Sound.prototype, "isDecoded", {
        get: function() {
            return this.game.cache.isSoundDecoded(this.key)
        }
    });
    Object.defineProperty(b.Sound.prototype, "mute", {
        get: function() {
            return this._muted || this.game.sound.mute
        },
        set: function(a) {
            a = a || !1;
            a !== this._muted && (a ? (this._muted = !0, this._muteVolume = this._tempVolume, this.usingWebAudio ? this.gainNode.gain.value = 0 : this.usingAudioTag && this._sound && (this._sound.volume = 0)) : (this._muted = !1, this.usingWebAudio ? this.gainNode.gain.value = this._muteVolume : this.usingAudioTag && this._sound && (this._sound.volume = this._muteVolume)), this.onMute.dispatch(this))
        }
    });
    Object.defineProperty(b.Sound.prototype,
        "volume", {
            get: function() {
                return this._volume
            },
            set: function(a) {
                this.usingAudioTag && (a = this.game.math.clamp(a, 0, 1));
                this._muted ? this._muteVolume = a : (this._volume = this._tempVolume = a, this.usingWebAudio ? this.gainNode.gain.value = a : this.usingAudioTag && this._sound && (this._sound.volume = this._globalVolume * a))
            }
        });
    Object.defineProperty(b.Sound.prototype, "sourceId", {
        get: function() {
            return this._sound ? this._sourceId : null
        }
    });
    b.SoundManager = function(a) {
        this.game = a;
        this.onSoundDecode = new b.Signal;
        this.onVolumeChange =
            new b.Signal;
        this.onMute = new b.Signal;
        this.onUnMute = new b.Signal;
        this.onTouchUnlock = new b.Signal;
        this.context = null;
        this.noAudio = this.usingAudioTag = this.usingWebAudio = !1;
        this.connectToMaster = !0;
        this.touchLocked = !1;
        this.channels = 32;
        this.muteOnPause = !0;
        this._muted = this._codeMuted = !1;
        this._unlockSource = null;
        this._volume = 1;
        this._sounds = [];
        this._watchList = new b.ArraySet;
        this._watching = !1;
        this._watchContext = this._watchCallback = null;
        this._resumeWebAudioOnClick = this._resumeWebAudioOnClick.bind(this)
    };
    b.SoundManager.prototype = {
        boot: function() {
            var a = this.game.device,
                c = window.PhaserGlobal;
            a.iOS && !1 === a.webAudio && (this.channels = 1);
            if (c) {
                if (!0 === c.disableAudio) {
                    this.noAudio = !0;
                    this.touchLocked = !1;
                    return
                }
                if (!0 === c.disableWebAudio) {
                    this.usingAudioTag = !0;
                    this.touchLocked = !1;
                    return
                }
            }
            if (c && c.audioContext) this.context = c.audioContext;
            else if (c = window.AudioContext || window.webkitAudioContext) try {
                this.context = new c
            } catch (e) {
                this.context = null, this.touchLocked = this.usingWebAudio = !1, console.warn(e)
            }
            if (null === this.context) {
                if (void 0 ===
                    window.Audio) {
                    this.noAudio = !0;
                    return
                }
                this.usingAudioTag = !0
            } else this.usingWebAudio = !0, this.masterGain = void 0 === this.context.createGain ? this.context.createGainNode() : this.context.createGain(), this.masterGain.gain.value = 1, this.masterGain.connect(this.context.destination), "suspended" === this.context.state && this.game.canvas.addEventListener("click", this._resumeWebAudioOnClick);
            this.noAudio || a.needsTouchUnlock() && this.setTouchLock();
            this.usingWebAudio && a.chrome && 65 >= a.chromeVersion && console.log('A "GainNode.gain.value setter smoothing is deprecated" notice in Chrome is normal. <https://github.com/photonstorm/phaser-ce/issues/385>')
        },
        setTouchLock: function() {
            this.noAudio || window.PhaserGlobal && !0 === window.PhaserGlobal.disableAudio || (this.game.input.addTouchLockCallback(this.unlock, this, !0), this.touchLocked = !0)
        },
        setTouchUnlock: function() {
            this.touchLocked = !1;
            this._unlockSource = null;
            this.onTouchUnlock.dispatch()
        },
        resumeWebAudio: function() {
            if (this.usingWebAudio && "suspended" === this.context.state) return this.context.resume()
        },
        unlock: function() {
            if (this.noAudio || !this.touchLocked || null !== this._unlockSource) return !0;
            if (this.usingAudioTag) this.setTouchUnlock();
            else if (this.usingWebAudio) {
                var a = this.context.createBuffer(1, 1, 22050);
                this._unlockSource = this.context.createBufferSource();
                this._unlockSource.buffer = a;
                this._unlockSource.connect(this.context.destination);
                var c = this;
                this._unlockSource.onended = function() {
                    c.setTouchUnlock();
                    c.resumeWebAudio()
                };
                void 0 === this._unlockSource.start ? this._unlockSource.noteOn(0) : this._unlockSource.start(0);
                this.resumeWebAudio()
            }
            return !0
        },
        stopAll: function() {
            if (!this.noAudio)
                for (var a = 0; a < this._sounds.length; a++) this._sounds[a] &&
                    this._sounds[a].stop()
        },
        pauseAll: function() {
            if (!this.noAudio)
                for (var a = 0; a < this._sounds.length; a++) this._sounds[a] && this._sounds[a].pause()
        },
        resumeAll: function() {
            if (!this.noAudio)
                for (var a = 0; a < this._sounds.length; a++) this._sounds[a] && this._sounds[a].resume()
        },
        decode: function(a, c) {
            c = c || null;
            var b = this.game.cache.getSoundData(a);
            if (b && !1 === this.game.cache.isSoundDecoded(a)) {
                this.game.cache.updateSound(a, "isDecoding", !0);
                var d = this;
                try {
                    this.context.decodeAudioData(b, function(b) {
                        b && (d.game.cache.decodedSound(a,
                            b), d.onSoundDecode.dispatch(a, c))
                    })
                } catch (l) {}
            }
        },
        setDecodedCallback: function(a, c, d) {
            "string" === typeof a && (a = [a]);
            this._watchList.reset();
            for (var e = 0; e < a.length; e++) a[e] instanceof b.Sound ? this.game.cache.isSoundDecoded(a[e].key) || this._watchList.add(a[e].key) : this.game.cache.isSoundDecoded(a[e]) || this._watchList.add(a[e]);
            0 === this._watchList.total ? (this._watching = !1, c.call(d)) : (this._watching = !0, this._watchCallback = c, this._watchContext = d)
        },
        update: function() {
            if (!this.noAudio) {
                for (var a = 0; a < this._sounds.length; a++) this._sounds[a].update();
                if (this._watching) {
                    for (a = this._watchList.first; a;) this.game.cache.isSoundDecoded(a) && this._watchList.remove(a), a = this._watchList.next;
                    0 === this._watchList.total && (this._watching = !1, this._watchCallback.call(this._watchContext))
                }
            }
        },
        add: function(a, c, d, f) {
            void 0 === c && (c = 1);
            void 0 === d && (d = !1);
            void 0 === f && (f = this.connectToMaster);
            a = new b.Sound(this.game, a, c, d, f);
            this._sounds.push(a);
            return a
        },
        addSprite: function(a) {
            return new b.AudioSprite(this.game, a)
        },
        remove: function(a) {
            for (var c = this._sounds.length; c--;)
                if (this._sounds[c] ===
                    a) return this._sounds[c].destroy(!1), this._sounds.splice(c, 1), !0;
            return !1
        },
        removeAll: function() {
            this.stopAll();
            for (var a = 0; a < this._sounds.length; a++) this._sounds[a] && this._sounds[a].destroy();
            this._sounds.length = 0
        },
        removeByKey: function(a) {
            for (var c = this._sounds.length, b = 0; c--;) this._sounds[c].key === a && (this._sounds[c].destroy(!1), this._sounds.splice(c, 1), b++);
            return b
        },
        play: function(a, c, b) {
            if (!this.noAudio) return a = this.add(a, c, b), a.play(), a
        },
        setMute: function() {
            if (!this._muted) {
                this._muted = !0;
                this.usingWebAudio &&
                    (this._muteVolume = this.masterGain.gain.value, this.masterGain.gain.value = 0);
                for (var a = 0; a < this._sounds.length; a++) this._sounds[a].usingAudioTag && (this._sounds[a].mute = !0);
                this.onMute.dispatch()
            }
        },
        unsetMute: function() {
            if (this._muted && !this._codeMuted) {
                this._muted = !1;
                this.usingWebAudio && (this.masterGain.gain.value = this._muteVolume);
                for (var a = 0; a < this._sounds.length; a++) this._sounds[a].usingAudioTag && (this._sounds[a].mute = !1);
                this.onUnMute.dispatch()
            }
        },
        destroy: function() {
            this.removeAll();
            this.onSoundDecode.dispose();
            this.game.canvas.removeEventListener("click", this._resumeWebAudioOnClick);
            this.context && (window.PhaserGlobal ? window.PhaserGlobal.audioContext = this.context : this.context.close && this.context.close())
        },
        _resumeWebAudioOnClick: function() {
            this.resumeWebAudio();
            this.game.canvas.removeEventListener("click", this._resumeWebAudioOnClick)
        }
    };
    b.SoundManager.prototype.constructor = b.SoundManager;
    Object.defineProperty(b.SoundManager.prototype, "mute", {
        get: function() {
            return this._muted
        },
        set: function(a) {
            a ? this._muted ||
                (this._codeMuted = !0, this.setMute()) : this._muted && (this._codeMuted = !1, this.unsetMute())
        }
    });
    Object.defineProperty(b.SoundManager.prototype, "volume", {
        get: function() {
            return this._volume
        },
        set: function(a) {
            0 > a ? a = 0 : 1 < a && (a = 1);
            if (this._volume !== a) {
                this._volume = a;
                if (this.usingWebAudio) this.masterGain.gain.value = a;
                else
                    for (var c = 0; c < this._sounds.length; c++) this._sounds[c].usingAudioTag && this._sounds[c].updateGlobalVolume(a);
                this.onVolumeChange.dispatch(a)
            }
        }
    });
    b.ScaleManager = function(a, c, d) {
        this.game = a;
        this.dom =
            b.DOM;
        this.grid = null;
        this.height = this.width = 0;
        this.maxHeight = this.minHeight = this.maxWidth = this.minWidth = null;
        this.offset = new b.Point;
        this._pageAlignVertically = this._pageAlignHorizontally = this.incorrectOrientation = this.forcePortrait = this.forceLandscape = !1;
        this.onOrientationChange = new b.Signal;
        this.enterIncorrectOrientation = new b.Signal;
        this.leaveIncorrectOrientation = new b.Signal;
        this.hasPhaserSetFullScreen = !1;
        this._createdFullScreenTarget = this.fullScreenTarget = null;
        this.onFullScreenInit = new b.Signal;
        this.onFullScreenChange = new b.Signal;
        this.onFullScreenError = new b.Signal;
        this.screenOrientation = this.dom.getScreenOrientation();
        this.scaleFactor = new b.Point(1, 1);
        this.scaleFactorInversed = new b.Point(1, 1);
        this.margin = {
            left: 0,
            top: 0,
            right: 0,
            bottom: 0,
            x: 0,
            y: 0
        };
        this.bounds = new b.Rectangle;
        this.sourceAspectRatio = this.aspectRatio = 0;
        this.event = null;
        this.windowConstraints = {
            right: "layout",
            bottom: ""
        };
        this.compatibility = {
            supportsFullScreen: !1,
            orientationFallback: null,
            noMargins: !1,
            scrollTo: null,
            forceMinimumDocumentHeight: !1,
            canExpandParent: !0,
            clickTrampoline: ""
        };
        this._fullScreenScaleMode = this._scaleMode = b.ScaleManager.NO_SCALE;
        this.parentIsWindow = !1;
        this.parentNode = null;
        this.parentScaleFactor = new b.Point(1, 1);
        this.trackParentInterval = 2E3;
        this.onSizeChange = new b.Signal;
        this._fullScreenRestore = this._pendingScaleMode = this.onResizeContext = this.onResize = null;
        this._gameSize = new b.Rectangle;
        this._userScaleFactor = new b.Point(1, 1);
        this._userScaleTrim = new b.Point(0, 0);
        this._updateThrottle = this._lastUpdate = 0;
        this._updateThrottleReset =
            100;
        this._parentBounds = new b.Rectangle;
        this._tempBounds = new b.Rectangle;
        this._lastReportedCanvasSize = new b.Rectangle;
        this._lastReportedGameSize = new b.Rectangle;
        this._booted = !1;
        a.config && this.parseConfig(a.config);
        this.setupScale(c, d)
    };
    b.ScaleManager.EXACT_FIT = 0;
    b.ScaleManager.NO_SCALE = 1;
    b.ScaleManager.SHOW_ALL = 2;
    b.ScaleManager.RESIZE = 3;
    b.ScaleManager.USER_SCALE = 4;
    b.ScaleManager.MODES = ["EXACT_FIT", "NO_SCALE", "SHOW_ALL", "RESIZE", "USER_SCALE"];
    b.ScaleManager.prototype = {
        boot: function() {
            var a = this.compatibility;
            a.supportsFullScreen = this.game.device.fullscreen && !this.game.device.cocoonJS;
            this.game.device.iPad || this.game.device.webApp || this.game.device.desktop || (a.scrollTo = this.game.device.android && !this.game.device.chrome ? new b.Point(0, 1) : new b.Point(0, 0));
            this.game.device.desktop ? (a.orientationFallback = "screen", a.clickTrampoline = "when-not-mouse") : (a.orientationFallback = "", a.clickTrampoline = "");
            var c = this;
            this._orientationChange = function(a) {
                return c.orientationChange(a)
            };
            this._windowResize = function(a) {
                return c.windowResize(a)
            };
            window.addEventListener("orientationchange", this._orientationChange, !1);
            window.addEventListener("resize", this._windowResize, !1);
            this.compatibility.supportsFullScreen && (this._fullScreenChange = function(a) {
                return c.fullScreenChange(a)
            }, this._fullScreenError = function(a) {
                return c.fullScreenError(a)
            }, document.addEventListener("webkitfullscreenchange", this._fullScreenChange, !1), document.addEventListener("mozfullscreenchange", this._fullScreenChange, !1), document.addEventListener("MSFullscreenChange", this._fullScreenChange,
                !1), document.addEventListener("fullscreenchange", this._fullScreenChange, !1), document.addEventListener("webkitfullscreenerror", this._fullScreenError, !1), document.addEventListener("mozfullscreenerror", this._fullScreenError, !1), document.addEventListener("MSFullscreenError", this._fullScreenError, !1), document.addEventListener("fullscreenerror", this._fullScreenError, !1));
            this.game.onResume.add(this._gameResumed, this);
            this.dom.getOffset(this.game.canvas, this.offset);
            this.bounds.setTo(this.offset.x, this.offset.y,
                this.width, this.height);
            this.setGameSize(this.game.width, this.game.height);
            this.screenOrientation = this.dom.getScreenOrientation(this.compatibility.orientationFallback);
            b.FlexGrid && (this.grid = new b.FlexGrid(this, this.width, this.height));
            this._booted = !0;
            null !== this._pendingScaleMode && (this.scaleMode = this._pendingScaleMode, this._pendingScaleMode = null)
        },
        parseConfig: function(a) {
            void 0 !== a.scaleMode && (this._booted ? this.scaleMode = a.scaleMode : this._pendingScaleMode = a.scaleMode);
            void 0 !== a.fullScreenScaleMode &&
                (this.fullScreenScaleMode = a.fullScreenScaleMode);
            a.fullScreenTarget && (this.fullScreenTarget = a.fullScreenTarget);
            this.pageAlignHorizontally = a.alignH || !1;
            this.pageAlignVertically = a.alignV || !1;
            a.scaleH && a.scaleV && this.setUserScale(a.scaleH, a.scaleV, a.trimH, a.trimV)
        },
        setupScale: function(a, c) {
            var d = new b.Rectangle;
            if ("" !== this.game.parent)
                if ("string" === typeof this.game.parent) var f = document.getElementById(this.game.parent);
                else this.game.parent && 1 === this.game.parent.nodeType && (f = this.game.parent);
            f ? (this.parentNode =
                f, this.parentIsWindow = !1, this.getParentBounds(this._parentBounds, this.parentNode), d.width = this._parentBounds.width, d.height = this._parentBounds.height, this.offset.set(this._parentBounds.x, this._parentBounds.y)) : (this.parentNode = null, this.parentIsWindow = !0, d.width = this.dom.visualBounds.width, d.height = this.dom.visualBounds.height, this.offset.set(0, 0));
            "number" !== typeof a && (this.parentScaleFactor.x = parseInt(a, 10) / 100, a = d.width * this.parentScaleFactor.x);
            "number" !== typeof c && (this.parentScaleFactor.y = parseInt(c,
                10) / 100, c = d.height * this.parentScaleFactor.y);
            a = Math.floor(a);
            c = Math.floor(c);
            this._gameSize.setTo(0, 0, a, c);
            this.updateDimensions(a, c, !1)
        },
        _gameResumed: function() {
            this.queueUpdate(!0)
        },
        setGameSize: function(a, c) {
            this._gameSize.setTo(0, 0, a, c);
            this.currentScaleMode !== b.ScaleManager.RESIZE && this.updateDimensions(a, c, !0);
            this.queueUpdate(!0)
        },
        setUserScale: function(a, c, b, d, f, g) {
            this._userScaleFactor.setTo(a, c);
            this._userScaleTrim.setTo(b | 0, d | 0);
            void 0 === f && (f = !0);
            void 0 === g && (g = !0);
            f && this.queueUpdate(g)
        },
        setResizeCallback: function(a, c) {
            this.onResize = a;
            this.onResizeContext = c
        },
        signalSizeChange: function() {
            if (!b.Rectangle.sameDimensions(this, this._lastReportedCanvasSize) || !b.Rectangle.sameDimensions(this.game, this._lastReportedGameSize)) {
                var a = this.width,
                    c = this.height;
                this._lastReportedCanvasSize.setTo(0, 0, a, c);
                this._lastReportedGameSize.setTo(0, 0, this.game.width, this.game.height);
                if (this.grid) this.grid.onResize(a, c);
                this.onSizeChange.dispatch(this, a, c);
                this.currentScaleMode === b.ScaleManager.RESIZE &&
                    (this.game.state.resize(a, c), this.game.load.resize(a, c))
            }
        },
        setMinMax: function(a, c, b, d) {
            this.minWidth = a;
            this.minHeight = c;
            "undefined" !== typeof b && (this.maxWidth = b);
            "undefined" !== typeof d && (this.maxHeight = d)
        },
        preUpdate: function() {
            if (!(this.game.time.time < this._lastUpdate + this._updateThrottle)) {
                var a = this._updateThrottle;
                this._updateThrottleReset = 400 <= a ? 0 : 100;
                this.dom.getOffset(this.game.canvas, this.offset);
                var c = this._parentBounds.width,
                    d = this._parentBounds.height,
                    f = this.getParentBounds(this._parentBounds);
                c = f.width !== c || f.height !== d;
                d = this.updateOrientationState();
                if (c || d) this.onResize && this.onResize.call(this.onResizeContext, this, f), this.updateLayout(), this.signalSizeChange();
                f = 2 * this._updateThrottle;
                this._updateThrottle < a && (f = Math.min(a, this._updateThrottleReset));
                this._updateThrottle = b.Math.clamp(f, 25, this.trackParentInterval);
                this._lastUpdate = this.game.time.time
            }
        },
        pauseUpdate: function() {
            this.preUpdate();
            this._updateThrottle = this.trackParentInterval
        },
        updateDimensions: function(a, c, b) {
            this.width =
                a * this.parentScaleFactor.x;
            this.height = c * this.parentScaleFactor.y;
            this.game.width = this.width;
            this.game.height = this.height;
            this.sourceAspectRatio = this.width / this.height;
            this.updateScalingAndBounds();
            b && (this.game.renderer.resize(this.width, this.height), this.game.camera.setSize(this.width, this.height), this.game.world.resize(this.width, this.height))
        },
        updateScalingAndBounds: function() {
            this.scaleFactor.x = this.game.width / this.width;
            this.scaleFactor.y = this.game.height / this.height;
            this.scaleFactorInversed.x =
                this.width / this.game.width;
            this.scaleFactorInversed.y = this.height / this.game.height;
            this.aspectRatio = this.width / this.height;
            this.game.canvas && this.dom.getOffset(this.game.canvas, this.offset);
            this.bounds.setTo(this.offset.x, this.offset.y, this.width, this.height);
            this.game.input && this.game.input.scale && this.game.input.scale.setTo(this.scaleFactor.x, this.scaleFactor.y)
        },
        forceOrientation: function(a, c) {
            void 0 === c && (c = !1);
            !0 === a && !0 === c ? console.warn("Phaser.ScaleManager: forceLandscape and forcePortrait cannot both be true.") :
                (this.forceLandscape = a, this.forcePortrait = c, this.queueUpdate(!0))
        },
        classifyOrientation: function(a) {
            return "portrait-primary" === a || "portrait-secondary" === a ? "portrait" : "landscape-primary" === a || "landscape-secondary" === a ? "landscape" : null
        },
        updateOrientationState: function() {
            var a = this.screenOrientation,
                c = this.incorrectOrientation;
            this.screenOrientation = this.dom.getScreenOrientation(this.compatibility.orientationFallback);
            this.incorrectOrientation = this.forceLandscape && !this.isLandscape || this.forcePortrait &&
                !this.isPortrait;
            var b = a !== this.screenOrientation,
                d = c !== this.incorrectOrientation;
            d && (this.incorrectOrientation ? this.enterIncorrectOrientation.dispatch() : this.leaveIncorrectOrientation.dispatch());
            (b || d) && this.onOrientationChange.dispatch(this, a, c);
            return b || d
        },
        orientationChange: function(a) {
            this.event = a;
            this.queueUpdate(!0)
        },
        windowResize: function(a) {
            this.event = a;
            this.queueUpdate(!0)
        },
        scrollTop: function() {
            var a = this.compatibility.scrollTo;
            a && window.scrollTo(a.x, a.y)
        },
        refresh: function() {
            this.scrollTop();
            this.queueUpdate(!0)
        },
        updateLayout: function() {
            var a = this.currentScaleMode;
            a === b.ScaleManager.RESIZE ? this.reflowGame() : (this.scrollTop(), this.compatibility.forceMinimumDocumentHeight && (document.documentElement.style.minHeight = window.innerHeight + "px"), this.incorrectOrientation ? this.setMaximum() : a === b.ScaleManager.EXACT_FIT ? this.setExactFit() : a === b.ScaleManager.SHOW_ALL ? (!this.isFullScreen && this.boundingParent && this.compatibility.canExpandParent && (this.setShowAll(!0), this.resetCanvas()), this.setShowAll()) :
                a === b.ScaleManager.NO_SCALE ? (this.width = this.game.width, this.height = this.game.height) : a === b.ScaleManager.USER_SCALE && (this.width = this.game.width * this._userScaleFactor.x - this._userScaleTrim.x, this.height = this.game.height * this._userScaleFactor.y - this._userScaleTrim.y), this.compatibility.canExpandParent || a !== b.ScaleManager.SHOW_ALL && a !== b.ScaleManager.USER_SCALE || (a = this.getParentBounds(this._tempBounds), this.width = Math.min(this.width, a.width), this.height = Math.min(this.height, a.height)), this.width |=
                0, this.height |= 0, this.reflowCanvas())
        },
        getParentBounds: function(a, c) {
            a = a || new b.Rectangle;
            var d = c || this.boundingParent;
            c = this.dom.visualBounds;
            var f = this.dom.layoutBounds;
            if (d) {
                var l = d.getBoundingClientRect();
                d = d.offsetParent ? d.offsetParent.getBoundingClientRect() : d.getBoundingClientRect();
                a.setTo(l.left - d.left, l.top - d.top, l.width, l.height);
                l = this.windowConstraints;
                l.right && (d = "layout" === l.right ? f : c, a.right = Math.min(a.right, d.width));
                l.bottom && (d = "layout" === l.bottom ? f : c, a.bottom = Math.min(a.bottom,
                    d.height))
            } else a.setTo(0, 0, c.width, c.height);
            a.setTo(Math.round(a.x), Math.round(a.y), Math.round(a.width), Math.round(a.height));
            return a
        },
        align: function(a, c) {
            null != a && (this.pageAlignHorizontally = a);
            null != c && (this.pageAlignVertically = c)
        },
        alignCanvas: function(a, c) {
            var b = this.getParentBounds(this._tempBounds),
                d = this.game.canvas,
                f = this.margin;
            if (a) {
                f.left = f.right = 0;
                a = d.getBoundingClientRect();
                if (this.width < b.width && !this.incorrectOrientation) {
                    var g = a.left - b.x,
                        h = b.width / 2 - this.width / 2;
                    h = Math.max(h, 0);
                    f.left = Math.round(h - g)
                }
                d.style.marginLeft = f.left + "px";
                0 !== f.left && (f.right = -(b.width - a.width - f.left), d.style.marginRight = f.right + "px")
            }
            c && (f.top = f.bottom = 0, a = d.getBoundingClientRect(), this.height < b.height && !this.incorrectOrientation && (g = a.top - b.y, h = b.height / 2 - this.height / 2, h = Math.max(h, 0), f.top = Math.round(h - g)), d.style.marginTop = f.top + "px", 0 !== f.top && (f.bottom = -(b.height - a.height - f.top), d.style.marginBottom = f.bottom + "px"));
            f.x = f.left;
            f.y = f.top
        },
        reflowGame: function() {
            this.resetCanvas("", "");
            var a =
                this.getParentBounds(this._tempBounds);
            this.updateDimensions(a.width, a.height, !0)
        },
        reflowCanvas: function() {
            this.incorrectOrientation || (this.width = b.Math.clamp(this.width, this.minWidth || 0, this.maxWidth || this.width), this.height = b.Math.clamp(this.height, this.minHeight || 0, this.maxHeight || this.height));
            this.resetCanvas();
            this.compatibility.noMargins || (this.isFullScreen && this._createdFullScreenTarget ? this.alignCanvas(!0, !0) : this.alignCanvas(this.pageAlignHorizontally, this.pageAlignVertically));
            this.updateScalingAndBounds()
        },
        resetCanvas: function(a, c) {
            void 0 === a && (a = this.width + "px");
            void 0 === c && (c = this.height + "px");
            var b = this.game.canvas;
            this.compatibility.noMargins || (b.style.marginLeft = "", b.style.marginTop = "", b.style.marginRight = "", b.style.marginBottom = "");
            b.style.width = a;
            b.style.height = c
        },
        queueUpdate: function(a) {
            a && (this._parentBounds.width = 0, this._parentBounds.height = 0);
            this._updateThrottle = this._updateThrottleReset
        },
        reset: function(a) {
            a && this.grid && this.grid.reset()
        },
        setMaximum: function() {
            this.width = this.dom.visualBounds.width;
            this.height = this.dom.visualBounds.height
        },
        setShowAll: function(a) {
            var c = this.getParentBounds(this._tempBounds),
                b = c.width;
            c = c.height;
            a = a ? Math.max(c / this.game.height, b / this.game.width) : Math.min(c / this.game.height, b / this.game.width);
            this.width = Math.round(this.game.width * a);
            this.height = Math.round(this.game.height * a)
        },
        setExactFit: function() {
            var a = this.getParentBounds(this._tempBounds);
            this.width = a.width;
            this.height = a.height;
            this.isFullScreen || (this.maxWidth && (this.width = Math.min(this.width, this.maxWidth)),
                this.maxHeight && (this.height = Math.min(this.height, this.maxHeight)))
        },
        createFullScreenTarget: function() {
            var a = document.createElement("div");
            a.style.margin = "0";
            a.style.padding = "0";
            a.style.background = "#000";
            return a
        },
        startFullScreen: function(a, c) {
            if (this.isFullScreen) return !1;
            if (this.compatibility.supportsFullScreen) {
                if ("when-not-mouse" === this.compatibility.clickTrampoline) {
                    var d = this.game.input;
                    if (d.activePointer && d.activePointer !== d.mousePointer && (c || !1 !== c)) {
                        d.activePointer.addClickTrampoline("startFullScreen",
                            this.startFullScreen, this, [a, !1]);
                        return
                    }
                }
                void 0 !== a && this.game.renderType === b.CANVAS && (this.game.stage.smoothed = a);
                a = this.fullScreenTarget;
                a || (this.cleanupCreatedTarget(), a = this._createdFullScreenTarget = this.createFullScreenTarget());
                c = {
                    targetElement: a
                };
                this.hasPhaserSetFullScreen = !0;
                this.onFullScreenInit.dispatch(this, c);
                this._createdFullScreenTarget && (c = this.game.canvas, c.parentNode.insertBefore(a, c), a.appendChild(c));
                if (this.game.device.fullscreenKeyboard) a[this.game.device.requestFullscreen](Element.ALLOW_KEYBOARD_INPUT);
                else a[this.game.device.requestFullscreen]();
                return !0
            }
            var f = this;
            setTimeout(function() {
                f.fullScreenError()
            }, 10)
        },
        stopFullScreen: function() {
            if (!this.isFullScreen || !this.compatibility.supportsFullScreen) return !1;
            this.hasPhaserSetFullScreen = !1;
            document[this.game.device.cancelFullscreen]();
            return !0
        },
        cleanupCreatedTarget: function() {
            var a = this._createdFullScreenTarget;
            if (a && a.parentNode) {
                var c = a.parentNode;
                c.insertBefore(this.game.canvas, a);
                c.removeChild(a)
            }
            this._createdFullScreenTarget = null
        },
        prepScreenMode: function(a) {
            var c = !!this._createdFullScreenTarget,
                d = this._createdFullScreenTarget || this.fullScreenTarget;
            a ? !c && this.fullScreenScaleMode !== b.ScaleManager.EXACT_FIT || d === this.game.canvas || (this._fullScreenRestore = {
                targetWidth: d.style.width,
                targetHeight: d.style.height
            }, d.style.width = "100%", d.style.height = "100%") : (this._fullScreenRestore && (d.style.width = this._fullScreenRestore.targetWidth, d.style.height = this._fullScreenRestore.targetHeight, this._fullScreenRestore = null), this.updateDimensions(this._gameSize.width, this._gameSize.height,
                !0), this.resetCanvas())
        },
        fullScreenChange: function(a) {
            this.event = a;
            this.isFullScreen ? this.prepScreenMode(!0) : (this.prepScreenMode(!1), this.cleanupCreatedTarget());
            this.updateLayout();
            this.queueUpdate(!0);
            this.onFullScreenChange.dispatch(this, this.width, this.height)
        },
        fullScreenError: function(a) {
            this.event = a;
            this.cleanupCreatedTarget();
            console.warn("Phaser.ScaleManager: requestFullscreen failed or device does not support the Fullscreen API");
            this.onFullScreenError.dispatch(this)
        },
        scaleSprite: function(a,
            c, b, d) {
            void 0 === c && (c = this.width);
            void 0 === b && (b = this.height);
            void 0 === d && (d = !1);
            if (!a || !a.scale) return a;
            a.scale.x = 1;
            a.scale.y = 1;
            if (0 >= a.width || 0 >= a.height || 0 >= c || 0 >= b) return a;
            var e = a.height * c / a.width,
                f = a.width * b / a.height;
            (f > c ? d : !d) ? (a.width = Math.floor(c), a.height = Math.floor(e)) : (a.width = Math.floor(f), a.height = Math.floor(b));
            return a
        },
        destroy: function() {
            this.game.onResume.remove(this._gameResumed, this);
            window.removeEventListener("orientationchange", this._orientationChange, !1);
            window.removeEventListener("resize",
                this._windowResize, !1);
            this.compatibility.supportsFullScreen && (document.removeEventListener("webkitfullscreenchange", this._fullScreenChange, !1), document.removeEventListener("mozfullscreenchange", this._fullScreenChange, !1), document.removeEventListener("MSFullscreenChange", this._fullScreenChange, !1), document.removeEventListener("fullscreenchange", this._fullScreenChange, !1), document.removeEventListener("webkitfullscreenerror", this._fullScreenError, !1), document.removeEventListener("mozfullscreenerror",
                this._fullScreenError, !1), document.removeEventListener("MSFullscreenError", this._fullScreenError, !1), document.removeEventListener("fullscreenerror", this._fullScreenError, !1))
        }
    };
    b.ScaleManager.prototype.constructor = b.ScaleManager;
    Object.defineProperty(b.ScaleManager.prototype, "boundingParent", {
        get: function() {
            return this.parentIsWindow || this.isFullScreen && this.hasPhaserSetFullScreen && !this._createdFullScreenTarget ? null : this.game.canvas && this.game.canvas.parentNode || null
        }
    });
    Object.defineProperty(b.ScaleManager.prototype,
        "scaleMode", {
            get: function() {
                return this._scaleMode
            },
            set: function(a) {
                a !== this._scaleMode && (this.isFullScreen || (this.updateDimensions(this._gameSize.width, this._gameSize.height, !0), this.queueUpdate(!0)), this._scaleMode = a);
                return this._scaleMode
            }
        });
    Object.defineProperty(b.ScaleManager.prototype, "fullScreenScaleMode", {
        get: function() {
            return this._fullScreenScaleMode
        },
        set: function(a) {
            a !== this._fullScreenScaleMode && (this.isFullScreen ? (this.prepScreenMode(!1), this._fullScreenScaleMode = a, this.prepScreenMode(!0),
                this.queueUpdate(!0)) : this._fullScreenScaleMode = a);
            return this._fullScreenScaleMode
        }
    });
    Object.defineProperty(b.ScaleManager.prototype, "currentScaleMode", {
        get: function() {
            return this.isFullScreen ? this._fullScreenScaleMode : this._scaleMode
        }
    });
    Object.defineProperty(b.ScaleManager.prototype, "pageAlignHorizontally", {
        get: function() {
            return this._pageAlignHorizontally
        },
        set: function(a) {
            a !== this._pageAlignHorizontally && (this._pageAlignHorizontally = a, this.queueUpdate(!0))
        }
    });
    Object.defineProperty(b.ScaleManager.prototype,
        "pageAlignVertically", {
            get: function() {
                return this._pageAlignVertically
            },
            set: function(a) {
                a !== this._pageAlignVertically && (this._pageAlignVertically = a, this.queueUpdate(!0))
            }
        });
    Object.defineProperty(b.ScaleManager.prototype, "isFullScreen", {
        get: function() {
            return !!(document.fullscreenElement || document.webkitFullscreenElement || document.mozFullScreenElement || document.msFullscreenElement)
        }
    });
    Object.defineProperty(b.ScaleManager.prototype, "isPortrait", {
        get: function() {
            return "portrait" === this.classifyOrientation(this.screenOrientation)
        }
    });
    Object.defineProperty(b.ScaleManager.prototype, "isLandscape", {
        get: function() {
            return "landscape" === this.classifyOrientation(this.screenOrientation)
        }
    });
    Object.defineProperty(b.ScaleManager.prototype, "isGamePortrait", {
        get: function() {
            return this.height > this.width
        }
    });
    Object.defineProperty(b.ScaleManager.prototype, "isGameLandscape", {
        get: function() {
            return this.width > this.height
        }
    });
    b.Utils.Debug = function(a) {
        this.game = a;
        this.context = this.canvas = this.bmd = this.sprite = null;
        this.font = "14px Courier";
        this.columnWidth =
            100;
        this.lineHeight = 16;
        this.lineWidth = 1;
        this.renderShadow = !0;
        this.currentColor = null;
        this.currentY = this.currentX = 0;
        this.currentAlpha = 1;
        this.isDisabled = this.dirty = !1;
        this._rect = this._line = null
    };
    b.Utils.Debug.GEOM_AUTO = 0;
    b.Utils.Debug.GEOM_RECTANGLE = 1;
    b.Utils.Debug.GEOM_CIRCLE = 2;
    b.Utils.Debug.GEOM_POINT = 3;
    b.Utils.Debug.GEOM_LINE = 4;
    b.Utils.Debug.GEOM_ELLIPSE = 5;
    b.Utils.Debug.prototype = {
        boot: function() {
            this.game.renderType === b.CANVAS ? this.context = this.game.context : (this.bmd = new b.BitmapData(this.game, "__DEBUG",
                this.game.width, this.game.height, !0), this.sprite = this.game.make.image(0, 0, this.bmd), this.game.stage.addChild(this.sprite), this.game.scale.onSizeChange.add(this.resize, this), this.canvas = b.CanvasPool.create(this, this.game.width, this.game.height), this.context = this.canvas.getContext("2d"));
            this._line = new b.Line;
            this._rect = new b.Rectangle
        },
        resize: function() {
            this.bmd.resize(this.game.width, this.game.height);
            this.canvas.width = this.game.width;
            this.canvas.height = this.game.height
        },
        preUpdate: function() {
            this.dirty &&
                this.sprite && (this.bmd.clear(), this.bmd.draw(this.canvas, 0, 0), this.context.clearRect(0, 0, this.game.width, this.game.height), this.dirty = !1)
        },
        reset: function() {
            this.context && this.context.clearRect(0, 0, this.game.width, this.game.height);
            this.sprite && this.bmd.clear()
        },
        start: function(a, c, b, d) {
            "number" !== typeof a && (a = 0);
            "number" !== typeof c && (c = 0);
            b = b || "rgb(255,255,255)";
            void 0 === d && (d = 0);
            this.currentX = a;
            this.currentY = c;
            this.currentColor = b;
            this.columnWidth = d;
            this.dirty = !0;
            this.context.save();
            this.context.setTransform(1,
                0, 0, 1, 0, 0);
            this.context.strokeStyle = b;
            this.context.fillStyle = b;
            this.context.font = this.font;
            this.context.globalAlpha = this.currentAlpha
        },
        stop: function() {
            this.context.restore()
        },
        line: function() {
            for (var a = this.currentX, c = 0; c < arguments.length; c++) this.renderShadow && (this.context.fillStyle = "rgb(0,0,0)", this.context.fillText(arguments[c], a + 1, this.currentY + 1), this.context.fillStyle = this.currentColor), this.context.fillText(arguments[c], a, this.currentY), a += this.columnWidth;
            this.currentY += this.lineHeight
        },
        sound: function(a,
            c, b) {
            var d = this.game.sound;
            this.start(a, c, b);
            d.noAudio ? this.line("Audio is disabled") : (this.line("Volume: " + d.volume.toFixed(2) + (d.mute ? " (Mute)" : "")), this.line("Mute on pause: " + d.muteOnPause), this.line("Using: " + (d.usingWebAudio ? "Web Audio - " + d.context.state : "Audio Tag")), this.line("Touch locked: " + d.touchLocked), this.line("Sounds: " + d._sounds.length));
            this.stop()
        },
        soundInfo: function(a, c, b, d) {
            this.start(c, b, d);
            this.line("Sound: " + a.key + "  Touch locked: " + a.game.sound.touchLocked);
            this.line("Is Ready?: " +
                this.game.cache.isSoundReady(a.key) + "  Pending Playback: " + a.pendingPlayback);
            this.line("Decoded: " + a.isDecoded + "  Decoding: " + a.isDecoding);
            this.line("Playing: " + a.isPlaying + "  Loop: " + a.loop);
            this.line("Time: " + (.001 * a.currentTime).toFixed(3) + "s  Total: " + a.totalDuration.toFixed(3) + "s");
            this.line("Volume: " + a.volume.toFixed(2) + (a.mute ? " (Mute)" : ""));
            this.line("Using: " + (a.usingWebAudio ? "Web Audio" : "Audio Tag") + "  " + (a.usingWebAudio ? "Source: " + (a.sourceId || "none") : ""));
            "" !== a.currentMarker && (this.line("Marker: " +
                a.currentMarker + "  Duration: " + a.duration.toFixed(3) + "s (" + a.durationMS + "ms)"), this.line("Start: " + a.markers[a.currentMarker].start + "  Stop: " + a.markers[a.currentMarker].stop), this.line("Position: " + a.position));
            this.stop()
        },
        camera: function(a, c, b) {
            var d = a.deadzone,
                e = a.target;
            a = a.view;
            d && (this._rect.setTo(a.x + d.x, a.y + d.y, d.width, d.height), this.rectangle(this._rect, c, b));
            e && (this._line.setTo(a.centerX, a.centerY, e.x, e.y), this.geom(this._line, c, b), this.geom(e, c, !1, 3))
        },
        cameraInfo: function(a, c, b, d) {
            var e =
                a.bounds,
                f = a.deadzone,
                k = a.target,
                g = a.view;
            this.start(c, b, d);
            this.line("Camera (" + a.width + " x " + a.height + ")");
            this.line("x: " + a.x + " y: " + a.y);
            this.line("Bounds: " + (e ? "x: " + e.x + " y: " + e.y + " w: " + e.width + " h: " + e.height : "none"));
            this.line("View: x: " + g.x + " y: " + g.y + " w: " + g.width + " h: " + g.height);
            this.line("Deadzone: " + (f ? "x: " + f.x + " y: " + f.y + " w: " + f.width + " h: " + f.height : f));
            this.line("Total in view: " + a.totalInView);
            this.line("At limit: x: " + a.atLimit.x + " y: " + a.atLimit.y);
            this.line("Target: " + (k ?
                k.name || k : "none"));
            this.stop()
        },
        timer: function(a, c, b, d) {
            this.start(c, b, d);
            this.line("Timer (running: " + a.running + " expired: " + a.expired + ")");
            this.line("Next Tick: " + a.next + " Duration: " + a.duration);
            this.line("Paused: " + a.paused + " Length: " + a.length);
            this.stop()
        },
        pointer: function(a, c, b, d, f) {
            null != a && (void 0 === c && (c = !1), b = b || "rgba(0,255,0,0.5)", d = d || "rgba(255,0,0,0.5)", !0 !== c || !0 !== a.isUp) && (this.start(a.x, a.y - 100, f), this.context.beginPath(), this.context.arc(a.x, a.y, a.circle.radius, 0, 2 * Math.PI), this.context.fillStyle =
                a.active ? b : d, this.context.fill(), this.context.closePath(), this.context.beginPath(), this.context.moveTo(a.positionDown.x, a.positionDown.y), this.context.lineTo(a.position.x, a.position.y), this.context.lineWidth = 2, this.context.stroke(), this.context.closePath(), this.line("ID: " + a.id + " Active: " + a.active), this.line("World X: " + a.worldX + " World Y: " + a.worldY), this.line("Screen X: " + a.x + " Screen Y: " + a.y + " In: " + a.withinGame), this.line("Duration: " + a.duration + " ms"), this.line("is Down: " + a.isDown + " is Up: " +
                    a.isUp), this.stop())
        },
        spriteInputInfo: function(a, c, b, d) {
            this.start(c, b, d);
            this.line("Sprite Input: (" + a.width + " x " + a.height + ")");
            this.line("x: " + a.input.pointerX().toFixed(1) + " y: " + a.input.pointerY().toFixed(1));
            this.line("over: " + a.input.pointerOver() + " duration: " + a.input.overDuration().toFixed(0));
            this.line("down: " + a.input.pointerDown() + " duration: " + a.input.downDuration().toFixed(0));
            this.line("just over: " + a.input.justOver() + " just out: " + a.input.justOut());
            this.stop()
        },
        key: function(a, c, b,
            d) {
            this.start(c, b, d, 150);
            this.line("Key:", a.keyCode, "isDown:", a.isDown);
            this.line("justDown:", a.justDown, "justUp:", a.justUp);
            this.line("Time Down:", a.timeDown.toFixed(0), "duration:", a.duration.toFixed(0));
            this.stop()
        },
        inputInfo: function(a, c, b) {
            this.start(a, c, b);
            this.line("Input");
            this.line("X: " + this.game.input.x + " Y: " + this.game.input.y);
            this.line("World X: " + this.game.input.worldX + " World Y: " + this.game.input.worldY);
            this.line("Scale X: " + this.game.input.scale.x.toFixed(1) + " Scale Y: " + this.game.input.scale.x.toFixed(1));
            this.line("Screen X: " + this.game.input.activePointer.screenX + " Screen Y: " + this.game.input.activePointer.screenY);
            this.stop()
        },
        spriteBounds: function(a, c, b) {
            a = a.getBounds();
            a.x += this.game.camera.x;
            a.y += this.game.camera.y;
            this.rectangle(a, c, b)
        },
        ropeSegments: function(a, c, b) {
            var d = this;
            a.segments.forEach(function(a) {
                d.rectangle(a, c, b)
            }, this)
        },
        spriteInfo: function(a, c, b, d) {
            this.start(c, b, d);
            this.line("Sprite: " + (a.name || "") + " (" + a.width + " x " + a.height + ") anchor: " + a.anchor.x + " x " + a.anchor.y);
            this.line("x: " +
                a.x.toFixed(1) + " y: " + a.y.toFixed(1));
            this.line("angle: " + a.angle.toFixed(1) + " rotation: " + a.rotation.toFixed(1));
            this.line("visible: " + a.visible + " in camera: " + a.inCamera);
            this.line("bounds x: " + a._bounds.x.toFixed(1) + " y: " + a._bounds.y.toFixed(1) + " w: " + a._bounds.width.toFixed(1) + " h: " + a._bounds.height.toFixed(1));
            this.stop()
        },
        spriteCoords: function(a, c, b, d) {
            this.start(c, b, d, 100);
            a.name && this.line(a.name);
            this.line("x:", a.x.toFixed(2), "y:", a.y.toFixed(2));
            this.line("pos x:", a.position.x.toFixed(2),
                "pos y:", a.position.y.toFixed(2));
            this.line("world x:", a.world.x.toFixed(2), "world y:", a.world.y.toFixed(2));
            this.stop()
        },
        lineInfo: function(a, c, b, d) {
            this.start(c, b, d, 80);
            this.line("start.x:", a.start.x.toFixed(2), "start.y:", a.start.y.toFixed(2));
            this.line("end.x:", a.end.x.toFixed(2), "end.y:", a.end.y.toFixed(2));
            this.line("length:", a.length.toFixed(2), "angle:", a.angle);
            this.stop()
        },
        pixel: function(a, c, b, d) {
            d = d || 2;
            this.start();
            this.context.fillStyle = b;
            this.context.fillRect(a, c, d, d);
            this.stop()
        },
        geom: function(a,
            c, d, f) {
            void 0 === d && (d = !0);
            void 0 === f && (f = 0);
            c = c || "rgba(0,255,0,0.4)";
            this.start();
            this.context.fillStyle = c;
            this.context.strokeStyle = c;
            this.context.lineWidth = this.lineWidth;
            c = b.Utils.Debug;
            if (f === c.GEOM_RECTANGLE || a instanceof b.Rectangle) d ? this.context.fillRect(a.x - this.game.camera.x, a.y - this.game.camera.y, a.width, a.height) : this.context.strokeRect(a.x - this.game.camera.x, a.y - this.game.camera.y, a.width, a.height);
            else if (f === c.GEOM_CIRCLE || a instanceof b.Circle) this.context.beginPath(), this.context.arc(a.x -
                this.game.camera.x, a.y - this.game.camera.y, a.radius, 0, 2 * Math.PI, !1), this.context.closePath(), d ? this.context.fill() : this.context.stroke();
            else if (f === c.GEOM_POINT || a instanceof b.Point) this.context.fillRect(a.x - this.game.camera.x, a.y - this.game.camera.y, 4, 4);
            else if (f === c.GEOM_LINE || a instanceof b.Line) this.context.beginPath(), this.context.moveTo(a.start.x + .5 - this.game.camera.x, a.start.y + .5 - this.game.camera.y), this.context.lineTo(a.end.x + .5 - this.game.camera.x, a.end.y + .5 - this.game.camera.y), this.context.closePath(),
                this.context.stroke();
            else if (f === c.GEOM_ELLIPSE || a instanceof b.Ellipse) this.context.beginPath(), this.context.ellipse(a.centerX - this.game.camera.x, a.centerY - this.game.camera.y, a.width / 2, a.height / 2, 0, 2 * Math.PI, !1), this.context.closePath(), d ? this.context.fill() : this.context.stroke();
            this.stop()
        },
        rectangle: function(a, c, b) {
            void 0 === b && (b = !0);
            c = c || "rgba(0, 255, 0, 0.4)";
            this.start();
            b ? (this.context.fillStyle = c, this.context.fillRect(a.x - this.game.camera.x, a.y - this.game.camera.y, a.width, a.height)) : (this.context.lineWidth =
                this.lineWidth, this.context.strokeStyle = c, this.context.strokeRect(a.x - this.game.camera.x, a.y - this.game.camera.y, a.width, a.height));
            this.stop()
        },
        text: function(a, c, b, d, f) {
            d = d || "rgb(255,255,255)";
            f = f || this.font;
            this.start();
            this.context.font = f;
            this.renderShadow && (this.context.fillStyle = "rgb(0,0,0)", this.context.fillText(a, c + 1, b + 1));
            this.context.fillStyle = d;
            this.context.fillText(a, c, b);
            this.stop()
        },
        quadTree: function(a, c) {
            c = c || "rgba(255,0,0,0.3)";
            this.start();
            var b = a.bounds;
            if (0 === a.nodes.length)
                for (this.context.strokeStyle =
                    c, this.context.strokeRect(b.x, b.y, b.width, b.height), this.text("size: " + a.objects.length, b.x + 4, b.y + 16, "rgb(0,200,0)", "12px Courier"), this.context.strokeStyle = "rgb(0,255,0)", c = 0; c < a.objects.length; c++) this.context.strokeRect(a.objects[c].x, a.objects[c].y, a.objects[c].width, a.objects[c].height);
            else
                for (c = 0; c < a.nodes.length; c++) this.quadTree(a.nodes[c]);
            this.stop()
        },
        body: function(a, c, d) {
            a.body && (this.start(), a.body.type === b.Physics.ARCADE ? b.Physics.Arcade.Body.render(this.context, a.body, c, d, this.lineWidth) :
                a.body.type === b.Physics.NINJA ? b.Physics.Ninja.Body.render(this.context, a.body, c, d) : a.body.type === b.Physics.BOX2D && b.Physics.Box2D.renderBody(this.context, a.body, c), this.stop())
        },
        bodyInfo: function(a, c, d, f) {
            a.body && (this.start(c, d, f, 210), a.body.type === b.Physics.ARCADE ? b.Physics.Arcade.Body.renderBodyInfo(this, a.body) : a.body.type === b.Physics.BOX2D && this.game.physics.box2d.renderBodyInfo(this, a.body), this.stop())
        },
        box2dWorld: function() {
            this.start();
            this.context.translate(-this.game.camera.view.x, -this.game.camera.view.y,
                0);
            this.game.physics.box2d.renderDebugDraw(this.context);
            this.stop()
        },
        box2dBody: function(a, c) {
            this.start();
            b.Physics.Box2D.renderBody(this.context, a, c);
            this.stop()
        },
        displayList: function(a) {
            void 0 === a && (a = this.game.world);
            a.hasOwnProperty("renderOrderID") ? console.log("[" + a.renderOrderID + "]", a) : console.log("[]", a);
            if (a.children && 0 < a.children.length)
                for (var c = 0; c < a.children.length; c++) this.game.debug.displayList(a.children[c])
        },
        renderer: function(a, c, b) {
            var d = this.game.renderer,
                e = d.renderSession;
            this.start(a,
                c, b);
            this.line((d.gl ? "WebGL" : "Canvas") + " Renderer (" + d.width + " x " + d.height + ")");
            this.line("autoResize: " + d.autoResize);
            this.line("clearBeforeRender: " + d.clearBeforeRender);
            this.line("resolution: " + d.resolution);
            this.line("transparent: " + d.transparent);
            this.line("renderSession:");
            if (d.gl) {
                this.line("  currentBatchedTextures: (" + d.currentBatchedTextures.length + ")");
                for (a = 0; a < d.currentBatchedTextures.length; a++) this.line("    " + d.currentBatchedTextures[a]);
                this.line("  drawCount: " + e.drawCount);
                this.line("  maxTextures: " +
                    d.maxTextures);
                this.line("  maxTextureSize: " + d.maxTextureSize);
                this.line("  maxTextureAvailableSpace: " + e.maxTextureAvailableSpace);
                this.line("  roundPixels: " + e.roundPixels)
            } else this.line("  roundPixels: " + e.roundPixels), this.line("  scaleMode: " + (0 === e.scaleMode ? "LINEAR" : 1 === e.scaleMode ? "NEAREST" : e.scaleMode));
            this.stop()
        },
        canvasPool: function(a, c, d, f) {
            var e = b.CanvasPool;
            this.start(a, c, d, f || 100);
            this.line("Canvas Pool");
            this.line("Used:", e.getTotal());
            this.line("Free:", e.getFree());
            this.line("Total:",
                e.length);
            this.stop()
        },
        physicsGroup: function(a, c, b, d) {
            a.forEach(this.body, this, d, c, b)
        },
        phaser: function(a, c, d) {
            this.text("Phaser v" + b.VERSION + " " + (this.game.renderType === b.WEBGL ? "WebGL" : "Canvas") + " " + (this.game.device.webAudio ? "WebAudio" : "HTML Audio"), a, c, d, this.font)
        },
        scale: function(a, c, d) {
            this.start(a, c, d);
            c = this.game.scale;
            d = c.scaleFactorInversed;
            var e = c._parentBounds;
            a = " x ";
            this.line("Game: " + this.game.width + a + this.game.height);
            this.line("Canvas: " + c.width + a + c.height + " (" + d.x.toFixed(2) + a + d.y.toFixed(2) +
                ") [" + c.aspectRatio.toFixed(2) + "]");
            this.line("Mode: " + b.ScaleManager.MODES[c.currentScaleMode] + (c.currentScaleMode === b.ScaleManager.USER_SCALE ? " (" + c._userScaleFactor.x + a + c._userScaleFactor.y + ")" : ""));
            this.line("Parent: " + (c.parentIsWindow ? "window" : c.parentNode) + (e.empty ? "" : " (" + e.width + a + e.height + ")"));
            this.line("Screen: " + c.classifyOrientation(c.screenOrientation) + (c.incorrectOrientation ? " (incorrect)" : ""));
            this.stop()
        },
        loader: function(a, c, d, f) {
            var e = b.Utils.pad;
            this.start(c, d, f);
            a.hasLoaded ? this.line("Complete" +
                (a.resetLocked ? " [locked]" : "")) : a.isLoading ? this.line("Loading") : this.line("Not started");
            if (!a.hasLoaded || a.resetLocked) this.line("Progress: " + (e(a.progress, 3) + "%")), this.line("Files: " + a._loadedFileCount + " of " + a._totalFileCount), this.line("Packs: " + a._loadedPackCount + " of " + a._loadedPackCount);
            this.stop()
        },
        destroy: function() {
            b.CanvasPool.remove(this)
        }
    };
    b.Utils.Debug.prototype.constructor = b.Utils.Debug;
    b.DOM = {
        getOffset: function(a, c) {
            c = c || new b.Point;
            a = a.getBoundingClientRect();
            var d = b.DOM.scrollY,
                f = document.documentElement.clientTop;
            c.x = a.left + b.DOM.scrollX - document.documentElement.clientLeft;
            c.y = a.top + d - f;
            return c
        },
        getBounds: function(a, c) {
            void 0 === c && (c = 0);
            return (a = a && !a.nodeType ? a[0] : a) && 1 === a.nodeType ? this.calibrate(a.getBoundingClientRect(), c) : !1
        },
        calibrate: function(a, c) {
            c = +c || 0;
            var b = {
                width: 0,
                height: 0,
                left: 0,
                right: 0,
                top: 0,
                bottom: 0
            };
            b.width = (b.right = a.right + c) - (b.left = a.left - c);
            b.height = (b.bottom = a.bottom + c) - (b.top = a.top - c);
            return b
        },
        getAspectRatio: function(a) {
            a = null == a ? this.visualBounds :
                1 === a.nodeType ? this.getBounds(a) : a;
            var c = a.width,
                b = a.height;
            "function" === typeof c && (c = c.call(a));
            "function" === typeof b && (b = b.call(a));
            return c / b
        },
        inLayoutViewport: function(a, c) {
            a = this.getBounds(a, c);
            return !!a && 0 <= a.bottom && 0 <= a.right && a.top <= this.layoutBounds.width && a.left <= this.layoutBounds.height
        },
        getScreenOrientation: function(a) {
            var c = window.screen,
                b = c.orientation || c.mozOrientation || c.msOrientation;
            if (b && "string" === typeof b.type) return b.type;
            if ("string" === typeof b) return b;
            if ("screen" === a) return c.height >
                c.width ? "portrait-primary" : "landscape-primary";
            if ("viewport" !== a) {
                if ("window.orientation" === a && "number" === typeof window.orientation) return 0 === window.orientation || 180 === window.orientation ? "portrait-primary" : "landscape-primary";
                if (window.matchMedia) {
                    if (window.matchMedia("(orientation: portrait)").matches) return "portrait-primary";
                    if (window.matchMedia("(orientation: landscape)").matches) return "landscape-primary"
                }
            }
            return this.visualBounds.height > this.visualBounds.width ? "portrait-primary" : "landscape-primary"
        },
        visualBounds: new b.Rectangle,
        layoutBounds: new b.Rectangle,
        documentBounds: new b.Rectangle
    };
    b.Device.whenReady(function(a) {
        var c = window && "pageXOffset" in window ? function() {
                return window.pageXOffset
            } : function() {
                return document.documentElement.scrollLeft
            },
            d = window && "pageYOffset" in window ? function() {
                return window.pageYOffset
            } : function() {
                return document.documentElement.scrollTop
            };
        Object.defineProperty(b.DOM, "scrollX", {
            get: c
        });
        Object.defineProperty(b.DOM, "scrollY", {
            get: d
        });
        Object.defineProperty(b.DOM.visualBounds,
            "x", {
                get: c
            });
        Object.defineProperty(b.DOM.visualBounds, "y", {
            get: d
        });
        Object.defineProperty(b.DOM.layoutBounds, "x", {
            value: 0
        });
        Object.defineProperty(b.DOM.layoutBounds, "y", {
            value: 0
        });
        a.desktop && document.documentElement.clientWidth <= window.innerWidth && document.documentElement.clientHeight <= window.innerHeight ? (a = function() {
            return Math.max(window.innerWidth, document.documentElement.clientWidth)
        }, c = function() {
            return Math.max(window.innerHeight, document.documentElement.clientHeight)
        }, Object.defineProperty(b.DOM.visualBounds,
            "width", {
                get: a
            }), Object.defineProperty(b.DOM.visualBounds, "height", {
            get: c
        }), Object.defineProperty(b.DOM.layoutBounds, "width", {
            get: a
        }), Object.defineProperty(b.DOM.layoutBounds, "height", {
            get: c
        })) : (Object.defineProperty(b.DOM.visualBounds, "width", {
            get: function() {
                return window.innerWidth
            }
        }), Object.defineProperty(b.DOM.visualBounds, "height", {
            get: function() {
                return window.innerHeight
            }
        }), Object.defineProperty(b.DOM.layoutBounds, "width", {
            get: function() {
                var a = document.documentElement.clientWidth,
                    c = window.innerWidth;
                return a < c ? c : a
            }
        }), Object.defineProperty(b.DOM.layoutBounds, "height", {
            get: function() {
                var a = document.documentElement.clientHeight,
                    c = window.innerHeight;
                return a < c ? c : a
            }
        }));
        Object.defineProperty(b.DOM.documentBounds, "x", {
            value: 0
        });
        Object.defineProperty(b.DOM.documentBounds, "y", {
            value: 0
        });
        Object.defineProperty(b.DOM.documentBounds, "width", {
            get: function() {
                var a = document.documentElement;
                return Math.max(a.clientWidth, a.offsetWidth, a.scrollWidth)
            }
        });
        Object.defineProperty(b.DOM.documentBounds, "height", {
            get: function() {
                var a =
                    document.documentElement;
                return Math.max(a.clientHeight, a.offsetHeight, a.scrollHeight)
            }
        })
    }, null, !0);
    b.ArraySet = function(a) {
        this.position = 0;
        this.list = a || []
    };
    b.ArraySet.prototype = {
        add: function(a) {
            this.exists(a) || this.list.push(a);
            return a
        },
        getIndex: function(a) {
            return this.list.indexOf(a)
        },
        getByKey: function(a, c) {
            for (var b = this.list.length; b--;)
                if (this.list[b][a] === c) return this.list[b];
            return null
        },
        exists: function(a) {
            return -1 < this.list.indexOf(a)
        },
        reset: function() {
            this.list.length = 0
        },
        remove: function(a) {
            var c =
                this.list.indexOf(a);
            if (-1 < c) return this.list.splice(c, 1), a
        },
        setAll: function(a, c) {
            for (var b = this.list.length; b--;) this.list[b] && (this.list[b][a] = c)
        },
        callAll: function(a) {
            for (var c = Array.prototype.slice.call(arguments, 1), b = this.list.length; b--;) this.list[b] && this.list[b][a] && this.list[b][a].apply(this.list[b], c)
        },
        removeAll: function(a) {
            void 0 === a && (a = !1);
            for (var c = this.list.length; c--;)
                if (this.list[c]) {
                    var b = this.remove(this.list[c]);
                    a && b.destroy()
                } this.position = 0;
            this.list = []
        }
    };
    Object.defineProperty(b.ArraySet.prototype,
        "total", {
            get: function() {
                return this.list.length
            }
        });
    Object.defineProperty(b.ArraySet.prototype, "first", {
        get: function() {
            this.position = 0;
            return 0 < this.list.length ? this.list[0] : null
        }
    });
    Object.defineProperty(b.ArraySet.prototype, "next", {
        get: function() {
            return this.position < this.list.length ? (this.position++, this.list[this.position]) : null
        }
    });
    b.ArraySet.prototype.constructor = b.ArraySet;
    b.ArrayUtils = {
        getRandomItem: function(a, c, b) {
            if (null === a) return null;
            void 0 === c && (c = 0);
            void 0 === b && (b = a.length);
            c += Math.floor(Math.random() *
                b);
            return void 0 === a[c] ? null : a[c]
        },
        removeRandomItem: function(a, c, b) {
            if (null == a) return null;
            void 0 === c && (c = 0);
            void 0 === b && (b = a.length);
            c += Math.floor(Math.random() * b);
            return c < a.length ? (a = a.splice(c, 1), void 0 === a[0] ? null : a[0]) : null
        },
        remove: function(a, c, b) {
            var d = a.length;
            if (!(c >= d || 0 === b)) {
                null == b && (b = 1);
                for (d -= b; c < d; ++c) a[c] = a[c + b];
                a.length = d
            }
        },
        shuffle: function(a) {
            for (var c = a.length - 1; 0 < c; c--) {
                var b = Math.floor(Math.random() * (c + 1)),
                    d = a[c];
                a[c] = a[b];
                a[b] = d
            }
            return a
        },
        transposeMatrix: function(a) {
            for (var c =
                    a.length, b = a[0].length, d = Array(b), f = 0; f < b; f++) {
                d[f] = Array(c);
                for (var g = c - 1; - 1 < g; g--) d[f][g] = a[g][f]
            }
            return d
        },
        rotateMatrix: function(a, c) {
            "string" !== typeof c && (c = (c % 360 + 360) % 360);
            if (90 === c || -270 === c || "rotateLeft" === c) a = b.ArrayUtils.transposeMatrix(a), a = a.reverse();
            else if (-90 === c || 270 === c || "rotateRight" === c) a = a.reverse(), a = b.ArrayUtils.transposeMatrix(a);
            else if (180 === Math.abs(c) || "rotate180" === c) {
                for (c = 0; c < a.length; c++) a[c].reverse();
                a = a.reverse()
            }
            return a
        },
        findClosest: function(a, c) {
            if (!c.length) return NaN;
            if (1 === c.length || a < c[0]) return c[0];
            for (var b = 1; c[b] < a;) b++;
            var d = c[b - 1];
            c = b < c.length ? c[b] : Number.POSITIVE_INFINITY;
            return c - a <= a - d ? c : d
        },
        rotateRight: function(a) {
            var c = a.pop();
            a.unshift(c);
            return c
        },
        rotateLeft: function(a) {
            var c = a.shift();
            a.push(c);
            return c
        },
        numberArray: function(a, c) {
            if (void 0 === c || null === c) c = a, a = 0;
            for (var b = []; a <= c; a++) b.push(a);
            return b
        },
        numberArrayStep: function(a, c, d) {
            if (void 0 === a || null === a) a = 0;
            if (void 0 === c || null === c) c = a, a = 0;
            void 0 === d && (d = 1);
            var e = [];
            c = Math.max(b.Math.roundAwayFromZero((c -
                a) / (d || 1)), 0);
            for (var f = 0; f < c; f++) e.push(a), a += d;
            return e
        }
    };
    b.LinkedList = function() {
        this.last = this.first = this.prev = this.next = null;
        this.total = 0
    };
    b.LinkedList.prototype = {
        add: function(a) {
            if (0 === this.total && null === this.first && null === this.last) return this.next = this.last = this.first = a, a.prev = this, this.total++, a;
            this.last.next = a;
            a.prev = this.last;
            this.last = a;
            this.total++;
            return a
        },
        reset: function() {
            this.prev = this.next = this.last = this.first = null;
            this.total = 0
        },
        remove: function(a) {
            1 === this.total ? (this.reset(), a.next =
                a.prev = null) : (a === this.first ? this.first = this.first.next : a === this.last && (this.last = this.last.prev), a.prev && (a.prev.next = a.next), a.next && (a.next.prev = a.prev), a.next = a.prev = null, null === this.first && (this.last = null), this.total--)
        },
        callAll: function(a) {
            if (this.first && this.last) {
                var c = this.first;
                do c && c[a] && c[a].call(c), c = c.next; while (c !== this.last.next)
            }
        }
    };
    b.LinkedList.prototype.constructor = b.LinkedList;
    b.Create = function(a) {
        this.game = a;
        this.ctx = this.canvas = this.bmd = null;
        this.palettes = [{
            0: "#000",
            1: "#9D9D9D",
            2: "#FFF",
            3: "#BE2633",
            4: "#E06F8B",
            5: "#493C2B",
            6: "#A46422",
            7: "#EB8931",
            8: "#F7E26B",
            9: "#2F484E",
            A: "#44891A",
            B: "#A3CE27",
            C: "#1B2632",
            D: "#005784",
            E: "#31A2F2",
            F: "#B2DCEF"
        }, {
            0: "#000",
            1: "#191028",
            2: "#46af45",
            3: "#a1d685",
            4: "#453e78",
            5: "#7664fe",
            6: "#833129",
            7: "#9ec2e8",
            8: "#dc534b",
            9: "#e18d79",
            A: "#d6b97b",
            B: "#e9d8a1",
            C: "#216c4b",
            D: "#d365c8",
            E: "#afaab9",
            F: "#f5f4eb"
        }, {
            0: "#000",
            1: "#2234d1",
            2: "#0c7e45",
            3: "#44aacc",
            4: "#8a3622",
            5: "#5c2e78",
            6: "#aa5c3d",
            7: "#b5b5b5",
            8: "#5e606e",
            9: "#4c81fb",
            A: "#6cd947",
            B: "#7be2f9",
            C: "#eb8a60",
            D: "#e23d69",
            E: "#ffd93f",
            F: "#fff"
        }, {
            0: "#000",
            1: "#fff",
            2: "#8b4131",
            3: "#7bbdc5",
            4: "#8b41ac",
            5: "#6aac41",
            6: "#3931a4",
            7: "#d5de73",
            8: "#945a20",
            9: "#5a4100",
            A: "#bd736a",
            B: "#525252",
            C: "#838383",
            D: "#acee8b",
            E: "#7b73de",
            F: "#acacac"
        }, {
            0: "#000",
            1: "#191028",
            2: "#46af45",
            3: "#a1d685",
            4: "#453e78",
            5: "#7664fe",
            6: "#833129",
            7: "#9ec2e8",
            8: "#dc534b",
            9: "#e18d79",
            A: "#d6b97b",
            B: "#e9d8a1",
            C: "#216c4b",
            D: "#d365c8",
            E: "#afaab9",
            F: "#fff"
        }]
    };
    b.Create.PALETTE_ARNE = 0;
    b.Create.PALETTE_JMP = 1;
    b.Create.PALETTE_CGA = 2;
    b.Create.PALETTE_C64 =
        3;
    b.Create.PALETTE_JAPANESE_MACHINE = 4;
    b.Create.prototype = {
        texture: function(a, c, b, d, f, g, h, n) {
            void 0 === b && (b = 8);
            void 0 === d && (d = b);
            void 0 === f && (f = 0);
            void 0 === g && (g = !0);
            var e = c[0].length * b,
                k = c.length * d;
            null === this.bmd && (this.bmd = this.game.make.bitmapData(), this.canvas = this.bmd.canvas, this.ctx = this.bmd.context);
            this.bmd.resize(e, k);
            this.bmd.clear();
            for (e = 0; e < c.length; e++) {
                k = c[e];
                for (var l = 0; l < k.length; l++) {
                    var m = k[l];
                    "." !== m && " " !== m && (this.ctx.fillStyle = this.palettes[f][m], this.ctx.fillRect(l * b, e * d, b,
                        d))
                }
            }
            return g ? this.bmd.generateTexture(a, h, n) : this.copy()
        },
        grid: function(a, c, b, d, f, g, h, n, p) {
            void 0 === h && (h = !0);
            null === this.bmd && (this.bmd = this.game.make.bitmapData(), this.canvas = this.bmd.canvas, this.ctx = this.bmd.context);
            this.bmd.resize(c, b);
            this.ctx.fillStyle = g;
            for (g = 0; g < b; g += f) this.ctx.fillRect(0, g, c, 1);
            for (f = 0; f < c; f += d) this.ctx.fillRect(f, 0, 1, b);
            return h ? this.bmd.generateTexture(a, n, p) : this.copy()
        },
        copy: function(a, c, b, d, f, g, h) {
            null == a && (a = this.game.make.bitmapData());
            a.resize(this.bmd.width, this.bmd.height);
            return a.draw(this.bmd, c, b, d, f, g, h)
        }
    };
    b.Create.prototype.constructor = b.Create;
    b.FlexGrid = function(a, c, d) {
        this.game = a.game;
        this.manager = a;
        this.width = c;
        this.height = d;
        this.boundsCustom = new b.Rectangle(0, 0, c, d);
        this.boundsFluid = new b.Rectangle(0, 0, c, d);
        this.boundsFull = new b.Rectangle(0, 0, c, d);
        this.boundsNone = new b.Rectangle(0, 0, c, d);
        this.positionCustom = new b.Point(0, 0);
        this.positionFluid = new b.Point(0, 0);
        this.positionFull = new b.Point(0, 0);
        this.positionNone = new b.Point(0, 0);
        this.scaleCustom = new b.Point(1,
            1);
        this.scaleFluid = new b.Point(1, 1);
        this.scaleFluidInversed = new b.Point(1, 1);
        this.scaleFull = new b.Point(1, 1);
        this.scaleNone = new b.Point(1, 1);
        this.customOffsetY = this.customOffsetX = this.customHeight = this.customWidth = 0;
        this.ratioH = c / d;
        this.ratioV = d / c;
        this.multiplier = 0;
        this.layers = []
    };
    b.FlexGrid.prototype = {
        setSize: function(a, c) {
            this.width = a;
            this.height = c;
            this.ratioH = a / c;
            this.ratioV = c / a;
            this.scaleNone = new b.Point(1, 1);
            this.boundsNone.width = this.width;
            this.boundsNone.height = this.height;
            this.refresh()
        },
        createCustomLayer: function(a, c, d, f) {
            void 0 === f && (f = !0);
            this.customWidth = a;
            this.customHeight = c;
            this.boundsCustom.width = a;
            this.boundsCustom.height = c;
            a = new b.FlexLayer(this, this.positionCustom, this.boundsCustom, this.scaleCustom);
            f && this.game.world.add(a);
            this.layers.push(a);
            d && a.addMultiple(d);
            return a
        },
        createFluidLayer: function(a, c) {
            void 0 === c && (c = !0);
            var d = new b.FlexLayer(this, this.positionFluid, this.boundsFluid, this.scaleFluid);
            c && this.game.world.add(d);
            this.layers.push(d);
            a && d.addMultiple(a);
            return d
        },
        createFullLayer: function(a) {
            var c = new b.FlexLayer(this, this.positionFull, this.boundsFull, this.scaleFluid);
            this.game.world.add(c);
            this.layers.push(c);
            "undefined" !== typeof a && c.addMultiple(a);
            return c
        },
        createFixedLayer: function(a) {
            var c = new b.FlexLayer(this, this.positionNone, this.boundsNone, this.scaleNone);
            this.game.world.add(c);
            this.layers.push(c);
            "undefined" !== typeof a && c.addMultiple(a);
            return c
        },
        reset: function() {
            for (var a = this.layers.length; a--;) this.layers[a].persist || (this.layers[a].position = null,
                this.layers[a].scale = null, this.layers.slice(a, 1))
        },
        onResize: function(a, c) {
            this.ratioH = a / c;
            this.ratioV = c / a;
            this.refresh(a, c)
        },
        refresh: function() {
            this.multiplier = Math.min(this.manager.height / this.height, this.manager.width / this.width);
            this.boundsFluid.width = Math.round(this.width * this.multiplier);
            this.boundsFluid.height = Math.round(this.height * this.multiplier);
            this.scaleFluid.set(this.boundsFluid.width / this.width, this.boundsFluid.height / this.height);
            this.scaleFluidInversed.set(this.width / this.boundsFluid.width,
                this.height / this.boundsFluid.height);
            this.scaleFull.set(this.boundsFull.width / this.width, this.boundsFull.height / this.height);
            this.boundsFull.width = Math.round(this.manager.width * this.scaleFluidInversed.x);
            this.boundsFull.height = Math.round(this.manager.height * this.scaleFluidInversed.y);
            this.boundsFluid.centerOn(this.manager.bounds.centerX, this.manager.bounds.centerY);
            this.boundsNone.centerOn(this.manager.bounds.centerX, this.manager.bounds.centerY);
            this.positionFluid.set(this.boundsFluid.x, this.boundsFluid.y);
            this.positionNone.set(this.boundsNone.x, this.boundsNone.y)
        },
        fitSprite: function(a) {
            this.manager.scaleSprite(a);
            a.x = this.manager.bounds.centerX;
            a.y = this.manager.bounds.centerY
        },
        debug: function() {
            this.game.debug.text(this.boundsFluid.width + " x " + this.boundsFluid.height, this.boundsFluid.x + 4, this.boundsFluid.y + 16);
            this.game.debug.geom(this.boundsFluid, "rgba(255,0,0,0.9", !1)
        }
    };
    b.FlexGrid.prototype.constructor = b.FlexGrid;
    b.FlexLayer = function(a, c, d, f) {
        b.Group.call(this, a.game, null, "__flexLayer" + a.game.rnd.uuid(),
            !1);
        this.manager = a.manager;
        this.grid = a;
        this.persist = !1;
        this.position = c;
        this.bounds = d;
        this.scale = f;
        this.topLeft = d.topLeft;
        this.topMiddle = new b.Point(d.halfWidth, 0);
        this.topRight = d.topRight;
        this.bottomLeft = d.bottomLeft;
        this.bottomMiddle = new b.Point(d.halfWidth, d.bottom);
        this.bottomRight = d.bottomRight
    };
    b.FlexLayer.prototype = Object.create(b.Group.prototype);
    b.FlexLayer.prototype.constructor = b.FlexLayer;
    b.FlexLayer.prototype.resize = function() {};
    b.FlexLayer.prototype.debug = function() {
        this.game.debug.text(this.bounds.width +
            " x " + this.bounds.height, this.bounds.x + 4, this.bounds.y + 16);
        this.game.debug.geom(this.bounds, "rgba(0,0,255,0.9", !1);
        this.game.debug.geom(this.topLeft, "rgba(255,255,255,0.9");
        this.game.debug.geom(this.topMiddle, "rgba(255,255,255,0.9");
        this.game.debug.geom(this.topRight, "rgba(255,255,255,0.9")
    };
    b.Color = {
        RED: 16711680,
        ORANGE: 16750848,
        YELLOW: 16776960,
        GREEN: 65280,
        AQUA: 65535,
        BLUE: 255,
        VIOLET: 16711935,
        WHITE: 16777215,
        BLACK: 0,
        GRAY: 6710886,
        packPixel: function(a, c, d, f) {
            return b.Device.LITTLE_ENDIAN ? (f << 24 | d << 16 |
                c << 8 | a) >>> 0 : (a << 24 | c << 16 | d << 8 | f) >>> 0
        },
        unpackPixel: function(a, c, d, f) {
            if (void 0 === c || null === c) c = b.Color.createColor();
            if (void 0 === d || null === d) d = !1;
            if (void 0 === f || null === f) f = !1;
            b.Device.LITTLE_ENDIAN ? (c.a = (a & 4278190080) >>> 24, c.b = (a & 16711680) >>> 16, c.g = (a & 65280) >>> 8, c.r = a & 255) : (c.r = (a & 4278190080) >>> 24, c.g = (a & 16711680) >>> 16, c.b = (a & 65280) >>> 8, c.a = a & 255);
            c.color = a;
            c.rgba = "rgba(" + c.r + "," + c.g + "," + c.b + "," + c.a / 255 + ")";
            d && b.Color.RGBtoHSL(c.r, c.g, c.b, c);
            f && b.Color.RGBtoHSV(c.r, c.g, c.b, c);
            return c
        },
        fromRGBA: function(a,
            c) {
            c || (c = b.Color.createColor());
            c.r = (a & 4278190080) >>> 24;
            c.g = (a & 16711680) >>> 16;
            c.b = (a & 65280) >>> 8;
            c.a = a & 255;
            c.rgba = "rgba(" + c.r + "," + c.g + "," + c.b + "," + c.a + ")";
            return c
        },
        toRGBA: function(a, c, b, d) {
            return a << 24 | c << 16 | b << 8 | d
        },
        toABGR: function(a, c, b, d) {
            return (d << 24 | b << 16 | c << 8 | a) >>> 0
        },
        hexToRGBArray: function(a) {
            return [(a >> 16 & 255) / 255, (a >> 8 & 255) / 255, (a & 255) / 255]
        },
        RGBArrayToHex: function(a) {
            return (255 * a[0] << 16) + (255 * a[1] << 8) + 255 * a[2]
        },
        RGBtoHSL: function(a, c, d, f) {
            f || (f = b.Color.createColor(a, c, d, 1));
            a /= 255;
            c /= 255;
            d /=
                255;
            var e = Math.min(a, c, d),
                k = Math.max(a, c, d);
            f.h = 0;
            f.s = 0;
            f.l = (k + e) / 2;
            if (k !== e) {
                var g = k - e;
                f.s = .5 < f.l ? g / (2 - k - e) : g / (k + e);
                k === a ? f.h = (c - d) / g + (c < d ? 6 : 0) : k === c ? f.h = (d - a) / g + 2 : k === d && (f.h = (a - c) / g + 4);
                f.h /= 6
            }
            return f
        },
        HSLtoRGB: function(a, c, d, f) {
            f ? (f.r = d, f.g = d, f.b = d) : f = b.Color.createColor(d, d, d);
            0 !== c && (c = .5 > d ? d * (1 + c) : d + c - d * c, d = 2 * d - c, f.r = b.Color.hueToColor(d, c, a + 1 / 3), f.g = b.Color.hueToColor(d, c, a), f.b = b.Color.hueToColor(d, c, a - 1 / 3));
            f.r = Math.floor(255 * f.r | 0);
            f.g = Math.floor(255 * f.g | 0);
            f.b = Math.floor(255 * f.b | 0);
            b.Color.updateColor(f);
            return f
        },
        RGBtoHSV: function(a, c, d, f) {
            f || (f = b.Color.createColor(a, c, d, 255));
            a /= 255;
            c /= 255;
            d /= 255;
            var e = Math.min(a, c, d),
                k = Math.max(a, c, d),
                g = k - e;
            f.h = 0;
            f.s = 0 === k ? 0 : g / k;
            f.v = k;
            k !== e && (k === a ? f.h = (c - d) / g + (c < d ? 6 : 0) : k === c ? f.h = (d - a) / g + 2 : k === d && (f.h = (a - c) / g + 4), f.h /= 6);
            return f
        },
        HSVtoRGB: function(a, c, d, f) {
            void 0 === f && (f = b.Color.createColor(0, 0, 0, 1, a, c, 0, d));
            var e = Math.floor(6 * a),
                k = 6 * a - e;
            a = d * (1 - c);
            var g = d * (1 - k * c);
            c = d * (1 - (1 - k) * c);
            switch (e % 6) {
                case 0:
                    var h = d;
                    var p = c;
                    var r = a;
                    break;
                case 1:
                    h = g;
                    p = d;
                    r = a;
                    break;
                case 2:
                    h =
                        a;
                    p = d;
                    r = c;
                    break;
                case 3:
                    h = a;
                    p = g;
                    r = d;
                    break;
                case 4:
                    h = c;
                    p = a;
                    r = d;
                    break;
                case 5:
                    h = d, p = a, r = g
            }
            f.r = Math.floor(255 * h);
            f.g = Math.floor(255 * p);
            f.b = Math.floor(255 * r);
            b.Color.updateColor(f);
            return f
        },
        hueToColor: function(a, c, b) {
            0 > b && (b += 1);
            1 < b && --b;
            return b < 1 / 6 ? a + 6 * (c - a) * b : .5 > b ? c : b < 2 / 3 ? a + (c - a) * (2 / 3 - b) * 6 : a
        },
        createColor: function(a, c, d, f, l, g, h, n) {
            return b.Color.updateColor({
                r: a || 0,
                g: c || 0,
                b: d || 0,
                a: f || 1,
                h: l || 0,
                s: g || 0,
                l: h || 0,
                v: n || 0,
                color: 0,
                color32: 0,
                rgba: ""
            })
        },
        updateColor: function(a) {
            a.rgba = "rgba(" + a.r.toFixed() + "," + a.g.toFixed() +
                "," + a.b.toFixed() + "," + a.a.toString() + ")";
            a.color = b.Color.getColor(a.r, a.g, a.b);
            a.color32 = b.Color.getColor32(255 * a.a, a.r, a.g, a.b);
            return a
        },
        getColor32: function(a, c, b, d) {
            return a << 24 | c << 16 | b << 8 | d
        },
        getColor: function(a, c, b) {
            return a << 16 | c << 8 | b
        },
        RGBtoString: function(a, c, d, f, l) {
            void 0 === f && (f = 255);
            void 0 === l && (l = "#");
            return "#" === l ? "#" + (16777216 + (a << 16) + (c << 8) + d).toString(16).slice(1) : "0x" + b.Color.componentToHex(f) + b.Color.componentToHex(a) + b.Color.componentToHex(c) + b.Color.componentToHex(d)
        },
        hexToRGB: function(a) {
            if (a =
                b.Color.hexToColor(a)) return b.Color.getColor32(a.a, a.r, a.g, a.b)
        },
        hexToColor: function(a, c) {
            a = a.replace(/^(?:#|0x)?([a-f\d])([a-f\d])([a-f\d])$/i, function(a, c, b, d) {
                return c + c + b + b + d + d
            });
            var d = /^(?:#|0x)?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(a);
            if (d) {
                a = parseInt(d[1], 16);
                var f = parseInt(d[2], 16);
                d = parseInt(d[3], 16);
                c ? (c.r = a, c.g = f, c.b = d) : c = b.Color.createColor(a, f, d)
            }
            return c
        },
        webToColor: function(a, c) {
            c || (c = b.Color.createColor());
            if (a = /^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d+(?:\.\d+)?))?\s*\)$/.exec(a)) c.r = ~~Number(a[1]), c.g = ~~Number(a[2]), c.b = ~~Number(a[3]), c.a = void 0 !== a[4] ? Number(a[4]) : 1, b.Color.updateColor(c);
            return c
        },
        valueToColor: function(a, c) {
            c || (c = b.Color.createColor());
            if ("string" === typeof a) {
                if (0 === a.indexOf("rgb")) return b.Color.webToColor(a, c);
                c.a = 1;
                return b.Color.hexToColor(a, c)
            }
            "number" === typeof a && (a = b.Color.getRGB(a), c.r = a.r, c.g = a.g, c.b = a.b, c.a = a.a / 255);
            return c
        },
        componentToHex: function(a) {
            a = a.toString(16);
            return 1 === a.length ? "0" + a : a
        },
        HSVColorWheel: function(a, c) {
            void 0 === a && (a = 1);
            void 0 ===
                c && (c = 1);
            for (var d = [], f = 0; 359 >= f; f++) d.push(b.Color.HSVtoRGB(f / 359, a, c));
            return d
        },
        HSLColorWheel: function(a, c) {
            void 0 === a && (a = .5);
            void 0 === c && (c = .5);
            for (var d = [], f = 0; 359 >= f; f++) d.push(b.Color.HSLtoRGB(f / 359, a, c));
            return d
        },
        interpolateColor: function(a, c, d, f, l, g) {
            void 0 === l && (l = 255);
            void 0 === g && (g = 0);
            a = b.Color.getRGB(a);
            c = b.Color.getRGB(c);
            if (0 === g) var e = (c.red - a.red) * f / d + a.red,
                k = (c.green - a.green) * f / d + a.green,
                h = (c.blue - a.blue) * f / d + a.blue;
            if (1 === g) {
                g = b.Color.RGBtoHSV(a.r, a.g, a.b);
                e = b.Color.RGBtoHSV(c.r,
                    c.g, c.b);
                k = e.h - g.h;
                g.h > e.h && (h = e.h, e.h = g.h, g.h = h, k = -k, f = d - f);
                if (.5 < k) {
                    g.h += 1;
                    var m = ((e.h - g.h) * f / d + g.h) % 1
                }
                .5 >= k && (m = (e.h - g.h) * f / d + g.h);
                var u = b.Color.HSVtoRGB(m, (e.s - g.s) * f / d + g.s, (e.v - g.v) * f / d + g.v, u);
                e = u.r;
                k = u.g;
                h = u.b
            }
            return b.Color.getColor32(l, e, k, h)
        },
        interpolateColorWithRGB: function(a, c, d, f, l, g) {
            a = b.Color.getRGB(a);
            return b.Color.getColor((c - a.red) * g / l + a.red, (d - a.green) * g / l + a.green, (f - a.blue) * g / l + a.blue)
        },
        interpolateRGB: function(a, c, d, f, l, g, h, n) {
            return b.Color.getColor((f - a) * n / h + a, (l - c) * n / h + c, (g -
                d) * n / h + d)
        },
        linear: function(a, c, b) {
            return this.interpolateColor(a, c, 1, b)
        },
        linearInterpolation: function(a, c) {
            c = b.Math.linear(0, a.length - 1, c);
            return this.linear(a[Math.floor(c)], a[Math.ceil(c)], c % 1)
        },
        getRandomColor: function(a, c, d) {
            void 0 === a && (a = 0);
            void 0 === c && (c = 255);
            void 0 === d && (d = 255);
            return 255 < c || a > c ? b.Color.getColor(255, 255, 255) : b.Color.getColor32(d, a + Math.round(Math.random() * (c - a)), a + Math.round(Math.random() * (c - a)), a + Math.round(Math.random() * (c - a)))
        },
        getRGB: function(a) {
            return 16777215 < a ? {
                alpha: a >>>
                    24,
                red: a >> 16 & 255,
                green: a >> 8 & 255,
                blue: a & 255,
                a: a >>> 24,
                r: a >> 16 & 255,
                g: a >> 8 & 255,
                b: a & 255
            } : {
                alpha: 255,
                red: a >> 16 & 255,
                green: a >> 8 & 255,
                blue: a & 255,
                a: 255,
                r: a >> 16 & 255,
                g: a >> 8 & 255,
                b: a & 255
            }
        },
        getWebRGB: function(a) {
            if ("object" === typeof a) return "rgba(" + a.r.toString() + "," + a.g.toString() + "," + a.b.toString() + "," + (a.a / 255).toString() + ")";
            a = b.Color.getRGB(a);
            return "rgba(" + a.r.toString() + "," + a.g.toString() + "," + a.b.toString() + "," + (a.a / 255).toString() + ")"
        },
        getAlpha: function(a) {
            return a >>> 24
        },
        getAlphaFloat: function(a) {
            return (a >>>
                24) / 255
        },
        getRed: function(a) {
            return a >> 16 & 255
        },
        getGreen: function(a) {
            return a >> 8 & 255
        },
        getBlue: function(a) {
            return a & 255
        },
        blendNormal: function(a) {
            return a
        },
        blendLighten: function(a, c) {
            return c > a ? c : a
        },
        blendDarken: function(a, c) {
            return c > a ? a : c
        },
        blendMultiply: function(a, c) {
            return a * c / 255
        },
        blendAverage: function(a, c) {
            return (a + c) / 2
        },
        blendAdd: function(a, c) {
            return Math.min(255, a + c)
        },
        blendSubtract: function(a, c) {
            return Math.max(0, a + c - 255)
        },
        blendDifference: function(a, c) {
            return Math.abs(a - c)
        },
        blendNegation: function(a,
            c) {
            return 255 - Math.abs(255 - a - c)
        },
        blendScreen: function(a, c) {
            return 255 - ((255 - a) * (255 - c) >> 8)
        },
        blendExclusion: function(a, c) {
            return a + c - 2 * a * c / 255
        },
        blendOverlay: function(a, c) {
            return 128 > c ? 2 * a * c / 255 : 255 - 2 * (255 - a) * (255 - c) / 255
        },
        blendSoftLight: function(a, c) {
            return 128 > c ? c / 255 * ((a >> 1) + 64) * 2 : 255 - 2 * (255 - ((a >> 1) + 64)) * (255 - c) / 255
        },
        blendHardLight: function(a, c) {
            return b.Color.blendOverlay(c, a)
        },
        blendColorDodge: function(a, c) {
            return 255 === c ? c : Math.min(255, (a << 8) / (255 - c))
        },
        blendColorBurn: function(a, c) {
            return 0 === c ?
                c : Math.max(0, 255 - (255 - a << 8) / c)
        },
        blendLinearDodge: function(a, c) {
            return b.Color.blendAdd(a, c)
        },
        blendLinearBurn: function(a, c) {
            return b.Color.blendSubtract(a, c)
        },
        blendLinearLight: function(a, c) {
            return 128 > c ? b.Color.blendLinearBurn(a, 2 * c) : b.Color.blendLinearDodge(a, 2 * (c - 128))
        },
        blendVividLight: function(a, c) {
            return 128 > c ? b.Color.blendColorBurn(a, 2 * c) : b.Color.blendColorDodge(a, 2 * (c - 128))
        },
        blendPinLight: function(a, c) {
            return 128 > c ? b.Color.blendDarken(a, 2 * c) : b.Color.blendLighten(a, 2 * (c - 128))
        },
        blendHardMix: function(a,
            c) {
            return 128 > b.Color.blendVividLight(a, c) ? 0 : 255
        },
        blendReflect: function(a, c) {
            return 255 === c ? c : Math.min(255, a * a / (255 - c))
        },
        blendGlow: function(a, c) {
            return b.Color.blendReflect(c, a)
        },
        blendPhoenix: function(a, c) {
            return Math.min(a, c) - Math.max(a, c) + 255
        }
    };
    b.Physics = function(a, c) {
        c = c || {};
        this.game = a;
        this.config = c;
        this.matter = this.chipmunk = this.box2d = this.ninja = this.p2 = this.arcade = null;
        this.parseConfig()
    };
    b.Physics.ARCADE = 0;
    b.Physics.P2JS = 1;
    b.Physics.NINJA = 2;
    b.Physics.BOX2D = 3;
    b.Physics.CHIPMUNK = 4;
    b.Physics.MATTERJS =
        5;
    b.Physics.prototype = {
        parseConfig: function() {
            this.config.hasOwnProperty("arcade") && !0 !== this.config.arcade || !b.Physics.hasOwnProperty("Arcade") || (this.arcade = new b.Physics.Arcade(this.game));
            this.config.hasOwnProperty("ninja") && !0 === this.config.ninja && b.Physics.hasOwnProperty("Ninja") && (this.ninja = new b.Physics.Ninja(this.game));
            this.config.hasOwnProperty("p2") && !0 === this.config.p2 && b.Physics.hasOwnProperty("P2") && (this.p2 = new b.Physics.P2(this.game, this.config));
            this.config.hasOwnProperty("box2d") &&
                !0 === this.config.box2d && b.Physics.hasOwnProperty("BOX2D") && (this.box2d = new b.Physics.BOX2D(this.game, this.config));
            this.config.hasOwnProperty("matter") && !0 === this.config.matter && b.Physics.hasOwnProperty("Matter") && (this.matter = new b.Physics.Matter(this.game, this.config))
        },
        startSystem: function(a) {
            a === b.Physics.ARCADE ? this.arcade = new b.Physics.Arcade(this.game) : a === b.Physics.P2JS ? null === this.p2 ? this.p2 = new b.Physics.P2(this.game, this.config) : this.p2.reset() : a === b.Physics.NINJA ? this.ninja = new b.Physics.Ninja(this.game) :
                a === b.Physics.BOX2D ? null === this.box2d ? this.box2d = new b.Physics.Box2D(this.game, this.config) : this.box2d.reset() : a === b.Physics.MATTERJS && (null === this.matter ? this.matter = new b.Physics.Matter(this.game, this.config) : this.matter.reset())
        },
        enable: function(a, c, d) {
            void 0 === c && (c = b.Physics.ARCADE);
            void 0 === d && (d = !1);
            c === b.Physics.ARCADE ? this.arcade.enable(a) : c === b.Physics.P2JS && this.p2 ? this.p2.enable(a, d) : c === b.Physics.NINJA && this.ninja ? this.ninja.enableAABB(a) : c === b.Physics.BOX2D && this.box2d ? this.box2d.enable(a) :
                c === b.Physics.MATTERJS && this.matter ? this.matter.enable(a) : console.warn(a.key + " is attempting to enable a physics body using an unknown physics system.")
        },
        preUpdate: function() {
            this.p2 && this.p2.preUpdate();
            this.box2d && this.box2d.preUpdate();
            this.matter && this.matter.preUpdate()
        },
        update: function() {
            this.p2 && this.p2.update();
            this.box2d && this.box2d.update();
            this.matter && this.matter.update()
        },
        setBoundsToWorld: function() {
            this.arcade && this.arcade.setBoundsToWorld();
            this.ninja && this.ninja.setBoundsToWorld();
            this.p2 && this.p2.setBoundsToWorld();
            this.box2d && this.box2d.setBoundsToWorld();
            this.matter && this.matter.setBoundsToWorld()
        },
        clear: function() {
            this.p2 && this.p2.clear();
            this.box2d && this.box2d.clear();
            this.matter && this.matter.clear()
        },
        reset: function() {
            this.p2 && this.p2.reset();
            this.box2d && this.box2d.reset();
            this.matter && this.matter.reset()
        },
        destroy: function() {
            this.p2 && this.p2.destroy();
            this.box2d && this.box2d.destroy();
            this.matter && this.matter.destroy();
            this.matter = this.box2d = this.p2 = this.ninja = this.arcade =
                null
        }
    };
    b.Physics.prototype.constructor = b.Physics;
    b.Physics.Arcade = function(a) {
        this.game = a;
        this.gravity = new b.Point;
        this.bounds = new b.Rectangle(0, 0, a.world.width, a.world.height);
        this.checkCollision = {
            up: !0,
            down: !0,
            left: !0,
            right: !0
        };
        this.maxObjects = 10;
        this.OVERLAP_BIAS = this.maxLevels = 4;
        this.forceX = !1;
        this.sortDirection = b.Physics.Arcade.LEFT_RIGHT;
        this.skipQuadTree = !0;
        this.isPaused = !1;
        this.quadTree = new b.QuadTree(this.game.world.bounds.x, this.game.world.bounds.y, this.game.world.bounds.width, this.game.world.bounds.height,
            this.maxObjects, this.maxLevels);
        this._total = 0;
        this.setBoundsToWorld()
    };
    b.Physics.Arcade.prototype.constructor = b.Physics.Arcade;
    b.Physics.Arcade.SORT_NONE = 0;
    b.Physics.Arcade.LEFT_RIGHT = 1;
    b.Physics.Arcade.RIGHT_LEFT = 2;
    b.Physics.Arcade.TOP_BOTTOM = 3;
    b.Physics.Arcade.BOTTOM_TOP = 4;
    b.Physics.Arcade.prototype = {
        setBounds: function(a, c, b, d) {
            this.bounds.setTo(a, c, b, d)
        },
        setBoundsToWorld: function() {
            this.bounds.copyFrom(this.game.world.bounds)
        },
        enable: function(a, c) {
            void 0 === c && (c = !0);
            var d;
            if (Array.isArray(a))
                for (d =
                    a.length; d--;) a[d] instanceof b.Group ? this.enable(a[d].children, c) : (this.enableBody(a[d]), c && a[d].hasOwnProperty("children") && 0 < a[d].children.length && this.enable(a[d], !0));
            else a instanceof b.Group ? this.enable(a.children, c) : (this.enableBody(a), c && a.hasOwnProperty("children") && 0 < a.children.length && this.enable(a.children, !0))
        },
        enableBody: function(a) {
            a.hasOwnProperty("body") && null === a.body && (a.body = new b.Physics.Arcade.Body(a), a.parent && a.parent instanceof b.Group && a.parent.addToHash(a))
        },
        updateMotion: function(a) {
            if (a.allowRotation) {
                var c =
                    this.computeVelocity(0, a, a.angularVelocity, a.angularAcceleration, a.angularDrag, a.maxAngular) - a.angularVelocity;
                a.angularVelocity += c;
                a.rotation += a.angularVelocity * this.game.time.physicsElapsed
            }
            a.velocity.x = this.computeVelocity(1, a, a.velocity.x, a.acceleration.x, a.drag.x, a.maxVelocity.x);
            a.velocity.y = this.computeVelocity(2, a, a.velocity.y, a.acceleration.y, a.drag.y, a.maxVelocity.y)
        },
        computeVelocity: function(a, c, b, d, f, g) {
            void 0 === g && (g = 1E4);
            1 === a && c.allowGravity ? b += (this.gravity.x + c.gravity.x) * this.game.time.physicsElapsed :
                2 === a && c.allowGravity && (b += (this.gravity.y + c.gravity.y) * this.game.time.physicsElapsed);
            d ? b += d * this.game.time.physicsElapsed : f && c.allowDrag && (f *= this.game.time.physicsElapsed, b = 0 < b - f ? b - f : 0 > b + f ? b + f : 0);
            b > g ? b = g : b < -g && (b = -g);
            return b
        },
        overlap: function(a, c, b, d, f) {
            b = b || null;
            this._total = 0;
            this.collideObjects(a, c, b, d || null, f || b, !0);
            return 0 < this._total
        },
        collide: function(a, c, b, d, f) {
            b = b || null;
            this._total = 0;
            this.collideObjects(a, c, b, d || null, f || b, !1);
            return 0 < this._total
        },
        sortLeftRight: function(a, c) {
            return a.body &&
                c.body ? a.body.x - c.body.x : 0
        },
        sortRightLeft: function(a, c) {
            return a.body && c.body ? c.body.x - a.body.x : 0
        },
        sortTopBottom: function(a, c) {
            return a.body && c.body ? a.body.y - c.body.y : 0
        },
        sortBottomTop: function(a, c) {
            return a.body && c.body ? c.body.y - a.body.y : 0
        },
        sort: function(a, c) {
            null !== a.physicsSortDirection ? c = a.physicsSortDirection : void 0 === c && (c = this.sortDirection);
            c === b.Physics.Arcade.LEFT_RIGHT ? a.hash.sort(this.sortLeftRight) : c === b.Physics.Arcade.RIGHT_LEFT ? a.hash.sort(this.sortRightLeft) : c === b.Physics.Arcade.TOP_BOTTOM ?
                a.hash.sort(this.sortTopBottom) : c === b.Physics.Arcade.BOTTOM_TOP && a.hash.sort(this.sortBottomTop)
        },
        collideObjects: function(a, c, b, d, f, g) {
            if (!Array.isArray(a) && Array.isArray(c))
                for (var e = 0; e < c.length; e++) c[e] && this.collideHandler(a, c[e], b, d, f, g);
            else if (Array.isArray(a) && !Array.isArray(c))
                for (e = 0; e < a.length; e++) a[e] && this.collideHandler(a[e], c, b, d, f, g);
            else if (Array.isArray(a) && Array.isArray(c))
                for (e = 0; e < a.length; e++) {
                    if (a[e])
                        for (var k = 0; k < c.length; k++) c[k] && this.collideHandler(a[e], c[k], b, d, f, g)
                } else this.collideHandler(a,
                    c, b, d, f, g)
        },
        collideHandler: function(a, c, d, f, l, g) {
            void 0 === c && a.physicsType === b.GROUP ? (this.sort(a), this.collideGroupVsSelf(a, d, f, l, g)) : a && c && a.exists && c.exists && (this.sortDirection !== b.Physics.Arcade.SORT_NONE && (a.physicsType === b.GROUP && this.sort(a), c.physicsType === b.GROUP && this.sort(c)), a.physicsType === b.SPRITE ? c.physicsType === b.SPRITE ? this.collideSpriteVsSprite(a, c, d, f, l, g) : c.physicsType === b.GROUP ? this.collideSpriteVsGroup(a, c, d, f, l, g) : c.physicsType === b.TILEMAPLAYER && this.collideSpriteVsTilemapLayer(a,
                c, d, f, l, g) : a.physicsType === b.GROUP ? c.physicsType === b.SPRITE ? this.collideSpriteVsGroup(c, a, d, f, l, g) : c.physicsType === b.GROUP ? this.collideGroupVsGroup(a, c, d, f, l, g) : c.physicsType === b.TILEMAPLAYER && this.collideGroupVsTilemapLayer(a, c, d, f, l, g) : a.physicsType === b.TILEMAPLAYER && (c.physicsType === b.SPRITE ? this.collideSpriteVsTilemapLayer(c, a, d, f, l, g) : c.physicsType === b.GROUP && this.collideGroupVsTilemapLayer(c, a, d, f, l, g)))
        },
        collideSpriteVsSprite: function(a, c, b, d, f, g) {
            if (!a.body || !c.body) return !1;
            this.separate(a.body,
                c.body, d, f, g) && (b && b.call(f, a, c), this._total++);
            return !0
        },
        collideSpriteVsGroup: function(a, c, d, f, l, g) {
            if (0 !== c.length && a.body)
                if (this.skipQuadTree || a.body.skipQuadTree)
                    for (var e = {}, k = 0; k < c.hash.length; k++) {
                        var h = c.hash[k];
                        if (h && h.exists && h.body) {
                            e = h.body.getBounds(e);
                            if (this.sortDirection === b.Physics.Arcade.LEFT_RIGHT)
                                if (a.body.right < e.x) break;
                                else {
                                    if (e.right < a.body.x) continue
                                }
                            else if (this.sortDirection === b.Physics.Arcade.RIGHT_LEFT)
                                if (a.body.x > e.right) break;
                                else {
                                    if (e.x > a.body.right) continue
                                }
                            else if (this.sortDirection ===
                                b.Physics.Arcade.TOP_BOTTOM)
                                if (a.body.bottom < e.y) break;
                                else {
                                    if (e.bottom < a.body.y) continue
                                }
                            else if (this.sortDirection === b.Physics.Arcade.BOTTOM_TOP)
                                if (a.body.y > e.bottom) break;
                                else if (e.y > a.body.bottom) continue;
                            this.collideSpriteVsSprite(a, h, d, f, l, g)
                        }
                    } else
                        for (this.quadTree.clear(), this.quadTree.reset(this.game.world.bounds.x, this.game.world.bounds.y, this.game.world.bounds.width, this.game.world.bounds.height, this.maxObjects, this.maxLevels), this.quadTree.populate(c), c = this.quadTree.retrieve(a), k = 0; k <
                            c.length; k++) this.separate(a.body, c[k], f, l, g) && (d && d.call(l, a, c[k].sprite), this._total++)
        },
        collideGroupVsSelf: function(a, c, d, f, l) {
            if (0 !== a.length)
                for (var e = 0; e < a.hash.length; e++) {
                    var k = {},
                        g = a.hash[e];
                    if (g && g.exists && g.body) {
                        k = g.body.getBounds(k);
                        for (var h = e + 1; h < a.hash.length; h++) {
                            var r = {},
                                u = a.hash[h];
                            if (u && u.exists && u.body) {
                                r = u.body.getBounds(r);
                                if (this.sortDirection === b.Physics.Arcade.LEFT_RIGHT)
                                    if (k.right < r.x) break;
                                    else {
                                        if (r.right < k.x) continue
                                    }
                                else if (this.sortDirection === b.Physics.Arcade.RIGHT_LEFT)
                                    if (k.x >
                                        r.right) continue;
                                    else {
                                        if (r.x > k.right) break
                                    }
                                else if (this.sortDirection === b.Physics.Arcade.TOP_BOTTOM)
                                    if (k.bottom < r.y) continue;
                                    else {
                                        if (r.bottom < k.y) break
                                    }
                                else if (this.sortDirection === b.Physics.Arcade.BOTTOM_TOP)
                                    if (k.y > r.bottom) continue;
                                    else if (r.y > g.body.bottom) break;
                                this.collideSpriteVsSprite(g, u, c, d, f, l)
                            }
                        }
                    }
                }
        },
        collideGroupVsGroup: function(a, c, d, f, l, g) {
            if (0 !== a.length && 0 !== c.length)
                for (var e = 0; e < a.children.length; e++) a.children[e].exists && (a.children[e].physicsType === b.GROUP ? this.collideGroupVsGroup(a.children[e],
                    c, d, f, l, g) : this.collideSpriteVsGroup(a.children[e], c, d, f, l, g))
        },
        separate: function(a, c, b, d, f) {
            if (!a.enable || !c.enable || a.checkCollision.none || c.checkCollision.none || !this.intersects(a, c) || b && !1 === b.call(d, a.sprite, c.sprite)) return !1;
            if (a.isCircle && c.isCircle) return this.separateCircle(a, c, f);
            if (a.isCircle !== c.isCircle) {
                b = a.isCircle ? c : a;
                d = b.x;
                var e = b.right,
                    k = b.bottom,
                    l = (a.isCircle ? a : c).center;
                if (l.y < b.y || l.y > k)
                    if (l.x < d || l.x > e) return this.separateCircle(a, c, f)
            }
            d = b = !1;
            this.forceX || Math.abs(this.gravity.y +
                a.gravity.y) < Math.abs(this.gravity.x + a.gravity.x) ? (b = this.separateX(a, c, f), this.intersects(a, c) && (d = this.separateY(a, c, f))) : (d = this.separateY(a, c, f), this.intersects(a, c) && (b = this.separateX(a, c, f)));
            if (b = b || d) f ? (a.onOverlap && a.onOverlap.dispatch(a.sprite, c.sprite), c.onOverlap && c.onOverlap.dispatch(c.sprite, a.sprite)) : (a.onCollide && a.onCollide.dispatch(a.sprite, c.sprite), c.onCollide && c.onCollide.dispatch(c.sprite, a.sprite));
            return b
        },
        intersects: function(a, c) {
            return a === c ? !1 : a.isCircle ? c.isCircle ? b.Math.distance(a.center.x,
                a.center.y, c.center.x, c.center.y) <= a.halfWidth + c.halfWidth : this.circleBodyIntersects(a, c) : c.isCircle ? this.circleBodyIntersects(c, a) : a.right <= c.position.x || a.bottom <= c.position.y || a.position.x >= c.right || a.position.y >= c.bottom ? !1 : !0
        },
        circleBodyIntersects: function(a, c) {
            var d = b.Math.clamp(a.center.x, c.left, c.right);
            c = b.Math.clamp(a.center.y, c.top, c.bottom);
            return (a.center.x - d) * (a.center.x - d) + (a.center.y - c) * (a.center.y - c) <= a.halfWidth * a.halfWidth
        },
        separateCircle: function(a, c, d) {
            this.getOverlapX(a, c);
            this.getOverlapY(a,
                c);
            var e = Math.atan2(c.center.y - a.center.y, c.center.x - a.center.x),
                f = 0;
            if (a.isCircle !== c.isCircle) {
                var g = c.isCircle ? a.position.x : c.position.x,
                    h = c.isCircle ? a.position.y : c.position.y,
                    n = c.isCircle ? a.right : c.right,
                    p = c.isCircle ? a.bottom : c.bottom,
                    r = a.isCircle ? a.center.x : c.center.x,
                    u = a.isCircle ? a.center.y : c.center.y,
                    t = a.isCircle ? a.halfWidth : c.halfWidth;
                u < h ? r < g ? f = b.Math.distance(r, u, g, h) - t : r > n && (f = b.Math.distance(r, u, n, h) - t) : u > p && (r < g ? f = b.Math.distance(r, u, g, p) - t : r > n && (f = b.Math.distance(r, u, n, p) - t));
                f *= -1
            } else f =
                a.halfWidth + c.halfWidth - b.Math.distance(a.center.x, a.center.y, c.center.x, c.center.y);
            if (d || 0 === f || a.immovable && c.immovable || a.customSeparateX || c.customSeparateX) return 0 !== f && (a.onOverlap && a.onOverlap.dispatch(a.sprite, c.sprite), c.onOverlap && c.onOverlap.dispatch(c.sprite, a.sprite)), 0 !== f;
            n = a.velocity.x * Math.cos(e) + a.velocity.y * Math.sin(e);
            d = -a.velocity.x * Math.sin(e) + a.velocity.y * Math.cos(e);
            p = c.velocity.x * Math.cos(e) + c.velocity.y * Math.sin(e);
            g = -c.velocity.x * Math.sin(e) + c.velocity.y * Math.cos(e);
            h =
                ((a.mass - c.mass) * n + 2 * c.mass * p) / (a.mass + c.mass);
            n = (2 * a.mass * n + (c.mass - a.mass) * p) / (a.mass + c.mass);
            a.immovable || (a.velocity.x = (h * Math.cos(e) - d * Math.sin(e)) * a.bounce.x, a.velocity.y = (d * Math.cos(e) + h * Math.sin(e)) * a.bounce.y);
            c.immovable || (c.velocity.x = (n * Math.cos(e) - g * Math.sin(e)) * c.bounce.x, c.velocity.y = (g * Math.cos(e) + n * Math.sin(e)) * c.bounce.y);
            Math.abs(e) < Math.PI / 2 ? 0 < a.velocity.x && !a.immovable && c.velocity.x > a.velocity.x ? a.velocity.x *= -1 : 0 > c.velocity.x && !c.immovable && a.velocity.x < c.velocity.x ? c.velocity.x *=
                -1 : 0 < a.velocity.y && !a.immovable && c.velocity.y > a.velocity.y ? a.velocity.y *= -1 : 0 > c.velocity.y && !c.immovable && a.velocity.y < c.velocity.y && (c.velocity.y *= -1) : Math.abs(e) > Math.PI / 2 && (0 > a.velocity.x && !a.immovable && c.velocity.x < a.velocity.x ? a.velocity.x *= -1 : 0 < c.velocity.x && !c.immovable && a.velocity.x > c.velocity.x ? c.velocity.x *= -1 : 0 > a.velocity.y && !a.immovable && c.velocity.y < a.velocity.y ? a.velocity.y *= -1 : 0 < c.velocity.y && !c.immovable && a.velocity.x > c.velocity.y && (c.velocity.y *= -1));
            a.immovable || (a.x += a.velocity.x *
                this.game.time.physicsElapsed - f * Math.cos(e), a.y += a.velocity.y * this.game.time.physicsElapsed - f * Math.sin(e));
            c.immovable || (c.x += c.velocity.x * this.game.time.physicsElapsed + f * Math.cos(e), c.y += c.velocity.y * this.game.time.physicsElapsed + f * Math.sin(e));
            a.onCollide && a.onCollide.dispatch(a.sprite, c.sprite);
            c.onCollide && c.onCollide.dispatch(c.sprite, a.sprite);
            return !0
        },
        getOverlapX: function(a, c, b) {
            var d = 0,
                e = a.deltaAbsX() + c.deltaAbsX() + this.OVERLAP_BIAS;
            0 === a.deltaX() && 0 === c.deltaX() ? (a.embedded = !0, c.embedded = !0) : a.deltaX() > c.deltaX() ? (d = a.right - c.x, d > e && !b || !1 === a.checkCollision.right || !1 === c.checkCollision.left ? d = 0 : (a.touching.none = !1, a.touching.right = !0, c.touching.none = !1, c.touching.left = !0)) : a.deltaX() < c.deltaX() && (d = a.x - c.width - c.x, -d > e && !b || !1 === a.checkCollision.left || !1 === c.checkCollision.right ? d = 0 : (a.touching.none = !1, a.touching.left = !0, c.touching.none = !1, c.touching.right = !0));
            a.overlapX = d;
            return c.overlapX = d
        },
        getOverlapY: function(a, c, b) {
            var d = 0,
                e = a.deltaAbsY() + c.deltaAbsY() + this.OVERLAP_BIAS;
            0 ===
                a.deltaY() && 0 === c.deltaY() ? (a.embedded = !0, c.embedded = !0) : a.deltaY() > c.deltaY() ? (d = a.bottom - c.y, d > e && !b || !1 === a.checkCollision.down || !1 === c.checkCollision.up ? d = 0 : (a.touching.none = !1, a.touching.down = !0, c.touching.none = !1, c.touching.up = !0)) : a.deltaY() < c.deltaY() && (d = a.y - c.bottom, -d > e && !b || !1 === a.checkCollision.up || !1 === c.checkCollision.down ? d = 0 : (a.touching.none = !1, a.touching.up = !0, c.touching.none = !1, c.touching.down = !0));
            a.overlapY = d;
            return c.overlapY = d
        },
        separateX: function(a, c, b) {
            var d = this.getOverlapX(a,
                c, b);
            if (b || 0 === d || a.immovable && c.immovable || a.customSeparateX || c.customSeparateX) return 0 !== d || a.embedded && c.embedded;
            b = a.velocity.x;
            var e = c.velocity.x;
            a.immovable || c.immovable ? a.immovable ? (c.x += d, c.velocity.x = b - e * c.bounce.x, a.moves && (c.y += (a.y - a.prev.y) * a.friction.y)) : (a.x -= d, a.velocity.x = e - b * a.bounce.x, c.moves && (a.y += (c.y - c.prev.y) * c.friction.y)) : (d *= .5, a.x -= d, c.x += d, d = Math.sqrt(e * e * c.mass / a.mass) * (0 < e ? 1 : -1), b = Math.sqrt(b * b * a.mass / c.mass) * (0 < b ? 1 : -1), e = .5 * (d + b), a.velocity.x = e + (d - e) * a.bounce.x, c.velocity.x =
                e + (b - e) * c.bounce.x);
            return !0
        },
        separateY: function(a, c, b) {
            var d = this.getOverlapY(a, c, b);
            if (b || 0 === d || a.immovable && c.immovable || a.customSeparateY || c.customSeparateY) return 0 !== d || a.embedded && c.embedded;
            b = a.velocity.y;
            var e = c.velocity.y;
            a.immovable || c.immovable ? a.immovable ? (c.y += d, c.velocity.y = b - e * c.bounce.y, a.moves && (c.x += (a.x - a.prev.x) * a.friction.x)) : (a.y -= d, a.velocity.y = e - b * a.bounce.y, c.moves && (a.x += (c.x - c.prev.x) * c.friction.x)) : (d *= .5, a.y -= d, c.y += d, d = Math.sqrt(e * e * c.mass / a.mass) * (0 < e ? 1 : -1), b = Math.sqrt(b *
                b * a.mass / c.mass) * (0 < b ? 1 : -1), e = .5 * (d + b), a.velocity.y = e + (d - e) * a.bounce.y, c.velocity.y = e + (b - e) * c.bounce.y);
            return !0
        },
        getObjectsUnderPointer: function(a, c, b, d) {
            if (0 !== c.length && a.exists) return this.getObjectsAtLocation(a.x, a.y, c, b, d, a)
        },
        getObjectsAtLocation: function(a, c, d, f, l, g) {
            this.quadTree.clear();
            this.quadTree.reset(this.game.world.bounds.x, this.game.world.bounds.y, this.game.world.bounds.width, this.game.world.bounds.height, this.maxObjects, this.maxLevels);
            this.quadTree.populate(d);
            var e = new b.Rectangle(a,
                c, 1, 1);
            d = [];
            e = this.quadTree.retrieve(e);
            for (var k = 0; k < e.length; k++) e[k].hitTest(a, c) && (f && f.call(l, g, e[k].sprite), d.push(e[k].sprite));
            return d
        },
        moveToObject: function(a, c, d, f) {
            void 0 === d && (d = 60);
            void 0 === f && (f = 0);
            var e = b.Point.angle(c, a);
            0 < f && (d = this.distanceBetween(a, c) / (f / 1E3));
            a.body.velocity.setToPolar(e, d);
            return e
        },
        moveToPointer: function(a, c, b, d) {
            void 0 === c && (c = 60);
            b = b || this.game.input.activePointer;
            void 0 === d && (d = 0);
            var e = this.angleToPointer(a, b);
            0 < d && (c = this.distanceToPointer(a, b) / (d / 1E3));
            a.body.velocity.setToPolar(e, c);
            return e
        },
        moveToXY: function(a, c, b, d, f) {
            void 0 === d && (d = 60);
            void 0 === f && (f = 0);
            var e = Math.atan2(b - a.y, c - a.x);
            0 < f && (d = this.distanceToXY(a, c, b) / (f / 1E3));
            a.body.velocity.setToPolar(e, d);
            return e
        },
        velocityFromAngle: function(a, c, d) {
            void 0 === c && (c = 60);
            d = d || new b.Point;
            return d.setToPolar(a, c, !0)
        },
        velocityFromRotation: function(a, c, d) {
            void 0 === c && (c = 60);
            d = d || new b.Point;
            return d.setToPolar(a, c)
        },
        accelerationFromRotation: function(a, c, d) {
            void 0 === c && (c = 60);
            d = d || new b.Point;
            return d.setToPolar(a,
                c)
        },
        accelerateToObject: function(a, c, b, d, f) {
            void 0 === b && (b = 60);
            void 0 === d && (d = 1E3);
            void 0 === f && (f = 1E3);
            c = this.angleBetween(a, c);
            a.body.acceleration.setToPolar(c, b);
            a.body.maxVelocity.setTo(d, f);
            return c
        },
        accelerateToPointer: function(a, c, b, d, f) {
            void 0 === b && (b = 60);
            void 0 === c && (c = this.game.input.activePointer);
            void 0 === d && (d = 1E3);
            void 0 === f && (f = 1E3);
            c = this.angleToPointer(a, c);
            a.body.acceleration.setToPolar(c, b);
            a.body.maxVelocity.setTo(d, f);
            return c
        },
        accelerateToXY: function(a, c, b, d, f, g) {
            void 0 === d && (d =
                60);
            void 0 === f && (f = 1E3);
            void 0 === g && (g = 1E3);
            c = this.angleToXY(a, c, b);
            a.body.acceleration.setTo(c, d);
            a.body.maxVelocity.setTo(f, g);
            return c
        },
        distanceBetween: function(a, c, b, d) {
            void 0 === b && (b = !1);
            d ? (b = a.centerX - c.centerX, a = a.centerY - c.centerY) : b ? (b = a.world.x - c.world.x, a = a.world.y - c.world.y) : (b = a.x - c.x, a = a.y - c.y);
            return Math.sqrt(b * b + a * a)
        },
        distanceToXY: function(a, c, b, d) {
            void 0 === d && (d = !1);
            c = d ? a.world.x - c : a.x - c;
            a = d ? a.world.y - b : a.y - b;
            return Math.sqrt(c * c + a * a)
        },
        distanceToPointer: function(a, c, b) {
            void 0 ===
                c && (c = this.game.input.activePointer);
            void 0 === b && (b = !1);
            var d = b ? a.world.x - c.worldX : a.x - c.worldX;
            a = b ? a.world.y - c.worldY : a.y - c.worldY;
            return Math.sqrt(d * d + a * a)
        },
        closest: function(a, c, b, d) {
            for (var e = Infinity, f = null, k = 0, g = c.length; k < g; k++) {
                var h = c[k],
                    r = this.distanceBetween(a, h, b, d);
                r < e && (f = h, e = r)
            }
            return f
        },
        farthest: function(a, c, b, d) {
            for (var e = -1, f = null, k = 0, g = c.length; k < g; k++) {
                var h = c[k],
                    r = this.distanceBetween(a, h, b, d);
                r > e && (f = h, e = r)
            }
            return f
        },
        angleBetween: function(a, c, d) {
            void 0 === d && (d = !1);
            return d ? b.Point.angle(c.world,
                a.world) : b.Point.angle(c, a)
        },
        angleBetweenCenters: function(a, c) {
            return Math.atan2(c.centerY - a.centerY, c.centerX - a.centerX)
        },
        angleToXY: function(a, c, b, d) {
            void 0 === d && (d = !1);
            return d ? Math.atan2(b - a.world.y, c - a.world.x) : Math.atan2(b - a.y, c - a.x)
        },
        angleToPointer: function(a, c, b) {
            void 0 === c && (c = this.game.input.activePointer);
            void 0 === b && (b = !1);
            return b ? Math.atan2(c.worldY - a.world.y, c.worldX - a.world.x) : Math.atan2(c.worldY - a.y, c.worldX - a.x)
        },
        worldAngleToPointer: function(a, c) {
            return this.angleToPointer(a, c, !0)
        }
    };
    b.Physics.Arcade.Body = function(a) {
        this.sprite = a;
        this.game = a.game;
        this.type = b.Physics.ARCADE;
        this.enable = !0;
        this.isCircle = !1;
        this.radius = 0;
        this.offset = new b.Point;
        this.position = new b.Point(a.x, a.y);
        this.prev = new b.Point(this.position.x, this.position.y);
        this.allowRotation = !0;
        this.preRotation = this.rotation = a.angle;
        this.width = a.width;
        this.height = a.height;
        this.sourceWidth = a.width;
        this.sourceHeight = a.height;
        a.texture && (this.sourceWidth = a.texture.frame.width, this.sourceHeight = a.texture.frame.height);
        this.halfWidth =
            Math.abs(a.width / 2);
        this.halfHeight = Math.abs(a.height / 2);
        this.center = new b.Point(a.x + this.halfWidth, a.y + this.halfHeight);
        this.velocity = new b.Point;
        this.newVelocity = new b.Point;
        this.deltaMax = new b.Point;
        this.acceleration = new b.Point;
        this.allowDrag = !0;
        this.drag = new b.Point;
        this.allowGravity = !0;
        this.gravity = new b.Point;
        this.bounce = new b.Point;
        this.onOverlap = this.onCollide = this.onWorldBounds = this.worldBounce = null;
        this.maxVelocity = new b.Point(1E4, 1E4);
        this.friction = new b.Point(1, 0);
        this.angularDrag = this.angularAcceleration =
            this.angularVelocity = 0;
        this.maxAngular = 1E3;
        this.mass = 1;
        this.speed = this.angle = 0;
        this.facing = b.NONE;
        this.immovable = !1;
        this.moves = !0;
        this.customSeparateY = this.customSeparateX = !1;
        this.overlapR = this.overlapY = this.overlapX = 0;
        this.collideWorldBounds = this.embedded = !1;
        this.checkCollision = {
            none: !1,
            up: !0,
            down: !0,
            left: !0,
            right: !0
        };
        this.touching = {
            none: !0,
            up: !1,
            down: !1,
            left: !1,
            right: !1
        };
        this.wasTouching = {
            none: !0,
            up: !1,
            down: !1,
            left: !1,
            right: !1
        };
        this.blocked = {
            none: !0,
            up: !1,
            down: !1,
            left: !1,
            right: !1
        };
        this.tilePadding =
            new b.Point;
        this.isMoving = this.syncBounds = this.skipQuadTree = this.dirty = !1;
        this.stopVelocityOnCollide = !0;
        this.moveDuration = this.moveDistance = this.moveTimer = 0;
        this.moveEnd = this.moveTarget = null;
        this.onMoveComplete = new b.Signal;
        this.movementCallbackContext = this.movementCallback = null;
        this._reset = !0;
        this._sx = a.scale.x;
        this._sy = a.scale.y;
        this._dy = this._dx = 0
    };
    b.Physics.Arcade.Body.prototype = {
        updateBounds: function() {
            if (this.syncBounds) {
                var a = this.sprite.getBounds();
                a.ceilAll();
                if (a.width !== this.width || a.height !==
                    this.height) this.width = a.width, this.height = a.height, this._reset = !0
            } else {
                a = Math.abs(this.sprite.scale.x);
                var c = Math.abs(this.sprite.scale.y);
                if (a !== this._sx || c !== this._sy) this.width = this.sourceWidth * a, this.height = this.sourceHeight * c, this._sx = a, this._sy = c, this._reset = !0
            }
            this._reset && (this.halfWidth = Math.floor(this.width / 2), this.halfHeight = Math.floor(this.height / 2), this.updateCenter())
        },
        updateCenter: function() {
            this.center.setTo(this.position.x + this.halfWidth, this.position.y + this.halfHeight)
        },
        preUpdate: function() {
            if (this.enable &&
                !this.game.physics.arcade.isPaused) {
                this.dirty = !0;
                this.wasTouching.none = this.touching.none;
                this.wasTouching.up = this.touching.up;
                this.wasTouching.down = this.touching.down;
                this.wasTouching.left = this.touching.left;
                this.wasTouching.right = this.touching.right;
                this.touching.none = !0;
                this.touching.up = !1;
                this.touching.down = !1;
                this.touching.left = !1;
                this.touching.right = !1;
                this.blocked.none = !0;
                this.blocked.up = !1;
                this.blocked.down = !1;
                this.blocked.left = !1;
                this.blocked.right = !1;
                this.overlapY = this.overlapX = this.overlapR =
                    0;
                this.embedded = !1;
                this.updateBounds();
                this.position.x = this.sprite.world.x - this.sprite.anchor.x * this.sprite.width + this.sprite.scale.x * this.offset.x;
                this.position.x -= 0 > this.sprite.scale.x ? this.width : 0;
                this.position.y = this.sprite.world.y - this.sprite.anchor.y * this.sprite.height + this.sprite.scale.y * this.offset.y;
                this.position.y -= 0 > this.sprite.scale.y ? this.height : 0;
                this.updateCenter();
                this.preRotation = this.rotation = this.sprite.angle;
                if (this._reset || this.sprite.fresh) this.prev.x = this.position.x, this.prev.y =
                    this.position.y;
                if (this.moves) {
                    this.game.physics.arcade.updateMotion(this);
                    this.newVelocity.set(this.velocity.x * this.game.time.physicsElapsed, this.velocity.y * this.game.time.physicsElapsed);
                    this.position.x += this.newVelocity.x;
                    this.position.y += this.newVelocity.y;
                    this.updateCenter();
                    if (this.position.x !== this.prev.x || this.position.y !== this.prev.y) this.angle = this.velocity.atan();
                    this.speed = Math.sqrt(this.velocity.x * this.velocity.x + this.velocity.y * this.velocity.y);
                    this.collideWorldBounds && this.checkWorldBounds() &&
                        this.onWorldBounds && this.onWorldBounds.dispatch(this.sprite, this.blocked.up, this.blocked.down, this.blocked.left, this.blocked.right)
                }
                this._dx = this.deltaX();
                this._dy = this.deltaY();
                this._reset = !1
            }
        },
        updateMovement: function() {
            var a = 0 !== this.overlapX || 0 !== this.overlapY;
            if (0 < this.moveDuration) {
                this.moveTimer += this.game.time.elapsedMS;
                var c = this.moveTimer / this.moveDuration
            } else this.moveTarget.end.set(this.position.x, this.position.y), c = this.moveTarget.length / this.moveDistance;
            if (this.movementCallback) var b =
                this.movementCallback.call(this.movementCallbackContext, this, this.velocity, c);
            return a || 1 <= c || void 0 !== b && !0 !== b ? (this.stopMovement(1 <= c || this.stopVelocityOnCollide && a), !1) : !0
        },
        stopMovement: function(a) {
            this.isMoving && (this.isMoving = !1, a && this.velocity.set(0), this.onMoveComplete.dispatch(this.sprite, 0 !== this.overlapX || 0 !== this.overlapY))
        },
        postUpdate: function() {
            this.enable && this.dirty && (this.isMoving && this.updateMovement(), this.dirty = !1, 0 > this.deltaX() ? this.facing = b.LEFT : 0 < this.deltaX() && (this.facing =
                b.RIGHT), 0 > this.deltaY() ? this.facing = b.UP : 0 < this.deltaY() && (this.facing = b.DOWN), this.moves && (this._dx = this.deltaX(), this._dy = this.deltaY(), 0 !== this.deltaMax.x && 0 !== this._dx && (0 > this._dx && this._dx < -this.deltaMax.x ? this._dx = -this.deltaMax.x : 0 < this._dx && this._dx > this.deltaMax.x && (this._dx = this.deltaMax.x)), 0 !== this.deltaMax.y && 0 !== this._dy && (0 > this._dy && this._dy < -this.deltaMax.y ? this._dy = -this.deltaMax.y : 0 < this._dy && this._dy > this.deltaMax.y && (this._dy = this.deltaMax.y)), this.sprite.position.x += this._dx,
                this.sprite.position.y += this._dy, this._reset = !0), this.updateCenter(), this.allowRotation && (this.sprite.angle += this.deltaZ()), this.prev.x = this.position.x, this.prev.y = this.position.y)
        },
        checkWorldBounds: function() {
            var a = this.position,
                c = this.game.physics.arcade.bounds,
                b = this.game.physics.arcade.checkCollision,
                d = this.worldBounce ? -this.worldBounce.x : -this.bounce.x,
                f = this.worldBounce ? -this.worldBounce.y : -this.bounce.y;
            a.x < c.x && b.left ? (a.x = c.x, this.velocity.x *= d, this.blocked.left = !0, this.blocked.none = !1) :
                this.right > c.right && b.right && (a.x = c.right - this.width, this.velocity.x *= d, this.blocked.right = !0, this.blocked.none = !1);
            a.y < c.y && b.up ? (a.y = c.y, this.velocity.y *= f, this.blocked.up = !0, this.blocked.none = !1) : this.bottom > c.bottom && b.down && (a.y = c.bottom - this.height, this.velocity.y *= f, this.blocked.down = !0, this.blocked.none = !1);
            return !this.blocked.none
        },
        moveFrom: function(a, c, b) {
            void 0 === c && (c = this.speed);
            if (0 === c) return !1;
            if (void 0 === b) {
                var d = this.angle;
                b = this.game.math.radToDeg(d)
            } else d = this.game.math.degToRad(b);
            this.moveTimer = 0;
            this.moveDuration = a;
            0 === b || 180 === b ? this.velocity.set(Math.cos(d) * c, 0) : 90 === b || 270 === b ? this.velocity.set(0, Math.sin(d) * c) : this.velocity.setToPolar(d, c);
            return this.isMoving = !0
        },
        moveTo: function(a, c, d) {
            a = c / (a / 1E3);
            if (0 === a) return !1;
            if (void 0 === d) {
                var e = this.angle;
                d = this.game.math.radToDeg(e)
            } else e = this.game.math.degToRad(d);
            c = Math.abs(c);
            this.moveDuration = 0;
            this.moveDistance = c;
            null === this.moveTarget && (this.moveTarget = new b.Line, this.moveEnd = new b.Point);
            this.moveTarget.fromAngle(this.x,
                this.y, e, c);
            this.moveEnd.set(this.moveTarget.end.x, this.moveTarget.end.y);
            this.moveTarget.setTo(this.x, this.y, this.x, this.y);
            0 === d || 180 === d ? this.velocity.set(Math.cos(e) * a, 0) : 90 === d || 270 === d ? this.velocity.set(0, Math.sin(e) * a) : this.velocity.setToPolar(e, a);
            return this.isMoving = !0
        },
        setSize: function(a, c, b, d) {
            void 0 === b && (b = this.offset.x);
            void 0 === d && (d = this.offset.y);
            this.sourceWidth = a;
            this.sourceHeight = c;
            this.width = this.sourceWidth * this._sx;
            this.height = this.sourceHeight * this._sy;
            this.halfWidth = Math.floor(this.width /
                2);
            this.halfHeight = Math.floor(this.height / 2);
            this.offset.setTo(b, d);
            this.updateCenter();
            this.isCircle = !1;
            this.radius = 0
        },
        setCircle: function(a, c, b) {
            void 0 === c && (c = this.offset.x);
            void 0 === b && (b = this.offset.y);
            0 < a ? (this.isCircle = !0, this.radius = a, this.sourceWidth = 2 * a, this.sourceHeight = 2 * a, this.width = this.sourceWidth * this._sx, this.height = this.sourceHeight * this._sy, this.halfWidth = Math.floor(this.width / 2), this.halfHeight = Math.floor(this.height / 2), this.offset.setTo(c, b), this.updateCenter()) : this.isCircle = !1
        },
        reset: function(a, c) {
            this.stop();
            this.position.x = a - this.sprite.anchor.x * this.sprite.width + this.sprite.scale.x * this.offset.x;
            this.position.x -= 0 > this.sprite.scale.x ? this.width : 0;
            this.position.y = c - this.sprite.anchor.y * this.sprite.height + this.sprite.scale.y * this.offset.y;
            this.position.y -= 0 > this.sprite.scale.y ? this.height : 0;
            this.prev.x = this.position.x;
            this.prev.y = this.position.y;
            this.preRotation = this.rotation = this.sprite.angle;
            this.updateBounds();
            this.updateCenter()
        },
        stop: function() {
            this.velocity.set(0);
            this.acceleration.set(0);
            this.angularAcceleration = this.angularVelocity = this.speed = 0
        },
        getBounds: function(a) {
            a.x = this.x;
            a.y = this.y;
            a.right = this.right;
            a.bottom = this.bottom;
            return a
        },
        hitTest: function(a, c) {
            return this.isCircle ? b.Circle.contains(this, a, c) : b.Rectangle.contains(this, a, c)
        },
        onFloor: function() {
            return this.blocked.down
        },
        onCeiling: function() {
            return this.blocked.up
        },
        onWall: function() {
            return this.blocked.left || this.blocked.right
        },
        deltaAbsX: function() {
            return 0 < this.deltaX() ? this.deltaX() : -this.deltaX()
        },
        deltaAbsY: function() {
            return 0 < this.deltaY() ? this.deltaY() : -this.deltaY()
        },
        deltaX: function() {
            return this.position.x - this.prev.x
        },
        deltaY: function() {
            return this.position.y - this.prev.y
        },
        deltaZ: function() {
            return this.rotation - this.preRotation
        },
        destroy: function() {
            this.sprite.parent && this.sprite.parent instanceof b.Group && this.sprite.parent.removeFromHash(this.sprite);
            this.sprite = this.sprite.body = null
        }
    };
    Object.defineProperty(b.Physics.Arcade.Body.prototype, "left", {
        get: function() {
            return this.position.x
        }
    });
    Object.defineProperty(b.Physics.Arcade.Body.prototype, "right", {
        get: function() {
            return this.position.x + this.width
        }
    });
    Object.defineProperty(b.Physics.Arcade.Body.prototype, "top", {
        get: function() {
            return this.position.y
        }
    });
    Object.defineProperty(b.Physics.Arcade.Body.prototype, "bottom", {
        get: function() {
            return this.position.y + this.height
        }
    });
    Object.defineProperty(b.Physics.Arcade.Body.prototype, "x", {
        get: function() {
            return this.position.x
        },
        set: function(a) {
            this.position.x = a
        }
    });
    Object.defineProperty(b.Physics.Arcade.Body.prototype,
        "y", {
            get: function() {
                return this.position.y
            },
            set: function(a) {
                this.position.y = a
            }
        });
    b.Physics.Arcade.Body.render = function(a, c, b, d, f) {
        void 0 === d && (d = !0);
        b = b || "rgba(0,255,0,0.4)";
        a.fillStyle = b;
        a.strokeStyle = b;
        a.lineWidth = f || 1;
        c.isCircle ? (a.beginPath(), a.arc(c.center.x - c.game.camera.x, c.center.y - c.game.camera.y, c.halfWidth, 0, 2 * Math.PI), d ? a.fill() : a.stroke()) : d ? a.fillRect(c.position.x - c.game.camera.x, c.position.y - c.game.camera.y, c.width, c.height) : a.strokeRect(c.position.x - c.game.camera.x, c.position.y - c.game.camera.y,
            c.width, c.height)
    };
    b.Physics.Arcade.Body.renderBodyInfo = function(a, c) {
        a.line("x: " + c.x.toFixed(2), "y: " + c.y.toFixed(2), "width: " + c.width, "height: " + c.height);
        a.line("velocity x: " + c.velocity.x.toFixed(2), "y: " + c.velocity.y.toFixed(2), "deltaX: " + c._dx.toFixed(2), "deltaY: " + c._dy.toFixed(2));
        a.line("acceleration x: " + c.acceleration.x.toFixed(2), "y: " + c.acceleration.y.toFixed(2), "speed: " + c.speed.toFixed(2), "angle: " + c.angle.toFixed(2));
        a.line("gravity x: " + c.gravity.x, "y: " + c.gravity.y, "bounce x: " +
            c.bounce.x.toFixed(2), "y: " + c.bounce.y.toFixed(2));
        a.line("touching left: " + c.touching.left, "right: " + c.touching.right, "up: " + c.touching.up, "down: " + c.touching.down);
        a.line("blocked left: " + c.blocked.left, "right: " + c.blocked.right, "up: " + c.blocked.up, "down: " + c.blocked.down)
    };
    b.Physics.Arcade.Body.prototype.constructor = b.Physics.Arcade.Body;
    b.Physics.Arcade.TilemapCollision = function() {};
    b.Physics.Arcade.TilemapCollision.prototype = {
        TILE_BIAS: 16,
        collideSpriteVsTilemapLayer: function(a, c, b, d, f, g) {
            if (a.body) {
                var e =
                    c.getTiles(a.body.position.x - a.body.tilePadding.x - c.getTileOffsetX(), a.body.position.y - a.body.tilePadding.y - c.getTileOffsetY(), a.body.width + a.body.tilePadding.x, a.body.height + a.body.tilePadding.y, !1, !1);
                if (0 !== e.length)
                    for (var k = 0; k < e.length; k++) d ? d.call(f, a, e[k]) && this.separateTile(k, a.body, e[k], c, g) && (this._total++, b && b.call(f, a, e[k])) : this.separateTile(k, a.body, e[k], c, g) && (this._total++, b && b.call(f, a, e[k]))
            }
        },
        collideGroupVsTilemapLayer: function(a, c, b, d, f, g) {
            if (0 !== a.length)
                for (var e = 0; e < a.children.length; e++) a.children[e].exists &&
                    this.collideSpriteVsTilemapLayer(a.children[e], c, b, d, f, g)
        },
        separateTile: function(a, c, b, d, f) {
            if (!c.enable) return !1;
            a = d.getTileOffsetX();
            var e = d.getTileOffsetY();
            if (!b.intersects(c.position.x - a, c.position.y - e, c.right - a, c.bottom - e)) return !1;
            if (f) return !0;
            if (b.collisionCallback && !b.collisionCallback.call(b.collisionCallbackContext, c.sprite, b) || "undefined" !== typeof b.layer.callbacks && b.layer.callbacks[b.index] && !b.layer.callbacks[b.index].callback.call(b.layer.callbacks[b.index].callbackContext, c.sprite,
                    b) || !(b.faceLeft || b.faceRight || b.faceTop || b.faceBottom)) return !1;
            var k = f = 0,
                l = 0,
                g = 1;
            c.deltaAbsX() > c.deltaAbsY() ? l = -1 : c.deltaAbsX() < c.deltaAbsY() && (g = -1);
            0 !== c.deltaX() && 0 !== c.deltaY() && (b.faceLeft || b.faceRight) && (b.faceTop || b.faceBottom) && (l = Math.min(Math.abs(c.position.x - a - b.right), Math.abs(c.right - a - b.left)), g = Math.min(Math.abs(c.position.y - e - b.bottom), Math.abs(c.bottom - e - b.top)));
            if (l < g) {
                if (b.faceLeft || b.faceRight)
                    if (f = this.tileCheckX(c, b, d), 0 !== f && !b.intersects(c.position.x - a, c.position.y - e, c.right -
                            a, c.bottom - e)) return !0;
                if (b.faceTop || b.faceBottom) k = this.tileCheckY(c, b, d)
            } else {
                if (b.faceTop || b.faceBottom)
                    if (k = this.tileCheckY(c, b, d), 0 !== k && !b.intersects(c.position.x - a, c.position.y - e, c.right - a, c.bottom - e)) return !0;
                if (b.faceLeft || b.faceRight) f = this.tileCheckX(c, b, d)
            }
            return 0 !== f || 0 !== k
        },
        tileCheckX: function(a, c, b) {
            var d = 0;
            b = b.getTileOffsetX();
            0 > a.deltaX() && !a.blocked.left && c.collideRight && a.checkCollision.left ? c.faceRight && a.x - b < c.right && (d = a.x - b - c.right, d < -this.TILE_BIAS && (d = 0)) : 0 < a.deltaX() && !a.blocked.right &&
                c.collideLeft && a.checkCollision.right && c.faceLeft && a.right - b > c.left && (d = a.right - b - c.left, d > this.TILE_BIAS && (d = 0));
            0 !== d && (a.customSeparateX ? a.overlapX = d : this.processTileSeparationX(a, d));
            return d
        },
        tileCheckY: function(a, c, b) {
            var d = 0;
            b = b.getTileOffsetY();
            0 > a.deltaY() && !a.blocked.up && c.collideDown && a.checkCollision.up ? c.faceBottom && a.y - b < c.bottom && (d = a.y - b - c.bottom, d < -this.TILE_BIAS && (d = 0)) : 0 < a.deltaY() && !a.blocked.down && c.collideUp && a.checkCollision.down && c.faceTop && a.bottom - b > c.top && (d = a.bottom - b -
                c.top, d > this.TILE_BIAS && (d = 0));
            0 !== d && (a.customSeparateY ? a.overlapY = d : this.processTileSeparationY(a, d));
            return d
        },
        processTileSeparationX: function(a, c) {
            0 > c ? (a.blocked.left = !0, a.blocked.none = !1) : 0 < c && (a.blocked.right = !0, a.blocked.none = !1);
            a.position.x -= c;
            a.velocity.x = 0 === a.bounce.x ? 0 : -a.velocity.x * a.bounce.x
        },
        processTileSeparationY: function(a, c) {
            0 > c ? (a.blocked.up = !0, a.blocked.none = !1) : 0 < c && (a.blocked.down = !0, a.blocked.none = !1);
            a.position.y -= c;
            a.velocity.y = 0 === a.bounce.y ? 0 : -a.velocity.y * a.bounce.y
        }
    };
    b.Utils.mixinPrototype(b.Physics.Arcade.prototype, b.Physics.Arcade.TilemapCollision.prototype);
    p2.Body.prototype.parent = null;
    p2.Spring.prototype.parent = null;
    b.Physics.P2 = function(a, c) {
        this.game = a;
        void 0 === c ? c = {
            gravity: [0, 0],
            broadphase: new p2.SAPBroadphase
        } : (c.hasOwnProperty("gravity") || (c.gravity = [0, 0]), c.hasOwnProperty("broadphase") || (c.broadphase = new p2.SAPBroadphase));
        this.config = c;
        this.world = new p2.World(this.config);
        this.frameRate = 1 / 60;
        this.paused = this.useElapsedTime = !1;
        this.materials = [];
        this.gravity =
            new b.Physics.P2.InversePointProxy(this, this.world.gravity);
        this.walls = {
            left: null,
            right: null,
            top: null,
            bottom: null
        };
        this.onBodyAdded = new b.Signal;
        this.onBodyRemoved = new b.Signal;
        this.onSpringAdded = new b.Signal;
        this.onSpringRemoved = new b.Signal;
        this.onConstraintAdded = new b.Signal;
        this.onConstraintRemoved = new b.Signal;
        this.onContactMaterialAdded = new b.Signal;
        this.onContactMaterialRemoved = new b.Signal;
        this.callbackContext = this.postBroadphaseCallback = null;
        this.onBeginContact = new b.Signal;
        this.onEndContact =
            new b.Signal;
        c.hasOwnProperty("mpx") && c.hasOwnProperty("pxm") && c.hasOwnProperty("mpxi") && c.hasOwnProperty("pxmi") && (this.mpx = c.mpx, this.mpxi = c.mpxi, this.pxm = c.pxm, this.pxmi = c.pxmi);
        this.world.on("beginContact", this.beginContactHandler, this);
        this.world.on("endContact", this.endContactHandler, this);
        this.collisionGroups = [];
        this.nothingCollisionGroup = new b.Physics.P2.CollisionGroup(1);
        this.boundsCollisionGroup = new b.Physics.P2.CollisionGroup(2);
        this.everythingCollisionGroup = new b.Physics.P2.CollisionGroup(2147483648);
        this.boundsCollidesWith = [];
        this._toRemove = [];
        this._collisionGroupID = 2;
        this._boundsBottom = this._boundsTop = this._boundsRight = this._boundsLeft = !0;
        this._boundsOwnGroup = !1;
        this.setBoundsToWorld(!0, !0, !0, !0, !1)
    };
    b.Physics.P2.prototype = {
        removeBodyNextStep: function(a) {
            this._toRemove.push(a)
        },
        preUpdate: function() {
            for (var a = this._toRemove.length; a--;) this.removeBody(this._toRemove[a]);
            this._toRemove.length = 0
        },
        enable: function(a, c, d) {
            void 0 === c && (c = !1);
            void 0 === d && (d = !0);
            var e;
            if (Array.isArray(a))
                for (e = a.length; e--;) a[e] instanceof
            b.Group ? this.enable(a[e].children, c, d) : (this.enableBody(a[e], c), d && a[e].hasOwnProperty("children") && 0 < a[e].children.length && this.enable(a[e], c, !0));
            else a instanceof b.Group ? this.enable(a.children, c, d) : (this.enableBody(a, c), d && a.hasOwnProperty("children") && 0 < a.children.length && this.enable(a.children, c, !0))
        },
        enableBody: function(a, c) {
            a.hasOwnProperty("body") && null === a.body && (a.body = new b.Physics.P2.Body(this.game, a, a.x, a.y, 1), a.body.debug = c, "undefined" !== typeof a.anchor && a.anchor.set(.5))
        },
        setImpactEvents: function(a) {
            if (a) this.world.on("impact",
                this.impactHandler, this);
            else this.world.off("impact", this.impactHandler, this)
        },
        setPostBroadphaseCallback: function(a, c) {
            this.postBroadphaseCallback = a;
            this.callbackContext = c;
            if (null !== a) this.world.on("postBroadphase", this.postBroadphaseHandler, this);
            else this.world.off("postBroadphase", this.postBroadphaseHandler, this)
        },
        postBroadphaseHandler: function(a) {
            if (this.postBroadphaseCallback && 0 !== a.pairs.length)
                for (var c = a.pairs.length - 2; 0 <= c; c -= 2) a.pairs[c].parent && a.pairs[c + 1].parent && !this.postBroadphaseCallback.call(this.callbackContext,
                    a.pairs[c].parent, a.pairs[c + 1].parent) && a.pairs.splice(c, 2)
        },
        impactHandler: function(a) {
            if (a.bodyA.parent && a.bodyB.parent) {
                var c = a.bodyA.parent,
                    b = a.bodyB.parent;
                c._bodyCallbacks[a.bodyB.id] && c._bodyCallbacks[a.bodyB.id].call(c._bodyCallbackContext[a.bodyB.id], c, b, a.shapeA, a.shapeB);
                b._bodyCallbacks[a.bodyA.id] && b._bodyCallbacks[a.bodyA.id].call(b._bodyCallbackContext[a.bodyA.id], b, c, a.shapeB, a.shapeA);
                c._groupCallbacks[a.shapeB.collisionGroup] && c._groupCallbacks[a.shapeB.collisionGroup].call(c._groupCallbackContext[a.shapeB.collisionGroup],
                    c, b, a.shapeA, a.shapeB);
                b._groupCallbacks[a.shapeA.collisionGroup] && b._groupCallbacks[a.shapeA.collisionGroup].call(b._groupCallbackContext[a.shapeA.collisionGroup], b, c, a.shapeB, a.shapeA)
            }
        },
        beginContactHandler: function(a) {
            a.bodyA && a.bodyB && (this.onBeginContact.dispatch(a.bodyA, a.bodyB, a.shapeA, a.shapeB, a.contactEquations), a.bodyA.parent && a.bodyA.parent.onBeginContact.dispatch(a.bodyB.parent, a.bodyB, a.shapeA, a.shapeB, a.contactEquations), a.bodyB.parent && a.bodyB.parent.onBeginContact.dispatch(a.bodyA.parent,
                a.bodyA, a.shapeB, a.shapeA, a.contactEquations))
        },
        endContactHandler: function(a) {
            a.bodyA && a.bodyB && (this.onEndContact.dispatch(a.bodyA, a.bodyB, a.shapeA, a.shapeB), a.bodyA.parent && a.bodyA.parent.onEndContact.dispatch(a.bodyB.parent, a.bodyB, a.shapeA, a.shapeB), a.bodyB.parent && a.bodyB.parent.onEndContact.dispatch(a.bodyA.parent, a.bodyA, a.shapeB, a.shapeA))
        },
        setBoundsToWorld: function(a, c, b, d, f) {
            this.setBounds(this.game.world.bounds.x, this.game.world.bounds.y, this.game.world.bounds.width, this.game.world.bounds.height,
                a, c, b, d, f)
        },
        setWorldMaterial: function(a, c, b, d, f) {
            void 0 === c && (c = !0);
            void 0 === b && (b = !0);
            void 0 === d && (d = !0);
            void 0 === f && (f = !0);
            c && this.walls.left && (this.walls.left.shapes[0].material = a);
            b && this.walls.right && (this.walls.right.shapes[0].material = a);
            d && this.walls.top && (this.walls.top.shapes[0].material = a);
            f && this.walls.bottom && (this.walls.bottom.shapes[0].material = a)
        },
        updateBoundsCollisionGroup: function(a) {
            void 0 === a && (a = !0);
            var c = a ? this.boundsCollisionGroup.mask : this.everythingCollisionGroup.mask;
            this.walls.left &&
                (this.walls.left.shapes[0].collisionGroup = c);
            this.walls.right && (this.walls.right.shapes[0].collisionGroup = c);
            this.walls.top && (this.walls.top.shapes[0].collisionGroup = c);
            this.walls.bottom && (this.walls.bottom.shapes[0].collisionGroup = c);
            this._boundsOwnGroup = a
        },
        setBounds: function(a, c, b, d, f, g, h, n, p) {
            void 0 === f && (f = this._boundsLeft);
            void 0 === g && (g = this._boundsRight);
            void 0 === h && (h = this._boundsTop);
            void 0 === n && (n = this._boundsBottom);
            void 0 === p && (p = this._boundsOwnGroup);
            this.setupWall(f, "left", a, c, 1.5707963267948966,
                p);
            this.setupWall(g, "right", a + b, c, -1.5707963267948966, p);
            this.setupWall(h, "top", a, c, -3.141592653589793, p);
            this.setupWall(n, "bottom", a, c + d, 0, p);
            this._boundsLeft = f;
            this._boundsRight = g;
            this._boundsTop = h;
            this._boundsBottom = n;
            this._boundsOwnGroup = p
        },
        setupWall: function(a, c, b, d, f, g) {
            a ? (this.walls[c] ? this.walls[c].position = [this.pxmi(b), this.pxmi(d)] : (this.walls[c] = new p2.Body({
                    mass: 0,
                    position: [this.pxmi(b), this.pxmi(d)],
                    angle: f
                }), this.walls[c].addShape(new p2.Plane), this.world.addBody(this.walls[c])), g &&
                (this.walls[c].shapes[0].collisionGroup = this.boundsCollisionGroup.mask)) : this.walls[c] && (this.world.removeBody(this.walls[c]), this.walls[c] = null)
        },
        pause: function() {
            this.paused = !0
        },
        resume: function() {
            this.paused = !1
        },
        update: function() {
            this.paused || (this.useElapsedTime ? this.world.step(this.game.time.physicsElapsed) : this.world.step(this.frameRate))
        },
        reset: function() {
            this.world.on("beginContact", this.beginContactHandler, this);
            this.world.on("endContact", this.endContactHandler, this);
            this.nothingCollisionGroup =
                new b.Physics.P2.CollisionGroup(1);
            this.boundsCollisionGroup = new b.Physics.P2.CollisionGroup(2);
            this.everythingCollisionGroup = new b.Physics.P2.CollisionGroup(2147483648);
            this._collisionGroupID = 2;
            this.setBoundsToWorld(!0, !0, !0, !0, !1)
        },
        clear: function() {
            this.world.time = 0;
            this.world.fixedStepTime = 0;
            this.world.solver && this.world.solver.equations.length && this.world.solver.removeAllEquations();
            for (var a = this.world.constraints, c = a.length - 1; 0 <= c; c--) this.world.removeConstraint(a[c]);
            a = this.world.bodies;
            for (c =
                a.length - 1; 0 <= c; c--) this.world.removeBody(a[c]);
            a = this.world.springs;
            for (c = a.length - 1; 0 <= c; c--) this.world.removeSpring(a[c]);
            a = this.world.contactMaterials;
            for (c = a.length - 1; 0 <= c; c--) this.world.removeContactMaterial(a[c]);
            this.world.off("beginContact", this.beginContactHandler, this);
            this.world.off("endContact", this.endContactHandler, this);
            this.impactCallback = this.callbackContext = this.postBroadphaseCallback = null;
            this.collisionGroups = [];
            this._toRemove = [];
            this.boundsCollidesWith = [];
            this.walls = {
                left: null,
                right: null,
                top: null,
                bottom: null
            }
        },
        destroy: function() {
            this.clear();
            this.game = null
        },
        addBody: function(a) {
            if (a.data.world) return !1;
            this.world.addBody(a.data);
            this.onBodyAdded.dispatch(a);
            return !0
        },
        removeBody: function(a) {
            a.data.world === this.world && (this.world.removeBody(a.data), this.onBodyRemoved.dispatch(a));
            return a
        },
        addSpring: function(a) {
            a instanceof b.Physics.P2.Spring || a instanceof b.Physics.P2.RotationalSpring ? this.world.addSpring(a.data) : this.world.addSpring(a);
            this.onSpringAdded.dispatch(a);
            return a
        },
        removeSpring: function(a) {
            a instanceof b.Physics.P2.Spring || a instanceof b.Physics.P2.RotationalSpring ? this.world.removeSpring(a.data) : this.world.removeSpring(a);
            this.onSpringRemoved.dispatch(a);
            return a
        },
        createDistanceConstraint: function(a, c, d, f, l, g) {
            a = this.getBody(a);
            c = this.getBody(c);
            if (a && c) return this.addConstraint(new b.Physics.P2.DistanceConstraint(this, a, c, d, f, l, g));
            console.warn("Cannot create Constraint, invalid body objects given")
        },
        createGearConstraint: function(a, c, d, f) {
            a = this.getBody(a);
            c = this.getBody(c);
            if (a && c) return this.addConstraint(new b.Physics.P2.GearConstraint(this, a, c, d, f));
            console.warn("Cannot create Constraint, invalid body objects given")
        },
        createRevoluteConstraint: function(a, c, d, f, l, g) {
            a = this.getBody(a);
            d = this.getBody(d);
            if (a && d) return this.addConstraint(new b.Physics.P2.RevoluteConstraint(this, a, c, d, f, l, g));
            console.warn("Cannot create Constraint, invalid body objects given")
        },
        createLockConstraint: function(a, c, d, f, l) {
            a = this.getBody(a);
            c = this.getBody(c);
            if (a && c) return this.addConstraint(new b.Physics.P2.LockConstraint(this,
                a, c, d, f, l));
            console.warn("Cannot create Constraint, invalid body objects given")
        },
        createPrismaticConstraint: function(a, c, d, f, l, g, h) {
            a = this.getBody(a);
            c = this.getBody(c);
            if (a && c) return this.addConstraint(new b.Physics.P2.PrismaticConstraint(this, a, c, d, f, l, g, h));
            console.warn("Cannot create Constraint, invalid body objects given")
        },
        addConstraint: function(a) {
            this.world.addConstraint(a);
            this.onConstraintAdded.dispatch(a);
            return a
        },
        removeConstraint: function(a) {
            this.world.removeConstraint(a);
            this.onConstraintRemoved.dispatch(a);
            return a
        },
        addContactMaterial: function(a) {
            this.world.addContactMaterial(a);
            this.onContactMaterialAdded.dispatch(a);
            return a
        },
        removeContactMaterial: function(a) {
            this.world.removeContactMaterial(a);
            this.onContactMaterialRemoved.dispatch(a);
            return a
        },
        getContactMaterial: function(a, c) {
            return this.world.getContactMaterial(a, c)
        },
        setMaterial: function(a, c) {
            for (var b = c.length; b--;) c[b].setMaterial(a)
        },
        createMaterial: function(a, c) {
            a = new b.Physics.P2.Material(a || "");
            this.materials.push(a);
            "undefined" !== typeof c &&
                c.setMaterial(a);
            return a
        },
        createContactMaterial: function(a, c, d) {
            void 0 === a && (a = this.createMaterial());
            void 0 === c && (c = this.createMaterial());
            a = new b.Physics.P2.ContactMaterial(a, c, d);
            return this.addContactMaterial(a)
        },
        getBodies: function() {
            for (var a = [], c = this.world.bodies.length; c--;) a.push(this.world.bodies[c].parent);
            return a
        },
        getBody: function(a) {
            return a instanceof p2.Body ? a : a instanceof b.Physics.P2.Body ? a.data : a.body && a.body.type === b.Physics.P2JS ? a.body.data : null
        },
        getSprings: function() {
            for (var a = [], c = this.world.springs.length; c--;) a.push(this.world.springs[c].parent);
            return a
        },
        getConstraints: function() {
            for (var a = [], c = this.world.constraints.length; c--;) a.push(this.world.constraints[c]);
            return a
        },
        hitTest: function(a, c, d, f) {
            void 0 === c && (c = this.world.bodies);
            void 0 === d && (d = 5);
            void 0 === f && (f = !1);
            a = [this.pxmi(a.x), this.pxmi(a.y)];
            for (var e = [], k = c.length; k--;) c[k] instanceof b.Physics.P2.Body && (!f || c[k].data.type !== p2.Body.STATIC) ? e.push(c[k].data) : c[k] instanceof p2.Body && c[k].parent && (!f || c[k].type !==
                p2.Body.STATIC) ? e.push(c[k]) : c[k] instanceof b.Sprite && c[k].hasOwnProperty("body") && (!f || c[k].body.data.type !== p2.Body.STATIC) && e.push(c[k].body.data);
            return this.world.hitTest(a, e, d)
        },
        toJSON: function() {
            return this.world.toJSON()
        },
        createCollisionGroup: function(a) {
            var c = Math.pow(2, this._collisionGroupID);
            this.walls.left && (this.walls.left.shapes[0].collisionMask |= c);
            this.walls.right && (this.walls.right.shapes[0].collisionMask |= c);
            this.walls.top && (this.walls.top.shapes[0].collisionMask |= c);
            this.walls.bottom &&
                (this.walls.bottom.shapes[0].collisionMask |= c);
            this._collisionGroupID++;
            c = new b.Physics.P2.CollisionGroup(c);
            this.collisionGroups.push(c);
            a && this.setCollisionGroup(a, c);
            return c
        },
        setCollisionGroup: function(a, c) {
            if (a instanceof b.Group)
                for (var d = 0; d < a.total; d++) a.children[d].body && a.children[d].body.type === b.Physics.P2JS && a.children[d].body.setCollisionGroup(c);
            else a.body.setCollisionGroup(c)
        },
        createSpring: function(a, c, d, f, l, g, h, n, p) {
            a = this.getBody(a);
            c = this.getBody(c);
            if (a && c) return this.addSpring(new b.Physics.P2.Spring(this,
                a, c, d, f, l, g, h, n, p));
            console.warn("Cannot create Spring, invalid body objects given")
        },
        createRotationalSpring: function(a, c, d, f, l) {
            a = this.getBody(a);
            c = this.getBody(c);
            if (a && c) return this.addSpring(new b.Physics.P2.RotationalSpring(this, a, c, d, f, l));
            console.warn("Cannot create Rotational Spring, invalid body objects given")
        },
        createBody: function(a, c, d, f, l, g) {
            void 0 === f && (f = !1);
            a = new b.Physics.P2.Body(this.game, null, a, c, d);
            if (g && !a.addPolygon(l, g)) return !1;
            f && this.world.addBody(a.data);
            return a
        },
        createParticle: function(a,
            c, d, f, l, g) {
            void 0 === f && (f = !1);
            a = new b.Physics.P2.Body(this.game, null, a, c, d);
            if (g && !a.addPolygon(l, g)) return !1;
            f && this.world.addBody(a.data);
            return a
        },
        convertCollisionObjects: function(a, c, b) {
            void 0 === b && (b = !0);
            for (var d = [], e = 0, f = a.collision[c].length; e < f; e++) {
                var g = a.collision[c][e],
                    h = g.polyline || g.polygon;
                if (h) var p = this.createBody(g.x, g.y, 0, b, {}, h);
                else g.rectangle && (p = this.createBody(g.x, g.y, 0, b), p.addRectangle(g.width, g.height, g.width / 2, g.height / 2));
                p && d.push(p)
            }
            return d
        },
        clearTilemapLayerBodies: function(a,
            c) {
            c = a.getLayer(c);
            for (var b = a.layers[c].bodies.length; b--;) a.layers[c].bodies[b].destroy();
            a.layers[c].bodies.length = 0
        },
        convertTilemap: function(a, c, b, d) {
            c = a.getLayer(c);
            void 0 === b && (b = !0);
            void 0 === d && (d = !0);
            this.clearTilemapLayerBodies(a, c);
            for (var e, f = 0, k = 0, g = 0, h = a.layers[c].height; g < h; g++)
                for (var r = e = 0, u = a.layers[c].width; r < u; r++) {
                    var t = a.layers[c].data[g][r];
                    if (t && -1 < t.index && t.collides)
                        if (d) {
                            var v = a.getTileRight(c, r, g);
                            0 === e && (f = t.x * t.width, k = t.y * t.height, e = t.width);
                            v && v.collides ? e += t.width :
                                (v = this.createBody(f, k, 0, !1), v.addRectangle(e, t.height, e / 2, t.height / 2, 0), b && this.addBody(v), a.layers[c].bodies.push(v), e = 0)
                        } else v = this.createBody(t.x * t.width, t.y * t.height, 0, !1), v.addRectangle(t.width, t.height, t.width / 2, t.height / 2, 0), b && this.addBody(v), a.layers[c].bodies.push(v)
                }
            return a.layers[c].bodies
        },
        mpx: function(a) {
            return 20 * a
        },
        pxm: function(a) {
            return .05 * a
        },
        mpxi: function(a) {
            return -20 * a
        },
        pxmi: function(a) {
            return -.05 * a
        }
    };
    Object.defineProperty(b.Physics.P2.prototype, "friction", {
        get: function() {
            return this.world.defaultContactMaterial.friction
        },
        set: function(a) {
            this.world.defaultContactMaterial.friction = a
        }
    });
    Object.defineProperty(b.Physics.P2.prototype, "restitution", {
        get: function() {
            return this.world.defaultContactMaterial.restitution
        },
        set: function(a) {
            this.world.defaultContactMaterial.restitution = a
        }
    });
    Object.defineProperty(b.Physics.P2.prototype, "contactMaterial", {
        get: function() {
            return this.world.defaultContactMaterial
        },
        set: function(a) {
            this.world.defaultContactMaterial = a
        }
    });
    Object.defineProperty(b.Physics.P2.prototype, "applySpringForces", {
        get: function() {
            return this.world.applySpringForces
        },
        set: function(a) {
            this.world.applySpringForces = a
        }
    });
    Object.defineProperty(b.Physics.P2.prototype, "applyDamping", {
        get: function() {
            return this.world.applyDamping
        },
        set: function(a) {
            this.world.applyDamping = a
        }
    });
    Object.defineProperty(b.Physics.P2.prototype, "applyGravity", {
        get: function() {
            return this.world.applyGravity
        },
        set: function(a) {
            this.world.applyGravity = a
        }
    });
    Object.defineProperty(b.Physics.P2.prototype, "solveConstraints", {
        get: function() {
            return this.world.solveConstraints
        },
        set: function(a) {
            this.world.solveConstraints = a
        }
    });
    Object.defineProperty(b.Physics.P2.prototype, "time", {
        get: function() {
            return this.world.time
        }
    });
    Object.defineProperty(b.Physics.P2.prototype, "emitImpactEvent", {
        get: function() {
            return this.world.emitImpactEvent
        },
        set: function(a) {
            this.world.emitImpactEvent = a
        }
    });
    Object.defineProperty(b.Physics.P2.prototype, "sleepMode", {
        get: function() {
            return this.world.sleepMode
        },
        set: function(a) {
            this.world.sleepMode = a
        }
    });
    Object.defineProperty(b.Physics.P2.prototype, "total", {
        get: function() {
            return this.world.bodies.length
        }
    });
    b.Physics.P2.FixtureList = function(a) {
        Array.isArray(a) || (a = [a]);
        this.rawList = a;
        this.init();
        this.parse(this.rawList)
    };
    b.Physics.P2.FixtureList.prototype = {
        init: function() {
            this.namedFixtures = {};
            this.groupedFixtures = [];
            this.allFixtures = []
        },
        setCategory: function(a, c) {
            this.getFixtures(c).forEach(function(c) {
                c.collisionGroup = a
            })
        },
        setMask: function(a, c) {
            this.getFixtures(c).forEach(function(c) {
                c.collisionMask = a
            })
        },
        setSensor: function(a, c) {
            this.getFixtures(c).forEach(function(c) {
                c.sensor =
                    a
            })
        },
        setMaterial: function(a, c) {
            this.getFixtures(c).forEach(function(c) {
                c.material = a
            })
        },
        getFixtures: function(a) {
            var c = [];
            if (a) {
                a instanceof Array || (a = [a]);
                var b = this;
                a.forEach(function(a) {
                    b.namedFixtures[a] && c.push(b.namedFixtures[a])
                });
                return this.flatten(c)
            }
            return this.allFixtures
        },
        getFixtureByKey: function(a) {
            return this.namedFixtures[a]
        },
        getGroup: function(a) {
            return this.groupedFixtures[a]
        },
        parse: function() {
            var a;
            var c = this.rawList;
            var b = [];
            for (a in c) {
                var d = c[a];
                isNaN(a - 0) ? this.namedFixtures[a] =
                    this.flatten(d) : (this.groupedFixtures[a] = this.groupedFixtures[a] || [], this.groupedFixtures[a] = this.groupedFixtures[a].concat(d));
                b.push(this.allFixtures = this.flatten(this.groupedFixtures))
            }
        },
        flatten: function(a) {
            var c = [];
            var b = arguments.callee;
            a.forEach(function(a) {
                return Array.prototype.push.apply(c, Array.isArray(a) ? b(a) : [a])
            });
            return c
        }
    };
    b.Physics.P2.PointProxy = function(a, c) {
        this.world = a;
        this.destination = c
    };
    b.Physics.P2.PointProxy.prototype.constructor = b.Physics.P2.PointProxy;
    Object.defineProperty(b.Physics.P2.PointProxy.prototype,
        "x", {
            get: function() {
                return this.world.mpx(this.destination[0])
            },
            set: function(a) {
                this.destination[0] = this.world.pxm(a)
            }
        });
    Object.defineProperty(b.Physics.P2.PointProxy.prototype, "y", {
        get: function() {
            return this.world.mpx(this.destination[1])
        },
        set: function(a) {
            this.destination[1] = this.world.pxm(a)
        }
    });
    Object.defineProperty(b.Physics.P2.PointProxy.prototype, "mx", {
        get: function() {
            return this.destination[0]
        },
        set: function(a) {
            this.destination[0] = a
        }
    });
    Object.defineProperty(b.Physics.P2.PointProxy.prototype, "my", {
        get: function() {
            return this.destination[1]
        },
        set: function(a) {
            this.destination[1] = a
        }
    });
    b.Physics.P2.InversePointProxy = function(a, c) {
        this.world = a;
        this.destination = c
    };
    b.Physics.P2.InversePointProxy.prototype.constructor = b.Physics.P2.InversePointProxy;
    Object.defineProperty(b.Physics.P2.InversePointProxy.prototype, "x", {
        get: function() {
            return this.world.mpxi(this.destination[0])
        },
        set: function(a) {
            this.destination[0] = this.world.pxmi(a)
        }
    });
    Object.defineProperty(b.Physics.P2.InversePointProxy.prototype, "y", {
        get: function() {
            return this.world.mpxi(this.destination[1])
        },
        set: function(a) {
            this.destination[1] = this.world.pxmi(a)
        }
    });
    Object.defineProperty(b.Physics.P2.InversePointProxy.prototype, "mx", {
        get: function() {
            return this.destination[0]
        },
        set: function(a) {
            this.destination[0] = -a
        }
    });
    Object.defineProperty(b.Physics.P2.InversePointProxy.prototype, "my", {
        get: function() {
            return this.destination[1]
        },
        set: function(a) {
            this.destination[1] = -a
        }
    });
    b.Physics.P2.Body = function(a, c, d, f, g) {
        c = c || null;
        d = d || 0;
        f = f || 0;
        void 0 === g && (g = 1);
        this.game = a;
        this.world = a.physics.p2;
        this.sprite = c;
        this.type =
            b.Physics.P2JS;
        this.offset = new b.Point;
        this.data = new p2.Body({
            position: [this.world.pxmi(d), this.world.pxmi(f)],
            mass: g
        });
        this.data.parent = this;
        this.velocity = new b.Physics.P2.InversePointProxy(this.world, this.data.velocity);
        this.force = new b.Physics.P2.InversePointProxy(this.world, this.data.force);
        this.gravity = new b.Point;
        this.onBeginContact = new b.Signal;
        this.onEndContact = new b.Signal;
        this.collidesWith = [];
        this.removeNextStep = !1;
        this.debugBody = null;
        this.dirty = !1;
        this._collideWorldBounds = !0;
        this._bodyCallbacks = {};
        this._bodyCallbackContext = {};
        this._groupCallbacks = {};
        this._groupCallbackContext = {};
        this._reset = !1;
        c && (this.setRectangleFromSprite(c), c.exists && this.game.physics.p2.addBody(this))
    };
    b.Physics.P2.Body.prototype = {
        createBodyCallback: function(a, c, b) {
            var d = -1;
            a.id ? d = a.id : a.body && (d = a.body.id); - 1 < d && (null === c ? (delete this._bodyCallbacks[d], delete this._bodyCallbackContext[d]) : (this._bodyCallbacks[d] = c, this._bodyCallbackContext[d] = b))
        },
        createGroupCallback: function(a, c, b) {
            null === c ? (delete this._groupCallbacks[a.mask],
                delete this._groupCallbackContext[a.mask]) : (this._groupCallbacks[a.mask] = c, this._groupCallbackContext[a.mask] = b)
        },
        getCollisionMask: function() {
            var a = 0;
            this._collideWorldBounds && (a = this.game.physics.p2.boundsCollisionGroup.mask);
            for (var c = 0; c < this.collidesWith.length; c++) a |= this.collidesWith[c].mask;
            return a
        },
        updateCollisionMask: function(a) {
            var c = this.getCollisionMask();
            if (void 0 === a)
                for (a = this.data.shapes.length - 1; 0 <= a; a--) this.data.shapes[a].collisionMask = c;
            else a.collisionMask = c
        },
        setCollisionGroup: function(a,
            c) {
            var b = this.getCollisionMask();
            if (void 0 === c)
                for (c = this.data.shapes.length - 1; 0 <= c; c--) this.data.shapes[c].collisionGroup = a.mask, this.data.shapes[c].collisionMask = b;
            else c.collisionGroup = a.mask, c.collisionMask = b
        },
        clearCollision: function(a, c, b) {
            void 0 === a && (a = !0);
            void 0 === c && (c = !0);
            if (void 0 === b)
                for (b = this.data.shapes.length - 1; 0 <= b; b--) a && (this.data.shapes[b].collisionGroup = null), c && (this.data.shapes[b].collisionMask = null);
            else a && (b.collisionGroup = null), c && (b.collisionMask = null);
            a && (this.collidesWith.length =
                0)
        },
        removeCollisionGroup: function(a, c, b) {
            void 0 === c && (c = !0);
            if (Array.isArray(a))
                for (var d = 0; d < a.length; d++) {
                    var e = this.collidesWith.indexOf(a[d]); - 1 < e && (this.collidesWith.splice(e, 1), c && (delete this._groupCallbacks[a.mask], delete this._groupCallbackContext[a.mask]))
                } else e = this.collidesWith.indexOf(a), -1 < e && (this.collidesWith.splice(e, 1), c && (delete this._groupCallbacks[a.mask], delete this._groupCallbackContext[a.mask]));
            a = this.getCollisionMask();
            if (void 0 === b)
                for (d = this.data.shapes.length - 1; 0 <= d; d--) this.data.shapes[d].collisionMask =
                    a;
            else b.collisionMask = a
        },
        collides: function(a, c, b, d) {
            if (Array.isArray(a))
                for (var e = 0; e < a.length; e++) - 1 === this.collidesWith.indexOf(a[e]) && (this.collidesWith.push(a[e]), c && this.createGroupCallback(a[e], c, b));
            else -1 === this.collidesWith.indexOf(a) && (this.collidesWith.push(a), c && this.createGroupCallback(a, c, b));
            a = this.getCollisionMask();
            if (void 0 === d)
                for (e = this.data.shapes.length - 1; 0 <= e; e--) this.data.shapes[e].collisionMask = a;
            else d.collisionMask = a
        },
        adjustCenterOfMass: function() {
            this.data.adjustCenterOfMass();
            this.shapeChanged()
        },
        getVelocityAtPoint: function(a, c) {
            return this.data.getVelocityAtPoint(a, c)
        },
        applyDamping: function(a) {
            this.data.applyDamping(a)
        },
        applyImpulse: function(a, c, b) {
            this.data.applyImpulse(a, [this.world.pxmi(c), this.world.pxmi(b)])
        },
        applyImpulseLocal: function(a, c, b) {
            this.data.applyImpulseLocal(a, [this.world.pxmi(c), this.world.pxmi(b)])
        },
        applyForce: function(a, c, b) {
            this.data.applyForce(a, [this.world.pxmi(c), this.world.pxmi(b)])
        },
        setZeroForce: function() {
            this.data.setZeroForce()
        },
        setZeroRotation: function() {
            this.data.angularVelocity =
                0
        },
        setZeroVelocity: function() {
            this.data.velocity[0] = 0;
            this.data.velocity[1] = 0
        },
        setZeroDamping: function() {
            this.data.damping = 0;
            this.data.angularDamping = 0
        },
        toLocalFrame: function(a, c) {
            return this.data.toLocalFrame(a, c)
        },
        toWorldFrame: function(a, c) {
            return this.data.toWorldFrame(a, c)
        },
        rotateLeft: function(a) {
            this.data.angularVelocity = this.world.pxm(-a)
        },
        rotateRight: function(a) {
            this.data.angularVelocity = this.world.pxm(a)
        },
        moveForward: function(a) {
            a = this.world.pxmi(-a);
            var c = this.data.angle + Math.PI / 2;
            this.data.velocity[0] =
                a * Math.cos(c);
            this.data.velocity[1] = a * Math.sin(c)
        },
        moveBackward: function(a) {
            a = this.world.pxmi(-a);
            var c = this.data.angle + Math.PI / 2;
            this.data.velocity[0] = -(a * Math.cos(c));
            this.data.velocity[1] = -(a * Math.sin(c))
        },
        thrust: function(a) {
            a = this.world.pxmi(-a);
            var c = this.data.angle + Math.PI / 2;
            this.data.force[0] += a * Math.cos(c);
            this.data.force[1] += a * Math.sin(c)
        },
        thrustLeft: function(a) {
            a = this.world.pxmi(-a);
            var c = this.data.angle;
            this.data.force[0] += a * Math.cos(c);
            this.data.force[1] += a * Math.sin(c)
        },
        thrustRight: function(a) {
            a =
                this.world.pxmi(-a);
            var c = this.data.angle;
            this.data.force[0] -= a * Math.cos(c);
            this.data.force[1] -= a * Math.sin(c)
        },
        reverse: function(a) {
            a = this.world.pxmi(-a);
            var c = this.data.angle + Math.PI / 2;
            this.data.force[0] -= a * Math.cos(c);
            this.data.force[1] -= a * Math.sin(c)
        },
        moveLeft: function(a) {
            this.data.velocity[0] = this.world.pxmi(-a)
        },
        moveRight: function(a) {
            this.data.velocity[0] = this.world.pxmi(a)
        },
        moveUp: function(a) {
            this.data.velocity[1] = this.world.pxmi(-a)
        },
        moveDown: function(a) {
            this.data.velocity[1] = this.world.pxmi(a)
        },
        preUpdate: function() {
            this.dirty = !0;
            this.removeNextStep && (this.removeFromWorld(), this.removeNextStep = !1)
        },
        postUpdate: function() {
            this.sprite.x = this.world.mpxi(this.data.position[0]) + this.offset.x;
            this.sprite.y = this.world.mpxi(this.data.position[1]) + this.offset.y;
            this.fixedRotation || (this.sprite.rotation = this.data.angle);
            this.debugBody && this.debugBody.updateSpriteTransform();
            this.dirty = !1
        },
        reset: function(a, c, b, d) {
            void 0 === b && (b = !1);
            void 0 === d && (d = !1);
            this.setZeroForce();
            this.setZeroVelocity();
            this.setZeroRotation();
            b && this.setZeroDamping();
            d && (this.mass = 1);
            this.x = a;
            this.y = c
        },
        addToWorld: function() {
            if (this.game.physics.p2._toRemove)
                for (var a = 0; a < this.game.physics.p2._toRemove.length; a++) this.game.physics.p2._toRemove[a] === this && this.game.physics.p2._toRemove.splice(a, 1);
            this.data.world !== this.game.physics.p2.world && this.game.physics.p2.addBody(this)
        },
        removeFromWorld: function() {
            this.data.world === this.game.physics.p2.world && this.game.physics.p2.removeBodyNextStep(this)
        },
        destroy: function() {
            this.removeFromWorld();
            this.clearShapes();
            this._bodyCallbacks = {};
            this._bodyCallbackContext = {};
            this._groupCallbacks = {};
            this._groupCallbackContext = {};
            this.debugBody && this.debugBody.destroy(!0, !0);
            this.debugBody = null;
            this.sprite && (this.sprite = this.sprite.body = null)
        },
        clearShapes: function() {
            for (var a = this.data.shapes.length; a--;) this.data.removeShape(this.data.shapes[a]);
            this.shapeChanged()
        },
        addShape: function(a, c, b, d) {
            void 0 === c && (c = 0);
            void 0 === b && (b = 0);
            void 0 === d && (d = 0);
            this.data.addShape(a, [this.world.pxmi(c), this.world.pxmi(b)],
                d);
            this.shapeChanged();
            return a
        },
        addCircle: function(a, c, b, d) {
            a = new p2.Circle({
                radius: this.world.pxm(a)
            });
            return this.addShape(a, c, b, d)
        },
        addRectangle: function(a, c, b, d, f) {
            a = new p2.Box({
                width: this.world.pxm(a),
                height: this.world.pxm(c)
            });
            return this.addShape(a, b, d, f)
        },
        addPlane: function(a, c, b) {
            var d = new p2.Plane;
            return this.addShape(d, a, c, b)
        },
        addParticle: function(a, c, b) {
            var d = new p2.Particle;
            return this.addShape(d, a, c, b)
        },
        addLine: function(a, c, b, d) {
            a = new p2.Line({
                length: this.world.pxm(a)
            });
            return this.addShape(a,
                c, b, d)
        },
        addCapsule: function(a, c, b, d, f) {
            a = new p2.Capsule({
                length: this.world.pxm(a),
                radius: this.world.pxm(c)
            });
            return this.addShape(a, b, d, f)
        },
        addPolygon: function(a, c) {
            a = a || {};
            Array.isArray(c) || (c = Array.prototype.slice.call(arguments, 1));
            var b = [];
            if (1 === c.length && Array.isArray(c[0])) b = c[0].slice(0);
            else if (Array.isArray(c[0])) b = c.slice();
            else if ("number" === typeof c[0])
                for (var d = 0, f = c.length; d < f; d += 2) b.push([c[d], c[d + 1]]);
            d = b.length - 1;
            b[d][0] === b[0][0] && b[d][1] === b[0][1] && b.pop();
            for (d = 0; d < b.length; d++) b[d][0] =
                this.world.pxmi(b[d][0]), b[d][1] = this.world.pxmi(b[d][1]);
            b = this.data.fromPolygon(b, a);
            this.shapeChanged();
            return b
        },
        removeShape: function(a) {
            a = this.data.removeShape(a);
            this.shapeChanged();
            return a
        },
        setCircle: function(a, c, b, d) {
            this.clearShapes();
            return this.addCircle(a, c, b, d)
        },
        setRectangle: function(a, c, b, d, f) {
            void 0 === a && (a = 16);
            void 0 === c && (c = 16);
            this.clearShapes();
            return this.addRectangle(a, c, b, d, f)
        },
        setRectangleFromSprite: function(a) {
            void 0 === a && (a = this.sprite);
            this.clearShapes();
            return this.addRectangle(a.width,
                a.height, 0, 0, a.rotation)
        },
        setMaterial: function(a, c) {
            if (void 0 === c)
                for (c = this.data.shapes.length - 1; 0 <= c; c--) this.data.shapes[c].material = a;
            else c.material = a
        },
        shapeChanged: function() {
            this.debugBody && this.debugBody.draw()
        },
        addPhaserPolygon: function(a, c) {
            a = this.game.cache.getPhysicsData(a, c);
            c = [];
            for (var b = 0; b < a.length; b++) {
                var d = a[b],
                    f = this.addFixture(d);
                c[d.filter.group] = c[d.filter.group] || [];
                c[d.filter.group] = c[d.filter.group].concat(f);
                d.fixtureKey && (c[d.fixtureKey] = f)
            }
            this.data.aabbNeedsUpdate = !0;
            this.shapeChanged();
            return c
        },
        addFixture: function(a) {
            var c = [];
            if (a.circle) {
                var b = new p2.Circle({
                    radius: this.world.pxm(a.circle.radius)
                });
                b.collisionGroup = a.filter.categoryBits;
                b.collisionMask = a.filter.maskBits;
                b.sensor = a.isSensor;
                var d = p2.vec2.create();
                d[0] = this.world.pxmi(a.circle.position[0] - this.sprite.width / 2);
                d[1] = this.world.pxmi(a.circle.position[1] - this.sprite.height / 2);
                this.data.addShape(b, d);
                c.push(b)
            } else {
                d = a.polygons;
                for (var f = p2.vec2.create(), g = 0; g < d.length; g++) {
                    b = d[g];
                    for (var h = [], n =
                            0; n < b.length; n += 2) h.push([this.world.pxmi(b[n]), this.world.pxmi(b[n + 1])]);
                    b = new p2.Convex({
                        vertices: h
                    });
                    for (h = 0; h !== b.vertices.length; h++) n = b.vertices[h], p2.vec2.sub(n, n, b.centerOfMass);
                    p2.vec2.scale(f, b.centerOfMass, 1);
                    f[0] -= this.world.pxmi(this.sprite.width / 2);
                    f[1] -= this.world.pxmi(this.sprite.height / 2);
                    b.updateTriangles();
                    b.updateCenterOfMass();
                    b.updateBoundingRadius();
                    b.collisionGroup = a.filter.categoryBits;
                    b.collisionMask = a.filter.maskBits;
                    b.sensor = a.isSensor;
                    this.data.addShape(b, f);
                    c.push(b)
                }
            }
            return c
        },
        loadPolygon: function(a, c, b) {
            a = null === a ? c : this.game.cache.getPhysicsData(a, c);
            "number" !== typeof b && (b = 1);
            c = p2.vec2.create();
            for (var d = 0; d < a.length; d++) {
                for (var e = [], f = 0; f < a[d].shape.length; f += 2) e.push([this.world.pxmi(a[d].shape[f] * b), this.world.pxmi(a[d].shape[f + 1] * b)]);
                e = new p2.Convex({
                    vertices: e
                });
                for (f = 0; f !== e.vertices.length; f++) {
                    var g = e.vertices[f];
                    p2.vec2.sub(g, g, e.centerOfMass)
                }
                p2.vec2.scale(c, e.centerOfMass, 1);
                c[0] -= this.world.pxmi(this.sprite.width / 2);
                c[1] -= this.world.pxmi(this.sprite.height /
                    2);
                e.updateTriangles();
                e.updateCenterOfMass();
                e.updateBoundingRadius();
                this.data.addShape(e, c)
            }
            this.data.aabbNeedsUpdate = !0;
            this.shapeChanged();
            return !0
        }
    };
    b.Physics.P2.Body.prototype.constructor = b.Physics.P2.Body;
    b.Physics.P2.Body.DYNAMIC = 1;
    b.Physics.P2.Body.STATIC = 2;
    b.Physics.P2.Body.KINEMATIC = 4;
    Object.defineProperty(b.Physics.P2.Body.prototype, "static", {
        get: function() {
            return this.data.type === b.Physics.P2.Body.STATIC
        },
        set: function(a) {
            a && this.data.type !== b.Physics.P2.Body.STATIC ? (this.data.type = b.Physics.P2.Body.STATIC,
                this.mass = 0) : a || this.data.type !== b.Physics.P2.Body.STATIC || (this.data.type = b.Physics.P2.Body.DYNAMIC, this.mass = 1)
        }
    });
    Object.defineProperty(b.Physics.P2.Body.prototype, "dynamic", {
        get: function() {
            return this.data.type === b.Physics.P2.Body.DYNAMIC
        },
        set: function(a) {
            a && this.data.type !== b.Physics.P2.Body.DYNAMIC ? (this.data.type = b.Physics.P2.Body.DYNAMIC, this.mass = 1) : a || this.data.type !== b.Physics.P2.Body.DYNAMIC || (this.data.type = b.Physics.P2.Body.STATIC, this.mass = 0)
        }
    });
    Object.defineProperty(b.Physics.P2.Body.prototype,
        "kinematic", {
            get: function() {
                return this.data.type === b.Physics.P2.Body.KINEMATIC
            },
            set: function(a) {
                a && this.data.type !== b.Physics.P2.Body.KINEMATIC ? (this.data.type = b.Physics.P2.Body.KINEMATIC, this.mass = 4) : a || this.data.type !== b.Physics.P2.Body.KINEMATIC || (this.data.type = b.Physics.P2.Body.STATIC, this.mass = 0)
            }
        });
    Object.defineProperty(b.Physics.P2.Body.prototype, "allowSleep", {
        get: function() {
            return this.data.allowSleep
        },
        set: function(a) {
            a !== this.data.allowSleep && (this.data.allowSleep = a)
        }
    });
    Object.defineProperty(b.Physics.P2.Body.prototype,
        "angle", {
            get: function() {
                return b.Math.wrapAngle(b.Math.radToDeg(this.data.angle))
            },
            set: function(a) {
                this.data.angle = b.Math.degToRad(b.Math.wrapAngle(a))
            }
        });
    Object.defineProperty(b.Physics.P2.Body.prototype, "angularDamping", {
        get: function() {
            return this.data.angularDamping
        },
        set: function(a) {
            this.data.angularDamping = a
        }
    });
    Object.defineProperty(b.Physics.P2.Body.prototype, "angularForce", {
        get: function() {
            return this.data.angularForce
        },
        set: function(a) {
            this.data.angularForce = a
        }
    });
    Object.defineProperty(b.Physics.P2.Body.prototype,
        "angularVelocity", {
            get: function() {
                return this.data.angularVelocity
            },
            set: function(a) {
                this.data.angularVelocity = a
            }
        });
    Object.defineProperty(b.Physics.P2.Body.prototype, "damping", {
        get: function() {
            return this.data.damping
        },
        set: function(a) {
            this.data.damping = a
        }
    });
    Object.defineProperty(b.Physics.P2.Body.prototype, "fixedRotation", {
        get: function() {
            return this.data.fixedRotation
        },
        set: function(a) {
            a !== this.data.fixedRotation && (this.data.fixedRotation = a)
        }
    });
    Object.defineProperty(b.Physics.P2.Body.prototype, "inertia", {
        get: function() {
            return this.data.inertia
        },
        set: function(a) {
            this.data.inertia = a
        }
    });
    Object.defineProperty(b.Physics.P2.Body.prototype, "mass", {
        get: function() {
            return this.data.mass
        },
        set: function(a) {
            a !== this.data.mass && (this.data.mass = a, this.data.updateMassProperties())
        }
    });
    Object.defineProperty(b.Physics.P2.Body.prototype, "motionState", {
        get: function() {
            return this.data.type
        },
        set: function(a) {
            a !== this.data.type && (this.data.type = a)
        }
    });
    Object.defineProperty(b.Physics.P2.Body.prototype, "rotation", {
        get: function() {
            return this.data.angle
        },
        set: function(a) {
            this.data.angle = a
        }
    });
    Object.defineProperty(b.Physics.P2.Body.prototype, "sleepSpeedLimit", {
        get: function() {
            return this.data.sleepSpeedLimit
        },
        set: function(a) {
            this.data.sleepSpeedLimit = a
        }
    });
    Object.defineProperty(b.Physics.P2.Body.prototype, "x", {
        get: function() {
            return this.world.mpxi(this.data.position[0])
        },
        set: function(a) {
            this.data.position[0] = this.world.pxmi(a)
        }
    });
    Object.defineProperty(b.Physics.P2.Body.prototype, "y", {
        get: function() {
            return this.world.mpxi(this.data.position[1])
        },
        set: function(a) {
            this.data.position[1] =
                this.world.pxmi(a)
        }
    });
    Object.defineProperty(b.Physics.P2.Body.prototype, "id", {
        get: function() {
            return this.data.id
        }
    });
    Object.defineProperty(b.Physics.P2.Body.prototype, "debug", {
        get: function() {
            return null !== this.debugBody
        },
        set: function(a) {
            a && !this.debugBody ? this.debugBody = new b.Physics.P2.BodyDebug(this.game, this.data) : !a && this.debugBody && (this.debugBody.destroy(), this.debugBody = null)
        }
    });
    Object.defineProperty(b.Physics.P2.Body.prototype, "collideWorldBounds", {
        get: function() {
            return this._collideWorldBounds
        },
        set: function(a) {
            a && !this._collideWorldBounds ? (this._collideWorldBounds = !0, this.updateCollisionMask()) : !a && this._collideWorldBounds && (this._collideWorldBounds = !1, this.updateCollisionMask())
        }
    });
    b.Physics.P2.BodyDebug = function(a, c, d) {
        b.Group.call(this, a);
        var e = {
            pixelsPerLengthUnit: a.physics.p2.mpx(1),
            debugPolygons: !1,
            lineWidth: 1,
            alpha: .5
        };
        this.settings = Object.assign(e, d);
        this.ppu = this.settings.pixelsPerLengthUnit;
        this.ppu *= -1;
        this.body = c;
        this.canvas = new b.Graphics(a);
        this.canvas.alpha = this.settings.alpha;
        this.add(this.canvas);
        this.draw();
        this.updateSpriteTransform()
    };
    b.Physics.P2.BodyDebug.prototype = Object.create(b.Group.prototype);
    b.Physics.P2.BodyDebug.prototype.constructor = b.Physics.P2.BodyDebug;
    Object.assign(b.Physics.P2.BodyDebug.prototype, {
        updateSpriteTransform: function() {
            this.position.x = this.body.position[0] * this.ppu;
            this.position.y = this.body.position[1] * this.ppu;
            this.rotation = this.body.angle
        },
        draw: function() {
            var a, c, b;
            var d = this.body;
            var f = this.canvas;
            f.clear();
            var g = parseInt(this.randomPastelHex(),
                16);
            var h = this.lineWidth;
            if (d instanceof p2.Body && d.shapes.length) {
                var n = d.shapes.length;
                for (a = 0; a !== n;) {
                    var p = d.shapes[a];
                    var r = p.position || 0;
                    var u = p.angle || 0;
                    if (p instanceof p2.Circle) this.drawCircle(f, r[0] * this.ppu, r[1] * this.ppu, u, p.radius * this.ppu, g, h);
                    else if (p instanceof p2.Capsule) this.drawCapsule(f, r[0] * this.ppu, r[1] * this.ppu, u, p.length * this.ppu, p.radius * this.ppu, 16711680, g, h);
                    else if (p instanceof p2.Plane) this.drawPlane(f, r[0] * this.ppu, -r[1] * this.ppu, g, 16711680, 5 * h, 10 * h, 10 * h, 100 * this.ppu,
                        u);
                    else if (p instanceof p2.Line) this.drawLine(f, p.length * this.ppu, 16711680, h);
                    else if (p instanceof p2.Box) this.drawRectangle(f, r[0] * this.ppu, r[1] * this.ppu, u, p.width * this.ppu, p.height * this.ppu, 16711680, g, h);
                    else if (p instanceof p2.Convex) {
                        var t = [];
                        var v = p2.vec2.create();
                        var w = c = 0;
                        for (b = p.vertices.length; 0 <= b ? c < b : c > b; w = 0 <= b ? ++c : --c) w = p.vertices[w], p2.vec2.rotate(v, w, u), t.push([(v[0] + r[0]) * this.ppu, -(v[1] + r[1]) * this.ppu]);
                        this.drawConvex(f, t, p.triangles, 16711680, g, h, this.settings.debugPolygons, [r[0] *
                            this.ppu, -r[1] * this.ppu
                        ])
                    }
                    a++
                }
            }
        },
        drawRectangle: function(a, c, b, d, f, g, h, n, p) {
            void 0 === p && (p = 1);
            void 0 === h && (h = 0);
            a.lineStyle(p, h, 1);
            a.beginFill(n);
            a.drawRect(c - f / 2, b - g / 2, f, g)
        },
        drawCircle: function(a, c, b, d, f, g, h) {
            void 0 === h && (h = 1);
            void 0 === g && (g = 16777215);
            a.lineStyle(h, 0, 1);
            a.beginFill(g, 1);
            a.drawCircle(c, b, 2 * -f);
            a.endFill();
            a.moveTo(c, b);
            a.lineTo(c + f * Math.cos(-d), b + f * Math.sin(-d))
        },
        drawLine: function(a, c, b, d) {
            void 0 === d && (d = 1);
            void 0 === b && (b = 0);
            a.lineStyle(5 * d, b, 1);
            a.moveTo(-c / 2, 0);
            a.lineTo(c / 2, 0)
        },
        drawConvex: function(a,
            c, b, d, f, g, h, n) {
            void 0 === g && (g = 1);
            void 0 === d && (d = 0);
            if (h) {
                d = [16711680, 65280, 255];
                for (b = 0; b !== c.length + 1;) {
                    var e = c[b % c.length];
                    h = c[(b + 1) % c.length];
                    f = e[0];
                    var k = e[1];
                    e = h[0];
                    h = h[1];
                    a.lineStyle(g, d[b % d.length], 1);
                    a.moveTo(f, -k);
                    a.lineTo(e, -h);
                    a.drawCircle(f, -k, 2 * g);
                    b++
                }
                a.lineStyle(g, 0, 1);
                return a.drawCircle(n[0], n[1], 2 * g)
            }
            a.lineStyle(g, d, 1);
            a.beginFill(f);
            for (b = 0; b !== c.length;) n = c[b], g = n[0], n = n[1], 0 === b ? a.moveTo(g, -n) : a.lineTo(g, -n), b++;
            a.endFill();
            if (2 < c.length) return a.moveTo(c[c.length - 1][0], -c[c.length -
                1][1]), a.lineTo(c[0][0], -c[0][1])
        },
        drawPath: function(a, c, b, d, f) {
            var e;
            void 0 === f && (f = 1);
            void 0 === b && (b = 0);
            a.lineStyle(f, b, 1);
            "number" === typeof d && a.beginFill(d);
            var k = e = null;
            for (b = 0; b < c.length;) {
                var g = c[b];
                f = g[0];
                g = g[1];
                if (f !== e || g !== k) {
                    if (0 === b) a.moveTo(f, g);
                    else {
                        var l = f;
                        var h = g;
                        var u = c[(b + 1) % c.length][0];
                        var t = c[(b + 1) % c.length][1];
                        e = (l - e) * (t - k) - (u - e) * (h - k);
                        0 !== e && a.lineTo(f, g)
                    }
                    e = f;
                    k = g
                }
                b++
            }
            "number" === typeof d && a.endFill();
            2 < c.length && "number" === typeof d && (a.moveTo(c[c.length - 1][0], c[c.length - 1][1]),
                a.lineTo(c[0][0], c[0][1]))
        },
        drawPlane: function(a, c, b, d, f, g, h, n, p, r) {
            void 0 === g && (g = 1);
            void 0 === d && (d = 16777215);
            a.lineStyle(g, f, 11);
            a.beginFill(d);
            a.moveTo(c, -b);
            d = c + Math.cos(r) * this.game.width;
            f = b + Math.sin(r) * this.game.height;
            a.lineTo(d, -f);
            a.moveTo(c, -b);
            d = c + Math.cos(r) * -this.game.width;
            f = b + Math.sin(r) * -this.game.height;
            a.lineTo(d, -f)
        },
        drawCapsule: function(a, c, b, d, f, g, h, n, p) {
            void 0 === p && (p = 1);
            void 0 === h && (h = 0);
            a.lineStyle(p, h, 1);
            var e = Math.cos(d);
            d = Math.sin(d);
            a.beginFill(n, 1);
            a.drawCircle(-f / 2 *
                e + c, -f / 2 * d + b, 2 * -g);
            a.drawCircle(f / 2 * e + c, f / 2 * d + b, 2 * -g);
            a.endFill();
            a.lineStyle(p, h, 0);
            a.beginFill(n, 1);
            a.moveTo(-f / 2 * e + g * d + c, -f / 2 * d + g * e + b);
            a.lineTo(f / 2 * e + g * d + c, f / 2 * d + g * e + b);
            a.lineTo(f / 2 * e - g * d + c, f / 2 * d - g * e + b);
            a.lineTo(-f / 2 * e - g * d + c, -f / 2 * d - g * e + b);
            a.endFill();
            a.lineStyle(p, h, 1);
            a.moveTo(-f / 2 * e + g * d + c, -f / 2 * d + g * e + b);
            a.lineTo(f / 2 * e + g * d + c, f / 2 * d + g * e + b);
            a.moveTo(-f / 2 * e - g * d + c, -f / 2 * d - g * e + b);
            a.lineTo(f / 2 * e - g * d + c, f / 2 * d - g * e + b)
        },
        randomPastelHex: function() {
            var a = [255, 255, 255];
            var c = Math.floor(256 * Math.random());
            var b =
                Math.floor(256 * Math.random());
            var d = Math.floor(256 * Math.random());
            c = Math.floor((c + 3 * a[0]) / 4);
            b = Math.floor((b + 3 * a[1]) / 4);
            d = Math.floor((d + 3 * a[2]) / 4);
            return this.rgbToHex(c, b, d)
        },
        rgbToHex: function(a, c, b) {
            return this.componentToHex(a) + this.componentToHex(c) + this.componentToHex(b)
        },
        componentToHex: function(a) {
            a = a.toString(16);
            return 2 === a.length ? a : a + "0"
        }
    });
    b.Physics.P2.Spring = function(a, c, b, d, f, g, h, n, p, r) {
        this.game = a.game;
        this.world = a;
        void 0 === d && (d = 1);
        void 0 === f && (f = 100);
        void 0 === g && (g = 1);
        d = a.pxm(d);
        d = {
            restLength: d,
            stiffness: f,
            damping: g
        };
        "undefined" !== typeof h && null !== h && (d.worldAnchorA = [a.pxm(h[0]), a.pxm(h[1])]);
        "undefined" !== typeof n && null !== n && (d.worldAnchorB = [a.pxm(n[0]), a.pxm(n[1])]);
        "undefined" !== typeof p && null !== p && (d.localAnchorA = [a.pxm(p[0]), a.pxm(p[1])]);
        "undefined" !== typeof r && null !== r && (d.localAnchorB = [a.pxm(r[0]), a.pxm(r[1])]);
        this.data = new p2.LinearSpring(c, b, d);
        this.data.parent = this
    };
    b.Physics.P2.Spring.prototype.constructor = b.Physics.P2.Spring;
    b.Physics.P2.RotationalSpring = function(a,
        c, b, d, f, g) {
        this.game = a.game;
        this.world = a;
        void 0 === d && (d = null);
        void 0 === f && (f = 100);
        void 0 === g && (g = 1);
        d && (d = a.pxm(d));
        this.data = new p2.RotationalSpring(c, b, {
            restAngle: d,
            stiffness: f,
            damping: g
        });
        this.data.parent = this
    };
    b.Physics.P2.Spring.prototype.constructor = b.Physics.P2.Spring;
    b.Physics.P2.Material = function(a) {
        this.name = a;
        p2.Material.call(this)
    };
    b.Physics.P2.Material.prototype = Object.create(p2.Material.prototype);
    b.Physics.P2.Material.prototype.constructor = b.Physics.P2.Material;
    b.Physics.P2.ContactMaterial =
        function(a, c, b) {
            p2.ContactMaterial.call(this, a, c, b)
        };
    b.Physics.P2.ContactMaterial.prototype = Object.create(p2.ContactMaterial.prototype);
    b.Physics.P2.ContactMaterial.prototype.constructor = b.Physics.P2.ContactMaterial;
    b.Physics.P2.CollisionGroup = function(a) {
        this.mask = a
    };
    b.Physics.P2.DistanceConstraint = function(a, c, b, d, f, g, h) {
        void 0 === d && (d = 100);
        void 0 === f && (f = [0, 0]);
        void 0 === g && (g = [0, 0]);
        void 0 === h && (h = Number.MAX_VALUE);
        this.game = a.game;
        this.world = a;
        d = a.pxm(d);
        f = [a.pxmi(f[0]), a.pxmi(f[1])];
        g = [a.pxmi(g[0]),
            a.pxmi(g[1])
        ];
        p2.DistanceConstraint.call(this, c, b, {
            distance: d,
            localAnchorA: f,
            localAnchorB: g,
            maxForce: h
        })
    };
    b.Physics.P2.DistanceConstraint.prototype = Object.create(p2.DistanceConstraint.prototype);
    b.Physics.P2.DistanceConstraint.prototype.constructor = b.Physics.P2.DistanceConstraint;
    b.Physics.P2.GearConstraint = function(a, c, b, d, f) {
        void 0 === d && (d = 0);
        void 0 === f && (f = 1);
        this.game = a.game;
        this.world = a;
        p2.GearConstraint.call(this, c, b, {
            angle: d,
            ratio: f
        })
    };
    b.Physics.P2.GearConstraint.prototype = Object.create(p2.GearConstraint.prototype);
    b.Physics.P2.GearConstraint.prototype.constructor = b.Physics.P2.GearConstraint;
    b.Physics.P2.LockConstraint = function(a, c, b, d, f, g) {
        void 0 === d && (d = [0, 0]);
        void 0 === f && (f = 0);
        void 0 === g && (g = Number.MAX_VALUE);
        this.game = a.game;
        this.world = a;
        d = [a.pxm(d[0]), a.pxm(d[1])];
        p2.LockConstraint.call(this, c, b, {
            localOffsetB: d,
            localAngleB: f,
            maxForce: g
        })
    };
    b.Physics.P2.LockConstraint.prototype = Object.create(p2.LockConstraint.prototype);
    b.Physics.P2.LockConstraint.prototype.constructor = b.Physics.P2.LockConstraint;
    b.Physics.P2.PrismaticConstraint =
        function(a, c, b, d, f, g, h, n) {
            void 0 === d && (d = !0);
            void 0 === f && (f = [0, 0]);
            void 0 === g && (g = [0, 0]);
            void 0 === h && (h = [0, 0]);
            void 0 === n && (n = Number.MAX_VALUE);
            this.game = a.game;
            this.world = a;
            f = [a.pxmi(f[0]), a.pxmi(f[1])];
            g = [a.pxmi(g[0]), a.pxmi(g[1])];
            p2.PrismaticConstraint.call(this, c, b, {
                localAnchorA: f,
                localAnchorB: g,
                localAxisA: h,
                maxForce: n,
                disableRotationalLock: !d
            })
        };
    b.Physics.P2.PrismaticConstraint.prototype = Object.create(p2.PrismaticConstraint.prototype);
    b.Physics.P2.PrismaticConstraint.prototype.constructor = b.Physics.P2.PrismaticConstraint;
    b.Physics.P2.RevoluteConstraint = function(a, c, b, d, f, g, h) {
        void 0 === g && (g = Number.MAX_VALUE);
        void 0 === h && (h = null);
        this.game = a.game;
        this.world = a;
        b = [a.pxmi(b[0]), a.pxmi(b[1])];
        f = [a.pxmi(f[0]), a.pxmi(f[1])];
        h && (h = [a.pxmi(h[0]), a.pxmi(h[1])]);
        p2.RevoluteConstraint.call(this, c, d, {
            worldPivot: h,
            localPivotA: b,
            localPivotB: f,
            maxForce: g
        })
    };
    b.Physics.P2.RevoluteConstraint.prototype = Object.create(p2.RevoluteConstraint.prototype);
    b.Physics.P2.RevoluteConstraint.prototype.constructor = b.Physics.P2.RevoluteConstraint;
    b.ImageCollection = function(a, c, b, d, f, g, h) {
        if (void 0 === b || 0 >= b) b = 32;
        if (void 0 === d || 0 >= d) d = 32;
        void 0 === f && (f = 0);
        void 0 === g && (g = 0);
        this.name = a;
        this.firstgid = c | 0;
        this.imageWidth = b | 0;
        this.imageHeight = d | 0;
        this.imageMargin = f | 0;
        this.imageSpacing = g | 0;
        this.properties = h || {};
        this.images = [];
        this.total = 0
    };
    b.ImageCollection.prototype = {
        containsImageIndex: function(a) {
            return a >= this.firstgid && a < this.firstgid + this.total
        },
        addImage: function(a, c) {
            this.images.push({
                gid: a,
                image: c
            });
            this.total++
        }
    };
    b.ImageCollection.prototype.constructor =
        b.ImageCollection;
    b.Tile = function(a, c, b, d, f, g) {
        this.layer = a;
        this.index = c;
        this.x = b;
        this.y = d;
        this.rotation = 0;
        this.flipped = !1;
        this.worldX = b * f;
        this.worldY = d * g;
        this.width = f;
        this.height = g;
        this.centerX = Math.abs(f / 2);
        this.centerY = Math.abs(g / 2);
        this.alpha = 1;
        this.properties = {};
        this.collideDown = this.collideUp = this.collideRight = this.collideLeft = this.faceRight = this.faceLeft = this.faceBottom = this.faceTop = this.scanned = !1;
        this.collisionCallback = null;
        this.collisionCallbackContext = this;
        this.debug = !1
    };
    b.Tile.prototype = {
        containsPoint: function(a, c) {
            return !(a < this.worldX || c < this.worldY || a > this.right || c > this.bottom)
        },
        intersects: function(a, c, b, d) {
            return b <= this.worldX || d <= this.worldY || a >= this.worldX + this.width || c >= this.worldY + this.height ? !1 : !0
        },
        setCollisionCallback: function(a, c) {
            this.collisionCallback = a;
            this.collisionCallbackContext = c
        },
        destroy: function() {
            this.properties = this.collisionCallbackContext = this.collisionCallback = null
        },
        setCollision: function(a, c, b, d) {
            this.collideLeft = a;
            this.collideRight = c;
            this.collideUp = b;
            this.collideDown =
                d;
            this.faceLeft = a;
            this.faceRight = c;
            this.faceTop = b;
            this.faceBottom = d
        },
        resetCollision: function() {
            this.faceRight = this.faceLeft = this.faceBottom = this.faceTop = this.collideDown = this.collideUp = this.collideRight = this.collideLeft = !1
        },
        isInteresting: function(a, c) {
            return a && c ? this.collideLeft || this.collideRight || this.collideUp || this.collideDown || this.faceTop || this.faceBottom || this.faceLeft || this.faceRight || this.collisionCallback : a ? this.collideLeft || this.collideRight || this.collideUp || this.collideDown : c ? this.faceTop ||
                this.faceBottom || this.faceLeft || this.faceRight : !1
        },
        copy: function(a) {
            this.index = a.index;
            this.alpha = a.alpha;
            this.properties = a.properties;
            this.collideUp = a.collideUp;
            this.collideDown = a.collideDown;
            this.collideLeft = a.collideLeft;
            this.collideRight = a.collideRight;
            this.collisionCallback = a.collisionCallback;
            this.collisionCallbackContext = a.collisionCallbackContext
        }
    };
    b.Tile.prototype.constructor = b.Tile;
    Object.defineProperty(b.Tile.prototype, "collides", {
        get: function() {
            return this.collideLeft || this.collideRight ||
                this.collideUp || this.collideDown
        }
    });
    Object.defineProperty(b.Tile.prototype, "canCollide", {
        get: function() {
            return this.collideLeft || this.collideRight || this.collideUp || this.collideDown || this.collisionCallback
        }
    });
    Object.defineProperty(b.Tile.prototype, "left", {
        get: function() {
            return this.worldX
        }
    });
    Object.defineProperty(b.Tile.prototype, "right", {
        get: function() {
            return this.worldX + this.width
        }
    });
    Object.defineProperty(b.Tile.prototype, "top", {
        get: function() {
            return this.worldY
        }
    });
    Object.defineProperty(b.Tile.prototype,
        "bottom", {
            get: function() {
                return this.worldY + this.height
            }
        });
    b.Tilemap = function(a, c, d, f, g, h) {
        this.game = a;
        this.key = c;
        a = b.TilemapParser.parse(this.game, c, d, f, g, h);
        null !== a && (this.width = a.width, this.height = a.height, this.tileWidth = a.tileWidth, this.tileHeight = a.tileHeight, this.orientation = a.orientation, this.format = a.format, this.version = a.version, this.properties = a.properties, this.widthInPixels = a.widthInPixels, this.heightInPixels = a.heightInPixels, this.layers = a.layers, this.tilesets = a.tilesets, this.imagecollections =
            a.imagecollections, this.tiles = a.tiles, this.objects = a.objects, this.collideIndexes = [], this.collision = a.collision, this.images = a.images, this.enableDebug = !1, this.currentLayer = 0, this.debugMap = [], this._results = [], this._tempB = this._tempA = 0)
    };
    b.Tilemap.CSV = 0;
    b.Tilemap.TILED_JSON = 1;
    b.Tilemap.NORTH = 0;
    b.Tilemap.EAST = 1;
    b.Tilemap.SOUTH = 2;
    b.Tilemap.WEST = 3;
    b.Tilemap.prototype = {
        create: function(a, c, b, d, f, g) {
            void 0 === g && (g = this.game.world);
            this.width = c;
            this.height = b;
            this.setTileSize(d, f);
            this.layers.length = 0;
            return this.createBlankLayer(a,
                c, b, d, f, g)
        },
        setTileSize: function(a, c) {
            this.tileWidth = a;
            this.tileHeight = c;
            this.widthInPixels = this.width * a;
            this.heightInPixels = this.height * c
        },
        addTilesetImage: function(a, c, d, f, g, h, q) {
            if (void 0 === a) return null;
            void 0 === d && (d = this.tileWidth);
            void 0 === f && (f = this.tileHeight);
            void 0 === g && (g = 0);
            void 0 === h && (h = 0);
            void 0 === q && (q = 0);
            0 === d && (d = 32);
            0 === f && (f = 32);
            if (void 0 === c || null === c) c = a;
            if (c instanceof b.BitmapData) c = c.canvas;
            else {
                if (!this.game.cache.checkImageKey(c)) return console.warn('Phaser.Tilemap.addTilesetImage: Invalid image key given: "' +
                    c + '"'), null;
                c = this.game.cache.getImage(c)
            }
            var e = this.getTilesetIndex(a);
            if (null === e && this.format === b.Tilemap.TILED_JSON) return console.warn('Phaser.Tilemap.addTilesetImage: No data found in the JSON matching the tileset name: "' + a + '"'), console.log("Tilesets: ", this.tilesets), null;
            if (this.tilesets[e]) return this.tilesets[e].setImage(c), this.tilesets[e];
            a = new b.Tileset(a, q, d, f, g, h, {});
            a.setImage(c);
            this.tilesets.push(a);
            c = this.tilesets.length - 1;
            for (var k = e = g, l = 0, m = 0, t = 0, v = q; v < q + a.total; v++) {
                this.tiles[v] = [e, k, c];
                e += d + h;
                l++;
                if (l === a.total) break;
                m++;
                if (m === a.columns && (e = g, k += f + h, m = 0, t++, t === a.rows)) break
            }
            return a
        },
        createFromObjects: function(a, c, d, f, g, h, q, n, p, r) {
            void 0 === g && (g = !0);
            void 0 === h && (h = !1);
            void 0 === q && (q = this.game.world);
            void 0 === n && (n = b.Sprite);
            void 0 === p && (p = !0);
            void 0 === r && (r = !0);
            if (this.objects[a])
                for (var e = 0; e < this.objects[a].length; e++) {
                    var k = !1,
                        l = this.objects[a][e];
                    void 0 !== l.gid && "number" === typeof c && l.gid === c ? k = !0 : void 0 !== l.id && "number" === typeof c && l.id === c ? k = !0 : void 0 !== l.name &&
                        "string" === typeof c && l.name === c && (k = !0);
                    if (k) {
                        k = new n(this.game, parseFloat(l.x, 10), parseFloat(l.y, 10), d, f);
                        k.name = l.name;
                        k.autoCull = h;
                        k.exists = g;
                        k.visible = l.visible;
                        r && (l.width && (k.width = l.width), l.height && (k.height = l.height));
                        l.rotation && (k.angle = l.rotation);
                        p && (k.y -= k.height);
                        q.add(k);
                        for (var m in l.properties) q.set(k, m, l.properties[m], !1, !1, 0, !0)
                    }
                } else console.warn("Tilemap.createFromObjects: Invalid objectgroup name given: " + a), console.log("Objects: ", this.objects)
        },
        createFromTiles: function(a,
            c, d, f, g, h) {
            "number" === typeof a && (a = [a]);
            void 0 === c || null === c ? c = [] : "number" === typeof c && (c = [c]);
            f = this.getLayer(f);
            void 0 === g && (g = this.game.world);
            void 0 === h && (h = {});
            void 0 === h.customClass && (h.customClass = b.Sprite);
            void 0 === h.adjustY && (h.adjustY = !0);
            var e = this.layers[f].width,
                k = this.layers[f].height;
            this.copy(0, 0, e, k, f);
            if (2 > this._results.length) return 0;
            for (var l = 0, m, u = 1, t = this._results.length; u < t; u++)
                if (-1 !== a.indexOf(this._results[u].index)) {
                    m = new h.customClass(this.game, this._results[u].worldX,
                        this._results[u].worldY, d);
                    for (var v in h) m[v] = h[v];
                    g.add(m);
                    l++
                } if (1 === c.length)
                for (u = 0; u < a.length; u++) this.replace(a[u], c[0], 0, 0, e, k, f);
            else if (1 < c.length)
                for (u = 0; u < a.length; u++) this.replace(a[u], c[u], 0, 0, e, k, f);
            return l
        },
        createLayer: function(a, c, d, f) {
            void 0 === c && (c = this.game.width);
            void 0 === d && (d = this.game.height);
            void 0 === f && (f = this.game.world);
            var e = a;
            "string" === typeof a && (e = this.getLayerIndex(a));
            if (null === e || e > this.layers.length) console.warn('Tilemap.createLayer: Invalid layer ID given: "' +
                a + '"'), console.log("Layers: ", this.layers);
            else return void 0 === c || 0 >= c ? c = Math.min(this.game.width, this.layers[e].widthInPixels) : c > this.game.width && (c = this.game.width), void 0 === d || 0 >= d ? d = Math.min(this.game.height, this.layers[e].heightInPixels) : d > this.game.height && (d = this.game.height), this.enableDebug && (console.group("Tilemap.createLayer"), console.log("Name:", this.layers[e].name), console.log("Size:", c, "x", d), console.log("Tileset:", this.tilesets[0].name, "index:", e)), a = f.add(new b.TilemapLayer(this.game,
                this, e, c, d)), this.enableDebug && console.groupEnd(), a
        },
        createBlankLayer: function(a, c, d, f, g, h) {
            void 0 === h && (h = this.game.world);
            if (null !== this.getLayerIndex(a)) console.warn("Tilemap.createBlankLayer: Layer with matching name already exists: " + a);
            else {
                for (var e = {
                        name: a,
                        x: 0,
                        y: 0,
                        width: c,
                        height: d,
                        widthInPixels: c * f,
                        heightInPixels: d * g,
                        alpha: 1,
                        visible: !0,
                        properties: {},
                        indexes: [],
                        callbacks: [],
                        bodies: [],
                        data: null
                    }, k, l = [], m = 0; m < d; m++) {
                    k = [];
                    for (var u = 0; u < c; u++) k.push(new b.Tile(e, -1, u, m, f, g));
                    l.push(k)
                }
                e.data = l;
                this.layers.push(e);
                this.currentLayer = this.layers.length - 1;
                c = e.widthInPixels;
                e = e.heightInPixels;
                c > this.game.width && (c = this.game.width);
                e > this.game.height && (e = this.game.height);
                l = new b.TilemapLayer(this.game, this, this.layers.length - 1, c, e);
                l.name = a;
                return h.add(l)
            }
        },
        getIndex: function(a, c) {
            for (var b = 0; b < a.length; b++)
                if (a[b].name === c) return b;
            return null
        },
        getLayerIndex: function(a) {
            return this.getIndex(this.layers, a)
        },
        getTilesetIndex: function(a) {
            return this.getIndex(this.tilesets, a)
        },
        getImageIndex: function(a) {
            return this.getIndex(this.images,
                a)
        },
        setTileIndexCallback: function(a, c, b, d) {
            d = this.getLayer(d);
            if ("number" === typeof a) null === c ? delete this.layers[d].callbacks[a] : this.layers[d].callbacks[a] = {
                callback: c,
                callbackContext: b
            };
            else
                for (var e = 0, f = a.length; e < f; e++) null === c ? delete this.layers[d].callbacks[a[e]] : this.layers[d].callbacks[a[e]] = {
                    callback: c,
                    callbackContext: b
                }
        },
        setTileLocationCallback: function(a, c, b, d, f, g, h) {
            h = this.getLayer(h);
            this.copy(a, c, b, d, h);
            if (!(2 > this._results.length))
                for (a = 1; a < this._results.length; a++) this._results[a].setCollisionCallback(f,
                    g)
        },
        setCollision: function(a, c, b, d) {
            void 0 === c && (c = !0);
            void 0 === d && (d = !0);
            b = this.getLayer(b);
            if ("number" === typeof a) return this.setCollisionByIndex(a, c, b, !0);
            if (Array.isArray(a)) {
                for (var e = 0; e < a.length; e++) this.setCollisionByIndex(a[e], c, b, !1);
                d && this.calculateFaces(b)
            }
        },
        setCollisionBetween: function(a, c, b, d, f) {
            void 0 === b && (b = !0);
            void 0 === f && (f = !0);
            d = this.getLayer(d);
            if (!(a > c)) {
                for (; a <= c; a++) this.setCollisionByIndex(a, b, d, !1);
                f && this.calculateFaces(d)
            }
        },
        setCollisionByExclusion: function(a, c, b, d) {
            void 0 ===
                c && (c = !0);
            void 0 === d && (d = !0);
            b = this.getLayer(b);
            for (var e = 0, f = this.tiles.length; e < f; e++) - 1 === a.indexOf(e) && this.setCollisionByIndex(e, c, b, !1);
            d && this.calculateFaces(b)
        },
        setCollisionByIndex: function(a, c, b, d) {
            void 0 === c && (c = !0);
            void 0 === b && (b = this.currentLayer);
            void 0 === d && (d = !0);
            if (c) this.collideIndexes.push(a);
            else {
                var e = this.collideIndexes.indexOf(a); - 1 < e && this.collideIndexes.splice(e, 1)
            }
            for (e = 0; e < this.layers[b].height; e++)
                for (var f = 0; f < this.layers[b].width; f++) {
                    var k = this.layers[b].data[e][f];
                    k &&
                        k.index === a && (c ? k.setCollision(!0, !0, !0, !0) : k.resetCollision(), k.faceTop = c, k.faceBottom = c, k.faceLeft = c, k.faceRight = c)
                }
            d && this.calculateFaces(b);
            return b
        },
        getLayer: function(a) {
            if (void 0 === a) a = this.currentLayer;
            else if ("string" === typeof a) {
                var c = a;
                a = this.getLayerIndex(a);
                null === a && console.warn("No such layer name: " + c)
            } else a instanceof b.TilemapLayer && (a = a.index);
            return a
        },
        setPreventRecalculate: function(a) {
            !0 === a && !0 !== this.preventingRecalculate && (this.preventingRecalculate = !0, this.needToRecalculate = {});
            if (!1 === a && !0 === this.preventingRecalculate) {
                this.preventingRecalculate = !1;
                for (var c in this.needToRecalculate) this.calculateFaces(c);
                this.needToRecalculate = !1
            }
        },
        calculateFaces: function(a) {
            if (this.preventingRecalculate) this.needToRecalculate[a] = !0;
            else
                for (var c, b, d, f, g = 0, h = this.layers[a].height; g < h; g++)
                    for (var n = 0, p = this.layers[a].width; n < p; n++) {
                        var r = this.layers[a].data[g][n];
                        r && (c = this.getTileAbove(a, n, g), b = this.getTileBelow(a, n, g), d = this.getTileLeft(a, n, g), f = this.getTileRight(a, n, g), r.collides &&
                            (r.faceTop = !0, r.faceBottom = !0, r.faceLeft = !0, r.faceRight = !0), c && c.collides && (r.faceTop = !1), b && b.collides && (r.faceBottom = !1), d && d.collides && (r.faceLeft = !1), f && f.collides && (r.faceRight = !1))
                    }
        },
        getTileAbove: function(a, c, b) {
            return 0 < b ? this.layers[a].data[b - 1][c] : null
        },
        getTileBelow: function(a, c, b) {
            return b < this.layers[a].height - 1 ? this.layers[a].data[b + 1][c] : null
        },
        getTileLeft: function(a, c, b) {
            return 0 < c ? this.layers[a].data[b][c - 1] : null
        },
        getTileRight: function(a, c, b) {
            return c < this.layers[a].width - 1 ? this.layers[a].data[b][c +
                1
            ] : null
        },
        setLayer: function(a) {
            a = this.getLayer(a);
            this.layers[a] && (this.currentLayer = a)
        },
        hasTile: function(a, c, b) {
            b = this.getLayer(b);
            return void 0 === this.layers[b].data[c] || void 0 === this.layers[b].data[c][a] ? !1 : -1 < this.layers[b].data[c][a].index
        },
        removeTile: function(a, c, d) {
            d = this.getLayer(d);
            if (0 <= a && a < this.layers[d].width && 0 <= c && c < this.layers[d].height && this.hasTile(a, c, d)) {
                var e = this.layers[d].data[c][a];
                this.layers[d].data[c][a] = new b.Tile(this.layers[d], -1, a, c, this.tileWidth, this.tileHeight);
                this.layers[d].dirty = !0;
                this.calculateFaces(d);
                return e
            }
        },
        removeTileWorldXY: function(a, c, b, d, f) {
            f = this.getLayer(f);
            a = this.game.math.snapToFloor(a, b) / b;
            c = this.game.math.snapToFloor(c, d) / d;
            return this.removeTile(a, c, f)
        },
        putTile: function(a, c, d, f) {
            if (null === a) return this.removeTile(c, d, f);
            f = this.getLayer(f);
            if (0 <= c && c < this.layers[f].width && 0 <= d && d < this.layers[f].height) {
                if (a instanceof b.Tile) {
                    var e = a.index;
                    this.hasTile(c, d, f) ? this.layers[f].data[d][c].copy(a) : this.layers[f].data[d][c] = new b.Tile(f, e, c, d, a.width, a.height)
                } else e =
                    a, this.hasTile(c, d, f) ? this.layers[f].data[d][c].index = e : this.layers[f].data[d][c] = new b.Tile(this.layers[f], e, c, d, this.tileWidth, this.tileHeight); - 1 < this.collideIndexes.indexOf(e) ? this.layers[f].data[d][c].setCollision(!0, !0, !0, !0) : this.layers[f].data[d][c].resetCollision();
                this.layers[f].dirty = !0;
                this.calculateFaces(f);
                return this.layers[f].data[d][c]
            }
            return null
        },
        putTileWorldXY: function(a, c, b, d, f, g) {
            g = this.getLayer(g);
            c = this.game.math.snapToFloor(c, d) / d;
            b = this.game.math.snapToFloor(b, f) / f;
            return this.putTile(a,
                c, b, g)
        },
        searchTileIndex: function(a, c, b, d) {
            void 0 === c && (c = 0);
            void 0 === b && (b = !1);
            d = this.getLayer(d);
            var e = 0;
            if (b)
                for (b = this.layers[d].height - 1; 0 <= b; b--)
                    for (var f = this.layers[d].width - 1; 0 <= f; f--) {
                        if (this.layers[d].data[b][f].index === a) {
                            if (e === c) return this.layers[d].data[b][f];
                            e++
                        }
                    } else
                        for (b = 0; b < this.layers[d].height; b++)
                            for (f = 0; f < this.layers[d].width; f++)
                                if (this.layers[d].data[b][f].index === a) {
                                    if (e === c) return this.layers[d].data[b][f];
                                    e++
                                } return null
        },
        getTile: function(a, c, b, d) {
            void 0 === d && (d = !1);
            b =
                this.getLayer(b);
            return 0 <= a && a < this.layers[b].width && 0 <= c && c < this.layers[b].height ? -1 === this.layers[b].data[c][a].index ? d ? this.layers[b].data[c][a] : null : this.layers[b].data[c][a] : null
        },
        getTileWorldXY: function(a, c, b, d, f, g) {
            void 0 === b && (b = this.tileWidth);
            void 0 === d && (d = this.tileHeight);
            f = this.getLayer(f);
            a = this.game.math.snapToFloor(a, b) / b;
            c = this.game.math.snapToFloor(c, d) / d;
            return this.getTile(a, c, f, g)
        },
        copy: function(a, c, b, d, f) {
            f = this.getLayer(f);
            if (this.layers[f]) {
                void 0 === a && (a = 0);
                void 0 === c && (c =
                    0);
                void 0 === b && (b = this.layers[f].width);
                void 0 === d && (d = this.layers[f].height);
                0 > a && (a = 0);
                0 > c && (c = 0);
                b > this.layers[f].width && (b = this.layers[f].width);
                d > this.layers[f].height && (d = this.layers[f].height);
                this._results.length = 0;
                this._results.push({
                    x: a,
                    y: c,
                    width: b,
                    height: d,
                    layer: f
                });
                for (var e = c; e < c + d; e++)
                    for (var k = a; k < a + b; k++) this._results.push(this.layers[f].data[e][k]);
                return this._results
            }
            this._results.length = 0
        },
        paste: function(a, c, b, d) {
            void 0 === a && (a = 0);
            void 0 === c && (c = 0);
            d = this.getLayer(d);
            if (b && !(2 >
                    b.length)) {
                a -= b[1].x;
                c -= b[1].y;
                for (var e = 1; e < b.length; e++) this.layers[d].data[c + b[e].y][a + b[e].x].copy(b[e]);
                this.layers[d].dirty = !0;
                this.calculateFaces(d)
            }
        },
        swap: function(a, c, b, d, f, g, h) {
            h = this.getLayer(h);
            this.copy(b, d, f, g, h);
            2 > this._results.length || (this._tempA = a, this._tempB = c, this._results.forEach(this.swapHandler, this), this.paste(b, d, this._results, h))
        },
        swapHandler: function(a) {
            a.index === this._tempA ? a.index = this._tempB : a.index === this._tempB && (a.index = this._tempA)
        },
        forEach: function(a, c, b, d, f, g, h) {
            h =
                this.getLayer(h);
            this.copy(b, d, f, g, h);
            2 > this._results.length || (this._results.forEach(a, c), this.paste(b, d, this._results, h))
        },
        replace: function(a, c, b, d, f, g, h) {
            h = this.getLayer(h);
            this.copy(b, d, f, g, h);
            if (!(2 > this._results.length)) {
                for (f = 1; f < this._results.length; f++) this._results[f].index === a && (this._results[f].index = c);
                this.paste(b, d, this._results, h)
            }
        },
        random: function(a, c, b, d, f) {
            f = this.getLayer(f);
            this.copy(a, c, b, d, f);
            if (!(2 > this._results.length)) {
                b = [];
                for (d = 1; d < this._results.length; d++)
                    if (this._results[d].index) {
                        var e =
                            this._results[d].index; - 1 === b.indexOf(e) && b.push(e)
                    } for (d = 1; d < this._results.length; d++) this._results[d].index = this.game.rnd.pick(b);
                this.paste(a, c, this._results, f)
            }
        },
        shuffle: function(a, c, d, f, g) {
            g = this.getLayer(g);
            this.copy(a, c, d, f, g);
            if (!(2 > this._results.length)) {
                d = [];
                for (f = 1; f < this._results.length; f++) this._results[f].index && d.push(this._results[f].index);
                b.ArrayUtils.shuffle(d);
                for (f = 1; f < this._results.length; f++) this._results[f].index = d[f - 1];
                this.paste(a, c, this._results, g)
            }
        },
        fill: function(a, c, b,
            d, f, g) {
            g = this.getLayer(g);
            this.copy(c, b, d, f, g);
            if (!(2 > this._results.length)) {
                for (d = 1; d < this._results.length; d++) this._results[d].index = a;
                this.paste(c, b, this._results, g)
            }
        },
        removeAllLayers: function() {
            this.currentLayer = this.layers.length = 0
        },
        dump: function() {
            for (var a = "", c = [""], b = 0; b < this.layers[this.currentLayer].height; b++) {
                for (var d = 0; d < this.layers[this.currentLayer].width; d++) a += "%c  ", 1 < this.layers[this.currentLayer].data[b][d] ? this.debugMap[this.layers[this.currentLayer].data[b][d]] ? c.push("background: " +
                    this.debugMap[this.layers[this.currentLayer].data[b][d]]) : c.push("background: #ffffff") : c.push("background: rgb(0, 0, 0)");
                a += "\n"
            }
            c[0] = a;
            console.log.apply(console, c)
        },
        destroy: function() {
            this.removeAllLayers();
            this.data = [];
            this.game = null
        }
    };
    b.Tilemap.prototype.constructor = b.Tilemap;
    Object.defineProperty(b.Tilemap.prototype, "layer", {
        get: function() {
            return this.layers[this.currentLayer]
        },
        set: function(a) {
            a !== this.currentLayer && this.setLayer(a)
        }
    });
    b.TilemapLayer = function(a, c, d, f, g) {
        f |= 0;
        g |= 0;
        b.Sprite.call(this,
            a, 0, 0);
        this.map = c;
        this.index = d;
        this.layer = c.layers[d];
        this.canvas = b.CanvasPool.create(this, f, g);
        this.context = this.canvas.getContext("2d");
        this.setTexture(new PIXI.Texture(new PIXI.BaseTexture(this.canvas, null, this.game.resolution)));
        this.physicsType = this.type = b.TILEMAPLAYER;
        this.renderSettings = {
            enableScrollDelta: !0,
            overdrawRatio: .2,
            copyCanvas: null
        };
        this.debug = !1;
        this.exists = !0;
        this.debugSettings = {
            missingImageFill: "rgb(255,255,255)",
            debuggedTileOverfill: "rgba(0,255,0,0.4)",
            forceFullRedraw: !0,
            debugAlpha: .5,
            facingEdgeStroke: "rgba(0,255,0,1)",
            collidingTileOverfill: "rgba(0,255,0,0.2)"
        };
        this.scrollFactorY = this.scrollFactorX = 1;
        this.dirty = !0;
        this.rayStepRate = 4;
        this._wrap = !1;
        this._mc = {
            scrollX: 0,
            scrollY: 0,
            renderWidth: 0,
            renderHeight: 0,
            tileWidth: c.tileWidth,
            tileHeight: c.tileHeight,
            cw: c.tileWidth,
            ch: c.tileHeight,
            tilesets: []
        };
        this._scrollY = this._scrollX = 0;
        this.tileOffset = new b.Point(this.layer.offsetX || 0, this.layer.offsetY || 0);
        this._results = [];
        a.device.canvasBitBltShift || (this.renderSettings.copyCanvas = b.TilemapLayer.ensureSharedCopyCanvas());
        this.fixedToCamera = !0
    };
    b.TilemapLayer.prototype = Object.create(b.Sprite.prototype);
    b.TilemapLayer.prototype.constructor = b.TilemapLayer;
    b.TilemapLayer.prototype.preUpdateCore = b.Component.Core.preUpdate;
    b.TilemapLayer.sharedCopyCanvas = null;
    b.TilemapLayer.ensureSharedCopyCanvas = function() {
        this.sharedCopyCanvas || (this.sharedCopyCanvas = b.CanvasPool.create(this, 2, 2));
        return this.sharedCopyCanvas
    };
    b.TilemapLayer.prototype.preUpdate = function() {
        return this.preUpdateCore()
    };
    b.TilemapLayer.prototype.postUpdate =
        function() {
            this.fixedToCamera && (this.position.x = (this.game.camera.view.x + this.cameraOffset.x) / this.game.camera.scale.x, this.position.y = (this.game.camera.view.y + this.cameraOffset.y) / this.game.camera.scale.y);
            this._scrollX = (this.game.camera.view.x - this.tileOffset.x) * this.scrollFactorX / this.scale.x;
            this._scrollY = (this.game.camera.view.y - this.tileOffset.y) * this.scrollFactorY / this.scale.y
        };
    b.TilemapLayer.prototype._renderCanvas = function(a) {
        this.fixedToCamera && (this.position.x = (this.game.camera.view.x +
            this.cameraOffset.x) / this.game.camera.scale.x, this.position.y = (this.game.camera.view.y + this.cameraOffset.y) / this.game.camera.scale.y);
        this._scrollX = (this.game.camera.view.x - this.tileOffset.x) * this.scrollFactorX / this.scale.x;
        this._scrollY = (this.game.camera.view.y - this.tileOffset.y) * this.scrollFactorY / this.scale.y;
        this.render();
        PIXI.Sprite.prototype._renderCanvas.call(this, a)
    };
    b.TilemapLayer.prototype._renderWebGL = function(a) {
        this.fixedToCamera && (this.position.x = (this.game.camera.view.x + this.cameraOffset.x) /
            this.game.camera.scale.x, this.position.y = (this.game.camera.view.y + this.cameraOffset.y) / this.game.camera.scale.y);
        this._scrollX = (this.game.camera.view.x - this.tileOffset.x) * this.scrollFactorX / this.scale.x;
        this._scrollY = (this.game.camera.view.y - this.tileOffset.y) * this.scrollFactorY / this.scale.y;
        this.render();
        PIXI.Sprite.prototype._renderWebGL.call(this, a)
    };
    b.TilemapLayer.prototype.destroy = function() {
        b.CanvasPool.remove(this);
        b.Component.Destroy.prototype.destroy.call(this)
    };
    b.TilemapLayer.prototype.resize =
        function(a, c) {
            this.canvas.width = a;
            this.canvas.height = c;
            this.texture.frame.resize(a, c);
            this.texture.width = a;
            this.texture.height = c;
            this.texture.crop.width = a;
            this.texture.crop.height = c;
            this.texture.baseTexture.width = a;
            this.texture.baseTexture.height = c;
            this.texture.baseTexture.dirty();
            this.texture.requiresUpdate = !0;
            this.texture._updateUvs();
            this.dirty = !0
        };
    b.TilemapLayer.prototype.resizeWorld = function() {
        this.game.world.setBounds(0, 0, this.layer.widthInPixels * this.scale.x, this.layer.heightInPixels * this.scale.y)
    };
    b.TilemapLayer.prototype.getTileOffsetX = function() {
        return this.tileOffset.x || (this.fixedToCamera ? 0 : this.position.x)
    };
    b.TilemapLayer.prototype.getTileOffsetY = function() {
        return this.tileOffset.y || (this.fixedToCamera ? 0 : this.position.y)
    };
    b.TilemapLayer.prototype._fixX = function(a) {
        return 1 === this.scrollFactorX || 0 === this.scrollFactorX && 0 === this.position.x ? a : 0 === this.scrollFactorX && 0 !== this.position.x ? a - this.position.x : this._scrollX + (a - this._scrollX / this.scrollFactorX)
    };
    b.TilemapLayer.prototype._unfixX =
        function(a) {
            return 1 === this.scrollFactorX ? a : this._scrollX / this.scrollFactorX + (a - this._scrollX)
        };
    b.TilemapLayer.prototype._fixY = function(a) {
        return 1 === this.scrollFactorY || 0 === this.scrollFactorY && 0 === this.position.y ? a : 0 === this.scrollFactorY && 0 !== this.position.y ? a - this.position.y : this._scrollY + (a - this._scrollY / this.scrollFactorY)
    };
    b.TilemapLayer.prototype._unfixY = function(a) {
        return 1 === this.scrollFactorY ? a : this._scrollY / this.scrollFactorY + (a - this._scrollY)
    };
    b.TilemapLayer.prototype.getTileX = function(a) {
        return Math.floor(this._fixX(a) /
            this._mc.tileWidth)
    };
    b.TilemapLayer.prototype.getTileY = function(a) {
        return Math.floor(this._fixY(a) / this._mc.tileHeight)
    };
    b.TilemapLayer.prototype.getTileXY = function(a, c, b) {
        b.x = this.getTileX(a);
        b.y = this.getTileY(c);
        return b
    };
    b.TilemapLayer.prototype.getRayCastTiles = function(a, c, b, d) {
        c || (c = this.rayStepRate);
        void 0 === b && (b = !1);
        void 0 === d && (d = !1);
        b = this.getTiles(a.x, a.y, a.width, a.height, b, d);
        if (0 === b.length) return [];
        a = a.coordinatesOnLine(c);
        c = [];
        for (d = 0; d < b.length; d++)
            for (var e = 0; e < a.length; e++) {
                var f =
                    b[d],
                    k = a[e];
                if (f.containsPoint(k[0], k[1])) {
                    c.push(f);
                    break
                }
            }
        return c
    };
    b.TilemapLayer.prototype.getTiles = function(a, c, b, d, f, g) {
        void 0 === f && (f = !1);
        void 0 === g && (g = !1);
        var e = !(f || g);
        a = this._fixX(a);
        c = this._fixY(c);
        var k = Math.floor(a / (this._mc.cw * this.scale.x)),
            h = Math.floor(c / (this._mc.ch * this.scale.y));
        a = Math.ceil((a + b) / (this._mc.cw * this.scale.x)) - k;
        for (c = Math.ceil((c + d) / (this._mc.ch * this.scale.y)) - h; this._results.length;) this._results.pop();
        for (d = h; d < h + c; d++)
            for (b = k; b < k + a; b++) {
                var l = this.layer.data[d];
                l && l[b] && (e || l[b].isInteresting(f, g)) && this._results.push(l[b])
            }
        return this._results.slice()
    };
    b.TilemapLayer.prototype.resolveTileset = function(a) {
        var c = this._mc.tilesets;
        if (2E3 > a)
            for (; c.length < a;) c.push(void 0);
        var b = this.map.tiles[a] && this.map.tiles[a][2];
        return null !== b && (b = this.map.tilesets[b]) && b.containsTileIndex(a) ? c[a] = b : c[a] = null
    };
    b.TilemapLayer.prototype.resetTilesetCache = function() {
        for (var a = this._mc.tilesets; a.length;) a.pop()
    };
    b.TilemapLayer.prototype.setScale = function(a, c) {
        a = a || 1;
        c = c ||
            a;
        for (var b = 0; b < this.layer.data.length; b++)
            for (var d = this.layer.data[b], f = 0; f < d.length; f++) {
                var g = d[f];
                g.width = this.map.tileWidth * a;
                g.height = this.map.tileHeight * c;
                g.worldX = g.x * g.width;
                g.worldY = g.y * g.height
            }
        this.scale.setTo(a, c)
    };
    b.TilemapLayer.prototype.shiftCanvas = function(a, c, b) {
        var d = a.canvas,
            e = d.width - Math.abs(c),
            f = d.height - Math.abs(b),
            g = 0,
            h = 0,
            p = c,
            r = b;
        0 > c && (g = -c, p = 0);
        0 > b && (h = -b, r = 0);
        if (c = this.renderSettings.copyCanvas) {
            if (c.width < e || c.height < f) c.width = e, c.height = f;
            b = c.getContext("2d");
            b.clearRect(0,
                0, e, f);
            b.drawImage(d, g, h, e, f, 0, 0, e, f);
            a.clearRect(p, r, e, f);
            a.drawImage(c, 0, 0, e, f, p, r, e, f)
        } else a.save(), a.globalCompositeOperation = "copy", a.drawImage(d, g, h, e, f, p, r, e, f), a.restore()
    };
    b.TilemapLayer.prototype.renderRegion = function(a, c, b, d, f, g) {
        var e = this.context,
            k = this.layer.width,
            h = this.layer.height,
            l = this._mc.tileWidth,
            m = this._mc.tileHeight,
            t = this._mc.tilesets,
            v = NaN;
        this._wrap || (b <= f && (b = Math.max(0, b), f = Math.min(k - 1, f)), d <= g && (d = Math.max(0, d), g = Math.min(h - 1, g)));
        a = b * l - a;
        var w = (b + 1048576 * k) % k;
        var x =
            (d + 1048576 * h) % h;
        g -= d;
        for (d = d * m - c; 0 <= g; x++, g--, d += m) {
            x >= h && (x -= h);
            var y = this.layer.data[x];
            var z = w;
            var B = f - b;
            for (c = a; 0 <= B; z++, B--, c += l) {
                z >= k && (z -= k);
                var A = y[z];
                if (A && !(0 > A.index)) {
                    var C = A.index,
                        D = t[C];
                    void 0 === D && (D = this.resolveTileset(C));
                    A.alpha === v || this.debug || (v = e.globalAlpha = A.alpha);
                    D ? A.rotation || A.flipped ? (e.save(), e.translate(c + A.centerX, d + A.centerY), e.rotate(A.rotation), A.flipped && e.scale(-1, 1), D.draw(e, -A.centerX, -A.centerY, C), e.restore()) : D.draw(e, c, d, C) : this.debugSettings.missingImageFill &&
                        (e.fillStyle = this.debugSettings.missingImageFill, e.fillRect(c, d, l, m));
                    A.debug && this.debugSettings.debuggedTileOverfill && (e.fillStyle = this.debugSettings.debuggedTileOverfill, e.fillRect(c, d, l, m))
                }
            }
        }
    };
    b.TilemapLayer.prototype.renderDeltaScroll = function(a, c) {
        var b = this._mc.scrollX,
            d = this._mc.scrollY,
            f = this.canvas.width,
            g = this.canvas.height,
            h = this._mc.tileWidth,
            n = this._mc.tileHeight,
            p = 0,
            r = -h,
            u = 0,
            t = -n;
        0 > a ? (p = f + a, r = f - 1) : 0 < a && (r = a);
        0 > c ? (u = g + c, t = g - 1) : 0 < c && (t = c);
        this.shiftCanvas(this.context, a, c);
        p = Math.floor((p +
            b) / h);
        r = Math.floor((r + b) / h);
        u = Math.floor((u + d) / n);
        t = Math.floor((t + d) / n);
        p <= r && (this.context.clearRect(p * h - b, 0, (r - p + 1) * h, g), this.renderRegion(b, d, p, Math.floor((0 + d) / n), r, Math.floor((g - 1 + d) / n)));
        u <= t && (this.context.clearRect(0, u * n - d, f, (t - u + 1) * n), this.renderRegion(b, d, Math.floor((0 + b) / h), u, Math.floor((f - 1 + b) / h), t))
    };
    b.TilemapLayer.prototype.renderFull = function() {
        var a = this._mc.scrollX,
            c = this._mc.scrollY,
            b = this.canvas.width,
            d = this.canvas.height,
            f = this._mc.tileWidth,
            g = this._mc.tileHeight,
            h = Math.floor(a /
                f);
        f = Math.floor((b - 1 + a) / f);
        var n = Math.floor(c / g);
        g = Math.floor((d - 1 + c) / g);
        this.context.clearRect(0, 0, b, d);
        this.renderRegion(a, c, h, n, f, g)
    };
    b.TilemapLayer.prototype.render = function() {
        var a = !1;
        if (this.visible) {
            if (this.dirty || this.layer.dirty) this.layer.dirty = !1, a = !0;
            var c = this.canvas.width,
                b = this.canvas.height,
                d = this._scrollX | 0,
                f = this._scrollY | 0,
                g = this._mc,
                h = g.scrollX - d,
                n = g.scrollY - f;
            if (a || 0 !== h || 0 !== n || g.renderWidth !== c || g.renderHeight !== b) {
                this.context.save();
                g.scrollX = d;
                g.scrollY = f;
                if (g.renderWidth !==
                    c || g.renderHeight !== b) g.renderWidth = c, g.renderHeight = b;
                this.debug && (this.context.globalAlpha = this.debugSettings.debugAlpha, this.debugSettings.forceFullRedraw && (a = !0));
                !a && this.renderSettings.enableScrollDelta && Math.abs(h) + Math.abs(n) < Math.min(c, b) ? this.renderDeltaScroll(h, n) : this.renderFull();
                this.debug && (this.context.globalAlpha = 1, this.renderDebug());
                this.texture.baseTexture.dirty();
                this.dirty = !1;
                this.context.restore();
                return !0
            }
        }
    };
    b.TilemapLayer.prototype.renderDebug = function() {
        var a = this._mc.scrollX,
            c = this._mc.scrollY,
            b = this.context,
            d = this.layer.width,
            f = this.layer.height,
            g = this._mc.tileWidth,
            h = this._mc.tileHeight,
            n = Math.floor(a / g),
            p = Math.floor((this.canvas.width - 1 + a) / g),
            r = Math.floor(c / h),
            u = Math.floor((this.canvas.height - 1 + c) / h);
        a = n * g - a;
        var t = (n + 1048576 * d) % d;
        b.strokeStyle = this.debugSettings.facingEdgeStroke;
        var v = (r + 1048576 * f) % f;
        u -= r;
        for (r = r * h - c; 0 <= u; v++, u--, r += h) {
            v >= f && (v -= f);
            var w = this.layer.data[v];
            var x = t;
            var y = p - n;
            for (c = a; 0 <= y; x++, y--, c += g) {
                x >= d && (x -= d);
                var z = w[x];
                !z || 0 > z.index || !z.collides ||
                    (this.debugSettings.collidingTileOverfill && (b.fillStyle = this.debugSettings.collidingTileOverfill, b.fillRect(c, r, this._mc.cw, this._mc.ch)), this.debugSettings.facingEdgeStroke && (b.beginPath(), z.faceTop && (b.moveTo(c, r), b.lineTo(c + this._mc.cw, r)), z.faceBottom && (b.moveTo(c, r + this._mc.ch), b.lineTo(c + this._mc.cw, r + this._mc.ch)), z.faceLeft && (b.moveTo(c, r), b.lineTo(c, r + this._mc.ch)), z.faceRight && (b.moveTo(c + this._mc.cw, r), b.lineTo(c + this._mc.cw, r + this._mc.ch)), b.closePath(), b.stroke()))
            }
        }
    };
    Object.defineProperty(b.TilemapLayer.prototype,
        "wrap", {
            get: function() {
                return this._wrap
            },
            set: function(a) {
                this._wrap = a;
                this.dirty = !0
            }
        });
    Object.defineProperty(b.TilemapLayer.prototype, "scrollX", {
        get: function() {
            return this._scrollX
        },
        set: function(a) {
            this._scrollX = a
        }
    });
    Object.defineProperty(b.TilemapLayer.prototype, "scrollY", {
        get: function() {
            return this._scrollY
        },
        set: function(a) {
            this._scrollY = a
        }
    });
    Object.defineProperty(b.TilemapLayer.prototype, "collisionWidth", {
        get: function() {
            return this._mc.cw
        },
        set: function(a) {
            this._mc.cw = a | 0;
            this.dirty = !0
        }
    });
    Object.defineProperty(b.TilemapLayer.prototype,
        "collisionHeight", {
            get: function() {
                return this._mc.ch
            },
            set: function(a) {
                this._mc.ch = a | 0;
                this.dirty = !0
            }
        });
    b.TilemapParser = {
        INSERT_NULL: !1,
        parse: function(a, c, d, f, g, h) {
            void 0 === d && (d = 32);
            void 0 === f && (f = 32);
            void 0 === g && (g = 10);
            void 0 === h && (h = 10);
            if (void 0 === c) return this.getEmptyData();
            if (null === c) return this.getEmptyData(d, f, g, h);
            if (a = a.cache.getTilemapData(c)) {
                if (a.format === b.Tilemap.CSV) return this.parseCSV(c, a.data, d, f);
                if (!a.format || a.format === b.Tilemap.TILED_JSON) return this.parseTiledJSON(a.data)
            } else console.warn("Phaser.TilemapParser.parse - No map data found for key " +
                c)
        },
        parseCSV: function(a, c, d, f) {
            var e = this.getEmptyData();
            c = c.trim();
            var k = [];
            c = c.split("\n");
            for (var g = c.length, h = 0, p = 0; p < c.length; p++) {
                k[p] = [];
                for (var r = c[p].split(","), u = 0; u < r.length; u++) k[p][u] = new b.Tile(e.layers[0], parseInt(r[u], 10), u, p, d, f);
                0 === h && (h = r.length)
            }
            e.format = b.Tilemap.CSV;
            e.name = a;
            e.width = h;
            e.height = g;
            e.tileWidth = d;
            e.tileHeight = f;
            e.widthInPixels = h * d;
            e.heightInPixels = g * f;
            e.layers[0].width = h;
            e.layers[0].height = g;
            e.layers[0].widthInPixels = e.widthInPixels;
            e.layers[0].heightInPixels = e.heightInPixels;
            e.layers[0].data = k;
            return e
        },
        getEmptyData: function(a, c, b, d) {
            return {
                width: void 0 !== b && null !== b ? b : 0,
                height: void 0 !== d && null !== d ? d : 0,
                tileWidth: void 0 !== a && null !== a ? a : 0,
                tileHeight: void 0 !== c && null !== c ? c : 0,
                orientation: "orthogonal",
                version: "1",
                properties: {},
                widthInPixels: 0,
                heightInPixels: 0,
                layers: [{
                    name: "layer",
                    x: 0,
                    y: 0,
                    width: 0,
                    height: 0,
                    widthInPixels: 0,
                    heightInPixels: 0,
                    alpha: 1,
                    visible: !0,
                    properties: {},
                    indexes: [],
                    callbacks: [],
                    bodies: [],
                    data: []
                }],
                images: [],
                objects: {},
                collision: {},
                tilesets: [],
                tiles: []
            }
        },
        _slice: function(a,
            c) {
            var b = {},
                d;
            for (d in c) {
                var f = c[d];
                "undefined" !== typeof a[f] && (b[f] = a[f])
            }
            return b
        },
        parseObjectGroup: function(a, c, b, d, f) {
            d = d || a.name;
            f = f || {
                x: 0,
                y: 0
            };
            var e = this._slice;
            d || console.warn("No name found for objectGroup", a);
            void 0 !== f.x && void 0 !== f.y || console.warn("Malformed xy properties in relativePosition", f);
            c[d] = c[d] || [];
            b[d] = b[d] || [];
            for (var k = 0, g = a.objects.length; k < g; k++) {
                var h = a.objects[k];
                if (h.gid) {
                    var l = {
                        gid: h.gid,
                        name: h.name,
                        type: h.type || "",
                        x: h.x + f.x,
                        y: h.y + f.y,
                        width: h.width,
                        height: h.height,
                        visible: h.visible,
                        properties: h.properties
                    };
                    h.rotation && (l.rotation = h.rotation)
                } else {
                    if (h.polyline) {
                        l = {
                            name: h.name,
                            type: h.type,
                            x: h.x + f.x,
                            y: h.y + f.y,
                            width: h.width,
                            height: h.height,
                            visible: h.visible,
                            properties: h.properties
                        };
                        h.rotation && (l.rotation = h.rotation);
                        l.polyline = [];
                        for (var u = 0; u < h.polyline.length; u++) l.polyline.push([h.polyline[u].x, h.polyline[u].y])
                    } else if (h.polygon)
                        for (l = e(h, "name type x y visible rotation properties".split(" ")), l.x += f.x, l.y += f.y, l.polygon = [], u = 0; u < h.polygon.length; u++) l.polygon.push([h.polygon[u].x,
                            h.polygon[u].y
                        ]);
                    else h.ellipse ? (l = e(h, "name type ellipse x y width height visible rotation properties".split(" ")), l.x += f.x, l.y += f.y) : (l = e(h, "name type x y width height visible rotation properties".split(" ")), l.x += f.x, l.y += f.y, l.rectangle = !0);
                    b[d].push(l)
                }
                c[d].push(l)
            }
            return {
                objectsCollection: c,
                collisionCollection: b
            }
        },
        parseTiledJSON: function(a) {
            if ("orthogonal" !== a.orientation) return console.warn("TilemapParser.parseTiledJSON - Only orthogonal map types are supported in this version of Phaser"),
                null;
            for (var c = {
                    width: a.width,
                    height: a.height,
                    tileWidth: a.tilewidth,
                    tileHeight: a.tileheight,
                    orientation: a.orientation,
                    format: b.Tilemap.TILED_JSON,
                    version: a.version,
                    properties: a.properties,
                    widthInPixels: a.width * a.tilewidth,
                    heightInPixels: a.height * a.tileheight
                }, d = [], f = 0; f < a.layers.length; f++)
                if ("tilelayer" === a.layers[f].type) {
                    var g = a.layers[f];
                    if (!g.compression && g.encoding && "base64" === g.encoding) {
                        for (var h = window.atob(g.data), q = h.length, n = Array(q), p = 0; p < q; p += 4) n[p / 4] = (h.charCodeAt(p) | h.charCodeAt(p +
                            1) << 8 | h.charCodeAt(p + 2) << 16 | h.charCodeAt(p + 3) << 24) >>> 0;
                        g.data = n;
                        delete g.encoding
                    } else if (g.compression) {
                        console.warn("TilemapParser.parseTiledJSON - Layer compression is unsupported, skipping layer '" + g.name + "'");
                        continue
                    }
                    h = {
                        name: g.name,
                        x: g.x,
                        y: g.y,
                        width: g.width,
                        height: g.height,
                        widthInPixels: g.width * a.tilewidth,
                        heightInPixels: g.height * a.tileheight,
                        alpha: g.opacity,
                        offsetX: g.offsetx,
                        offsetY: g.offsety,
                        visible: g.visible,
                        properties: {},
                        indexes: [],
                        callbacks: [],
                        bodies: []
                    };
                    g.properties && (h.properties = g.properties);
                    p = 0;
                    n = [];
                    var r = [],
                        u = 0;
                    for (q = g.data.length; u < q; u++) {
                        var t = 0;
                        var v = !1;
                        var w = g.data[u];
                        var x = 0;
                        if (536870912 < w) switch (2147483648 < w && (w -= 2147483648, x += 4), 1073741824 < w && (w -= 1073741824, x += 2), 536870912 < w && (w -= 536870912, x += 1), x) {
                            case 5:
                                t = Math.PI / 2;
                                break;
                            case 6:
                                t = Math.PI;
                                break;
                            case 3:
                                t = 3 * Math.PI / 2;
                                break;
                            case 4:
                                t = 0;
                                v = !0;
                                break;
                            case 7:
                                t = Math.PI / 2;
                                v = !0;
                                break;
                            case 2:
                                t = Math.PI;
                                v = !0;
                                break;
                            case 1:
                                t = 3 * Math.PI / 2, v = !0
                        }
                        0 < w ? (w = new b.Tile(h, w, p, r.length, a.tilewidth, a.tileheight), w.rotation = t, w.flipped = v, 0 !== x && (w.flippedVal =
                            x), n.push(w)) : b.TilemapParser.INSERT_NULL ? n.push(null) : n.push(new b.Tile(h, -1, p, r.length, a.tilewidth, a.tileheight));
                        p++;
                        p === g.width && (r.push(n), p = 0, n = [])
                    }
                    h.data = r;
                    d.push(h)
                } c.layers = d;
            d = [];
            for (f = 0; f < a.layers.length; f++) "imagelayer" === a.layers[f].type && (g = a.layers[f], h = {
                name: g.name,
                image: g.image,
                x: g.x,
                y: g.y,
                alpha: g.opacity,
                visible: g.visible,
                properties: {}
            }, g.properties && (h.properties = g.properties), d.push(h));
            c.images = d;
            p = [];
            d = {};
            n = [];
            q = null;
            for (f = 0; f < a.tilesets.length; f++) {
                g = a.tilesets[f];
                if (g.source) console.warn("Phaser.TilemapParser - Phaser can't load external tilesets (%s). Use the Embed Tileset button and then export the map again.",
                    g.source);
                else if (g.image) h = new b.Tileset(g.name, g.firstgid, g.tilewidth, g.tileheight, g.margin, g.spacing, g.properties), g.tileproperties && (h.tileProperties = g.tileproperties), h.updateTileData(g.imagewidth, g.imageheight), p.push(h);
                else if (g.tiles) {
                    u = new b.ImageCollection(g.name, g.firstgid, g.tilewidth, g.tileheight, g.margin, g.spacing, g.properties);
                    for (var y in g.tiles) h = g.tiles[y].image, w = g.firstgid + parseInt(y, 10), u.addImage(w, h);
                    n.push(u)
                } else throw Error("Tileset " + g.name + " has no `image` or `tiles` property.");
                for (y in g.tiles)(u = g.tiles[y].objectgroup) && (d[parseInt(y, 10) + g.firstgid] = u);
                q && (q.lastgid = g.firstgid - 1);
                q = g
            }
            if (0 === p.length && 0 === n.length) throw Error("This tilemap has no tilesets.");
            c.tilesets = p;
            c.imagecollections = n;
            g = {};
            y = {};
            for (f = 0; f < a.layers.length; f++) "objectgroup" === a.layers[f].type && (u = a.layers[f], this.parseObjectGroup(u, g, y));
            c.objects = g;
            c.collision = y;
            c.tiles = [];
            for (f = 0; f < c.tilesets.length; f++)
                for (g = c.tilesets[f], a = p = g.tileMargin, w = n = h = 0, u = g.firstgid; u < g.firstgid + g.total; u++) {
                    c.tiles[u] = [p, a, f];
                    p += g.tileWidth + g.tileSpacing;
                    h++;
                    if (h === g.total) break;
                    n++;
                    if (n === g.columns && (p = g.tileMargin, a += g.tileHeight + g.tileSpacing, n = 0, w++, w === g.rows)) break
                }
            for (f = 0; f < c.layers.length; f++)
                for (h = c.layers[f], y[h.name] = [], p = 0; p < h.data.length; p++)
                    for (n = h.data[p], a = 0; a < n.length; a++) w = n[a], null === w || 0 > w.index || (g = c.tiles[w.index][2], g = c.tilesets[g], g.tileProperties && g.tileProperties[w.index - g.firstgid] && (w.properties = b.Utils.mixin(g.tileProperties[w.index - g.firstgid], w.properties)), (u = d[w.index]) && this.parseObjectGroup(u,
                        c.objects, c.collision, w.layer.name, {
                            x: w.worldX + u.x,
                            y: w.worldY + u.y
                        }));
            return c
        }
    };
    b.Tileset = function(a, c, b, d, f, g, h) {
        if (void 0 === b || 0 >= b) b = 32;
        if (void 0 === d || 0 >= d) d = 32;
        void 0 === f && (f = 0);
        void 0 === g && (g = 0);
        this.name = a;
        this.firstgid = c | 0;
        this.tileWidth = b | 0;
        this.tileHeight = d | 0;
        this.tileMargin = f | 0;
        this.tileSpacing = g | 0;
        this.properties = h || {};
        this.image = null;
        this.total = this.columns = this.rows = 0;
        this.drawCoords = []
    };
    b.Tileset.prototype = {
        draw: function(a, c, b, d) {
            d = d - this.firstgid << 1;
            0 <= d && d + 1 < this.drawCoords.length &&
                a.drawImage(this.image, this.drawCoords[d], this.drawCoords[d + 1], this.tileWidth, this.tileHeight, c, b, this.tileWidth, this.tileHeight)
        },
        containsTileIndex: function(a) {
            return a >= this.firstgid && a < this.firstgid + this.total
        },
        setImage: function(a) {
            this.image = a;
            this.updateTileData(a.width, a.height)
        },
        setSpacing: function(a, c) {
            this.tileMargin = a | 0;
            this.tileSpacing = c | 0;
            this.image && this.updateTileData(this.image.width, this.image.height)
        },
        updateTileData: function(a, c) {
            var b = (c - 2 * this.tileMargin + this.tileSpacing) / (this.tileHeight +
                    this.tileSpacing),
                d = (a - 2 * this.tileMargin + this.tileSpacing) / (this.tileWidth + this.tileSpacing);
            0 === b % 1 && 0 === d % 1 || console.warn("Phaser.Tileset - '%s' image tile area (%s x %s) is not a whole multiple of tile size (%s x %s + %s + %s)", this.name, a, c, this.tileWidth, this.tileHeight, this.tileMargin, this.tileSpacing);
            b = Math.floor(b);
            d = Math.floor(d);
            (this.rows && this.rows !== b || this.columns && this.columns !== d) && console.warn("Phaser.Tileset - Tile layout from image '%s' (%s rows by %s columns) differs from tileset '%s' (%s rows by %s columns)",
                this.image.name, d, b, this.name, this.columns, this.rows);
            this.rows = b;
            this.columns = d;
            this.total = b * d;
            this.drawCoords.length = 0;
            c = a = this.tileMargin;
            for (b = 0; b < this.rows; b++) {
                for (d = 0; d < this.columns; d++) this.drawCoords.push(a), this.drawCoords.push(c), a += this.tileWidth + this.tileSpacing;
                a = this.tileMargin;
                c += this.tileHeight + this.tileSpacing
            }
        }
    };
    b.Tileset.prototype.constructor = b.Tileset;
    b.Particle = function(a, c, d, f, g) {
        b.Sprite.call(this, a, c, d, f, g);
        this.autoScale = !1;
        this.scaleData = null;
        this._s = 0;
        this.autoAlpha = !1;
        this.alphaData = null;
        this._a = 0
    };
    b.Particle.prototype = Object.create(b.Sprite.prototype);
    b.Particle.prototype.constructor = b.Particle;
    b.Particle.prototype.update = function() {
        this.autoScale && (this._s--, this._s ? this.scale.set(this.scaleData[this._s].x, this.scaleData[this._s].y) : this.autoScale = !1);
        this.autoAlpha && (this._a--, this._a ? this.alpha = this.alphaData[this._a].v : this.autoAlpha = !1)
    };
    b.Particle.prototype.onEmit = function() {};
    b.Particle.prototype.setAlphaData = function(a) {
        this.alphaData = a;
        this._a = a.length -
            1;
        this.alpha = this.alphaData[this._a].v;
        this.autoAlpha = !0
    };
    b.Particle.prototype.setScaleData = function(a) {
        this.scaleData = a;
        this._s = a.length - 1;
        this.scale.set(this.scaleData[this._s].x, this.scaleData[this._s].y);
        this.autoScale = !0
    };
    b.Particle.prototype.reset = function(a, c, d) {
        b.Component.Reset.prototype.reset.call(this, a, c, d);
        this.alpha = 1;
        this.scale.set(1);
        this.autoAlpha = this.autoScale = !1;
        return this
    };
    b.Particles = function(a) {
        this.game = a;
        this.emitters = {};
        this.ID = 0
    };
    b.Particles.prototype = {
        add: function(a) {
            return this.emitters[a.id] =
                a
        },
        remove: function(a) {
            delete this.emitters[a.id]
        }
    };
    b.Particles.prototype.constructor = b.Particles;
    b.Particles.Arcade = {};
    b.Particles.Arcade.Emitter = function(a, c, d, f) {
        this.maxParticles = f || 50;
        b.Group.call(this, a);
        this._id = this.game.particles.ID++;
        this.name = "emitter" + this.id;
        this.type = b.EMITTER;
        this.physicsType = b.GROUP;
        this.area = new b.Rectangle(c, d, 1, 1);
        this.maxAngle = this.minAngle = null;
        this.minSpeed = 0;
        this.maxSpeed = 100;
        this.minParticleSpeed = new b.Point(-100, -100);
        this.maxParticleSpeed = new b.Point(100,
            100);
        this.maxParticleScale = this.minParticleScale = 1;
        this.scaleData = null;
        this.minRotation = -360;
        this.maxRotation = 360;
        this.maxParticleAlpha = this.minParticleAlpha = 1;
        this.alphaData = null;
        this.particleClass = b.Particle;
        this.particleDrag = new b.Point;
        this.angularDrag = 0;
        this.frequency = 100;
        this.lifespan = 2E3;
        this.bounce = new b.Point;
        this.on = !1;
        this.particleAnchor = new b.Point(.5, .5);
        this.blendMode = b.blendModes.NORMAL;
        this.emitX = c;
        this.emitY = d;
        this.particleSendToBack = this.particleBringToTop = this.autoAlpha = this.autoScale = !1;
        this.counts = {
            emitted: 0,
            failed: 0,
            totalEmitted: 0,
            totalFailed: 0
        };
        this._gravity = new b.Point(0, 100);
        this._minParticleScale = new b.Point(1, 1);
        this._maxParticleScale = new b.Point(1, 1);
        this._flowTotal = this._flowQuantity = this._counter = this._timer = this._total = 0;
        this._explode = !0;
        this._frames = null
    };
    b.Particles.Arcade.Emitter.prototype = Object.create(b.Group.prototype);
    b.Particles.Arcade.Emitter.prototype.constructor = b.Particles.Arcade.Emitter;
    b.Particles.Arcade.Emitter.prototype.update = function() {
        this.counts.emitted =
            0;
        this.counts.failed = 0;
        if (this.on && this.game.time.time >= this._timer)
            if (this._timer = this.game.time.time + this.frequency * this.game.time.slowMotion, 0 !== this._flowTotal)
                if (0 < this._flowQuantity)
                    for (var a = 0; a < this._flowQuantity; a++) {
                        if (this.emitParticle() && (this._counter++, -1 !== this._flowTotal && this._counter >= this._flowTotal)) {
                            this.on = !1;
                            break
                        }
                    } else this.emitParticle() && (this._counter++, -1 !== this._flowTotal && this._counter >= this._flowTotal && (this.on = !1));
                else this.emitParticle() && (this._counter++, 0 < this._total &&
                    this._counter >= this._total && (this.on = !1));
        for (a = this.children.length; a--;) this.children[a].exists && this.children[a].update()
    };
    b.Particles.Arcade.Emitter.prototype.makeParticles = function(a, c, b, d, f, g) {
        void 0 === c && (c = 0);
        void 0 === b && (b = this.maxParticles);
        void 0 === d && (d = !1);
        void 0 === f && (f = !1);
        void 0 === g && (g = null);
        var e = 0,
            k = a,
            h = c;
        this._frames = c;
        b > this.maxParticles && (this.maxParticles = b);
        for (; e < b;) {
            Array.isArray(a) && (k = this.game.rnd.pick(a));
            Array.isArray(c) && (h = this.game.rnd.pick(c));
            var l = new this.particleClass(this.game,
                0, 0, k, h, g);
            this.game.physics.arcade.enable(l, !1);
            l.body.checkCollision.none = !d;
            l.body.collideWorldBounds = f;
            l.body.skipQuadTree = !0;
            l.exists = !1;
            l.visible = !1;
            l.anchor.copyFrom(this.particleAnchor);
            this.add(l);
            e++
        }
        return this
    };
    b.Particles.Arcade.Emitter.prototype.kill = function() {
        this.exists = this.alive = this.on = !1;
        return this
    };
    b.Particles.Arcade.Emitter.prototype.revive = function() {
        this.exists = this.alive = !0;
        return this
    };
    b.Particles.Arcade.Emitter.prototype.explode = function(a, c) {
        void 0 === c && (c = this.maxParticles);
        this._flowTotal = 0;
        this.start(!0, a, 0, c, !1);
        return this
    };
    b.Particles.Arcade.Emitter.prototype.flow = function(a, c, b, d, f) {
        if (void 0 === c || null === c) c = 250;
        if (void 0 === b || 0 === b) b = 1;
        void 0 === d && (d = -1);
        void 0 === f && (f = !0);
        b > this.maxParticles && (b = this.maxParticles);
        this._counter = 0;
        this._flowQuantity = b;
        this._flowTotal = d;
        f ? (this.start(!0, a, c, b), this._counter += b, this.on = !0, this._timer = this.game.time.time + c * this.game.time.slowMotion) : this.start(!1, a, c, b);
        return this
    };
    b.Particles.Arcade.Emitter.prototype.start = function(a,
        c, b, d, f) {
        void 0 === a && (a = !0);
        void 0 === c && (c = 0);
        if (void 0 === b || null === b) b = 250;
        void 0 === d && (d = 0);
        void 0 === f && (f = !1);
        d > this.maxParticles && (d = this.maxParticles);
        this.revive();
        this.visible = !0;
        this.lifespan = c;
        this.frequency = b;
        if (a || f)
            for (a = 0; a < d; a++) this.emitParticle();
        else this.on = !0, this._total = d, this._counter = 0, this._timer = this.game.time.time + b * this.game.time.slowMotion;
        return this
    };
    b.Particles.Arcade.Emitter.prototype.emitParticle = function(a, c, b, d) {
        void 0 === a && (a = null);
        void 0 === c && (c = null);
        var e = this.getNextParticle();
        if (null === e) return this.counts.failed++, this.counts.totalFailed++, !1;
        this.counts.emitted++;
        this.counts.totalEmitted++;
        var f = this.game.rnd;
        void 0 !== b && void 0 !== d ? e.loadTexture(b, d) : void 0 !== b && (e.loadTexture(b), e.frame = Array.isArray(this._frames) ? f.pick(this._frames) : this._frames);
        b = this.emitX;
        d = this.emitY;
        null !== a ? b = a : 1 < this.width && (b = f.between(this.left, this.right));
        null !== c ? d = c : 1 < this.height && (d = f.between(this.top, this.bottom));
        this.resetParticle(e, b, d);
        return !0
    };
    b.Particles.Arcade.Emitter.prototype.getNextParticle =
        function() {
            for (var a = this.length; a--;) {
                var c = this.next();
                if (!c.exists) return c
            }
            return null
        };
    b.Particles.Arcade.Emitter.prototype.resetParticle = function(a, c, b) {
        var d = this.game.rnd;
        a.reset(c, b);
        a.angle = 0;
        a.lifespan = this.lifespan;
        this.particleBringToTop ? this.bringToTop(a) : this.particleSendToBack && this.sendToBack(a);
        this.autoScale ? a.setScaleData(this.scaleData) : 1 !== this.minParticleScale || 1 !== this.maxParticleScale ? a.scale.set(d.realInRange(this.minParticleScale, this.maxParticleScale)) : this._minParticleScale.x !==
            this._maxParticleScale.x || this._minParticleScale.y !== this._maxParticleScale.y ? a.scale.set(d.realInRange(this._minParticleScale.x, this._maxParticleScale.x), d.realInRange(this._minParticleScale.y, this._maxParticleScale.y)) : a.scale.set(this._minParticleScale.x, this._minParticleScale.y);
        this.autoAlpha ? a.setAlphaData(this.alphaData) : a.alpha = d.realInRange(this.minParticleAlpha, this.maxParticleAlpha);
        a.blendMode = this.blendMode;
        c = a.body;
        c.updateBounds();
        c.bounce.copyFrom(this.bounce);
        c.drag.copyFrom(this.particleDrag);
        null != this.minAngle && null != this.maxAngle ? this.game.physics.arcade.velocityFromAngle(this.minAngle === this.maxAngle ? this.minAngle : d.between(this.minAngle, this.maxAngle), this.minSpeed === this.maxSpeed ? this.minSpeed : d.between(this.minSpeed, this.maxSpeed), c.velocity) : (c.velocity.x = d.between(this.minParticleSpeed.x, this.maxParticleSpeed.x), c.velocity.y = d.between(this.minParticleSpeed.y, this.maxParticleSpeed.y));
        c.angularVelocity = d.between(this.minRotation, this.maxRotation);
        c.gravity.copyFrom(this.gravity);
        c.angularDrag = this.angularDrag;
        a.onEmit()
    };
    b.Particles.Arcade.Emitter.prototype.destroy = function() {
        this.game.particles.remove(this);
        b.Group.prototype.destroy.call(this, !0, !1)
    };
    b.Particles.Arcade.Emitter.prototype.setSize = function(a, c) {
        this.area.width = a;
        this.area.height = c;
        return this
    };
    b.Particles.Arcade.Emitter.prototype.setXSpeed = function(a, c) {
        this.minParticleSpeed.x = a || 0;
        this.maxParticleSpeed.x = c || 0;
        return this
    };
    b.Particles.Arcade.Emitter.prototype.setYSpeed = function(a, c) {
        this.minParticleSpeed.y =
            a || 0;
        this.maxParticleSpeed.y = c || 0;
        return this
    };
    b.Particles.Arcade.Emitter.prototype.setRotation = function(a, c) {
        this.minRotation = a || 0;
        this.maxRotation = c || 0;
        return this
    };
    b.Particles.Arcade.Emitter.prototype.setAlpha = function(a, c, d, f, g) {
        void 0 === a && (a = 1);
        void 0 === c && (c = 1);
        void 0 === d && (d = 0);
        void 0 === f && (f = b.Easing.Linear.None);
        void 0 === g && (g = !1);
        this.minParticleAlpha = a;
        this.maxParticleAlpha = c;
        this.autoAlpha = !1;
        0 < d && a !== c && (a = this.game.make.tween({
                v: a
            }).to({
                v: c
            }, d, f), a.yoyo(g), this.alphaData = a.generateData(60),
            this.alphaData.reverse(), this.autoAlpha = !0);
        return this
    };
    b.Particles.Arcade.Emitter.prototype.setScale = function(a, c, d, f, g, h, q) {
        void 0 === a && (a = 1);
        void 0 === c && (c = 1);
        void 0 === d && (d = 1);
        void 0 === f && (f = 1);
        void 0 === g && (g = 0);
        void 0 === h && (h = b.Easing.Linear.None);
        void 0 === q && (q = !1);
        this.maxParticleScale = this.minParticleScale = 1;
        this._minParticleScale.set(a, d);
        this._maxParticleScale.set(c, f);
        this.autoScale = !1;
        0 < g && (a !== c || d !== f) && (a = this.game.make.tween({
                x: a,
                y: d
            }).to({
                x: c,
                y: f
            }, g, h), a.yoyo(q), this.scaleData = a.generateData(60),
            this.scaleData.reverse(), this.autoScale = !0);
        return this
    };
    b.Particles.Arcade.Emitter.prototype.setAngle = function(a, c, b, d) {
        this.minAngle = a;
        this.maxAngle = c;
        null != b && (this.minSpeed = b);
        null != d && (this.maxSpeed = d);
        return this
    };
    b.Particles.Arcade.Emitter.prototype.at = function(a) {
        a.center ? (this.emitX = a.center.x, this.emitY = a.center.y) : (this.emitX = a.world.x + a.anchor.x * a.width, this.emitY = a.world.y + a.anchor.y * a.height);
        return this
    };
    Object.defineProperty(b.Particles.Arcade.Emitter.prototype, "gravity", {
        get: function() {
            return this._gravity
        },
        set: function(a) {
            "number" === typeof a ? this._gravity.y = a : this._gravity = a
        }
    });
    Object.defineProperty(b.Particles.Arcade.Emitter.prototype, "id", {
        get: function() {
            return this._id
        }
    });
    Object.defineProperty(b.Particles.Arcade.Emitter.prototype, "width", {
        get: function() {
            return this.area.width
        },
        set: function(a) {
            this.area.width = a
        }
    });
    Object.defineProperty(b.Particles.Arcade.Emitter.prototype, "height", {
        get: function() {
            return this.area.height
        },
        set: function(a) {
            this.area.height = a
        }
    });
    Object.defineProperty(b.Particles.Arcade.Emitter.prototype,
        "x", {
            get: function() {
                return this.emitX
            },
            set: function(a) {
                this.emitX = a
            }
        });
    Object.defineProperty(b.Particles.Arcade.Emitter.prototype, "y", {
        get: function() {
            return this.emitY
        },
        set: function(a) {
            this.emitY = a
        }
    });
    Object.defineProperty(b.Particles.Arcade.Emitter.prototype, "left", {
        get: function() {
            return Math.floor(this.x - this.area.width / 2)
        }
    });
    Object.defineProperty(b.Particles.Arcade.Emitter.prototype, "right", {
        get: function() {
            return Math.floor(this.x + this.area.width / 2)
        }
    });
    Object.defineProperty(b.Particles.Arcade.Emitter.prototype,
        "top", {
            get: function() {
                return Math.floor(this.y - this.area.height / 2)
            }
        });
    Object.defineProperty(b.Particles.Arcade.Emitter.prototype, "bottom", {
        get: function() {
            return Math.floor(this.y + this.area.height / 2)
        }
    });
    Object.defineProperty(b.Particles.Arcade.Emitter.prototype, "output", {
        get: function() {
            return 1E3 * this._flowQuantity / this.frequency
        }
    });
    Object.defineProperty(b.Particles.Arcade.Emitter.prototype, "lifespanOutput", {
        get: function() {
            return (0 === this.lifespan ? Infinity : this.lifespan) * this._flowQuantity / this.frequency
        }
    });
    Object.defineProperty(b.Particles.Arcade.Emitter.prototype, "remainder", {
        get: function() {
            return this.maxParticles - this.lifespanOutput
        }
    });
    b.Weapon = function(a, c) {
        b.Plugin.call(this, a, c);
        this.bullets = null;
        this.autofire = this.autoExpandBulletsGroup = !1;
        this.fireLimit = this.shots = 0;
        this.fireRate = 100;
        this.fireRateVariance = 0;
        this.fireFrom = new b.Rectangle(0, 0, 1, 1);
        this.fireAngle = b.ANGLE_UP;
        this.bulletInheritSpriteSpeed = !1;
        this.bulletAnimation = "";
        this.bulletWorldWrap = this.bulletFrameCycle = this.bulletFrameRandom = !1;
        this.bulletAngleVariance = this.bulletAngleOffset = this.bulletWorldWrapPadding = 0;
        this.bulletSpeed = 200;
        this.bulletKillDistance = this.bulletLifespan = this.bulletSpeedVariance = 0;
        this.bulletGravity = new b.Point(0, 0);
        this.bulletRotateToVelocity = !1;
        this.bulletFrame = this.bulletKey = "";
        this._bulletClass = b.Bullet;
        this._bulletCollideWorldBounds = !1;
        this._bulletKillType = b.Weapon.KILL_WORLD_BOUNDS;
        this._data = {
            customBody: !1,
            width: 0,
            height: 0,
            offsetX: 0,
            offsetY: 0
        };
        this.bounds = new b.Rectangle;
        this.bulletBounds = a.world.bounds;
        this.bulletFrames = [];
        this.bulletFrameIndex = 0;
        this.anims = {};
        this.onFire = new b.Signal;
        this.onKill = new b.Signal;
        this.onFireLimit = new b.Signal;
        this.trackedPointer = this.trackedSprite = null;
        this.trackRotation = this._hasFired = this.multiFire = !1;
        this.trackOffset = new b.Point;
        this._tempNextFire = this._nextFire = 0;
        this._rotatedPoint = new b.Point
    };
    b.Weapon.prototype = Object.create(b.Plugin.prototype);
    b.Weapon.prototype.constructor = b.Weapon;
    b.Weapon.KILL_NEVER = 0;
    b.Weapon.KILL_LIFESPAN = 1;
    b.Weapon.KILL_DISTANCE = 2;
    b.Weapon.KILL_WEAPON_BOUNDS =
        3;
    b.Weapon.KILL_CAMERA_BOUNDS = 4;
    b.Weapon.KILL_WORLD_BOUNDS = 5;
    b.Weapon.KILL_STATIC_BOUNDS = 6;
    b.Weapon.prototype.createBullets = function(a, c, d, f) {
        void 0 === a && (a = 1);
        void 0 === f && (f = this.game.world);
        this.bullets && !this.bullets.game && (this.bullets = null);
        this.bullets || (this.bullets = this.game.add.physicsGroup(b.Physics.ARCADE, f), this.bullets.classType = this._bulletClass);
        0 !== a && (-1 === a && (this.autoExpandBulletsGroup = !0, a = 1), this.bullets.createMultiple(a, c, d), this.bullets.setAll("data.bulletManager", this), this.bulletKey =
            c, this.bulletFrame = d);
        return this
    };
    b.Weapon.prototype.forEach = function(a, c) {
        this.bullets.forEachExists(a, c, arguments);
        return this
    };
    b.Weapon.prototype.pauseAll = function() {
        this.bullets.setAll("body.enable", !1);
        return this
    };
    b.Weapon.prototype.resumeAll = function() {
        this.bullets.setAll("body.enable", !0);
        return this
    };
    b.Weapon.prototype.killAll = function() {
        this.bullets.callAllExists("kill", !0);
        this.bullets.setAll("body.enable", !0);
        return this
    };
    b.Weapon.prototype.resetShots = function(a) {
        this.shots = 0;
        void 0 !==
            a && (this.fireLimit = a);
        return this
    };
    b.Weapon.prototype.destroy = function() {
        this.parent.remove(this, !1);
        this.bullets.destroy();
        this.parent = this.game = null;
        this.visible = this.active = !1
    };
    b.Weapon.prototype.update = function() {
        this._bulletKillType === b.Weapon.KILL_WEAPON_BOUNDS && (this.trackedSprite ? (this.trackedSprite.updateTransform(), this.bounds.centerOn(this.trackedSprite.worldPosition.x, this.trackedSprite.worldPosition.y)) : this.trackedPointer && this.bounds.centerOn(this.trackedPointer.worldX, this.trackedPointer.worldY));
        this.autofire && this.fire()
    };
    b.Weapon.prototype.postRender = function() {
        this.multiFire && this._hasFired && (this._hasFired = !1, this._nextFire = this._tempNextFire)
    };
    b.Weapon.prototype.trackSprite = function(a, c, b, d) {
        void 0 === c && (c = 0);
        void 0 === b && (b = 0);
        void 0 === d && (d = !1);
        this.trackedPointer = null;
        this.trackedSprite = a;
        this.trackRotation = d;
        this.trackOffset.set(c, b);
        return this
    };
    b.Weapon.prototype.trackPointer = function(a, c, b) {
        void 0 === a && (a = this.game.input.activePointer);
        void 0 === c && (c = 0);
        void 0 === b && (b = 0);
        this.trackedPointer =
            a;
        this.trackedSprite = null;
        this.trackRotation = !1;
        this.trackOffset.set(c, b);
        return this
    };
    b.Weapon.prototype.fireMany = function(a, c) {
        this.multiFire = !0;
        var b = [],
            d = this;
        c || this.trackedSprite || this.trackedPointer ? a.forEach(function(a) {
            b.push(d.fire(c, null, null, a.x, a.y))
        }) : a.forEach(function(a) {
            b.push(d.fire(a))
        });
        return b
    };
    b.Weapon.prototype.fireOffset = function(a, c) {
        void 0 === a && (a = 0);
        void 0 === c && (c = 0);
        return this.fire(null, null, null, a, c)
    };
    b.Weapon.prototype.fire = function(a, c, d, f, g) {
        void 0 === c && (c = null);
        void 0 === d && (d = null);
        if (this.game.time.now < this._nextFire || 0 < this.fireLimit && this.shots === this.fireLimit) return null;
        var e = this.bulletSpeed;
        0 !== this.bulletSpeedVariance && (e += b.Math.between(-this.bulletSpeedVariance, this.bulletSpeedVariance));
        a ? 1 < this.fireFrom.width ? this.fireFrom.centerOn(a.x, a.y) : (this.fireFrom.x = a.x, this.fireFrom.y = a.y) : this.trackedSprite ? (this.trackRotation ? (this._rotatedPoint.set(this.trackedSprite.world.x + this.trackOffset.x, this.trackedSprite.world.y + this.trackOffset.y), this._rotatedPoint.rotate(this.trackedSprite.world.x,
                this.trackedSprite.world.y, this.trackedSprite.worldRotation), 1 < this.fireFrom.width ? this.fireFrom.centerOn(this._rotatedPoint.x, this._rotatedPoint.y) : (this.fireFrom.x = this._rotatedPoint.x, this.fireFrom.y = this._rotatedPoint.y)) : 1 < this.fireFrom.width ? this.fireFrom.centerOn(this.trackedSprite.world.x + this.trackOffset.x, this.trackedSprite.world.y + this.trackOffset.y) : (this.fireFrom.x = this.trackedSprite.world.x + this.trackOffset.x, this.fireFrom.y = this.trackedSprite.world.y + this.trackOffset.y), this.bulletInheritSpriteSpeed &&
            (e += this.trackedSprite.body.speed)) : this.trackedPointer && (1 < this.fireFrom.width ? this.fireFrom.centerOn(this.trackedPointer.world.x + this.trackOffset.x, this.trackedPointer.world.y + this.trackOffset.y) : (this.fireFrom.x = this.trackedPointer.world.x + this.trackOffset.x, this.fireFrom.y = this.trackedPointer.world.y + this.trackOffset.y));
        void 0 !== f && (this.fireFrom.x += f);
        void 0 !== g && (this.fireFrom.y += g);
        a = 1 < this.fireFrom.width ? this.fireFrom.randomX : this.fireFrom.x;
        f = 1 < this.fireFrom.height ? this.fireFrom.randomY :
            this.fireFrom.y;
        g = this.trackRotation ? this.trackedSprite.angle : this.fireAngle;
        null !== c && null !== d && (g = this.game.math.radToDeg(Math.atan2(d - f, c - a)));
        0 !== this.bulletAngleVariance && (g += b.Math.between(-this.bulletAngleVariance, this.bulletAngleVariance));
        var k = d = 0;
        0 === g || 180 === g ? d = Math.cos(this.game.math.degToRad(g)) * e : (90 !== g && 270 !== g && (d = Math.cos(this.game.math.degToRad(g)) * e), k = Math.sin(this.game.math.degToRad(g)) * e);
        this.autoExpandBulletsGroup ? (c = this.bullets.getFirstExists(!1, !0, a, f, this.bulletKey,
            this.bulletFrame), c.data.bulletManager = this) : c = this.bullets.getFirstExists(!1);
        c && (c.reset(a, f), c.data.fromX = a, c.data.fromY = f, c.data.killType = this.bulletKillType, c.data.killDistance = this.bulletKillDistance, c.data.rotateToVelocity = this.bulletRotateToVelocity, this.bulletKillType === b.Weapon.KILL_LIFESPAN && (c.lifespan = this.bulletLifespan), c.angle = g + this.bulletAngleOffset, "" !== this.bulletAnimation ? (null === c.animations.getAnimation(this.bulletAnimation) && (a = this.anims[this.bulletAnimation], c.animations.add(a.name,
                a.frames, a.frameRate, a.loop, a.useNumericIndex)), c.animations.play(this.bulletAnimation)) : this.bulletFrameCycle ? (c.frame = this.bulletFrames[this.bulletFrameIndex], this.bulletFrameIndex++, this.bulletFrameIndex >= this.bulletFrames.length && (this.bulletFrameIndex = 0)) : this.bulletFrameRandom && (c.frame = this.bulletFrames[Math.floor(Math.random() * this.bulletFrames.length)]), c.data.bodyDirty && (this._data.customBody && c.body.setSize(this._data.width, this._data.height, this._data.offsetX, this._data.offsetY), c.body.collideWorldBounds =
                this.bulletCollideWorldBounds, c.data.bodyDirty = !1), c.body.velocity.set(d, k), c.body.gravity.set(this.bulletGravity.x, this.bulletGravity.y), 0 !== this.bulletSpeedVariance ? (d = this.fireRate, d += b.Math.between(-this.fireRateVariance, this.fireRateVariance), 0 > d && (d = 0), d = this.game.time.now + d) : d = this.game.time.now + this.fireRate, this.multiFire ? this._hasFired || (this._hasFired = !0, this._tempNextFire = d, this.shots++) : (this._nextFire = d, this.shots++), this.onFire.dispatch(c, this, e), 0 < this.fireLimit && this.shots === this.fireLimit &&
            this.onFireLimit.dispatch(this, this.fireLimit));
        return c
    };
    b.Weapon.prototype.fireAtPointer = function(a) {
        void 0 === a && (a = this.game.input.activePointer);
        return this.fire(null, a.worldX, a.worldY)
    };
    b.Weapon.prototype.fireAtSprite = function(a) {
        return this.fire(null, a.world.x, a.world.y)
    };
    b.Weapon.prototype.fireAtXY = function(a, c) {
        return this.fire(null, a, c)
    };
    b.Weapon.prototype.setBulletBodyOffset = function(a, c, b, d) {
        void 0 === b && (b = 0);
        void 0 === d && (d = 0);
        this._data.customBody = !0;
        this._data.width = a;
        this._data.height =
            c;
        this._data.offsetX = b;
        this._data.offsetY = d;
        this.bullets.callAll("body.setSize", "body", a, c, b, d);
        this.bullets.setAll("data.bodyDirty", !1);
        return this
    };
    b.Weapon.prototype.setBulletFrames = function(a, c, d, f) {
        void 0 === d && (d = !0);
        void 0 === f && (f = !1);
        this.bulletFrames = b.ArrayUtils.numberArray(a, c);
        this.bulletFrameIndex = 0;
        this.bulletFrameCycle = d;
        this.bulletFrameRandom = f;
        return this
    };
    b.Weapon.prototype.addBulletAnimation = function(a, c, b, d, f) {
        this.anims[a] = {
            name: a,
            frames: c,
            frameRate: b,
            loop: d,
            useNumericIndex: f
        };
        this.bullets.callAll("animations.add", "animations", a, c, b, d, f);
        this.bulletAnimation = a;
        return this
    };
    b.Weapon.prototype.debug = function(a, c, b) {
        void 0 === a && (a = 16);
        void 0 === c && (c = 32);
        void 0 === b && (b = !1);
        this.game.debug.text("Weapon Plugin", a, c);
        this.game.debug.text("Bullets Alive: " + this.bullets.total + " - Total: " + this.bullets.length, a, c + 24);
        b && this.bullets.forEachExists(this.game.debug.body, this.game.debug, "rgba(255, 0, 255, 0.8)")
    };
    Object.defineProperty(b.Weapon.prototype, "bulletClass", {
        get: function() {
            return this._bulletClass
        },
        set: function(a) {
            this._bulletClass = a;
            this.bullets && (this.bullets.classType = this._bulletClass)
        }
    });
    Object.defineProperty(b.Weapon.prototype, "bulletKillType", {
        get: function() {
            return this._bulletKillType
        },
        set: function(a) {
            switch (a) {
                case b.Weapon.KILL_STATIC_BOUNDS:
                case b.Weapon.KILL_WEAPON_BOUNDS:
                    this.bulletBounds = this.bounds;
                    break;
                case b.Weapon.KILL_CAMERA_BOUNDS:
                    this.bulletBounds = this.game.camera.view;
                    break;
                case b.Weapon.KILL_WORLD_BOUNDS:
                    this.bulletBounds = this.game.world.bounds
            }
            this._bulletKillType = a
        }
    });
    Object.defineProperty(b.Weapon.prototype, "bulletCollideWorldBounds", {
        get: function() {
            return this._bulletCollideWorldBounds
        },
        set: function(a) {
            this._bulletCollideWorldBounds = a;
            this.bullets.setAll("body.collideWorldBounds", a);
            this.bullets.setAll("data.bodyDirty", !1)
        }
    });
    Object.defineProperty(b.Weapon.prototype, "x", {
        get: function() {
            return this.fireFrom.x
        },
        set: function(a) {
            this.fireFrom.x = a
        }
    });
    Object.defineProperty(b.Weapon.prototype, "y", {
        get: function() {
            return this.fireFrom.y
        },
        set: function(a) {
            this.fireFrom.y =
                a
        }
    });
    b.Bullet = function(a, c, d, f, g) {
        b.Sprite.call(this, a, c, d, f, g);
        this.anchor.set(.5);
        this.data = {
            bulletManager: null,
            fromX: 0,
            fromY: 0,
            bodyDirty: !0,
            rotateToVelocity: !1,
            killType: 0,
            killDistance: 0
        }
    };
    b.Bullet.prototype = Object.create(b.Sprite.prototype);
    b.Bullet.prototype.constructor = b.Bullet;
    b.Bullet.prototype.kill = function() {
        this.visible = this.exists = this.alive = !1;
        this.data.bulletManager.onKill.dispatch(this);
        return this
    };
    b.Bullet.prototype.update = function() {
        this.exists && (this.data.killType > b.Weapon.KILL_LIFESPAN &&
            (this.data.killType === b.Weapon.KILL_DISTANCE ? this.game.physics.arcade.distanceToXY(this, this.data.fromX, this.data.fromY, !0) > this.data.killDistance && this.kill() : this.data.bulletManager.bulletBounds.intersects(this) || this.kill()), this.data.rotateToVelocity && (this.rotation = this.body.velocity.atan()), this.data.bulletManager.bulletWorldWrap && this.game.world.wrap(this, this.data.bulletManager.bulletWorldWrapPadding))
    };
    b.Video = function(a, c, d) {
        void 0 === c && (c = null);
        void 0 === d && (d = null);
        this.game = a;
        this.key =
            c;
        this.height = this.width = 0;
        this.type = b.VIDEO;
        this.touchLocked = this.disableTextureUpload = !1;
        this.onPlay = new b.Signal;
        this.onChangeSource = new b.Signal;
        this.onComplete = new b.Signal;
        this.onAccess = new b.Signal;
        this.onError = new b.Signal;
        this.onTimeout = new b.Signal;
        this.onTouchUnlock = new b.Signal;
        this.playWhenUnlocked = !0;
        this.timeout = 15E3;
        this.videoStream = this.video = this._timeOutID = null;
        this.isStreaming = !1;
        this.retryLimit = 20;
        this.retry = 0;
        this.retryInterval = 500;
        this._retryID = null;
        this._autoplay = this._pendingChangeSource =
            this._pending = this._paused = this._codePaused = this._muted = this._codeMuted = !1;
        this._playCallback = this._endCallback = null;
        if (c && this.game.cache.checkVideoKey(c)) {
            var e = this.game.cache.getVideo(c);
            e.isBlob ? this.createVideoFromBlob(e.data) : this.video = e.data;
            this.width = this.video.videoWidth;
            this.height = this.video.videoHeight
        } else d && this.createVideoFromURL(d, !1);
        this.baseTexture = this.video && !d ? new PIXI.BaseTexture(this.video, null, this.game.resolution) : new PIXI.BaseTexture(b.Cache.DEFAULT.baseTexture.source,
            null, this.game.resolution);
        this.baseTexture.forceLoaded(this.width, this.height);
        this.texture = new PIXI.Texture(this.baseTexture);
        this.textureFrame = new b.Frame(0, 0, 0, this.width, this.height, "video");
        this.texture.setFrame(this.textureFrame);
        this.texture.valid = !1;
        null !== c && this.video && (this.texture.valid = this.video.canplay);
        this.snapshot = null;
        b.BitmapData && (this.snapshot = new b.BitmapData(this.game, "", this.width, this.height));
        this.game.device.needsTouchUnlock() ? this.setTouchLock() : e && (e.locked = !1)
    };
    b.Video.prototype = {
        connectToMediaStream: function(a, c) {
            a && c && (this.video = a, this.videoStream = c, this.isStreaming = !0, this.baseTexture.source = this.video, this.updateTexture(null, this.video.videoWidth, this.video.videoHeight), this.onAccess.dispatch(this));
            return this
        },
        startMediaStream: function(a, c, b) {
            void 0 === a && (a = !1);
            void 0 === c && (c = null);
            void 0 === b && (b = null);
            if (!this.game.device.getUserMedia) return this.onError.dispatch(this, "No getUserMedia"), !1;
            null !== this.videoStream && (this.videoStream.active ? this.videoStream.active = !1 : this.videoStream.stop());
            this.removeVideoElement();
            this.video = document.createElement("video");
            this.video.setAttribute("autoplay", "autoplay");
            null !== c && (this.video.width = c);
            null !== b && (this.video.height = b);
            this._timeOutID = window.setTimeout(this.getUserMediaTimeout.bind(this), this.timeout);
            try {
                navigator.getUserMedia({
                    audio: a,
                    video: !0
                }, this.getUserMediaSuccess.bind(this), this.getUserMediaError.bind(this))
            } catch (k) {
                this.getUserMediaError(k)
            }
            return this
        },
        getUserMediaTimeout: function() {
            clearTimeout(this._timeOutID);
            this.onTimeout.dispatch(this)
        },
        getUserMediaError: function(a) {
            clearTimeout(this._timeOutID);
            this.onError.dispatch(this, a)
        },
        getUserMediaSuccess: function(a) {
            clearTimeout(this._timeOutID);
            this.videoStream = a;
            void 0 !== this.video.mozSrcObject ? this.video.mozSrcObject = a : this.video.src = window.URL && window.URL.createObjectURL(a) || a;
            var c = this;
            this.video.onloadeddata = function() {
                function a() {
                    if (0 < b)
                        if (0 < c.video.videoWidth) {
                            var d = c.video.videoWidth,
                                e = c.video.videoHeight;
                            isNaN(c.video.videoHeight) && (e = d / (4 / 3));
                            c.video.play();
                            c.isStreaming = !0;
                            c.baseTexture.source = c.video;
                            c.updateTexture(null, d, e);
                            c.onAccess.dispatch(c)
                        } else window.setTimeout(a, 500);
                    else console.warn("Unable to connect to video stream. Webcam error?");
                    b--
                }
                var b = 10;
                a()
            }
        },
        createVideoFromBlob: function(a) {
            var c = this;
            this.video = document.createElement("video");
            this.video.controls = !1;
            this.video.setAttribute("autoplay", "autoplay");
            this.video.addEventListener("loadeddata", function(a) {
                c.updateTexture(a)
            }, !0);
            this.video.src = window.URL.createObjectURL(a);
            this.video.canplay = !0;
            return this
        },
        createVideoFromURL: function(a, c) {
            void 0 === c && (c = !1);
            this.texture && (this.texture.valid = !1);
            this.video = document.createElement("video");
            this.video.controls = !1;
            c && this.video.setAttribute("autoplay", "autoplay");
            this.video.src = a;
            this.video.canplay = !0;
            this.video.load();
            this.retry = this.retryLimit;
            this._retryID = window.setTimeout(this.checkVideoProgress.bind(this), this.retryInterval);
            this.key = a;
            return this
        },
        updateTexture: function(a, c, b) {
            a = !1;
            if (void 0 === c || null === c) c = this.video.videoWidth, a = !0;
            if (void 0 === b || null === b) b = this.video.videoHeight;
            this.width = c;
            this.height = b;
            this.baseTexture.source !== this.video && (this.baseTexture.source = this.video);
            this.baseTexture.forceLoaded(c, b);
            this.texture.frame.resize(c, b);
            this.texture.width = c;
            this.texture.height = b;
            this.texture.valid = !0;
            this.snapshot && this.snapshot.resize(c, b);
            a && null !== this.key && (this.onChangeSource.dispatch(this, c, b), this._autoplay && (this.video.play(), this.onPlay.dispatch(this, this.loop, this.playbackRate)))
        },
        complete: function() {
            this.onComplete.dispatch(this)
        },
        play: function(a, c) {
            if (this._pendingChangeSource) return this;
            void 0 === a && (a = !1);
            void 0 === c && (c = 1);
            this.game.sound.onMute && (this.game.sound.onMute.add(this.setMute, this), this.game.sound.onUnMute.add(this.unsetMute, this), this.game.sound.mute && this.setMute());
            this.game.onPause.add(this.setPause, this);
            this.game.onResume.add(this.setResume, this);
            this._endCallback = this.complete.bind(this);
            this.video.addEventListener("ended", this._endCallback, !0);
            this.video.addEventListener("webkitendfullscreen", this._endCallback,
                !0);
            this.video.loop = a ? "loop" : "";
            this.video.playbackRate = c;
            this.touchLocked ? this._pending = !0 : (this._pending = !1, null !== this.key && (4 !== this.video.readyState ? (this.retry = this.retryLimit, this._retryID = window.setTimeout(this.checkVideoProgress.bind(this), this.retryInterval)) : (this._playCallback = this.playHandler.bind(this), this.video.addEventListener("playing", this._playCallback, !0))), this.video.play(), this.onPlay.dispatch(this, a, c));
            return this
        },
        playHandler: function() {
            this.video.removeEventListener("playing",
                this._playCallback, !0);
            this.updateTexture()
        },
        stop: function() {
            this.game.sound.onMute && (this.game.sound.onMute.remove(this.setMute, this), this.game.sound.onUnMute.remove(this.unsetMute, this));
            this.game.onPause.remove(this.setPause, this);
            this.game.onResume.remove(this.setResume, this);
            this.isStreaming ? (this.video.mozSrcObject ? (this.video.mozSrcObject.stop(), this.video.src = null) : (this.video.src = "", this.videoStream.active ? this.videoStream.active = !1 : this.videoStream.getTracks ? this.videoStream.getTracks().forEach(function(a) {
                    a.stop()
                }) :
                this.videoStream.stop()), this.videoStream = null, this.isStreaming = !1) : (this.video.removeEventListener("ended", this._endCallback, !0), this.video.removeEventListener("webkitendfullscreen", this._endCallback, !0), this.video.removeEventListener("playing", this._playCallback, !0), this.touchLocked ? this._pending = !1 : this.video.pause());
            return this
        },
        add: function(a) {
            if (Array.isArray(a))
                for (var c = 0; c < a.length; c++) a[c].loadTexture && a[c].loadTexture(this);
            else a.loadTexture(this);
            return this
        },
        addToWorld: function(a, c,
            b, d, f, g) {
            f = f || 1;
            g = g || 1;
            a = this.game.add.image(a, c, this);
            a.anchor.set(b, d);
            a.scale.set(f, g);
            return a
        },
        render: function() {
            !this.disableTextureUpload && this.playing && this.baseTexture.dirty()
        },
        setMute: function() {
            this._muted || (this._muted = !0, this.video.muted = !0)
        },
        unsetMute: function() {
            this._muted && !this._codeMuted && (this._muted = !1, this.video.muted = !1)
        },
        setPause: function() {
            this._paused || this.touchLocked || (this._paused = !0, this.video.pause())
        },
        setResume: function() {
            !this._paused || this._codePaused || this.touchLocked ||
                (this._paused = !1, this.video.ended || this.video.play())
        },
        changeSource: function(a, c) {
            void 0 === c && (c = !0);
            this.texture.valid = !1;
            this.video.pause();
            this._pendingChangeSource = !0;
            this.retry = this.retryLimit;
            this._retryID = window.setTimeout(this.checkVideoProgress.bind(this), this.retryInterval);
            this.video.src = a;
            this.video.load();
            this._autoplay = c;
            c || (this.paused = !0);
            return this
        },
        checkVideoProgress: function() {
            4 === this.video.readyState ? (this._pendingChangeSource = !1, this.updateTexture()) : (this.retry--, 0 < this.retry ?
                this._retryID = window.setTimeout(this.checkVideoProgress.bind(this), this.retryInterval) : console.warn("Phaser.Video: Unable to start downloading video in time", this.isStreaming))
        },
        setTouchLock: function() {
            this.game.input.addTouchLockCallback(this.unlock, this, !0);
            this.touchLocked = !0
        },
        unlock: function() {
            this.touchLocked = !1;
            this.playWhenUnlocked && (this.video.play(), this.onPlay.dispatch(this, this.loop, this.playbackRate));
            if (this.key) {
                var a = this.game.cache.getVideo(this.key);
                a && !a.isBlob && (a.locked = !1)
            }
            this.onTouchUnlock.dispatch(this);
            return !0
        },
        grab: function(a, c, b) {
            void 0 === a && (a = !1);
            void 0 === c && (c = 1);
            void 0 === b && (b = null);
            if (null === this.snapshot) console.warn("Video.grab cannot run because Phaser.BitmapData is unavailable");
            else return a && this.snapshot.cls(), this.snapshot.copy(this.video, 0, 0, this.width, this.height, 0, 0, this.width, this.height, 0, 0, 0, 1, 1, c, b), this.snapshot
        },
        removeVideoElement: function() {
            if (this.video) {
                for (this.video.parentNode && this.video.parentNode.removeChild(this.video); this.video.hasChildNodes();) this.video.removeChild(this.video.firstChild);
                this.video.removeAttribute("autoplay");
                this.video.removeAttribute("src");
                this.video = null
            }
        },
        destroy: function() {
            this.stop();
            this.removeVideoElement();
            this.touchLocked && this.game.input.touch.removeTouchLockCallback(this.unlock, this);
            this._retryID && window.clearTimeout(this._retryID)
        }
    };
    Object.defineProperty(b.Video.prototype, "currentTime", {
        get: function() {
            return this.video ? this.video.currentTime : 0
        },
        set: function(a) {
            this.video.currentTime = a
        }
    });
    Object.defineProperty(b.Video.prototype, "duration", {
        get: function() {
            return this.video ?
                this.video.duration : 0
        }
    });
    Object.defineProperty(b.Video.prototype, "progress", {
        get: function() {
            return this.video ? this.video.currentTime / this.video.duration : 0
        }
    });
    Object.defineProperty(b.Video.prototype, "mute", {
        get: function() {
            return this._muted
        },
        set: function(a) {
            a ? this._muted || (this._codeMuted = !0, this.setMute()) : this._muted && (this._codeMuted = !1, this.unsetMute())
        }
    });
    Object.defineProperty(b.Video.prototype, "paused", {
        get: function() {
            return this._paused
        },
        set: function(a) {
            this.touchLocked || (a ? this._paused || (this._codePaused = !0, this.setPause()) : this._paused && (this._codePaused = !1, this.setResume()))
        }
    });
    Object.defineProperty(b.Video.prototype, "volume", {
        get: function() {
            return this.video ? this.video.volume : 1
        },
        set: function(a) {
            0 > a ? a = 0 : 1 < a && (a = 1);
            this.video && (this.video.volume = a)
        }
    });
    Object.defineProperty(b.Video.prototype, "playbackRate", {
        get: function() {
            return this.video ? this.video.playbackRate : 1
        },
        set: function(a) {
            this.video && (this.video.playbackRate = a)
        }
    });
    Object.defineProperty(b.Video.prototype, "loop", {
        get: function() {
            return this.video ?
                this.video.loop : !1
        },
        set: function(a) {
            a && this.video ? this.video.loop = "loop" : this.video && (this.video.loop = "")
        }
    });
    Object.defineProperty(b.Video.prototype, "playing", {
        get: function() {
            return this.video ? !(this.video.paused && this.video.ended) : !1
        }
    });
    b.Video.prototype.constructor = b.Video;
    void 0 === PIXI.blendModes && (PIXI.blendModes = b.blendModes);
    void 0 === PIXI.scaleModes && (PIXI.scaleModes = b.scaleModes);
    void 0 === PIXI.Texture.emptyTexture && (PIXI.Texture.emptyTexture = new PIXI.Texture(new PIXI.BaseTexture));
    void 0 ===
        PIXI.DisplayObject._tempMatrix && (PIXI.DisplayObject._tempMatrix = new b.Matrix);
    PIXI.TextureSilentFail = !0;
    PIXI.canUseNewCanvasBlendModes = function() {
        return b.Device.canUseMultiply
    };
    "undefined" !== typeof exports ? ("undefined" !== typeof module && module.exports && (exports = module.exports = b), exports.Phaser = b) : "undefined" !== typeof define && define.amd ? define("Phaser", this.Phaser = b) : this.Phaser = b;
    return b
}).call(this);
PIXI.Sprite.prototype.setTexture = function(d, b) {
    void 0 !== b && this.texture.baseTexture.destroy();
    this.texture = d;
    this.texture.valid = !0;
    this.cachedTint = -1
};
PIXI.Sprite.prototype.clearTintedTexture = function() {
    var d = this.tintedTexture;
    this.tint = 16777215;
    this.tintedTexture = null;
    this.cachedTint = -1;
    Phaser.CanvasPool.removeByCanvas(d)
};
Phaser.Sound.prototype._createSourceAndConnect = function() {
    this._sound = this.context.createBufferSource();
    this._sound.connect(this.externalNode || this.gainNode);
    this._buffer = this.game.cache.getSoundData(this.key);
    this._sound.buffer = this._buffer;
    this._sourceId++
};
Phaser.Cache.prototype.addTexture = function(d, b) {
    this._cache.image[d] = b
};
Phaser.Loader.prototype.loadFileDefault = Phaser.Loader.prototype.loadFile;
Phaser.Loader.prototype.loadFile = function(d) {
    var b = this;
    switch (d.type) {
        case "font":
            var h = document.createElement("style");
            h.appendChild(document.createTextNode("@font-face {font-family: " + d.key + ";src: url('" + d.url + "') format('opentype');}"));
            document.head.appendChild(h);
            WebFont.load({
                custom: {
                    families: [d.key]
                },
                fontinactive: function(g) {
                    b.fileError(d, null, "Font load failed")
                },
                fontactive: function(g) {
                    b.fileComplete(d)
                }
            });
            break;
        default:
            this.loadFileDefault(d)
    }
};
Phaser.Loader.prototype.font = function(d, b, h) {
    return this.addToFileList("font", d, b, void 0, h, ".otf")
};
Phaser.Input.prototype.stopPointer = function(d) {
    for (var b = 0; b < this.pointers.length; b++) {
        var h = this.pointers[b];
        if (h.active) return h.stop(d)
    }
    return null
};
(function(d) {
    Phaser.Loader.prototype.font = function(a, b, d, f) {
        "undefined" === typeof d && (d = !1);
        !1 !== d && "undefined" === typeof f && (f = d);
        this.addToFileList("font", a, b, {
            callback: d,
            callbackContext: f
        });
        return this
    };
    Phaser.Loader.prototype.fontLoad = function(a, b, d, f) {
        this.onFileStart.dispatch(this.progress, a.key, a.url);
        if (this.game.device.cocoonJS) return this[f](a), !1;
        var c = this,
            e = document.createElement("span");
        e.style.fontFamily = "Comic Sans MS";
        e.style.position = "fixed";
        e.style.top = "-1000px";
        e.appendChild(document.createTextNode("`1234567890-=qwertyuiop[]\\asdfghjkl;'zxcvbnm,./~!@#$%^&*()_+QWERTYUIOP{}ASDFGHJKL:ZXCVBNM<>?"));
        document.body.appendChild(e);
        var g = e.getBoundingClientRect();
        e.style.fontFamily = a.key;
        var k = function() {
            var b = e.getBoundingClientRect();
            g.width !== b.width || g.height !== b.height ? (document.body.removeChild(e), c[f](a), mt._markDirty(), window.setTimeout(function() {
                mt._markDirty()
            }, 100)) : window.setTimeout(k, 100)
        };
        window.setTimeout(k, 100)
    };
    var b = null;
    d.mt && d.mt.data && (b = d.mt.data);
    d.mt = {
        SPRITE: 0,
        GROUP: 1,
        TEXT: 2,
        TILE_LAYER: 3,
        BUTTON: 4,
        PLIST: 5,
        SPINE: 6,
        BITMAP_TEXT: 7,
        SLIDER: 8,
        NINE_SLICE: 9,
        EMITTER: 10,
        SLIDER_ADVANCED: 11,
        MASK: 12,
        GRAPHICS: 13,
        knownFonts: "Arial;Comic Sans MS;Courier New;Georgia;Impact;Times New Roman;Trebuchet MS;Verdana".split(";"),
        assets: {},
        objects: {},
        atlasesLinks: {},
        assetsPath: "assets",
        game: null,
        data: b,
        mainMovie: "__main",
        _imgPath: "",
        autoLoadFonts: !0,
        init: function(a) {
            this.game = a;
            this.game.load.crossOrigin = "anonymous";
            "2.0.7" === Phaser.VERSION ? this.game.load.script("hacks", "js/lib/phaserHacks2.0.7.js") : "2.1.3" === Phaser.VERSION ? this.game.load.script("hacks", "js/lib/phaserHacks2.1.3.js") : this.game.load.script("hacks",
                "js/lib/phaserHacks.js")
        },
        setBackgroundColor: function(a) {
            if (this.data.map.backgroundColor) {
                var c = this.data.map.backgroundColor.substring(1);
                c = parseInt(c, 16);
                this.game.stage.backgroundColor !== c && this.game.stage.setBackgroundColor(c)
            }
            a && (document.body.style.backgroundColor = this.data.map.backgroundColor)
        },
        preload: function() {
            this._loadAssets(this.data.assets.contents, this.assets, "");
            this._loadFonts(this.data.objects)
        },
        loadAssets: function(a) {
            this._loadAssets(a, this.assets, "")
        },
        loadGroup: function(a) {
            var c = {},
                b = this.getObjectGroupByName(a);
            if (!b) return console.error("failed to load group: ", a), !1;
            this._collectAssets(b, c);
            this._loadAssetBuffer(c);
            this._loadFonts(b)
        },
        createAll: function() {
            var a = {};
            this._loadObjects(this.data.objects.contents, this.game.world, "", a, !0);
            for (var b in a) this.createTweens(a[b], this.mainMovie);
            return a
        },
        createTweens: function(a, b) {
            var c = a.mt;
            c.movies = {};
            a = c.movies;
            var d = c.data.movies;
            if (void 0 === b)
                for (var e in d) e !== this.mainMovie && (a[e] = new mt.TweenCollection(e, c));
            else a[b] =
                new mt.TweenCollection(b, c)
        },
        create: function(a, b, d, f) {
            var c = null === b;
            b = b ? b : this.game.world;
            var e = nge.Lib.Helper.getRandomInt(1E5, 999999);
            if ("string" === typeof a) {
                var g = a;
                var k = this.getObjectGroupByName(a)
            } else k = a, g = a.name;
            if (!k) return console.error("failed to find the object: ", g), !1;
            mt._uiEffects || (mt._uiEffects = {
                scrolls: [],
                tabs: [],
                swipes: []
            });
            a = this._add(k, b, "", !0);
            c && a.parent && a.parent.remove(a);
            0 === mt._uiEffects.scrolls.length && 0 === mt._uiEffects.tabs.length && 0 === mt._uiEffects.swipes.length && (d = !0);
            if (d) return f || (nge.observer.fire("mt.object.created", g), nge.observer.fire("mt.object." + g + ".created")), a;
            var h = mt._uiEffects;
            mt._uiEffects = null;
            var l = function(a) {
                    var c = 0,
                        b = function() {
                            c++;
                            c >= a.length && nge.observer.fire("mt." + g + ".uiOption.created")
                        },
                        d;
                    for (d in a) a[d](b);
                    0 === a.length && b()
                },
                t = Object.keys(h),
                v = 0;
            nge.observer.add("mt." + g + ".uiOption.created", function() {
                var a = t[v];
                if (!a) return nge.observer.remove("mt." + g + ".uiOption.created", !1, "uiEffects_" + g + "_" + e), nge.localData.get("statesManager.creating") ||
                    d || nge.objects.setStyles(), nge.observer.fire("mt.object.created", g), nge.observer.fire("mt.object." + g + ".created"), !1;
                0 < h[a].length ? l(h[a]) : nge.observer.fire("mt." + g + ".uiOption.created");
                v++
            }, "uiEffects_" + g + "_" + e);
            nge.observer.fire("mt." + g + ".uiOption.created");
            return a
        },
        tplsPathsPrepare: function(a) {
            var c = function(a, b) {
                for (var d in a) "object" === typeof a[d] && (a[d] = c(a[d], b)), "fullPath" === d && (a[d] = b + a[d]);
                return a
            };
            return c(a, this._imgPath)
        },
        deleteItemInTemplate: function(a, b, d) {
            var c = function(d, e) {
                for (var f in d.contents) {
                    var g =
                        d.contents[f];
                    if (g && "undefined" !== typeof g[a] && (g[a] === b || "*ANY*" === b)) return delete d[f], d.contents.splice(f, 1), !0;
                    if (g.contents && 0 < g.contents.length && (g = c(g, e))) return g
                }
                return !1
            };
            return c(d, b) || !1
        },
        findItemInTemplate: function(a, b, d, f) {
            var c = function(d, e) {
                for (var g in d.contents) {
                    var k = d.contents[g];
                    if (k && "undefined" !== typeof k[a] && (k[a] === b || "*ANY*" === b)) return f ? {
                        object: k,
                        parent: d
                    } : k;
                    if (k.contents && 0 < k.contents.length && (k = c(k, e))) return k
                }
                return !1
            };
            return c(d, b) || !1
        },
        getAbsPos: function(a) {
            for (var c = {
                    x: a.x,
                    y: a.y
                }; a.parent;) a = a.parent, c.x += a.x, c.y += a.y;
            return c
        },
        createGroup: function(a, b) {
            return mt.create(a, b)
        },
        createSlopeMap: function(a) {
            var c = {};
            a = a.layer.data;
            for (var b = 0, d; b < a.length; b++)
                for (d = 0; d < a[b].length; d++) 0 < a[b][d].index && (c[b * a[b].length + d] = a[b][d].index);
            return c
        },
        getObjectData: function(a, b) {
            "object" === typeof a && (a = a.name);
            b = b || this.data.objects;
            if (b.contents)
                for (var c = 0; c < b.contents.length; c++)
                    if (b.contents[c].contents) this.getObjectData(a, b.contents[c]);
                    else if (b.contents[c].name ===
                a) return b.contents[c];
            if (b.name === a) return b
        },
        getAssetPath: function(a) {
            return imageFullPath
        },
        getObjectGroupByName: function(a, b) {
            b = b || this.data.objects.contents;
            for (var c, d = 0; d < b.length; d++) {
                if (b[d].name === a) return b[d];
                if (b[d].contents && (c = this.getObjectGroupByName(a, b[d].contents))) return c
            }
        },
        getAssetByName: function(a, b) {
            b = b || this.data.assets.contents;
            for (var c in b) {
                if (b[c].name === a) return b[c];
                if (b[c].contents) {
                    var d = this.getAssetById(a, b[c].contents);
                    if (d) break
                }
            }
            return d
        },
        getAssetById: function(a,
            b) {
            b = b || this.data.assets.contents;
            var c = null,
                d;
            for (d in b) {
                if (b[d].id === a) return b[d];
                if (b[d].contents && (c = this.getAssetById(a, b[d].contents))) break
            }
            return c
        },
        getObjectByName: function(a, b) {
            b = b || this.data.objects.contents;
            for (var c in b) {
                if (b[c].name === a) return b[c];
                if (b[c].contents) {
                    var d = this.getObjectById(a, b[c].contents);
                    if (d) break
                }
            }
            return d
        },
        physics: {
            ninja: {
                enableTileLayer: function(a) {
                    a = a.layer;
                    for (var c = 0, b = a.height; c < b; c++)
                        for (var d = 0, f = a.width; d < f; d++) {
                            var g = a.data[c][d];
                            g && 0 < g.index && (g = new Phaser.Physics.Ninja.Body(this,
                                null, 3, g.index, 0, g.worldX + g.centerX, g.worldY + g.centerY, g.width, g.height), a.bodies.push(g))
                        }
                    return a.bodies
                }
            }
        },
        _loadAssetBuffer: function(a) {
            var c;
            for (c in a) {
                var b = a[c];
                var d = this._getAssetContainer(b);
                this._addAsset(b, d)
            }
        },
        _loadFonts: function(a) {
            for (var c, b = 0; b < a.contents.length; b++) c = a.contents[b], c.contents ? this._loadFonts(c) : c.type === mt.TEXT && c.style && c.style.fontFamily && -1 === this.knownFonts.indexOf(c.style.fontFamily) && this.game.load.font(c.style.fontFamily)
        },
        _mkDiff: function(a, b, d) {
            d = {};
            for (var c in a) "keyframe" !==
                c && "object" !== typeof a[c] && void 0 !== a[c] && a[c] !== b[c] && (d[c] = b[c] - a[c] + "");
            for (c in b) "keyframe" !== c && "object" !== typeof b[c] && void 0 !== a[c] && a[c] !== b[c] && (d[c] = b[c] - a[c] + "");
            return d
        },
        _getAssetContainer: function(a) {
            var c = this.assets;
            a = a.fullPath.split("/");
            a.shift();
            for (var b = 0; b < a.length - 1; b++) c[a[b]] = c[a[b]] || {}, c = c[a[b]];
            return c
        },
        _getObjectContainer: function(a) {
            var c = this.objects;
            a = a.fullPath.split("/");
            a.shift();
            for (var b = 0; b < a.length - 1; b++) c[a[b]] = c[a[b]] || {}, c = c[a[b]];
            return c
        },
        _collectAssets: function(a,
            b) {
            for (var c, d, e = 0; e < a.contents.length; e++) c = a.contents[e], c.contents && this._collectAssets(c, b), c = c.assetId, (d = this.getAssetById(c)) && (b[c] = d)
        },
        _loadAssets: function(a, b) {
            for (var c, d = 0, e = a.length; d < e; d++) c = a[d], c.hasOwnProperty("contents") ? (c = new nge.Mlm.Assets.Folder(c), void 0 === b[c.name] && (b[c.name] = {}), this._loadAssets(c.contents, b[c.name])) : (c = c.spine ? new nge.Mlm.Assets.Spine(c) : c.atlas ? new nge.Mlm.Assets.Atlas(c) : c.bitmapFont ? new nge.Mlm.Assets.BitmapFont(c) : -1 < c.fullPath.indexOf(".dat") ? new nge.Mlm.Assets.Binary(c) :
                -1 < c.fullPath.indexOf(".json") ? new nge.Mlm.Assets.Json(c) : new nge.Mlm.Assets.Image(c), this._addAsset(c, b)), a[d] = c
        },
        _addAsset: function(a, b) {
            a.fullPath && (0 === a.fullPath.indexOf("http") ? a.useOriginalPath = !0 : a.fullPath = this.assetsPath + a.fullPath);
            nge.assets.parse(a, b);
            var c = a.fullPath;
            if (!a.key || b[a.name]) return !1;
            if (-1 < a.fullPath.indexOf(".json")) this.game.load.json(a.key, c);
            else if (-1 < a.fullPath.indexOf(".dat")) this.game.load.binary(a.key, c);
            else if (a.bitmapFont) nge.game.load.bitmapFont(a.key, this.assetsPath +
                a.textureURL, this.assetsPath + a.bitmapFont);
            else if (a.spine) nge.game.load.spine(a.key, this.assetsPath + a.spine);
            else {
                var d = a.originalPath.split("/"),
                    e = d[d.length - 1];
                if (d = nge.getAtlasForTexture(e))
                    if (d = nge.game.cache._cache.image[d], c = nge.Lib.Helper.objFindEl(d.frameData._frames, function(a) {
                            return a.name === e
                        }), nge.game.cache._cache.image[a.key] = {
                            base: d.base,
                            data: d.data,
                            frameData: new Phaser.FrameData,
                            key: a.key,
                            url: d.url
                        }, d = nge.assets.getQualityFactor(), a.width || (a.width = c.width / d), a.height || (a.height =
                            c.height / d), a.frameWidth || (a.frameWidth = a.width), a.frameHeight || (a.frameHeight = a.height), a.width !== a.frameWidth || a.height !== a.frameHeight || a.spritesheet) {
                        d = 0;
                        for (var f = c.y, g = !0; g;) {
                            for (var h = c.x, r = !0; r;) {
                                var u = nge.Lib.Helper.jsObjClone(c);
                                u.x = h;
                                u.y = f;
                                u.width = a.frameWidth;
                                u.height = a.frameHeight;
                                a.frameWidth ? h + a.frameWidth >= c.x + c.width && (u.width = c.x + c.width - h, r = !1) : r = !1;
                                a.frameHeight || (g = !1);
                                f + a.frameHeight >= c.y + c.height && (u.height = c.y + c.height - f, g = !1);
                                u.centerX = u.x + u.width / 20;
                                u.centerY = u.y + u.height /
                                    20;
                                u.sourceSizeW = u.width;
                                u.sourceSizeH = u.height;
                                u.spriteSourceSizeH = u.height;
                                u.spriteSourceSizeW = u.width;
                                a._fullQualitySize = {
                                    frameHeight: u.height,
                                    frameWidth: u.width,
                                    height: c.height,
                                    width: c.width
                                };
                                nge.game.cache._cache.image[a.key].frameData._frames.push(u);
                                h += a.frameWidth;
                                d++;
                                d === a.frameMax && (g = r = !1)
                            }
                            f += a.frameHeight
                        }
                    } else nge.game.cache._cache.image[a.key].frameData._frames.push(c);
                else a.atlas ? (d = nge.game.cache.getJSON("uber_json"), f = a.atlas.split("/").pop(), d && d[f] ? this.game.load.atlas(a.key, c,
                    null, d[f], a.type) : this.game.load.atlas(a.key, c, this.assetsPath + a.atlas, null, a.type)) : a.width !== a.frameWidth || a.height !== a.frameHeight || a.spritesheet ? (a.frameWidth || (a.frameWidth = a.width), a.frameHeight || (a.frameHeight = a.height), this.game.load.spritesheet(a.key, c, a.frameWidth, a.frameHeight, a.frameMax, a.margin, a.spacing)) : this.game.load.image(a.key, c)
            }
            b[a.name] = a
        },
        _loadObjects: function(a, b, d, f, g) {
            b = b || this.game.world;
            d = "" !== d ? "." + d : d;
            for (var c = a.length - 1; - 1 < c; c--)
                if (!a[c].hasOwnProperty("append") || a[c].append) f[a[c].name] =
                    this._add(a[c], b, d, g)
        },
        _makeTabulate: function(a, b, d, f, g, h, n) {
            d = b.mt.data;
            var c = d.name;
            a = b.children;
            nge.observer.remove("tabs." + c + ".switch", !1, "Tab" + c);
            nge.observer.add("tabs." + c + ".switch", function(b) {
                var d = nge.find("^" + c + " .active");
                d && d.removeClass("active");
                (d = nge.find("^" + c + " ^" + b.tab)) && d.addClass("active");
                for (d = 0; d < a.length - 1; d++) a[d].visible = !1;
                if (b = nge.find("^" + c + " ^" + b.container)) b.visible = !0
            }, "Tab" + c);
            d.tabActive && nge.observer.fire("tabs." + c + ".switch", d.tabActive, 1);
            n()
        },
        _makeSwipeable: function(a,
            b, d, f, g, h, n) {
            var c;
            this._makeScrollable(a, b, d, f, g, h, n, !0, function(a) {
                for (var d = b.children, e = b.getData(), f, g = 0; g < d.length; g++) 0 === g ? f = d[g] : (f = (1 === h || 3 === h) && Math.abs(d[g].y + b.y - e.y) < Math.abs(f.y + b.y - e.y) ? d[g] : f, f = (2 === h || 3 === h) && Math.abs(d[g].x + b.x - e.x) < Math.abs(f.x + b.x - e.x) ? d[g] : f);
                if (!f) return !1;
                c && c.stop();
                c = nge.tween.add(b).to({
                    x: e.x - f.x,
                    y: e.y - f.y
                }, e.rewParams.tuneTime, nge.Lib.Tween.Easing.Linear.None, !1, e.rewParams.tuneDelay);
                c.onComplete.addOnce(function() {
                    a.scrollRefresh();
                    nge.observer.fire("swipe.cycleEnd",
                        b);
                    c = void 0
                });
                c.start()
            })
        },
        _makeScrollable: function(a, b, d, f, g, h, n, p, r) {
            var c = b.getData();
            a = function() {
                var a = function() {
                    l && (p || c.height >= b.height ? (h.visible = !1, q.visible = !1) : (h.visible = !0, q.visible = !0));
                    m && (p || c.width >= b.width ? (w.visible = !1, x.visible = !1) : (w.visible = !0, x.visible = !0));
                    b.game && nge.rafSetTimeout(a, 1E3)
                };
                nge.rafSetTimeout(a, 1E3);
                for (var d = b.x, f = b.y, g = b; g.parent;) g = g.parent, d += g.x, f += g.y;
                g = nge.game.add.graphics(0, 0);
                g.lineStyle(0);
                g.beginFill(9013641);
                g.drawRect(d, f, c.width, c.height);
                g.inputEnabled = !1;
                b.mask = g;
                if (l) {
                    var h = nge.objects.findItemInWorld("name", "scrollbarVerticalTouch", b.parent),
                        q = nge.objects.findItemInWorld("name", "scrollbarVerticalBg", b.parent),
                        t = new Phaser.Rectangle(0, 0, c.width, c.height / e.scaleY);
                    h.inputEnabled = !0;
                    h.input.enableDrag();
                    h.input.allowHorizontalDrag = !1;
                    h.input.boundsRect = t;
                    var u = function() {
                            b.y = c.y + (c.height - b.height) * (t.height === h.height ? 0 : h.y / (t.height - h.height))
                        },
                        v = function(a) {
                            if ("undefined" === typeof a) return h.y;
                            h.y = a;
                            a = L.getHeight();
                            0 > h.y && (h.y = 0);
                            h.y > a && (h.y =
                                a);
                            u()
                        };
                    h.events.onDragStart.add(function(a) {
                        nge.observer.add("StatesManager.update.start", function(a) {
                            u()
                        }, "scrollbarVerticalTouch")
                    }, this);
                    h.events.onDragStop.add(function(a) {
                        nge.observer.remove("StatesManager.update.start", !1, "scrollbarVerticalTouch");
                        Q()
                    }, this)
                }
                if (m) {
                    var w = nge.objects.findItemInWorld("name", "scrollbarHorizontalTouch", b.parent),
                        x = nge.objects.findItemInWorld("name", "scrollbarHorizontalBg", b.parent),
                        y = new Phaser.Rectangle(0, 0, c.width / k.scaleX, c.height);
                    w.inputEnabled = !0;
                    w.input.enableDrag();
                    w.input.allowVerticalDrag = !1;
                    w.input.boundsRect = y;
                    var z = function() {
                            y.width === w.width && (w.width = y.width / 2);
                            b.x = c.x + w.x / (y.width - w.width) * (c.width - b.width)
                        },
                        B = function(a) {
                            if ("undefined" === typeof a) return w.x;
                            w.x = a;
                            a = L.getWidth();
                            0 > w.x && (w.x = 0);
                            w.x > a && (w.x = a);
                            z()
                        };
                    w.events.onDragStart.add(function(a) {
                        nge.observer.add("StatesManager.update.start", function(a) {
                            z()
                        }, "scrollbarHorizontalTouch")
                    }, this);
                    w.events.onDragStop.add(function(a) {
                        nge.observer.remove("StatesManager.update.start", !1, "scrollbarHorizontalTouch");
                        Q()
                    }, this)
                }
                var L = {
                    getHeight: function() {
                        return q.height - h.height
                    },
                    getWidth: function() {
                        return x.width - w.width
                    }
                };
                d = function() {
                    nge.game.input.mouse.mouseWheelCallback = function(a) {
                        v(h.y - nge.game.input.mouse.wheelDelta * c.rewParams.scrollWheelSensivity);
                        Q()
                    }
                };
                f = function() {
                    nge.game.input.mouse.mouseWheelCallback = !1
                };
                var O = nge.game.add.sprite(c.x, c.y, "1px_empty");
                b.parent.addChild(O);
                var R = {
                    hScrollPos: B,
                    hScrollMoveTo: function(a) {
                        B(a);
                        Q()
                    },
                    hMoveTo: function(a) {
                        b.x = a;
                        R.scrollRefresh();
                        Q()
                    },
                    vScrollPos: v,
                    vScrollMoveTo: function(a) {
                        v(a);
                        Q()
                    },
                    vMoveTo: function(a) {
                        b.y = a;
                        R.scrollRefresh();
                        Q()
                    },
                    scrollRefresh: function() {
                        m && (w.x = (b.x - c.x) / (c.width - b.width) * (y.width - w.width));
                        l && (w.y = (b.y - c.y) / (c.height - b.height) * (t.height - w.height))
                    }
                };
                c.extra = R;
                var Q = function() {
                    O.y = c.y;
                    O.x = c.x;
                    r && r(R)
                };
                O.width = l ? c.width - h.width : c.width;
                O.height = m ? c.height - w.height : c.height;
                O.inputEnabled = !0;
                l && (O.events.onInputOver.add(d), O.events.onInputOut.add(f));
                O.input.enableDrag();
                O.events.onDragStart.add(function(a) {
                    var c = O.x,
                        b = O.y;
                    if (l) var d = h.y;
                    if (m) var e = w.x;
                    nge.observer.add("StatesManager.update.start", function(a) {
                        l && v(d - (O.y - b));
                        m && B(e - (O.x - c))
                    }, "scrollbarFakeHitZone")
                }, this);
                var T = c.rewParams.dragScrollSensivity;
                O.events.onDragUpdate.add(function(a, b, d, e) {
                    a.y = c.y + (e - c.y) * T;
                    a.x = c.x + (d - c.x) * T
                }, this);
                O.events.onDragStop.add(function(a) {
                    Q();
                    nge.observer.remove("StatesManager.update.start", !1, "scrollbarFakeHitZone")
                }, this);
                n()
            };
            var e = nge.objects.findItemInWorld("name", "scrollbarVerticalContainer", b),
                k = nge.objects.findItemInWorld("name", "scrollbarHorizontalContainer",
                    b),
                l = 3 === h || 1 === h,
                m = 3 === h || 2 === h,
                q = l && !e;
            h = m && !k;
            if (q || h) {
                var z = [];
                if (q) {
                    q = nge.tpl.group("scrollbarVertical");
                    if (!q) return console.error("Fatal Error: no tpl 4 scrollbarVertical"), !1;
                    z.push(q)
                }
                if (h) {
                    q = nge.tpl.group("scrollbarHorizontal");
                    if (!q) return console.error("Fatal Error: no tpl 4 scrollbarHorizontal"), !1;
                    z.push(q)
                }
                for (var B in z) q = z[B], this._loadObjects(q.objects.contents, b.parent, d, f, g);
                l && (e = nge.objects.findItemInWorld("name", "scrollbarVerticalContainer", b.parent), e.scaleY = c.height / e.height,
                    e.x += b.x + c.width - e.width, e.y += b.y);
                m && (k = nge.objects.findItemInWorld("name", "scrollbarHorizontalContainer", b.parent), nge.assets.applyQuality(k), k.scaleX = c.width / k.width, k.x += b.x, k.y += b.y + c.height - k.height);
                a()
            }
            return !0
        },
        _add: function(c, b, d, f) {
            switch (c.type) {
                case this.GROUP:
                    var e = new nge.Mlm.Objects.Folder(c);
                    break;
                case this.BUTTON:
                    e = new nge.Mlm.Objects.Button(c);
                    break;
                case this.TEXT:
                    e = new nge.Mlm.Objects.Text(c);
                    break;
                case this.SPRITE:
                    e = new nge.Mlm.Objects.Image(c);
                    break;
                case this.PLIST:
                    e = new nge.Mlm.Objects.Plist(c);
                    break;
                case this.SPINE:
                    e = new nge.Mlm.Objects.Spine(c);
                    break;
                case this.BITMAP_TEXT:
                    e = new nge.Mlm.Objects.BitmapText(c);
                    break;
                case this.NINE_SLICE:
                    e = new nge.Mlm.Objects.NineSlice(c);
                    break;
                case this.EMITTER:
                    e = new nge.Mlm.Objects.Emitter(c);
                    break;
                case this.SLIDER:
                    e = new nge.Mlm.Objects.Slider(c);
                    break;
                case this.SLIDER_ADVANCED:
                    e = new nge.Mlm.Objects.SliderAdvanced(c);
                    break;
                case this.GRAPHICS:
                    e = new nge.Mlm.Objects.Graphics(c);
                    break;
                case this.MASK:
                    e = new nge.Mlm.Objects.Mask(c);
                    break;
                default:
                    e = new nge.Mlm.Objects.Image(c)
            }
            e._originalModel ||
                (e._originalModel = nge.Lib.Helper.jsObjClone(c));
            c = nge.resolutionsManager.getName();
            for (var g in e["properties_" + c]) e[g] = e["properties_" + c][g];
            var k = null;
            if (e.type === this.PLIST) {
                var h = mt.game.cache.getJSON(e.assetKey);
                c = nge.game.cache.getImage(e.imageAssetKey);
                h = EPSY.PlistModel(h);
                h.texture = nge.Lib.Helper.convertImgToBase64(c);
                k = nge.epsy.loadSystem(h, e.x, e.y);
                k.mt = {
                    self: k,
                    data: e,
                    children: {}
                };
                b && b.add(k);
                a(k)
            } else if (e.type === this.GROUP) {
                k = this._addGroup(e);
                e.physics && e.physics.enable && (k.enableBody = !0);
                b && b.add(k);
                k.mt = {
                    self: k,
                    data: e,
                    children: {}
                };
                this._updateCommonProperties(e, k, f);
                this._loadObjects(e.contents, k, d + e.name, k.mt.children, f);
                var l = this;
                e.swipe && mt._uiEffects.swipes.push(function(a) {
                    l._makeSwipeable(e.contents, k, d + e.name, k.mt.children, f, e.swipe, a)
                });
                e.scroll && mt._uiEffects.scrolls.push(function(a) {
                    l._makeScrollable(e.contents, k, d + e.name, k.mt.children, f, e.scroll, a)
                });
                e.tabs && mt._uiEffects.tabs.push(function(a) {
                    l._makeTabulate(e.contents, k, d + e.name, k.mt.children, f, e.tabs, a)
                })
            } else e.type ===
                this.SPINE ? (k = nge.game.add.spine(0, 0, e.assetKey), b && b.add(k)) : e.type === this.BITMAP_TEXT ? k = this._addBitmapText(e, b) : e.type === this.NINE_SLICE ? k = this._addNineSlice(e, b) : e.type === this.SLIDER || e.type === this.SLIDER_ADVANCED ? k = this._addSlider(e, b) : e.type === this.MASK ? k = this._addMask(e, b) : e.type === this.GRAPHICS ? k = this._addGraphics(e, b) : e.type === this.EMITTER ? k = this._addEmitter(e, b) : e.type === this.TEXT ? k = this._addText(e, b) : e.type === this.TILE_LAYER ? (k = this._addTileLayer(e, b), e.physics && e.physics.enable && k.map.setCollisionByExclusion([-1])) :
                (k = this._addObject(e, b), this.addPhysics(e, k, b && b.mt ? b.mt.data : null)), this._updateCommonProperties(e, k, f), k.mt = {
                    self: k,
                    data: e,
                    children: {}
                }, e.contents && this._loadObjects(e.contents, k, d + e.name, k.mt.children, f);
            k.self = k;
            k.getData = function() {
                return this.mt.data
            };
            if (e._protoF)
                for (g in e._protoF) k[g] = e._protoF[g];
            k._init && k._init(k);
            e._subscribe && e._subscribe();
            e.id && mt.data._ids[e.id] ? mt.data._ids[e.id].game ? console.info("Info: not uniq element id:", e.id) : (mt.data._ids[e.id] = null, delete mt.data._ids[e.id]) :
                mt.data._ids[e.id] = k;
            e.name && mt.data._names[e.name] ? mt.data._names[e.name].game ? console.info("Info: not uniq element name:", e.name) : (mt.data._names[e.name] = null, delete mt.data._names[e.name]) : mt.data._names[e.id] = k;
            k = nge.Lib.Helper.objectApply(k, new nge.Mlm.Objects.Base);
            k.baseInit();
            return k
        },
        addPhysics: function(a, b, d) {
            a = a.physics;
            a && a.enable || !d || !d.physics || !d.physics.enable || (a = d.physics);
            if (a && a.enable) {
                this.game.physics.arcade.enable(b);
                b.body.allowGravity = a.gravity.allow;
                b.body.gravity.x = a.gravity.x;
                b.body.gravity.y = a.gravity.y;
                b.body.immovable = a.immovable;
                b.body.bounce = a.bounce;
                b.body.maxAngular = a.rotation.maxAngular;
                b.body.allowRotation = a.rotation.allowRotation;
                b.body.maxVelocity = a.maxVelocity;
                b.body.mass = a.mass;
                b.body.collideWorldBounds = a.collideWorldBounds;
                d = b.width;
                var c = b.height;
                0 < a.size.width && (d = a.size.width);
                0 < a.size.height && (c = a.size.height);
                b.body.setSize(d, c, a.size.offsetX, a.size.offsetY)
            }
        },
        _addGroup: function(a) {
            var c = nge.game.add.group();
            c.x = a.x;
            c.y = a.y;
            c.fixedToCamera = !!a.fixedToCamera;
            a.angle && (c.angle = a.angle);
            c.alpha = "undefined" !== typeof c.alpha ? a.alpha : 1;
            return c
        },
        _addText: function(a, b) {
            b = b || this.game.world;
            var c = this.game.add.text(a.x, a.y, a.text || a.name, a.style);
            c.lineSpacing = a.lineSpacing;
            if (a.gradient) {
                for (var d = c.context.createLinearGradient(0, 0, 0, c.canvas.height), e = 0; e < a.gradient.length; e++) d.addColorStop(a.gradient[e][0], a.gradient[e][1]);
                c.fill = d
            }
            b.add(c);
            return c
        },
        _addBitmapText: function(a, b) {
            b = b || this.game.world;
            a = this.game.add.bitmapText(a.x, a.y, a.assetKey, a.text ||
                "", a.size);
            b.add(a);
            return a
        },
        _addEmitter: function(a, b) {
            b = b || this.game.world;
            var c = this.game.add.unityEmitter(a.x, a.y);
            c.makeParticles(a.assetKey);
            b.add(c);
            return c
        },
        _addNineSlice: function(a, b) {
            b = b || this.game.world;
            a = new PhaserNineSlice.NineSlice(this.game, a.x, a.y, a.assetKey, 0, a.width * nge.assets.getQualityFactor(), a.height * nge.assets.getQualityFactor(), {
                top: parseInt(a.top) * nge.assets.getQualityFactor(),
                bottom: parseInt(a.bottom) * nge.assets.getQualityFactor(),
                left: parseInt(a.left) * nge.assets.getQualityFactor(),
                right: parseInt(a.right) * nge.assets.getQualityFactor()
            });
            b.add(a);
            return a
        },
        _addGraphics: function(a, b) {
            b = b || this.game.world;
            a = nge.game.add.graphics(a.x, a.y);
            b.add(a);
            return a
        },
        _addMask: function(a, b) {
            b = b || this.game.world;
            var c = nge.game.add.graphics(a.x, a.y);
            c.lineStyle(0);
            c.beginFill(16777215);
            if (Array.isArray(a.rects[0]))
                for (var d = 0; d < a.rects.length; d++) c.drawRect(a.rects[d][0], a.rects[d][1], a.rects[d][2], a.rects[d][3]);
            else c.drawRect(a.rects[0], a.rects[1], a.rects[2], a.rects[3]);
            c.endFill();
            c.cacheAsBitmap = !0;
            c.dirty = !0;
            b.add(c);
            return c
        },
        _addSlider: function(a, b) {
            b = b || this.game.world;
            var c = function() {},
                d = nge.assets.getQualityFactor(),
                e = new nge.Mlm.Objects.Folder(a),
                f = nge.objects.create(e, b, !0);
            f.autoUpdate = !0;
            f.setTextValue = function(a) {
                g && (g.text = a);
                r && (r.text = a)
            };
            if (a.valueText) {
                a.valueText.x = parseInt(a.valueText.offsetX || 0, 10);
                a.valueText.y = parseInt(a.valueText.offsetY || -35, 10);
                var g = nge.objects.create(a.valueText, f, !0)
            }
            if (a.tooltipBg && a.tooltipText) {
                e = new nge.Mlm.Objects.Folder({
                    name: a.name + "Tooltip"
                });
                var h = nge.objects.create(e, f, !0);
                a.tooltipBg.x = parseInt(a.tooltipBg.offsetX || 0, 10);
                a.tooltipBg.y = parseInt(a.tooltipBg.offsetY || -15, 10);
                e = new nge.Mlm.Objects.Image(a.tooltipBg);
                nge.objects.create(e, h, !0);
                a.tooltipText.x = parseInt(a.tooltipText.offsetX || 0, 10);
                a.tooltipText.y = parseInt(a.tooltipText.offsetY || -55, 10);
                var r = nge.objects.create(a.tooltipText, h, !0)
            }
            b.add(f);
            var u = nge.game.add.sprite(0, 0, a.bgAssetKey);
            u.scale.set(1 / d);
            u.anchor.set(.5);
            u.x += .5 * u.width;
            u.y += .5 * u.height;
            f.add(u);
            var t = u.x - u.width /
                2,
                v = nge.game.add.button(t, u.y, a.handleAssetKey, function() {}, this, 2, 1, 0);
            v.scale.set(1 / d);
            v.anchor.set(.5);
            v.input.enableDrag();
            v.input.allowVerticalDrag = !1;
            v.setValue = function(b) {
                var d = t + a.marginLeft,
                    e = t + u.width - a.marginRight;
                v.x = d + (e - d) * b;
                v.x > e && (v.x = e);
                v.x < d && (v.x = d);
                f.autoUpdate && f.setTextValue(Math.round(100 * b));
                g && (g.x = v.x);
                h && (h.x = v.x);
                c();
                mt._templateFunctionCall(a.onDrag)
            };
            v.events.onDragStart.add(function() {
                h && (h.visible = !0, g && (g.visible = !1))
            });
            v.events.onDragUpdate.add(function(c, b) {
                c = u.getBounds().x +
                    a.marginLeft * d;
                var e = u.getBounds().x + u.getBounds().width - a.marginRight * d;
                b = (Phaser.Math.clamp(b.x, c, e) - c) / (e - c);
                isNaN(b) || v.setValue(b)
            });
            v.events.onDragStop.add(function() {
                h && (h.visible = !1, g && (g.visible = !0));
                mt._templateFunctionCall(a.onChange)
            });
            if (a.fillAssetKey) {
                var w = nge.game.add.sprite(0, 0, a.fillAssetKey);
                w.scale.set(1 / d);
                w.x = u.x - w.width / 2;
                w.y = u.y - w.height / 2;
                b = nge.game.add.graphics(0, 0);
                b.lineStyle(0);
                b.drawRect(0, 0, u.width, u.height);
                b.scale.set(1 / d);
                w.addChild(b);
                w.mask = b;
                f.add(w);
                c = function() {
                    w.mask.scale.x =
                        v.x + u.width / 2 > u.x ? (v.x + u.width / 2 - u.x) / u.width : .01;
                    w.mask.scale.x *= d
                }
            }
            f.add(v);
            c();
            return f
        },
        _addTileLayer: function(a, b) {
            b = this.game.add.tilemap(null, a.tileWidth, a.tileHeight, a.widthInTiles, a.heightInTiles);
            for (var c = b.createBlankLayer(a.name, a.widthInTiles, a.heightInTiles, a.tileWidth, a.tileHeight), d = 0, e, f = 0; f < a.images.length; f++)(e = this.getAssetById(a.images[f])) ? (e = b.addTilesetImage(e.key, e.key, e.frameWidth, e.frameHeight, e.margin, e.spacing, d), d += e.total) : console.warn("cannot find image", a.images[f]);
            d = a.tiles;
            for (var g in d)
                for (var h in d[g]) b.putTile(d[g][h], parseInt(h, 10), parseInt(g, 10), c);
            c.fixedToCamera = a.isFixedToCamera;
            return c
        },
        _templateFunctionCall: function(a) {
            a && ("string" === typeof a ? eval("(" + a + ")()") : a())
        },
        _addObject: function(a, b) {
            var c = null;
            b = b || this.game.world;
            if (b.type === Phaser.GROUP)
                if (a.btnFrames) {
                    var d = a.action;
                    c = nge.game.add.button(a.x, a.y, a.assetKey, function() {
                        nge.observer.fire("button.click", c);
                        this._templateFunctionCall(d)
                    }, this, a.btnFrames.over, a.btnFrames.out, a.btnFrames.down);
                    c.events.onInputOver.add(function() {
                        nge.observer.fire("button.hover", c)
                    }, this);
                    c.events.onInputOut.add(function() {
                        nge.observer.fire("button.unhover", c)
                    }, this);
                    b.addChild(c);
                    a.enabled ? c.inputEnabled = !0 : (c.input.enabled = !1, c.frame = a.frame);
                    c.input.useHandCursor = !0;
                    c.input.pixelPerfectOver = a.pixelPerfectOver;
                    c.input.pixelPerfectClick = a.pixelPerfectClick
                } else if (c = b.create(a.x, a.y, a.assetKey), a.scratchable) {
                c.alpha = 0;
                var e = c.width,
                    f = c.height,
                    g = nge.game.add.bitmapData(e, f);
                g.draw(a.assetKey);
                g.update();
                var h = this.getAbsPos(c);
                g.addToWorld(h.x, h.y, 0, 0, 1 / nge.assets.getQualityFactor(), 1 / nge.assets.getQualityFactor());
                c.inputEnabled = !0;
                c.scratchBMD = g;
                var r;
                g.reveal = function() {
                    if (!g) return !1;
                    g.rect(0, 0, e, f, "rgba(0, 0, 0, 255)");
                    g.clear();
                    g = !1;
                    c.alpha = 1;
                    var a = nge.tween.add(c).to({
                        alpha: 0
                    }, 500, "Linear", !0);
                    a.onComplete.addOnce(function() {
                        nge.observer.fire("scratchReveal", c.getData().name);
                        c.destroy();
                        r && t()
                    });
                    a.start()
                };
                if (a.scratchCursor) {
                    var u = function() {
                        return {
                            x: nge.game.input.mousePointer.x / nge.game.world.scale.x,
                            y: nge.game.input.mousePointer.y / nge.game.world.scale.y
                        }
                    };
                    c.events.onInputOver.add(function(c) {
                        if (r) return !1;
                        r = nge.game.add.sprite(u().x, u().y, a.scratchCursor);
                        r.scale.x /= nge.assets.getQualityFactor();
                        r.scale.y /= nge.assets.getQualityFactor();
                        r.anchor.x = .5;
                        r.anchor.y = .5;
                        nge.observer.add("StatesManager.update.start", function(a) {
                            if (!r) return nge.observer.remove("StatesManager.update.start", !1, "scratchProgress"), !1;
                            r.x = u().x;
                            r.y = u().y
                        }, "scratchCursorProgress")
                    }, this);
                    var t = function() {
                        nge.observer.remove("StatesManager.update.start",
                            !1, "scratchProgress");
                        r.destroy();
                        r = !1
                    };
                    c.events.onInputOut.add(function(a) {
                        t()
                    }, this)
                }
                var v = function() {
                        nge.observer.add("StatesManager.update.start", function(a) {
                            if (!g) return !1;
                            a = (nge.game.input.x / nge.game.world.scale.x - h.x) * nge.assets.getQualityFactor();
                            var c = (nge.game.input.y / nge.game.world.scale.y - h.y) * nge.assets.getQualityFactor();
                            g.blendDestinationOut();
                            g.circle(a, c, 50 * nge.assets.getQualityFactor(), "rgba(0, 0, 0, 255)");
                            g.update()
                        }, "scratchProgress")
                    },
                    w = function() {
                        nge.observer.remove("StatesManager.update.start",
                            !1, "scratchProgress");
                        if (!g) return !1;
                        var a = 0;
                        g.processPixelRGB(function(c) {
                            0 === c.a && a++
                        }, this);
                        var b = c.width * c.height * nge.assets.getQualityFactor() * nge.assets.getQualityFactor();
                        80 < 100 * a / b && g.reveal()
                    };
                c.events.onInputDown.add(function(a) {
                    v()
                }, this);
                c.events.onInputOver.add(function(a) {
                    nge.game.input.activePointer.isDown && v()
                }, this);
                c.events.onInputOut.add(function(a) {
                    w()
                }, this);
                c.events.onInputUp.add(function(a) {
                    w()
                }, this)
            } else a.inputEnabled && (c.inputEnabled = !0);
            else c = nge.game.add.sprite(a.x, a.y,
                a.assetKey), nge.game.world.removeChild(c), b.addChild(c), a.inputEnabled && (c.inputEnabled = !0);
            if ((b = this.game.cache.getFrameData(a.assetKey)) && !a.btnFrames) {
                for (var x = [], y = 0; y < b.total; y++) x.push(y);
                c.animations.add("default", x, void 0 !== a.fps ? a.fps : 10, !1);
                c.frame = a.frame
            }
            return c
        },
        _updateCommonProperties: function(a, b, d) {
            a.angle && (b.angle = a.angle);
            a.type !== mt.GROUP && b.type !== Phaser.GROUP && a.type !== mt.EMITTER && b.type !== Phaser.UnityEmitter && (b.anchor.x = a.anchorX, b.anchor.y = a.anchorY);
            void 0 !== a.scaleX &&
                (b.scale.x = a.scaleX, b.scale.y = a.scaleY);
            b.x = a.x;
            b.y = a.y;
            a.scratchable || (b.alpha = "undefined" !== typeof b.alpha ? a.alpha : 1);
            b = nge.assets.applyQuality(b, a);
            d && (b.visible = a.isVisible)
        },
        _markDirty: function(a) {
            a = a || nge.game.world.children;
            for (var c, b = 0; b < a.length; b++) c = a[b], c.type === Phaser.TEXT ? c.dirty = !0 : c.type === Phaser.GROUP && this.markDirty(c.children)
        }
    };
    var h = function(a, b, d, f, g, h) {
        this.name = a;
        this.onComplete = new Phaser.Signal;
        this._pack = b;
        this._tweens = [];
        this._subtweens = [];
        this._mainTimer = null;
        this._startPos = [];
        h ? this.manager = h : (this.manager = new Phaser.TweenManager(mt.game), this.manager.destroy = function() {}, this.manager.update = function() {
            var a = this._add.length,
                c = this._tweens.length;
            if (0 === c && 0 === a) return !1;
            for (var b = 0; b < c;) this._tweens[b].update(this.game.time.now) ? b++ : (this._tweens.splice(b, 1), c--);
            0 < a && (this._tweens = this._tweens.concat(this._add), this._add.length = 0);
            return !0
        });
        this._delay = g;
        this._length = f;
        void 0 !== d && (this._fps = d, this._ifps = 1E3 / this._fps);
        void 0 !== f && (this._lastFrame = f);
        this._buildTweens(this._pack,
            !0);
        a !== mt.mainMovie && this._buildChildTweens(this._pack.children)
    };
    h.prototype = {
        isLooping: !1,
        _fps: -1,
        _lastFrame: -1,
        _buildTweens: function(a, b) {
            if (!a.data.movies) return !1;
            var c = a.data.movies[this.name];
            if (!c) return null;
            b && (-1 === this._fps && (this._fps = c.subdata ? mt.data.map.movieInfo.fps : c.info.fps || mt.data.map.movieInfo.fps, this._ifps = 1E3 / this._fps), -1 === this._lastFrame && (this._lastFrame = c.subdata ? mt.data.map.movieInfo.lastFrame : c.info.lastFrame || mt.data.map.movieInfo.lastFrame), this._mainTimer = mt.game.time.create(!1),
                c.subdata && 0 < c.subdata.length && this._buildSubTweens(c.subdata));
            if (0 === c.frames.length) return null;
            b = c.frames[0];
            this._startPos.push({
                obj: a.self,
                start: b
            });
            for (var d in b) {
                var e = null;
                for (var f = this._delay, g = 0; g < c.frames.length - 1; g++) {
                    b = c.frames[g];
                    var h = c.frames[g + 1];
                    if (b.keyframe > this._lastFrame) break;
                    var r = null;
                    h.easings && (r = h.easings[d]);
                    var u = {};
                    u[d] = h[d];
                    e = this._addTween(a.self, b, h, r, e, u, f);
                    f = 0
                }
                e && this._tweens.push(e)
            }
            return !1
        },
        _buildChildTweens: function(a) {
            var c;
            for (c in a) {
                var b = a[c];
                b.mt &&
                    b.mt.data.movies && b.mt.data.movies[this.name] && (this._buildTweens(b.mt), this._buildChildTweens(b.mt.children))
            }
        },
        _buildSubTweens: function(a) {
            for (var c, b, d = 0; d < a.length; d++)
                if ((b = a[d].movies[this.name]) && b.frames && 0 !== b.frames.length)
                    for (var f in this._pack.children)
                        for (var g = 0; g < b.frames.length; g++) c = b.frames[g], c = new h(a[d].name, this._pack.children[f].mt, this._fps, Math.min(c.length + c.keyframe, this._lastFrame) * this._ifps, c.keyframe), this._addSubTween(c)
        },
        _mk_sub: function(a, b, d, f) {
            var c = this;
            return function() {
                a.add(b,
                    function() {
                        c._playChildren(d, f)
                    });
                a.start()
            }
        },
        _playChildren: function(a, b) {
            for (var c in b) b[c].mt.movies[a].start().loop()
        },
        _addTween: function(a, b, d, f, g, h, n) {
            b = (d.keyframe - b.keyframe) * this._ifps;
            g ? a = g : (a = new Phaser.Tween(a, mt.game, this.manager), n && (a = a.delay(n * this._ifps)));
            n = null;
            if (f)
                for (n = nge.Lib.Tween.Easing, f = f.split("."); f.length;) n = n[f.shift()];
            return a = a.to(h, b, n)
        },
        _addSubTween: function(a) {
            this._subtweens.push(a)
        },
        _stop: function(a) {
            mt.game.plugins.remove(this.manager);
            this.manager.removeAll();
            this.manager.update();
            var c, b;
            this._mainTimer.stop();
            for (c = 0; c < this._subtweens.length; c++) this._subtweens[c].stop(a);
            for (c = 0; c < this._tweens.length; c++) {
                this._tweens[c].stop();
                var d = this._tweens[c];
                var f = 0;
                for (b = d._chainedTweens.length; f < b; f++) d = d._chainedTweens[f], d.stop()
            }
            a && this.reset()
        },
        start: function() {
            var a, b;
            if (!this._subtweens.length && !this._tweens.length || !this._mainTimer) return this;
            mt.game.plugins.add(this.manager);
            this._mainTimer.removeAll();
            this._mainTimer.add(this._ifps * this._lastFrame,
                this._complete, this);
            this._mainTimer.start();
            this.reset();
            this.resume();
            for (a = 0; a < this._subtweens.length; a++) this._subtweens[a].start();
            for (a = 0; a < this._tweens.length; a++) {
                var d = this._tweens[a];
                d._paused = !1;
                d.pendingDelete = !1;
                d.start();
                var f = 0;
                for (b = d._chainedTweens.length; f < b; f++) d = d._chainedTweens[f], d._paused = !1, d.pendingDelete = !1
            }
            return this
        },
        stop: function(a) {
            this._stop();
            a && this.reset();
            this.isLooping = !1;
            return this
        },
        reset: function() {
            for (var a, b = 0; b < this._startPos.length; b++) {
                a = this._startPos[b];
                for (var d in a.start) a.obj[d] = a.start[d]
            }
        },
        pause: function() {
            var a, b;
            this._mainTimer.pause();
            for (a = 0; a < this._tweens.length; a++) {
                var d = this._tweens[a];
                d.pause();
                for (b = 0; b < d._chainedTweens.length; b++) d = d._chainedTweens[b], d.pause()
            }
            for (a = 0; a < this._subtweens.length; a++) this._subtweens[a].pause();
            return this
        },
        resume: function() {
            var a, b;
            this._mainTimer.resume();
            for (a = 0; a < this._tweens.length; a++) {
                var d = this._tweens[a];
                d.resume();
                for (b = 0; b < d._chainedTweens.length; b++) d = d._chainedTweens[b], d.resume()
            }
            for (a =
                0; a < this._subtweens.length; a++) this._subtweens[a].resume();
            return this
        },
        delay: function(a) {
            this.delay.removeAll();
            this._delay.add(a, this.start, this);
            return this
        },
        loop: function() {
            if (this.isLooping) return !1;
            this.isLooping = !0;
            for (var a = 0; a < this._subtweens.length; a++) this._subtweens[a].loop();
            return this
        },
        _complete: function() {
            this.onComplete.dispatch(this);
            this._stop();
            this.isLooping && this.start()
        }
    };
    d.mt.TweenCollection = h;
    var g = !1,
        f = 0,
        a = function(a) {
            mt.ParticlesCollection.push(a);
            if (g) return !0;
            g = !0;
            nge.observer.add("cyclicUpdate",
                function() {
                    if (20 > nge.game.time.fps && 0 < mt.ParticlesCollection.length) {
                        var a = nge.Lib.Time.get();
                        a > 1500 + f && (mt.ParticlesCollection.pop().destroy(), f = a)
                    }
                }, !1, !0);
            nge.observer.add("window.visibilitychange", function(a) {
                if ("hidden" === a) return !1;
                f = nge.Lib.Time.get();
                a = [];
                for (var c in mt.ParticlesCollection) {
                    var b = mt.ParticlesCollection[c];
                    b.game && (a.push(b), b.children[0].emitter.restart())
                }
                mt.ParticlesCollection = a
            }, !1, !0)
        };
    d.mt.ParticlesCollection = []
})("undefined" === typeof window ? global : window);
window.mt = window.mt || {};
window.mt.data = {
    styles: {},
    assets: {
        name: "assets",
        contents: []
    },
    objects: {
        name: "objects",
        contents: []
    },
    map: {
        cameraX: 0,
        cameraY: 0,
        worldWidth: 1600,
        worldHeight: 1E3,
        viewportWidth: 1600,
        viewportHeight: 1E3,
        scaleMode: "SHOW_ALL",
        gridX: 32,
        gridY: 32,
        gridOffsetX: 0,
        gridOffsetY: 0,
        showGrid: 1,
        gridOpacity: .3,
        backgroundColor: "#000000",
        movieInfo: {
            fps: 60,
            lastFrame: 60
        },
        physics: {
            enable: 0
        }
    },
    _ids: {},
    _names: {}
};
window.mt = window.mt || {};
window.mt.psd = {};
window.mt.psd.dataParser = new function() {
    var d = !1,
        b = {},
        h = null,
        g = !1;
    this.go = function() {
        a(mt.data.assets, "asset");
        a(mt.data.objects, "object");
        return !0
    };
    this.parse = function(c, b) {
        a(c, b);
        return c
    };
    var f = function(a) {
            var c = "",
                b = nge.App.getInstance("Com.Buttons.Cfg");
            if (a.screenGoTo) {
                var d = a.screenGoTo.split(" ")[0];
                c += "nge.observer.fire('layersSwitcher.show', '" + d + "');"
            }
            if (!b) return c;
            d = nge.statesManager.getCurrentName();
            b = b[d] ? b[d] : b.params;
            (d = nge.Lib.Helper.objFind(b, function(c) {
                return a.name === c.name +
                    "Button"
            })) ? c += "nge.observer.fire('buttons.pressCommand', '" + d + "');": nge.Lib.Helper.objFind(b, function(c) {
                return a.class === c.class
            }) && (c += "nge.observer.fire('buttons.pressCommand', '" + a.class + "');");
            return c
        },
        a = function(b, d) {
            g || (nge.game.cache.checkImageKey("areaEmpty") || (nge.game.load.crossOrigin = !1, nge.game.load.image("areaEmpty", nge.Lib.Helper.create1PxPng(125, 125, 125, 255, !0))), nge.game.cache.checkImageKey("1px_empty") || (nge.game.load.crossOrigin = !1, nge.game.load.image("1px_empty", nge.Lib.Helper.create1PxPng(0,
                0, 0, 0, !0))), g = !0);
            var n = b.contents,
                r = [],
                p = nge.App.getInstance("Tpl.PsdAliases");
            h = p && p.data ? p.data : null;
            for (p = 0; p < n.length; p++) {
                var t = n[p];
                if (!t._mtParsed) {
                    "string" === typeof t.x && (t.x = parseInt(t.x));
                    "string" === typeof t.y && (t.y = parseInt(t.y));
                    var u = void 0;
                    var B = t,
                        A = !1;
                    switch (d) {
                        case "asset":
                            A = "key";
                            break;
                        case "object":
                            A = "name"
                    }
                    if (h && h[B[A]])
                        if ("object" === typeof h[B[A]]) {
                            if ("object" === d)
                                for (u in h[B[A]]) B[u] = h[B[A]][u]
                        } else B[A] = h[B[A]];
                    if (u = B[A]) switch (nge.Lib.Helper.getSuffix(u)) {
                        case "image":
                            t = e(t,
                                d);
                            break;
                        case "group":
                            u = t;
                            t = d;
                            "asset" === t ? (u = q(u.key), nge.tpl.group(u.name).styles && (window.mt.data.styles = nge.Lib.Helper.objectApply(window.mt.data.styles, nge.tpl.group(u.name).styles)), t = nge.Mlm.Assets.Folder({
                                name: u.name,
                                contents: nge.tpl.group(u.name).assets.contents
                            })) : "object" === t ? (u = q(u.name), t = nge.Mlm.Objects.Folder({
                                name: u.name,
                                contents: nge.tpl.group(u.name).objects.contents
                            })) : t = void 0;
                            break;
                        case "asset":
                            u = t;
                            "asset" === d ? (u.key = nge.Lib.Helper.strReplace("_asset", "", u.key), t = u) : t = !1;
                            break;
                        case "text":
                            t = k(t, d);
                            break;
                        case "bitmapText":
                            u = t;
                            "asset" === d ? t = !1 : (t = q(u.name), t.type = 7, t = m(t, u));
                            break;
                        case "nineSlice":
                            u = t;
                            "asset" === d ? t = !1 : (t = q(u.name), t.type = 9, t = m(t, u));
                            break;
                        case "clickableArea":
                            u = t;
                            "asset" === d ? t = !1 : (t = q(u.name), t.assetKey = "areaEmpty", t.scaleX = t.width, t.scaleY = t.height, t.alpha = 0, t.pixelPerfect = 0, t.type = 4, t.action = "function(){" + f(t) + "}", t = m(t, u));
                            break;
                        case "button":
                            a: {
                                u = t;
                                switch (d) {
                                    case "asset":
                                        t = l(u);
                                        break a;
                                    case "object":
                                        t = q(u.name);
                                        t.type = 4;
                                        t.assetKey = u.assetKey;
                                        t.pixelPerfect =
                                            u.pixelPerfect ? !0 : !1;
                                        t.action = "function(){" + f(t) + "}";
                                        t.btnFrames = {
                                            over: 2,
                                            out: 1,
                                            down: 0
                                        };
                                        t = m(t, u);
                                        break a
                                }
                                t = void 0
                            }
                            break;
                        case "container":
                            u = t;
                            "asset" === d ? t = !1 : (t = q(u.name), t.type = 1, t.name += "Container", "string" === typeof t.x ? t.x = +t.x : "string" === typeof t.y && (t.y = +t.y), "string" === typeof t.swipe && (t.swipe = +t.swipe), t = m(t, u));
                            break;
                        case "cover":
                            u = t;
                            "asset" === d ? t = !1 : (t = q(u.name), B = t.color || "000000", nge.game.cache.checkImageKey("cover" + B) || (A = nge.Lib.Helper.hexToRgb(B), nge.game.load.crossOrigin = !1, nge.game.load.image("cover" +
                                B, nge.Lib.Helper.create1PxPng(A.r, A.g, A.b, 255, !0))), t.inputEnabled = !0, t.assetKey = "cover" + B, u = m(t, u), u.class = u.class ? u.class + " cover" : "cover", t = u);
                            break;
                        case "spritesheet":
                        case "handle":
                            u = t;
                            t = d;
                            "asset" === t ? t = l(u) : "object" === t ? (t = q(u.name), t.assetKey = u.assetKey, t = m(t, u)) : t = void 0;
                            break;
                        case "style":
                            u = d;
                            "asset" === u ? (u = q(t.key), t = m(u, {}), delete t.name, mt.data.styles["." + u.name] = t, t = !1) : t = "object" === u ? !1 : void 0;
                            break;
                        case "spine":
                            t = c(t, d);
                            break;
                        case "slider":
                        case "sliderAdvanced":
                            u = void 0;
                            if ("asset" ===
                                d) t = !0;
                            else {
                                B = {
                                    slider: {
                                        type: 8,
                                        obj: nge.Mlm.Objects.Slider
                                    },
                                    sliderAdvanced: {
                                        type: 11,
                                        obj: nge.Mlm.Objects.SliderAdvanced
                                    }
                                };
                                A = nge.Lib.Helper.getSuffix(t.name);
                                B = B[A];
                                A = q(t.name);
                                A.type = B.type;
                                for (u in t.contents) {
                                    var C = t.contents[u];
                                    switch (nge.Lib.Helper.getSuffix(C.name)) {
                                        case "bg":
                                            A.x = C.x;
                                            A.y = C.y;
                                            A.bgAssetKey = C.assetKey;
                                            break;
                                        case "fill":
                                            A.fillAssetKey = C.assetKey;
                                            break;
                                        case "handle":
                                            A.handleAssetKey = C.assetKey;
                                            break;
                                        case "value":
                                            A.valueText = k(C, "object");
                                            break;
                                        case "tooltip":
                                            A.tooltipBg = e(C, "object");
                                            break;
                                        case "text":
                                            A.tooltipText = k(C, !1)
                                    }
                                }
                                t = B.obj(A)
                            }
                            break;
                        case "coordinates":
                            u = t, "asset" === d ? t = !1 : (nge.localData.set("coordinates." + u.name.split("_")[0], {
                                x: u.x,
                                y: u.y
                            }), t = void 0)
                    }
                }
                t && (t.contents && a(t, d), t._mtParsed = !0, r.push(t))
            }
            b.contents = r;
            return !0
        },
        c = function(a, c) {
            if ("asset" === c) {
                var b = q(a.key);
                a = b.name;
                return {
                    key: "spine_" + b.name,
                    spine: nge.appPath + "img/spine/" + a + "/" + a + ".json"
                }
            }
            if ("object" === c) {
                b = q(a.name);
                b.type = 6;
                b.assetKey = "spine_" + b.name;
                if (b.auto) {
                    var d = b.repeat ? !0 : !1;
                    n(function() {
                        nge.findOne("^" +
                            b.name).setAnimationByName(0, b.auto, d)
                    })
                }
                return m(b, a)
            }
        },
        e = function(a, c) {
            if ("asset" === c) return a;
            if ("object" === c) return c = q(a.name), c.assetKey = a.assetKey, m(c, a)
        },
        k = function(a, c) {
            if ("asset" === c) return !1;
            var b = q(a.name);
            b.type = 2;
            b.wordWrap && !b.wordWrapWidth && console.error("mt.psd.dataParser error: text wordWrap policy in ", a);
            b.wordWrapWidth || (b.wordWrapWidth = nge.game.world.width);
            b.strokeThickness && b.fill && !b.stroke && (b.stroke = b.fill);
            var d = !!b.class && -1 !== b.class.split(" ").indexOf("coloredText"),
                e = !!b.shadowColor && !!b.shadowBlur;
            (d || e) && n(function() {
                var a = nge.findOne("^" + b.name);
                if (d) {
                    var c = a.text,
                        f = nge.Lib.Helper.strReplace("\n", "", c),
                        g = c.match(/#[0-9a-fA-F]+/g),
                        h = c.match(/\(.+?\)/g);
                    if (g && h) {
                        for (var k = 0; k < h.length; k++) a.addColor(g[k], f.indexOf(h[k])), f = f.replace(h[k], ""), c = c.replace(h[k], "");
                        a.text = c
                    }
                }
                e && (a.style.shadowColor = b.shadowColor, a.style.shadowBlur = b.shadowBlur, a.style.shadowStroke = !0)
            });
            return m(b, a)
        },
        l = function(a) {
            var c = q(a.key),
                b = a.fullPath.split("/"),
                d = b[b.length - 1];
            b = nge.getAtlasForTexture(d);
            if (!b) return !1;
            b = nge.game.cache._cache.image[b].frameData._frames.filter(function(a, c) {
                return a.name === d
            })[0];
            var e = nge.assets.getQualityFactor();
            c.spritesX && 1 < c.spritesX && (a.width = b.width / e, a.frameWidth = b.width / c.spritesX / e);
            c.spritesY && 1 < c.spritesY && (a.height = b.height / e, a.frameHeight = b.height / c.spritesY / e);
            return a
        },
        m = function(a, c) {
            delete c.assetKey;
            for (var b in r) {
                var d = r[b];
                "undefined" !== typeof a[d] && nge.Lib.Helper.recursiveSet(b, a[d], c)
            }
            return c
        },
        q = function(a) {
            var c = {}; - 1 === a.indexOf("(") ? c.name =
                a.split("_")[0] : (a.match(/\(([^\}]*)\)/)[1].replace(/([^\s*=,]+)=([\w\s.\\\/#,-:%&?()/\[|\]'"+!]*)(?:,\s|$)/g, function(a, b, d) {
                    a = -1 !== ["text"].indexOf(b) ? d : "gradient" === b && nge.Lib.Helper.isTextJson(d) ? JSON.parse(d) : nge.Lib.Helper.isNumeric(d) ? parseFloat(d) : d;
                    c[b] = a
                }), c.name = a.split("(")[0]);
            return c
        },
        n = function(a) {
            var c = nge.statesManager.getCurrentName();
            b[c] || (b[c] = []);
            b[c].push(a);
            d || (nge.observer.add("StatesManager.create.end", p, !1, !0), d = !0)
        },
        p = function() {
            var a = nge.statesManager.getCurrentName();
            if (b[a])
                for (var c = 0; c < b[a].length; c++) b[a][c]()
        },
        r = {
            x: "x",
            y: "y",
            type: "type",
            name: "name",
            "class": "class",
            text: "text",
            size: "size",
            tabs: "tabs",
            "tabActive.tab": "tabActiveHeader",
            "tabActive.container": "tabActiveContainer",
            assetKey: "assetKey",
            action: "action",
            btnFrames: "btnFrames",
            anchorX: "anchorX",
            anchorY: "anchorY",
            lineSpacing: "lineSpacing",
            "style.align": "align",
            "style.font": "font",
            "style.fill": "fill",
            "style.wordWrap": "wordWrap",
            "style.wordWrapWidth": "wordWrapWidth",
            "style.stroke": "stroke",
            "style.strokeThickness": "strokeThickness",
            "style.shadowColor": "shadowColor",
            "style.shadowBlur": "shadowBlur",
            "style.shadowStroke": "shadowStroke",
            "style.shadowFill": "shadowFill",
            "style.shadowOffsetX": "shadowOffsetX",
            "style.shadowOffsetY": "shadowOffsetY",
            gradient: "gradient",
            maxWidth: "maxWidth",
            maxHeight: "maxHeight",
            pixelPerfectOver: "pixelPerfect",
            pixelPerfectClick: "pixelPerfect",
            inputEnabled: "inputEnabled",
            width: "width",
            height: "height",
            top: "top",
            bottom: "bottom",
            left: "left",
            right: "right",
            alpha: "alpha",
            scaleX: "scaleX",
            scaleY: "scaleY",
            offsetX: "offsetX",
            offsetY: "offsetY",
            color: "color",
            scroll: "scroll",
            swipe: "swipe",
            "rewParams.dragScrollSensivity": "dragScrollSensivity",
            "rewParams.tuneTime": "tuneTime",
            "rewParams.tuneDelay": "tuneDelay"
        }
};
! function(d) {
    if ("object" == typeof exports && "undefined" != typeof module) module.exports = d();
    else if ("function" == typeof define && define.amd) define([], d);
    else {
        var b;
        "undefined" != typeof window ? b = window : "undefined" != typeof global ? b = global : "undefined" != typeof self && (b = self);
        b = b.Phaser || (b.Phaser = {});
        b = b.Plugin || (b.Plugin = {});
        b.Debug = d()
    }
}(function() {
    return function f(b, h, g) {
        function a(e, l) {
            if (!h[e]) {
                if (!b[e]) {
                    var k = "function" == typeof require && require;
                    if (!l && k) return k(e, !0);
                    if (c) return c(e, !0);
                    l = Error("Cannot find module '" +
                        e + "'");
                    throw l.code = "MODULE_NOT_FOUND", l;
                }
                l = h[e] = {
                    exports: {}
                };
                b[e][0].call(l.exports, function(c) {
                    var f = b[e][1][c];
                    return a(f ? f : c)
                }, l, l.exports, f, b, h, g)
            }
            return h[e].exports
        }
        for (var c = "function" == typeof require && require, e = 0; e < g.length; e++) a(g[e]);
        return a
    }({
        1: [function(b, h, g) {
            function f(a, c) {
                Phaser.Plugin.call(this, a, c);
                this.panels = {
                    performance: null,
                    scene: null
                };
                this.tickTimings = {
                    lastStart: 0,
                    start: 0,
                    ms: 0
                };
                this.timings = {
                    preUpdate: {
                        physics: 0,
                        state: 0,
                        plugins: 0,
                        stage: 0
                    },
                    update: {
                        state: 0,
                        stage: 0,
                        tweens: 0,
                        sound: 0,
                        input: 0,
                        physics: 0,
                        particles: 0,
                        plugins: 0
                    },
                    postUpdate: {
                        stage: 0,
                        plugins: 0
                    },
                    preRender: {
                        state: 0
                    },
                    render: {
                        renderer: 0,
                        plugins: 0,
                        state: 0
                    },
                    postRender: {
                        plugins: 0
                    }
                };
                this._bar = this._container = null;
                this._stats = {
                    ms: null,
                    fps: null,
                    dpf: null,
                    ent: null
                };
                this.timer = window.performance ? window.performance : Date
            }
            var a = b("./util/ui"),
                c = b("./styles/main.less"),
                e = b("./panels/Performance"),
                k = b("./panels/Scene");
            f.prototype = Object.create(Phaser.Plugin.prototype);
            f.prototype.constructor = f;
            f.PKG = b("../package.json");
            f.VERSION =
                f.PKG.version;
            h.exports = f;
            f.prototype.init = function() {
                this.panels.performance = new e(this.game, this);
                this.panels.scene = new k(this.game, this);
                a.addCss(c);
                document.body.appendChild(this._createElement());
                this._bindEvents();
                for (var b in this.timings)
                    for (var f in this.timings[b]) this._wrap(this.game, f, b, f);
                this._wrap(this, "game", "update");
                for (var g in this.panels) this.panels[g].init && this.panels[g].init.apply(this.panels[g], arguments)
            };
            f.prototype.postUpdate = function() {
                for (var c in this.panels) this.panels[c].update &&
                    this.panels[c].active && this.panels[c].update();
                c = Math.round(1E3 / (this.tickTimings.start - this.tickTimings.lastStart));
                var b = this.game.renderer.renderSession.drawCount;
                c = 60 < c ? 60 : c;
                a.setText(this._stats.dpf.firstElementChild, void 0 === b ? "(N/A)" : b, 3);
                a.setText(this._stats.ms.firstElementChild, Math.round(this.tickTimings.ms), 4);
                a.setText(this._stats.fps.firstElementChild, Math.round(c), 2)
            };
            f.prototype.mark = function(a) {
                this.panels.performance && this.panels.performance.mark(a)
            };
            f.prototype.destroy = function() {
                Phaser.Plugin.prototype.destroy.call(this);
                for (var a in this.panels) this.panels[a].destroy();
                this.timer = this._stats = this._bar = this._container = this.timings = this.tickTimings = this.panels = null
            };
            f.prototype._wrap = function(a, c, b, e) {
                a[c] && a[c][b] && (a[c][b] = function(a, c, b, e, f) {
                    var g = 0,
                        h = 0;
                    return "game" !== c || "update" !== b || e ? function() {
                        g = a.timer.now();
                        f.apply(this, arguments);
                        h = a.timer.now();
                        a.timings[b][e] = h - g
                    } : function() {
                        g = a.timer.now();
                        a.tickTimings.lastStart = a.tickTimings.start;
                        a.tickTimings.start = g;
                        f.apply(this, arguments);
                        h = a.timer.now();
                        a.tickTimings.ms =
                            h - g
                    }
                }(this, c, b, e, a[c][b]))
            };
            f.prototype._bindEvents = function() {
                var c, b = this;
                a.on(this._bar, "click", ".pdebug-menu-item", function(e) {
                    e.preventDefault();
                    var f = b.panels[e.target.getAttribute("href").replace("#", "")];
                    if (f) {
                        if (c && (c.toggle(), a.removeClass(c._menuItem, "active"), c.name === f.name)) {
                            c = null;
                            return
                        }
                        a.addClass(e.target, "active");
                        f.toggle();
                        c = f
                    }
                })
            };
            f.prototype._createElement = function() {
                var c = this._container = document.createElement("div"),
                    b = this._bar = document.createElement("div");
                a.addClass(c, "pdebug");
                c.appendChild(b);
                a.addClass(b, "pdebug-menu");
                b.appendChild(this._createMenuHead());
                b.appendChild(this._createMenuStats());
                for (var e in this.panels) b.appendChild(this.panels[e].createMenuElement()), c.appendChild(this.panels[e].createPanelElement());
                return c
            };
            f.prototype._createMenuHead = function() {
                var c = document.createElement("span"),
                    b = this.game.renderType;
                b = b === Phaser.WEBGL ? "WebGL" : b === Phaser.HEADLESS ? "Headless" : "Canvas";
                a.addClass(c, "pdebug-head");
                a.setText(c, "Phaser Debug (" + b + "):");
                return c
            };
            f.prototype._createMenuStats =
                function() {
                    var c = document.createElement("div");
                    a.addClass(c, "pdebug-stats");
                    this._stats.ms = document.createElement("span");
                    this._stats.fps = document.createElement("span");
                    this._stats.dpf = document.createElement("span");
                    a.addClass(this._stats.ms, "pdebug-stats-item ms");
                    a.setHtml(this._stats.ms, "<span>0</span> ms");
                    c.appendChild(this._stats.ms);
                    a.addClass(this._stats.fps, "pdebug-stats-item fps");
                    a.setHtml(this._stats.fps, "<span>0</span> fps");
                    c.appendChild(this._stats.fps);
                    a.addClass(this._stats.dpf, "pdebug-stats-item dpf");
                    a.setHtml(this._stats.dpf, "<span>0</span> draws");
                    c.appendChild(this._stats.dpf);
                    return c
                }
        }, {
            "../package.json": 10,
            "./panels/Performance": 15,
            "./panels/Scene": 16,
            "./styles/main.less": 17,
            "./util/ui": 19
        }],
        2: [function(b, h, g) {
            var f = b("./handlebars/base"),
                a = b("./handlebars/safe-string")["default"],
                c = b("./handlebars/exception")["default"],
                e = b("./handlebars/utils"),
                k = b("./handlebars/runtime");
            b = function() {
                var b = new f.HandlebarsEnvironment;
                e.extend(b, f);
                b.SafeString = a;
                b.Exception = c;
                b.Utils = e;
                b.escapeExpression =
                    e.escapeExpression;
                b.VM = k;
                b.template = function(a) {
                    return k.template(a, b)
                };
                return b
            };
            h = b();
            h.create = b;
            h["default"] = h;
            g["default"] = h
        }, {
            "./handlebars/base": 3,
            "./handlebars/exception": 4,
            "./handlebars/runtime": 5,
            "./handlebars/safe-string": 6,
            "./handlebars/utils": 7
        }],
        3: [function(b, h, g) {
            function f(c, b) {
                this.helpers = c || {};
                this.partials = b || {};
                a(this)
            }

            function a(a) {
                a.registerHelper("helperMissing", function() {
                    if (1 !== arguments.length) throw new e("Missing helper: '" + arguments[arguments.length - 1].name + "'");
                });
                a.registerHelper("blockHelperMissing",
                    function(b, e) {
                        var f = e.inverse,
                            g = e.fn;
                        if (!0 === b) return g(this);
                        if (!1 === b || null == b) return f(this);
                        if (k(b)) return 0 < b.length ? (e.ids && (e.ids = [e.name]), a.helpers.each(b, e)) : f(this);
                        e.data && e.ids && (f = p(e.data), f.contextPath = c.appendContextPath(e.data.contextPath, e.name), e = {
                            data: f
                        });
                        return g(b, e)
                    });
                a.registerHelper("each", function(a, b) {
                    if (!b) throw new e("Must pass iterator to #each");
                    var f = b.fn,
                        g = b.inverse,
                        h = 0,
                        m = "",
                        q, n;
                    b.data && b.ids && (n = c.appendContextPath(b.data.contextPath, b.ids[0]) + ".");
                    l(a) && (a = a.call(this));
                    b.data && (q = p(b.data));
                    if (a && "object" === typeof a)
                        if (k(a))
                            for (b = a.length; h < b; h++) q && (q.index = h, q.first = 0 === h, q.last = h === a.length - 1, n && (q.contextPath = n + h)), m += f(a[h], {
                                data: q
                            });
                        else
                            for (var r in a) a.hasOwnProperty(r) && (q && (q.key = r, q.index = h, q.first = 0 === h, n && (q.contextPath = n + r)), m += f(a[r], {
                                data: q
                            }), h++);
                    0 === h && (m = g(this));
                    return m
                });
                a.registerHelper("if", function(a, b) {
                    l(a) && (a = a.call(this));
                    return !b.hash.includeZero && !a || c.isEmpty(a) ? b.inverse(this) : b.fn(this)
                });
                a.registerHelper("unless", function(c, b) {
                    return a.helpers["if"].call(this,
                        c, {
                            fn: b.inverse,
                            inverse: b.fn,
                            hash: b.hash
                        })
                });
                a.registerHelper("with", function(a, b) {
                    l(a) && (a = a.call(this));
                    var e = b.fn;
                    if (c.isEmpty(a)) return b.inverse(this);
                    if (b.data && b.ids) {
                        var f = p(b.data);
                        f.contextPath = c.appendContextPath(b.data.contextPath, b.ids[0]);
                        b = {
                            data: f
                        }
                    }
                    return e(a, b)
                });
                a.registerHelper("log", function(c, b) {
                    b = b.data && null != b.data.level ? parseInt(b.data.level, 10) : 1;
                    a.log(b, c)
                });
                a.registerHelper("lookup", function(a, c) {
                    return a && a[c]
                })
            }
            var c = b("./utils"),
                e = b("./exception")["default"];
            g.VERSION =
                "2.0.0";
            g.COMPILER_REVISION = 6;
            g.REVISION_CHANGES = {
                1: "<= 1.0.rc.2",
                2: "== 1.0.0-rc.3",
                3: "== 1.0.0-rc.4",
                4: "== 1.x.x",
                5: "== 2.0.0-alpha.x",
                6: ">= 2.0.0-beta.1"
            };
            var k = c.isArray,
                l = c.isFunction,
                m = c.toString;
            g.HandlebarsEnvironment = f;
            f.prototype = {
                constructor: f,
                logger: q,
                log: n,
                registerHelper: function(a, b) {
                    if ("[object Object]" === m.call(a)) {
                        if (b) throw new e("Arg not supported with multiple helpers");
                        c.extend(this.helpers, a)
                    } else this.helpers[a] = b
                },
                unregisterHelper: function(a) {
                    delete this.helpers[a]
                },
                registerPartial: function(a,
                    b) {
                    "[object Object]" === m.call(a) ? c.extend(this.partials, a) : this.partials[a] = b
                },
                unregisterPartial: function(a) {
                    delete this.partials[a]
                }
            };
            var q = {
                methodMap: {
                    0: "debug",
                    1: "info",
                    2: "warn",
                    3: "error"
                },
                DEBUG: 0,
                INFO: 1,
                WARN: 2,
                ERROR: 3,
                level: 3,
                log: function(a, c) {
                    q.level <= a && (a = q.methodMap[a], "undefined" !== typeof console && console[a] && console[a].call(console, c))
                }
            };
            g.logger = q;
            var n = q.log;
            g.log = n;
            var p = function(a) {
                var b = c.extend({}, a);
                b._parent = a;
                return b
            };
            g.createFrame = p
        }, {
            "./exception": 4,
            "./utils": 7
        }],
        4: [function(b,
            h, g) {
            function f(c, b) {
                if (b && b.firstLine) {
                    var e = b.firstLine;
                    c += " - " + e + ":" + b.firstColumn
                }
                c = Error.prototype.constructor.call(this, c);
                for (var f = 0; f < a.length; f++) this[a[f]] = c[a[f]];
                e && (this.lineNumber = e, this.column = b.firstColumn)
            }
            var a = "description fileName lineNumber message name number stack".split(" ");
            f.prototype = Error();
            g["default"] = f
        }, {}],
        5: [function(b, h, g) {
            function f(a, c, b, e, f) {
                var g = function(c, g) {
                    g = g || {};
                    return b.call(a, c, a.helpers, a.partials, g.data || e, f && [c].concat(f))
                };
                g.program = c;
                g.depth = f ?
                    f.length : 0;
                return g
            }
            var a = b("./utils"),
                c = b("./exception")["default"],
                e = b("./base").COMPILER_REVISION,
                k = b("./base").REVISION_CHANGES,
                l = b("./base").createFrame;
            g.checkRevision = function(a) {
                var b = a && a[0] || 1;
                if (b !== e) {
                    if (b < e) throw new c("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version (" + k[e] + ") or downgrade your runtime to an older version (" + k[b] + ").");
                    throw new c("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version (" +
                        a[1] + ").");
                }
            };
            g.template = function(b, e) {
                if (!e) throw new c("No environment passed to template");
                if (!b || !b.main) throw new c("Unknown template object: " + typeof b);
                e.VM.checkRevision(b.compiler);
                var g = {
                        lookup: function(a, c) {
                            for (var b = a.length, e = 0; e < b; e++)
                                if (a[e] && null != a[e][c]) return a[e][c]
                        },
                        lambda: function(a, c) {
                            return "function" === typeof a ? a.call(c) : a
                        },
                        escapeExpression: a.escapeExpression,
                        invokePartial: function(f, g, h, k, l, m, q, n, p) {
                            l && (k = a.extend({}, k, l));
                            l = e.VM.invokePartial.call(this, f, h, k, m, q, n, p);
                            null ==
                                l && e.compile && (m = {
                                    helpers: m,
                                    partials: q,
                                    data: n,
                                    depths: p
                                }, q[h] = e.compile(f, {
                                    data: void 0 !== n,
                                    compat: b.compat
                                }, e), l = q[h](k, m));
                            if (null != l) {
                                if (g) {
                                    f = l.split("\n");
                                    h = 0;
                                    for (k = f.length; h < k && (f[h] || h + 1 !== k); h++) f[h] = g + f[h];
                                    l = f.join("\n")
                                }
                                return l
                            }
                            throw new c("The partial " + h + " could not be compiled when running in runtime-only mode");
                        },
                        fn: function(a) {
                            return b[a]
                        },
                        programs: [],
                        program: function(a, c, b) {
                            var e = this.programs[a],
                                g = this.fn(a);
                            c || b ? e = f(this, a, g, c, b) : e || (e = this.programs[a] = f(this, a, g));
                            return e
                        },
                        data: function(a,
                            c) {
                            for (; a && c--;) a = a._parent;
                            return a
                        },
                        merge: function(c, b) {
                            var e = c || b;
                            c && b && c !== b && (e = a.extend({}, b, c));
                            return e
                        },
                        noop: e.VM.noop,
                        compilerInfo: b.compiler
                    },
                    h = function(a, c) {
                        c = c || {};
                        var e = c.data;
                        h._setup(c);
                        c.partial || !b.useData || e && "root" in e || (e = e ? l(e) : {}, e.root = a);
                        var f;
                        b.useDepths && (f = c.depths ? [a].concat(c.depths) : [a]);
                        return b.main.call(g, a, g.helpers, g.partials, e, f)
                    };
                h.isTop = !0;
                h._setup = function(a) {
                    a.partial ? (g.helpers = a.helpers, g.partials = a.partials) : (g.helpers = g.merge(a.helpers, e.helpers), b.usePartial &&
                        (g.partials = g.merge(a.partials, e.partials)))
                };
                h._child = function(a, e, h) {
                    if (b.useDepths && !h) throw new c("must pass parent depths");
                    return f(g, a, b[a], e, h)
                };
                return h
            };
            g.program = f;
            g.invokePartial = function(a, b, e, f, g, h, k) {
                f = {
                    partial: !0,
                    helpers: f,
                    partials: g,
                    data: h,
                    depths: k
                };
                if (void 0 === a) throw new c("The partial " + b + " could not be found");
                if (a instanceof Function) return a(e, f)
            };
            g.noop = function() {
                return ""
            }
        }, {
            "./base": 3,
            "./exception": 4,
            "./utils": 7
        }],
        6: [function(b, h, g) {
            function f(a) {
                this.string = a
            }
            f.prototype.toString =
                function() {
                    return "" + this.string
                };
            g["default"] = f
        }, {}],
        7: [function(b, h, g) {
            function f(a) {
                return c[a]
            }
            var a = b("./safe-string")["default"],
                c = {
                    "&": "&amp;",
                    "<": "&lt;",
                    ">": "&gt;",
                    '"': "&quot;",
                    "'": "&#x27;",
                    "`": "&#x60;"
                },
                e = /[&<>"'`]/g,
                k = /[&<>"'`]/;
            g.extend = function(a) {
                for (var c = 1; c < arguments.length; c++)
                    for (var b in arguments[c]) Object.prototype.hasOwnProperty.call(arguments[c], b) && (a[b] = arguments[c][b]);
                return a
            };
            var l = Object.prototype.toString;
            g.toString = l;
            b = function(a) {
                return "function" === typeof a
            };
            b(/x/) &&
                (b = function(a) {
                    return "function" === typeof a && "[object Function]" === l.call(a)
                });
            g.isFunction = b;
            var m = Array.isArray || function(a) {
                return a && "object" === typeof a ? "[object Array]" === l.call(a) : !1
            };
            g.isArray = m;
            g.escapeExpression = function(c) {
                if (c instanceof a) return c.toString();
                if (null == c) return "";
                if (!c) return c + "";
                c = "" + c;
                return k.test(c) ? c.replace(e, f) : c
            };
            g.isEmpty = function(a) {
                return a || 0 === a ? m(a) && 0 === a.length ? !0 : !1 : !0
            };
            g.appendContextPath = function(a, c) {
                return (a ? a + "." : "") + c
            }
        }, {
            "./safe-string": 6
        }],
        8: [function(b,
            h, g) {
            h.exports = b("./dist/cjs/handlebars.runtime")
        }, {
            "./dist/cjs/handlebars.runtime": 2
        }],
        9: [function(b, h, g) {
            h.exports = b("handlebars/runtime")["default"]
        }, {
            "handlebars/runtime": 8
        }],
        10: [function(b, h, g) {
                h.exports = {
                    name: "phaser-debug",
                    version: "1.1.7",
                    description: "Simple debug module for phaser",
                    author: "Chad Engler <chad@pantherdev.com>",
                    license: "MIT",
                    homepage: "https://github.com/englercj/phaser-debug",
                    repository: {
                        type: "git",
                        url: "https://github.com/englercj/phaser-debug.git"
                    },
                    bugs: {
                        url: "https://github.com/englercj/phaser-debug/issues"
                    },
                    keywords: ["phaser", "debug", "html5", "game", "engine"],
                    dependencies: {
                        handlebars: "^2.0.0",
                        "node-lessify": "^0.0.5",
                        hbsfy: "^2.1.0"
                    },
                    devDependencies: {
                        browserify: "^5.11.1",
                        "event-stream": "^3.1.7",
                        gulp: "^3.8.8",
                        "gulp-bump": "^0.1.11",
                        "gulp-git": "^0.5.3",
                        "gulp-jshint": "^1.8.4",
                        "gulp-util": "^3.0.1",
                        "jshint-summary": "^0.4.0",
                        "vinyl-source-stream": "^0.1.1",
                        watchify: "^1.0.2"
                    },
                    main: "./dist/phaser-debug.js",
                    browser: "./src/index.js",
                    browserify: {
                        transform: ["hbsfy", "node-lessify"],
                        "transform-options": {
                            "node-lessify": "textMode"
                        }
                    }
                }
            },
            {}
        ],
        11: [function(b, h, g) {
            b = b("hbsfy/runtime");
            h.exports = b.template({
                1: function(b, a, c, e) {
                    var f;
                    a = this.lambda;
                    c = this.escapeExpression;
                    return "    <label>Children:</label>\n    <strong>" + c(a(null != (f = null != b ? b.children : b) ? f.length : f, b)) + "</strong>\n    <br/>\n"
                },
                3: function(b, a, c, e) {
                    c = "    <label>Texture:</label>\n";
                    var f = a["if"].call(b, null != (f = null != (f = null != (f = null != b ? b.texture : b) ? f.baseTexture : f) ? f.source : f) ? f.src : f, {
                        name: "if",
                        hash: {},
                        fn: this.program(4, e),
                        inverse: this.program(6, e),
                        data: e
                    });
                    null != f &&
                        (c += f);
                    return c + "    <br/>\n"
                },
                4: function(b, a, c, e) {
                    var f;
                    a = this.lambda;
                    c = this.escapeExpression;
                    return '        <a href="' + c(a(null != (f = null != (f = null != (f = null != b ? b.texture : b) ? f.baseTexture : f) ? f.source : f) ? f.src : f, b)) + '" target="_blank">' + c(a(null != (f = null != (f = null != (f = null != b ? b.texture : b) ? f.baseTexture : f) ? f.source : f) ? f.src : f, b)) + "</a>\n"
                },
                6: function(b, a, c, e) {
                    var f;
                    a = this.lambda;
                    c = this.escapeExpression;
                    return "        <strong>" + c(a(null != (f = null != (f = null != b ? b.texture : b) ? f.baseTexture : f) ? f.source : f, b)) +
                        "</strong>\n"
                },
                compiler: [6, ">= 2.0.0-beta.1"],
                main: function(b, a, c, e) {
                    var f, g;
                    c = a.helperMissing;
                    var h = this.escapeExpression,
                        q = this.lambda;
                    c = "<br/><br/>\n\n<label>Name:</label>\n<strong>" + h((g = null != (g = a.name || (null != b ? b.name : b)) ? g : c, "function" === typeof g ? g.call(b, {
                            name: "name",
                            hash: {},
                            data: e
                        }) : g)) + "</strong>\n<br/>\n\n<label>Type:</label>\n<strong>" + h((g = null != (g = a.typeString || (null != b ? b.typeString : b)) ? g : c, "function" === typeof g ? g.call(b, {
                            name: "typeString",
                            hash: {},
                            data: e
                        }) : g)) + "</strong>\n<br/>\n\n<label>Position:</label>\n<strong>" +
                        h(q(null != (f = null != b ? b.position : b) ? f.x : f, b)) + "</strong> x <strong>" + h(q(null != (f = null != b ? b.position : b) ? f.y : f, b)) + "</strong>\n<br/>\n\n";
                    f = a["if"].call(b, null != b ? b.children : b, {
                        name: "if",
                        hash: {},
                        fn: this.program(1, e),
                        inverse: this.noop,
                        data: e
                    });
                    null != f && (c += f);
                    c += "\n";
                    f = a["if"].call(b, null != b ? b.texture : b, {
                        name: "if",
                        hash: {},
                        fn: this.program(3, e),
                        inverse: this.noop,
                        data: e
                    });
                    null != f && (c += f);
                    return c
                },
                useData: !0
            })
        }, {
            "hbsfy/runtime": 9
        }],
        12: [function(b, h, g) {
            b = b("hbsfy/runtime");
            h.exports = b.template({
                compiler: [6,
                    ">= 2.0.0-beta.1"
                ],
                main: function(b, a, c, e) {
                    return '<ul class="sidebar">\n</ul>\n\n<a href="#" class="refresh">refresh</a>\n<div class="details">\n</div>\n'
                },
                useData: !0
            })
        }, {
            "hbsfy/runtime": 9
        }],
        13: [function(b, h, g) {
            b = b("hbsfy/runtime");
            h.exports = b.template({
                1: function(b, a, c, e) {
                    var f;
                    c = a.helperMissing;
                    var g = this.escapeExpression;
                    return '        <span class="weak">(' + g((f = null != (f = a.name || (null != b ? b.name : b)) ? f : c, "function" === typeof f ? f.call(b, {
                        name: "name",
                        hash: {},
                        data: e
                    }) : f)) + ")</span>\n"
                },
                3: function(b, a,
                    c, e) {
                    c = "        <ul>\n";
                    b = a.each.call(b, null != b ? b.children : b, {
                        name: "each",
                        hash: {},
                        fn: this.program(4, e),
                        inverse: this.noop,
                        data: e
                    });
                    null != b && (c += b);
                    return c + "        </ul>\n"
                },
                4: function(b, a, c, e) {
                    var f = "";
                    b = this.invokePartial(c.sceneTree, "                ", "sceneTree", b, void 0, a, c, e);
                    null != b && (f += b);
                    return f
                },
                compiler: [6, ">= 2.0.0-beta.1"],
                main: function(b, a, c, e) {
                    var f;
                    c = a.helperMissing;
                    var g = this.escapeExpression;
                    c = g((f = null != (f = a.listItemOpen || (null != b ? b.listItemOpen : b)) ? f : c, "function" === typeof f ?
                        f.call(b, {
                            name: "listItemOpen",
                            hash: {},
                            data: e
                        }) : f)) + "\n    " + g((f = null != (f = a.typeString || (null != b ? b.typeString : b)) ? f : c, "function" === typeof f ? f.call(b, {
                        name: "typeString",
                        hash: {},
                        data: e
                    }) : f)) + "\n\n";
                    f = a["if"].call(b, null != b ? b.name : b, {
                        name: "if",
                        hash: {},
                        fn: this.program(1, e),
                        inverse: this.noop,
                        data: e
                    });
                    null != f && (c += f);
                    c += "\n";
                    f = a["if"].call(b, null != b ? b.children : b, {
                        name: "if",
                        hash: {},
                        fn: this.program(3, e),
                        inverse: this.noop,
                        data: e
                    });
                    null != f && (c += f);
                    return c + "</li>\n"
                },
                usePartial: !0,
                useData: !0
            })
        }, {
            "hbsfy/runtime": 9
        }],
        14: [function(b, h, g) {
            function f(a, b) {
                this.game = a;
                this.parent = b;
                this.title = this.name = "";
                this.active = !1;
                this._panel = null
            }
            var a = b("../util/ui");
            f.prototype.constructor = f;
            h.exports = f;
            f.prototype.createPanelElement = function() {
                var c = this._panel = document.createElement("div");
                a.addClass(c, "pdebug-panel " + this.name);
                return c
            };
            f.prototype.createMenuElement = function() {
                var c = this._menuItem = document.createElement("a");
                c.href = "#" + this.name;
                a.addClass(c, "pdebug-menu-item " + this.name);
                a.setText(c, this.title);
                return c
            };
            f.prototype.toggle = function() {
                this.active ? this.hide() : this.show()
            };
            f.prototype.show = function() {
                this.active = !0;
                a.setStyle(this._panel, "display", "block")
            };
            f.prototype.hide = function() {
                this.active = !1;
                a.setStyle(this._panel, "display", "none")
            };
            f.prototype.destroy = function() {
                this._panel = this.active = this.title = this.name = this.parent = this.game = null
            }
        }, {
            "../util/ui": 19
        }],
        15: [function(b, h, g) {
            function f(c, b) {
                a.call(this, c, b);
                this.name = "performance";
                this.title = "Performance";
                this.eventQueue = [];
                this.graph = null;
                this.colorPalettes = {
                    _default: "#058DC7 #50B432 #ED561B #DDDF00 #24CBE5 #64E572 #FF9655 #FFF263 #6AF9C4 #2b908f #90ee7e #f45b5b #7798BF #aaeeee #ff0066 #eeaaee #55BF3B #DF5353 #7798BF #aaeeee".split(" ")
                }
            }
            var a = b("./Panel"),
                c = b("../util/Graph");
            f.prototype = Object.create(a.prototype);
            f.prototype.constructor = f;
            h.exports = f;
            f.prototype.createPanelElement = function() {
                var b = a.prototype.createPanelElement.call(this);
                this.graph = new c(b, window.innerWidth - 20, 256, this.colorPalettes._default);
                return b
            };
            f.prototype.update = function() {
                this.graph.addData(this.parent.timings,
                    this.eventQueue.shift())
            };
            f.prototype.mark = function(a) {
                this.eventQueue.push(a)
            };
            f.prototype.destroy = function() {
                a.prototype.destroy.call(this);
                this.graph.destroy();
                this.colorPalettes = this.graph = this.eventQueue = null
            }
        }, {
            "../util/Graph": 18,
            "./Panel": 14
        }],
        16: [function(b, h, g) {
            function f(c, b) {
                a.call(this, c, b);
                this.name = "scene";
                this.title = "Scene Tree";
                this.selected = this.refresh = this.details = this.tree = this._tree = null
            }
            var a = b("./Panel"),
                c = b("../util/ui"),
                e = b("hbsfy/runtime"),
                k = b("../hbs/scene/panel.hbs"),
                l =
                b("../hbs/scene/details.hbs"),
                m = b("../hbs/scene/tree.hbs"),
                q = {},
                n = 0;
            e.registerPartial("sceneDetails", l);
            e.registerPartial("sceneTree", m);
            e.registerHelper("typeString", function() {
                if (void 0 === this.type) return this instanceof Phaser.Stage ? "Stage" : "undefined" !== typeof PIXI.Stage && this instanceof PIXI.Stage ? "PIXI Stage" : this instanceof PIXI.Sprite ? "PIXI Sprite" : this instanceof PIXI.DisplayObjectContainer ? "PIXI DisplayObjectContainer" : this instanceof PIXI.DisplayObject ? "PIXI DisplayObject" : "Unknown";
                switch (this.type) {
                    case Phaser.SPRITE:
                        return "Sprite";
                    case Phaser.BUTTON:
                        return "Button";
                    case Phaser.IMAGE:
                        return "Image";
                    case Phaser.GRAPHICS:
                        return "Graphics";
                    case Phaser.TEXT:
                        return "Text";
                    case Phaser.TILESPRITE:
                        return "Tile Sprite";
                    case Phaser.BITMAPTEXT:
                        return "Bitmap Text";
                    case Phaser.GROUP:
                        return "Group";
                    case Phaser.RENDERTEXTURE:
                        return "Render Texture";
                    case Phaser.TILEMAP:
                        return "Tilemap";
                    case Phaser.TILEMAPLAYER:
                        return "Tilemap Layer";
                    case Phaser.EMITTER:
                        return "Emitter";
                    case Phaser.POLYGON:
                        return "Polygon";
                    case Phaser.BITMAPDATA:
                        return "Bitmap Data";
                    case Phaser.CANVAS_FILTER:
                        return "Canvas Filter";
                    case Phaser.WEBGL_FILTER:
                        return "WebGL Filter";
                    case Phaser.ELLIPSE:
                        return "Ellipse";
                    case Phaser.SPRITEBATCH:
                        return "Sprite Batch";
                    case Phaser.RETROFONT:
                        return "Retro Font";
                    case Phaser.POINTER:
                        return "Pointer";
                    case Phaser.ROPE:
                        return "Rope";
                    default:
                        return "Unknown"
                }
            });
            e.registerHelper("listItemOpen", function() {
                q[++n] = this;
                return new e.SafeString("<li " + (this.children && this.children.length ? 'class="has-children" ' : "") + 'data-id="' + n + '">')
            });
            f.prototype = Object.create(a.prototype);
            f.prototype.constructor = f;
            h.exports =
                f;
            f.prototype.createPanelElement = function() {
                a.prototype.createPanelElement.call(this);
                this._panel.innerHTML = k(this.game.stage);
                this.tree = this._panel.querySelector(".sidebar");
                this.details = this._panel.querySelector(".details");
                this.refresh = this._panel.querySelector(".refresh");
                c.on(this.tree, "click", "li", this._onLiClick.bind(this));
                c.on(this.refresh, "click", this._onRefreshClick.bind(this));
                return this._panel
            };
            f.prototype.rebuildTree = function() {
                c.empty(this.tree);
                q = {};
                this.tree.innerHTML = m(this.game.stage);
                this.select(this.tree.querySelector("li:first-child"));
                c.addClass(this.selected, "expanded");
                this.reloadDetails()
            };
            f.prototype.reloadDetails = function() {
                this.details.innerHTML = l(q[this.selected.dataset.id])
            };
            f.prototype.select = function(a) {
                this.selected && c.removeClass(this.selected, "selected");
                this.selected = a;
                c.addClass(this.selected, "selected")
            };
            f.prototype.show = function() {
                this.rebuildTree();
                a.prototype.show.call(this)
            };
            f.prototype.destroy = function() {
                a.prototype.destroy.call(this);
                this.refresh = this.details =
                    this.tree = null
            };
            f.prototype._onLiClick = function(a) {
                a.stopPropagation();
                this.select(a.delegateTarget);
                c.toggleClass(a.delegateTarget, "expanded");
                this.reloadDetails()
            };
            f.prototype._onRefreshClick = function(a) {
                a.preventDefault();
                a.stopPropagation();
                this.rebuildTree()
            }
        }, {
            "../hbs/scene/details.hbs": 11,
            "../hbs/scene/panel.hbs": 12,
            "../hbs/scene/tree.hbs": 13,
            "../util/ui": 19,
            "./Panel": 14,
            "hbsfy/runtime": 9
        }],
        17: [function(b, h, g) {
                h.exports = ".pdebug{font-size:14px;position:fixed;bottom:0;width:100%;color:#aaa;background:#333;border-top:3px solid #00bf00}.pdebug a{color:#00bf00}.pdebug label{display:inline-block;width:60px}.pdebug strong{font-weight:400;color:#fff}.pdebug .weak{color:#aaa}.pdebug .pdebug-menu{height:32px;padding:0 15px;text-shadow:1px 1px 0 #111;background:#333}.pdebug .pdebug-menu span{display:inline-block;height:32px;line-height:32px}.pdebug .pdebug-menu .pdebug-head{padding-right:25px;border-right:1px solid #666}.pdebug .pdebug-menu .pdebug-stats{float:right;padding:0 0 0 10px}.pdebug .pdebug-menu .pdebug-stats .pdebug-stats-item{display:inline-block;width:100px;text-align:right}.pdebug .pdebug-menu .pdebug-stats .pdebug-stats-item>span{color:#fff}.pdebug .pdebug-menu .pdebug-stats .pdebug-stats-item.obj{width:100px;border:0}.pdebug .pdebug-menu .pdebug-menu-item{color:#fff;display:inline-block;text-decoration:none;padding:0 10px;height:32px;line-height:32px;border-right:1px solid #666}.pdebug .pdebug-menu .pdebug-menu-item.active{color:#00bf00;background:#111}.pdebug .pdebug-panel{display:none;height:265px;overflow:auto;font-size:12px;background:#111}.pdebug .pdebug-panel.scene .sidebar{float:left;height:100%;min-width:175px;max-width:500px;resize:horizontal;overflow:auto}.pdebug .pdebug-panel.scene .details{float:left;height:100%}.pdebug .pdebug-panel.scene .refresh{position:absolute}.pdebug .pdebug-panel.scene>ul{padding:0;margin:0;border-right:solid 1px #aaa;margin-right:10px}.pdebug .pdebug-panel.scene>ul li{color:#fff;list-style:none;cursor:pointer}.pdebug .pdebug-panel.scene>ul li.expanded>ul{display:block}.pdebug .pdebug-panel.scene>ul li.selected{color:#00bf00}.pdebug .pdebug-panel.scene>ul li::before{content:'-';display:inline-block;width:12px;height:1px;color:#aaa}.pdebug .pdebug-panel.scene>ul li.has-children::before{content:'';display:inline-block;width:0;height:0;margin:0 6px 0 0;border-top:6px solid transparent;border-bottom:6px solid transparent;border-right:0;border-left:6px solid rgba(255,255,255,.3)}.pdebug .pdebug-panel.scene>ul li.has-children.expanded::before{margin:0 4px 0 -4px;border-top:6px solid rgba(255,255,255,.3);border-left:6px solid transparent;border-right:6px solid transparent;border-bottom:0}.pdebug .pdebug-panel.scene>ul li>ul{display:none;padding:0 0 0 10px}.checkbox{width:75px;height:26px;background:#333;position:relative;line-height:normal;-webkit-border-radius:50px;-moz-border-radius:50px;border-radius:50px;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.5),0 1px 0 rgba(255,255,255,.2);-moz-box-shadow:inset 0 1px 1px rgba(0,0,0,.5),0 1px 0 rgba(255,255,255,.2);-o-box-shadow:inset 0 1px 1px rgba(0,0,0,.5),0 1px 0 rgba(255,255,255,.2);-ms-box-shadow:inset 0 1px 1px rgba(0,0,0,.5),0 1px 0 rgba(255,255,255,.2);box-shadow:inset 0 1px 1px rgba(0,0,0,.5),0 1px 0 rgba(255,255,255,.2)}.checkbox:after{content:'OFF';font:12px/26px Arial,sans-serif;color:#000;position:absolute;right:10px;z-index:0;font-weight:700;text-shadow:1px 1px 0 rgba(255,255,255,.15)}.checkbox:before{content:'ON';font:12px/26px Arial,sans-serif;color:#00bf00;position:absolute;left:10px;z-index:0;font-weight:700}.checkbox+span{position:relative;display:block;top:-25px;left:90px;width:200px;color:#fcfff4;font-size:1.1em}.checkbox input[type=checkbox]:checked+label{left:38px}.checkbox label{display:block;width:34px;height:20px;-webkit-border-radius:50px;-moz-border-radius:50px;border-radius:50px;-webkit-transition:all .4s ease;-moz-transition:all .4s ease;-o-transition:all .4s ease;-ms-transition:all .4s ease;transition:all .4s ease;cursor:pointer;position:absolute;top:3px;left:3px;z-index:1;background:#fcfff4;background:-webkit-linear-gradient(top,#fcfff4 0,#dfe5d7 40%,#b3bead 100%);background:-moz-linear-gradient(top,#fcfff4 0,#dfe5d7 40%,#b3bead 100%);background:-o-linear-gradient(top,#fcfff4 0,#dfe5d7 40%,#b3bead 100%);background:-ms-linear-gradient(top,#fcfff4 0,#dfe5d7 40%,#b3bead 100%);background:linear-gradient(top,#fcfff4 0,#dfe5d7 40%,#b3bead 100%);-webkit-box-shadow:0 2px 5px 0 rgba(0,0,0,.3);-moz-box-shadow:0 2px 5px 0 rgba(0,0,0,.3);box-shadow:0 2px 5px 0 rgba(0,0,0,.3)}"
            },
            {}
        ],
        18: [function(b, h, g) {
            function f(a, c, b, f, g) {
                g = g || {};
                this.canvas = document.createElement("canvas");
                this.canvas.width = c;
                this.canvas.height = b;
                a.appendChild(this.canvas);
                this.ctx = this.canvas.getContext("2d");
                this.labelStyle = "rgba(200, 200, 200, 0.6)";
                this.maxValue = g.maxValue || 50;
                this.padding = g.labelPadding || 5;
                this.dataLineWidth = g.lineWidth || 1;
                this.legendWidth = 230;
                this.legendBoxSize = 10;
                this.legendIndent = 5;
                this.eventY = 2 * this.padding;
                this.colors = f;
                this.dataCanvas = document.createElement("canvas");
                this.dataCanvas.width =
                    c - this.legendWidth;
                this.dataCanvas.height = b;
                this.dctx = this.dataCanvas.getContext("2d");
                this.dataCanvasBuffer = document.createElement("canvas");
                this.dataCanvasBuffer.width = this.dataCanvas.width - this.dataLineWidth;
                this.dataCanvasBuffer.height = this.dataCanvas.height;
                this.bctx = this.dataCanvasBuffer.getContext("2d")
            }
            f.prototype.constructor = f;
            h.exports = f;
            f.prototype.addData = function(a, c) {
                this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);
                this.drawBg();
                this.drawLegend(a);
                this.drawData(a, c)
            };
            f.prototype.drawBg =
                function() {
                    var a = Math.floor(this.canvas.height - 16 / this.maxValue * this.canvas.height) + .5,
                        c = Math.floor(this.canvas.height - 33 / this.maxValue * this.canvas.height) + .5;
                    this.ctx.strokeStyle = this.ctx.fillStyle = this.labelStyle;
                    this.ctx.lineWidth = 1;
                    this.ctx.beginPath();
                    this.ctx.moveTo(this.legendWidth, a);
                    this.ctx.lineTo(this.canvas.width, a);
                    this.ctx.stroke();
                    this.ctx.fillText("16ms (60 fps)", this.legendWidth + this.padding, a - this.padding);
                    this.ctx.beginPath();
                    this.ctx.moveTo(this.legendWidth, c);
                    this.ctx.lineTo(this.canvas.width,
                        c);
                    this.ctx.stroke();
                    this.ctx.fillText("33ms (30 fps)", this.legendWidth + this.padding, c - this.padding);
                    this.ctx.beginPath();
                    this.ctx.moveTo(this.legendWidth, this.canvas.height - .5);
                    this.ctx.lineTo(this.canvas.width, this.canvas.height - .5);
                    this.ctx.stroke()
                };
            f.prototype.drawLegend = function(a) {
                var c = 0,
                    b = 0,
                    f = this.padding,
                    g;
                for (g in a) {
                    var h = b * this.legendBoxSize + this.padding * (b + 1) + this.padding;
                    this.ctx.fillStyle = this.labelStyle;
                    this.ctx.fillText(g, f, h);
                    ++b;
                    for (var q in a[g]) h = b * this.legendBoxSize + this.padding *
                        b, this.ctx.fillStyle = this.colors[c++ % this.colors.length], this.ctx.fillRect(f + this.legendIndent, h, this.legendBoxSize, this.legendBoxSize), this.ctx.fillStyle = this.labelStyle, this.ctx.fillText(Math.round(a[g][q]) + "ms - " + q, f + this.legendIndent + this.legendBoxSize + this.padding, h + this.legendBoxSize), ++b, 16 < b && (f += this.legendWidth / 2, b = 0)
                }
            };
            f.prototype.drawData = function(a, c) {
                var b = this.dataCanvas.width - this.dataLineWidth + .5,
                    f = this.dataCanvas.height - .5;
                this.bctx.clearRect(0, 0, this.dataCanvasBuffer.width, this.dataCanvasBuffer.height);
                this.bctx.drawImage(this.dataCanvas, this.dataLineWidth, 0, b, f, 0, 0, b, f);
                this.dctx.clearRect(0, 0, this.dataCanvas.width, this.dataCanvas.height);
                this.dctx.drawImage(this.dataCanvasBuffer, 0, 0);
                c && (this.dctx.beginPath(), this.dctx.strokeStyle = this.dctx.fillStyle = "#ff0000", this.dctx.lineWidth = this.dataLineWidth, this.dctx.moveTo(b, f), this.dctx.lineTo(b, 0), this.dctx.stroke(), this.dctx.textAlign = "right", this.dctx.fillText(c, b - this.padding, this.eventY), this.eventY += 2 * this.padding, this.eventY > this.dataCanvas.height /
                    2 && (this.eventY = 2 * this.padding));
                c = 0;
                var g;
                for (g in a)
                    for (var h in a[g]) {
                        this.dctx.beginPath();
                        this.dctx.strokeStyle = this.dctx.fillStyle = this.colors[c++ % this.colors.length];
                        this.dctx.lineWidth = this.dataLineWidth;
                        var q = a[g][h] / this.maxValue * this.dataCanvas.height;
                        q = 0 > q ? 0 : q;
                        this.dctx.moveTo(b, f);
                        this.dctx.lineTo(b, f -= q);
                        this.dctx.stroke()
                    }
                this.ctx.drawImage(this.dataCanvas, this.legendWidth, 0)
            };
            f.prototype.destroy = function() {
                this.bctx = this.dataCanvasBuffer = this.dctx = this.dataCanvas = this.colors = this.legendIndent =
                    this.legendBoxSize = this.legendWidth = this.dataLineWidth = this.padding = this.maxValue = this.labelStyle = this.ctx = this.canvas = null
            }
        }, {}],
        19: [function(b, h, g) {
            var f = {
                delegate: function(a, c, b, f) {
                    a.addEventListener(c, function(a) {
                        (window.target = a.target) && a.target.matches(b) ? (a.delegateTarget = a.target, f && f(a)) : a.target.parentElement && a.target.parentElement.matches(b) && (a.delegateTarget = a.target.parentElement, f && f(a))
                    })
                },
                on: function(a, c, b, g) {
                    "function" === typeof b && (g = b, b = null);
                    if (b) return f.delegate(a, c, b, g);
                    a.addEventListener(c,
                        g)
                },
                removeClass: function(a, c) {
                    var b = a.className.split(" ");
                    c = b.indexOf(c); - 1 !== c && (b.splice(c, 1), a.className = b.join(" ").trim())
                },
                addClass: function(a, c) {
                    var b = a.className.split(" ");
                    b.push(c);
                    a.className = b.join(" ").trim()
                },
                hasClass: function(a, c) {
                    return -1 !== a.className.split(" ").indexOf(c)
                },
                toggleClass: function(a, c) {
                    f.hasClass(a, c) ? f.removeClass(a, c) : f.addClass(a, c)
                },
                setText: function(a, c) {
                    a.textContent = c
                },
                setHtml: function(a, c) {
                    a.innerHTML = c
                },
                setStyle: function(a, c, b) {
                    if ("string" === typeof c) a.style[c] =
                        b;
                    else
                        for (var e in c) a.style[e] = c[e]
                },
                empty: function(a) {
                    for (; a.firstChild;) a.removeChild(a.firstChild)
                },
                show: function(a) {
                    f.setStyle(a, "display", "block")
                },
                hide: function(a) {
                    f.setStyle(a, "display", "none")
                },
                clear: function() {
                    var a = document.createElement("br");
                    f.setStyle(a, "clear", "both");
                    return a
                },
                addCss: function(a) {
                    var c = document.createElement("style");
                    c.type = "text/css";
                    c.styleSheet ? c.styleSheet.cssText = a : c.appendChild(document.createTextNode(a));
                    document.head.appendChild(c)
                }
            };
            h.exports = f;
            HTMLElement.prototype.matches ||
                (b = HTMLElement.prototype, b.matches = b.matches || b.webkitMatchesSelector || b.mozMatchesSelector || b.msMatchesSelector || b.oMatchesSelector || function(a) {
                    a = this.parentElement.querySelectorAll(a);
                    for (var c, b = 0; c = a[b++];)
                        if (c === this) return !0;
                    return !1
                })
        }, {}]
    }, {}, [1])(1)
});
(function(d, b) {
    "object" === typeof exports && "object" === typeof module ? module.exports = b() : "function" === typeof define && define.amd ? define([], b) : "object" === typeof exports ? exports.dat = b() : d.dat = b()
})(this, function() {
    return function(d) {
        function b(g) {
            if (h[g]) return h[g].exports;
            var f = h[g] = {
                exports: {},
                id: g,
                loaded: !1
            };
            d[g].call(f.exports, f, f.exports, b);
            f.loaded = !0;
            return f.exports
        }
        var h = {};
        b.m = d;
        b.c = h;
        b.p = "";
        return b(0)
    }([function(d, b, h) {
            b = h(1);
            d.exports = (b && b.__esModule ? b : {
                default: b
            }).default
        }, function(d, b,
            h) {
            function g(a) {
                return a && a.__esModule ? a : {
                    default: a
                }
            }
            b.__esModule = !0;
            d = h(2);
            d = g(d);
            var f = h(6);
            f = g(f);
            var a = h(3);
            a = g(a);
            var c = h(7);
            c = g(c);
            var e = h(8);
            e = g(e);
            var k = h(10);
            k = g(k);
            var l = h(11);
            l = g(l);
            var m = h(12);
            m = g(m);
            var q = h(13);
            q = g(q);
            var n = h(14);
            n = g(n);
            var p = h(15);
            p = g(p);
            var r = h(16);
            r = g(r);
            var u = h(9);
            u = g(u);
            h = h(17);
            h = g(h);
            b.default = {
                color: {
                    Color: d.default,
                    math: f.default,
                    interpret: a.default
                },
                controllers: {
                    Controller: c.default,
                    BooleanController: e.default,
                    OptionController: k.default,
                    StringController: l.default,
                    NumberController: m.default,
                    NumberControllerBox: q.default,
                    NumberControllerSlider: n.default,
                    FunctionController: p.default,
                    ColorController: r.default
                },
                dom: {
                    dom: u.default
                },
                gui: {
                    GUI: h.default
                },
                GUI: h.default
            }
        }, function(d, b, h) {
            function g(a) {
                return a && a.__esModule ? a : {
                    default: a
                }
            }

            function f(a, c, b) {
                Object.defineProperty(a, c, {
                    get: function() {
                        if ("RGB" === this.__state.space) return this.__state[c];
                        m.recalculateRGB(this, c, b);
                        return this.__state[c]
                    },
                    set: function(a) {
                        "RGB" !== this.__state.space && (m.recalculateRGB(this, c,
                            b), this.__state.space = "RGB");
                        this.__state[c] = a
                    }
                })
            }

            function a(a, c) {
                Object.defineProperty(a, c, {
                    get: function() {
                        if ("HSV" === this.__state.space) return this.__state[c];
                        m.recalculateHSV(this);
                        return this.__state[c]
                    },
                    set: function(a) {
                        "HSV" !== this.__state.space && (m.recalculateHSV(this), this.__state.space = "HSV");
                        this.__state[c] = a
                    }
                })
            }
            b.__esModule = !0;
            d = h(3);
            var c = g(d);
            d = h(6);
            var e = g(d);
            d = h(4);
            var k = g(d);
            h = h(5);
            var l = g(h),
                m = function() {
                    function a() {
                        if (!(this instanceof a)) throw new TypeError("Cannot call a class as a function");
                        this.__state = c.default.apply(this, arguments);
                        if (!1 === this.__state) throw Error("Failed to interpret color arguments");
                        this.__state.a = this.__state.a || 1
                    }
                    a.prototype.toString = function() {
                        return (0, k.default)(this)
                    };
                    a.prototype.toHexString = function() {
                        return (0, k.default)(this, !0)
                    };
                    a.prototype.toOriginal = function() {
                        return this.__state.conversion.write(this)
                    };
                    return a
                }();
            m.recalculateRGB = function(a, c, b) {
                if ("HEX" === a.__state.space) a.__state[c] = e.default.component_from_hex(a.__state.hex, b);
                else if ("HSV" === a.__state.space) l.default.extend(a.__state,
                    e.default.hsv_to_rgb(a.__state.h, a.__state.s, a.__state.v));
                else throw Error("Corrupted color state");
            };
            m.recalculateHSV = function(a) {
                var c = e.default.rgb_to_hsv(a.r, a.g, a.b);
                l.default.extend(a.__state, {
                    s: c.s,
                    v: c.v
                });
                l.default.isNaN(c.h) ? l.default.isUndefined(a.__state.h) && (a.__state.h = 0) : a.__state.h = c.h
            };
            m.COMPONENTS = "r g b h s v hex a".split(" ");
            f(m.prototype, "r", 2);
            f(m.prototype, "g", 1);
            f(m.prototype, "b", 0);
            a(m.prototype, "h");
            a(m.prototype, "s");
            a(m.prototype, "v");
            Object.defineProperty(m.prototype,
                "a", {
                    get: function() {
                        return this.__state.a
                    },
                    set: function(a) {
                        this.__state.a = a
                    }
                });
            Object.defineProperty(m.prototype, "hex", {
                get: function() {
                    this.__state.hex = e.default.rgb_to_hex(this.r, this.g, this.b);
                    return this.__state.hex
                },
                set: function(a) {
                    this.__state.space = "HEX";
                    this.__state.hex = a
                }
            });
            b.default = m
        }, function(d, b, h) {
            b.__esModule = !0;
            d = (d = h(4)) && d.__esModule ? d : {
                default: d
            };
            var g = (h = h(5)) && h.__esModule ? h : {
                    default: h
                },
                f = [{
                    litmus: g.default.isString,
                    conversions: {
                        THREE_CHAR_HEX: {
                            read: function(a) {
                                a = a.match(/^#([A-F0-9])([A-F0-9])([A-F0-9])$/i);
                                return null === a ? !1 : {
                                    space: "HEX",
                                    hex: parseInt("0x" + a[1].toString() + a[1].toString() + a[2].toString() + a[2].toString() + a[3].toString() + a[3].toString(), 0)
                                }
                            },
                            write: d.default
                        },
                        SIX_CHAR_HEX: {
                            read: function(a) {
                                a = a.match(/^#([A-F0-9]{6})$/i);
                                return null === a ? !1 : {
                                    space: "HEX",
                                    hex: parseInt("0x" + a[1].toString(), 0)
                                }
                            },
                            write: d.default
                        },
                        CSS_RGB: {
                            read: function(a) {
                                a = a.match(/^rgb\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\)/);
                                return null === a ? !1 : {
                                    space: "RGB",
                                    r: parseFloat(a[1]),
                                    g: parseFloat(a[2]),
                                    b: parseFloat(a[3])
                                }
                            },
                            write: d.default
                        },
                        CSS_RGBA: {
                            read: function(a) {
                                a = a.match(/^rgba\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\)/);
                                return null === a ? !1 : {
                                    space: "RGB",
                                    r: parseFloat(a[1]),
                                    g: parseFloat(a[2]),
                                    b: parseFloat(a[3]),
                                    a: parseFloat(a[4])
                                }
                            },
                            write: d.default
                        }
                    }
                }, {
                    litmus: g.default.isNumber,
                    conversions: {
                        HEX: {
                            read: function(a) {
                                return {
                                    space: "HEX",
                                    hex: a,
                                    conversionName: "HEX"
                                }
                            },
                            write: function(a) {
                                return a.hex
                            }
                        }
                    }
                }, {
                    litmus: g.default.isArray,
                    conversions: {
                        RGB_ARRAY: {
                            read: function(a) {
                                return 3 !== a.length ? !1 : {
                                    space: "RGB",
                                    r: a[0],
                                    g: a[1],
                                    b: a[2]
                                }
                            },
                            write: function(a) {
                                return [a.r,
                                    a.g, a.b
                                ]
                            }
                        },
                        RGBA_ARRAY: {
                            read: function(a) {
                                return 4 !== a.length ? !1 : {
                                    space: "RGB",
                                    r: a[0],
                                    g: a[1],
                                    b: a[2],
                                    a: a[3]
                                }
                            },
                            write: function(a) {
                                return [a.r, a.g, a.b, a.a]
                            }
                        }
                    }
                }, {
                    litmus: g.default.isObject,
                    conversions: {
                        RGBA_OBJ: {
                            read: function(a) {
                                return g.default.isNumber(a.r) && g.default.isNumber(a.g) && g.default.isNumber(a.b) && g.default.isNumber(a.a) ? {
                                    space: "RGB",
                                    r: a.r,
                                    g: a.g,
                                    b: a.b,
                                    a: a.a
                                } : !1
                            },
                            write: function(a) {
                                return {
                                    r: a.r,
                                    g: a.g,
                                    b: a.b,
                                    a: a.a
                                }
                            }
                        },
                        RGB_OBJ: {
                            read: function(a) {
                                return g.default.isNumber(a.r) && g.default.isNumber(a.g) &&
                                    g.default.isNumber(a.b) ? {
                                        space: "RGB",
                                        r: a.r,
                                        g: a.g,
                                        b: a.b
                                    } : !1
                            },
                            write: function(a) {
                                return {
                                    r: a.r,
                                    g: a.g,
                                    b: a.b
                                }
                            }
                        },
                        HSVA_OBJ: {
                            read: function(a) {
                                return g.default.isNumber(a.h) && g.default.isNumber(a.s) && g.default.isNumber(a.v) && g.default.isNumber(a.a) ? {
                                    space: "HSV",
                                    h: a.h,
                                    s: a.s,
                                    v: a.v,
                                    a: a.a
                                } : !1
                            },
                            write: function(a) {
                                return {
                                    h: a.h,
                                    s: a.s,
                                    v: a.v,
                                    a: a.a
                                }
                            }
                        },
                        HSV_OBJ: {
                            read: function(a) {
                                return g.default.isNumber(a.h) && g.default.isNumber(a.s) && g.default.isNumber(a.v) ? {
                                    space: "HSV",
                                    h: a.h,
                                    s: a.s,
                                    v: a.v
                                } : !1
                            },
                            write: function(a) {
                                return {
                                    h: a.h,
                                    s: a.s,
                                    v: a.v
                                }
                            }
                        }
                    }
                }],
                a = void 0,
                c = void 0;
            b.default = function() {
                c = !1;
                var b = 1 < arguments.length ? g.default.toArray(arguments) : arguments[0];
                g.default.each(f, function(d) {
                    if (d.litmus(b)) return g.default.each(d.conversions, function(d, e) {
                        a = d.read(b);
                        if (!1 === c && !1 !== a) return c = a, a.conversionName = e, a.conversion = d, g.default.BREAK
                    }), g.default.BREAK
                });
                return c
            }
        }, function(d, b) {
            b.__esModule = !0;
            b.default = function(b, d) {
                var f = b.__state.conversionName.toString(),
                    a = Math.round(b.r),
                    c = Math.round(b.g),
                    e = Math.round(b.b),
                    g = b.a,
                    h = Math.round(b.h),
                    m = b.s.toFixed(1),
                    q = b.v.toFixed(1);
                if (d || "THREE_CHAR_HEX" === f || "SIX_CHAR_HEX" === f) {
                    for (b = b.hex.toString(16); 6 > b.length;) b = "0" + b;
                    return "#" + b
                }
                return "CSS_RGB" === f ? "rgb(" + a + "," + c + "," + e + ")" : "CSS_RGBA" === f ? "rgba(" + a + "," + c + "," + e + "," + g + ")" : "HEX" === f ? "0x" + b.hex.toString(16) : "RGB_ARRAY" === f ? "[" + a + "," + c + "," + e + "]" : "RGBA_ARRAY" === f ? "[" + a + "," + c + "," + e + "," + g + "]" : "RGB_OBJ" === f ? "{r:" + a + ",g:" + c + ",b:" + e + "}" : "RGBA_OBJ" === f ? "{r:" + a + ",g:" + c + ",b:" + e + ",a:" + g + "}" : "HSV_OBJ" === f ? "{h:" + h + ",s:" + m + ",v:" + q + "}" :
                    "HSVA_OBJ" === f ? "{h:" + h + ",s:" + m + ",v:" + q + ",a:" + g + "}" : "unknown format"
            }
        }, function(d, b) {
            b.__esModule = !0;
            var h = Array.prototype.forEach,
                g = Array.prototype.slice;
            d = {
                BREAK: {},
                extend: function(b) {
                    this.each(g.call(arguments, 1), function(a) {
                        (this.isObject(a) ? Object.keys(a) : []).forEach(function(c) {
                            this.isUndefined(a[c]) || (b[c] = a[c])
                        }.bind(this))
                    }, this);
                    return b
                },
                defaults: function(b) {
                    this.each(g.call(arguments, 1), function(a) {
                            (this.isObject(a) ? Object.keys(a) : []).forEach(function(c) {
                                this.isUndefined(b[c]) && (b[c] = a[c])
                            }.bind(this))
                        },
                        this);
                    return b
                },
                compose: function() {
                    var b = g.call(arguments);
                    return function() {
                        for (var a = g.call(arguments), c = b.length - 1; 0 <= c; c--) a = [b[c].apply(this, a)];
                        return a[0]
                    }
                },
                each: function(b, a, c) {
                    if (b)
                        if (h && b.forEach && b.forEach === h) b.forEach(a, c);
                        else if (b.length === b.length + 0) {
                        var d;
                        var f = 0;
                        for (d = b.length; f < d && !(f in b && a.call(c, b[f], f) === this.BREAK); f++);
                    } else
                        for (f in b)
                            if (a.call(c, b[f], f) === this.BREAK) break
                },
                defer: function(b) {
                    setTimeout(b, 0)
                },
                debounce: function(b, a) {
                    var c = void 0;
                    return function() {
                        var d = arguments,
                            f = !c;
                        clearTimeout(c);
                        c = setTimeout(function() {
                            c = null
                        }, a);
                        f && b.apply(this, d)
                    }
                },
                toArray: function(b) {
                    return b.toArray ? b.toArray() : g.call(b)
                },
                isUndefined: function(b) {
                    return void 0 === b
                },
                isNull: function(b) {
                    return null === b
                },
                isNaN: function(b) {
                    function a(a) {
                        return b.apply(this, arguments)
                    }
                    a.toString = function() {
                        return b.toString()
                    };
                    return a
                }(function(b) {
                    return isNaN(b)
                }),
                isArray: Array.isArray || function(b) {
                    return b.constructor === Array
                },
                isObject: function(b) {
                    return b === Object(b)
                },
                isNumber: function(b) {
                    return b ===
                        b + 0
                },
                isString: function(b) {
                    return b === b + ""
                },
                isBoolean: function(b) {
                    return !1 === b || !0 === b
                },
                isFunction: function(b) {
                    return "[object Function]" === Object.prototype.toString.call(b)
                }
            };
            b.default = d
        }, function(d, b) {
            b.__esModule = !0;
            var h = void 0;
            b.default = {
                hsv_to_rgb: function(b, d, a) {
                    var c = b / 60 - Math.floor(b / 60),
                        e = a * (1 - d),
                        f = a * (1 - c * d);
                    d = a * (1 - (1 - c) * d);
                    b = [
                        [a, d, e],
                        [f, a, e],
                        [e, a, d],
                        [e, f, a],
                        [d, e, a],
                        [a, e, f]
                    ][Math.floor(b / 60) % 6];
                    return {
                        r: 255 * b[0],
                        g: 255 * b[1],
                        b: 255 * b[2]
                    }
                },
                rgb_to_hsv: function(b, d, a) {
                    var c = Math.max(b, d, a),
                        e = c -
                        Math.min(b, d, a);
                    if (0 === c) return {
                        h: NaN,
                        s: 0,
                        v: 0
                    };
                    b = (b === c ? (d - a) / e : d === c ? 2 + (a - b) / e : 4 + (b - d) / e) / 6;
                    0 > b && (b += 1);
                    return {
                        h: 360 * b,
                        s: e / c,
                        v: c / 255
                    }
                },
                rgb_to_hex: function(b, d, a) {
                    b = this.hex_with_component(0, 2, b);
                    b = this.hex_with_component(b, 1, d);
                    return b = this.hex_with_component(b, 0, a)
                },
                component_from_hex: function(b, d) {
                    return b >> 8 * d & 255
                },
                hex_with_component: function(b, d, a) {
                    return a << (h = 8 * d) | b & ~(255 << h)
                }
            }
        }, function(d, b) {
            b.__esModule = !0;
            d = function() {
                function b(d, f) {
                    if (!(this instanceof b)) throw new TypeError("Cannot call a class as a function");
                    this.initialValue = d[f];
                    this.domElement = document.createElement("div");
                    this.object = d;
                    this.property = f;
                    this.__onFinishChange = this.__onChange = void 0
                }
                b.prototype.onChange = function(b) {
                    this.__onChange = b;
                    return this
                };
                b.prototype.onFinishChange = function(b) {
                    this.__onFinishChange = b;
                    return this
                };
                b.prototype.setValue = function(b) {
                    this.object[this.property] = b;
                    this.__onChange && this.__onChange.call(this, b);
                    this.updateDisplay();
                    return this
                };
                b.prototype.getValue = function() {
                    return this.object[this.property]
                };
                b.prototype.updateDisplay =
                    function() {
                        return this
                    };
                b.prototype.isModified = function() {
                    return this.initialValue !== this.getValue()
                };
                return b
            }();
            b.default = d
        }, function(d, b, h) {
            function g(a, b) {
                if (!a) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return !b || "object" !== typeof b && "function" !== typeof b ? a : b
            }

            function f(a, b) {
                if ("function" !== typeof b && null !== b) throw new TypeError("Super expression must either be null or a function, not " + typeof b);
                a.prototype = Object.create(b && b.prototype, {
                    constructor: {
                        value: a,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                });
                b && (Object.setPrototypeOf ? Object.setPrototypeOf(a, b) : a.__proto__ = b)
            }
            b.__esModule = !0;
            d = (d = h(7)) && d.__esModule ? d : {
                default: d
            };
            var a = (h = h(9)) && h.__esModule ? h : {
                default: h
            };
            h = function(c) {
                function b(d, e) {
                    if (!(this instanceof b)) throw new TypeError("Cannot call a class as a function");
                    var f = g(this, c.call(this, d, e));
                    f.__prev = f.getValue();
                    f.__checkbox = document.createElement("input");
                    f.__checkbox.setAttribute("type", "checkbox");
                    a.default.bind(f.__checkbox, "change",
                        function() {
                            f.setValue(!f.__prev)
                        }, !1);
                    f.domElement.appendChild(f.__checkbox);
                    f.updateDisplay();
                    return f
                }
                f(b, c);
                b.prototype.setValue = function(a) {
                    a = c.prototype.setValue.call(this, a);
                    this.__onFinishChange && this.__onFinishChange.call(this, this.getValue());
                    this.__prev = this.getValue();
                    return a
                };
                b.prototype.updateDisplay = function() {
                    !0 === this.getValue() ? (this.__checkbox.setAttribute("checked", "checked"), this.__checkbox.checked = !0) : this.__checkbox.checked = !1;
                    return c.prototype.updateDisplay.call(this)
                };
                return b
            }(d.default);
            b.default = h
        }, function(d, b, h) {
            function g(a) {
                if ("0" === a || f.default.isUndefined(a)) return 0;
                a = a.match(c);
                return f.default.isNull(a) ? 0 : parseFloat(a[1])
            }
            b.__esModule = !0;
            var f = (d = h(5)) && d.__esModule ? d : {
                    default: d
                },
                a = {};
            f.default.each({
                HTMLEvents: ["change"],
                MouseEvents: ["click", "mousemove", "mousedown", "mouseup", "mouseover"],
                KeyboardEvents: ["keydown"]
            }, function(c, b) {
                f.default.each(c, function(c) {
                    a[c] = b
                })
            });
            var c = /(\d+(\.\d+)?)px/,
                e = {
                    makeSelectable: function(a, c) {
                        void 0 !== a && void 0 !== a.style && (a.onselectstart =
                            c ? function() {
                                return !1
                            } : function() {}, a.style.MozUserSelect = c ? "auto" : "none", a.style.KhtmlUserSelect = c ? "auto" : "none", a.unselectable = c ? "on" : "off")
                    },
                    makeFullscreen: function(a, c, b) {
                        f.default.isUndefined(c) && (c = !0);
                        f.default.isUndefined(b) && (b = !0);
                        a.style.position = "absolute";
                        c && (a.style.left = 0, a.style.right = 0);
                        b && (a.style.top = 0, a.style.bottom = 0)
                    },
                    fakeEvent: function(c, b, d, e) {
                        d = d || {};
                        var g = a[b];
                        if (!g) throw Error("Event type " + b + " not supported.");
                        var h = document.createEvent(g);
                        switch (g) {
                            case "MouseEvents":
                                h.initMouseEvent(b,
                                    d.bubbles || !1, d.cancelable || !0, window, d.clickCount || 1, 0, 0, d.x || d.clientX || 0, d.y || d.clientY || 0, !1, !1, !1, !1, 0, null);
                                break;
                            case "KeyboardEvents":
                                g = h.initKeyboardEvent || h.initKeyEvent;
                                f.default.defaults(d, {
                                    cancelable: !0,
                                    ctrlKey: !1,
                                    altKey: !1,
                                    shiftKey: !1,
                                    metaKey: !1,
                                    keyCode: void 0,
                                    charCode: void 0
                                });
                                g(b, d.bubbles || !1, d.cancelable, window, d.ctrlKey, d.altKey, d.shiftKey, d.metaKey, d.keyCode, d.charCode);
                                break;
                            default:
                                h.initEvent(b, d.bubbles || !1, d.cancelable || !0)
                        }
                        f.default.defaults(h, e);
                        c.dispatchEvent(h)
                    },
                    bind: function(a,
                        c, b, d) {
                        a.addEventListener ? a.addEventListener(c, b, d || !1) : a.attachEvent && a.attachEvent("on" + c, b);
                        return e
                    },
                    unbind: function(a, c, b, d) {
                        a.removeEventListener ? a.removeEventListener(c, b, d || !1) : a.detachEvent && a.detachEvent("on" + c, b);
                        return e
                    },
                    addClass: function(a, c) {
                        if (void 0 === a.className) a.className = c;
                        else if (a.className !== c) {
                            var b = a.className.split(/ +/); - 1 === b.indexOf(c) && (b.push(c), a.className = b.join(" ").replace(/^\s+/, "").replace(/\s+$/, ""))
                        }
                        return e
                    },
                    removeClass: function(a, c) {
                        if (c)
                            if (a.className ===
                                c) a.removeAttribute("class");
                            else {
                                var b = a.className.split(/ +/);
                                c = b.indexOf(c); - 1 !== c && (b.splice(c, 1), a.className = b.join(" "))
                            }
                        else a.className = void 0;
                        return e
                    },
                    hasClass: function(a, c) {
                        return (new RegExp("(?:^|\\s+)" + c + "(?:\\s+|$)")).test(a.className) || !1
                    },
                    getWidth: function(a) {
                        a = getComputedStyle(a);
                        return g(a["border-left-width"]) + g(a["border-right-width"]) + g(a["padding-left"]) + g(a["padding-right"]) + g(a.width)
                    },
                    getHeight: function(a) {
                        a = getComputedStyle(a);
                        return g(a["border-top-width"]) + g(a["border-bottom-width"]) +
                            g(a["padding-top"]) + g(a["padding-bottom"]) + g(a.height)
                    },
                    getOffset: function(a) {
                        var c = {
                            left: 0,
                            top: 0
                        };
                        if (a.offsetParent) {
                            do c.left += a.offsetLeft, c.top += a.offsetTop, a = a.offsetParent; while (a)
                        }
                        return c
                    },
                    isActive: function(a) {
                        return a === document.activeElement && (a.type || a.href)
                    }
                };
            b.default = e
        }, function(d, b, h) {
            function g(a) {
                return a && a.__esModule ? a : {
                    default: a
                }
            }

            function f(a, c) {
                if (!a) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return !c || "object" !== typeof c && "function" !==
                    typeof c ? a : c
            }

            function a(a, c) {
                if ("function" !== typeof c && null !== c) throw new TypeError("Super expression must either be null or a function, not " + typeof c);
                a.prototype = Object.create(c && c.prototype, {
                    constructor: {
                        value: a,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                });
                c && (Object.setPrototypeOf ? Object.setPrototypeOf(a, c) : a.__proto__ = c)
            }
            b.__esModule = !0;
            d = h(7);
            d = g(d);
            var c = h(9),
                e = g(c);
            h = h(5);
            var k = g(h);
            h = function(c) {
                function b(a, d, g) {
                    if (!(this instanceof b)) throw new TypeError("Cannot call a class as a function");
                    var h = f(this, c.call(this, a, d)),
                        l = g;
                    h.__select = document.createElement("select");
                    k.default.isArray(l) && function() {
                        var a = {};
                        k.default.each(l, function(c) {
                            a[c] = c
                        });
                        l = a
                    }();
                    k.default.each(l, function(a, c) {
                        var b = document.createElement("option");
                        b.innerHTML = c;
                        b.setAttribute("value", a);
                        h.__select.appendChild(b)
                    });
                    h.updateDisplay();
                    e.default.bind(h.__select, "change", function() {
                        h.setValue(this.options[this.selectedIndex].value)
                    });
                    h.domElement.appendChild(h.__select);
                    return h
                }
                a(b, c);
                b.prototype.setValue = function(a) {
                    a =
                        c.prototype.setValue.call(this, a);
                    this.__onFinishChange && this.__onFinishChange.call(this, this.getValue());
                    return a
                };
                b.prototype.updateDisplay = function() {
                    if (e.default.isActive(this.__select)) return this;
                    this.__select.value = this.getValue();
                    return c.prototype.updateDisplay.call(this)
                };
                return b
            }(d.default);
            b.default = h
        }, function(d, b, h) {
            function g(a, b) {
                if (!a) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return !b || "object" !== typeof b && "function" !== typeof b ? a : b
            }

            function f(a,
                b) {
                if ("function" !== typeof b && null !== b) throw new TypeError("Super expression must either be null or a function, not " + typeof b);
                a.prototype = Object.create(b && b.prototype, {
                    constructor: {
                        value: a,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                });
                b && (Object.setPrototypeOf ? Object.setPrototypeOf(a, b) : a.__proto__ = b)
            }
            b.__esModule = !0;
            d = (d = h(7)) && d.__esModule ? d : {
                default: d
            };
            var a = (h = h(9)) && h.__esModule ? h : {
                default: h
            };
            h = function(c) {
                function b(d, e) {
                    function f() {
                        h.setValue(h.__input.value)
                    }
                    if (!(this instanceof b)) throw new TypeError("Cannot call a class as a function");
                    var h = d = g(this, c.call(this, d, e));
                    d.__input = document.createElement("input");
                    d.__input.setAttribute("type", "text");
                    a.default.bind(d.__input, "keyup", f);
                    a.default.bind(d.__input, "change", f);
                    a.default.bind(d.__input, "blur", function() {
                        h.__onFinishChange && h.__onFinishChange.call(h, h.getValue())
                    });
                    a.default.bind(d.__input, "keydown", function(a) {
                        13 === a.keyCode && this.blur()
                    });
                    d.updateDisplay();
                    d.domElement.appendChild(d.__input);
                    return d
                }
                f(b, c);
                b.prototype.updateDisplay = function() {
                    a.default.isActive(this.__input) ||
                        (this.__input.value = this.getValue());
                    return c.prototype.updateDisplay.call(this)
                };
                return b
            }(d.default);
            b.default = h
        }, function(d, b, h) {
            function g(a, b) {
                if ("function" !== typeof b && null !== b) throw new TypeError("Super expression must either be null or a function, not " + typeof b);
                a.prototype = Object.create(b && b.prototype, {
                    constructor: {
                        value: a,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                });
                b && (Object.setPrototypeOf ? Object.setPrototypeOf(a, b) : a.__proto__ = b)
            }

            function f(a) {
                a = a.toString();
                return -1 < a.indexOf(".") ?
                    a.length - a.indexOf(".") - 1 : 0
            }
            b.__esModule = !0;
            d = (d = h(7)) && d.__esModule ? d : {
                default: d
            };
            var a = (h = h(5)) && h.__esModule ? h : {
                default: h
            };
            h = function(c) {
                function b(d, e, g) {
                    if (!(this instanceof b)) throw new TypeError("Cannot call a class as a function");
                    d = c.call(this, d, e);
                    if (!this) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                    d = !d || "object" !== typeof d && "function" !== typeof d ? this : d;
                    g = g || {};
                    d.__min = g.min;
                    d.__max = g.max;
                    d.__step = g.step;
                    a.default.isUndefined(d.__step) ? d.__impliedStep =
                        0 === d.initialValue ? 1 : Math.pow(10, Math.floor(Math.log(Math.abs(d.initialValue)) / Math.LN10)) / 10 : d.__impliedStep = d.__step;
                    d.__precision = f(d.__impliedStep);
                    return d
                }
                g(b, c);
                b.prototype.setValue = function(a) {
                    void 0 !== this.__min && a < this.__min ? a = this.__min : void 0 !== this.__max && a > this.__max && (a = this.__max);
                    void 0 !== this.__step && 0 !== a % this.__step && (a = Math.round(a / this.__step) * this.__step);
                    return c.prototype.setValue.call(this, a)
                };
                b.prototype.min = function(a) {
                    this.__min = a;
                    return this
                };
                b.prototype.max = function(a) {
                    this.__max =
                        a;
                    return this
                };
                b.prototype.step = function(a) {
                    this.__impliedStep = this.__step = a;
                    this.__precision = f(a);
                    return this
                };
                return b
            }(d.default);
            b.default = h
        }, function(d, b, h) {
            function g(a) {
                return a && a.__esModule ? a : {
                    default: a
                }
            }

            function f(a, c) {
                if (!a) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return !c || "object" !== typeof c && "function" !== typeof c ? a : c
            }

            function a(a, c) {
                if ("function" !== typeof c && null !== c) throw new TypeError("Super expression must either be null or a function, not " +
                    typeof c);
                a.prototype = Object.create(c && c.prototype, {
                    constructor: {
                        value: a,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                });
                c && (Object.setPrototypeOf ? Object.setPrototypeOf(a, c) : a.__proto__ = c)
            }
            b.__esModule = !0;
            d = h(12);
            d = g(d);
            var c = h(9),
                e = g(c);
            h = h(5);
            var k = g(h);
            h = function(c) {
                function b(a, d, g) {
                    function h() {
                        q.__onFinishChange && q.__onFinishChange.call(q, q.getValue())
                    }

                    function l(a) {
                        var c = n - a.clientY;
                        q.setValue(q.getValue() + c * q.__impliedStep);
                        n = a.clientY
                    }

                    function m() {
                        e.default.unbind(window, "mousemove", l);
                        e.default.unbind(window,
                            "mouseup", m);
                        h()
                    }
                    if (!(this instanceof b)) throw new TypeError("Cannot call a class as a function");
                    a = f(this, c.call(this, a, d, g));
                    a.__truncationSuspended = !1;
                    var q = a,
                        n = void 0;
                    a.__input = document.createElement("input");
                    a.__input.setAttribute("type", "text");
                    e.default.bind(a.__input, "change", function() {
                        var a = parseFloat(q.__input.value);
                        k.default.isNaN(a) || q.setValue(a)
                    });
                    e.default.bind(a.__input, "blur", function() {
                        h()
                    });
                    e.default.bind(a.__input, "mousedown", function(a) {
                        e.default.bind(window, "mousemove", l);
                        e.default.bind(window, "mouseup", m);
                        n = a.clientY
                    });
                    e.default.bind(a.__input, "keydown", function(a) {
                        13 === a.keyCode && (q.__truncationSuspended = !0, this.blur(), q.__truncationSuspended = !1, h())
                    });
                    a.updateDisplay();
                    a.domElement.appendChild(a.__input);
                    return a
                }
                a(b, c);
                b.prototype.updateDisplay = function() {
                    var a = this.__input;
                    if (this.__truncationSuspended) var b = this.getValue();
                    else {
                        b = this.getValue();
                        var d = Math.pow(10, this.__precision);
                        b = Math.round(b * d) / d
                    }
                    a.value = b;
                    return c.prototype.updateDisplay.call(this)
                };
                return b
            }(d.default);
            b.default = h
        }, function(d, b, h) {
            function g(a, c) {
                if (!a) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return !c || "object" !== typeof c && "function" !== typeof c ? a : c
            }

            function f(a, c) {
                if ("function" !== typeof c && null !== c) throw new TypeError("Super expression must either be null or a function, not " + typeof c);
                a.prototype = Object.create(c && c.prototype, {
                    constructor: {
                        value: a,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                });
                c && (Object.setPrototypeOf ? Object.setPrototypeOf(a, c) : a.__proto__ =
                    c)
            }

            function a(a, c, b, d, f) {
                return d + (a - c) / (b - c) * (f - d)
            }
            b.__esModule = !0;
            d = (d = h(12)) && d.__esModule ? d : {
                default: d
            };
            var c = (h = h(9)) && h.__esModule ? h : {
                default: h
            };
            h = function(b) {
                function d(e, f, h, k, p) {
                    function l(c) {
                        c.preventDefault();
                        var b = q.__background.getBoundingClientRect();
                        q.setValue(a(c.clientX, b.left, b.right, q.__min, q.__max));
                        return !1
                    }

                    function m() {
                        c.default.unbind(window, "mousemove", l);
                        c.default.unbind(window, "mouseup", m);
                        q.__onFinishChange && q.__onFinishChange.call(q, q.getValue())
                    }
                    if (!(this instanceof d)) throw new TypeError("Cannot call a class as a function");
                    var q = e = g(this, b.call(this, e, f, {
                        min: h,
                        max: k,
                        step: p
                    }));
                    e.__background = document.createElement("div");
                    e.__foreground = document.createElement("div");
                    c.default.bind(e.__background, "mousedown", function(a) {
                        document.activeElement.blur();
                        c.default.bind(window, "mousemove", l);
                        c.default.bind(window, "mouseup", m);
                        l(a)
                    });
                    c.default.addClass(e.__background, "slider");
                    c.default.addClass(e.__foreground, "slider-fg");
                    e.updateDisplay();
                    e.__background.appendChild(e.__foreground);
                    e.domElement.appendChild(e.__background);
                    return e
                }
                f(d, b);
                d.prototype.updateDisplay = function() {
                    var a = (this.getValue() - this.__min) / (this.__max - this.__min);
                    this.__foreground.style.width = 100 * a + "%";
                    return b.prototype.updateDisplay.call(this)
                };
                return d
            }(d.default);
            b.default = h
        }, function(d, b, h) {
            function g(a, b) {
                if (!a) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return !b || "object" !== typeof b && "function" !== typeof b ? a : b
            }

            function f(a, b) {
                if ("function" !== typeof b && null !== b) throw new TypeError("Super expression must either be null or a function, not " +
                    typeof b);
                a.prototype = Object.create(b && b.prototype, {
                    constructor: {
                        value: a,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                });
                b && (Object.setPrototypeOf ? Object.setPrototypeOf(a, b) : a.__proto__ = b)
            }
            b.__esModule = !0;
            d = (d = h(7)) && d.__esModule ? d : {
                default: d
            };
            var a = (h = h(9)) && h.__esModule ? h : {
                default: h
            };
            h = function(c) {
                function b(d, e, f) {
                    if (!(this instanceof b)) throw new TypeError("Cannot call a class as a function");
                    var h = g(this, c.call(this, d, e));
                    h.__button = document.createElement("div");
                    h.__button.innerHTML = void 0 === f ?
                        "Fire" : f;
                    a.default.bind(h.__button, "click", function(a) {
                        a.preventDefault();
                        h.fire();
                        return !1
                    });
                    a.default.addClass(h.__button, "button");
                    h.domElement.appendChild(h.__button);
                    return h
                }
                f(b, c);
                b.prototype.fire = function() {
                    this.__onChange && this.__onChange.call(this);
                    this.getValue().call(this.object);
                    this.__onFinishChange && this.__onFinishChange.call(this, this.getValue())
                };
                return b
            }(d.default);
            b.default = h
        }, function(d, b, h) {
            function g(a) {
                return a && a.__esModule ? a : {
                    default: a
                }
            }

            function f(a, c) {
                if (!a) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return !c || "object" !== typeof c && "function" !== typeof c ? a : c
            }

            function a(a, c) {
                if ("function" !== typeof c && null !== c) throw new TypeError("Super expression must either be null or a function, not " + typeof c);
                a.prototype = Object.create(c && c.prototype, {
                    constructor: {
                        value: a,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                });
                c && (Object.setPrototypeOf ? Object.setPrototypeOf(a, c) : a.__proto__ = c)
            }

            function c(a, c, b, d) {
                a.style.background = "";
                n.default.each(p, function(e) {
                    a.style.cssText += "background: " + e + "linear-gradient(" + c + ", " +
                        b + " 0%, " + d + " 100%); "
                })
            }

            function e(a) {
                a.style.background = "";
                a.style.cssText += "background: -moz-linear-gradient(top,  #ff0000 0%, #ff00ff 17%, #0000ff 34%, #00ffff 50%, #00ff00 67%, #ffff00 84%, #ff0000 100%);";
                a.style.cssText += "background: -webkit-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);";
                a.style.cssText += "background: -o-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);";
                a.style.cssText +=
                    "background: -ms-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);";
                a.style.cssText += "background: linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);"
            }
            b.__esModule = !0;
            d = h(7);
            d = g(d);
            var k = h(9),
                l = g(k);
            k = h(2);
            var m = g(k);
            k = h(3);
            var q = g(k);
            h = h(5);
            var n = g(h);
            h = function(b) {
                function d(a, g) {
                    function h(a) {
                        u(a);
                        l.default.bind(window, "mousemove", u);
                        l.default.bind(window, "mouseup", k)
                    }

                    function k() {
                        l.default.unbind(window,
                            "mousemove", u);
                        l.default.unbind(window, "mouseup", k);
                        t()
                    }

                    function p() {
                        var a = (0, q.default)(this.value);
                        !1 !== a ? (D.__color.__state = a, D.setValue(D.__color.toOriginal())) : this.value = D.__color.toString()
                    }

                    function r() {
                        l.default.unbind(window, "mousemove", v);
                        l.default.unbind(window, "mouseup", r);
                        t()
                    }

                    function t() {
                        D.__onFinishChange && D.__onFinishChange.call(D, D.__color.toOriginal())
                    }

                    function u(a) {
                        a.preventDefault();
                        var c = D.__saturation_field.getBoundingClientRect(),
                            b = (a.clientX - c.left) / (c.right - c.left);
                        a = 1 - (a.clientY -
                            c.top) / (c.bottom - c.top);
                        1 < a ? a = 1 : 0 > a && (a = 0);
                        1 < b ? b = 1 : 0 > b && (b = 0);
                        D.__color.v = a;
                        D.__color.s = b;
                        D.setValue(D.__color.toOriginal());
                        return !1
                    }

                    function v(a) {
                        a.preventDefault();
                        var c = D.__hue_field.getBoundingClientRect();
                        a = 1 - (a.clientY - c.top) / (c.bottom - c.top);
                        1 < a ? a = 1 : 0 > a && (a = 0);
                        D.__color.h = 360 * a;
                        D.setValue(D.__color.toOriginal());
                        return !1
                    }
                    if (!(this instanceof d)) throw new TypeError("Cannot call a class as a function");
                    a = f(this, b.call(this, a, g));
                    a.__color = new m.default(a.getValue());
                    a.__temp = new m.default(0);
                    var D = a;
                    a.domElement = document.createElement("div");
                    l.default.makeSelectable(a.domElement, !1);
                    a.__selector = document.createElement("div");
                    a.__selector.className = "selector";
                    a.__saturation_field = document.createElement("div");
                    a.__saturation_field.className = "saturation-field";
                    a.__field_knob = document.createElement("div");
                    a.__field_knob.className = "field-knob";
                    a.__field_knob_border = "2px solid ";
                    a.__hue_knob = document.createElement("div");
                    a.__hue_knob.className = "hue-knob";
                    a.__hue_field = document.createElement("div");
                    a.__hue_field.className = "hue-field";
                    a.__input = document.createElement("input");
                    a.__input.type = "text";
                    a.__input_textShadow = "0 1px 1px ";
                    l.default.bind(a.__input, "keydown", function(a) {
                        13 === a.keyCode && p.call(this)
                    });
                    l.default.bind(a.__input, "blur", p);
                    l.default.bind(a.__selector, "mousedown", function() {
                        l.default.addClass(this, "drag").bind(window, "mouseup", function() {
                            l.default.removeClass(D.__selector, "drag")
                        })
                    });
                    g = document.createElement("div");
                    n.default.extend(a.__selector.style, {
                        width: "122px",
                        height: "102px",
                        padding: "3px",
                        backgroundColor: "#222",
                        boxShadow: "0px 1px 3px rgba(0,0,0,0.3)"
                    });
                    n.default.extend(a.__field_knob.style, {
                        position: "absolute",
                        width: "12px",
                        height: "12px",
                        border: a.__field_knob_border + (.5 > a.__color.v ? "#fff" : "#000"),
                        boxShadow: "0px 1px 3px rgba(0,0,0,0.5)",
                        borderRadius: "12px",
                        zIndex: 1
                    });
                    n.default.extend(a.__hue_knob.style, {
                        position: "absolute",
                        width: "15px",
                        height: "2px",
                        borderRight: "4px solid #fff",
                        zIndex: 1
                    });
                    n.default.extend(a.__saturation_field.style, {
                        width: "100px",
                        height: "100px",
                        border: "1px solid #555",
                        marginRight: "3px",
                        display: "inline-block",
                        cursor: "pointer"
                    });
                    n.default.extend(g.style, {
                        width: "100%",
                        height: "100%",
                        background: "none"
                    });
                    c(g, "top", "rgba(0,0,0,0)", "#000");
                    n.default.extend(a.__hue_field.style, {
                        width: "15px",
                        height: "100px",
                        border: "1px solid #555",
                        cursor: "ns-resize",
                        position: "absolute",
                        top: "3px",
                        right: "3px"
                    });
                    e(a.__hue_field);
                    n.default.extend(a.__input.style, {
                        outline: "none",
                        textAlign: "center",
                        color: "#fff",
                        border: 0,
                        fontWeight: "bold",
                        textShadow: a.__input_textShadow + "rgba(0,0,0,0.7)"
                    });
                    l.default.bind(a.__saturation_field,
                        "mousedown", h);
                    l.default.bind(a.__field_knob, "mousedown", h);
                    l.default.bind(a.__hue_field, "mousedown", function(a) {
                        v(a);
                        l.default.bind(window, "mousemove", v);
                        l.default.bind(window, "mouseup", r)
                    });
                    a.__saturation_field.appendChild(g);
                    a.__selector.appendChild(a.__field_knob);
                    a.__selector.appendChild(a.__saturation_field);
                    a.__selector.appendChild(a.__hue_field);
                    a.__hue_field.appendChild(a.__hue_knob);
                    a.domElement.appendChild(a.__input);
                    a.domElement.appendChild(a.__selector);
                    a.updateDisplay();
                    return a
                }
                a(d,
                    b);
                d.prototype.updateDisplay = function() {
                    var a = (0, q.default)(this.getValue());
                    if (!1 !== a) {
                        var b = !1;
                        n.default.each(m.default.COMPONENTS, function(c) {
                            if (!n.default.isUndefined(a[c]) && !n.default.isUndefined(this.__color.__state[c]) && a[c] !== this.__color.__state[c]) return b = !0, {}
                        }, this);
                        b && n.default.extend(this.__color.__state, a)
                    }
                    n.default.extend(this.__temp.__state, this.__color.__state);
                    this.__temp.a = 1;
                    var d = .5 > this.__color.v || .5 < this.__color.s ? 255 : 0,
                        e = 255 - d;
                    n.default.extend(this.__field_knob.style, {
                        marginLeft: 100 *
                            this.__color.s - 7 + "px",
                        marginTop: 100 * (1 - this.__color.v) - 7 + "px",
                        backgroundColor: this.__temp.toHexString(),
                        border: this.__field_knob_border + "rgb(" + d + "," + d + "," + d + ")"
                    });
                    this.__hue_knob.style.marginTop = 100 * (1 - this.__color.h / 360) + "px";
                    this.__temp.s = 1;
                    this.__temp.v = 1;
                    c(this.__saturation_field, "left", "#fff", this.__temp.toHexString());
                    this.__input.value = this.__color.toString();
                    n.default.extend(this.__input.style, {
                        backgroundColor: this.__color.toHexString(),
                        color: "rgb(" + d + "," + d + "," + d + ")",
                        textShadow: this.__input_textShadow +
                            "rgba(" + e + "," + e + "," + e + ",.7)"
                    })
                };
                return d
            }(d.default);
            var p = ["-moz-", "-o-", "-webkit-", "-ms-", ""];
            b.default = h
        }, function(d, b, h) {
            function g(a) {
                return a && a.__esModule ? a : {
                    default: a
                }
            }

            function f(a, c, b) {
                var d = document.createElement("li");
                c && d.appendChild(c);
                b ? a.__ul.insertBefore(d, b) : a.__ul.appendChild(d);
                a.onResize();
                return d
            }

            function a(a, c) {
                a = a.__preset_select[a.__preset_select.selectedIndex];
                a.innerHTML = c ? a.value + "*" : a.value
            }

            function c(c, b, d) {
                d.__li = b;
                d.__gui = c;
                K.default.extend(d, {
                    options: function(a) {
                        if (1 <
                            arguments.length) {
                            var b = d.__li.nextElementSibling;
                            d.remove();
                            return k(c, d.object, d.property, {
                                before: b,
                                factoryArgs: [K.default.toArray(arguments)]
                            })
                        }
                        if (K.default.isArray(a) || K.default.isObject(a)) return b = d.__li.nextElementSibling, d.remove(), k(c, d.object, d.property, {
                            before: b,
                            factoryArgs: [a]
                        })
                    },
                    name: function(a) {
                        d.__li.firstElementChild.firstElementChild.innerHTML = a;
                        return d
                    },
                    listen: function() {
                        d.__gui.listen(d);
                        return d
                    },
                    remove: function() {
                        d.__gui.remove(d);
                        return d
                    }
                });
                if (d instanceof A.default)(function() {
                    var a =
                        new B.default(d.object, d.property, {
                            min: d.__min,
                            max: d.__max,
                            step: d.__step
                        });
                    K.default.each(["updateDisplay", "onChange", "onFinishChange", "step"], function(c) {
                        var b = d[c],
                            e = a[c];
                        d[c] = a[c] = function() {
                            var c = Array.prototype.slice.call(arguments);
                            e.apply(a, c);
                            return b.apply(d, c)
                        }
                    });
                    E.default.addClass(b, "has-slider");
                    d.domElement.insertBefore(a.domElement, d.domElement.firstElementChild)
                })();
                else if (d instanceof B.default) {
                    var e = function(a) {
                        if (K.default.isNumber(d.__min) && K.default.isNumber(d.__max)) {
                            a = d.__li.firstElementChild.firstElementChild.innerHTML;
                            var b = -1 < d.__gui.__listening.indexOf(d);
                            d.remove();
                            var e = k(c, d.object, d.property, {
                                before: d.__li.nextElementSibling,
                                factoryArgs: [d.__min, d.__max, d.__step]
                            });
                            e.name(a);
                            b && e.listen();
                            return e
                        }
                        return a
                    };
                    d.min = K.default.compose(e, d.min);
                    d.max = K.default.compose(e, d.max)
                } else d instanceof y.default ? (E.default.bind(b, "click", function() {
                    E.default.fakeEvent(d.__checkbox, "click")
                }), E.default.bind(d.__checkbox, "click", function(a) {
                    a.stopPropagation()
                })) : d instanceof z.default ? (E.default.bind(b, "click", function() {
                    E.default.fakeEvent(d.__button,
                        "click")
                }), E.default.bind(b, "mouseover", function() {
                    E.default.addClass(d.__button, "hover")
                }), E.default.bind(b, "mouseout", function() {
                    E.default.removeClass(d.__button, "hover")
                })) : d instanceof C.default && (E.default.addClass(b, "color"), d.updateDisplay = K.default.compose(function(a) {
                    b.style.borderLeftColor = d.__color.toString();
                    return a
                }, d.updateDisplay), d.updateDisplay());
                d.setValue = K.default.compose(function(b) {
                    c.getRoot().__preset_select && d.isModified() && a(c.getRoot(), !0);
                    return b
                }, d.setValue)
            }

            function e(a,
                c) {
                var b = a.getRoot(),
                    d = b.__rememberedObjects.indexOf(c.object);
                if (-1 !== d) {
                    var e = b.__rememberedObjectIndecesToControllers[d];
                    void 0 === e && (e = {}, b.__rememberedObjectIndecesToControllers[d] = e);
                    e[c.property] = c;
                    if (b.load && b.load.remembered) {
                        b = b.load.remembered;
                        if (b[a.preset]) a = b[a.preset];
                        else if (b.Default) a = b.Default;
                        else return;
                        a[d] && void 0 !== a[d][c.property] && (d = a[d][c.property], c.initialValue = d, c.setValue(d))
                    }
                }
            }

            function k(a, b, d, g) {
                if (void 0 === b[d]) throw Error('Object "' + b + '" has no property "' + d + '"');
                g.color ? b = new C.default(b, d) : (b = [b, d].concat(g.factoryArgs), b = w.default.apply(a, b));
                g.before instanceof x.default && (g.before = g.before.__li);
                e(a, b);
                E.default.addClass(b.domElement, "c");
                d = document.createElement("span");
                E.default.addClass(d, "property-name");
                d.innerHTML = b.property;
                var h = document.createElement("div");
                h.appendChild(d);
                h.appendChild(b.domElement);
                g = f(a, h, g.before);
                E.default.addClass(g, P.CLASS_CONTROLLER_ROW);
                b instanceof C.default ? E.default.addClass(g, "color") : E.default.addClass(g, u(b.getValue()));
                c(a, g, b);
                a.__controllers.push(b);
                return b
            }

            function l(a, c, b) {
                var d = document.createElement("option");
                d.innerHTML = c;
                d.value = c;
                a.__preset_select.appendChild(d);
                b && (a.__preset_select.selectedIndex = a.__preset_select.length - 1)
            }

            function m(a) {
                var c = a.__save_row = document.createElement("li");
                E.default.addClass(a.domElement, "has-save");
                a.__ul.insertBefore(c, a.__ul.firstChild);
                E.default.addClass(c, "save-row");
                var b = document.createElement("span");
                b.innerHTML = "&nbsp;";
                E.default.addClass(b, "button gears");
                var d =
                    document.createElement("span");
                d.innerHTML = "Save";
                E.default.addClass(d, "button");
                E.default.addClass(d, "save");
                var e = document.createElement("span");
                e.innerHTML = "New";
                E.default.addClass(e, "button");
                E.default.addClass(e, "save-as");
                var f = document.createElement("span");
                f.innerHTML = "Revert";
                E.default.addClass(f, "button");
                E.default.addClass(f, "revert");
                var g = a.__preset_select = document.createElement("select");
                a.load && a.load.remembered ? K.default.each(a.load.remembered, function(c, b) {
                    l(a, b, b === a.preset)
                }) : l(a,
                    "Default", !1);
                E.default.bind(g, "change", function() {
                    for (var c = 0; c < a.__preset_select.length; c++) a.__preset_select[c].innerHTML = a.__preset_select[c].value;
                    a.preset = this.value
                });
                c.appendChild(g);
                c.appendChild(b);
                c.appendChild(d);
                c.appendChild(e);
                c.appendChild(f);
                I && function() {
                    var c = document.getElementById("dg-local-explain"),
                        b = document.getElementById("dg-local-storage");
                    document.getElementById("dg-save-locally").style.display = "block";
                    "true" === localStorage.getItem(document.location.href + ".isLocal") && b.setAttribute("checked",
                        "checked");
                    c.style.display = a.useLocalStorage ? "block" : "none";
                    E.default.bind(b, "change", function() {
                        a.useLocalStorage = !a.useLocalStorage;
                        c.style.display = a.useLocalStorage ? "block" : "none"
                    })
                }();
                var h = document.getElementById("dg-new-constructor");
                E.default.bind(h, "keydown", function(a) {
                    !a.metaKey || 67 !== a.which && 67 !== a.keyCode || H.hide()
                });
                E.default.bind(b, "click", function() {
                    h.innerHTML = JSON.stringify(a.getSaveObject(), void 0, 2);
                    H.show();
                    h.focus();
                    h.select()
                });
                E.default.bind(d, "click", function() {
                    a.save()
                });
                E.default.bind(e, "click", function() {
                    var c = prompt("Enter a new preset name.");
                    c && a.saveAs(c)
                });
                E.default.bind(f, "click", function() {
                    a.revert()
                })
            }

            function q(a) {
                function c(c) {
                    c.preventDefault();
                    a.width += e - c.clientX;
                    a.onResize();
                    e = c.clientX;
                    return !1
                }

                function b() {
                    E.default.removeClass(a.__closeButton, P.CLASS_DRAG);
                    E.default.unbind(window, "mousemove", c);
                    E.default.unbind(window, "mouseup", b)
                }

                function d(d) {
                    d.preventDefault();
                    e = d.clientX;
                    E.default.addClass(a.__closeButton, P.CLASS_DRAG);
                    E.default.bind(window,
                        "mousemove", c);
                    E.default.bind(window, "mouseup", b);
                    return !1
                }
                var e = void 0;
                a.__resize_handle = document.createElement("div");
                K.default.extend(a.__resize_handle.style, {
                    width: "6px",
                    marginLeft: "-3px",
                    height: "200px",
                    cursor: "ew-resize",
                    position: "absolute"
                });
                E.default.bind(a.__resize_handle, "mousedown", d);
                E.default.bind(a.__closeButton, "mousedown", d);
                a.domElement.insertBefore(a.__resize_handle, a.domElement.firstElementChild)
            }

            function n(a, c) {
                a.domElement.style.width = c + "px";
                a.__save_row && a.autoPlace && (a.__save_row.style.width =
                    c + "px");
                a.__closeButton && (a.__closeButton.style.width = c + "px")
            }

            function p(a, c) {
                var b = {};
                K.default.each(a.__rememberedObjects, function(d, e) {
                    var f = {};
                    K.default.each(a.__rememberedObjectIndecesToControllers[e], function(a, b) {
                        f[b] = c ? a.initialValue : a.getValue()
                    });
                    b[e] = f
                });
                return b
            }

            function r(a) {
                0 !== a.length && D.default.call(window, function() {
                    r(a)
                });
                K.default.each(a, function(a) {
                    a.updateDisplay()
                })
            }
            $jscomp.initSymbol();
            $jscomp.initSymbol();
            $jscomp.initSymbolIterator();
            var u = "function" === typeof Symbol && "symbol" ===
                typeof Symbol.iterator ? function(a) {
                    return typeof a
                } : function(a) {
                    $jscomp.initSymbol();
                    $jscomp.initSymbol();
                    return a && "function" === typeof Symbol && a.constructor === Symbol ? "symbol" : typeof a
                };
            b = h(18);
            b = g(b);
            var t = h(19),
                v = g(t);
            t = h(20);
            var w = g(t);
            t = h(7);
            var x = g(t);
            t = h(8);
            var y = g(t);
            t = h(15);
            var z = g(t);
            t = h(13);
            var B = g(t);
            t = h(14);
            var A = g(t);
            t = h(16);
            var C = g(t);
            t = h(21);
            var D = g(t);
            t = h(22);
            var J = g(t);
            t = h(9);
            var E = g(t);
            t = h(5);
            var K = g(t);
            h = h(23);
            h = g(h);
            b.default.inject(h.default);
            try {
                var I = "localStorage" in window &&
                    null !== window.localStorage
            } catch (M) {
                I = !1
            }
            var H = void 0,
                G = !0,
                F = void 0,
                S = !1,
                N = [],
                P = function O(a) {
                    function c() {
                        var a = b.getRoot();
                        a.width += 1;
                        K.default.defer(function() {
                            --a.width
                        })
                    }
                    var b = this,
                        d = a || {};
                    this.domElement = document.createElement("div");
                    this.__ul = document.createElement("ul");
                    this.domElement.appendChild(this.__ul);
                    E.default.addClass(this.domElement, "dg");
                    this.__folders = {};
                    this.__controllers = [];
                    this.__rememberedObjects = [];
                    this.__rememberedObjectIndecesToControllers = [];
                    this.__listening = [];
                    d = K.default.defaults(d, {
                        autoPlace: !0,
                        width: O.DEFAULT_WIDTH
                    });
                    d = K.default.defaults(d, {
                        resizable: d.autoPlace,
                        hideable: d.autoPlace
                    });
                    K.default.isUndefined(d.load) ? d.load = {
                        preset: "Default"
                    } : d.preset && (d.load.preset = d.preset);
                    K.default.isUndefined(d.parent) && d.hideable && N.push(this);
                    d.resizable = K.default.isUndefined(d.parent) && d.resizable;
                    d.autoPlace && K.default.isUndefined(d.scrollable) && (d.scrollable = !0);
                    var e = I && "true" === localStorage.getItem(document.location.href + ".isLocal"),
                        g = void 0;
                    Object.defineProperties(this, {
                        parent: {
                            get: function() {
                                return d.parent
                            }
                        },
                        scrollable: {
                            get: function() {
                                return d.scrollable
                            }
                        },
                        autoPlace: {
                            get: function() {
                                return d.autoPlace
                            }
                        },
                        preset: {
                            get: function() {
                                return b.parent ? b.getRoot().preset : d.load.preset
                            },
                            set: function(a) {
                                b.parent ? b.getRoot().preset = a : d.load.preset = a;
                                for (a = 0; a < this.__preset_select.length; a++) this.__preset_select[a].value === this.preset && (this.__preset_select.selectedIndex = a);
                                b.revert()
                            }
                        },
                        width: {
                            get: function() {
                                return d.width
                            },
                            set: function(a) {
                                d.width = a;
                                n(b, a)
                            }
                        },
                        name: {
                            get: function() {
                                return d.name
                            },
                            set: function(a) {
                                d.name =
                                    a;
                                titleRowName && (titleRowName.innerHTML = d.name)
                            }
                        },
                        closed: {
                            get: function() {
                                return d.closed
                            },
                            set: function(a) {
                                d.closed = a;
                                d.closed ? E.default.addClass(b.__ul, O.CLASS_CLOSED) : E.default.removeClass(b.__ul, O.CLASS_CLOSED);
                                this.onResize();
                                b.__closeButton && (b.__closeButton.innerHTML = a ? O.TEXT_OPEN : O.TEXT_CLOSED)
                            }
                        },
                        load: {
                            get: function() {
                                return d.load
                            }
                        },
                        useLocalStorage: {
                            get: function() {
                                return e
                            },
                            set: function(a) {
                                I && ((e = a) ? E.default.bind(window, "unload", g) : E.default.unbind(window, "unload", g), localStorage.setItem(document.location.href +
                                    ".isLocal", a))
                            }
                        }
                    });
                    K.default.isUndefined(d.parent) ? (d.closed = !1, E.default.addClass(this.domElement, O.CLASS_MAIN), E.default.makeSelectable(this.domElement, !1), I && e && (b.useLocalStorage = !0, a = localStorage.getItem(document.location.href + ".gui")) && (d.load = JSON.parse(a)), this.__closeButton = document.createElement("div"), this.__closeButton.innerHTML = O.TEXT_CLOSED, E.default.addClass(this.__closeButton, O.CLASS_CLOSE_BUTTON), this.domElement.appendChild(this.__closeButton), E.default.bind(this.__closeButton, "click",
                        function() {
                            b.closed = !b.closed
                        })) : (void 0 === d.closed && (d.closed = !0), a = document.createTextNode(d.name), E.default.addClass(a, "controller-name"), a = f(b, a), E.default.addClass(this.__ul, O.CLASS_CLOSED), E.default.addClass(a, "title"), E.default.bind(a, "click", function(a) {
                        a.preventDefault();
                        b.closed = !b.closed;
                        return !1
                    }), d.closed || (this.closed = !1));
                    d.autoPlace && (K.default.isUndefined(d.parent) && (G && (F = document.createElement("div"), E.default.addClass(F, "dg"), E.default.addClass(F, O.CLASS_AUTO_PLACE_CONTAINER),
                        document.body.appendChild(F), G = !1), F.appendChild(this.domElement), E.default.addClass(this.domElement, O.CLASS_AUTO_PLACE)), this.parent || n(b, d.width));
                    this.__resizeHandler = function() {
                        b.onResizeDebounced()
                    };
                    E.default.bind(window, "resize", this.__resizeHandler);
                    E.default.bind(this.__ul, "webkitTransitionEnd", this.__resizeHandler);
                    E.default.bind(this.__ul, "transitionend", this.__resizeHandler);
                    E.default.bind(this.__ul, "oTransitionEnd", this.__resizeHandler);
                    this.onResize();
                    d.resizable && q(this);
                    this.saveToLocalStorageIfPossible =
                        g = function() {
                            I && "true" === localStorage.getItem(document.location.href + ".isLocal") && localStorage.setItem(document.location.href + ".gui", JSON.stringify(b.getSaveObject()))
                        };
                    d.parent || c()
                };
            P.toggleHide = function() {
                S = !S;
                K.default.each(N, function(a) {
                    a.domElement.style.display = S ? "none" : ""
                })
            };
            P.CLASS_AUTO_PLACE = "a";
            P.CLASS_AUTO_PLACE_CONTAINER = "ac";
            P.CLASS_MAIN = "main";
            P.CLASS_CONTROLLER_ROW = "cr";
            P.CLASS_TOO_TALL = "taller-than-window";
            P.CLASS_CLOSED = "closed";
            P.CLASS_CLOSE_BUTTON = "close-button";
            P.CLASS_DRAG = "drag";
            P.DEFAULT_WIDTH = 245;
            P.TEXT_CLOSED = "Close Controls";
            P.TEXT_OPEN = "Open Controls";
            P._keydownHandler = function(a) {
                "text" === document.activeElement.type || 72 !== a.which && 72 !== a.keyCode || P.toggleHide()
            };
            E.default.bind(window, "keydown", P._keydownHandler, !1);
            K.default.extend(P.prototype, {
                add: function(a, c) {
                    return k(this, a, c, {
                        factoryArgs: Array.prototype.slice.call(arguments, 2)
                    })
                },
                addColor: function(a, c) {
                    return k(this, a, c, {
                        color: !0
                    })
                },
                remove: function(a) {
                    this.__ul.removeChild(a.__li);
                    this.__controllers.splice(this.__controllers.indexOf(a),
                        1);
                    var c = this;
                    K.default.defer(function() {
                        c.onResize()
                    })
                },
                destroy: function() {
                    this.autoPlace && F.removeChild(this.domElement);
                    E.default.unbind(window, "keydown", P._keydownHandler, !1);
                    E.default.unbind(window, "resize", this.__resizeHandler);
                    this.saveToLocalStorageIfPossible && E.default.unbind(window, "unload", this.saveToLocalStorageIfPossible)
                },
                addFolder: function(a) {
                    if (void 0 !== this.__folders[a]) throw Error('You already have a folder in this GUI by the name "' + a + '"');
                    var c = {
                        name: a,
                        parent: this
                    };
                    c.autoPlace =
                        this.autoPlace;
                    this.load && this.load.folders && this.load.folders[a] && (c.closed = this.load.folders[a].closed, c.load = this.load.folders[a]);
                    c = new P(c);
                    this.__folders[a] = c;
                    a = f(this, c.domElement);
                    E.default.addClass(a, "folder");
                    return c
                },
                open: function() {
                    this.closed = !1
                },
                close: function() {
                    this.closed = !0
                },
                onResize: function() {
                    var a = this.getRoot();
                    if (a.scrollable) {
                        var c = E.default.getOffset(a.__ul).top,
                            b = 0;
                        K.default.each(a.__ul.childNodes, function(c) {
                            a.autoPlace && c === a.__save_row || (b += E.default.getHeight(c))
                        });
                        window.innerHeight -
                            c - 20 < b ? (E.default.addClass(a.domElement, P.CLASS_TOO_TALL), a.__ul.style.height = window.innerHeight - c - 20 + "px") : (E.default.removeClass(a.domElement, P.CLASS_TOO_TALL), a.__ul.style.height = "auto")
                    }
                    a.__resize_handle && K.default.defer(function() {
                        a.__resize_handle.style.height = a.__ul.offsetHeight + "px"
                    });
                    a.__closeButton && (a.__closeButton.style.width = a.width + "px")
                },
                onResizeDebounced: K.default.debounce(function() {
                    this.onResize()
                }, 200),
                remember: function() {
                    K.default.isUndefined(H) && (H = new J.default, H.domElement.innerHTML =
                        v.default);
                    if (this.parent) throw Error("You can only call remember on a top level GUI.");
                    var a = this;
                    K.default.each(Array.prototype.slice.call(arguments), function(c) {
                        0 === a.__rememberedObjects.length && m(a); - 1 === a.__rememberedObjects.indexOf(c) && a.__rememberedObjects.push(c)
                    });
                    this.autoPlace && n(this, this.width)
                },
                getRoot: function() {
                    for (var a = this; a.parent;) a = a.parent;
                    return a
                },
                getSaveObject: function() {
                    var a = this.load;
                    a.closed = this.closed;
                    0 < this.__rememberedObjects.length && (a.preset = this.preset, a.remembered ||
                        (a.remembered = {}), a.remembered[this.preset] = p(this));
                    a.folders = {};
                    K.default.each(this.__folders, function(c, b) {
                        a.folders[b] = c.getSaveObject()
                    });
                    return a
                },
                save: function() {
                    this.load.remembered || (this.load.remembered = {});
                    this.load.remembered[this.preset] = p(this);
                    a(this, !1);
                    this.saveToLocalStorageIfPossible()
                },
                saveAs: function(a) {
                    this.load.remembered || (this.load.remembered = {}, this.load.remembered.Default = p(this, !0));
                    this.load.remembered[a] = p(this);
                    this.preset = a;
                    l(this, a, !0);
                    this.saveToLocalStorageIfPossible()
                },
                revert: function(c) {
                    K.default.each(this.__controllers, function(a) {
                        this.getRoot().load.remembered ? e(c || this.getRoot(), a) : a.setValue(a.initialValue);
                        a.__onFinishChange && a.__onFinishChange.call(a, a.getValue())
                    }, this);
                    K.default.each(this.__folders, function(a) {
                        a.revert(a)
                    });
                    c || a(this.getRoot(), !1)
                },
                listen: function(a) {
                    var c = 0 === this.__listening.length;
                    this.__listening.push(a);
                    c && r(this.__listening)
                },
                updateDisplay: function() {
                    K.default.each(this.__controllers, function(a) {
                        a.updateDisplay()
                    });
                    K.default.each(this.__folders,
                        function(a) {
                            a.updateDisplay()
                        })
                }
            });
            d.exports = P
        }, function(d, b) {
            d.exports = {
                load: function(b, d) {
                    d = d || document;
                    var f = d.createElement("link");
                    f.type = "text/css";
                    f.rel = "stylesheet";
                    f.href = b;
                    d.getElementsByTagName("head")[0].appendChild(f)
                },
                inject: function(b, d) {
                    var f = d || document;
                    d = document.createElement("style");
                    d.type = "text/css";
                    d.innerHTML = b;
                    b = f.getElementsByTagName("head")[0];
                    try {
                        b.appendChild(d)
                    } catch (a) {}
                }
            }
        }, function(d, b) {
            d.exports = '<div id="dg-save" class="dg dialogue">\n\n  Here\'s the new load parameter for your <code>GUI</code>\'s constructor:\n\n  <textarea id="dg-new-constructor"></textarea>\n\n  <div id="dg-save-locally">\n\n    <input id="dg-local-storage" type="checkbox"/> Automatically save\n    values to <code>localStorage</code> on exit.\n\n    <div id="dg-local-explain">The values saved to <code>localStorage</code> will\n      override those passed to <code>dat.GUI</code>\'s constructor. This makes it\n      easier to work incrementally, but <code>localStorage</code> is fragile,\n      and your friends may not see the same values you do.\n\n    </div>\n\n  </div>\n\n</div>'
        },
        function(d, b, h) {
            function g(a) {
                return a && a.__esModule ? a : {
                    default: a
                }
            }
            b.__esModule = !0;
            d = h(10);
            var f = g(d);
            d = h(13);
            var a = g(d);
            d = h(14);
            var c = g(d);
            d = h(11);
            var e = g(d);
            d = h(15);
            var k = g(d);
            d = h(8);
            var l = g(d);
            h = h(5);
            var m = g(h);
            b.default = function(b, d, g, h, u) {
                var q = b[d];
                return m.default.isArray(g) || m.default.isObject(g) ? new f.default(b, d, g) : m.default.isNumber(q) ? m.default.isNumber(g) && m.default.isNumber(h) ? m.default.isNumber(u) ? new c.default(b, d, g, h, u) : new c.default(b, d, g, h) : m.default.isNumber(u) ? new a.default(b,
                    d, {
                        min: g,
                        max: h,
                        step: u
                    }) : new a.default(b, d, {
                    min: g,
                    max: h
                }) : m.default.isString(q) ? new e.default(b, d) : m.default.isFunction(q) ? new k.default(b, d, "") : m.default.isBoolean(q) ? new l.default(b, d) : null
            }
        },
        function(d, b) {
            function h(b) {
                setTimeout(b, 1E3 / 60)
            }
            b.__esModule = !0;
            b.default = window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame || h
        },
        function(d, b, h) {
            b.__esModule = !0;
            var g = (d = h(9)) && d.__esModule ? d : {
                    default: d
                },
                f = (h = h(5)) && h.__esModule ? h : {
                    default: h
                };
            h = function() {
                function a() {
                    if (!(this instanceof a)) throw new TypeError("Cannot call a class as a function");
                    this.backgroundElement = document.createElement("div");
                    f.default.extend(this.backgroundElement.style, {
                        backgroundColor: "rgba(0,0,0,0.8)",
                        top: 0,
                        left: 0,
                        display: "none",
                        zIndex: "1000",
                        opacity: 0,
                        WebkitTransition: "opacity 0.2s linear",
                        transition: "opacity 0.2s linear"
                    });
                    g.default.makeFullscreen(this.backgroundElement);
                    this.backgroundElement.style.position = "fixed";
                    this.domElement = document.createElement("div");
                    f.default.extend(this.domElement.style, {
                        position: "fixed",
                        display: "none",
                        zIndex: "1001",
                        opacity: 0,
                        WebkitTransition: "-webkit-transform 0.2s ease-out, opacity 0.2s linear",
                        transition: "transform 0.2s ease-out, opacity 0.2s linear"
                    });
                    document.body.appendChild(this.backgroundElement);
                    document.body.appendChild(this.domElement);
                    var c = this;
                    g.default.bind(this.backgroundElement, "click", function() {
                        c.hide()
                    })
                }
                a.prototype.show = function() {
                    var a = this;
                    this.backgroundElement.style.display =
                        "block";
                    this.domElement.style.display = "block";
                    this.domElement.style.opacity = 0;
                    this.domElement.style.webkitTransform = "scale(1.1)";
                    this.layout();
                    f.default.defer(function() {
                        a.backgroundElement.style.opacity = 1;
                        a.domElement.style.opacity = 1;
                        a.domElement.style.webkitTransform = "scale(1)"
                    })
                };
                a.prototype.hide = function() {
                    var a = this,
                        b = function l() {
                            a.domElement.style.display = "none";
                            a.backgroundElement.style.display = "none";
                            g.default.unbind(a.domElement, "webkitTransitionEnd", l);
                            g.default.unbind(a.domElement, "transitionend",
                                l);
                            g.default.unbind(a.domElement, "oTransitionEnd", l)
                        };
                    g.default.bind(this.domElement, "webkitTransitionEnd", b);
                    g.default.bind(this.domElement, "transitionend", b);
                    g.default.bind(this.domElement, "oTransitionEnd", b);
                    this.backgroundElement.style.opacity = 0;
                    this.domElement.style.opacity = 0;
                    this.domElement.style.webkitTransform = "scale(1.1)"
                };
                a.prototype.layout = function() {
                    this.domElement.style.left = window.innerWidth / 2 - g.default.getWidth(this.domElement) / 2 + "px";
                    this.domElement.style.top = window.innerHeight / 2 -
                        g.default.getHeight(this.domElement) / 2 + "px"
                };
                return a
            }();
            b.default = h
        },
        function(d, b, h) {
            b = d.exports = h(24)();
            b.push([d.id, ".dg {\n  /** Clear list styles */\n  /* Auto-place container */\n  /* Auto-placed GUI's */\n  /* Line items that don't contain folders. */\n  /** Folder names */\n  /** Hides closed items */\n  /** Controller row */\n  /** Name-half (left) */\n  /** Controller-half (right) */\n  /** Controller placement */\n  /** Shorter number boxes when slider is present. */\n  /** Ensure the entire boolean and function row shows a hand */ }\n  .dg ul {\n    list-style: none;\n    margin: 0;\n    padding: 0;\n    width: 100%;\n    clear: both; }\n  .dg.ac {\n    position: fixed;\n    top: 0;\n    left: 0;\n    right: 0;\n    height: 0;\n    z-index: 0; }\n  .dg:not(.ac) .main {\n    /** Exclude mains in ac so that we don't hide close button */\n    overflow: hidden; }\n  .dg.main {\n    -webkit-transition: opacity 0.1s linear;\n    -o-transition: opacity 0.1s linear;\n    -moz-transition: opacity 0.1s linear;\n    transition: opacity 0.1s linear; }\n    .dg.main.taller-than-window {\n      overflow-y: auto; }\n      .dg.main.taller-than-window .close-button {\n        opacity: 1;\n        /* TODO, these are style notes */\n        margin-top: -1px;\n        border-top: 1px solid #2c2c2c; }\n    .dg.main ul.closed .close-button {\n      opacity: 1 !important; }\n    .dg.main:hover .close-button,\n    .dg.main .close-button.drag {\n      opacity: 1; }\n    .dg.main .close-button {\n      /*opacity: 0;*/\n      -webkit-transition: opacity 0.1s linear;\n      -o-transition: opacity 0.1s linear;\n      -moz-transition: opacity 0.1s linear;\n      transition: opacity 0.1s linear;\n      border: 0;\n      position: absolute;\n      line-height: 19px;\n      height: 20px;\n      /* TODO, these are style notes */\n      cursor: pointer;\n      text-align: center;\n      background-color: #000; }\n      .dg.main .close-button:hover {\n        background-color: #111; }\n  .dg.a {\n    float: right;\n    margin-right: 15px;\n    overflow-x: hidden; }\n    .dg.a.has-save > ul {\n      margin-top: 27px; }\n      .dg.a.has-save > ul.closed {\n        margin-top: 0; }\n    .dg.a .save-row {\n      position: fixed;\n      top: 0;\n      z-index: 1002; }\n  .dg li {\n    -webkit-transition: height 0.1s ease-out;\n    -o-transition: height 0.1s ease-out;\n    -moz-transition: height 0.1s ease-out;\n    transition: height 0.1s ease-out; }\n  .dg li:not(.folder) {\n    cursor: auto;\n    height: 27px;\n    line-height: 27px;\n    overflow: hidden;\n    padding: 0 4px 0 5px; }\n  .dg li.folder {\n    padding: 0;\n    border-left: 4px solid transparent; }\n  .dg li.title {\n    cursor: pointer;\n    margin-left: -4px; }\n  .dg .closed li:not(.title),\n  .dg .closed ul li,\n  .dg .closed ul li > * {\n    height: 0;\n    overflow: hidden;\n    border: 0; }\n  .dg .cr {\n    clear: both;\n    padding-left: 3px;\n    height: 27px; }\n  .dg .property-name {\n    cursor: default;\n    float: left;\n    clear: left;\n    width: 40%;\n    overflow: hidden;\n    text-overflow: ellipsis; }\n  .dg .c {\n    float: left;\n    width: 60%; }\n  .dg .c input[type=text] {\n    border: 0;\n    margin-top: 4px;\n    padding: 3px;\n    width: 100%;\n    float: right; }\n  .dg .has-slider input[type=text] {\n    width: 30%;\n    /*display: none;*/\n    margin-left: 0; }\n  .dg .slider {\n    float: left;\n    width: 66%;\n    margin-left: -5px;\n    margin-right: 0;\n    height: 19px;\n    margin-top: 4px; }\n  .dg .slider-fg {\n    height: 100%; }\n  .dg .c input[type=checkbox] {\n    margin-top: 9px; }\n  .dg .c select {\n    margin-top: 5px; }\n  .dg .cr.function,\n  .dg .cr.function .property-name,\n  .dg .cr.function *,\n  .dg .cr.boolean,\n  .dg .cr.boolean * {\n    cursor: pointer; }\n  .dg .selector {\n    display: none;\n    position: absolute;\n    margin-left: -9px;\n    margin-top: 23px;\n    z-index: 10; }\n  .dg .c:hover .selector,\n  .dg .selector.drag {\n    display: block; }\n  .dg li.save-row {\n    padding: 0; }\n    .dg li.save-row .button {\n      display: inline-block;\n      padding: 0px 6px; }\n  .dg.dialogue {\n    background-color: #222;\n    width: 460px;\n    padding: 15px;\n    font-size: 13px;\n    line-height: 15px; }\n\n/* TODO Separate style and structure */\n#dg-new-constructor {\n  padding: 10px;\n  color: #222;\n  font-family: Monaco, monospace;\n  font-size: 10px;\n  border: 0;\n  resize: none;\n  box-shadow: inset 1px 1px 1px #888;\n  word-wrap: break-word;\n  margin: 12px 0;\n  display: block;\n  width: 440px;\n  overflow-y: scroll;\n  height: 100px;\n  position: relative; }\n\n#dg-local-explain {\n  display: none;\n  font-size: 11px;\n  line-height: 17px;\n  border-radius: 3px;\n  background-color: #333;\n  padding: 8px;\n  margin-top: 10px; }\n  #dg-local-explain code {\n    font-size: 10px; }\n\n#dat-gui-save-locally {\n  display: none; }\n\n/** Main type */\n.dg {\n  color: #eee;\n  font: 11px 'Lucida Grande', sans-serif;\n  text-shadow: 0 -1px 0 #111;\n  /** Auto place */\n  /* Controller row, <li> */\n  /** Controllers */ }\n  .dg.main {\n    /** Scrollbar */ }\n    .dg.main::-webkit-scrollbar {\n      width: 5px;\n      background: #1a1a1a; }\n    .dg.main::-webkit-scrollbar-corner {\n      height: 0;\n      display: none; }\n    .dg.main::-webkit-scrollbar-thumb {\n      border-radius: 5px;\n      background: #676767; }\n  .dg li:not(.folder) {\n    background: #1a1a1a;\n    border-bottom: 1px solid #2c2c2c; }\n  .dg li.save-row {\n    line-height: 25px;\n    background: #dad5cb;\n    border: 0; }\n    .dg li.save-row select {\n      margin-left: 5px;\n      width: 108px; }\n    .dg li.save-row .button {\n      margin-left: 5px;\n      margin-top: 1px;\n      border-radius: 2px;\n      font-size: 9px;\n      line-height: 7px;\n      padding: 4px 4px 5px 4px;\n      background: #c5bdad;\n      color: #fff;\n      text-shadow: 0 1px 0 #b0a58f;\n      box-shadow: 0 -1px 0 #b0a58f;\n      cursor: pointer; }\n      .dg li.save-row .button.gears {\n        background: #c5bdad url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAANCAYAAAB/9ZQ7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAQJJREFUeNpiYKAU/P//PwGIC/ApCABiBSAW+I8AClAcgKxQ4T9hoMAEUrxx2QSGN6+egDX+/vWT4e7N82AMYoPAx/evwWoYoSYbACX2s7KxCxzcsezDh3evFoDEBYTEEqycggWAzA9AuUSQQgeYPa9fPv6/YWm/Acx5IPb7ty/fw+QZblw67vDs8R0YHyQhgObx+yAJkBqmG5dPPDh1aPOGR/eugW0G4vlIoTIfyFcA+QekhhHJhPdQxbiAIguMBTQZrPD7108M6roWYDFQiIAAv6Aow/1bFwXgis+f2LUAynwoIaNcz8XNx3Dl7MEJUDGQpx9gtQ8YCueB+D26OECAAQDadt7e46D42QAAAABJRU5ErkJggg==) 2px 1px no-repeat;\n        height: 7px;\n        width: 8px; }\n      .dg li.save-row .button:hover {\n        background-color: #bab19e;\n        box-shadow: 0 -1px 0 #b0a58f; }\n  .dg li.folder {\n    border-bottom: 0; }\n  .dg li.title {\n    padding-left: 16px;\n    background: #000 url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlI+hKgFxoCgAOw==) 6px 10px no-repeat;\n    cursor: pointer;\n    border-bottom: 1px solid rgba(255, 255, 255, 0.2); }\n  .dg .closed li.title {\n    background-image: url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlGIWqMCbWAEAOw==); }\n  .dg .cr.boolean {\n    border-left: 3px solid #806787; }\n  .dg .cr.color {\n    border-left: 3px solid; }\n  .dg .cr.function {\n    border-left: 3px solid #e61d5f; }\n  .dg .cr.number {\n    border-left: 3px solid #2FA1D6; }\n    .dg .cr.number input[type=text] {\n      color: #2FA1D6; }\n  .dg .cr.string {\n    border-left: 3px solid #1ed36f; }\n    .dg .cr.string input[type=text] {\n      color: #1ed36f; }\n  .dg .cr.function:hover, .dg .cr.boolean:hover {\n    background: #111; }\n  .dg .c input[type=text] {\n    background: #303030;\n    outline: none; }\n    .dg .c input[type=text]:hover {\n      background: #3c3c3c; }\n    .dg .c input[type=text]:focus {\n      background: #494949;\n      color: #fff; }\n  .dg .c .slider {\n    background: #303030;\n    cursor: ew-resize; }\n  .dg .c .slider-fg {\n    background: #2FA1D6;\n    max-width: 100%; }\n  .dg .c .slider:hover {\n    background: #3c3c3c; }\n    .dg .c .slider:hover .slider-fg {\n      background: #44abda; }\n",
                ""
            ])
        },
        function(d, b) {
            d.exports = function() {
                var b = [];
                b.toString = function() {
                    for (var b = [], d = 0; d < this.length; d++) {
                        var a = this[d];
                        a[2] ? b.push("@media " + a[2] + "{" + a[1] + "}") : b.push(a[1])
                    }
                    return b.join("")
                };
                b.i = function(d, f) {
                    "string" === typeof d && (d = [
                        [null, d, ""]
                    ]);
                    for (var a = {}, c = 0; c < this.length; c++) {
                        var e = this[c][0];
                        "number" === typeof e && (a[e] = !0)
                    }
                    for (c = 0; c < d.length; c++) e = d[c], "number" === typeof e[0] && a[e[0]] || (f && !e[2] ? e[2] = f : f && (e[2] = "(" + e[2] + ") and (" + f + ")"), b.push(e))
                };
                return b
            }
        }
    ])
});
(function() {
    var d, b = function(a, c) {
            function b() {
                this.constructor = a
            }
            for (var d in c) h.call(c, d) && (a[d] = c[d]);
            b.prototype = c.prototype;
            a.prototype = new b;
            a.__super__ = c.prototype;
            return a
        },
        h = {}.hasOwnProperty;
    var g = this.dat;
    var f = this.Phaser;
    var a = f.ScaleManager;
    var c = f.Physics.Arcade;
    var e = Array.isArray;
    a && (d = {
        "exact fit": a.EXACT_FIT,
        "no scale": a.NO_SCALE,
        resize: a.RESIZE,
        "show all": a.SHOW_ALL,
        "user scale": a.USER_SCALE
    });
    a = function(a, c, b) {
        a = a.add(c, b, d);
        a.onChange(k);
        return a
    };
    var k = function(a) {
        this.object[this.property] =
            Number(a)
    };
    var l = Object.freeze({
        game: {
            clearBeforeRender: !0,
            disableStep: !0,
            enableStep: !0,
            forceSingleUpdate: !0,
            lockRender: !0,
            paused: !0,
            step: !0,
            camera: {
                fade: !0,
                flash: !0,
                reset: !0,
                resetFX: !0,
                roundPx: !0,
                shake: !0,
                unfollow: !0,
                x: function(a, c) {
                    return [c.bounds.left, c.bounds.right - c.view.width, 10]
                },
                y: function(a, c) {
                    return [c.bounds.top, c.bounds.bottom - c.view.height, 10]
                },
                lerp: {
                    x: [0, 1, .05],
                    y: [0, 1, .05]
                }
            },
            debug: {
                sprite: {
                    visible: !0
                }
            },
            input: {
                enabled: !0,
                maxPointers: [-1, 10, 1],
                keyboard: {
                    enabled: !0
                },
                mouse: {
                    enabled: !0
                },
                touch: {
                    enabled: !0
                }
            },
            physics: {
                arcade: {
                    checkCollision: {
                        down: !0,
                        left: !0,
                        right: !0,
                        up: !0
                    },
                    forceX: !0,
                    gravity: {
                        x: [-1E3, 1E3, 10],
                        y: [-1E3, 1E3, 10]
                    },
                    isPaused: !0,
                    OVERLAP_BIAS: [-16, 16, 1],
                    skipQuadTree: !0,
                    sortDirection: function(a, b, d) {
                        a = a.add(b, d, {
                            "bottom top": c.BOTTOM_TOP,
                            "left right": c.LEFT_RIGHT,
                            "right left": c.RIGHT_LEFT,
                            "top bottom": c.TOP_BOTTOM,
                            "sort none": c.SORT_NONE
                        });
                        a.onChange(k);
                        return a
                    }
                }
            },
            scale: {
                fullScreenScaleMode: a,
                parentIsWindow: !0,
                refresh: !0,
                scaleMode: a,
                startFullScreen: !0,
                stopFullScreen: !0
            },
            sound: {
                mute: !0,
                volume: [0,
                    1, .1
                ]
            },
            stage: {
                backgroundColor: function(a, c, b) {
                    return a.addColor(c, b)
                },
                disableVisibilityChange: !0,
                smoothed: !0
            },
            state: {
                restart: !0
            },
            time: {
                desiredFps: [10, 120, 5],
                slowMotion: [.1, 10, .1]
            },
            tweens: {
                frameBased: !0,
                pauseAll: !0,
                resumeAll: !0
            },
            world: {
                alpha: [0, 1, .1],
                visible: !0
            }
        }
    });
    f.Plugin.GameGui = function(a) {
        function c() {
            return c.__super__.constructor.apply(this, arguments)
        }
        b(c, a);
        c.prototype.gui = null;
        c.prototype.init = function(a) {
            this.createGui(a)
        };
        c.prototype.destroy = function() {
            this.gui.destroy()
        };
        c.prototype.add =
            function(a, c, b) {
                var d;
                for (d in b) {
                    var e = b[d];
                    this.addProp(a, c, d, e)
                }
                return a
            };
        c.prototype.addProp = function(a, c, b, d) {
            var f = c[b];
            if (null == f) console.warn("GameGui Skipped '" + b + "' (" + f + ")");
            else {
                "function" === typeof d && (d = d.call(null, a, c, b), d = e(d) ? d : !1);
                switch (!1) {
                    case !1 !== d:
                        return;
                    case !0 !== d:
                        c = a.add(c, b);
                        "function" !== typeof f && c.listen();
                        break;
                    case !e(d):
                        f = [c, b].concat(d);
                        a.add.apply(a, f).listen();
                        break;
                    case "object" !== typeof d:
                        this.add(a.addFolder(b), c[b], d);
                        break;
                    default:
                        console.warn("Nothing to do: " +
                            d)
                }
                return a
            }
        };
        c.prototype.createGui = function(a) {
            this.gui = new g.GUI(a);
            this.add(this.gui, this.game, l.game);
            return this.gui
        };
        return c
    }(f.Plugin)
}).call(this);
(function() {
    var d = {
        Float32Array: Array,
        Uint32Array: Array,
        Uint16Array: Array
    };
    d.temp = new d.Float32Array(2);
    var b = {
        error: function(b) {
            throw Error(b);
        },
        assert: function(d, g) {
            d || b.error(g)
        }
    };
    d.Utils = b;
    Math.radDeg = 180 / Math.PI;
    Math.degRad = Math.PI / 180;
    Math.cosDeg = function(b) {
        return Math.cos(Math.PI / 180 * b)
    };
    Math.sinDeg = function(b) {
        return Math.sin(Math.PI / 180 * b)
    };
    Math.normalizeAngle = function(b) {
        180 < b ? b -= 360 : -180 > b && (b += 360);
        return b
    };
    d.TransformMode = {
        NORMAL: 0,
        ONLY_TRANSLATION: 1,
        NO_ROTATION_OR_REFLACTION: 2,
        NO_SCALE: 3,
        NO_SCALE_OR_REFLECTION: 4
    };
    d.BlendMode = {
        normal: 0,
        additive: 1,
        multiply: 2,
        screen: 3
    };
    nge.spine = d
})();
(function(d) {
    var b = d.TransformMode,
        h = d.Utils,
        g = function(a, c) {
            this.name = a;
            this.parent = c
        };
    g.prototype = {
        length: 0,
        x: 0,
        y: 0,
        rotation: 0,
        scaleX: 1,
        scaleY: 1,
        transformMode: b.NORMAL
    };
    d.BoneData = g;
    var f = function(a, c, b) {
        this.name = a.name;
        this.data = a;
        this.skeleton = c;
        this.parent = b;
        this.setToSetupPose();
        this.Pos = {
            x: 0,
            y: 0
        };
        this.Rotation = 0;
        this.Scale = {
            x: 1,
            y: 1
        };
        this.WorldSign = {
            x: 1,
            y: 1
        }
    };
    f.yDown = !1;
    f.prototype = {
        x: 0,
        y: 0,
        rotation: 0,
        scaleX: 1,
        scaleY: 1,
        a: 0,
        b: 0,
        worldX: 0,
        c: 0,
        d: 0,
        worldY: 0,
        worldSignX: 1,
        worldSignY: 1,
        worldRotation: 0,
        angle: 0,
        sX: 1,
        sY: 1,
        signX: 1,
        signY: 1,
        update: function() {
            this.updateWorldTransform(this.x, this.y, this.rotation, this.scaleX, this.scaleY)
        },
        updateWorldTransformWith: function() {
            this.updateWorldTransform(this.x, this.y, this.rotation, this.scaleX, this.scaleY)
        },
        updateWorldTransform: function(a, c, d, g, l) {
            var e = this.data.transformMode;
            this.ax = a;
            this.ay = c;
            this.appliedRotation = d;
            this.appliedScaleX = g;
            this.appliedScaleY = l;
            this.appliedValid = !0;
            var k = this.parent;
            if (k) {
                var n = k.a,
                    p = k.b,
                    r = k.c,
                    u = k.d;
                this.worldX = n * a + p * c + k.worldX;
                this.worldY = r * a + u * c + k.worldY;
                this.signX = (0 > g ? -1 : 1) * k.signX;
                this.signY = (0 > l ? -1 : 1) * k.signY;
                if (e === b.NORMAL) {
                    e = d + 90;
                    k = Math.cosDeg(d) * g;
                    var t = Math.cosDeg(e) * l;
                    d = Math.sinDeg(d) * g;
                    var v = Math.sinDeg(e) * l;
                    this.a = n * k + p * d;
                    this.b = n * t + p * v;
                    this.c = r * k + u * d;
                    this.d = r * t + u * v
                } else {
                    if (e === b.NO_ROTATION_OR_REFLACTION) k = n * n + r * r, 1E-4 < k ? (k = Math.abs(n * u - p * r) / k, p = r * k, u = n * k, k = Math.atan2(r, n) * Math.radDeg) : (r = n = 0, k = 90 - Math.atan2(u, p) * Math.radDeg), e = d - k, v = d - k + 90, k = Math.cosDeg(e) * g, t = Math.cosDeg(v) * l, d = Math.sinDeg(e) * g, v = Math.sinDeg(v) *
                        l, this.a = n * k - p * d, this.b = n * t - p * v, this.c = r * k + u * d, this.d = r * t + u * v;
                    else {
                        if (e === b.NO_SCALE_OR_REFLECTION || e === b.NO_SCALE) {
                            k = Math.cosDeg(d);
                            t = Math.sinDeg(d);
                            a = n * k + p * t;
                            c = r * k + u * t;
                            k = Math.sqrt(a * a + c * c);
                            1E-5 < k && (k = 1 / k);
                            a *= k;
                            c *= k;
                            k = Math.sqrt(a * a + c * c);
                            t = Math.PI / 2 + Math.atan2(c, a);
                            var w = Math.cos(t) * k,
                                x = Math.sin(t) * k;
                            k = Math.cosDeg(0) * g;
                            t = Math.cosDeg(90) * l;
                            d = Math.sinDeg(0) * g;
                            v = Math.sinDeg(90) * l;
                            if (e !== b.NO_SCALE_OR_REFLECTION ? 0 > n * u - p * r : this.skeleton.flipX !== this.skeleton.flipY) w = -w, x = -x;
                            this.a = a * k + w * d;
                            this.b = a * t + w *
                                v;
                            this.c = c * k + x * d;
                            this.d = c * t + x * v;
                            return
                        }
                        e === b.ONLY_TRANSLATION ? (e = d + 90, this.a = Math.cosDeg(d) * g, this.b = Math.cosDeg(e) * l, this.c = Math.sinDeg(d) * g, this.d = Math.sinDeg(e) * l) : h.error("Unsupported transformMode")
                    }
                    this.skeleton.flipX && (this.a = -this.a, this.b = -this.b);
                    this.skeleton.flipY !== f.yDown && (this.c = -this.c, this.d = -this.d)
                }
            } else e = d + 90, k = Math.cosDeg(d) * g, t = Math.cosDeg(e) * l, d = Math.sinDeg(d) * g, v = Math.sinDeg(e) * l, n = this.skeleton, p = a, r = c, n.flipX && (p = -a, k = -k, t = -t), n.flipY && (r = -c, d = -d, v = -v), this.a = k, this.b =
                t, this.c = d, this.d = v, this.worldX = p + n.x, this.worldY = r + n.y, this.signX = 0 > g ? -1 : 1, this.signY = 0 > l ? -1 : 1
        },
        setToSetupPose: function() {
            var a = this.data;
            this.x = a.x;
            this.y = a.y;
            this.rotation = a.rotation;
            this.scaleX = a.scaleX;
            this.scaleY = a.scaleY
        },
        getWorldRotationX: function() {
            return Math.atan2(this.c, this.a) * Math.radDeg
        },
        getWorldRotationY: function() {
            return Math.atan2(this.d, this.b) * Math.radDeg
        },
        getWorldScaleX: function() {
            return Math.sqrt(this.a * this.a + this.b * this.b) * this.worldSignX
        },
        getWorldScaleY: function() {
            return Math.sqrt(this.c *
                this.c + this.d * this.d) * this.worldSignY
        },
        worldToLocal: function(a) {
            var c = a[0] - this.worldX,
                b = a[1] - this.worldY,
                d = this.a,
                f = this.b,
                g = this.c,
                h = this.d,
                n = 1 / (d * h - f * g);
            a[0] = c * h * n - b * f * n;
            a[1] = b * d * n - c * g * n;
            return a
        },
        localToWorld: function(a) {
            var c = a[0],
                b = a[1];
            a[0] = c * this.a + b * this.b + this.worldX;
            a[1] = c * this.c + b * this.d + this.worldY;
            return a
        },
        getWorldPosition: function() {
            var a = +this.x,
                c = +this.y;
            if (this.parent) {
                var b = this.parent.getWorldPosition();
                a += +b.x;
                c += +b.y
            }
            return {
                x: a,
                y: c
            }
        }
    };
    d.Bone = f;
    nge.spine = d
})(nge.spine);
(function(d) {
    var b = function(b, d) {
        this.name = b;
        this.boneData = d
    };
    b.prototype = {
        r: 1,
        g: 1,
        b: 1,
        a: 1,
        attachmentName: null,
        blendMode: d.BlendMode.normal
    };
    d.SlotData = b;
    b = function(b, g) {
        this.data = b;
        this.bone = g;
        g.slot = this;
        this.attachmentVertices = new d.Float32Array;
        this.setToSetupPose()
    };
    b.prototype = {
        r: 1,
        g: 1,
        b: 1,
        a: 1,
        _attachmentTime: 0,
        attachment: null,
        setAttachment: function(b) {
            this.attachment !== b && (this.attachment = b, this._attachmentTime = this.bone.skeleton.time, this.attachmentVertices.length = 0)
        },
        setAttachmentTime: function(b) {
            this._attachmentTime =
                this.bone.skeleton.time - b
        },
        getAttachmentTime: function() {
            return this.bone.skeleton.time - this._attachmentTime
        },
        setToSetupPose: function() {
            var b = this.data;
            this.r = b.r;
            this.g = b.g;
            this.b = b.b;
            this.a = b.a;
            if (b.attachmentName)
                for (var d = this.bone.skeleton.data.slots, f = 0, a = d.length; f < a; f++) {
                    if (d[f] === b) {
                        this.attachment = null;
                        this.setAttachment(this.bone.skeleton.getAttachmentBySlotIndex(f, b.attachmentName));
                        break
                    }
                } else this.setAttachment(null)
        }
    };
    d.Slot = b;
    nge.spine = d
})(nge.spine);
(function(d) {
    var b = d.Utils,
        h = d.Bone,
        g = function(a) {
            this.name = a;
            this.bones = []
        };
    g.prototype = {
        target: null,
        bendDirection: 1,
        mix: 1
    };
    d.IkConstraintData = g;
    var f = function(a, c) {
        this.data = a;
        this.mix = a.mix;
        this.bendDirection = a.bendDirection;
        this.bones = [];
        for (var b = 0, d = a.bones.length; b < d; b++) this.bones[b] = c.findBone(a.bones[b].name);
        this.target = c.findBone(a.target.name)
    };
    f.prototype = {
        apply: function() {
            this.update()
        },
        update: function() {
            var a = this.target,
                c = this.bones;
            switch (c.length) {
                case 1:
                    f.apply1(c[0], a.worldX,
                        a.worldY, this.mix);
                    break;
                case 2:
                    f.apply2(c[0], c[1], a.worldX, a.worldY, this.bendDirection, this.mix);
                    break;
                default:
                    b.error("Wrong bones length: " + c.length)
            }
        }
    };
    f.apply1 = function(a, c, b, d) {
        var e = a.parent ? a.parent.getWorldRotationX() : 0,
            f = a.rotation;
        c = Math.atan2(b - a.worldY, c - a.worldX) * Math.radDeg - e;
        a.worldSignX !== a.worldSignY !== (a.skeleton.flipX !== (a.skeleton.flipY !== h.yDown)) && (c = 360 - c);
        c = Math.normalizeAngle(c);
        a.updateWorldTransform(a.x, a.y, f + (c - f) * d, a.appliedScaleX, a.appliedScaleY)
    };
    f.apply2 = function(a,
        c, b, d, f, g) {
        if (g) {
            var e = a.x,
                h = a.y,
                k = a.appliedScaleX,
                l = a.appliedScaleY;
            if (0 > k) {
                k = -k;
                var m = 180;
                var t = -1
            } else m = 0, t = 1;
            0 > l && (l = -l, t = -t);
            var v = c.x,
                w = c.y,
                x = c.appliedScaleX,
                y = 1E-4 >= Math.abs(k - l);
            y || 0 === w || (c.worldX = a.a * v + a.worldX, c.worldY = a.c * v + a.worldY, w = 0);
            if (0 > x) {
                x = -x;
                var z = 180
            } else z = 0;
            var B = a.parent;
            if (B) {
                var A = B.a;
                var C = B.b;
                var D = B.c;
                var J = B.d;
                var E = 1 / (A * J - C * D),
                    K = B.worldX,
                    I = B.worldY;
                b -= K;
                d -= I;
                B = (b * J - d * C) * E - e;
                var H = (d * A - b * D) * E - h;
                b = c.worldX - K;
                d = c.worldY - I;
                C = (b * J - d * C) * E - e;
                A = (d * A - b * D) * E - h
            } else B = b - e, H =
                d - h, C = c.worldX - e, A = c.worldY - h;
            D = Math.sqrt(C * C + A * A);
            C = c.data.length * x;
            a: if (y) C *= k, A = (B * B + H * H - D * D - C * C) / (2 * D * C), -1 > A ? A = -1 : 1 < A && (A = 1), f *= Math.acos(A), A = D + C * A, C *= Math.sin(f), A = Math.atan2(H * A - B * C, B * A + H * C);
                else {
                    A = k * C;
                    C *= l;
                    y = Math.atan2(H, B);
                    d = A * A;
                    x = C * C;
                    B = B * B + H * H;
                    b = x * D * D + d * B - d * x;
                    H = -2 * x * D;
                    E = x - d;
                    J = H * H - 4 * E * b;
                    if (0 <= J && (J = Math.sqrt(J), 0 > H && (J = -J), J = -(H + J) / 2, H = J / E, b /= J, b = Math.abs(H) < Math.abs(b) ? H : b, b * b <= B)) {
                        d = Math.sqrt(B - b * b) * f;
                        A = y - Math.atan2(d, b);
                        f = Math.atan2(d / l, (b - D) / k);
                        break a
                    }
                    k = 0;
                    J = Number.MAX_VALUE;
                    var G = I =
                        K = l = E = H = 0;
                    b = D + A;
                    var F = b * b;
                    F > K && (l = 0, K = F, I = b);
                    b = D - A;
                    F = b * b;
                    F < J && (k = Math.PI, J = F, H = b);
                    x = Math.acos(-A * D / (d - x));
                    b = A * Math.cos(x) + D;
                    d = C * Math.sin(x);
                    F = b * b + d * d;
                    F < J && (k = x, J = F, H = b, E = d);
                    F > K && (l = x, K = F, I = b, G = d);
                    B <= (J + K) / 2 ? (A = y - Math.atan2(E * f, H), f *= k) : (A = y - Math.atan2(G * f, I), f *= l)
                } C = Math.atan2(w, v) * t;
            A = (A - C) * Math.radDeg + m;
            f = (f + C) * Math.radDeg * t + z;
            A = Math.normalizeAngle(A);
            f = Math.normalizeAngle(f);
            m = a.rotation;
            a.updateWorldTransform(e, h, m + (A - m) * g, a.appliedScaleX, a.appliedScaleY);
            m = c.rotation;
            c.updateWorldTransform(v,
                w, m + (f - m) * g, c.appliedScaleX, c.appliedScaleY)
        }
    };
    d.IkConstraint = f;
    nge.spine = d
})(nge.spine);
(function(d) {
    var b = function(b) {
        this.name = b
    };
    b.prototype = {
        bone: null,
        target: null,
        translateMix: 1,
        x: 0,
        y: 0
    };
    d.TransformConstraintData = b;
    b = function(b, d) {
        this.data = b;
        this.translateMix = b.translateMix;
        this.x = b.x;
        this.y = b.y;
        this.bone = d.findBone(b.bone.name);
        this.target = d.findBone(b.target.name)
    };
    b.prototype = {
        apply: function() {
            this.update()
        },
        update: function() {
            var b = this.translateMix;
            if (0 < b) {
                var g = d.temp;
                g[0] = this.x;
                g[1] = this.y;
                this.target.localToWorld(g);
                var f = this.bone;
                f.worldX += (g[0] - f.worldX) * b;
                f.worldY +=
                    (g[1] - f.worldY) * b
            }
        }
    };
    d.TransformConstraint = b;
    nge.spine = d
})(nge.spine);
(function(d) {
    var b = function(b) {
        this.name = b;
        this.attachments = {}
    };
    b.prototype = {
        addAttachment: function(b, d, f) {
            this.attachments[b + ":" + d] = f
        },
        getAttachment: function(b, d) {
            return this.attachments[b + ":" + d]
        },
        _attachAll: function(b, d) {
            for (var f in d.attachments) {
                var a = f.indexOf(":");
                d = parseInt(f.substring(0, a), 10);
                var c = f.substring(a + 1);
                a = b.slots[d];
                a.attachment && a.attachment.name === c && (d = this.getAttachment(d, c)) && a.setAttachment(d)
            }
        }
    };
    d.Skin = b;
    nge.spine = d
})(nge.spine);
(function(d) {
    var b = d.Utils,
        h = function(b, a, c) {
            this.name = b;
            this.timelines = a;
            this.duration = c
        };
    h.prototype = {
        apply: function(b, a, c, d, g) {
            d && 0 !== this.duration && (c %= this.duration, 0 < a && (a %= this.duration));
            d = this.timelines;
            for (var e = 0, f = d.length; e < f; e++) d[e].apply(b, a, c, g, 1)
        },
        mix: function(b, a, c, d, g, h) {
            var e = a;
            d && 0 !== this.duration && (c %= this.duration, 0 < a && (e %= this.duration));
            a = this.timelines;
            d = 0;
            for (var f = a.length; d < f; d++) a[d].apply(b, e, c, g, h)
        }
    };
    h.binarySearch = function(b, a, c) {
        var d = 0,
            f = Math.floor(b.length / c) -
            2;
        if (!f) return c;
        for (var g = f >>> 1;;) {
            b[(g + 1) * c] <= a ? d = g + 1 : f = g;
            if (d === f) return (d + 1) * c;
            g = d + f >>> 1
        }
    };
    h.binarySearch1 = function(b, a) {
        var c = 0,
            d = b.length - 2;
        if (!d) return 1;
        for (var f = d >>> 1;;) {
            b[f + 1] <= a ? c = f + 1 : d = f;
            if (c === d) return c + 1;
            f = c + d >>> 1
        }
    };
    h.linearSearch = function(b, a, c) {
        for (var d = 0, f = b.length - c; d <= f; d += c)
            if (b[d] > a) return d;
        return -1
    };
    d.Animation = h;
    h = function(b) {
        this.skeletonData = b;
        this.animationToMixTime = {}
    };
    h.prototype = {
        defaultMix: 0,
        setMixByName: function(d, a, c) {
            var e = this.skeletonData.findAnimation(d);
            b.assert(e,
                "Animation not found: " + d);
            d = this.skeletonData.findAnimation(a);
            b.assert(d, "Animation not found: " + a);
            this.setMix(e, d, c)
        },
        setMix: function(b, a, c) {
            this.animationToMixTime[b.name + ":" + a.name] = c
        },
        getMix: function(b, a) {
            b = b.name + ":" + a.name;
            return Object.prototype.hasOwnProperty.call(this.animationToMixTime, b) ? this.animationToMixTime[b] : this.defaultMix
        }
    };
    d.AnimationStateData = h;
    var g = function() {};
    g.prototype = {
        next: null,
        previous: null,
        animation: null,
        loop: !1,
        delay: 0,
        time: 0,
        lastTime: -1,
        endTime: 0,
        timeScale: 1,
        mixTime: 0,
        mixDuration: 0,
        mix: 1,
        onStart: null,
        onEnd: null,
        onComplete: null,
        onEvent: null
    };
    h = function(b) {
        this.data = b.stateData;
        this.tracks = [];
        this.events = [];
        this.spineObj = b;
        this.animationName = ""
    };
    h.prototype = {
        onStart: null,
        onEnd: null,
        onComplete: null,
        onEvent: null,
        timeScale: 1,
        currentIndex: 0,
        update: function(b) {
            b *= this.timeScale;
            for (var a = !1, c = 0; c < this.tracks.length; c++) {
                var e = this.tracks[c];
                if (e) {
                    a = !0;
                    e.time += b * e.timeScale;
                    d.currentTime = e.time;
                    if (e.previous) {
                        var f = b * e.previous.timeScale;
                        e.previous.time += f;
                        e.mixTime +=
                            f
                    }(f = e.next) ? (f.time = e.lastTime - f.delay, 0 <= f.time && (this.setCurrent(c, f), this.spineObj.setToSetupPose())) : !e.loop && e.lastTime >= e.endTime && this.clearTrack(c)
                }
            }
            return a
        },
        apply: function(b) {
            for (var a = 0; a < this.tracks.length; a++) {
                var c = this.tracks[a];
                if (c) {
                    this.events.length = 0;
                    var d = c.time,
                        f = c.lastTime,
                        g = c.endTime,
                        h = c.loop;
                    !h && d > g && (d = g);
                    var q = c.previous;
                    if (q) {
                        var n = q.time;
                        !q.loop && n > q.endTime && (n = q.endTime);
                        q.animation.apply(b, n, n, q.loop, null);
                        q = c.mixTime / c.mixDuration * c.mix;
                        1 <= q && (q = 1, c.previous = null);
                        c.animation.mix(b, c.lastTime, d, h, this.events, q)
                    } else 1 === c.mix ? c.animation.apply(b, c.lastTime, d, h, this.events) : c.animation.mix(b, c.lastTime, d, h, this.events, c.mix);
                    q = 0;
                    for (n = this.events.length; q < n; q++) {
                        var p = this.events[q];
                        if (c.onEvent) c.onEvent(a, p);
                        if (this.onEvent) this.onEvent(a, p)
                    }
                    if (h ? f % g > d % g : f < g && d >= g) {
                        d = Math.floor(d / g);
                        if (c.onComplete) c.onComplete(a, d);
                        if (this.onComplete) this.onComplete(a, d)
                    }
                    c.lastTime = c.time
                }
            }
        },
        clearTracks: function() {
            for (var b = 0, a = this.tracks.length; b < a; b++) this.clearTrack(b);
            this.tracks.length = 0
        },
        clearTrack: function(b) {
            if (!(b >= this.tracks.length)) {
                var a = this.tracks[b];
                if (a) {
                    if (a.onEnd) a.onEnd(b);
                    if (this.onEnd) this.onEnd(b);
                    this.tracks[b] = null;
                    if ((a = this.spineObj.loopSequence[b]) && a.enabled && (a.callback && a.callback(), b = a.data))
                        if (-1 !== a.count && 0 === --a.count) this.spineObj.endLoopSequence();
                        else
                            for (this.spineObj.setAnimationByName(b[0].trackIndex, b[0].animationName, b[0].loop, b[0].freezeOnComplete, b[0].speed), a = 1; a < b.length; a++) this.spineObj.addAnimationByName(b[a].trackIndex,
                                b[a].animationName, b[a].loop, b[a].delay)
                }
            }
        },
        _expandToIndex: function(b) {
            if (b < this.tracks.length) return this.tracks[b];
            for (; b >= this.tracks.length;) this.tracks[this.tracks.length] = null;
            return null
        },
        setCurrent: function(b, a) {
            var c = this._expandToIndex(b);
            if (c) {
                var d = c.previous;
                c.previous = null;
                a.mixDuration = this.data.getMix(c.animation, a.animation);
                0 < a.mixDuration && (a.mixTime = 0, a.previous = d && .5 > c.mixTime / c.mixDuration ? d : c)
            }
            this.tracks[b] = a;
            this.tracks[b].time = 0;
            this.tracks[b].lastTime = 0;
            if (a.onStart) a.onStart(b);
            if (this.onStart) this.onStart(b);
            this.animationName = a.animation.name;
            this.spineObj.visible = !0
        },
        setAnimationByName: function(d, a, c) {
            var e = this.data.skeletonData.findAnimation(a);
            b.assert("Animation not found: " + a);
            this.animationName = a;
            return this.setAnimation(d, e, c)
        },
        setAnimation: function(b, a, c) {
            var d = new g;
            d.animation = a;
            d.loop = c;
            d.endTime = a.duration;
            this.setCurrent(b, d);
            return d
        },
        addAnimationByName: function(d, a, c, e) {
            var f = this.data.skeletonData.findAnimation(a);
            b.assert(f, "Animation not found: " + a);
            return this.addAnimation(d, f, c, e)
        },
        addAnimation: function(b, a, c, d) {
            var e = new g;
            e.animation = a;
            e.loop = c;
            e.endTime = a.duration;
            if (c = this._expandToIndex(b)) {
                for (; c.next;) c = c.next;
                c.next = e
            } else this.tracks[b] = e;
            0 >= d && (d = c ? d + (c.endTime - this.data.getMix(c.animation, a)) : 0);
            e.delay = d;
            return e
        },
        getCurrent: function(b) {
            return b >= this.tracks.length ? null : this.tracks[b]
        }
    };
    d.AnimationState = h;
    nge.spine = d
})(nge.spine);
(function(d) {
    var b = function(b) {
        b = 19 * (b - 1);
        this.curves = new d.Float32Array(b);
        this.curves.length = b
    };
    b.prototype = {
        setLinear: function(b) {
            this.curves[19 * b] = 0
        },
        setStepped: function(b) {
            this.curves[19 * b] = 1
        },
        setCurve: function(b, d, f, a, c) {
            var e = .1 * .1,
                g = .1 * e,
                h = 3 * .1,
                m = 3 * e,
                q = 6 * e;
            e = 6 * g;
            var n = 2 * -d + a,
                p = 2 * -f + c;
            a = 3 * (d - a) + 1;
            c = 3 * (f - c) + 1;
            d = d * h + n * m + a * g;
            f = f * h + p * m + c * g;
            g = n * q + a * e;
            q = p * q + c * e;
            p = a * e;
            e *= c;
            b *= 19;
            a = this.curves;
            a[b++] = 2;
            c = d;
            h = f;
            for (m = b + 19 - 1; b < m; b += 2) a[b] = c, a[b + 1] = h, d += g, f += q, g += p, q += e, c += d, h += f
        },
        getCurvePercent: function(b,
            d) {
            d = Phaser.Math.clamp(d, 0, 1);
            var f = this.curves;
            b *= 19;
            var a = f[b];
            if (0 === a) return d;
            if (1 === a) return 0;
            b++;
            a = 0;
            for (var c = b, e = b + 19 - 1; b < e; b += 2)
                if (a = f[b], a >= d) return b === c ? e = c = 0 : (c = f[b - 2], e = f[b - 1]), e + (f[b + 1] - e) * (d - c) / (a - c);
            f = f[b - 1];
            return f + (1 - f) * (d - a) / (1 - a)
        }
    };
    d.Curves = b;
    nge.spine = d
})(nge.spine);
(function(d) {
    var b = d.Curves,
        h = d.Animation,
        g = function(f) {
            this.curves = new b(f);
            this.frames = new d.Float32Array(2 * f);
            this.frames.length = 2 * f
        };
    g.prototype = {
        boneIndex: 0,
        getFrameCount: function() {
            return this.frames.length / 2
        },
        setFrame: function(b, a, c) {
            b *= 2;
            this.frames[b] = a;
            this.frames[b + 1] = c
        },
        apply: function(b, a, c, d, g) {
            a = this.frames;
            if (!(c < a[0])) {
                b = b.bones[this.boneIndex];
                if (c >= a[a.length - 2]) a = b.data.rotation + a[a.length - 1] - b.rotation;
                else {
                    var e = h.binarySearch(a, c, 2);
                    d = a[e - 1];
                    var f = a[e];
                    c = 1 - (c - f) / (a[e - 2] - f);
                    c =
                        this.curves.getCurvePercent(e / 2 - 1, c);
                    a = a[e + 1] - d;
                    a = Math.normalizeAngle(a);
                    a = b.data.rotation + (d + a * c) - b.rotation
                }
                a = Math.normalizeAngle(a);
                b.rotation += a * g
            }
        }
    };
    d.RotateTimeline = g;
    nge.spine = d
})(nge.spine);
(function(d) {
    var b = d.Curves,
        h = d.Animation,
        g = function(f) {
            this.curves = new b(f);
            this.frames = new d.Float32Array(3 * f);
            this.frames.length = 3 * f
        };
    g.prototype = {
        boneIndex: 0,
        getFrameCount: function() {
            return this.frames.length / 3
        },
        setFrame: function(b, a, c, d) {
            b *= 3;
            this.frames[b] = a;
            this.frames[b + 1] = c;
            this.frames[b + 2] = d
        },
        apply: function(b, a, c, d, g) {
            a = this.frames;
            if (!(c < a[0]))
                if (b = b.bones[this.boneIndex], c >= a[a.length - 3]) b.x += (b.data.x + a[a.length - 2] - b.x) * g, b.y += (b.data.y + a[a.length - 1] - b.y) * g;
                else {
                    d = h.binarySearch(a, c,
                        3);
                    var e = a[d - 2],
                        f = a[d - 1],
                        k = a[d];
                    c = 1 - (c - k) / (a[d + -3] - k);
                    c = this.curves.getCurvePercent(d / 3 - 1, c);
                    k = a[d + 2] - f;
                    b.x += (b.data.x + e + (a[d + 1] - e) * c - b.x) * g;
                    b.y += (b.data.y + f + k * c - b.y) * g
                }
        }
    };
    d.TranslateTimeline = g;
    nge.spine = d
})(nge.spine);
(function(d) {
    var b = d.Curves,
        h = d.Animation,
        g = function(f) {
            this.curves = new b(f);
            this.frames = new d.Float32Array(3 * f);
            this.frames.length = 3 * f
        };
    g.prototype = {
        boneIndex: 0,
        getFrameCount: function() {
            return this.frames.length / 3
        },
        setFrame: function(b, a, c, d) {
            b *= 3;
            this.frames[b] = a;
            this.frames[b + 1] = c;
            this.frames[b + 2] = d
        },
        apply: function(b, a, c, d, g) {
            a = this.frames;
            if (!(c < a[0]))
                if (b = b.bones[this.boneIndex], c >= a[a.length - 3]) c = b.data.scaleY * a[a.length - 1] - b.scaleY, b.scaleX += (b.data.scaleX * a[a.length - 2] - b.scaleX) * g, b.scaleY +=
                    c * g;
                else {
                    d = h.binarySearch(a, c, 3);
                    var e = a[d - 2],
                        f = a[d - 1],
                        k = a[d];
                    c = 1 - (c - k) / (a[d + -3] - k);
                    c = this.curves.getCurvePercent(d / 3 - 1, c);
                    k = (a[d + 2] - f) * c;
                    b.scaleX += (b.data.scaleX * (e + (a[d + 1] - e) * c) - b.scaleX) * g;
                    b.scaleY += (b.data.scaleY * (f + k) - b.scaleY) * g
                }
        }
    };
    d.ScaleTimeline = g;
    nge.spine = d
})(nge.spine);
(function(d) {
    var b = d.Curves,
        h = d.Animation,
        g = function(f) {
            this.curves = new b(f);
            this.frames = new d.Float32Array(5 * f);
            this.frames.length = 5 * f
        };
    g.prototype = {
        slotIndex: 0,
        getFrameCount: function() {
            return this.frames.length / 5
        },
        setFrame: function(b, a, c, d, g, h) {
            b *= 5;
            this.frames[b] = a;
            this.frames[b + 1] = c;
            this.frames[b + 2] = d;
            this.frames[b + 3] = g;
            this.frames[b + 4] = h
        },
        apply: function(b, a, c, d, g) {
            a = this.frames;
            if (!(c < a[0])) {
                if (c >= a[a.length - 5]) {
                    d = a.length - 1;
                    var e = a[d - 3];
                    var f = a[d - 2];
                    var k = a[d - 1];
                    a = a[d]
                } else {
                    e = h.binarySearch(a,
                        c, 5);
                    var n = a[e - 4];
                    f = a[e - 3];
                    k = a[e - 2];
                    d = a[e - 1];
                    var p = a[e];
                    c = 1 - (c - p) / (a[e - 5] - p);
                    c = this.curves.getCurvePercent(e / 5 - 1, c);
                    var r = a[e + 2] - f,
                        u = a[e + 3] - k;
                    p = a[e + 4] - d;
                    e = n + (a[e + 1] - n) * c;
                    f += r * c;
                    k += u * c;
                    a = d + p * c
                }
                b = b.slots[this.slotIndex];
                1 > g ? (b.r += (e - b.r) * g, b.g += (f - b.g) * g, b.b += (k - b.b) * g, b.a += (a - b.a) * g) : (b.r = e, b.g = f, b.b = k, b.a = a)
            }
        }
    };
    d.ColorTimeline = g;
    nge.spine = d
})(nge.spine);
(function(d) {
    var b = d.Curves,
        h = d.Animation,
        g = function(f) {
            this.curves = new b(f);
            this.frames = new d.Float32Array(f);
            this.frames.length = f;
            this.attachmentNames = [];
            this.attachmentNames.length = f
        };
    g.prototype = {
        slotIndex: 0,
        getFrameCount: function() {
            return this.frames.length
        },
        setFrame: function(b, a, c) {
            this.frames[b] = a;
            this.attachmentNames[b] = c
        },
        apply: function(b, a, c) {
            var d = this.frames;
            c < d[0] ? a > c && this.apply(b, a, Number.MAX_VALUE, null, 0) : (a > c && (a = -1), c = c >= d[d.length - 1] ? d.length - 1 : h.binarySearch1(d, c) - 1, d[c] < a || (c =
                this.attachmentNames[c], b.slots[this.slotIndex].setAttachment(c ? b.getAttachmentBySlotIndex(this.slotIndex, c) : null)))
        }
    };
    d.AttachmentTimeline = g;
    nge.spine = d
})(nge.spine);
(function(d) {
    var b = d.Animation,
        h = function(b) {
            this.frames = new d.Float32Array(b);
            this.frames.length = b;
            this.events = [];
            this.events.length = b
        };
    h.prototype = {
        getFrameCount: function() {
            return this.frames.length
        },
        setFrame: function(b, d) {
            this.frames[b] = d.time;
            this.events[b] = d
        },
        apply: function(d, f, a, c, e) {
            var g = f;
            if (c) {
                f = this.frames;
                var h = f.length;
                if (g > a) this.apply(d, g, Number.MAX_VALUE, c, e), g = -1;
                else if (g >= f[h - 1]) return;
                if (!(a < f[0])) {
                    if (g < f[0]) d = 0;
                    else
                        for (d = b.binarySearch1(f, g), e = f[d]; 0 < d && f[d - 1] === e;) d--;
                    for (e =
                        this.events; d < h && a >= f[d]; d++) c[c.length] = e[d]
                }
            }
        }
    };
    d.EventTimeline = h;
    nge.spine = d
})(nge.spine);
(function(d) {
    var b = d.Animation,
        h = function(b) {
            this.frames = new d.Float32Array(b);
            this.frames.length = b;
            this.drawOrders = [];
            this.drawOrders.length = b
        };
    h.prototype = {
        getFrameCount: function() {
            return this.frames.length
        },
        setFrame: function(b, d, a) {
            this.frames[b] = d;
            this.drawOrders[b] = a
        },
        apply: function(d, f, a) {
            f = this.frames;
            if (!(a < f[0])) {
                var c = a >= f[f.length - 1] ? f.length - 1 : b.binarySearch1(f, a) - 1;
                a = d.drawOrder;
                f = d.slots;
                c = this.drawOrders[c];
                var e;
                if (c) {
                    var g = 0;
                    for (e = c.length; g < e; g++) a[g] = d.slots[c[g]]
                } else
                    for (g = 0,
                        e = f.length; g < e; g++) a[g] = f[g]
            }
        }
    };
    d.DrawOrderTimeline = h;
    nge.spine = d
})(nge.spine);
(function(d) {
    var b = d.Curves,
        h = d.Animation,
        g = function(f) {
            this.curves = new b(f);
            this.frames = new d.Float32Array(f);
            this.frames.length = f;
            this.frameVertices = [];
            this.frameVertices.length = f
        };
    g.prototype = {
        slotIndex: 0,
        attachment: 0,
        getFrameCount: function() {
            return this.frames.length
        },
        setFrame: function(b, a, c) {
            this.frames[b] = a;
            this.frameVertices[b] = c
        },
        apply: function(b, a, c, e, g) {
            a = g;
            var f = b.slots[this.slotIndex];
            if ((b = f.attachment) && (b === this.attachment || b.inheritFFD && b.parentMesh === this.attachment)) {
                var k = this.frames;
                if (!(c < k[0])) {
                    var q = this.frameVertices;
                    b = q[0].length;
                    e = f.attachmentVertices;
                    e.length !== b && (f.attachmentVertices = e = new d.Float32Array(b), a = 1);
                    if (c >= k[k.length - 1])
                        if (g = q[k.length - 1], 1 > a)
                            for (q = 0; q < b; q++) e[q] += (g[q] - e[q]) * a;
                        else
                            for (q = 0; q < b; q++) e[q] = g[q];
                    else {
                        f = h.binarySearch1(k, c);
                        var n = k[f];
                        c = 1 - (c - n) / (k[f - 1] - n);
                        c = this.curves.getCurvePercent(f - 1, Phaser.Math.clamp(c, 0, 1));
                        k = q[f - 1];
                        f = q[f];
                        if (1 > a)
                            for (q = 0; q < b; q++) a = k[q], e[q] += (a + (f[q] - a) * c - e[q]) * g;
                        else
                            for (q = 0; q < b; q++) a = k[q], e[q] = a + (f[q] - a) * c
                    }
                }
            }
        }
    };
    d.FfdTimeline =
        g;
    nge.spine = d
})(nge.spine);
(function(d) {
    var b = d.Curves,
        h = d.Animation,
        g = function(f) {
            this.curves = new b(f);
            this.frames = new d.Float32Array(3 * f);
            this.frames.length = 3 * f
        };
    g.prototype = {
        ikConstraintIndex: 0,
        getFrameCount: function() {
            return this.frames.length / 3
        },
        setFrame: function(b, a, c, d) {
            b *= 3;
            this.frames[b] = a;
            this.frames[b + 1] = c;
            this.frames[b + 2] = d
        },
        apply: function(b, a, c, d, g) {
            a = this.frames;
            if (!(c < a[0]))
                if (b = b.ikConstraints[this.ikConstraintIndex], c >= a[a.length - 3]) b.mix += (a[a.length - 2] - b.mix) * g, b.bendDirection = a[a.length - 1];
                else {
                    d = h.binarySearch(a,
                        c, 3);
                    var e = a[d + -2],
                        f = a[d];
                    c = 1 - (c - f) / (a[d + -3] - f);
                    c = this.curves.getCurvePercent(d / 3 - 1, c);
                    b.mix += (e + (a[d + 1] - e) * c - b.mix) * g;
                    b.bendDirection = a[d + -1]
                }
        }
    };
    d.IkConstraintTimeline = g;
    nge.spine = d
})(nge.spine);
(function(d) {
    var b = d.Bone,
        h = d.Slot,
        g = d.IkConstraint,
        f = d.TransformConstraint,
        a = d.Utils,
        c = function() {
            this.bones = [];
            this.slots = [];
            this.skins = [];
            this.events = [];
            this.animations = [];
            this.ikConstraints = [];
            this.transformConstraints = []
        };
    c.prototype = {
        name: null,
        defaultSkin: null,
        width: 0,
        height: 0,
        version: null,
        hash: null,
        findBone: function(a) {
            for (var c = this.bones, b = 0, d = c.length; b < d; b++)
                if (c[b].name === a) return c[b];
            return null
        },
        findBoneIndex: function(a) {
            for (var c = this.bones, b = 0, d = c.length; b < d; b++)
                if (c[b].name === a) return b;
            return -1
        },
        findSlot: function(a) {
            for (var c = this.slots, b = 0, d = c.length; b < d; b++)
                if (c[b].name === a) return c[b];
            return null
        },
        findSlotIndex: function(a) {
            for (var c = this.slots, b = 0, d = c.length; b < d; b++)
                if (c[b].name === a) return b;
            return -1
        },
        findSkin: function(a) {
            for (var c = this.skins, b = 0, d = c.length; b < d; b++)
                if (c[b].name === a) return c[b];
            return null
        },
        findEvent: function(a) {
            for (var c = this.events, b = 0, d = c.length; b < d; b++)
                if (c[b].name === a) return c[b];
            return null
        },
        findAnimation: function(a) {
            for (var c = this.animations, b = 0, d = c.length; b <
                d; b++)
                if (c[b].name === a) return c[b];
            return null
        },
        findIkConstraint: function(a) {
            for (var c = this.ikConstraints, b = 0, d = c.length; b < d; b++)
                if (c[b].name === a) return c[b];
            return null
        },
        findTransformConstraints: function(a) {
            for (var c = this.transformConstraints, b = 0, d = c.length; b < d; b++)
                if (c[b].name === a) return c[b];
            return null
        }
    };
    d.SkeletonData = c;
    c = function(a) {
        this.data = a;
        this.bones = [];
        (function() {
            for (var c = 0, d = a.bones.length; c < d; c++) {
                var e = a.bones[c],
                    f = e.parent ? this.bones[a.bones.indexOf(e.parent)] : null;
                this.bones[c] =
                    new b(e, this, f)
            }
        }).call(this);
        (function() {
            this.slots = [];
            this.drawOrder = [];
            for (var c = 0, b = a.slots.length; c < b; c++) {
                var d = a.slots[c],
                    e = this.bones[a.bones.indexOf(d.boneData)];
                d = new h(d, e);
                this.slots[c] = d;
                this.drawOrder[c] = d
            }
        }).call(this);
        (function() {
            this.ikConstraints = [];
            for (var c = 0, b = a.ikConstraints.length; c < b; c++) this.ikConstraints[c] = new g(a.ikConstraints[c], this)
        }).call(this);
        (function() {
            this.transformConstraints = [];
            for (var c = 0, b = a.transformConstraints.length; c < b; c++) this.transformConstraints[c] =
                new f(a.transformConstraints[c], this)
        }).call(this);
        this.cache = [];
        this.updateCache()
    };
    c.prototype = {
        x: 0,
        y: 0,
        skin: null,
        r: 1,
        g: 1,
        b: 1,
        a: 1,
        time: 0,
        flipX: !1,
        flipY: !1,
        updateBonesCache: function(a) {
            for (var c = this.bones, b = this.ikConstraints, d = b.length, e = 0, f = c.length; e < f; e++) {
                var g = c[e];
                a[a.length] = g;
                for (var h = 0; h < d; h++) {
                    var u = b[h];
                    if (g === u.bones[u.bones.length - 1]) {
                        a[a.length] = u;
                        break
                    }
                }
            }
        },
        updateTransformConstraintsCache: function(a) {
            for (var c = this.transformConstraints, b = c.length, d = 0; d < b; d++)
                for (var e = c[d], f = a.length -
                        1; 0 <= f; f--) {
                    var g = a[f];
                    if (g === e.bone || g === e.target) {
                        a.splice(f + 1, 0, e);
                        break
                    }
                }
        },
        updateCache: function() {
            var a = this.cache;
            a.length = 0;
            this.updateBonesCache(a);
            this.updateTransformConstraintsCache(a)
        },
        updateWorldTransform: function() {
            for (var a = this.cache, c = 0, b = a.length; c < b; c++) a[c].update()
        },
        setToSetupPose: function() {
            this.setBonesToSetupPose();
            this.setSlotsToSetupPose()
        },
        setBonesToSetupPose: function() {
            var a = this.bones,
                c;
            var b = 0;
            for (c = a.length; b < c; b++) a[b].setToSetupPose();
            var d = this.ikConstraints;
            b = 0;
            for (c =
                d.length; b < c; b++) a = d[b], a.bendDirection = a.data.bendDirection, a.mix = a.data.mix;
            d = this.transformConstraints;
            b = 0;
            for (c = d.length; b < c; b++) a = d[b], a.translateMix = a.data.translateMix, a.x = a.data.x, a.y = a.data.y
        },
        setSlotsToSetupPose: function() {
            for (var a = this.slots, c = this.drawOrder, b = 0, d = a.length; b < d; b++) c[b] = a[b], a[b].setToSetupPose(b)
        },
        getRootBone: function() {
            return this.bones.length ? this.bones[0] : null
        },
        findBone: function(a) {
            for (var c = this.bones, b = 0, d = c.length; b < d; b++)
                if (c[b].data.name === a) return c[b];
            return null
        },
        findBoneIndex: function(a) {
            for (var c = this.bones, b = 0, d = c.length; b < d; b++)
                if (c[b].data.name === a) return b;
            return -1
        },
        findSlot: function(a) {
            for (var c = this.slots, b = 0, d = c.length; b < d; b++)
                if (c[b].data.name === a) return c[b];
            return null
        },
        findSlotIndex: function(a) {
            for (var c = this.slots, b = 0, d = c.length; b < d; b++)
                if (c[b].data.name === a) return b;
            return -1
        },
        setSkinByName: function(c) {
            var b = this.data.findSkin(c);
            a.assert(b, "Skin not found: " + c);
            this.setSkin(b)
        },
        setSkin: function(a) {
            a && function() {
                if (this.skin) a._attachAll(this,
                    this.skin);
                else
                    for (var c = this.slots, b = this.slots.length, d = 0; d < b; d++) {
                        var e = c[d],
                            f = e.data.attachmentName;
                        f && (f = a.getAttachment(d, f)) && e.setAttachment(f)
                    }
            }();
            this.skin = a
        },
        getAttachmentBySlotName: function(a, c) {
            a = this.data.findSlotIndex(a);
            return this.getAttachmentBySlotIndex(a, c)
        },
        getAttachmentBySlotIndex: function(a, c) {
            if (this.skin) {
                var b = this.skin.getAttachment(a, c);
                if (b) return b
            }
            return this.data.defaultSkin ? this.data.defaultSkin.getAttachment(a, c) : null
        },
        setAttachment: function(c, b) {
            for (var d = this.slots,
                    e = 0, f = d.length; e < f; e++) {
                var g = d[e];
                if (g.data.name === c) {
                    d = null;
                    b && (d = this.getAttachmentBySlotIndex(e, b), a.assert(d, "Attachment not found: " + b + ", for slot: " + c));
                    g.setAttachment(d);
                    return
                }
            }
            a.error("Slot not found: " + c)
        },
        findIkConstraint: function(a) {
            for (var c = this.ikConstraints, b = 0, d = c.length; b < d; b++)
                if (c[b].data.name === a) return c[b];
            return null
        },
        findTransformConstraint: function(a) {
            for (var c = this.transformConstraints, b = 0, d = c.length; b < d; b++)
                if (c[b].data.name === a) return c[b];
            return null
        },
        update: function(a) {
            this.time +=
                a
        }
    };
    d.Skeleton = c;
    nge.spine = d
})(nge.spine);
(function(d) {
    var b = function(b) {
        this.name = b
    };
    b.prototype = {
        intValue: 0,
        floatValue: 0,
        stringValue: null
    };
    d.EventData = b;
    b = function(b, d) {
        this.time = b;
        this.data = d
    };
    b.prototype = {
        intValue: 0,
        floatValue: 0,
        stringValue: null
    };
    d.Event = b;
    nge.spine = d
})(nge.spine);
(function(d) {
    var b = {
        region: 0,
        boundingbox: 1,
        mesh: 2,
        weightedmesh: 3,
        linkedmesh: 4,
        weightedlinkedmesh: 5
    };
    d.AttachmentType = b;
    var h = function(b) {
        this.name = b;
        this.offset = new d.Float32Array(8);
        this.offset.length = 8;
        this.uvs = new d.Float32Array(8);
        this.uvs.length = 8
    };
    h.prototype = {
        type: b.region,
        x: 0,
        y: 0,
        rotation: 0,
        scaleX: 1,
        scaleY: 1,
        width: 0,
        height: 0,
        r: 1,
        g: 1,
        b: 1,
        a: 1,
        path: null,
        rendererObject: null,
        regionOffsetX: 0,
        regionOffsetY: 0,
        regionWidth: 0,
        regionHeight: 0,
        regionRotate: !1,
        regionOriginalWidth: 0,
        regionOriginalHeight: 0,
        setUVs: function(b, d, a, c, e) {
            var f = this.uvs;
            e ? (f[2] = b, f[3] = c, f[4] = b, f[5] = d, f[6] = a, f[7] = d, f[0] = a, f[1] = c) : (f[0] = b, f[1] = c, f[2] = b, f[3] = d, f[4] = a, f[5] = d, f[6] = a, f[7] = c)
        },
        updateOffset: function() {
            var b = this.width / this.regionOriginalWidth * this.scaleX,
                d = this.height / this.regionOriginalHeight * this.scaleY,
                a = -this.width / 2 * this.scaleX + this.regionOffsetX * b,
                c = -this.height / 2 * this.scaleY + this.regionOffsetY * d,
                e = a + this.regionWidth * b;
            b = c + this.regionHeight * d;
            d = this.rotation * Math.degRad;
            var h = Math.cos(d),
                l = Math.sin(d);
            d = a *
                h + this.x;
            a *= l;
            var m = c * h + this.y;
            c *= l;
            var q = e * h + this.x;
            e *= l;
            h = b * h + this.y;
            b *= l;
            l = this.offset;
            l[0] = d - c;
            l[1] = m + a;
            l[2] = d - b;
            l[3] = h + a;
            l[4] = q - b;
            l[5] = h + e;
            l[6] = q - c;
            l[7] = m + e
        },
        computeVertices: function(b, d, a, c) {
            b += a.worldX;
            d += a.worldY;
            var e = a.a,
                f = a.b,
                g = a.c;
            a = a.d;
            var h = this.offset;
            c[0] = h[0] * e + h[1] * f + b;
            c[1] = h[0] * g + h[1] * a + d;
            c[2] = h[2] * e + h[3] * f + b;
            c[3] = h[2] * g + h[3] * a + d;
            c[4] = h[4] * e + h[4] * f + b;
            c[4] = h[4] * g + h[4] * a + d;
            c[6] = h[6] * e + h[7] * f + b;
            c[7] = h[6] * g + h[7] * a + d
        }
    };
    d.RegionAttachment = h;
    h = function(b) {
        this.name = b
    };
    h.prototype = {
        type: b.mesh,
        vertices: null,
        uvs: null,
        regionUVs: null,
        triangles: null,
        hullLength: 0,
        r: 1,
        g: 1,
        b: 1,
        a: 1,
        path: null,
        inheritFFD: !0,
        parentMesh: null,
        rendererObject: null,
        regionU: 0,
        regionV: 0,
        regionU2: 0,
        regionV2: 0,
        regionRotate: !1,
        regionOffsetX: 0,
        regionOffsetY: 0,
        regionWidth: 0,
        regionHeight: 0,
        regionOriginalWidth: 0,
        regionOriginalHeight: 0,
        edges: null,
        width: 0,
        height: 0,
        updateUVs: function() {
            var b = this.regionU2 - this.regionU,
                f = this.regionV2 - this.regionV,
                a = this.regionUVs.length;
            this.uvs && this.uvs.length === a || (this.uvs = new d.Float32Array(a));
            for (var c = 0; c < a; c += 2) this.regionRotate ? (this.uvs[c] = this.regionU + this.regionUVs[c + 1] * b, this.uvs[c + 1] = this.regionV + f - this.regionUVs[c] * f) : (this.uvs[c] = this.regionU + this.regionUVs[c] * b, this.uvs[c + 1] = this.regionV + this.regionUVs[c + 1] * f)
        },
        computeWorldVertices: function(b, d, a, c) {
            var e = a.bone;
            b += e.worldX;
            d += e.worldY;
            var f = e.a,
                g = e.b,
                h = e.c;
            e = e.d;
            var q = this.vertices,
                n = q.length;
            a.attachmentVertices.length === n && (q = a.attachmentVertices);
            for (a = 0; a < n; a += 2) {
                var p = q[a],
                    r = q[a + 1];
                c[a] = p * f + r * g + b;
                c[a + 1] = p * h + r * e + d
            }
        },
        setParentMesh: function(b) {
            if (this.parentMesh =
                b) this.vertices = b.vertices, this.regionUVs = b.regionUVs, this.triangles = b.triangles, this.hullLength = b.hullLength, this.edges = b.edges, this.width = b.width, this.height = b.height
        }
    };
    d.MeshAttachment = h;
    h = function(b) {
        this.name = b
    };
    h.prototype = {
        type: b.weightedmesh,
        bones: null,
        weights: null,
        uvs: null,
        regionUVs: null,
        triangles: null,
        hullLength: 0,
        r: 1,
        g: 1,
        b: 1,
        a: 1,
        path: null,
        inheritFFD: !0,
        parentMesh: null,
        rendererObject: null,
        regionU: 0,
        regionV: 0,
        regionU2: 0,
        regionV2: 0,
        regionRotate: !1,
        regionOffsetX: 0,
        regionOffsetY: 0,
        regionWidth: 0,
        regionHeight: 0,
        regionOriginalWidth: 0,
        regionOriginalHeight: 0,
        edges: null,
        width: 0,
        height: 0,
        updateUVs: function(b, f, a, c, e) {
            b = this.regionU2 - this.regionU;
            f = this.regionV2 - this.regionV;
            a = this.regionUVs.length;
            this.uvs && this.uvs.length === a || (this.uvs = new d.Float32Array(a));
            for (c = 0; c < a; c += 2) this.regionRotate ? (this.uvs[c] = this.regionU + this.regionUVs[c + 1] * b, this.uvs[c + 1] = this.regionV + f - this.regionUVs[c] * f) : (this.uvs[c] = this.regionU + this.regionUVs[c] * b, this.uvs[c + 1] = this.regionV + this.regionUVs[c + 1] * f)
        },
        computeWorldVertices: function(b,
            d, a, c) {
            var e = a.bone.skeleton.bones,
                f = this.weights,
                g = this.bones,
                h = function(a) {
                    for (var h = 0, k = 0, l = 0, m, q, n, p, z, B, A; k < a; h += 2) {
                        n = q = 0;
                        for (m = g[k++] + k; k < m; k++, l += 3) p = e[g[k]], z = f[l], B = f[l + 1], A = f[l + 2], q += (z * p.a + B * p.b + p.worldX) * A, n += (z * p.c + B * p.d + p.worldY) * A;
                        c[h] = q + b;
                        c[h + 1] = n + d
                    }
                },
                q = function(h) {
                    for (var k = 0, l = 0, m = 0, q = 0, n, p, y, z, B, A, C, D = a.attachmentVertices; l < h; k += 2) {
                        y = p = 0;
                        for (n = g[l++] + l; l < n; l++) z = e[g[l]], B = f[m] + D[q], A = f[m + 1] + D[q + 1], C = f[m + 2], p += (B * z.a + A * z.b + z.worldX) * C, y += (B * z.c + A * z.d + z.worldY) * C, m += 3, q += 2;
                        c[k] = p +
                            b;
                        c[k + 1] = y + d
                    }
                },
                n = g.length;
            a.attachmentVertices.length ? q(n) : h(n)
        },
        setParentMesh: function(b) {
            if (this.parentMesh = b) this.bones = b.bones, this.weights = b.weights, this.regionUVs = b.regionUVs, this.triangles = b.triangles, this.hullLength = b.hullLength, this.edges = b.edges, this.width = b.width, this.height = b.height
        }
    };
    d.WeightedMeshAttachment = h;
    h = function(b) {
        this.name = b;
        this.vertices = new d.Float32Array
    };
    h.prototype = {
        type: b.boundingbox,
        computeWorldVertices: function(b, d, a, c) {
            b += a.worldX;
            d += a.worldY;
            var e = a.a,
                f = a.b,
                g = a.c;
            a = a.d;
            for (var h = this.vertices, q = 0, n = h.length; q < n; q += 2) {
                var p = h[q],
                    r = h[q + 1];
                c[q] = p * e + r * f + b;
                c[q + 1] = p * g + r * a + d
            }
        }
    };
    d.BoundingBoxAttachment = h;
    nge.spine = d
})(nge.spine);
(function(d) {
    var b = d.TransformMode,
        h = d.AttachmentType,
        g = d.Utils,
        f = function(a) {
            this.attachmentLoader = a;
            this.linkedMeshes = []
        };
    f.transformModeFromString = function(a) {
        a = a.toLowerCase();
        switch (a) {
            case "normal":
                return b.NORMAL;
            case "onlytranslation":
                return b.ONLY_TRANSLATION;
            case "norotationorreflection":
                return b.NO_ROTATION_OR_REFLACTION;
            case "noscale":
                return b.NO_SCALE;
            case "noscaleorreflection":
                return b.NO_SCALE_OR_REFLECTION;
            default:
                g.error("Unknown transform mode: " + a)
        }
    };
    f.prototype = {
        scale: 1,
        readSlots: function(a) {
            for (var c,
                    b = a.skeletonData, f = a.root.slots, h = 0, m = f.length; h < m; h++) {
                var q = f[h];
                c = b.findBone(q.bone);
                g.assert("Slot bone not found: " + q.bone);
                c = new d.SlotData(q.name, c);
                var n = q.color;
                n && (c.r = this.toColor(n, 0), c.g = this.toColor(n, 1), c.b = this.toColor(n, 2), c.a = this.toColor(n, 3));
                c.attachmentName = q.attachment;
                c.blendMode = d.BlendMode[q.blend || "normal"];
                b.slots[h] = c
            }
            return a
        },
        readBones: function(a) {
            a.bones = a.root.bones;
            for (var c = a.bones, b, h = a.skeletonData, l = 0, m = c.length; l < m; l++) {
                var q = c[l];
                b = null;
                q.parent && (b = h.findBone(q.parent),
                    g.assert(b, "Parent bone not found: " + q.parent));
                b = new d.BoneData(q.name, b);
                b.length = (q.length || 0) * this.scale;
                b.x = (q.x || 0) * this.scale;
                b.y = (q.y || 0) * this.scale;
                b.rotation = q.rotation || 0;
                b.scaleX = Object.prototype.hasOwnProperty.call(q, "scaleX") ? q.scaleX : 1;
                b.scaleY = Object.prototype.hasOwnProperty.call(q, "scaleY") ? q.scaleY : 1;
                q = Object.prototype.hasOwnProperty.call(q, "transform") ? q.transform : "normal";
                q = f.transformModeFromString(q);
                b.transformMode = q;
                h.bones[l] = b
            }
            return a
        },
        readIkConstraints: function(a) {
            var b =
                a.skeletonData,
                e = a.root.ik;
            if (e)
                for (var f = 0, h = e.length; f < h; f++) {
                    var m = e[f];
                    var q = new d.IkConstraintData(m.name);
                    var n = m.bones;
                    for (var p = 0, r = n.length; p < r; p++) {
                        var u = b.findBone(n[p]);
                        g.assert(u, "IK bone not found: " + n[p]);
                        q.bones[p] = u
                    }
                    q.target = b.findBone(m.target);
                    g.assert(q.target, "Target bone not found: " + m.target);
                    q.bendDirection = !Object.prototype.hasOwnProperty.call(m, "bendPositive") || m.bendPositive ? 1 : -1;
                    q.mix = Object.prototype.hasOwnProperty.call(m, "mix") ? m.mix : 1;
                    b.ikConstraints[f] = q
                }
            return a
        },
        readTransformConstraints: function(a) {
            var b = a.ikMap,
                e = a.skeletonData,
                f = a.root.transform;
            if (f)
                for (var h = 0, m = f.length; h < m; h++) {
                    var q = f[h],
                        n = new d.TransformConstraintData(q.name);
                    if (1 < q.bones.length) throw Error("Do something about it");
                    !q.bone && 0 < q.bones.length && (q.bone = q.bones[0]);
                    n.bone = e.findBone(q.bone);
                    g.assert(n.bone, "Bone not found: " + q.bone);
                    n.target = e.findBone(q.target);
                    g.assert(n.target, "Target bone not found: " + q.target);
                    n.mix = Object.prototype.hasOwnProperty.call(q, "translateMix") ? b.translateMix :
                        1;
                    n.x = (q.x || 0) * this.scale;
                    n.y = (q.y || 0) * this.scale;
                    e.transformConstraints[h] = n
                }
            return a
        },
        readSkins: function(a) {
            var b = a.slotName,
                e = a.skeletonData,
                f = a.root.skins,
                g;
            for (g in f)
                if (Object.prototype.hasOwnProperty.call(f, g)) {
                    var h = f[g];
                    var q = new d.Skin(g);
                    for (b in h)
                        if (Object.prototype.hasOwnProperty.call(h, b)) {
                            var n = e.findSlotIndex(b),
                                p = h[b],
                                r;
                            for (r in p)
                                if (Object.prototype.hasOwnProperty.call(p, r)) {
                                    var u = this.readAttachment(q, n, r, p[r]);
                                    u && q.addAttachment(n, r, u)
                                }
                        } e.skins[e.skins.length] = q;
                    "default" === q.name &&
                        (e.defaultSkin = q)
                } return a
        },
        readLinkedMeshes: function(a) {
            for (var b, d = a.skeletonData, f = 0, h = this.linkedMeshes.length; f < h; f++) {
                var m = this.linkedMeshes[f];
                b = m.skin ? d.findSkin(m.skin) : d.defaultSkin;
                g.assert(b, "Skin not found: " + m.skin);
                b = b.getAttachment(m.slotIndex, m.parent);
                g.assert(b, "Parent mesh not found: " + m.parent);
                m.mesh.setParentMesh(b);
                m.mesh.updateUVs()
            }
            this.linkedMeshes.length = 0;
            return a
        },
        readEvents: function(a) {
            var b = a.root.events,
                e;
            for (e in b)
                if (Object.prototype.hasOwnProperty.call(b, e)) {
                    var f =
                        b[e],
                        g = new d.EventData(e);
                    g.intValue = f.int || 0;
                    g.floatValue = f.float || 0;
                    g.stringValue = f.string || null;
                    a.skeletonData.events[a.skeletonData.events.length] = g
                } return a
        },
        readAnimations: function(a) {
            var b = a.root.animations,
                d;
            for (d in b) Object.prototype.hasOwnProperty.call(b, d) && this.readAnimation(d, b[d], a.skeletonData);
            return a
        },
        readSkeletonData: function(a, b) {
            var c = new d.SkeletonData;
            c.name = b;
            if (b = a.skeleton) c.hash = b.hash, c.version = b.spine, c.width = b.width || 0, c.height = b.height || 0;
            b = {};
            b.root = a;
            b.skeletonData =
                c;
            b = this.readBones(b);
            b = this.readIkConstraints(b);
            b = this.readTransformConstraints(b);
            b = this.readSlots(b);
            b = this.readSkins(b);
            b = this.readLinkedMeshes(b);
            b = this.readEvents(b);
            b = this.readAnimations(b);
            return b.skeletonData
        },
        readRegion: function(a) {
            var b = a.path,
                d = a.map,
                f = a.scale;
            a = this.attachmentLoader.newRegionAttachment(a.skin, a.name, b);
            if (!a) return null;
            a.path = b;
            a.x = (d.x || 0) * f;
            a.y = (d.y || 0) * f;
            a.scaleX = Object.prototype.hasOwnProperty.call(d, "scaleX") ? d.scaleX : 1;
            a.scaleY = Object.prototype.hasOwnProperty.call(d,
                "scaleY") ? d.scaleY : 1;
            a.rotation = d.rotation || 0;
            a.width = (d.width || 0) * f;
            a.height = (d.height || 0) * f;
            if (b = d.color) a.r = this.toColor(b, 0), a.g = this.toColor(b, 1), a.b = this.toColor(b, 2), a.a = this.toColor(b, 3);
            a.updateOffset();
            return a
        },
        readAttachmentMesh: function(a) {
            var b = a.path,
                d = a.map,
                f = a.scale,
                g = a.slotIndex;
            a = this.attachmentLoader.newMeshAttachment(a.skin, a.name, b);
            if (!a) return null;
            a.path = b;
            if (b = d.color) a.r = this.toColor(b, 0), a.g = this.toColor(b, 1), a.b = this.toColor(b, 2), a.a = this.toColor(b, 3);
            a.width = (d.width ||
                0) * f;
            a.height = (d.height || 0) * f;
            d.parent ? (a.inheritFFD = Object.prototype.hasOwnProperty.call(d, "ffd") ? d.ffd : !0, this.linkedMeshes[this.linkedMeshes.length] = {
                mesh: a,
                skin: d.skin,
                slotIndex: g,
                parent: d.parent
            }) : (a.vertices = this.getFloatArray(d, "vertices", f), a.triangles = this.getUint32Array(d, "triangles"), a.regionUVs = this.getFloatArray(d, "uvs", 1), a.updateUVs(), a.hullLength = 2 * (d.hull || 0), d.edges && (a.edges = this.getUint16Array(d, "edges")));
            return a
        },
        readAttachmentWeightedMesh: function(a) {
            var b = a.path,
                e = a.map,
                f =
                a.scale;
            var g = a.slotIndex;
            a = this.attachmentLoader.newWeightedMeshAttachment(a.skin, a.name, b);
            if (!a) return null;
            a.path = b;
            if (b = e.color) a.r = this.toColor(b, 0), a.g = this.toColor(b, 1), a.b = this.toColor(b, 2), a.a = this.toColor(b, 3);
            a.width = (e.width || 0) * f;
            a.height = (e.height || 0) * f;
            if (e.parent) a.inheritFFD = Object.prototype.hasOwnProperty.call(e, "ffd") ? e.ffd : !0, this.linkedMeshes[this.linkedMeshes.length] = {
                mesh: a,
                skin: e.skin,
                slotIndex: g,
                parent: e.parent
            };
            else {
                b = this.getFloatArray(e, "uvs", 1);
                g = this.getFloatArray(e,
                    "vertices", 1);
                for (var h = new d.Float32Array(9 * b.length), q = new d.Uint32Array(3 * b.length), n = 0, p = 0, r = 0, u = g.length; n < u;) {
                    var t = g[n++] | 0;
                    q[p++] = t;
                    for (t = n + 4 * t; n < t;) q[p++] = g[n], h[r++] = g[n + 1] * f, h[r++] = g[n + 2] * f, h[r++] = g[n + 3], n += 4
                }
                a.bones = q;
                a.weights = h;
                a.triangles = this.getUint32Array(e, "triangles");
                a.regionUVs = b;
                a.updateUVs();
                a.hullLength = 2 * (e.hull || 0);
                e.edges && (a.edges = this.getUint16Array(e, "edges"))
            }
            return a
        },
        readAttachmentBoundingBox: function(a) {
            var b = a.map;
            var e = a.scale;
            a = this.attachmentLoader.newBoundingBoxAttachment(a.skin,
                name);
            b = b.vertices;
            a.vertices = new d.Float32Array(b.length);
            for (var f = 0, g = b.length; f < g; f++) a.vertices[f] = b[f] * e;
            return a
        },
        readAttachment: function(a, b, d, f) {
            d = f.name || d;
            var c = f.type || "region";
            "skinnedmesh" === c && (c = "weightedmesh");
            c = h[c];
            var e = f.path || d,
                k = this.scale,
                n = {};
            n.skin = a;
            n.slotIndex = b;
            n.name = d;
            n.map = f;
            n.type = c;
            n.path = e;
            n.scale = k;
            switch (c) {
                case h.region:
                    return this.readRegion(n);
                case h.mesh:
                case h.linkedmesh:
                    return this.readAttachmentMesh(n);
                case h.weightedmesh:
                case h.weightedlinkedmesh:
                    return this.readAttachmentWeightedMesh(n);
                case h.boundingbox:
                    return this.readAttachmentBoundingBox(n);
                default:
                    g.error("Unknown attachment type: " + c)
            }
        },
        readAnimation: function(a, b, e) {
            var c = [],
                f = 0,
                m, q, n, p, r, u, t, v, w, x, y, z, B;
            (function() {
                var h = b.slots;
                for (r in h)
                    if (Object.prototype.hasOwnProperty.call(h, r))
                        for (w in u = h[r], t = e.findSlotIndex(r), u)
                            if (Object.prototype.hasOwnProperty.call(u, w))
                                if (y = u[w], "color" === w) {
                                    v = new d.ColorTimeline(y.length);
                                    v.slotIndex = t;
                                    m = B = 0;
                                    for (q = y.length; m < q; m++) {
                                        z = y[m];
                                        var k = z.color,
                                            l = this.toColor(k, 0),
                                            n = this.toColor(k,
                                                1),
                                            p = this.toColor(k, 2);
                                        k = this.toColor(k, 3);
                                        v.setFrame(B, z.time, l, n, p, k);
                                        this.readCurve(v, B, z);
                                        B++
                                    }
                                    c[c.length] = v;
                                    f = Math.max(f, v.frames[5 * v.getFrameCount() - 5])
                                } else if ("attachment" === w) {
                    if (1 === y.length && null === y[0].name && -1 !== a.indexOf("_static")) {
                        l = y[0];
                        n = {};
                        for (var x in l) n[x] = l[x];
                        n.time += .5;
                        y.push(n)
                    }
                    v = new d.AttachmentTimeline(y.length);
                    v.slotIndex = t;
                    for (m = B = 0; m < y.length; m++) z = y[m], v.setFrame(B++, z.time, z.name);
                    c.push(v);
                    f = Math.max(f, v.frames[v.getFrameCount() - 1])
                } else g.error("Invalid timeline type for a slot: " +
                    w + " (" + r + ")")
            }).call(this);
            (function() {
                var a = b.bones,
                    h;
                for (h in a)
                    if (Object.prototype.hasOwnProperty.call(a, h)) {
                        var k = e.findBoneIndex(h);
                        g.assert(-1 !== k, "Bone not found: " + h);
                        var l = a[h];
                        for (w in l)
                            if (Object.prototype.hasOwnProperty.call(l, w))
                                if (y = l[w], "rotate" === w) {
                                    v = new d.RotateTimeline(y.length);
                                    v.boneIndex = k;
                                    m = B = 0;
                                    for (q = y.length; m < q; m++) z = y[m], v.setFrame(B, z.time, z.angle), this.readCurve(v, B, z), B++;
                                    c[c.length] = v;
                                    f = Math.max(f, v.frames[2 * v.getFrameCount() - 2])
                                } else if ("translate" === w || "scale" === w) {
                            var n =
                                1;
                            "scale" === w ? v = new d.ScaleTimeline(y.length) : (v = new d.TranslateTimeline(y.length), n = this.scale);
                            v.boneIndex = k;
                            m = B = 0;
                            for (q = y.length; m < q; m++) z = y[m], v.setFrame(B, z.time, (z.x || 0) * n, (z.y || 0) * n), this.readCurve(v, B, z), B++;
                            c[c.length] = v;
                            f = Math.max(f, v.frames[3 * v.getFrameCount() - 3])
                        } else g.error("Invalid timeline type for a bone: " + w + " (" + h + ")")
                    }
            }).call(this);
            (function() {
                var a = b.ik,
                    g;
                for (g in a)
                    if (Object.prototype.hasOwnProperty.call(a, g)) {
                        var h = e.findIkConstraint(g);
                        y = a[g];
                        v = new d.IkConstraintTimeline(y.length);
                        v.ikConstraintIndex = e.ikConstraints.indexOf(h);
                        m = B = 0;
                        for (q = y.length; m < q; m++) {
                            z = y[m];
                            h = Object.prototype.hasOwnProperty.call(z, "mix") ? z.mix : 1;
                            var k = !Object.prototype.hasOwnProperty.call(z, "bendPositive") || z.bendPositive ? 1 : -1;
                            v.setFrame(B, z.time, h, k);
                            this.readCurve(v, B, z);
                            B++
                        }
                        c[c.length] = v;
                        f = Math.max(f, v.frames[3 * v.getFrameCount() - 3])
                    }
            }).call(this);
            (function() {
                var a = b.ffd,
                    k;
                for (k in a) {
                    var l = e.findSkin(k);
                    u = a[k];
                    for (r in u) {
                        t = e.findSlotIndex(r);
                        var w = u[r],
                            E;
                        for (E in w) {
                            y = w[E];
                            v = new d.FfdTimeline(y.length);
                            var K = l.getAttachment(t, E);
                            g.assert(K, "FFD attachment not found: " + E);
                            v.slotIndex = t;
                            v.attachment = K;
                            var I = K.type === h.mesh;
                            var H = I ? K.vertices.length : K.weights.length / 3 * 2;
                            m = B = 0;
                            for (q = y.length; m < q; m++) {
                                z = y[m];
                                if (z.vertices) {
                                    var G = z.vertices;
                                    x = new d.Float32Array(H);
                                    x.length = H;
                                    var F = z.offset || 0;
                                    p = G.length;
                                    if (1 === this.scale)
                                        for (n = 0; n < p; n++) x[n + F] = G[n];
                                    else
                                        for (n = 0; n < p; n++) x[n + F] = G[n] * this.scale;
                                    if (I)
                                        for (G = K.vertices, n = 0, p = x.length; n < p; n++) x[n] += G[n]
                                } else I ? x = K.vertices : (x = new d.Float32Array(H), x.length =
                                    H);
                                v.setFrame(B, z.time, x);
                                this.readCurve(v, B, z);
                                B++
                            }
                            c[c.length] = v;
                            f = Math.max(f, v.frames[v.getFrameCount() - 1])
                        }
                    }
                }
            }).call(this);
            (function() {
                var a = b.drawOrder;
                a || (a = b.draworder);
                if (a) {
                    v = new d.DrawOrderTimeline(a.length);
                    var h = e.slots.length;
                    m = B = 0;
                    for (q = a.length; m < q; m++) {
                        var k = a[m],
                            l = null;
                        if (k.offsets) {
                            l = new d.Uint32Array(h);
                            l.length = h;
                            for (n = h - 1; 0 <= n; n--) l[n] = 4294967295;
                            var r = k.offsets,
                                u = new d.Uint32Array(h - r.length);
                            u.length = h - r.length;
                            var w = 0,
                                x = 0;
                            n = 0;
                            for (p = r.length; n < p; n++) {
                                var y = r[n];
                                t = e.findSlotIndex(y.slot);
                                for (g.assert(-1 !== t, "Slot not found: " + y.slot); w !== t;) u[x++] = w++;
                                l[w + y.offset] = w++
                            }
                            for (; w < h;) u[x++] = w++;
                            for (n = h - 1; 0 <= n; n--) 4294967295 === l[n] && (l[n] = u[--x])
                        }
                        v.setFrame(B++, k.time, l)
                    }
                    c[c.length] = v;
                    f = Math.max(f, v.frames[v.getFrameCount() - 1])
                }
            }).call(this);
            (function() {
                var a = b.events;
                if (a) {
                    v = new d.EventTimeline(a.length);
                    m = B = 0;
                    for (q = a.length; m < q; m++) {
                        var h = a[m],
                            k = e.findEvent(h.name);
                        g.assert(k, "Event not found: " + h.name);
                        var l = new d.Event(h.time, k);
                        l.intValue = Object.prototype.hasOwnProperty.call(h, "int") ?
                            h.int : k.intValue;
                        l.floatValue = Object.prototype.hasOwnProperty.call(h, "float") ? h.float : k.floatValue;
                        l.stringValue = Object.prototype.hasOwnProperty.call(h, "string") ? h.string : k.stringValue;
                        v.setFrame(B++, l)
                    }
                    c[c.length] = v;
                    f = Math.max(f, v.frames[v.getFrameCount() - 1])
                }
            }).call(this);
            e.animations[e.animations.length] = new d.Animation(a, c, f)
        },
        readCurve: function(a, b, d) {
            (d = d.curve) ? "stepped" === d ? a.curves.setStepped(b) : d instanceof Array && a.curves.setCurve(b, d[0], d[1], d[2], d[3]): a.curves.setLinear(b)
        },
        toColor: function(a,
            b) {
            g.assert(8 === a.length, "Color hexidecimal length must be 8, recieved: " + a);
            return parseInt(a.substring(2 * b, 2 * b + 2), 16) / 255
        },
        getFloatArray: function(a, b, e) {
            a = a[b];
            b = new d.Float32Array(a.length);
            for (var c = 0, f = a.length; c < f; c++) b[c] = a[c] * e;
            return b
        },
        getUint32Array: function(a, b) {
            a = a[b];
            b = new d.Uint32Array(a.length);
            for (var c = 0, f = a.length; c < f; c++) b[c] = a[c] | 0;
            return b
        },
        getUint16Array: function(a, b) {
            a = a[b];
            b = new d.Uint16Array(a.length);
            for (var c = 0, f = a.length; c < f; c++) b[c] = a[c] | 0;
            return b
        }
    };
    d.SkeletonJson = f;
    nge.spine = d
})(nge.spine);
(function(d) {
    var b = d.Utils,
        h = d.RegionAttachment,
        g = d.MeshAttachment,
        f = d.WeightedMeshAttachment,
        a = d.BoundingBoxAttachment,
        c = function() {};
    c.prototype = {
        name: null,
        format: null,
        minFilter: null,
        magFilter: null,
        uWrap: null,
        vWrap: null,
        rendererObject: null,
        width: 0,
        height: 0
    };
    var e = function() {};
    e.prototype = {
        page: null,
        name: null,
        x: 0,
        y: 0,
        width: 0,
        height: 0,
        u: 0,
        v: 0,
        u2: 0,
        v2: 0,
        offsetX: 0,
        offsetY: 0,
        originalWidth: 0,
        originalHeight: 0,
        index: 0,
        rotate: !1,
        splits: null,
        pads: null
    };
    var k = function(a) {
        this.lines = a.split(/\r\n|\r|\n/)
    };
    k.prototype = {
        index: 0,
        trim: function(a) {
            return a.replace(/^\s+|\s+$/g, "")
        },
        readLine: function() {
            return this.index >= this.lines.length ? null : this.lines[this.index++]
        },
        readValue: function() {
            var a = this.readLine(),
                c = a.indexOf(":");
            b.assert(-1 !== c, "Invalid line: " + a);
            return this.trim(a.substring(c + 1))
        },
        readTuple: function(a) {
            var c = this.readLine(),
                d = c.indexOf(":");
            b.assert(-1 !== d, "Invalid line: " + c);
            var e = 0;
            for (d += 1; 3 > e; e++) {
                var f = c.indexOf(",", d);
                if (-1 === f) break;
                a[e] = this.trim(c.substr(d, f - d));
                d = f + 1
            }
            a[e] = this.trim(c.substring(d));
            return e + 1
        }
    };
    var l = function(a) {
        this.atlas = a
    };
    l.prototype = {
        newRegionAttachment: function(a, c, d) {
            a = this.atlas.findRegion(d);
            b.assert(a, "Region not found in atlas: " + d + " (region attachment: " + c + ")");
            c = new h(c);
            c.rendererObject = a;
            c.setUVs(a.u, a.v, a.u2, a.v2, a.rotate);
            c.regionOffsetX = a.offsetX;
            c.regionOffsetY = a.offsetY;
            c.regionWidth = a.width;
            c.regionRotate = a.rotate;
            c.regionHeight = a.height;
            c.regionOriginalWidth = a.originalWidth;
            c.regionOriginalHeight = a.originalHeight;
            return c
        },
        newMeshAttachment: function(a,
            c, d) {
            a = this.atlas.findRegion(d);
            b.assert(a, "Region not found in atlas: " + d + " (mesh attachment: " + c + ")");
            c = new g(c);
            c.rendererObject = a;
            c.regionU = a.u;
            c.regionV = a.v;
            c.regionU2 = a.u2;
            c.regionV2 = a.v2;
            c.regionRotate = a.rotate;
            c.regionOffsetX = a.offsetX;
            c.regionOffsetY = a.offsetY;
            c.regionWidth = a.width;
            c.regionHeight = a.height;
            c.regionOriginalWidth = a.originalWidth;
            c.regionOriginalHeight = a.originalHeight;
            return c
        },
        newWeightedMeshAttachment: function(a, c, d) {
            a = this.atlas.findRegion(d);
            b.assert(a, "Region not found in atlas: " +
                d + " (weighted mesh attachment: " + c + ")");
            c = new f(c);
            c.rendererObject = a;
            c.regionU = a.u;
            c.regionV = a.v;
            c.regionU2 = a.u2;
            c.regionV2 = a.v2;
            c.regionRotate = a.rotate;
            c.regionOffsetX = a.offsetX;
            c.regionOffsetY = a.offsetY;
            c.regionWidth = a.width;
            c.regionHeight = a.height;
            c.regionOriginalWidth = a.originalWidth;
            c.regionOriginalHeight = a.originalHeight;
            return c
        },
        newBoundingBoxAttachment: function(b, c) {
            return new a(c)
        }
    };
    d.AtlasAttachmentLoader = l;
    var m = function(a, b) {
        this.textureLoader = b;
        this.pages = [];
        this.regions = [];
        a = new k(a);
        var d = [];
        d.length = 4;
        for (var f = null;;) {
            var g = a.readLine();
            if (null === g) break;
            g = a.trim(g);
            if (g.length)
                if (f) {
                    var h = new e;
                    h.name = g;
                    h.page = f;
                    h.rotate = "true" === a.readValue();
                    a.readTuple(d);
                    g = parseInt(d[0], 10);
                    var l = parseInt(d[1], 10);
                    a.readTuple(d);
                    var n = parseInt(d[0], 10),
                        q = parseInt(d[1], 10);
                    h.u = g / f.width;
                    h.v = l / f.height;
                    h.rotate ? (h.u2 = (g + q) / f.width, h.v2 = (l + n) / f.height) : (h.u2 = (g + n) / f.width, h.v2 = (l + q) / f.height);
                    h.x = g;
                    h.y = l;
                    h.width = Math.abs(n);
                    h.height = Math.abs(q);
                    4 === a.readTuple(d) && (h.splits = [parseInt(d[0],
                        10), parseInt(d[1], 10), parseInt(d[2], 10), parseInt(d[3], 10)], 4 === a.readTuple(d) && (h.pads = [parseInt(d[0], 10), parseInt(d[1], 10), parseInt(d[2], 10), parseInt(d[3], 10)], a.readTuple(d)));
                    h.originalWidth = parseInt(d[0], 10);
                    h.originalHeight = parseInt(d[1], 10);
                    a.readTuple(d);
                    h.offsetX = parseInt(d[0], 10);
                    h.offsetY = parseInt(d[1], 10);
                    h.index = parseInt(a.readValue(), 10);
                    this.regions[this.regions.length] = h
                } else f = new c, f.name = g, 2 === a.readTuple(d) && (f.width = parseInt(d[0], 10), f.height = parseInt(d[1], 10), a.readTuple(d)),
                    f.format = m.Format[d[0]], a.readTuple(d), f.minFilter = m.TextureFilter[d[0]], f.magFilter = m.TextureFilter[d[1]], h = a.readValue(), f.uWrap = m.TextureWrap.clampToEdge, f.vWrap = m.TextureWrap.clampToEdge, "x" === h ? f.uWrap = m.TextureWrap.repeat : "y" === h ? f.vWrap = m.TextureWrap.repeat : "xy" === h && (f.uWrap = f.vWrap = m.TextureWrap.repeat), b.load(f, g, this), this.pages[this.pages.length] = f;
            else f = null
        }
    };
    m.Format = {
        alpha: 0,
        intensity: 1,
        luminanceAlpha: 2,
        rgb565: 3,
        rgba4444: 4,
        rgb888: 5,
        rgba8888: 6
    };
    m.TextureFilter = {
        nearest: 0,
        linear: 1,
        mipMap: 2,
        mipMapNearestNearest: 3,
        mipMapLinearNearest: 4,
        mipMapNearestLinear: 5,
        mipMapLinearLinear: 6
    };
    m.TextureWrap = {
        mirroredRepeat: 0,
        clampToEdge: 1,
        repeat: 2
    };
    m.prototype = {
        findRegion: function(a) {
            for (var b = this.regions, c = 0, d = b.length; c < d; c++)
                if (b[c].name === a) return b[c];
            return null
        },
        dispose: function() {
            for (var a = this.pages, b = 0, c = a.length; b < c; b++) this.textureLoader.unload(a[b].rendererObject)
        },
        updateUVs: function(a) {
            for (var b = this.regions, c = 0, d = b.length; c < d; c++) {
                var e = b[c];
                e.page === a && (e.u = e.x / a.width, e.v =
                    e.y / a.height, e.rotate ? (e.u2 = (e.x + e.height) / a.width, e.v2 = (e.y + e.width) / a.height) : (e.u2 = (e.x + e.width) / a.width, e.v2 = (e.y + e.height) / a.height))
            }
        }
    };
    d.Atlas = m;
    nge.spine = d
})(nge.spine);
(function(d) {
    d.HIDE = 1;
    d.FREEZE = 2;
    d.DESTROY = 3;
    d.LOOP = 4;
    var b = d.Atlas,
        h = d.Utils,
        g = d.AtlasAttachmentLoader,
        f = d.Skeleton,
        a = d.SkeletonJson,
        c = d.AnimationState,
        e = d.AnimationStateData,
        k = d.RegionAttachment,
        l = d.AttachmentType,
        m, q, n = {};
    d.Plugin = n;
    var p;
    d.useDeatlassing = null;
    var r = this && this.__extends || function() {
        var a = Object.setPrototypeOf || {
            __proto__: []
        }
        instanceof Array && function(a, b) {
            a.__proto__ = b
        } || function(a, b) {
            for (var c in b) Object.prototype.hasOwnProperty.call(b, c) && (a[c] = b[c])
        };
        return function(b, c) {
            function d() {
                this.constructor =
                    b
            }
            a(b, c);
            b.prototype = null === c ? Object.create(c) : (d.prototype = c.prototype, new d)
        }
    }();
    (function() {
        var a = function(a) {
            function b(b, c) {
                b = a.call(this, b, c) || this;
                b.addSpineCache();
                b.addSpineFactory();
                b.addSpineLoader();
                return b
            }
            r(b, a);
            b.prototype.addSpineLoader = function() {
                Phaser.Cache.prototype.getSpineAtlasData = function(a) {
                    a = this.getText(a).split(/\r\n|\r|\n/);
                    var b = {},
                        c = null,
                        d = null,
                        e = /^[\w]+\.(png|jpg)+$/,
                        f = /^[\w_\-&\d\., \/(\/)]*$/,
                        g = /^[ ]*([\w\d]+):[ ]?([\w\d-.]+)[, ]*([\w\d-.]*)$/,
                        h = function(a) {
                            var h =
                                a.match(e);
                            if (h) c = a, b[c] = {}, b[c].sprites = {}, d = null;
                            else if (h = a.match(f)) d = a, b[c].sprites[d] = {};
                            else if (h = a.match(g)) {
                                c || console.error("Something wrong!");
                                a = h[1];
                                switch (a) {
                                    case "xy":
                                    case "offset":
                                        var k = {
                                            x: +h[2],
                                            y: +h[3]
                                        };
                                        break;
                                    case "size":
                                    case "orig":
                                        k = {
                                            w: +h[2],
                                            h: +h[3]
                                        };
                                        break;
                                    case "format":
                                    case "repeat":
                                        k = h[2];
                                        break;
                                    case "filter":
                                        k = {
                                            f1: h[2],
                                            f2: h[3]
                                        };
                                        break;
                                    case "rotate":
                                        k = "true" === h[2];
                                        break;
                                    case "index":
                                        k = +h[2];
                                        break;
                                    default:
                                        console.error("Unknown data type", a)
                                }
                                d ? b[c].sprites[d][a] = k : b[c][a] = k
                            } else h ||
                                console.error("[SPINE]: cant't parse line \"" + a + '" with REGEX. Contact (m.kulykov)')
                        },
                        k;
                    for (k in a) {
                        var l = a[k];
                        l && l.length && h(l)
                    }
                    return b = function(a) {
                        for (var b in a) {
                            var c = a[b];
                            c.image = b;
                            c.scale = "1";
                            c.frames = [];
                            for (var d in c.sprites) {
                                var e = c.sprites[d],
                                    f = {};
                                f.filename = d;
                                f.frame = {
                                    x: e.xy.x,
                                    y: e.xy.y,
                                    w: e.size.w,
                                    h: e.size.h
                                };
                                f.rotated = e.rotate;
                                f.sourceSize = e.orig;
                                f.spriteSourceSize = f.frame;
                                f.trimmed = !1;
                                c.frames.push(f)
                            }
                            delete c.sprites
                        }
                        return a
                    }(b)
                };
                Phaser.Loader.prototype.spineAtlas = function(a, b, c) {
                    this.addToFileList("textureatlas",
                        a, b, {
                            atlasData: c
                        })
                };
                Phaser.Loader.prototype.spine = function(a, b, c, d) {
                    var e = b.match(/[^\\]+\.([^\\]+)$/)[1],
                        f = this,
                        g = a + "Atlas",
                        h = {
                            atlas: g,
                            variants: null,
                            basePath: "data:",
                            atlasData: null
                        };
                    d || (h.basePath = "" === b.substring(0, b.lastIndexOf("/")) ? "." : b.substring(0, b.lastIndexOf("/")), "undefined" === typeof c ? c = [""] : h.variants = c, c.forEach(function(a) {
                        f.onFileError.add(function(a, b) {
                            console.error(b.errorMessage)
                        });
                        f.onFileComplete.add(function(a, b) {
                            if (b === g) {
                                a = f.game.cache.getSpineAtlasData(g);
                                h.atlasData = a;
                                for (var c in a) f.spineAtlas(c,
                                    h.basePath + "/" + c, a[c])
                            }
                        });
                        f.text(g, b.substr(0, b.lastIndexOf(".")) + a + ".atlas")
                    }));
                    "atlas" !== e && (this.json(a, b), this.game.cache.addSpine(a, h))
                }
            };
            b.prototype.addSpineFactory = function() {
                Phaser.GameObjectFactory.prototype.spine = function(a, b, c, d, e) {
                    "undefined" === typeof e && (e = this.world);
                    c = new n.Spine(this.game, c, d);
                    c.setToSetupPose();
                    c.position.x = a;
                    c.position.y = b;
                    return e.add(c)
                };
                Phaser.GameObjectCreator.prototype.spine = function(a, b, c, d, e) {
                    return new n.Spine(this.game, c, d)
                }
            };
            b.prototype.addSpineCache = function() {
                Phaser.Cache.prototype.spine = {};
                Phaser.Cache.prototype.addSpine = function(a, b) {
                    this.spine[a] = b
                };
                Phaser.Cache.prototype.getSpine = function(a) {
                    h.assert(Object.prototype.hasOwnProperty.call(this.spine, a), "Phaser.Cache.getSpine: Key '" + a + "' not found in Cache.");
                    return this.spine[a]
                }
            };
            return b
        }(Phaser.Plugin);
        a.RESOLUTION_REGEXP = /@(.+)x/;
        n.SpinePlugin = a
    })();
    Phaser.Rope.prototype.postUpdate = function() {};
    n.SpineTexturesStorage = new function() {
        var a = {};
        this.subscribe = function() {
            nge.App.getInstance("Cfg.Spine", !0) && nge.observer.add("StatesManager.create.start",
                function() {}, !1, !0)
        };
        this.get = function(b, c) {
            if (a[b]) return a[b][c]
        };
        this.add = function(b, c, d) {
            a[b] || (a[b] = {});
            a[b][c] = d
        }
    };
    n.init = function() {
        n.SpineTexturesStorage.subscribe();
        n.SpinePreloader.subscribe()
    };
    n.SpinePreloader = new function() {
        var a = this;
        this.cfg = null;
        var b = function(a) {
                a = nge.findOne(a);
                var b = nge.game.add.group();
                b.visible = !0;
                a.add(b);
                a.sendToBack(b);
                return b
            },
            c = function(a, b) {
                if (!(b.counter >= b.data.length)) {
                    var d = b.data[b.counter],
                        e = nge.Mlm.Objects.Spine({
                            assetKey: d.spineName,
                            isVisible: !1
                        });
                    e = nge.objects.create(e, b.backgroundContainer, !0);
                    e.preloadAllSprites();
                    e.x = -1920;
                    e.y = -1080;
                    e.setAnimationByMode({
                        name: d.animationName,
                        mode: nge.spine.DESTROY,
                        speed: 5,
                        onComplete: function() {
                            c(a, b)
                        }
                    });
                    b.counter++
                }
            },
            d = function(d) {
                if (a.cfg.preloadForStates && a.cfg.preloadForStates[d])
                    for (m = {
                            counter: 0
                        }, m.data = a.cfg.preloadForStates[d], m.backgroundContainer = b(a.cfg.backgroundContainerParentSelector), d = 0; d < a.cfg.preloadThreads; d++) c(d, m)
            };
        this.subscribe = function() {
            a.cfg = nge.App.getInstance("Cfg.Spine", !0);
            if (a.cfg && (nge.observer.add("StatesManager.create.end", d, !1, !0), a.cfg.preloadForEvents))
                for (var e = 0; e < a.cfg.preloadForEvents.length; e++)
                    if (q = a.cfg.preloadForEvents[e], q.eventName && "" !== q.eventName) {
                        var f = q.eventName + ".spinePreloader";
                        nge.observer.remove(q.eventName, !1, f);
                        nge.observer.add(q.eventName, function(d) {
                            return function() {
                                m = {
                                    counter: 0
                                };
                                m.data = d;
                                m.backgroundContainer = b(a.cfg.backgroundContainerParentSelector);
                                for (var e = 0; e < a.cfg.preloadThreads; e++) c(e, m)
                            }
                        }(q.preload), f, !0)
                    }
        }
    };
    n.Spine = function(m) {
        function q(d,
            l, q) {
            var p = m.call(this, d) || this;
            p.key = l;
            p.imageScale = 1;
            var r = p.game.cache.getSpine(l);
            "undefined" !== typeof q && -1 !== r.variants.indexOf(q) ? p.imageScale = p.getScaleFromVariant(q) : r.variants && 1 <= r.variants.length && (p.imageScale = p.getScaleFromVariant(r.variants[0]));
            q = new n.SpineTextureLoader(d);
            r = new b(d.cache.getText(r.atlas), q);
            r = new g(r);
            r = new a(r);
            p.skeletonData = r.readSkeletonData(d.cache.getJSON(l));
            h.assert(p.skeletonData, "Spine data must be preloaded using Loader.spine");
            p.animationActive = !1;
            p.onEvent =
                new Phaser.Signal;
            p.onStart = new Phaser.Signal;
            p.onComplete = new Phaser.Signal;
            p.onEnd = new Phaser.Signal;
            p.skeleton = new f(p.skeletonData);
            p.skeleton.flipY = !0;
            p.skeleton.updateWorldTransform();
            p.stateData = new e(p.skeletonData);
            p.state = new c(p);
            p.state.onStart = p.onEvent.dispatch.bind(p.onStart);
            p.state.onEvent = p.onEvent.dispatch.bind(p.onEvent);
            p.state.onComplete = p.onComplete.dispatch.bind(p.onComplete);
            p.state.onEnd = p.onEnd.dispatch.bind(p.onEnd);
            p.sprites = [];
            p.cachedBones = [];
            p.animationSpeed = 1;
            p.loopSequence = {};
            null === nge.spine.useDeatlassing && nge.Lib.Helper.browserDetect().toLowerCase().includes("edge");
            d = 0;
            for (r = p.skeleton.slots.length; d < r; d++) {
                q = p.skeleton.slots[d];
                var t = q.attachment;
                if (t instanceof k) {
                    var u = t.rendererObject.name;
                    t = p.createSprite(l, "preloadedAttachments", q, t);
                    q.currentSprite = t;
                    q.currentSpriteName = u;
                    p.add(t)
                }
            }
            p.autoUpdate = !0;
            return p
        }
        r(q, m);
        Object.defineProperty(q.prototype, "autoUpdate", {
            get: function() {
                return this.updateTransform === n.Spine.prototype.autoUpdateTransform
            },
            set: function(a) {
                this.updateTransform =
                    a ? n.Spine.prototype.autoUpdateTransform : PIXI.DisplayObjectContainer.prototype.updateTransform
            },
            enumerable: !0,
            configurable: !0
        });
        q.prototype.preloadAllSprites = function() {
            var a = this.key,
                b = this.skeletonData.defaultSkin.attachments,
                c;
            for (c in b) {
                var e = b[c],
                    f = e.rendererObject,
                    g = f.page.rendererObject;
                if (e instanceof k) {
                    e = e.rendererObject.name;
                    var h = n.SpineTexturesStorage.get(a, e);
                    h || (f = new PIXI.Rectangle(f.x, f.y, f.rotate ? f.height : f.width, f.rotate ? f.width : f.height), h = new PIXI.Texture(g, f), d.useDeatlassing &&
                        (p ? p.loadTexture(h) : p = new Phaser.Sprite(nge.game, 0, 0, h, 0), g = p.generateTexture(), h = new PIXI.Texture(g)), n.SpineTexturesStorage.add(a, e, h));
                    h.hasSprite || ((new Phaser.Sprite(this.game, 0, 0, h)).destroy(), h.hasSprite = !0)
                }
            }
        };
        q.prototype.getScaleFromVariant = function(a) {
            return (a = n.SpinePlugin.RESOLUTION_REGEXP.exec(a)) ? parseFloat(a[1]) : 1
        };
        q.prototype.setTint = function(a) {
            this.globalTint = a;
            for (var b = this.skeleton.slots, c = 0; c < b.length; c++) b[c].currentSprite.tint = a
        };
        Number.prototype.mod = function(a) {
            return (this %
                a + a) % a
        };
        q.prototype.update = function(a) {
            if (this.destroyNext) this.destroy(!0, !0);
            else if ("undefined" !== typeof a && this.animationActive && this.state.update(a)) {
                this.state.apply(this.skeleton);
                this.skeleton.updateWorldTransform();
                var b = this.skeleton.drawOrder;
                a = this.skeleton.slots;
                var c;
                var d = 0;
                for (c = b.length; d < c; d++) b[d].currentSprite && b[d].currentSprite.bringToTop();
                d = 0;
                for (c = a.length; d < c; d++) {
                    b = a[d];
                    var e = b.attachment;
                    if (e) {
                        var f = e.type;
                        if (f === l.region) {
                            !e.rendererObject || b.currentSpriteName && b.currentSpriteName ===
                                e.name || (f = e.rendererObject.name, b.currentSprite = this.createSprite(this.key, this.state.animationName, b, e, b.currentSprite), this.add(b.currentSprite), b.currentSpriteName = f);
                            var g = b.bone;
                            f = g.signX;
                            var k = g.signY;
                            b.currentSprite.x = e.x * g.a + e.y * g.b + g.worldX;
                            b.currentSprite.y = e.x * g.c + e.y * g.d + g.worldY;
                            var m = g.getWorldScaleX();
                            var q = g.getWorldScaleY();
                            if (this.invertedScales)
                                for (var n = this.state.animationName, p = 0, r = this.invertedScales.length; p < r; p++)
                                    if (this.invertedScales[p] === n) {
                                        n = q;
                                        q = m;
                                        m = n;
                                        break
                                    } n = b.currentSprite.origScaleX;
                            p = b.currentSprite.origScaleY;
                            b.currentSprite.rotate ? 0 < f && 0 > k ? (r = k * q * n, q = f * m * p) : (r = f * q * n, q = k * m * p) : (r = f * m * n, q = k * q * p);
                            b.currentSprite.scale.set(r, q);
                            g = g.getWorldRotationX();
                            b.currentSprite.rotation = (0 > f && 0 < k ? g + e.rotation + 180 : 0 > f && 0 > k ? g - e.rotation + 180 : 0 < k ? g - e.rotation : -g - e.rotation) * Math.degRad;
                            b.currentSprite.rotate && (b.currentSprite.rotation = 0 > n * f ? 0 > p * k ? b.currentSprite.rotation + Math.PI / 2 : b.currentSprite.rotation - Math.PI / 2 : b.currentSprite.rotation + Math.PI / 2);
                            b.currentSprite.blendMode = b.data.blendMode;
                            this.globalTint || (e = Phaser.Color.componentToHex(255 * b.r).substring(0, 2), f = Phaser.Color.componentToHex(255 * b.g).substring(0, 2), k = Phaser.Color.componentToHex(255 * b.b).substring(0, 2), b.currentSprite.tint = parseInt(e + f + k, 16));
                            b.currentSprite.alwaysHidden || (b.currentSprite.visible = !0);
                            b.currentSprite.alpha = b.a
                        } else h.error("Attachment type " + f + " is not supported yet")
                    } else b.currentSprite && (b.currentSprite.visible = !1)
                }
                this.updateCallback && this.updateCallback()
            }
        };
        q.prototype.stop = function(a, b) {
            this.animationActive = !1;
            this.visible = a || !1;
            for (var c = 0; c < this.state.tracks.length; c++) {
                var d = this.state.tracks[c];
                d && (d.loop = !1, d.time %= d.endTime, d.lastTime %= d.endTime, this.state.tracks[c] = d)
            }
            if (a) {
                var e = this;
                nge.rafSetTimeout(function() {
                    e.cacheAsBitmap = e.useCacheAsBitmap || b;
                    e.cacheAsBitmap && e.children.forEach(function(a) {
                        a.visible = !1
                    })
                })
            }
        };
        q.prototype.stopTrack = function(a) {
            var b = this.state.tracks[a];
            b && (b.loop = !1, b.time %= b.endTime, b.lastTime %= b.endTime, this.state.tracks[a] = b)
        };
        q.prototype.pause = function() {
            this.animationActive = !1
        };
        q.prototype.resume = function() {
            this.visible = this.animationActive = !0
        };
        q.prototype.destroy = function(a, b) {
            this.stop();
            this.children.forEach(function(a) {
                a.clearTintedTexture()
            });
            m.prototype.destroy.call(this, a, b);
            this.game = !1;
            return null
        };
        q.prototype.autoUpdateTransform = function() {
            if (q.globalAutoUpdate) {
                this.lastTime = this.lastTime || Date.now();
                var a = .001 * (Date.now() - this.lastTime);
                this.lastTime = Date.now();
                this.update(a * this.animationSpeed / nge.game.time.slowMotion)
            } else this.lastTime = 0;
            PIXI.DisplayObjectContainer.prototype.updateTransform.call(this)
        };
        q.prototype.addToDebugRender = function(a) {
            d.spritesToDebugRender || (d.spritesToDebugRender = []);
            for (var b = 0; b < d.spritesToDebugRender.length; b++)
                if (d.spritesToDebugRender[b] === a) return;
            d.spritesToDebugRender.push(a)
        };
        q.prototype.createSprite = function(a, b, c, e, f) {
            b = f;
            f = e.rendererObject;
            var g = f.name,
                h = f.page.rendererObject,
                k = n.SpineTexturesStorage.get(a, g);
            k || (k = new PIXI.Rectangle(f.x, f.y, f.rotate ? f.height : f.width, f.rotate ? f.width : f.height), k = new PIXI.Texture(h, k), d.useDeatlassing && (p ? p.loadTexture(k) : p =
                new Phaser.Sprite(nge.game, 0, 0, k, 0), h = p.generateTexture(), k = new PIXI.Texture(h)), n.SpineTexturesStorage.add(a, g, k));
            this.game || (this.game = nge.game);
            b ? (b.game || (b.game = nge.game), b.loadTexture(k)) : b = new Phaser.Sprite(this.game, 0, 0, k);
            b.name = g;
            b.scale.x = f.width / f.originalWidth * e.scaleX / this.imageScale;
            b.scale.y = f.height / f.originalHeight * e.scaleY / this.imageScale;
            b.origScaleX = b.scale.x;
            b.origScaleY = b.scale.y;
            b.rotate = f.rotate;
            b.anchor.x = (.5 * f.originalWidth - f.offsetX) / f.width;
            b.anchor.y = 1 - (.5 * f.originalHeight -
                f.offsetY) / f.height;
            b.alpha = e.a;
            c.sprites = c.sprites || {};
            return c.sprites[f.name] = b
        };
        q.prototype.hide = function() {
            this.visible = !1
        };
        q.prototype.debugRender = function() {
            if (d.spritesToDebugRender)
                for (var a = 0; a < d.spritesToDebugRender.length; a++) nge.game.debug.spriteInfo(d.spritesToDebugRender[a])
        };
        q.prototype.getCachedBone = function(a) {
            for (var b, c = 0, d = this.cachedBones.length; c < d; c++)
                if (b = this.cachedBones[c], a === b.data.name) return b;
            b = this.skeleton.findBone(a);
            this.cachedBones.push(b);
            return b
        };
        q.prototype.setTime =
            function(a) {
                a = Phaser.Math.clamp(a, 0, 1);
                this.forceUpdate = !0;
                for (var b = 0; b < this.state.tracks.length; b++) {
                    var c = this.state.tracks[b];
                    if (c) {
                        var d = c.endTime * a;
                        c.time = d;
                        c.lastTime = d;
                        this.state.tracks[b] = c
                    }
                }
            };
        q.prototype.setMixByName = function(a, b, c) {
            this.stateData.setMixByName(a, b, c)
        };
        q.prototype.setPosition = function(a, b, c) {
            this.x = a || 0;
            this.y = b || 0;
            this.z = c || 0
        };
        q.prototype.setAnimationByMode = function(a, b, c, e, f) {
            if ("object" === typeof a) {
                var g = a;
                b = g.name;
                c = g.mode || d.HIDE;
                e = g.speed || 1;
                a = g.index || 0;
                var k = g.onComplete;
                f = g.useCache || !1;
                "number" === typeof g.x && (this.x = g.x);
                "number" === typeof g.y && (this.y = g.y);
                "number" === typeof g.z && (this.z = g.z)
            } else if (c || (c = d.HIDE), "undefined" === typeof e || null === e) e = 1;
            (g = this.loopSequence[a]) && g.enabled && (g.data = [], g.data.push({
                trackIndex: a,
                animationName: b,
                loop: c === d.LOOP,
                freezeOnComplete: c === d.FREEZE,
                speed: e
            }));
            g = this.state.data.skeletonData.findAnimation(b);
            h.assert(g, "Animation not found: " + b);
            c !== d.LOOP && this.onComplete.addOnce(function(a) {
                switch (c) {
                    case d.DESTROY:
                        return function() {
                            a.stop();
                            a.destroyNext = !0;
                            k && k()
                        };
                    default:
                        return function() {
                            a.stop(c === d.FREEZE);
                            k && k()
                        }
                }
            }(this));
            this.state.animationName = b;
            this.cacheAsBitmap = !1;
            this.useCacheAsBitmap = c === d.FREEZE && f;
            a = this.state.setAnimation(a, g, c === d.LOOP);
            this.setToSetupPose();
            this.animationActive = !0;
            this.animationSpeed = e;
            this.lastTime = 0;
            this.update(0);
            return a
        };
        q.prototype.setAnimationByName = function(a, b, c, d, e, f) {
            var g = d;
            c || (c = !1);
            g || (g = !1);
            if ("undefined" === typeof e || null === e) e = 1;
            var k = this.loopSequence[a];
            k && k.enabled && (k.data = [], k.data.push({
                trackIndex: a,
                animationName: b,
                loop: c,
                freezeOnComplete: g,
                speed: e
            }));
            k = this.state.data.skeletonData.findAnimation(b);
            h.assert(k, "Animation not found: " + b);
            g && this.onComplete.addOnce(function(a) {
                return function() {
                    a.stop(g)
                }
            }(this));
            this.state.animationName = b;
            this.useCacheAsBitmap = d && f;
            this.cacheAsBitmap = !1;
            a = this.state.setAnimation(a, k, c);
            this.setToSetupPose();
            this.animationActive = !0;
            this.animationSpeed = e;
            this.lastTime = 0;
            this.update(0);
            return a
        };
        q.prototype.startLoopSequence = function(a, b, c) {
            this.loopSequence[a] = {
                enabled: !0,
                callback: b,
                count: c || -1
            }
        };
        q.prototype.endLoopSequence = function(a) {
            this.loopSequence[a] = {
                enabled: !1,
                data: null,
                callback: null,
                count: -1
            }
        };
        q.prototype.getDuration = function() {
            this.state.data.skeletonData.animations.forEach(function(a) {
                if (a.name === this.state.animationName) return a.duration
            })
        };
        q.prototype.playAnimationChain = function(a, b, c, d, e, f) {
            h.assert(b && 0 !== b.length, "Animation chained is null of empty");
            this.startLoopSequence(a, c, d);
            c = b[0];
            this.setAnimationByName(a, c, !1, f, e);
            e = 1;
            for (f = b.length; e < f; e++) c =
                b[e], this.addAnimationByName(a, c)
        };
        q.prototype.findSprite = function(a) {
            for (var b = 0, c = this.skeleton.slots.length; b < c; b++) {
                var d = this.skeleton.slots[b];
                if (d.currentSpriteName === a) return d.currentSprite
            }
        };
        q.prototype.hideSprite = function(a) {
            if (a = this.findSprite(a)) return a.visible = !1, a.alwaysHidden = !0, a
        };
        q.prototype.getSlotByName = function(a) {
            for (var b = 0, c = this.skeleton.slots.length; b < c; b++) {
                var d = this.skeleton.slots[b];
                if (d.data.name === a) return d
            }
        };
        q.prototype.getBoneWorldPosition = function(a) {
            var b = function(a) {
                var c = +a.x,
                    d = +a.y;
                a.parent && (a = b(a.parent), c += +a.x, d += +a.y);
                return {
                    x: c,
                    y: d
                }
            };
            a = this.skeleton.findBone(a);
            return b(a)
        };
        q.prototype.play = function(a, b, c, d, e) {
            return "object" === typeof a ? this.setAnimationByMode(a) : this.setAnimationByName(0, a, b, c, d, e)
        };
        q.prototype.setSpeed = function(a) {
            if ("undefined" === typeof a || null === a) a = 1;
            this.animationSpeed = a
        };
        q.prototype.resetSpeed = function() {
            this.animationSpeed = 1
        };
        q.prototype.addAnimationByName = function(a, b, c, d) {
            c || (c = !1);
            d || (d = 0);
            var e = this.loopSequence[a];
            e && e.enabled &&
                e.data.push({
                    trackIndex: a,
                    animationName: b,
                    loop: c,
                    freezeOnComplete: !1,
                    speed: null,
                    delay: d
                });
            e = this.state.data.skeletonData.findAnimation(b);
            h.assert(e, "Animation not found: " + b);
            return this.state.addAnimation(a, e, c, d)
        };
        q.prototype.getCurrentAnimationForTrack = function(a) {
            return this.state.tracks[a].animation.name
        };
        q.prototype.setSkinByName = function(a) {
            var b = this.skeleton.data.findSkin(a);
            h.assert(b, "Skin not found: " + a);
            this.skeleton.setSkin(b)
        };
        q.prototype.setSkin = function(a) {
            this.skeleton.setSkin(a)
        };
        q.prototype.setToSetupPose = function() {
            this.skeleton.setToSetupPose()
        };
        return q
    }(Phaser.Group);
    n.Spine.globalAutoUpdate = !0;
    var u = function() {
        return function(a) {
            this.load = function(a, b, c) {
                b = this.game.make.image(0, 0, b);
                a.rendererObject = b.texture.baseTexture
            };
            this.unload = function(a) {
                a.destroy()
            };
            this.game = a
        }
    }();
    n.SpineTextureLoader = u;
    nge.spine = d;
    nge.spine.create = function(a, b, c, d, e) {
        a = nge.Mlm.Objects.Spine({
            assetKey: a,
            anchorX: c || 0,
            anchorY: d || 0,
            isVisible: e || !1
        });
        return nge.objects.create(a, b, !0)
    }
})(nge.spine);

function arrayBufferDataUri(d) {
    var b = "";
    d = new Uint8Array(d);
    var h = d.byteLength,
        g = h % 3;
    h -= g;
    for (var f, a, c, e, k = 0; k < h; k += 3) e = d[k] << 16 | d[k + 1] << 8 | d[k + 2], f = (e & 16515072) >> 18, a = (e & 258048) >> 12, c = (e & 4032) >> 6, e &= 63, b += "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/" [f] + "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/" [a] + "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/" [c] + "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/" [e];
    1 == g ? (e = d[h], b +=
        "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/" [(e & 252) >> 2] + "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/" [(e & 3) << 4] + "==") : 2 == g && (e = d[h] << 8 | d[h + 1], b += "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/" [(e & 16128) >> 8] + "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/" [(e & 1008) >> 4] + "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/" [(e & 15) << 2] + "=");
    return "data:application/octet-stream;base64," + b
}
Phaser.Cache.prototype.checkFontKey = function(d) {
    return this.checkBinaryKey(d)
};
Phaser.Cache.prototype.getFont = function(d) {
    if (!this.checkFontKey(d)) return null;
    d = new Blob([new Uint8Array(this.getBinary(d))]);
    return (window.URL || window.webkitURL).createObjectURL(d)
};
Phaser.Loader.prototype.font = function(d, b) {
    return this.binary(d, b)
};
Phaser.Loader.prototype.archive = function(d, b, h) {
    this.zip = d;
    this.prefix = b;
    this.suffix = h
};
Phaser.Loader.prototype.loadFromAchive = function(d, b, h, g) {
    if (!this.zip) return !1;
    d = d.replace(this.prefix, "").replace(this.suffix, "");
    d = this.zip.file(d);
    if (!d) return !1;
    d.async(b).then(function(b) {
        h(b)
    }, function(b) {
        g(b)
    });
    return !0
};
Phaser.Loader.prototype.xhrLoad = function(d, b, h, g, f) {
    var a = this;
    if (this.useXDomainRequest && window.XDomainRequest) this.xhrLoadWithXDR(d, b, h, g, f);
    else {
        var c = new XMLHttpRequest;
        c.open("GET", b, !0);
        c.responseType = h;
        f = f || this.fileError;
        c.onload = function() {
            try {
                return g.call(a, d, c)
            } catch (e) {
                a.hasLoaded ? window.console && console.error(e) : a.asyncComplete(d, e.message || "Exception")
            }
        };
        c.onerror = function() {
            try {
                return f.call(a, d, c)
            } catch (e) {
                a.hasLoaded ? window.console && console.error(e) : a.asyncComplete(d, e.message ||
                    "Exception")
            }
        };
        d.requestObject = c;
        d.requestUrl = b;
        this.loadFromAchive(b, "blob", function(a) {
            a = (window.URL || window.webkitURL).createObjectURL(a);
            c.open("GET", a, !0);
            c.send()
        }) || c.send()
    }
};
Phaser.Loader.prototype.loadImageTag = function(d) {
    var b = this;
    d.data = new Image;
    d.data.name = d.key;
    this.crossOrigin && (d.data.crossOrigin = this.crossOrigin);
    d.data.onload = function() {
        d.data.onload && (d.data.onload = null, d.data.onerror = null, b.fileComplete(d))
    };
    d.data.onerror = function() {
        d.data.onload && (d.data.onload = null, d.data.onerror = null, b.fileError(d))
    };
    this.loadFromAchive(d.url, "blob", function(b) {
        b = (window.URL || window.webkitURL).createObjectURL(b);
        d.data.src = b
    }) || (d.data.src = this.transformUrl(d.url, d),
        d.data.complete && d.data.width && d.data.height && (d.data.onload = null, d.data.onerror = null, this.fileComplete(d)))
};
(function(d, b) {
    function h(a) {
        this.game.paused = !0;
        this._cover && this._cover.destroy();
        this._texture || (this._texture = new b.RenderTexture(this.game, this.game.width, this.game.height, "cover", b.scaleModes.SHOW_ALL, this.game.renderer.resolution));
        var c = this.game.add.graphics(0, 0);
        c.beginFill(this.game.stage.backgroundColor);
        c.lineStyle(1, this.game.stage.backgroundColor, 1);
        c.drawRect(0, 0, this.game.width, this.game.height);
        c.endFill();
        this._texture.renderXY(c, 0, 0);
        c.clear();
        this._texture.renderXY(this.game.world,
            -this.game.camera.x, -this.game.camera.y);
        if (a) {
            var d = this.game.state.states[a].create,
                h = this;
            this._cover = new b.Sprite(this.game, 0, 0, this._texture);
            this._cover.width = nge.game.width / nge.game.world.scale.x;
            this._cover.height = nge.game.height / nge.game.world.scale.y;
            this.game.state.states[a].create = function() {
                this.game.world.shutdown();
                d.call(h.game.state.states[a]);
                if (h._cover && (h.game.add.existing(h._cover), f && f.properties)) {
                    for (var b in f.properties)
                        if ("object" !== typeof f.properties[b]) {
                            var c = {};
                            c[b] =
                                f.properties[b];
                            h._tween = h.game.add.tween(h._cover).to(c, f.duration, f.ease, !0)
                        } else h._tween = h.game.add.tween(h._cover[b]).to(f.properties[b], f.duration, f.ease, !0);
                    h._tween.onComplete.addOnce(g, h)
                }
            };
            nge.game.state.start(a, !1)
        }
        this.game.paused = !1
    }

    function g() {
        this._cover && (this._cover.visible = !1);
        this._texture && (this._texture.visible = !1);
        this._cover && this._cover.destroy();
        this._cover = null;
        this._texture && this._texture.destroy();
        this._texture = null
    }
    b.Plugin.StateTransition = function(a, c) {
        b.Plugin.call(this,
            a, c)
    };
    b.Plugin.StateTransition.prototype = Object.create(b.Plugin.prototype);
    b.Plugin.StateTransition.prototype.constructor = b.Plugin.StateTransition;
    b.Plugin.StateTransition.prototype.to = function(a, b) {
        h.call(this, a)
    };
    b.Plugin.StateTransition.prototype.bringToTop = function() {
        this._cover && this._cover.bringToTop()
    };
    b.Plugin.StateTransition.prototype.settings = function(a) {
        if (a)
            for (var b in a) f[b] && (f[b] = a[b]);
        else return Object.create(f)
    };
    var f = {
        duration: 300,
        ease: b.Easing.Exponential.InOut,
        properties: {
            alpha: 0
        }
    }
})(window,
    Phaser);
var EPSY;
! function(d) {
    ! function(b) {
        ! function(b) {
            b.toRad = function(b) {
                return Math.PI * b / 180
            };
            b.isNumber = function(b) {
                return "number" == typeof b
            };
            b.isInteger = function(b) {
                return b === (0 | b)
            };
            b.frandom = function(b, d) {
                return Math.random() * (d - b) + b
            };
            b.irandom = function(b, d) {
                return Math.floor(Math.random() * (d - b + 1) + b)
            };
            b.normalize = function(b) {
                var d = Math.sqrt(b.x * b.x + b.y * b.y);
                b.x /= d;
                b.y /= d
            }
        }(b.math || (b.math = {}));
        b.math
    }(d.utils || (d.utils = {}));
    d.utils
}(EPSY || (EPSY = {}));
! function(d) {
    ! function(b) {
        ! function(b) {
            b.clone = function(b) {
                var d = {};
                return this.extend(d, b), d
            };
            b.extend = function(b, d) {
                for (var a in d) d.hasOwnProperty(a) && (b[a] = d[a])
            };
            b.recursiveExtend = function(b, d, a) {
                a = a || [];
                for (var c in d) d.hasOwnProperty(c) && (-1 < a.indexOf(c) ? b[c] = d[c] : "object" == typeof d[c] ? this.recursiveExtend(b[c], d[c], a) : b[c] = d[c])
            };
            b.recursiveExtendInclusive = function(b, d, a) {
                if (a && a.length && !(0 >= a.length))
                    for (var c in d) 0 <= a.indexOf(c) && ("object" == typeof d[c] ? (b[c] || (b[c] = {}), this.recursiveExtend(b[c],
                        d[c])) : b[c] = d[c])
            }
        }(b.obj || (b.obj = {}));
        b.obj
    }(d.utils || (d.utils = {}));
    d.utils
}(EPSY || (EPSY = {}));
! function(d) {
    d.EmitterParams = "id border duration emissionRate totalParticles xFactor aFactor xEquation yEquation posTransform zIndex".split(" ");
    var b = function() {
        function b(b) {
            this.id = (1E20 * Math.random()).toString(36);
            this.settings = new d.EmitterEntity;
            this.time = Date.now();
            this.emissionRate = this._totalParticles = 0;
            this.allOrNone = !1;
            this.aFactor = {
                x: 0,
                y: 0
            };
            this.xFactor = {
                x: 0,
                y: 0
            };
            this._yEqName = this._xEqName = "";
            this.active = !1;
            this.duration = 0;
            this.cycles = 1 / 0;
            this._particlePool = [];
            this._emitCounter = this._curCycle =
                this._elapsed = this._particleIndex = this._particleCount = 0;
            this.border = {
                top: 100,
                left: 100,
                bottom: 100,
                right: 100
            };
            this.recyclable = [];
            this._baseSystem = d.utils.obj.clone(b, ["texture"]);
            this.load(b)
        }
        return Object.defineProperty(b.prototype, "zIndex", {
                get: function() {
                    return this.container ? this.container.__z || 0 : 0
                },
                set: function(b) {
                    this.container && (this.container.__z = ~~b)
                },
                enumerable: !0,
                configurable: !0
            }), Object.defineProperty(b.prototype, "xEquation", {
                get: function() {
                    return this._xEqName
                },
                set: function(b) {
                    "function" ==
                    typeof Math[b] ? (this._xEqName = b, this._xEquation = Math[b]) : (this._xEqName = "", this._xEquation = void 0)
                },
                enumerable: !0,
                configurable: !0
            }), Object.defineProperty(b.prototype, "yEquation", {
                get: function() {
                    return this._yEqName
                },
                set: function(b) {
                    "function" == typeof Math[b] ? (this._yEqName = b, this._yEquation = Math[b]) : (this._yEqName = "", this._yEquation = void 0)
                },
                enumerable: !0,
                configurable: !0
            }), Object.defineProperty(b.prototype, "posTransform", {
                get: function() {
                    if (this._posTransform) return this._posTransform.toString().match(/[^{]+(.+)\}/g)[0]
                },
                set: function(b) {
                    this._posTransform = "function" == typeof b ? b : new Function("pos", "particle", b)
                },
                enumerable: !0,
                configurable: !0
            }), Object.defineProperty(b.prototype, "particles", {
                get: function() {
                    return this._particlePool
                },
                set: function(b) {
                    this._particlePool = b
                },
                enumerable: !0,
                configurable: !0
            }), Object.defineProperty(b.prototype, "totalParticles", {
                get: function() {
                    return this._totalParticles
                },
                set: function(b) {
                    b |= 0;
                    b !== this._totalParticles && (this._totalParticles = b, this.restart())
                },
                enumerable: !0,
                configurable: !0
            }), b.prototype.load =
            function(b) {
                this.emissionRate = this._totalParticles = 0;
                this.active = !1;
                this.duration = 0;
                this.settings.pos.x = 0;
                this.settings.pos.y = 0;
                this.settings.posVar.x = 0;
                this.settings.posVar.y = 0;
                this.settings.speed = 0;
                this.settings.speedVar = 0;
                this.settings.angle = 0;
                this.settings.angleVar = 0;
                this.settings.life = 0;
                this.settings.lifeVar = 0;
                this.settings.radius = 0;
                this.settings.radiusVar = 0;
                this.settings.texture = null;
                this.settings.textureAdditive = !1;
                this.settings.startScale = 0;
                this.settings.startScaleVar = 0;
                this.settings.endScale =
                    0;
                this.settings.endScaleVar = 0;
                this.settings.startColor[0] = 0;
                this.settings.startColor[1] = 0;
                this.settings.startColor[2] = 0;
                this.settings.startColor[3] = 0;
                this.settings.startColorVar[0] = 0;
                this.settings.startColorVar[1] = 0;
                this.settings.startColorVar[2] = 0;
                this.settings.startColorVar[3] = 0;
                this.settings.endColor[0] = 0;
                this.settings.endColor[1] = 0;
                this.settings.endColor[2] = 0;
                this.settings.endColor[3] = 0;
                this.settings.endColorVar[0] = 0;
                this.settings.endColorVar[1] = 0;
                this.settings.endColorVar[2] = 0;
                this.settings.endColorVar[3] =
                    0;
                this.settings.gravity.x = 0;
                this.settings.gravity.y = 0;
                this.settings.radialAccel = 0;
                this.settings.radialAccelVar = 0;
                this.settings.tangentialAccel = 0;
                this.settings.tangentialAccelVar = 0;
                d.utils.obj.recursiveExtend(this.settings, b, d.EmitterParams);
                d.utils.obj.recursiveExtendInclusive(this, b, d.EmitterParams);
                isNaN(this.duration) && (this.duration = 1 / 0);
                this.id = b.name || this.id;
                this.restart()
            }, b.prototype.save = function() {
                var b = JSON.parse(JSON.stringify(this.settings));
                return d.utils.obj.recursiveExtendInclusive(b,
                    this, d.EmitterParams), b
            }, b.prototype.restart = function() {
                if (this._particlePool.length < this.totalParticles)
                    for (var b = this._particlePool.length; b < this.totalParticles; ++b) this._particlePool.push(new d.Particle);
                this._particlePool.length > this.totalParticles && (b = this._particlePool.splice(this.totalParticles), this.recyclable = this.recyclable.concat(b));
                for (b = 0; b < this.totalParticles; ++b) this._particlePool[b].recycled = !0;
                this._emitCounter = this._curCycle = this._elapsed = this._particleIndex = this._particleCount =
                    0
            }, b.prototype.reset = function() {
                this.load(this._baseSystem)
            }, b.prototype._isFull = function() {
                return this._particleCount === this.totalParticles
            }, b.prototype.createParticle = function() {
                return this._isFull() ? !1 : (this.initParticle(this._particlePool[this._particleCount]), this._particleCount++, !0)
            }, b.prototype.initParticle = function(b) {
                b.texture = this.settings.texture;
                b.textureAdditive = this.settings.textureAdditive;
                var f = {
                    x: this.settings.posVar.x * d.utils.math.frandom(-1, 1),
                    y: this.settings.posVar.y * d.utils.math.frandom(-1,
                        1)
                };
                this._posTransform && (f = this._posTransform.call(this, f, b));
                b.pos.x = this.settings.pos.x + f.x;
                b.pos.y = this.settings.pos.y + f.y;
                f = this.settings.angle + this.settings.angleVar * d.utils.math.frandom(-1, 1);
                var a = this.settings.speed + this.settings.speedVar * d.utils.math.frandom(-1, 1);
                b.setVelocity(f, a);
                b.radialAccel = this.settings.radialAccel + this.settings.radialAccelVar * d.utils.math.frandom(-1, 1) || 0;
                b.tangentialAccel = this.settings.tangentialAccel + this.settings.tangentialAccelVar * d.utils.math.frandom(-1, 1) ||
                    0;
                f = this.settings.life + this.settings.lifeVar * d.utils.math.frandom(-1, 1) || 0;
                if (b.life = Math.max(0, f), b.scale = d.utils.math.isNumber(this.settings.startScale) ? this.settings.startScale : 1, b.deltaScale = d.utils.math.isNumber(this.settings.endScale) ? this.settings.endScale - this.settings.startScale : 0, b.deltaScale /= b.life, b.radius = d.utils.math.isNumber(this.settings.radius) ? this.settings.radius + (this.settings.radiusVar || 0) * d.utils.math.frandom(-1, 1) : 0, this.settings.startColor)
                    for (a = f = [this.settings.startColor[0] +
                            this.settings.startColorVar[0] * d.utils.math.frandom(-1, 1), this.settings.startColor[1] + this.settings.startColorVar[1] * d.utils.math.frandom(-1, 1), this.settings.startColor[2] + this.settings.startColorVar[2] * d.utils.math.frandom(-1, 1), this.settings.startColor[3] + this.settings.startColorVar[3] * d.utils.math.frandom(-1, 1)
                        ], this.settings.endColor && (a = [this.settings.endColor[0] + this.settings.endColorVar[0] * d.utils.math.frandom(-1, 1), this.settings.endColor[1] + this.settings.endColorVar[1] * d.utils.math.frandom(-1,
                            1), this.settings.endColor[2] + this.settings.endColorVar[2] * d.utils.math.frandom(-1, 1), this.settings.endColor[3] + this.settings.endColorVar[3] * d.utils.math.frandom(-1, 1)]), b.color = f, b.deltaColor = [(a[0] - f[0]) / b.life, (a[1] - f[1]) / b.life, (a[2] - f[2]) / b.life, (a[3] - f[3]) / b.life], f = 0; 3 > f; f++) b.startColor[f] = ~~b.startColor[f], b.endColor[f] = ~~b.endColor[f], b.deltaColor[f] = ~~b.deltaColor[f]
            }, b.prototype.updateParticle = function(b, f, a) {
                if (!this.border || b.pos.x >= this.settings.pos.x - this.border.left && b.pos.y >= this.settings.pos.y -
                    this.border.top && b.pos.x <= this.settings.pos.x + this.border.right && b.pos.y <= this.settings.pos.y + this.border.bottom || (b.life = 0), 0 < b.life) {
                    b.radial.x = 0;
                    b.radial.y = 0;
                    b.forces.x = 0;
                    b.forces.y = 0;
                    b.pos.x === this.settings.pos.x && b.pos.y === this.settings.pos.y || !b.radialAccel && !b.tangentialAccel || (b.radial.x = b.pos.x - this.settings.pos.x, b.radial.y = b.pos.y - this.settings.pos.y, d.utils.math.normalize(b.radial));
                    b.tangential.x = b.radial.x;
                    b.tangential.y = b.radial.y;
                    b.radial.x *= b.radialAccel;
                    b.radial.y *= b.radialAccel;
                    a = b.tangential.x;
                    b.tangential.x = -b.tangential.y;
                    b.tangential.y = a;
                    b.tangential.x *= b.tangentialAccel;
                    b.tangential.y *= b.tangentialAccel;
                    b.forces.x = b.radial.x + b.tangential.x + this.settings.gravity.x;
                    b.forces.y = b.radial.y + b.tangential.y + this.settings.gravity.y;
                    b.forces.x *= f;
                    b.forces.y *= f;
                    b.vel.x += b.forces.x;
                    b.vel.y += b.forces.y;
                    b.lastpos.x = b.pos.x;
                    b.lastpos.y = b.pos.y;
                    var c = a = 0;
                    this._xEquation && (a = this.aFactor.x * this._xEquation(b.life * this.xFactor.x * Math.PI));
                    this._yEquation && (c = this.aFactor.y * this._yEquation(b.life *
                        this.xFactor.y * Math.PI));
                    b.pos.x += b.vel.x * f + a;
                    b.pos.y += b.vel.y * f + c;
                    b.life -= f;
                    b.scale += b.deltaScale * f;
                    b.color && (0 < this.settings.colorList.length ? (b.color[0] = this.settings.colorList[b.colorIdx][0], b.color[1] = this.settings.colorList[b.colorIdx][1], b.color[2] = this.settings.colorList[b.colorIdx][2], b.color[3] = this.settings.colorList[b.colorIdx][3], b.colorIdx++, b.colorIdx >= this.settings.colorList.length && (b.colorIdx = 0)) : (b.color[0] += b.deltaColor[0] * f, b.color[1] += b.deltaColor[1] * f, b.color[2] += b.deltaColor[2] *
                        f, b.color[3] += b.deltaColor[3] * f));
                    ++this._particleIndex
                } else b.color[3] = 0, b = this._particlePool[a], this._particlePool[a] = this._particlePool[this._particleCount - 1], this._particlePool[this._particleCount - 1] = b, --this._particleCount
            }, b.prototype.kill = function() {
                for (var b = 0; b < this._particlePool.length; b++) this._particlePool[b].life = 0;
                this._particlePool = [];
                this.duration = -1;
                this._emitCounter = this._elapsed = this._particleIndex = this._particleCount = 0
            }, b.prototype.update = function(b) {
                if (this._elapsed += b, this.active =
                    this._elapsed < this.duration, this.active) {
                    if (this.emissionRate) {
                        var d = 1 / this.emissionRate;
                        if (this._emitCounter += b, this.allOrNone) {
                            if (0 == this._particleCount && this._curCycle < this.cycles) {
                                for (; !this._isFull();) this.createParticle();
                                this._curCycle++
                            }
                        } else
                            for (; !this._isFull() && this._emitCounter > d;) this.createParticle(), this._emitCounter -= d
                    }
                    for (this._particleIndex = 0; this._particleIndex < this._particleCount;) this.updateParticle(this._particlePool[this._particleIndex], b, this._particleIndex)
                }
            }, b
    }();
    d.Emitter =
        b
}(EPSY || (EPSY = {}));
! function(d) {
    var b = function() {
        return function() {
            this.pos = {
                x: 0,
                y: 0
            };
            this.posVar = {
                x: 0,
                y: 0
            };
            this.radiusVar = this.radius = this.lifeVar = this.life = this.angleVar = this.angle = this.speedVar = this.speed = 0;
            this.textureAdditive = !1;
            this.endScaleVar = this.endScale = this.startScaleVar = this.startScale = 0;
            this.startColor = [0, 0, 0, 0];
            this.startColorVar = [0, 0, 0, 0];
            this.endColor = [0, 0, 0, 0];
            this.endColorVar = [0, 0, 0, 0];
            this.colorList = [];
            this.gravity = {
                x: 0,
                y: 0
            };
            this.tangentialAccelVar = this.tangentialAccel = this.radialAccelVar = this.radialAccel =
                0
        }
    }();
    d.EmitterEntity = b
}(EPSY || (EPSY = {}));
var __extends = this.__extends || function(d, b) {
    function h() {
        this.constructor = d
    }
    for (var g in b) b.hasOwnProperty(g) && (d[g] = b[g]);
    h.prototype = b.prototype;
    d.prototype = new h
};
! function(d) {
    var b = function(b) {
        function g() {
            b.call(this);
            this.lastpos = {
                x: -1,
                y: -1
            };
            this.vel = {
                x: 0,
                y: 0
            };
            this.forces = {
                x: 0,
                y: 0
            };
            this.radial = {
                x: 0,
                y: 0
            };
            this.tangential = {
                x: 0,
                y: 0
            };
            this.colorIdx = 0;
            this.recycled = !1;
            this.setVelocity(0, 0)
        }
        return __extends(g, b), g.prototype.setVelocity = function(b, a) {
            this.vel.x = Math.cos(d.utils.math.toRad(b)) * a;
            this.vel.y = -Math.sin(d.utils.math.toRad(b)) * a
        }, g
    }(d.EmitterEntity);
    d.Particle = b
}(EPSY || (EPSY = {}));
! function(d) {
    function b(b) {
        var a = b.img;
        if (a || (a = new Image, b.ready = !1, a.onload = function() {
                b.ready = !0
            }, a.src = b.texture, b.img = a), b.ready) {
            var c = "" + a.width + "x" + a.height,
                d = h[c];
            return d || (d = document.createElement("canvas"), d.width = a.width, d.height = a.height, h[c] = d), d
        }
    }
    var h = {},
        g = function() {
            function d(a) {
                this.context = a;
                this.defaultTexture = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAACz0lEQVR42t2XP0hbURTGnfp/KK3QFiylCG11aRYpBQWFDiJCg266BNQtdnBQyOASQjp1KS4KGVw6iXMWEUdHUShkCBhSQpaQkJg/Jmm/H3xLEdtaWvLawMfJvfec79x77jnnvdfX96/9MpnM9VwudzOfz98qFAq3kYyZ/6tOi8XinVKpdLdSqfRXq9UHwsNarfYIyZh51tH7Y5s5Pj6+BqHI7+OsXq8/aTQag8LzZrM5JAwjGTPPOnroY4f9bzvPZrM3OBEnFPFTOXohvGy1WiPC6/Pz81FhDMmYedbRQx877OG5snPutFwu3zs7OxvQyZ6JPGSnE8KkMN1ut98KYSRjz094MyHssIcHviud3M4fE15OJuJxOZoSZoU5ISIsCIuWEc+zPoW+IzIED3y/FAnujLCxczt/JbI3Pum8sCQsCyudTmdVWEMy9vyS9cLYYe9NDMD705wgcbg7h33Ezmd8wqidrgtxISm8t4x7ns1ErT/jTYzABy/8Pyw1spcE4g4d9rDJ3ok8JiSED8KGsClsWW54nvUY+rYL+zpC8MJ/aYmyO0qILCaRfOfzPnnMJ/0opIRPwk63291FepzyetKbiNp+Cj544b80CtwRdUwpkc1OqCWHPWHybTtNS+5LHlimPb9tvYSvg5yYhQ9e+PFzWfj7aSa++0ln9bLvlvCm7GRP8lDySDhBerzn9ZT1152Yc/A5Fwbxc+EaqFPaKR3N9T7tO1xxgm04zJz0UPis/6fCFyRjbyJtPfTjro4IfPDCj58LfYEHCllKydDZ3GQWHP6kE23H4T6y05Jk1fLUkdh3TmzabtV9gmY1Cj9+8PfdBniqOQGHaa/O/kXXOaW25fAeOOycvPpVP6THJ86JXVcHdmtuVlTDGPz4wV+wItDzHOh5FfS8DwSiE/b8WdDzp2Eg3gd6/kYUiHfCQLwVB+K7IBBfRoH5Nvyvf98A3rZr7fen7G8AAAAASUVORK5CYII="
            }
            return d.prototype.renderParticle = function(a) {
                if (a.texture || (a.texture = this.defaultTexture), a.buffer = a.buffer || b(a), a.buffer) {
                    var c = a.buffer.getContext("2d"),
                        d = a.img.width * a.scale | 0,
                        f = a.img.height * a.scale | 0,
                        g = a.pos.x - d / 2,
                        h = a.pos.y - f / 2;
                    c.clearRect(0, 0, a.buffer.width, a.buffer.height);
                    c.globalAlpha = a.color[3];
                    c.drawImage(a.img, 0, 0);
                    c.globalCompositeOperation = "source-atop";
                    var q = a.color;
                    c.fillStyle = "rgba(" + (0 | q[0]) + ", " + (0 | q[1]) + ", " + (0 | q[2]) + ", 1)";
                    c.fillRect(0, 0, a.buffer.width, a.buffer.height);
                    c.globalCompositeOperation =
                        "source-over";
                    c.globalAlpha = 1;
                    this.context.globalCompositeOperation = a.textureAdditive ? "lighter" : "source-over";
                    this.context.drawImage(a.buffer, 0, 0, a.buffer.width, a.buffer.height, g, h, d, f)
                }
            }, d.prototype.render = function(a) {
                a = a.particles;
                for (var b = 0; b < a.length; ++b) {
                    var d = a[b];
                    0 < d.life && d.color && this.renderParticle(d)
                }
                this.context.globalCompositeOperation = "source-over"
            }, d.prototype.reset = function() {}, d
        }();
    d.CanvasRenderer = g
}(EPSY || (EPSY = {}));
! function(d) {
    var b = function() {
        function b(b) {
            this.context = b;
            this.defaultTexture = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAACz0lEQVR42t2XP0hbURTGnfp/KK3QFiylCG11aRYpBQWFDiJCg266BNQtdnBQyOASQjp1KS4KGVw6iXMWEUdHUShkCBhSQpaQkJg/Jmm/H3xLEdtaWvLawMfJvfec79x77jnnvdfX96/9MpnM9VwudzOfz98qFAq3kYyZ/6tOi8XinVKpdLdSqfRXq9UHwsNarfYIyZh51tH7Y5s5Pj6+BqHI7+OsXq8/aTQag8LzZrM5JAwjGTPPOnroY4f9bzvPZrM3OBEnFPFTOXohvGy1WiPC6/Pz81FhDMmYedbRQx877OG5snPutFwu3zs7OxvQyZ6JPGSnE8KkMN1ut98KYSRjz094MyHssIcHviud3M4fE15OJuJxOZoSZoU5ISIsCIuWEc+zPoW+IzIED3y/FAnujLCxczt/JbI3Pum8sCQsCyudTmdVWEMy9vyS9cLYYe9NDMD705wgcbg7h33Ezmd8wqidrgtxISm8t4x7ns1ErT/jTYzABy/8Pyw1spcE4g4d9rDJ3ok8JiSED8KGsClsWW54nvUY+rYL+zpC8MJ/aYmyO0qILCaRfOfzPnnMJ/0opIRPwk63291FepzyetKbiNp+Cj544b80CtwRdUwpkc1OqCWHPWHybTtNS+5LHlimPb9tvYSvg5yYhQ9e+PFzWfj7aSa++0ln9bLvlvCm7GRP8lDySDhBerzn9ZT1152Yc/A5Fwbxc+EaqFPaKR3N9T7tO1xxgm04zJz0UPis/6fCFyRjbyJtPfTjro4IfPDCj58LfYEHCllKydDZ3GQWHP6kE23H4T6y05Jk1fLUkdh3TmzabtV9gmY1Cj9+8PfdBniqOQGHaa/O/kXXOaW25fAeOOycvPpVP6THJ86JXVcHdmtuVlTDGPz4wV+wItDzHOh5FfS8DwSiE/b8WdDzp2Eg3gd6/kYUiHfCQLwVB+K7IBBfRoH5Nvyvf98A3rZr7fen7G8AAAAASUVORK5CYII=";
            this.buffer = [];
            this._sortFn = function(b, a) {
                return (b.__z || 0) - (a.__z || 0)
            }
        }
        return b.prototype.updateParticleSprite = function(b, d) {
            if (0 >= d.life && d.sprite) return void(d.sprite.visible = !1);
            if (!d.sprite || d.recycled) {
                var a = PIXI.Texture.fromImage(d.texture || this.defaultTexture);
                d.recycled && d.sprite ? d.sprite.texture = a : d.sprite = new PIXI.Sprite(a);
                d.sprite.__parentParticle = d;
                d.sprite.anchor.x = .5;
                d.sprite.anchor.y = .5;
                d.sprite.tail = 0
            }
            d.inserted || (d.inserted = !0, this.buffer.push(d.sprite), b.container.addChild(d.sprite));
            d.sprite.visible = 0 < d.life;
            d.sprite.width = d.radius * d.scale;
            d.sprite.height = d.radius * d.scale;
            d.sprite.position.x = d.pos.x;
            d.sprite.position.y = d.pos.y;
            d.sprite.blendMode = d.textureAdditive ? PIXI.blendModes.ADD : PIXI.blendModes.NORMAL;
            d.sprite.tint = ~~d.color[2] + 256 * ~~d.color[1] + 65536 * ~~d.color[0];
            d.sprite.alpha = d.color[3]
        }, b.prototype.render = function(b) {
            var d = b.particles;
            b.container || (b.container = new PIXI.DisplayObjectContainer, this.context.addChild(b.container));
            for (var a = 0; a < d.length; ++a) {
                var c = d[a];
                c.color &&
                    this.updateParticleSprite(b, c)
            }
            if (0 < b.recyclable.length)
                for (; d = b.recyclable.pop();) d.life = 0, d.sprite && (d.sprite.visible = !1, d.sprite.__parentParticle && (d.sprite.__parentParticle.inserted = !1))
        }, b.prototype.hideAllParticles = function(b) {
            for (var d = 0; d < b.particles.length; d++) b.particles[d].life = 0
        }, b.prototype.sort = function() {
            this.context.children.sort(this._sortFn)
        }, b.prototype.reset = function() {
            var b = 0;
            do {
                var d = this.buffer.pop();
                if (d) {
                    for (var a = 0; a < this.context.children.length; a++) {
                        var c = this.context.children[a];
                        if (c) try {
                            c.removeChild(d), b++
                        } catch (e) {}
                    }
                    d.__parentParticle && (d.__parentParticle.inserted = !1, d.__parentParticle.life = 0)
                }
            } while (0 < this.buffer.length);
            console.log("reset particles = ", b)
        }, b
    }();
    d.PixiRenderer = b
}(EPSY || (EPSY = {}));
EPSY.PlistModel = function(d) {
    d || (d = {});
    return {
        pos: {
            x: 0,
            y: 0
        },
        posVar: {
            x: d.sourcePositionVariancex,
            y: d.sourcePositionVariancey
        },
        speed: d.hasOwnProperty("speed") ? d.speed : 0,
        speedVar: d.hasOwnProperty("speedVariance") ? d.speedVariance : 0,
        angle: d.hasOwnProperty("angle") ? d.angle : 0,
        angleVar: d.hasOwnProperty("angleVariance") ? d.angleVariance : 0,
        life: d.hasOwnProperty("particleLifespan") ? d.particleLifespan : 0,
        lifeVar: d.hasOwnProperty("particleLifespanVariance") ? d.particleLifespanVariance : 0,
        radius: d.hasOwnProperty("maxRadius") ?
            Math.max(d.maxRadius, d.minRadius) : 0,
        radiusVar: d.hasOwnProperty("maxRadiusVariance") ? d.maxRadiusVariance / d.maxRadius : 0,
        textureAdditive: !0,
        startScale: d.hasOwnProperty("startParticleSize") ? d.startParticleSize / 300 : 0,
        startScaleVar: d.hasOwnProperty("startParticleSizeVariance") ? d.startParticleSizeVariance / 300 : 0,
        endScale: d.hasOwnProperty("finishParticleSize") ? d.finishParticleSize / 300 : 0,
        endScaleVar: d.hasOwnProperty("finishParticleSizeVariance") ? d.finishParticleSizeVariance / 300 : 0,
        startColor: [255 * d.startColorRed,
            255 * d.startColorGreen, 255 * d.startColorBlue, d.startColorAlpha
        ],
        startColorVar: [255 * d.startColorVarianceRed, 255 * d.startColorVarianceGreen, 255 * d.startColorVarianceBlue, d.startColorVarianceAlpha],
        endColor: [255 * d.finishColorRed, 255 * d.finishColorGreen, 255 * d.finishColorBlue, d.finishColorAlpha],
        endColorVar: [255 * d.finishColorVarianceRed, 255 * d.finishColorVarianceGreen, 255 * d.finishColorVarianceBlue, d.finishColorVarianceAlpha],
        gravity: {
            x: d.gravityx,
            y: d.gravityy
        },
        radialAccel: d.radialAcceleration,
        radialAccelVar: d.radialAccelVariance,
        tangentialAccel: d.tangentialAcceleration,
        tangentialAccelVar: d.tangentialAccelVariance,
        texture: !1,
        img: d.img,
        totalParticles: d.maxParticles / 2,
        emissionRate: d.maxParticles / 6,
        xEquation: "",
        yEquation: "",
        textureEnabled: !0,
        active: !0,
        duration: 0 < d.duration ? d.duration : Infinity,
        border: {
            left: 1920,
            top: 1080,
            right: 1920,
            bottom: 1080
        },
        zIndex: 40
    }
};
Phaser.Plugin.EPSY = function(d, b) {
    Phaser.Plugin.call(this, d, b);
    this.emitters = [];
    this.defaultTexture = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAACz0lEQVR42t2XP0hbURTGnfp/KK3QFiylCG11aRYpBQWFDiJCg266BNQtdnBQyOASQjp1KS4KGVw6iXMWEUdHUShkCBhSQpaQkJg/Jmm/H3xLEdtaWvLawMfJvfec79x77jnnvdfX96/9MpnM9VwudzOfz98qFAq3kYyZ/6tOi8XinVKpdLdSqfRXq9UHwsNarfYIyZh51tH7Y5s5Pj6+BqHI7+OsXq8/aTQag8LzZrM5JAwjGTPPOnroY4f9bzvPZrM3OBEnFPFTOXohvGy1WiPC6/Pz81FhDMmYedbRQx877OG5snPutFwu3zs7OxvQyZ6JPGSnE8KkMN1ut98KYSRjz094MyHssIcHviud3M4fE15OJuJxOZoSZoU5ISIsCIuWEc+zPoW+IzIED3y/FAnujLCxczt/JbI3Pum8sCQsCyudTmdVWEMy9vyS9cLYYe9NDMD705wgcbg7h33Ezmd8wqidrgtxISm8t4x7ns1ErT/jTYzABy/8Pyw1spcE4g4d9rDJ3ok8JiSED8KGsClsWW54nvUY+rYL+zpC8MJ/aYmyO0qILCaRfOfzPnnMJ/0opIRPwk63291FepzyetKbiNp+Cj544b80CtwRdUwpkc1OqCWHPWHybTtNS+5LHlimPb9tvYSvg5yYhQ9e+PFzWfj7aSa++0ln9bLvlvCm7GRP8lDySDhBerzn9ZT1152Yc/A5Fwbxc+EaqFPaKR3N9T7tO1xxgm04zJz0UPis/6fCFyRjbyJtPfTjro4IfPDCj58LfYEHCllKydDZ3GQWHP6kE23H4T6y05Jk1fLUkdh3TmzabtV9gmY1Cj9+8PfdBniqOQGHaa/O/kXXOaW25fAeOOycvPpVP6THJ86JXVcHdmtuVlTDGPz4wV+wItDzHOh5FfS8DwSiE/b8WdDzp2Eg3gd6/kYUiHfCQLwVB+K7IBBfRoH5Nvyvf98A3rZr7fen7G8AAAAASUVORK5CYII=";
    this._sortFn =
        function(b, d) {
            return (b.__z || 0) - (d.__z || 0)
        };
    var h = this;
    this._onResume = function() {
        for (var b = 0; b < h.emitters.length; b++) h.emitters[b].lastTimestamp = Date.now()
    };
    d.onResume.add(this._onResume, this);
    this.game.epsy = this
};
Phaser.Plugin.EPSY.prototype = Object.create(Phaser.Plugin.prototype);
Phaser.Plugin.EPSY.prototype.constructor = Phaser.Plugin.EPSY;
Phaser.Plugin.EPSY.VERSION = "0.5.1";
var updateParticle = function(d, b) {
    b.sprite || (b.sprite = PIXI.Sprite.fromImage(b.texture || this.defaultTexture), b.sprite.__parentParticle = b, b.sprite.anchor.x = .5, b.sprite.anchor.y = .5, b.sprite.tail = 0, b.ready = !0);
    b.inserted || (b.inserted = !0, d.buffer.push(b.sprite), d.container.addChild(b.sprite));
    b.sprite.width = b.radius * b.scale;
    b.sprite.height = b.radius * b.scale;
    b.sprite.position.x = b.pos.x;
    b.sprite.position.y = b.pos.y;
    b.sprite.blendMode = b.textureAdditive ? PIXI.blendModes.ADD : PIXI.blendModes.NORMAL;
    b.sprite.tint = ~~b.color[2] + 256 * ~~b.color[1] + 65536 * ~~b.color[0];
    b.sprite.alpha = b.color[3]
};
Phaser.Plugin.EPSY.Emitter = function(d, b) {
    PIXI.DisplayObjectContainer.call(this);
    this.particleSystem = d;
    this.emitter = b
};
Phaser.Plugin.EPSY.Emitter.prototype = Object.create(PIXI.DisplayObjectContainer.prototype);
Phaser.Plugin.EPSY.Emitter.prototype.constructor = Phaser.Plugin.EPSY.Emitter;
Phaser.Plugin.EPSY.Emitter.prototype.preUpdate = function() {};
Phaser.Plugin.EPSY.Emitter.prototype.postUpdate = function() {};
Phaser.Plugin.EPSY.Emitter.prototype.destroy = function() {};
Phaser.Plugin.EPSY.Emitter.prototype.update = function() {
    var d = Date.now(),
        b = d - (this.__ez_parent.lastTimestamp || d);
    this.__ez_parent.lastTimestamp = d;
    d = this.emitter;
    d.update(b / 1E3);
    for (b = 0; b < d.particles.length; ++b) {
        var h = d.particles[b];
        0 < h.life && h.color && updateParticle.call(this.particleSystem, d, h)
    }
};
Phaser.Plugin.EPSY.Emitter.prototype.reset = function() {
    var d = this.emitter.buffer,
        b = this.emitter.container;
    do {
        var h = d.pop();
        h && (b.removeChild(h), h.__parentParticle && (h.__parentParticle.inserted = !1))
    } while (0 < d.length)
};
Phaser.Plugin.EPSY.prototype.createEmitter = function(d, b, h) {
    b = b || 0;
    h = h || 0;
    var g = new EPSY.Emitter(d);
    return g.buffer = [], g.settings.pos.x = 0, g.settings.pos.y = 0, this.emitters.push(g), g.container = new Phaser.Plugin.EPSY.Emitter(this, g), g.container.position.x = b, g.container.position.y = h, g.zIndex = d.zIndex, g.container.__ez_parent = g, g.lastTimestamp = Date.now(), g.container
};
Phaser.Plugin.EPSY.prototype.loadSystem = function(d, b, h) {
    b = b || 0;
    h = h || 0;
    var g = nge.game.add.group();
    var f = "string" == typeof d ? JSON.parse(_data) : "object" != typeof d || d instanceof Array ? d : [d];
    for (var a = 0; a < f.length; a++) d = f[a], d = this.createEmitter(d, d.pos.x, d.pos.y), g.add(d);
    return g.position.x = b, g.position.y = h, g.children.sort(this._sortFn), g
};
__extends = this && this.__extends || function() {
    var d = Object.setPrototypeOf || {
        __proto__: []
    }
    instanceof Array && function(b, d) {
        b.__proto__ = d
    } || function(b, d) {
        for (var g in d) d.hasOwnProperty(g) && (b[g] = d[g])
    };
    return function(b, h) {
        function g() {
            this.constructor = b
        }
        d(b, h);
        b.prototype = null === h ? Object.create(h) : (g.prototype = h.prototype, new g)
    }
}();
var PhaserNineSlice;
(function(d) {
    var b = function(b) {
        function d(d, a, c, e, g, h, m, q) {
            a = b.call(this, d, a, c, e, g) || this;
            a.baseTexture = a.texture.baseTexture;
            a.baseFrame = a.texture.frame;
            null === g || q ? q || (q = d.cache.getNineSlice(e)) : q = d.cache.getNineSlice(g);
            if (void 0 === q) return a;
            a.topSize = q.top;
            a.leftSize = q.left ? q.left : a.topSize;
            a.rightSize = q.right ? q.right : a.leftSize;
            a.bottomSize = q.bottom ? q.bottom : a.topSize;
            a.loadTexture(new Phaser.RenderTexture(a.game, a.localWidth, a.localHeight));
            a.resize(h, m);
            return a
        }
        __extends(d, b);
        d.prototype.renderTexture =
            function() {
                this.texture.resize(this.localWidth, this.localHeight, !0);
                var b = [0, this.leftSize, this.baseFrame.width - this.rightSize, this.baseFrame.width],
                    a = [0, this.topSize, this.baseFrame.height - this.bottomSize, this.baseFrame.height],
                    c = [0, this.leftSize, this.localWidth - this.rightSize, this.localWidth],
                    d = [0, this.topSize, this.localHeight - this.bottomSize, this.localHeight];
                this.texture.clear();
                for (var g = 0; 3 > g; g++)
                    for (var h = 0; 3 > h; h++) {
                        var m = this.createTexturePart(b[h], a[g], b[h + 1] - b[h], a[g + 1] - a[g]);
                        m.width = (c[h +
                            1] - c[h]) / this.game.world.scale.x;
                        m.height = (d[g + 1] - d[g]) / this.game.world.scale.y;
                        this.texture.renderXY(m, c[h], d[g])
                    }
            };
        d.prototype.resize = function(b, a) {
            this.localWidth = b;
            this.localHeight = a;
            this.renderTexture()
        };
        d.prototype.destroy = function() {
            for (var d = [], a = 0; a < arguments.length; a++) d[a] = arguments[a];
            b.prototype.destroy.call(this, d[0]);
            this.texture.destroy(!0);
            this.baseFrame = this.baseTexture = this.texture = null
        };
        d.prototype.createTexturePart = function(b, a, c, d) {
            b = new PIXI.Rectangle(this.baseFrame.x + this.texture.frame.x +
                b, this.baseFrame.y + this.texture.frame.y + a, Math.max(c, 1), Math.max(d, 1));
            return new Phaser.Sprite(this.game, 0, 0, new PIXI.Texture(this.baseTexture, b))
        };
        return d
    }(Phaser.Sprite);
    d.NineSlice = b
})(PhaserNineSlice || (PhaserNineSlice = {}));
(function(d) {
    var b = function(b) {
        function g(d, a) {
            d = b.call(this, d, a) || this;
            d.addNineSliceCache();
            d.addNineSliceFactory();
            d.addNineSliceLoader();
            return d
        }
        __extends(g, b);
        g.prototype.addNineSliceLoader = function() {
            Phaser.Loader.prototype.nineSlice = function(b, a, c, d, g, h) {
                c = {
                    top: c
                };
                d && (c.left = d);
                g && (c.right = g);
                h && (c.bottom = h);
                this.addToFileList("image", b, a);
                this.game.cache.addNineSlice(b, c)
            }
        };
        g.prototype.addNineSliceFactory = function() {
            Phaser.GameObjectFactory.prototype.nineSlice = function(b, a, c, e, g, h, m) {
                void 0 ===
                    m && (m = this.world);
                b = new d.NineSlice(this.game, b, a, c, e, g, h);
                return m.add(b)
            };
            Phaser.GameObjectCreator.prototype.nineSlice = function(b, a, c, e, g, h) {
                return new d.NineSlice(this.game, b, a, c, e, g, h)
            }
        };
        g.prototype.addNineSliceCache = function() {
            Phaser.Cache.prototype.nineSlice = {};
            Phaser.Cache.prototype.addNineSlice = function(b, a) {
                this.nineSlice[b] = a
            };
            Phaser.Cache.prototype.getNineSlice = function(b) {
                var a = this.nineSlice[b];
                void 0 === a && console.warn('Phaser.Cache.getNineSlice: Key "' + b + '" not found in Cache.');
                return a
            }
        };
        return g
    }(Phaser.Plugin);
    d.Plugin = b
})(PhaserNineSlice || (PhaserNineSlice = {}));
DataView.prototype.getString = function(d, b) {
    for (var h = new String, g = 0; g < b; g++) h += String.fromCharCode(this.getInt8(d++));
    return h
};
Phaser.Particles.Unity = {};
Phaser.Particles.Unity.Emitter = function(d, b, h) {
    Phaser.Group.call(this, d);
    this.maxParticles = 50;
    this.lifespan = 1;
    this.looping = !1;
    this.tint = 16777215;
    this.name = "emitter" + this.game.particles.ID++;
    this.type = Phaser.EMITTER;
    this.physicsType = Phaser.GROUP;
    this.area = new Phaser.Rectangle(b, h, 1, 1);
    this.particleClass = Phaser.Particle;
    this.on = !1;
    this.particleAnchor = new Phaser.Point(.5, .5);
    this.blendMode = Phaser.blendModes.NORMAL;
    this.emitX = b;
    this.emitY = h;
    this.particleSendToBack = this.particleBringToTop = !1;
    this._flowTotal =
        this._flowQuantity = this._counter = this._timer = this._quantity = 0;
    this._frames = null;
    this._startTime = this._step = 0;
    this._alive = {};
    this.qualityFactor = nge && nge.assets ? 1 / nge.assets.getQualityFactor() : 1
};
Phaser.Particles.Unity.Emitter.prototype = Object.create(Phaser.Group.prototype);
Phaser.Particles.Unity.Emitter.prototype.constructor = Phaser.Particles.Unity.Emitter;
Phaser.Particles.Unity.EventType = {
    None: 0,
    Create: 1,
    Destroy: 2,
    PositionX: 4,
    PositionY: 8,
    Rotation: 16,
    Scale: 32,
    Alpha: 64
};
Phaser.Particles.Unity.Emitter.prototype.update = function() {
    if (this.on && this.game.time.time >= this._timer) {
        for (var d = this._data.frames[this._step], b = 0; b < d.e.length; b++) {
            var h = d.e[b];
            (h.t & Phaser.Particles.Unity.EventType.Create) === Phaser.Particles.Unity.EventType.Create && (this._alive[h.i] = this.emitParticle(void 0, void 0, void 0, void 0, h.l), this._alive[h.i] || console.warn("Cannot emit more particles. Increse maxParticles value."));
            this._alive[h.i] ? ((h.t & Phaser.Particles.Unity.EventType.PositionX) === Phaser.Particles.Unity.EventType.PositionX &&
                (this._alive[h.i].position.x = this._alive[h.i].emitPosition.x + h.x), (h.t & Phaser.Particles.Unity.EventType.PositionY) === Phaser.Particles.Unity.EventType.PositionY && (this._alive[h.i].position.y = 1080 - this._alive[h.i].emitPosition.y - h.y), (h.t & Phaser.Particles.Unity.EventType.Rotation) === Phaser.Particles.Unity.EventType.Rotation && (this._alive[h.i].angle = h.r), (h.t & Phaser.Particles.Unity.EventType.Scale) === Phaser.Particles.Unity.EventType.Scale && this._alive[h.i].scale.set(h.s * this.qualityFactor), (h.t & Phaser.Particles.Unity.EventType.Alpha) ===
                Phaser.Particles.Unity.EventType.Alpha && (this._alive[h.i].alpha = h.a / 255), (h.t & Phaser.Particles.Unity.EventType.Destroy) === Phaser.Particles.Unity.EventType.Destroy && (this._alive[h.i].kill(), delete this._alive[h.i])) : console.warn("No particle with id " + h.i)
        }
        this._step++;
        if (this._step >= this._data.frames.length) return this.looping ? this.start(!0) : this.kill();
        this._timer = this._startTime + d.d * this.game.time.slowMotion
    }
    for (b = this.children.length; b--;) this.children[b].exists && this.children[b].update()
};
Phaser.Particles.Unity.Emitter.prototype._parseBinaryData = function(d) {
    var b = {},
        h = 0;
    d = new DataView(d, 0);
    var g = d.getInt32(0, !0);
    h += 4;
    b.asset = d.getString(h, g);
    h += g;
    b.looping = 1 === d.getInt8(h);
    h += 1;
    b.duration = d.getFloat32(h, !0);
    h += 4;
    b.maxParticles = d.getInt32(h, !0);
    h += 4;
    b.lifetime = d.getFloat32(h, !0);
    h += 4;
    b.isSpriteSheet = 1 === d.getInt8(h, !0);
    h += 1;
    b.isSpriteSheet && (b.cycles = d.getInt8(h, !0), h += 1, b.sprites = d.getInt8(h, !0), h += 1, b.numTilesX = d.getInt8(h, !0), h += 1, b.numTilesY = d.getInt8(h, !0), h += 1);
    b.x = d.getFloat32(h,
        !0);
    h += 4;
    b.y = d.getFloat32(h, !0);
    h += 4;
    b.frames = [];
    g = d.getUint16(h, !0);
    h += 2;
    for (var f = 0; f < g; f++) {
        var a = {};
        a.d = d.getInt32(h, !0);
        h += 4;
        var c = d.getUint16(h, !0);
        h += 2;
        a.e = [];
        for (var e = 0; e < c; e++) {
            var k = {};
            k.i = d.getUint16(h, !0);
            h += 2;
            k.t = d.getUint8(h);
            h += 1;
            (k.t & Phaser.Particles.Unity.EventType.Create) === Phaser.Particles.Unity.EventType.Create && (k.l = d.getFloat32(h, !0), h += 4);
            (k.t & Phaser.Particles.Unity.EventType.PositionX) === Phaser.Particles.Unity.EventType.PositionX && (k.x = d.getFloat32(h, !0), h += 4);
            (k.t & Phaser.Particles.Unity.EventType.PositionY) ===
            Phaser.Particles.Unity.EventType.PositionY && (k.y = d.getFloat32(h, !0), h += 4);
            (k.t & Phaser.Particles.Unity.EventType.Rotation) === Phaser.Particles.Unity.EventType.Rotation && (k.r = d.getFloat32(h, !0), h += 4);
            (k.t & Phaser.Particles.Unity.EventType.Scale) === Phaser.Particles.Unity.EventType.Scale && (k.s = d.getFloat32(h, !0), h += 4);
            (k.t & Phaser.Particles.Unity.EventType.Alpha) === Phaser.Particles.Unity.EventType.Alpha && (k.a = d.getUint8(h), h += 1);
            a.e.push(k)
        }
        b.frames.push(a)
    }
    return b
};
Phaser.Particles.Unity.Emitter.prototype.makeParticles = function(d, b) {
    void 0 === b && (b = 0);
    if (this.game.cache.checkJSONKey(d)) this._data = this.game.cache.getJSON(d);
    else if (this.game.cache.checkBinaryKey(d)) this._data = this._parseBinaryData(this.game.cache.getBinary(d));
    else throw Error('Asset "' + d + '" not found in cache.');
    d = 0;
    var h = this._data.asset,
        g = b;
    var f = this._data.maxParticles;
    this._frames = b;
    this.maxParticles = f;
    for (this.isSpriteSheet = this._data.isSpriteSheet; d < this.maxParticles;) Array.isArray(b) &&
        (g = this.game.rnd.pick(b)), f = new this.particleClass(this.game, 0, 0, h, g), f.exists = !1, f.visible = !1, f.anchor.copyFrom(this.particleAnchor), this.isSpriteSheet && f.animations.add("run", Array.apply(null, {
            length: this._data.sprites
        }).map(Number.call, Number)), this.add(f), d++;
    return this
};
Phaser.Particles.Unity.Emitter.prototype.kill = function() {
    this.exists = this.alive = this.on = !1;
    for (var d in this._alive) this._alive[d].kill();
    this._alive = {}
};
Phaser.Particles.Unity.Emitter.prototype.revive = function() {
    this.exists = this.alive = !0
};
Phaser.Particles.Unity.Emitter.prototype.start = function(d) {
    if (this.on) throw Error("Can not start emitter while it is on");
    if (!this._data || !this._data.frames || 0 === this._data.frames.length) throw Error('Unity Emitter should be initialized first. Use "makeParticles" method.');
    this.revive();
    this.looping = d;
    this.on = this.visible = !0;
    this._step = this._counter = 0;
    this._timer = this.game.time.time + this._data.frames[0].d * this.game.time.slowMotion;
    this._startTime = this.game.time.time
};
Phaser.Particles.Unity.Emitter.prototype.emitParticle = function(d, b, h, g, f) {
    void 0 === d && (d = null);
    void 0 === b && (b = null);
    void 0 === f && (f = this.lifespan);
    var a = this.getFirstExists(!1);
    if (null === a) return !1;
    var c = this.game.rnd;
    void 0 !== h && void 0 !== g ? a.loadTexture(h, g) : void 0 !== h && a.loadTexture(h);
    h = this.emitX;
    var e = this.emitY;
    null !== d ? h = d : 1 < this.width && (h = c.between(this.left, this.right));
    null !== b ? e = b : 1 < this.height && (e = c.between(this.top, this.bottom));
    a.reset(h, e);
    a.emitPosition = {
        x: h,
        y: e
    };
    a.angle = 0;
    a.lifespan =
        1E3 * f;
    a.tint = this.tint;
    this.isSpriteSheet && a.animations.play("run", this._data.sprites / f * this._data.cycles, !0);
    this.particleBringToTop ? this.bringToTop(a) : this.particleSendToBack && this.sendToBack(a);
    void 0 === g && (Array.isArray(this._frames) ? a.frame = this.game.rnd.pick(this._frames) : a.frame = this._frames);
    a.blendMode = this.blendMode;
    a.onEmit();
    return a
};
Phaser.Particles.Unity.Emitter.prototype.destroy = function() {
    this.game.particles.remove(this);
    Phaser.Group.prototype.destroy.call(this, !0, !1)
};
Phaser.Particles.Unity.Emitter.prototype.at = function(d) {
    d.center ? (this.emitX = d.center.x, this.emitY = d.center.y) : (this.emitX = d.world.x + d.anchor.x * d.width, this.emitY = d.world.y + d.anchor.y * d.height)
};
Object.defineProperty(Phaser.Particles.Unity.Emitter.prototype, "width", {
    get: function() {
        return this.area.width
    },
    set: function(d) {
        this.area.width = d
    }
});
Object.defineProperty(Phaser.Particles.Unity.Emitter.prototype, "height", {
    get: function() {
        return this.area.height
    },
    set: function(d) {
        this.area.height = d
    }
});
Object.defineProperty(Phaser.Particles.Unity.Emitter.prototype, "x", {
    get: function() {
        return this.emitX
    },
    set: function(d) {
        this.emitX = d
    }
});
Object.defineProperty(Phaser.Particles.Unity.Emitter.prototype, "y", {
    get: function() {
        return this.emitY
    },
    set: function(d) {
        this.emitY = d
    }
});
Object.defineProperty(Phaser.Particles.Unity.Emitter.prototype, "left", {
    get: function() {
        return Math.floor(this.x - this.area.width / 2)
    }
});
Object.defineProperty(Phaser.Particles.Unity.Emitter.prototype, "right", {
    get: function() {
        return Math.floor(this.x + this.area.width / 2)
    }
});
Object.defineProperty(Phaser.Particles.Unity.Emitter.prototype, "top", {
    get: function() {
        return Math.floor(this.y - this.area.height / 2)
    }
});
Object.defineProperty(Phaser.Particles.Unity.Emitter.prototype, "bottom", {
    get: function() {
        return Math.floor(this.y + this.area.height / 2)
    }
});
Phaser.GameObjectFactory.prototype.unityEmitter = function(d, b) {
    return this.game.particles.add(new Phaser.Particles.Unity.Emitter(this.game, d, b))
};
Phaser.GameObjectCreator.prototype.unityEmitter = function(d, b) {
    return new Phaser.Particles.Unity.Emitter(this.game, d, b)
};
! function(d) {
    function b(d) {
        d.parent instanceof Function && (b.apply(this, [d.parent]), this.super = h(this, g(this, this.constructor)));
        d.apply(this, arguments)
    }

    function h(b, a) {
        for (var c in b) "super" !== c && b[c] instanceof Function && !(b[c].prototype instanceof Class) && (a[c] = b[c].super || g(b, b[c]));
        return a
    }

    function g(b, a) {
        var c = b.super;
        return a.super = function() {
            return b.super = c, a.apply(b, arguments)
        }
    }
    d.Class = function() {};
    d.Class.extend = function c(a) {
        function d() {
            b !== arguments[0] && (b.apply(this, [a]), h(this, this),
                this.initializer instanceof Function && this.initializer.apply(this), this.constructor.apply(this, arguments))
        }
        return d.prototype = new this(b), d.prototype.constructor = d, d.toString = function() {
            return a.toString()
        }, d.extend = function(b) {
            return b.parent = a, c.apply(d, arguments)
        }, d
    };
    d.Class = d.Class.extend(function() {
        this.constructor = function() {}
    })
}(this);
(function(d) {
    var b = String.fromCharCode(120, 1),
        h = [],
        g = String.fromCharCode(137, 80, 78, 71, 13, 10, 26, 10),
        f = String.fromCharCode(0),
        a = function(a) {
            return String.fromCharCode((a & 4278190080) >>> 24, (a & 16711680) >>> 16, (a & 65280) >>> 8, a & 255)
        },
        c = function(b, c, d) {
            var e = c + d,
                f = 4294967295,
                g;
            for (g = 0; g < e.length; g++) {
                var k = e.charCodeAt(g);
                f = h[(f ^ k) & 255] ^ f >>> 8
            }
            e = f ^ 4294967295;
            return a(b) + c + d + a(e)
        };
    (function() {
        var a, b;
        for (a = 0; 256 > a; a++) {
            var c = a;
            for (b = 0; 8 > b; b++) c = c & 1 ? 3988292384 ^ c >>> 1 : c >>> 1;
            h[a] = c
        }
    })();
    var e = c(0, "IEND", "");
    d.generatePng =
        function(d, h, m) {
            var k = a(d);
            k += a(h);
            k += String.fromCharCode(8);
            k += String.fromCharCode(6);
            k += String.fromCharCode(0);
            k += String.fromCharCode(0);
            k += String.fromCharCode(0);
            h = c(13, "IHDR", k);
            k = "";
            var l, p;
            for (l = 0; l < m.length; l += 4 * d) {
                var r = f;
                if (Array.isArray(m))
                    for (p = 0; p < 4 * d; p++) r += String.fromCharCode(m[l + p] & 255);
                else r += m.substr(l, 4 * d);
                k += r
            }
            d = k;
            m = "";
            for (r = 0; r < d.length; r += 65535) l = d.length - r, 65535 >= l ? p = String.fromCharCode(1) : (l = 65535, p = String.fromCharCode(0)), m += p + String.fromCharCode(l & 255, (l & 65280) >>> 8), m += String.fromCharCode(~l &
                255, (~l & 65280) >>> 8), m += d.substring(r, r + l);
            d = b + m;
            m = 1;
            for (l = r = 0; l < k.length; l++) m = (m + k.charCodeAt(l)) % 65521, r = (r + m) % 65521;
            k = d + a(r << 16 | m);
            k = c(k.length, "IDAT", k);
            return g + h + k + e
        }
})(this);
! function(d, b) {
    "object" == typeof exports && "object" == typeof module ? module.exports = b() : "function" == typeof define && define.amd ? define([], b) : "object" == typeof exports ? exports.NoSleep = b() : d.NoSleep = b()
}(this, function() {
    return function(d) {
        function b(g) {
            if (h[g]) return h[g].exports;
            var f = h[g] = {
                i: g,
                l: !1,
                exports: {}
            };
            return d[g].call(f.exports, f, f.exports, b), f.l = !0, f.exports
        }
        var h = {};
        return b.m = d, b.c = h, b.d = function(d, f, a) {
            b.o(d, f) || Object.defineProperty(d, f, {
                configurable: !1,
                enumerable: !0,
                get: a
            })
        }, b.n = function(d) {
            var f =
                d && d.__esModule ? function() {
                    return d.default
                } : function() {
                    return d
                };
            return b.d(f, "a", f), f
        }, b.o = function(b, d) {
            return Object.prototype.hasOwnProperty.call(b, d)
        }, b.p = "", b(b.s = 0)
    }([function(d, b, h) {
        var g = function() {
                function a(a, b) {
                    for (var c = 0; c < b.length; c++) {
                        var d = b[c];
                        d.enumerable = d.enumerable || !1;
                        d.configurable = !0;
                        "value" in d && (d.writable = !0);
                        Object.defineProperty(a, d.key, d)
                    }
                }
                return function(b, c, d) {
                    return c && a(b.prototype, c), d && a(b, d), b
                }
            }(),
            f = h(1),
            a = "undefined" != typeof navigator && 10 > parseFloat(("" + (/CPU.*OS ([0-9_]{3,4})[0-9_]{0,1}|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent) || [0, ""])[1]).replace("undefined", "3_2").replace("_", ".").replace("_", "")) && !window.MSStream;
        b = function() {
            function b() {
                if (!(this instanceof b)) throw new TypeError("Cannot call a class as a function");
                a ? this.noSleepTimer = null : (this.noSleepVideo = document.createElement("video"), this.noSleepVideo.setAttribute("playsinline", ""), this.noSleepVideo.setAttribute("src", f), this.noSleepVideo.addEventListener("timeupdate", function(a) {
                    .5 < this.noSleepVideo.currentTime && (this.noSleepVideo.currentTime = Math.random())
                }.bind(this)))
            }
            return g(b, [{
                key: "enable",
                value: function() {
                    a ? (this.disable(), this.noSleepTimer = window.setInterval(function() {
                        if ("visible" !== document.visibilityState) return !1;
                        window.location.href = "/";
                        window.setTimeout(window.stop, 0)
                    }, 15E3)) : this.noSleepVideo.play()
                }
            }, {
                key: "disable",
                value: function() {
                    a ? this.noSleepTimer && (window.clearInterval(this.noSleepTimer), this.noSleepTimer = null) : this.noSleepVideo.pause()
                }
            }]), b
        }();
        d.exports = b
    }, function(d, b, h) {
        d.exports = "data:video/mp4;base64,AAAAIGZ0eXBtcDQyAAACAGlzb21pc28yYXZjMW1wNDEAAAAIZnJlZQAACKBtZGF0AAAC8wYF///v3EXpvebZSLeWLNgg2SPu73gyNjQgLSBjb3JlIDE0MiByMjQ3OSBkZDc5YTYxIC0gSC4yNjQvTVBFRy00IEFWQyBjb2RlYyAtIENvcHlsZWZ0IDIwMDMtMjAxNCAtIGh0dHA6Ly93d3cudmlkZW9sYW4ub3JnL3gyNjQuaHRtbCAtIG9wdGlvbnM6IGNhYmFjPTEgcmVmPTEgZGVibG9jaz0xOjA6MCBhbmFseXNlPTB4MToweDExMSBtZT1oZXggc3VibWU9MiBwc3k9MSBwc3lfcmQ9MS4wMDowLjAwIG1peGVkX3JlZj0wIG1lX3JhbmdlPTE2IGNocm9tYV9tZT0xIHRyZWxsaXM9MCA4eDhkY3Q9MCBjcW09MCBkZWFkem9uZT0yMSwxMSBmYXN0X3Bza2lwPTEgY2hyb21hX3FwX29mZnNldD0wIHRocmVhZHM9NiBsb29rYWhlYWRfdGhyZWFkcz0xIHNsaWNlZF90aHJlYWRzPTAgbnI9MCBkZWNpbWF0ZT0xIGludGVybGFjZWQ9MCBibHVyYXlfY29tcGF0PTAgY29uc3RyYWluZWRfaW50cmE9MCBiZnJhbWVzPTMgYl9weXJhbWlkPTIgYl9hZGFwdD0xIGJfYmlhcz0wIGRpcmVjdD0xIHdlaWdodGI9MSBvcGVuX2dvcD0wIHdlaWdodHA9MSBrZXlpbnQ9MzAwIGtleWludF9taW49MzAgc2NlbmVjdXQ9NDAgaW50cmFfcmVmcmVzaD0wIHJjX2xvb2thaGVhZD0xMCByYz1jcmYgbWJ0cmVlPTEgY3JmPTIwLjAgcWNvbXA9MC42MCBxcG1pbj0wIHFwbWF4PTY5IHFwc3RlcD00IHZidl9tYXhyYXRlPTIwMDAwIHZidl9idWZzaXplPTI1MDAwIGNyZl9tYXg9MC4wIG5hbF9ocmQ9bm9uZSBmaWxsZXI9MCBpcF9yYXRpbz0xLjQwIGFxPTE6MS4wMACAAAAAOWWIhAA3//p+C7v8tDDSTjf97w55i3SbRPO4ZY+hkjD5hbkAkL3zpJ6h/LR1CAABzgB1kqqzUorlhQAAAAxBmiQYhn/+qZYADLgAAAAJQZ5CQhX/AAj5IQADQGgcIQADQGgcAAAACQGeYUQn/wALKCEAA0BoHAAAAAkBnmNEJ/8ACykhAANAaBwhAANAaBwAAAANQZpoNExDP/6plgAMuSEAA0BoHAAAAAtBnoZFESwr/wAI+SEAA0BoHCEAA0BoHAAAAAkBnqVEJ/8ACykhAANAaBwAAAAJAZ6nRCf/AAsoIQADQGgcIQADQGgcAAAADUGarDRMQz/+qZYADLghAANAaBwAAAALQZ7KRRUsK/8ACPkhAANAaBwAAAAJAZ7pRCf/AAsoIQADQGgcIQADQGgcAAAACQGe60Qn/wALKCEAA0BoHAAAAA1BmvA0TEM//qmWAAy5IQADQGgcIQADQGgcAAAAC0GfDkUVLCv/AAj5IQADQGgcAAAACQGfLUQn/wALKSEAA0BoHCEAA0BoHAAAAAkBny9EJ/8ACyghAANAaBwAAAANQZs0NExDP/6plgAMuCEAA0BoHAAAAAtBn1JFFSwr/wAI+SEAA0BoHCEAA0BoHAAAAAkBn3FEJ/8ACyghAANAaBwAAAAJAZ9zRCf/AAsoIQADQGgcIQADQGgcAAAADUGbeDRMQz/+qZYADLkhAANAaBwAAAALQZ+WRRUsK/8ACPghAANAaBwhAANAaBwAAAAJAZ+1RCf/AAspIQADQGgcAAAACQGft0Qn/wALKSEAA0BoHCEAA0BoHAAAAA1Bm7w0TEM//qmWAAy4IQADQGgcAAAAC0Gf2kUVLCv/AAj5IQADQGgcAAAACQGf+UQn/wALKCEAA0BoHCEAA0BoHAAAAAkBn/tEJ/8ACykhAANAaBwAAAANQZvgNExDP/6plgAMuSEAA0BoHCEAA0BoHAAAAAtBnh5FFSwr/wAI+CEAA0BoHAAAAAkBnj1EJ/8ACyghAANAaBwhAANAaBwAAAAJAZ4/RCf/AAspIQADQGgcAAAADUGaJDRMQz/+qZYADLghAANAaBwAAAALQZ5CRRUsK/8ACPkhAANAaBwhAANAaBwAAAAJAZ5hRCf/AAsoIQADQGgcAAAACQGeY0Qn/wALKSEAA0BoHCEAA0BoHAAAAA1Bmmg0TEM//qmWAAy5IQADQGgcAAAAC0GehkUVLCv/AAj5IQADQGgcIQADQGgcAAAACQGepUQn/wALKSEAA0BoHAAAAAkBnqdEJ/8ACyghAANAaBwAAAANQZqsNExDP/6plgAMuCEAA0BoHCEAA0BoHAAAAAtBnspFFSwr/wAI+SEAA0BoHAAAAAkBnulEJ/8ACyghAANAaBwhAANAaBwAAAAJAZ7rRCf/AAsoIQADQGgcAAAADUGa8DRMQz/+qZYADLkhAANAaBwhAANAaBwAAAALQZ8ORRUsK/8ACPkhAANAaBwAAAAJAZ8tRCf/AAspIQADQGgcIQADQGgcAAAACQGfL0Qn/wALKCEAA0BoHAAAAA1BmzQ0TEM//qmWAAy4IQADQGgcAAAAC0GfUkUVLCv/AAj5IQADQGgcIQADQGgcAAAACQGfcUQn/wALKCEAA0BoHAAAAAkBn3NEJ/8ACyghAANAaBwhAANAaBwAAAANQZt4NExC//6plgAMuSEAA0BoHAAAAAtBn5ZFFSwr/wAI+CEAA0BoHCEAA0BoHAAAAAkBn7VEJ/8ACykhAANAaBwAAAAJAZ+3RCf/AAspIQADQGgcAAAADUGbuzRMQn/+nhAAYsAhAANAaBwhAANAaBwAAAAJQZ/aQhP/AAspIQADQGgcAAAACQGf+UQn/wALKCEAA0BoHCEAA0BoHCEAA0BoHCEAA0BoHCEAA0BoHCEAA0BoHAAACiFtb292AAAAbG12aGQAAAAA1YCCX9WAgl8AAAPoAAAH/AABAAABAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAAGGlvZHMAAAAAEICAgAcAT////v7/AAAF+XRyYWsAAABcdGtoZAAAAAPVgIJf1YCCXwAAAAEAAAAAAAAH0AAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAygAAAMoAAAAAACRlZHRzAAAAHGVsc3QAAAAAAAAAAQAAB9AAABdwAAEAAAAABXFtZGlhAAAAIG1kaGQAAAAA1YCCX9WAgl8AAV+QAAK/IFXEAAAAAAAtaGRscgAAAAAAAAAAdmlkZQAAAAAAAAAAAAAAAFZpZGVvSGFuZGxlcgAAAAUcbWluZgAAABR2bWhkAAAAAQAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAAE3HN0YmwAAACYc3RzZAAAAAAAAAABAAAAiGF2YzEAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAygDKAEgAAABIAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAY//8AAAAyYXZjQwFNQCj/4QAbZ01AKOyho3ySTUBAQFAAAAMAEAAr8gDxgxlgAQAEaO+G8gAAABhzdHRzAAAAAAAAAAEAAAA8AAALuAAAABRzdHNzAAAAAAAAAAEAAAABAAAB8GN0dHMAAAAAAAAAPAAAAAEAABdwAAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAADqYAAAAAQAAF3AAAAABAAAAAAAAAAEAAAu4AAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAADqYAAAAAQAAF3AAAAABAAAAAAAAAAEAAAu4AAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAADqYAAAAAQAAF3AAAAABAAAAAAAAAAEAAAu4AAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAADqYAAAAAQAAF3AAAAABAAAAAAAAAAEAAAu4AAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAAC7gAAAAAQAAF3AAAAABAAAAAAAAABxzdHNjAAAAAAAAAAEAAAABAAAAAQAAAAEAAAEEc3RzegAAAAAAAAAAAAAAPAAAAzQAAAAQAAAADQAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAAPAAAADQAAAA0AAAARAAAADwAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAAPAAAADQAAAA0AAAARAAAADwAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAAPAAAADQAAAA0AAAARAAAADwAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAAPAAAADQAAAA0AAAARAAAADwAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAANAAAADQAAAQBzdGNvAAAAAAAAADwAAAAwAAADZAAAA3QAAAONAAADoAAAA7kAAAPQAAAD6wAAA/4AAAQXAAAELgAABEMAAARcAAAEbwAABIwAAAShAAAEugAABM0AAATkAAAE/wAABRIAAAUrAAAFQgAABV0AAAVwAAAFiQAABaAAAAW1AAAFzgAABeEAAAX+AAAGEwAABiwAAAY/AAAGVgAABnEAAAaEAAAGnQAABrQAAAbPAAAG4gAABvUAAAcSAAAHJwAAB0AAAAdTAAAHcAAAB4UAAAeeAAAHsQAAB8gAAAfjAAAH9gAACA8AAAgmAAAIQQAACFQAAAhnAAAIhAAACJcAAAMsdHJhawAAAFx0a2hkAAAAA9WAgl/VgIJfAAAAAgAAAAAAAAf8AAAAAAAAAAAAAAABAQAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAACsm1kaWEAAAAgbWRoZAAAAADVgIJf1YCCXwAArEQAAWAAVcQAAAAAACdoZGxyAAAAAAAAAABzb3VuAAAAAAAAAAAAAAAAU3RlcmVvAAAAAmNtaW5mAAAAEHNtaGQAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAidzdGJsAAAAZ3N0c2QAAAAAAAAAAQAAAFdtcDRhAAAAAAAAAAEAAAAAAAAAAAACABAAAAAArEQAAAAAADNlc2RzAAAAAAOAgIAiAAIABICAgBRAFQAAAAADDUAAAAAABYCAgAISEAaAgIABAgAAABhzdHRzAAAAAAAAAAEAAABYAAAEAAAAABxzdHNjAAAAAAAAAAEAAAABAAAAAQAAAAEAAAAUc3RzegAAAAAAAAAGAAAAWAAAAXBzdGNvAAAAAAAAAFgAAAOBAAADhwAAA5oAAAOtAAADswAAA8oAAAPfAAAD5QAAA/gAAAQLAAAEEQAABCgAAAQ9AAAEUAAABFYAAARpAAAEgAAABIYAAASbAAAErgAABLQAAATHAAAE3gAABPMAAAT5AAAFDAAABR8AAAUlAAAFPAAABVEAAAVXAAAFagAABX0AAAWDAAAFmgAABa8AAAXCAAAFyAAABdsAAAXyAAAF+AAABg0AAAYgAAAGJgAABjkAAAZQAAAGZQAABmsAAAZ+AAAGkQAABpcAAAauAAAGwwAABskAAAbcAAAG7wAABwYAAAcMAAAHIQAABzQAAAc6AAAHTQAAB2QAAAdqAAAHfwAAB5IAAAeYAAAHqwAAB8IAAAfXAAAH3QAAB/AAAAgDAAAICQAACCAAAAg1AAAIOwAACE4AAAhhAAAIeAAACH4AAAiRAAAIpAAACKoAAAiwAAAItgAACLwAAAjCAAAAFnVkdGEAAAAObmFtZVN0ZXJlbwAAAHB1ZHRhAAAAaG1ldGEAAAAAAAAAIWhkbHIAAAAAAAAAAG1kaXJhcHBsAAAAAAAAAAAAAAAAO2lsc3QAAAAzqXRvbwAAACtkYXRhAAAAAQAAAABIYW5kQnJha2UgMC4xMC4yIDIwMTUwNjExMDA="
    }])
});
"use strict";
var NoSleepAndroid = function() {
    var d = "undefined" !== typeof navigator && 10 > parseFloat(("" + (/CPU.*OS ([0-9_]{3,4})[0-9_]{0,1}|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent) || [0, ""])[1]).replace("undefined", "3_2").replace("_", ".").replace("_", "")) && !window.MSStream;
    d ? this.noSleepTimer = null : (this.noSleepVideo = document.createElement("video"), this.noSleepVideo.setAttribute("loop", !0), this.noSleepVideo.setAttribute("playsinline", ""), this.noSleepVideo.setAttribute("src", "data:video/mp4;base64,AAAAIGZ0eXBtcDQyAAACAGlzb21pc28yYXZjMW1wNDEAAAAIZnJlZQAACKBtZGF0AAAC8wYF///v3EXpvebZSLeWLNgg2SPu73gyNjQgLSBjb3JlIDE0MiByMjQ3OSBkZDc5YTYxIC0gSC4yNjQvTVBFRy00IEFWQyBjb2RlYyAtIENvcHlsZWZ0IDIwMDMtMjAxNCAtIGh0dHA6Ly93d3cudmlkZW9sYW4ub3JnL3gyNjQuaHRtbCAtIG9wdGlvbnM6IGNhYmFjPTEgcmVmPTEgZGVibG9jaz0xOjA6MCBhbmFseXNlPTB4MToweDExMSBtZT1oZXggc3VibWU9MiBwc3k9MSBwc3lfcmQ9MS4wMDowLjAwIG1peGVkX3JlZj0wIG1lX3JhbmdlPTE2IGNocm9tYV9tZT0xIHRyZWxsaXM9MCA4eDhkY3Q9MCBjcW09MCBkZWFkem9uZT0yMSwxMSBmYXN0X3Bza2lwPTEgY2hyb21hX3FwX29mZnNldD0wIHRocmVhZHM9NiBsb29rYWhlYWRfdGhyZWFkcz0xIHNsaWNlZF90aHJlYWRzPTAgbnI9MCBkZWNpbWF0ZT0xIGludGVybGFjZWQ9MCBibHVyYXlfY29tcGF0PTAgY29uc3RyYWluZWRfaW50cmE9MCBiZnJhbWVzPTMgYl9weXJhbWlkPTIgYl9hZGFwdD0xIGJfYmlhcz0wIGRpcmVjdD0xIHdlaWdodGI9MSBvcGVuX2dvcD0wIHdlaWdodHA9MSBrZXlpbnQ9MzAwIGtleWludF9taW49MzAgc2NlbmVjdXQ9NDAgaW50cmFfcmVmcmVzaD0wIHJjX2xvb2thaGVhZD0xMCByYz1jcmYgbWJ0cmVlPTEgY3JmPTIwLjAgcWNvbXA9MC42MCBxcG1pbj0wIHFwbWF4PTY5IHFwc3RlcD00IHZidl9tYXhyYXRlPTIwMDAwIHZidl9idWZzaXplPTI1MDAwIGNyZl9tYXg9MC4wIG5hbF9ocmQ9bm9uZSBmaWxsZXI9MCBpcF9yYXRpbz0xLjQwIGFxPTE6MS4wMACAAAAAOWWIhAA3//p+C7v8tDDSTjf97w55i3SbRPO4ZY+hkjD5hbkAkL3zpJ6h/LR1CAABzgB1kqqzUorlhQAAAAxBmiQYhn/+qZYADLgAAAAJQZ5CQhX/AAj5IQADQGgcIQADQGgcAAAACQGeYUQn/wALKCEAA0BoHAAAAAkBnmNEJ/8ACykhAANAaBwhAANAaBwAAAANQZpoNExDP/6plgAMuSEAA0BoHAAAAAtBnoZFESwr/wAI+SEAA0BoHCEAA0BoHAAAAAkBnqVEJ/8ACykhAANAaBwAAAAJAZ6nRCf/AAsoIQADQGgcIQADQGgcAAAADUGarDRMQz/+qZYADLghAANAaBwAAAALQZ7KRRUsK/8ACPkhAANAaBwAAAAJAZ7pRCf/AAsoIQADQGgcIQADQGgcAAAACQGe60Qn/wALKCEAA0BoHAAAAA1BmvA0TEM//qmWAAy5IQADQGgcIQADQGgcAAAAC0GfDkUVLCv/AAj5IQADQGgcAAAACQGfLUQn/wALKSEAA0BoHCEAA0BoHAAAAAkBny9EJ/8ACyghAANAaBwAAAANQZs0NExDP/6plgAMuCEAA0BoHAAAAAtBn1JFFSwr/wAI+SEAA0BoHCEAA0BoHAAAAAkBn3FEJ/8ACyghAANAaBwAAAAJAZ9zRCf/AAsoIQADQGgcIQADQGgcAAAADUGbeDRMQz/+qZYADLkhAANAaBwAAAALQZ+WRRUsK/8ACPghAANAaBwhAANAaBwAAAAJAZ+1RCf/AAspIQADQGgcAAAACQGft0Qn/wALKSEAA0BoHCEAA0BoHAAAAA1Bm7w0TEM//qmWAAy4IQADQGgcAAAAC0Gf2kUVLCv/AAj5IQADQGgcAAAACQGf+UQn/wALKCEAA0BoHCEAA0BoHAAAAAkBn/tEJ/8ACykhAANAaBwAAAANQZvgNExDP/6plgAMuSEAA0BoHCEAA0BoHAAAAAtBnh5FFSwr/wAI+CEAA0BoHAAAAAkBnj1EJ/8ACyghAANAaBwhAANAaBwAAAAJAZ4/RCf/AAspIQADQGgcAAAADUGaJDRMQz/+qZYADLghAANAaBwAAAALQZ5CRRUsK/8ACPkhAANAaBwhAANAaBwAAAAJAZ5hRCf/AAsoIQADQGgcAAAACQGeY0Qn/wALKSEAA0BoHCEAA0BoHAAAAA1Bmmg0TEM//qmWAAy5IQADQGgcAAAAC0GehkUVLCv/AAj5IQADQGgcIQADQGgcAAAACQGepUQn/wALKSEAA0BoHAAAAAkBnqdEJ/8ACyghAANAaBwAAAANQZqsNExDP/6plgAMuCEAA0BoHCEAA0BoHAAAAAtBnspFFSwr/wAI+SEAA0BoHAAAAAkBnulEJ/8ACyghAANAaBwhAANAaBwAAAAJAZ7rRCf/AAsoIQADQGgcAAAADUGa8DRMQz/+qZYADLkhAANAaBwhAANAaBwAAAALQZ8ORRUsK/8ACPkhAANAaBwAAAAJAZ8tRCf/AAspIQADQGgcIQADQGgcAAAACQGfL0Qn/wALKCEAA0BoHAAAAA1BmzQ0TEM//qmWAAy4IQADQGgcAAAAC0GfUkUVLCv/AAj5IQADQGgcIQADQGgcAAAACQGfcUQn/wALKCEAA0BoHAAAAAkBn3NEJ/8ACyghAANAaBwhAANAaBwAAAANQZt4NExC//6plgAMuSEAA0BoHAAAAAtBn5ZFFSwr/wAI+CEAA0BoHCEAA0BoHAAAAAkBn7VEJ/8ACykhAANAaBwAAAAJAZ+3RCf/AAspIQADQGgcAAAADUGbuzRMQn/+nhAAYsAhAANAaBwhAANAaBwAAAAJQZ/aQhP/AAspIQADQGgcAAAACQGf+UQn/wALKCEAA0BoHCEAA0BoHCEAA0BoHCEAA0BoHCEAA0BoHCEAA0BoHAAACiFtb292AAAAbG12aGQAAAAA1YCCX9WAgl8AAAPoAAAH/AABAAABAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAAGGlvZHMAAAAAEICAgAcAT////v7/AAAF+XRyYWsAAABcdGtoZAAAAAPVgIJf1YCCXwAAAAEAAAAAAAAH0AAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAygAAAMoAAAAAACRlZHRzAAAAHGVsc3QAAAAAAAAAAQAAB9AAABdwAAEAAAAABXFtZGlhAAAAIG1kaGQAAAAA1YCCX9WAgl8AAV+QAAK/IFXEAAAAAAAtaGRscgAAAAAAAAAAdmlkZQAAAAAAAAAAAAAAAFZpZGVvSGFuZGxlcgAAAAUcbWluZgAAABR2bWhkAAAAAQAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAAE3HN0YmwAAACYc3RzZAAAAAAAAAABAAAAiGF2YzEAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAygDKAEgAAABIAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAY//8AAAAyYXZjQwFNQCj/4QAbZ01AKOyho3ySTUBAQFAAAAMAEAAr8gDxgxlgAQAEaO+G8gAAABhzdHRzAAAAAAAAAAEAAAA8AAALuAAAABRzdHNzAAAAAAAAAAEAAAABAAAB8GN0dHMAAAAAAAAAPAAAAAEAABdwAAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAADqYAAAAAQAAF3AAAAABAAAAAAAAAAEAAAu4AAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAADqYAAAAAQAAF3AAAAABAAAAAAAAAAEAAAu4AAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAADqYAAAAAQAAF3AAAAABAAAAAAAAAAEAAAu4AAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAADqYAAAAAQAAF3AAAAABAAAAAAAAAAEAAAu4AAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAAC7gAAAAAQAAF3AAAAABAAAAAAAAABxzdHNjAAAAAAAAAAEAAAABAAAAAQAAAAEAAAEEc3RzegAAAAAAAAAAAAAAPAAAAzQAAAAQAAAADQAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAAPAAAADQAAAA0AAAARAAAADwAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAAPAAAADQAAAA0AAAARAAAADwAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAAPAAAADQAAAA0AAAARAAAADwAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAAPAAAADQAAAA0AAAARAAAADwAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAANAAAADQAAAQBzdGNvAAAAAAAAADwAAAAwAAADZAAAA3QAAAONAAADoAAAA7kAAAPQAAAD6wAAA/4AAAQXAAAELgAABEMAAARcAAAEbwAABIwAAAShAAAEugAABM0AAATkAAAE/wAABRIAAAUrAAAFQgAABV0AAAVwAAAFiQAABaAAAAW1AAAFzgAABeEAAAX+AAAGEwAABiwAAAY/AAAGVgAABnEAAAaEAAAGnQAABrQAAAbPAAAG4gAABvUAAAcSAAAHJwAAB0AAAAdTAAAHcAAAB4UAAAeeAAAHsQAAB8gAAAfjAAAH9gAACA8AAAgmAAAIQQAACFQAAAhnAAAIhAAACJcAAAMsdHJhawAAAFx0a2hkAAAAA9WAgl/VgIJfAAAAAgAAAAAAAAf8AAAAAAAAAAAAAAABAQAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAACsm1kaWEAAAAgbWRoZAAAAADVgIJf1YCCXwAArEQAAWAAVcQAAAAAACdoZGxyAAAAAAAAAABzb3VuAAAAAAAAAAAAAAAAU3RlcmVvAAAAAmNtaW5mAAAAEHNtaGQAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAidzdGJsAAAAZ3N0c2QAAAAAAAAAAQAAAFdtcDRhAAAAAAAAAAEAAAAAAAAAAAACABAAAAAArEQAAAAAADNlc2RzAAAAAAOAgIAiAAIABICAgBRAFQAAAAADDUAAAAAABYCAgAISEAaAgIABAgAAABhzdHRzAAAAAAAAAAEAAABYAAAEAAAAABxzdHNjAAAAAAAAAAEAAAABAAAAAQAAAAEAAAAUc3RzegAAAAAAAAAGAAAAWAAAAXBzdGNvAAAAAAAAAFgAAAOBAAADhwAAA5oAAAOtAAADswAAA8oAAAPfAAAD5QAAA/gAAAQLAAAEEQAABCgAAAQ9AAAEUAAABFYAAARpAAAEgAAABIYAAASbAAAErgAABLQAAATHAAAE3gAABPMAAAT5AAAFDAAABR8AAAUlAAAFPAAABVEAAAVXAAAFagAABX0AAAWDAAAFmgAABa8AAAXCAAAFyAAABdsAAAXyAAAF+AAABg0AAAYgAAAGJgAABjkAAAZQAAAGZQAABmsAAAZ+AAAGkQAABpcAAAauAAAGwwAABskAAAbcAAAG7wAABwYAAAcMAAAHIQAABzQAAAc6AAAHTQAAB2QAAAdqAAAHfwAAB5IAAAeYAAAHqwAAB8IAAAfXAAAH3QAAB/AAAAgDAAAICQAACCAAAAg1AAAIOwAACE4AAAhhAAAIeAAACH4AAAiRAAAIpAAACKoAAAiwAAAItgAACLwAAAjCAAAAFnVkdGEAAAAObmFtZVN0ZXJlbwAAAHB1ZHRhAAAAaG1ldGEAAAAAAAAAIWhkbHIAAAAAAAAAAG1kaXJhcHBsAAAAAAAAAAAAAAAAO2lsc3QAAAAzqXRvbwAAACtkYXRhAAAAAQAAAABIYW5kQnJha2UgMC4xMC4yIDIwMTUwNjExMDA="), this.noSleepVideo.addEventListener("error",
        function(b) {
            console.log("noSleepVideo error")
        }.bind(this)), this.noSleepVideo.addEventListener("ended", function(b) {
        console.log("noSleepVideo ended")
    }.bind(this)), this.noSleepVideo.addEventListener("pause", function(b) {
        console.log("noSleepVideo pause")
    }.bind(this)), this.noSleepVideo.addEventListener("abort", function(b) {
        console.log("noSleepVideo aborted")
    }.bind(this)));
    this.enable = function() {
        if (!d) return this.noSleepVideo.play();
        this.disable();
        this.noSleepTimer = window.setInterval(function() {
            if ("visible" !==
                document.visibilityState) return !1;
            window.location.href = "/";
            window.setTimeout(window.stop, 0)
        }, 15E3)
    }.bind(this);
    this.disable = function() {
        if (!d) return this.noSleepVideo.pause();
        this.noSleepTimer && (window.clearInterval(this.noSleepTimer), this.noSleepTimer = null)
    }.bind(this);
    return this
};
Object.defineProperty(Array.prototype, "includes", {
    enumerable: !1,
    value: function(d) {
        return -1 !== this.indexOf(d)
    }
});
Function.prototype.clone = function() {
    var d = this,
        b = function() {
            return d.apply(this, arguments)
        },
        h;
    for (h in this) this.hasOwnProperty(h) && (b[h] = this[h]);
    return b
};
"use strict";
var log = console.log.bind(console),
    logRemote = function() {
        $.post("../../other/tools/pTools/logger.php", arguments)
    };
document.addEventListener("contextmenu", function(d) {
    d.preventDefault()
}, !1);
window.nge.wrap = {};
window.nge.game = null;
window.nge.main = function() {
    nge.userInfoHTML("Creating game");
    var d = nge.Cfg.Resolutions.contents[0],
        b = nge.Lib.Helper.browserDetect();
    log("---browser---", b);
    var h = nge.Lib.Helper.mobileAndTabletCheck();
    nge.Cfg.Main.mobile = h;
    log("---mobile---", h);
    h || -1 !== b.indexOf("IE") || b.indexOf("Safari");
    switch (nge.Lib.Helper.parseGetParams("renderer")) {
        case "canvas":
            b = Phaser.CANVAS;
            break;
        case "webgl":
            b = Phaser.WEBGL;
            break;
        default:
            b = Phaser.CANVAS
    }
    log("---renderer---", b);
    this.game = new Phaser.Game({
        width: d.width,
        height: d.height,
        renderer: b,
        state: window.nge.state.boot
    });
    nge.phaserAdapter.forcePC("hidden")
};
window.nge.state = {};
window.nge.transitions = null;
window.nge.state.boot = {
    preload: function() {
        nge.userInfoHTML("Game was created");
        nge.game.stage.disableVisibilityChange = !0;
        nge.game.time.advancedTiming = !0;
        nge.game.renderer.clearBeforeRender = !1;
        nge.wrap.cache = nge.game.cache;
        nge.Lib.Helper.mobileAndTabletCheck() || nge.game.input.mspointer.stop();
        "production" === nge.Cfg.Main.mode && nge.game.load.onFileError.add(function() {
            //location.reload()
        }, this);
        mt.init(this.game);
        mt.setBackgroundColor(!0)
    },
    create: function() {
        nge.userInfoHTML("Pluggins apply");
        window.nge.epsy =
            this.game.plugins.add(Phaser.Plugin.EPSY);
        window.nge.transitions = this.game.plugins.add(Phaser.Plugin.StateTransition);
        window.nge.transitions.settings({
            duration: 1E3,
            ease: nge.Lib.Tween.Easing.Exponential.InOut,
            properties: {
                alpha: 0
            }
        });
        this.game.plugins.add(nge.spine.Plugin.SpinePlugin);
        this.game.plugins.add(PhaserNineSlice.Plugin);
        nge.userInfoHTML("Almost done");
        nge.phaserAdapter.forcePC(document.visibilityState);
        (new nge.App.Run).run()
    },
    enableScaling: function() {
        var d = this.game;
        d.scale.parentIsWindow =
            d.canvas.parentNode === document.body;
        d.scale.scaleMode = Phaser.ScaleManager[mt.data.map.scaleMode]
    }
};
window.nge.PhaserAdapter = function() {
    this.initialisePhaser = function() {
        console.log("loaded");
        g();
        window.mt.data = mt.tplsPathsPrepare(window.mt.data);
        mt.assetsPath = nge.realPathPrefix;
        mt.init = b;
        Phaser.StateManager.prototype.checkState = h;
        window.nge.main();
        return !0
    };
    var d = !1;
    this.forcePC = function(b) {
        if ("hidden" === b) {
            var a = function(b) {
                b || nge.game.update(Date.now());
                d = window.setTimeout(a, 1)
            };
            a(!0)
        } else clearTimeout(d), b = function() {
            nge.game.time._timeLastSecond = nge.game.time.now
        }, nge.rafSetTimeout ? nge.rafSetTimeout(b,
            50) : window.setTimeout(b, 1)
    };
    var b = function(b) {
            this.game = b;
            this.game.load.crossOrigin = "anonymous";
            this.game.load.script("hacks", mt.assetsPath + "js/mnt/phaser/phaserHacks.js")
        },
        h = function(b) {
            if (this.states[b]) {
                var a = !1;
                if (this.states[b].preload || this.states[b].create || this.states[b].update || this.states[b].render) a = !0;
                return !1 === a ? (console.warn("Invalid Phaser State object given. Must contain at least a one of the required functions: preload, create, update or render"), !1) : !0
            }
            return !1
        },
        g = function() {
            Phaser.Text.prototype.determineFontProperties =
                function(b) {
                    var a = "|M" + String.fromCharCode(201) + "q",
                        c = Phaser.Text.fontPropertiesCache[b];
                    if (!c) {
                        c = {};
                        var d = Phaser.Text.fontPropertiesCanvas,
                            f = Phaser.Text.fontPropertiesContext;
                        f.font = b;
                        var g = Math.ceil(f.measureText(a).width),
                            h = Math.ceil(f.measureText(a).width),
                            q = 2 * h;
                        h = 1.4 * h | 0;
                        d.width = g;
                        d.height = q;
                        f.fillStyle = "#f00";
                        f.fillRect(0, 0, g, q);
                        f.font = b;
                        f.textBaseline = "alphabetic";
                        f.fillStyle = "#000";
                        f.fillText(a, 0, h);
                        if (!f.getImageData(0, 0, g, q)) return c.ascent = h, c.descent = h + 6, c.fontSize = c.ascent + c.descent,
                            Phaser.Text.fontPropertiesCache[b] = c;
                        a = f.getImageData(0, 0, g, q).data;
                        d = a.length;
                        g *= 4;
                        var n, p = 0,
                            r = !1;
                        for (f = 0; f < h; f++) {
                            for (n = 0; n < g; n += 4)
                                if (255 !== a[p + n]) {
                                    r = !0;
                                    break
                                } if (r) break;
                            else p += g
                        }
                        c.ascent = h - f;
                        p = d - g;
                        r = !1;
                        for (f = q; f > h; f--) {
                            for (n = 0; n < g; n += 4)
                                if (255 !== a[p + n]) {
                                    r = !0;
                                    break
                                } if (r) break;
                            else p -= g
                        }
                        c.descent = f - h;
                        c.descent += 6;
                        c.fontSize = c.ascent + c.descent;
                        Phaser.Text.fontPropertiesCache[b] = c
                    }
                    return c
                }
        }
};
nge.Mlm = {};
nge.Mlm.Animator = {};
nge.Mlm.Animator._Package = {
    name: "mlm.animator",
    version: 1,
    requirments: {
        js: ["mlm/animator/controller", "mlm/animator/cfg"]
    }
};
nge.Mlm.Animator.Cfg = Class.extend(function() {
    this.e = {
        none: nge.Lib.Tween.Easing.Linear.None
    };
    this.animations = {
        test: [
            ["class1", "class2", 1E3, this.e.none],
            ["class2", "class3", 2E3, this.e.none],
            ["class3", "class4", 3E3, this.e.none]
        ],
        test2: [
            ["class1", "class2", 1E3, this.e.none],
            ["class2", "class3", 2E3, this.e.none],
            ["class3", "class4", 3E3, this.e.none]
        ]
    };
    this.get = function(d) {
        return this.animations[d] ? this.animations[d] : !1
    }
});
nge.Mlm.Animator.Controller = function() {
    this.init = function() {
        nge.observer.add("animator.go", d, !1, !0)
    };
    var d = function(b) {
        for (var d = nge.App.getInstance("Mlm.Animator.Cfg").get(b), g = function() {
                nge.objects.refreshStyles();
                nge.observer.fire("animator.finished", b)
            }, f = d.length - 1; 0 <= f; f--) g = function(a, b) {
            return function() {
                nge.objects.classAnimation(a[0], a[1], b, a[2], a[3])
            }
        }(d[f], g);
        g()
    }
};
nge.Mlm.Assets = {};
nge.Mlm.Assets._Package = {
    name: "mlm.assets",
    version: 1,
    requirments: {
        js: ["mlm/assets/image", "mlm/assets/folder"]
    }
};
nge.Mlm.Assets.Atlas = function(d) {
    d || (d = {});
    return {
        id: nge.Lib.Helper.recursiveGet("id", d, !1),
        name: nge.Lib.Helper.recursiveGet("name", d, nge.Lib.Helper.recursiveGet("key", d, !1)),
        fullPath: nge.Lib.Helper.recursiveGet("fullPath", d, !1),
        atlas: nge.Lib.Helper.recursiveGet("atlas", d, !1),
        originalPath: d.hasOwnProperty("originalPath") ? d.originalPath : d.hasOwnProperty("fullPath") ? d.fullPath : !1,
        type: nge.Lib.Helper.recursiveGet("type", d, !1),
        assetsPath: "",
        key: nge.Lib.Helper.recursiveGet("key", d, !1)
    }
};
nge.Mlm.Assets.Binary = function(d) {
    d || (d = {});
    return {
        id: nge.Lib.Helper.recursiveGet("id", d, !1),
        name: nge.Lib.Helper.recursiveGet("name", d, nge.Lib.Helper.recursiveGet("key", d, !1)),
        fullPath: nge.Lib.Helper.recursiveGet("fullPath", d, !1),
        assetsPath: "",
        key: nge.Lib.Helper.recursiveGet("key", d, !1)
    }
};
nge.Mlm.Assets.BitmapFont = function(d) {
    d || (d = {});
    return {
        id: nge.Lib.Helper.recursiveGet("id", d, !1),
        name: nge.Lib.Helper.recursiveGet("name", d, nge.Lib.Helper.recursiveGet("key", d, !1)),
        textureURL: nge.Lib.Helper.recursiveGet("textureURL", d, !1),
        bitmapFont: nge.Lib.Helper.recursiveGet("bitmapFont", d, !1),
        assetsPath: "",
        key: nge.Lib.Helper.recursiveGet("key", d, !1)
    }
};
nge.Mlm.Assets.Controller = function() {
    var d;
    this.default = "high";
    this.defaultPath = "img/high_res";
    this.imageQuality = {
        low: {
            from: "img/",
            to: "img/low_res/"
        },
        medium: {
            from: "img/",
            to: "img/med_res/"
        },
        hd: {
            from: "img/",
            to: "img/hd_res/"
        },
        high: {
            from: "img/",
            to: "img/high_res/"
        }
    };
    this.imageQualityFactors = {
        low: .25,
        medium: .5,
        hd: .75,
        high: 1
    };
    this.divisionFactor = 0;
    this.buttonsTint = [{
        tintColor: "0x7a7a7a",
        alpha: 1
    }, {
        tintColor: "0xdbdbdb",
        alpha: 1
    }, {
        tintColor: "0xFFFFFFF",
        alpha: 1
    }, {
        tintColor: "0x848484",
        alpha: .6
    }];
    this.preload =
        function(a) {
            mt.loadAssets([a])
        };
    this.getQualityFactor = function() {
        var a = nge.localData.get("settings.imageQuality");
        return d.imageQualityFactors[a]
    };
    this.getImagesPath = function() {
        if (!nge.Cfg.Main.imagesQualityObeys) return d.defaultPath;
        var a = nge.localData.get("settings.imageQuality");
        a && d.imageQuality[a] || (b(), a = nge.localData.get("settings.imageQuality"));
        return d.imageQuality[a].to
    };
    this.getAntiCacheSuffix = function() {
        return f()
    };
    this.parsePath = function(a) {
        a = nge.realPathPrefix + a;
        a = a.replace("game:",
            nge.appPath);
        var b = nge.assets.getAntiCacheSuffix();
        return a + b
    };
    this.init = function() {
        d = this;
        b();
        h();
        return !0
    };
    var b = function() {
            nge.resolutionsManager.getCurrent();
            var a = nge.Cfg.Resolutions.contents[0],
                b = screen.width;
            nge.Lib.Helper.mobileAndTabletCheck() && (b = screen.width > screen.height ? screen.width : screen.height);
            a = b / a.width;
            b = !1;
            for (var f in d.imageQualityFactors) {
                var g = d.imageQualityFactors[f];
                b || (b = f);
                var h = d.imageQualityFactors[b];
                if (h > g && g >= a || g >= a && a > h || a >= g && g > h) b = f
            }
            d.default = b;
            f = nge.Lib.Helper.parseGetParams("quality");
            a = nge.Lib.Helper.osDetect();
            b = nge.Lib.Helper.mobileAndTabletCheck();
            f ? d.default = f : "MacOS" === a && (b || (d.default = "high"), null !== navigator.userAgent.match(/iPad/i) && (d.default = "medium"));
            nge.localData.set("settings.imageQuality", d.default);
            log("%c set default Quality: %c" + d.default, "color: green", "color: blue");
            return !0
        },
        h = function() {
            var a = d.imageQualityFactors,
                b = Object.keys(a).map(function(b) {
                    return a[b]
                });
            b = Math.min.apply(null, b);
            d.divisionFactor = 1 / b
        };
    this.find = function(a) {
        var b = function(c, d) {
            for (var e in c) {
                if (c[e].key ===
                    a) return c[e];
                if ("object" === typeof c[e] && !c[e].fullPath) {
                    var f = b(c[e], d);
                    if (f) return f
                }
            }
            return !1
        };
        return b(mt.assets) || !1
    };
    this.parse = function(a, e) {
        if (!a.qualityObeys) {
            var c = d.imageQuality[d.default];
            g(a, c);
            return !0
        }
        e = nge.localData.get("settings.imageQuality");
        e && d.imageQuality[e] || (b(), e = nge.localData.get("settings.imageQuality"));
        c = d.imageQuality[e];
        a._quality && a._quality !== e && (this.checkQualityCachedTexture(a.key, e) || this.clearCachedTexture(a.key));
        a = g(a, c);
        c = d.imageQualityFactors[e];
        if (!c) return !1;
        a._fullQualitySize || (a._fullQualitySize = {
            width: a.width,
            height: a.height,
            frameWidth: a.frameWidth,
            frameHeight: a.frameHeight
        });
        a._fullQualitySize.width && (a.width = a._fullQualitySize.width * c);
        a._fullQualitySize.height && (a.height = a._fullQualitySize.height * c);
        a.frameWidth = a._fullQualitySize.frameWidth ? a._fullQualitySize.frameWidth * c : a.width;
        a.frameHeight = a._fullQualitySize.frameHeight ? a._fullQualitySize.frameHeight * c : a.height;
        a._quality = e;
        return !0
    };
    this.applyQuality = function(a, e) {
        e || (e = a.getData());
        var c =
            nge.assets.find(e.assetKey);
        if (!c || !c.qualityObeys) return a;
        c = nge.localData.get("settings.imageQuality");
        c && d.imageQuality[c] || (b(), c = nge.localData.get("settings.imageQuality"));
        c = d.imageQualityFactors[c];
        if (!c) return !1;
        e._fullQualitySize || (e._fullQualitySize = {
            width: a.width,
            height: a.height
        });
        e._fullQualitySize.width && (e.width = e._fullQualitySize.width / c, a.width = e._fullQualitySize.width / c);
        e._fullQualitySize.height && (e.height = e._fullQualitySize.height / c, a.height = e._fullQualitySize.height / c);
        return a
    };
    this.checkQualityCachedTexture = function(a, b) {
        a = nge.game.cache.getImage(a);
        if (!a) return !0;
        a = a.src;
        for (var c in d.imageQuality)
            if (-1 !== a.indexOf(d.imageQuality[c].to)) return c === b;
        return !1
    };
    this.clearCachedTexture = function(b) {
        nge.game.cache.getImage(b) && nge.game.cache.removeImage(b);
        a(b);
        return !0
    };
    this.createSpriteSheetAsset = function(a, b) {
        var c = nge.game.cache.getItem(a, Phaser.Cache.IMAGE);
        if (c) {
            var e = c.base.width;
            c = c.base.height;
            var f = nge.objects.create(nge.Mlm.Objects.Folder());
            d.buttonsTint.forEach(function(b,
                c) {
                var d = nge.objects.create(nge.Mlm.Objects.Image({
                    assetKey: a
                }));
                d.tint = b.tintColor;
                d.alpha = b.alpha;
                d.x = d.width * c;
                f.addChild(d)
            });
            var g = f.generateTexture().baseTexture.source;
            nge.game.cache.addSpriteSheet(b, null, g, e, c, d.buttonsTint.length);
            f.destroy(!0)
        }
    };
    var g = function(a, b) {
            var c = ["fullPath", "atlas", "spine", "bitmapFont", "textureURL"],
                d;
            for (d in c) {
                var e = c[d];
                a[e] && !a.useOriginalPath && (a[e] = a[e].replace(b.from, b.to))
            }
            b = f();
            a.fullPath += b;
            return a
        },
        f = function() {
            return "?v=" + (nge.Cfg && nge.Cfg.Main ? nge.Cfg.Main.version :
                "cl") + "&gameVersion=" + gameVersion
        },
        a = function(a) {
            var b = function(c) {
                for (var d in c) {
                    var e = c[d];
                    if (e.key === a) return c[d] = null, delete c[d], !0;
                    if (!e.key && b(e)) return !0
                }
                return !1
            };
            return b(mt.assets)
        }
};
nge.Mlm.Assets.Folder = function(d) {
    d || (d = {});
    return {
        id: nge.Lib.Helper.recursiveGet("id", d, !1),
        name: nge.Lib.Helper.recursiveGet("name", d, !1),
        contents: nge.Lib.Helper.recursiveGet("contents", d, [])
    }
};
nge.Mlm.Assets.Image = function(d) {
    d || (d = {});
    return {
        id: nge.Lib.Helper.recursiveGet("id", d, !1),
        name: d.hasOwnProperty("name") ? d.name : d.hasOwnProperty("key") ? d.key : !1,
        fullPath: nge.Lib.Helper.recursiveGet("fullPath", d, !1),
        originalPath: d.hasOwnProperty("originalPath") ? d.originalPath : d.hasOwnProperty("fullPath") ? d.fullPath : !1,
        qualityObeys: d.hasOwnProperty("qualityObeys") ? d.qualityObeys : nge.Cfg.Main.imagesQualityObeys,
        useOriginalPath: nge.Lib.Helper.recursiveGet("useOriginalPath", d, !1),
        assetsPath: "",
        key: nge.Lib.Helper.recursiveGet("key",
            d, !1),
        width: nge.Lib.Helper.recursiveGet("width", d, 0),
        height: nge.Lib.Helper.recursiveGet("height", d, 0),
        frameWidth: nge.Lib.Helper.recursiveGet("frameWidth", d, 0),
        frameHeight: nge.Lib.Helper.recursiveGet("frameHeight", d, 0),
        frameMax: nge.Lib.Helper.recursiveGet("frameMax", d, -1),
        spritesheet: nge.Lib.Helper.recursiveGet("spritesheet", d, !1),
        margin: nge.Lib.Helper.recursiveGet("margin", d, 0),
        spacing: nge.Lib.Helper.recursiveGet("spacing", d, 0),
        anchorX: nge.Lib.Helper.recursiveGet("anchorX", d, 0),
        anchorY: nge.Lib.Helper.recursiveGet("anchorY",
            d, 0),
        fps: nge.Lib.Helper.recursiveGet("fps", d, 10),
        _quality: nge.Lib.Helper.recursiveGet("_quality", d, !1),
        _fullQualitySize: nge.Lib.Helper.recursiveGet("_fullQualitySize", d, !1)
    }
};
nge.Mlm.Assets.Json = function(d) {
    d || (d = {});
    return {
        id: nge.Lib.Helper.recursiveGet("id", d, !1),
        name: nge.Lib.Helper.recursiveGet("name", d, nge.Lib.Helper.recursiveGet("key", d, !1)),
        fullPath: nge.Lib.Helper.recursiveGet("fullPath", d, !1),
        assetsPath: "",
        key: nge.Lib.Helper.recursiveGet("key", d, !1)
    }
};
nge.Mlm.Assets.Spine = function(d) {
    d || (d = {});
    return {
        id: nge.Lib.Helper.recursiveGet("id", d, !1),
        name: nge.Lib.Helper.recursiveGet("name", d, nge.Lib.Helper.recursiveGet("key", d, !1)),
        spine: nge.Lib.Helper.recursiveGet("spine", d, !1),
        assetsPath: "",
        key: nge.Lib.Helper.recursiveGet("key", d, !1)
    }
};
nge.Mlm.CheatsManager = {};
nge.Mlm.CheatsManager._Package = {
    name: "mlm.cheatsManager",
    version: 1,
    requirments: {
        js: ["mlm/cheatsManager/controller"]
    }
};
nge.Mlm.CheatsManager.Controller = function() {
    var d;
    this.init = function() {
        b();
        return !0
    };
    this.display = function() {
        d ? ($(".cheatsManager").remove(), d = !1) : (d = !0, nge.observer.fire("cheatsManager.getList"));
        return !0
    };
    var b = function() {
            "development" === nge.Cfg.Main.mode && (nge.observer.add("keyboard.KeyDown", function(b) {
                "Q" === b && nge.keyboard.check("ALT") && nge.cheatsManager.display()
            }, !1, !0), nge.observer.add("currency.change", function() {
                nge.cheatsManager.display()
            }, !1, !0));
            nge.observer.add("cheatsManager.list",
                h, !1, !0)
        },
        h = function(b) {
            $.get("../../js/mlm/cheatsManager/tpl.html", function(a) {
                var c = $('<div class="cheatsManager"></div>');
                $("body").append(c);
                c.html(a);
                for (var d in b.codes) a = g, a = nge.Lib.Helper.strReplace("{title}", d, a), a = nge.Lib.Helper.strReplace("{code}", b.codes[d], a), $(".cheatsList").append(a)
            })
        };
    this.custom = function() {
        var b = $("#customCheat").val();
        nge.observer.fire("brain.CheatRequest", b);
        return !0
    };
    var g = "<li style=\"cursor:pointer;\"><a onclick=\"setTimeout(function(){this.classList.remove('backgroundChange');}.bind(this), 100);this.classList.add('backgroundChange');nge.observer.fire('brain.CheatRequest', '{code}')\">{title}</a></li>"
};
nge.Mlm.LocalData = {};
nge.Mlm.LocalData._Package = {
    name: "mlm.localData",
    version: 1,
    requirments: {
        js: ["mlm/localData/controller"]
    }
};
nge.Mlm.LocalData.Controller = function() {
    var d = {};
    this.get = function(b) {
        return nge.Lib.Helper.recursiveGet(b, d)
    };
    this.set = function(b, h) {
        nge.Lib.Helper.recursiveSet(b, h, d);
        return !0
    };
    this.getAll = function() {
        return d
    }
};
nge.Mlm.Objects = {};
nge.Mlm.Objects._Package = {
    name: "mlm.objects",
    version: 1,
    requirments: {
        js: ["mlm/objects/image", "mlm/objects/button", "mlm/objects/text", "mlm/objects/folder"]
    }
};
nge.Mlm.Objects.Controller = function() {
    var d;
    this.init = function() {
        d = new nge.Mlm.Objects.Service
    };
    this.create = mt.create.bind(mt);
    this.classAnimation = function(b, h, g, f, a) {
        return d.classAnimation(b, h, g, f, a)
    };
    this.find = function(b, h) {
        return d.find(b, h)
    };
    this.findAll = function(b, h) {
        return d.findAll(b, h)
    };
    this.findOne = function(b, h) {
        return d.findOne(b, h)
    };
    this.refreshStyles = function(b) {
        return d.refreshStyles(b)
    };
    this.setStyles = function(b) {
        return d.setStyles(b)
    };
    this.checkInputOnTop = function(b) {
        return d.checkInputOnTop(b)
    };
    this.blockUpdateStyles = function() {
        return d.blockUpdateStyles()
    };
    this.unblockUpdateStyles = function() {
        return d.unblockUpdateStyles()
    };
    this.changeImageSize = function(b, h, g, f, a, c, e, k) {
        return d.changeImageSize(b, h, g, f, a, c, e, k)
    };
    this.findItemInWorld = function(b, h, g, f) {
        return d.findItemsInWorld(b, h, g, f, !0)
    };
    this.findItemsInWorld = function(b, h, g, f, a) {
        return d.findItemsInWorld(b, h, g, f, a)
    };
    this.takeScreenshot = function(b) {
        var d = nge.Cfg.Resolutions.contents[0];
        d = new Phaser.RenderTexture(nge.game, d.width, d.height);
        d.renderRawXY(nge.game.world, 0, 0);
        if (nge.wrap.cache.checkImageKey(b)) {
            var g = nge.wrap.cache.getImage(b, !0);
            g && g.base && g.base.destroy(!0);
            nge.wrap.cache.removeImage(b)
        }
        nge.wrap.cache._cache.image[b] = {
            base: d,
            frameData: new Phaser.FrameData,
            key: b
        }
    }
};
nge.Mlm.Objects.Service = function() {
    var d = !1;
    this.blockUpdateStyles = function() {
        d = !0
    };
    this.unblockUpdateStyles = function() {
        d = !1
    };
    this.setStyles = function(a) {
        if (d) return !1;
        for (var b in mt.data.styles) {
            var c = mt.data.styles[b],
                e = nge.findAll(b, a);
            if (e)
                for (var f in e) {
                    e[f].getData()._styles[b] = c;
                    var g = e[f].getData(),
                        h;
                    for (h in c) {
                        var r = c[h];
                        if ("object" === typeof r && g._originalModel[h])
                            for (var u in r) {
                                var t = r[u];
                                g._originalModel[h][u] || e[f].attr(h + "." + u, t, !0)
                            } else g._originalModel[h] || e[f].attr(h, r, !0)
                    }
                }
        }
    };
    this.refreshStyles = function(a) {
        if (d) return !1;
        var b = function(a, c) {
            for (var d in a) {
                var e = a[d];
                e && e.mt && e.mt.data && e.defaultStyle();
                e.children && 0 < e.children.length && b(e.children, c)
            }
            return !0
        };
        b([a ? a : nge.game.world]);
        this.setStyles(a);
        return !0
    };
    this.find = function(a, b) {
        a = f(a, b);
        return 0 === a.length ? !1 : 1 === a.length ? a[0] : a
    };
    this.findAll = function(a, b) {
        a = f(a, b);
        return 0 === a.length ? !1 : a
    };
    this.findOne = function(a, b) {
        a = f(a, b, !0);
        return 0 === a.length ? !1 : a[0]
    };
    this.classAnimation = function(c, d, f, g, h) {
        if (!c || !d) return !1;
        c = {
            from: c,
            to: d,
            duration: g ? g : 1E3,
            easing: h ? h : nge.Lib.Tween.Easing.Linear.None
        };
        d = a(c.from);
        g = a(c.to);
        h = [];
        for (var e in mt.data.styles) {
            for (var k = a(e), l = d.length - 1, m = g.length - 1, q = k.length - 1; 0 <= q; q--) l -= nge.Lib.Helper.chkArraysPartialEntry(k[q], d[l]), m -= nge.Lib.Helper.chkArraysPartialEntry(k[q], g[m]); - 1 === l && (k = nge.Lib.Helper.strReplace(c.from, c.to, e), mt.data.styles[k] && h.push({
                from: e,
                to: k
            }))
        }
        b(c, h, f)
    };
    this.checkInputOnTop = function(a) {
        if (!a || a.constructor !== Phaser.Button) return !1;
        var b = nge.game.input.activePointer,
            c = b.position;
        b.x = a.world.x + (1 - 2 * a.anchor.x) * a.width / 2;
        b.y = a.world.y + (1 - 2 * a.anchor.y) * a.height / 2;
        b.dirty = !0;
        b.update();
        var d = b.targetObject;
        b.x = c.x;
        b.y = c.y;
        b.dirty = !0;
        b.update();
        return d && d.sprite ? d.sprite === a : !1
    };
    this.changeImageSize = function(a, b, c, d, f, g, h, r) {
        g = nge.game.add.bitmapData(g, h);
        g.fill(255, 255, 255, 0);
        a = nge.game.make.sprite(0, 0, a);
        d && (a.width = d);
        f && (a.height = f);
        g.draw(a, b, c);
        nge.game.cache.addBitmapData(r, g);
        return g
    };
    this.findItemsInWorld = function(a, b, c, d, f) {
        c = c || nge.game.world;
        var e = [],
            g = function(c, h) {
                for (var k in c) {
                    var l = c[k];
                    if (l && l.mt && l.mt.data && l.mt.data[a] && (l.mt.data[a] === b || d && -1 !== l.mt.data[a].indexOf(b))) {
                        if (f) return l;
                        e.push(l)
                    }
                    if (l.children && 0 < l.children.length && (l = g(l.children, h))) {
                        if (f && l) return l;
                        e.concat(l)
                    }
                }
                return f ? !1 : e
            };
        return g([c], b) || !1
    };
    var b = function(a, b, c) {
            var d = 0;
            if (0 === b.length && c) return c();
            for (var e = 0; e < b.length; e++) {
                var f = b[e],
                    g = nge.findAll(f.from);
                h(function() {
                    var e = nge.findAll(a.from),
                        f;
                    for (f in e) e[f].removeClass(nge.Lib.Helper.strReplace(".", "",
                        a.from), !0).addClass(nge.Lib.Helper.strReplace(".", "", a.to), !0);
                    d++;
                    d === b.length && c && c()
                }, a, mt.data.styles[f.from], mt.data.styles[f.to], g)
            }
        },
        h = function(a, b, c, d, f, n) {
            var e = {},
                k = {},
                l;
            for (l in d)
                if ("number" === typeof d[l] && c[l] !== d[l]) e[l] = c[l], k[l] = d[l];
                else if ("object" === typeof c[l]) h(!1, b, c[l], d[l], f, l);
            else if (c[l] !== d[l]) {
                var m = l;
                n && (m = n + "." + m);
                g(f, m, d[l])
            }
            c = nge.tween.add(e);
            c.to(k, b.duration, b.easing);
            c.onUpdateCallback(function(a, b, c) {
                for (var d in a.target) b = d, n && (b = n + "." + b), g(f, b, a.target[d])
            }).onComplete.add(function() {
                a &&
                    a()
            });
            c.start()
        },
        g = function(a, b, c) {
            for (var d in a) a[d].attr(b, c, !0)
        },
        f = function(b, c, d) {
            b = a(b);
            var e = b[b.length - 1][0],
                f = 0,
                g = d && 1 === b.length && 1 === b[0].length ? !0 : !1;
            "class" === e.type && (f = 1, g = !1);
            e = nge.objects.findItemsInWorld(e.type, e.value, c ? c : !1, f, g);
            g && (e = e ? [e] : []);
            if (!e || 0 === e.length) return !1;
            g = function(a, b) {
                for (b = 0; b < l.length; b++) {
                    var c = l[b];
                    if ("class" === c.type) {
                        if (!a[c.type] || -1 === a[c.type].split(" ").indexOf(c.value)) return !1
                    } else if (a[c.type] !== c.value) return !1
                }
                return !0
            };
            f = [];
            for (var h in e) {
                var k =
                    e[h],
                    l = b[b.length - 1];
                if (g(k.getData(), l))
                    if (1 === b.length) {
                        if (f.push(k), d) break
                    } else {
                        c = k.parent;
                        for (var t = b.length - 2; 0 <= t; t--) {
                            l = b[t];
                            for (var v = 0; 1 !== v && c.getData;) g(c.getData(), l) && (v = 1), c = c.parent;
                            if (1 === v && 0 === t && (f.push(k), d)) return f;
                            if (0 === v) break
                        }
                    }
            }
            return f
        },
        a = function(a) {
            a = a.split(" ");
            var b = [],
                d;
            for (d in a) {
                var e = c(a[d]);
                if (!e) return console.info("Info: nge.find no element with selector found:", a[d]), !1;
                b[d] = e
            }
            return b
        },
        c = function(a) {
            var b = {
                    id: /^#((?:\\.|[\w-]|[^\x00-\xa0])+)/,
                    name: /^\^((?:\\.|[\w-]|[^\x00-\xa0])+)/,
                    "class": /^\.((?:\\.|[\w-]|[^\x00-\xa0])+)/
                },
                d = [],
                e;
            for (e in b) {
                var f = b[e].exec(a);
                if (f && (d.push({
                        type: e,
                        value: f[1]
                    }), f = nge.Lib.Helper.strReplace(f[0], "", a), c(f))) return nge.Lib.Helper.mergeArrs(d, c(f))
            }
            return d && 0 < d.length ? d : !1
        }
};
nge.Mlm.Objects.Base = function() {
    var d, b;
    this._sizeParams = {
        width: {
            c: "x",
            sn: "width",
            max: "maxWidth"
        },
        height: {
            c: "y",
            sn: "height",
            max: "maxHeight"
        }
    };
    this.baseInit = function() {
        d = this;
        d.stylesInit();
        d.autoCheckMaxSize()
    };
    this.stylesInit = function() {
        b = d.getData()._originalModel;
        a()
    };
    this.autoCheckMaxSize = function() {
        d.getData().maxWidth && (d.getData()._customAutoCheckMaxSize ? d.getData()._customAutoCheckMaxSize("width") : console.error("nge.Mlm.Objects.Base autoCheckMaxSize error !"));
        d.getData().maxHeight && (d.getData()._customAutoCheckMaxSize ?
            d.getData()._customAutoCheckMaxSize("height") : console.error("nge.Mlm.Objects.Base autoCheckMaxSize error !"))
    };
    this.addClass = function(a, b) {
        var c = this.getData(),
            e = c.class;
        if (e) {
            if (-1 !== e.split(" ").indexOf(a)) return !1;
            c.class += " " + a
        } else c.class = a;
        b || nge.objects.setStyles(d);
        return d
    };
    this.removeClass = function(a, b) {
        if (a = h(a)) {
            var c = this.getData();
            a.classArr.splice(a.index, 1);
            c.class = a.classArr.join(" ");
            b || nge.objects.refreshStyles(d)
        }
        return d
    };
    this.hasClass = function(a) {
        return h(a) ? !0 : !1
    };
    this.defaultStyle =
        function() {
            var a = d.getData(),
                b;
            for (b in a._styles) {
                var c = a._styles[b],
                    g;
                for (g in c)
                    if ("object" === typeof c[g])
                        for (var h in c[g]) f(g + "." + h, c[g][h]);
                    else a.hasOwnProperty(g) && f(g, a[g])
            }
            a._styles = {}
        };
    this.attr = function(e, h, l) {
        if (void 0 === h) {
            var k = c[e];
            if (k) nge.Lib.Helper.recursiveGet(k, d);
            else return null
        }
        "object" === typeof h ? (g(h, e, !0), l || nge.Lib.Helper.recursiveSet(e, nge.Lib.Helper.objectApply(b[e], h), b)) : (f(e, h, !0), l || nge.Lib.Helper.recursiveSet(e, h, b));
        a()
    };
    this.maxSizeResize = function() {
        var a = !1;
        return function(b,
            c) {
            if (a) return !1;
            a = !0;
            b = "height" === b ? d._sizeParams.height : d._sizeParams.width;
            c = d.scale[b.c] * c / d[b.sn];
            1 < c && (c = 1);
            d.scale[b.c] !== c && (d.scale.x = d.scale.y = c);
            a = !1
        }
    }();
    var h = function(a) {
            var b = d.getData();
            if (!b.class) return !1;
            b = b.class.split(" ");
            a = b.indexOf(a);
            return -1 !== a ? {
                classArr: b,
                index: a
            } : !1
        },
        g = function(a, b, c, d) {
            for (var e in a) {
                var h = a[e],
                    k = e;
                b && (k = b + "." + e);
                "object" === typeof h ? g(h, k, c, d) : f(k, h, c, d)
            }
        },
        f = function(a, f, g, h) {
            if (!g && nge.Lib.Helper.recursiveGet(a, b)) return !1;
            (g = c[a]) ? nge.Lib.Helper.recursiveSet(g,
                f, d): h || console.error("Fatal Error: worldKey not found in nge.Mlm.Objects.Base, key=", a);
            return !0
        },
        a = function() {
            d.validate && d.validate();
            return !0
        },
        c = {
            id: "id",
            name: "name",
            "class": "class",
            x: "x",
            y: "y",
            z: "z",
            angle: "angle",
            anchorX: "anchor.x",
            anchorY: "anchor.y",
            width: "width",
            height: "height",
            scaleX: "scaleX",
            scaleY: "scaleY",
            alpha: "alpha",
            isVisible: "visible",
            text: "text",
            frame: "frame",
            action: "events.onInputUp._bindings.0._listener",
            "btnFrames.over": "_onOverFrame",
            "btnFrames.out": "_onOutFrame",
            "btnFrames.down": "_onDownFrame",
            "btnFrames.up": "_onUpFrame",
            align: "align",
            lineSpacing: "lineSpacing",
            "style.fontSize": "style.fontSize",
            "style.fill": "fill",
            "style.stroke": "style.stroke",
            "style.align": "style.align",
            "style.font": "style.font",
            "style.fontFamily": "style.fontFamily",
            "style.strokeThickness": "style.strokeThickness",
            "style.wordWrapWidth": "style.wordWrapWidth",
            "style.wordWrap": "style.wordWrap",
            "style.shadowOffsetX": "style.shadowOffsetX",
            "style.shadowOffsetY": "style.shadowOffsetY",
            "style.shadowColor": "style.shadowColor",
            "style.shadowBlur": "style.shadowBlur",
            enabled: "input.enabled"
        }
};
nge.Mlm.Objects.BitmapText = function(d) {
    d || (d = {});
    return {
        id: d.hasOwnProperty("id") ? d.id : !1,
        name: d.hasOwnProperty("name") ? d.name : !1,
        "class": d.hasOwnProperty("class") ? d.class : !1,
        x: d.hasOwnProperty("x") ? d.x : 0,
        y: d.hasOwnProperty("y") ? d.y : 0,
        z: d.hasOwnProperty("z") ? d.z : 0,
        type: 7,
        anchorX: d.hasOwnProperty("anchorX") ? d.anchorX : 0,
        anchorY: d.hasOwnProperty("anchorY") ? d.anchorY : 0,
        scaleX: d.hasOwnProperty("scaleX") ? d.scaleX : 1,
        scaleY: d.hasOwnProperty("scaleY") ? d.scaleY : 1,
        angle: d.hasOwnProperty("angle") ? d.angle : 0,
        alpha: d.hasOwnProperty("alpha") ?
            d.alpha : 1,
        text: d.hasOwnProperty("text") ? d.text : "",
        size: d.hasOwnProperty("size") ? d.size : 1,
        assetKey: d.hasOwnProperty("assetKey") ? d.assetKey : !1,
        align: d.hasOwnProperty("align") ? d.align : "left",
        isVisible: d.hasOwnProperty("isVisible") ? d.isVisible : !0,
        custom: d.hasOwnProperty("custom") ? d.custom : {},
        _classes: d.hasOwnProperty("_classes") ? d._classes : [],
        _originalModel: d.hasOwnProperty("_originalModel") ? d._originalModel : d ? nge.Lib.Helper.jsObjClone(d) : null,
        _parentClasses: d.hasOwnProperty("_parentClasses") ? d._parentClasses : [],
        _styles: d.hasOwnProperty("_styles") ? d._styles : {}
    }
};
nge.Mlm.Objects.Button = function(d) {
    d || (d = {});
    return {
        id: d.hasOwnProperty("id") ? d.id : !1,
        name: d.hasOwnProperty("name") ? d.name : !1,
        "class": d.hasOwnProperty("class") ? d.class : !1,
        x: d.hasOwnProperty("x") ? d.x : 0,
        y: d.hasOwnProperty("y") ? d.y : 0,
        z: d.hasOwnProperty("z") ? d.z : 0,
        type: 4,
        anchorX: d.hasOwnProperty("anchorX") ? d.anchorX : 0,
        anchorY: d.hasOwnProperty("anchorY") ? d.anchorY : 0,
        scaleX: d.hasOwnProperty("scaleX") ? d.scaleX : 1,
        scaleY: d.hasOwnProperty("scaleY") ? d.scaleY : 1,
        angle: d.hasOwnProperty("angle") ? d.angle : 0,
        alpha: d.hasOwnProperty("alpha") ?
            d.alpha : 1,
        frame: d.hasOwnProperty("frame") ? d.frame : 0,
        isVisible: d.hasOwnProperty("isVisible") ? d.isVisible : !0,
        append: d.hasOwnProperty("append") ? d.append : !0,
        width: d.hasOwnProperty("width") ? d.width : 0,
        height: d.hasOwnProperty("height") ? d.height : 0,
        assetKey: d.hasOwnProperty("assetKey") ? d.assetKey : !1,
        action: d.hasOwnProperty("action") ? d.action : !1,
        enabled: d.hasOwnProperty("enabled") ? d.enabled : !0,
        pixelPerfectOver: d.hasOwnProperty("pixelPerfectOver") ? d.pixelPerfectOver : !0,
        pixelPerfectClick: d.hasOwnProperty("pixelPerfectClick") ?
            d.pixelPerfectClick : !0,
        btnFrames: {
            over: nge.Lib.Helper.recursiveGet("btnFrames.over", d, 0),
            out: nge.Lib.Helper.recursiveGet("btnFrames.out", d, 0),
            down: nge.Lib.Helper.recursiveGet("btnFrames.down", d, 0)
        },
        custom: d.hasOwnProperty("custom") ? d.custom : {},
        _classes: d.hasOwnProperty("_classes") ? d._classes : [],
        _originalModel: d.hasOwnProperty("_originalModel") ? d._originalModel : d ? nge.Lib.Helper.jsObjClone(d) : null,
        _parentClasses: d.hasOwnProperty("_parentClasses") ? d._parentClasses : [],
        _styles: d.hasOwnProperty("_styles") ?
            d._styles : {},
        _protoF: {
            disable: function(b) {
                "undefined" !== typeof b && this.attr("frame", b);
                if (!this.input.enabled) return !1;
                this.input.enabled = !1;
                this._onOriginal = {
                    _onDownFrame: this._onDownFrame,
                    _onUpFrame: this._onUpFrame,
                    _onOverFrame: this._onOverFrame,
                    _onOutFrame: this._onOutFrame
                };
                "undefined" !== typeof b && (this.attr("btnFrames.over", b), this.attr("btnFrames.out", b), this.attr("btnFrames.down", b), this.attr("btnFrames.up", b))
            },
            enable: function(b, d) {
                if (this.input.enabled) return !1;
                this.input.enabled = !0;
                if (!this._onOriginal) return !0;
                "undefined" === typeof b && (b = this._onOriginal._onOutFrame);
                this.attr("frame", b);
                if (nge.game.input.mouse.event) nge.game.input.mouse.onMouseMove(nge.game.input.mouse.event);
                this.setFrames(d && d.over ? d.over : this._onOriginal._onOverFrame, d && d.out ? d.out : this._onOriginal._onOutFrame, d && d.down ? d.down : this._onOriginal._onDownFrame, d && d.up ? d.up : this._onOriginal._onUpFrame);
                delete this._onOriginal
            }
        }
    }
};
nge.Mlm.Objects.Folder = function(d) {
    d || (d = {});
    return {
        id: d.hasOwnProperty("id") ? d.id : !1,
        name: d.hasOwnProperty("name") ? d.name : !1,
        "class": d.hasOwnProperty("class") ? d.class : !1,
        x: d.hasOwnProperty("x") ? d.x : 0,
        y: d.hasOwnProperty("y") ? d.y : 0,
        z: d.hasOwnProperty("z") ? d.z : 0,
        type: 1,
        width: d.hasOwnProperty("width") ? d.width : 0,
        height: d.hasOwnProperty("height") ? d.height : 0,
        scroll: d.hasOwnProperty("scroll") ? d.scroll : 0,
        swipe: d.hasOwnProperty("swipe") ? d.swipe : 0,
        rewParams: {
            dragScrollSensivity: nge.Lib.Helper.recursiveGet("rewParams.dragScrollSensivity",
                d, .5),
            tuneTime: nge.Lib.Helper.recursiveGet("rewParams.tuneTime", d, 100),
            tuneDelay: nge.Lib.Helper.recursiveGet("rewParams.tuneDelay", d, 50),
            scrollWheelSensivity: nge.Lib.Helper.recursiveGet("rewParams.scrollWheelSensivity", d, 100)
        },
        tabs: d.hasOwnProperty("tabs") ? d.tabs : 0,
        tabActive: d.hasOwnProperty("tabActive") ? d.tabActive : !1,
        angle: d.hasOwnProperty("angle") ? d.angle : 0,
        contents: d.hasOwnProperty("contents") ? d.contents : [],
        isVisible: d.hasOwnProperty("isVisible") ? d.isVisible : !0,
        append: d.hasOwnProperty("append") ?
            d.append : !0,
        isFixedToCamera: d.hasOwnProperty("isFixedToCamera") ? d.isFixedToCamera : 0,
        scaleX: d.hasOwnProperty("scaleX") ? d.scaleX : 1,
        scaleY: d.hasOwnProperty("scaleY") ? d.scaleY : 1,
        alpha: d.hasOwnProperty("alpha") ? d.alpha : 1,
        custom: d.hasOwnProperty("custom") ? d.custom : {},
        _classes: d.hasOwnProperty("_classes") ? d._classes : [],
        _originalModel: d.hasOwnProperty("_originalModel") ? d._originalModel : d ? nge.Lib.Helper.jsObjClone(d) : null,
        _parentClasses: d.hasOwnProperty("_parentClasses") ? d._parentClasses : [],
        _styles: d.hasOwnProperty("_styles") ?
            d._styles : {}
    }
};
nge.Mlm.Objects.Graphics = function(d) {
    d || (d = {});
    return {
        id: d.hasOwnProperty("id") ? d.id : !1,
        name: d.hasOwnProperty("name") ? d.name : !1,
        "class": d.hasOwnProperty("class") ? d.class : !1,
        x: d.hasOwnProperty("x") ? d.x : 0,
        y: d.hasOwnProperty("y") ? d.y : 0,
        z: d.hasOwnProperty("z") ? d.z : 0,
        isVisible: d.hasOwnProperty("isVisible") ? d.isVisible : !0,
        type: 13,
        _originalModel: d.hasOwnProperty("_originalModel") ? d._originalModel : d ? nge.Lib.Helper.jsObjClone(d) : null
    }
};
nge.Mlm.Objects.Emitter = function(d) {
    d || (d = {});
    return {
        id: d.hasOwnProperty("id") ? d.id : !1,
        name: d.hasOwnProperty("name") ? d.name : !1,
        "class": d.hasOwnProperty("class") ? d.class : !1,
        scaleX: d.hasOwnProperty("scaleX") ? d.scaleX : 1,
        scaleY: d.hasOwnProperty("scaleY") ? d.scaleY : 1,
        angle: d.hasOwnProperty("angle") ? d.angle : 0,
        alpha: d.hasOwnProperty("alpha") ? d.alpha : 1,
        isVisible: d.hasOwnProperty("isVisible") ? d.isVisible : !0,
        x: d.hasOwnProperty("x") ? d.x : 0,
        y: d.hasOwnProperty("y") ? d.y : 0,
        z: d.hasOwnProperty("z") ? d.z : 0,
        type: 10,
        assetKey: d.hasOwnProperty("assetKey") ?
            d.assetKey : !1,
        _originalModel: d.hasOwnProperty("_originalModel") ? d._originalModel : d ? nge.Lib.Helper.jsObjClone(d) : null
    }
};
nge.Mlm.Objects.Image = function(d) {
    d || (d = {});
    return {
        id: d.hasOwnProperty("id") ? d.id : !1,
        name: d.hasOwnProperty("name") ? d.name : !1,
        "class": d.hasOwnProperty("class") ? d.class : !1,
        x: d.hasOwnProperty("x") ? d.x : 0,
        y: d.hasOwnProperty("y") ? d.y : 0,
        z: d.hasOwnProperty("z") ? d.z : 0,
        type: 0,
        scratchable: d.hasOwnProperty("scratchable") ? d.scratchable : !1,
        scratchCursor: d.hasOwnProperty("scratchCursor") ? d.scratchCursor : !1,
        anchorX: d.hasOwnProperty("anchorX") ? d.anchorX : 0,
        anchorY: d.hasOwnProperty("anchorY") ? d.anchorY : 0,
        scaleX: d.hasOwnProperty("scaleX") ?
            d.scaleX : 1,
        scaleY: d.hasOwnProperty("scaleY") ? d.scaleY : 1,
        angle: d.hasOwnProperty("angle") ? d.angle : 0,
        alpha: d.hasOwnProperty("alpha") ? d.alpha : 1,
        frame: d.hasOwnProperty("frame") ? d.frame : 0,
        isVisible: d.hasOwnProperty("isVisible") ? d.isVisible : !0,
        append: d.hasOwnProperty("append") ? d.append : !0,
        inputEnabled: d.hasOwnProperty("inputEnabled") ? d.inputEnabled : !1,
        width: d.hasOwnProperty("width") ? d.width : 0,
        height: d.hasOwnProperty("height") ? d.height : 0,
        assetKey: d.hasOwnProperty("assetKey") ? d.assetKey : !1,
        custom: d.hasOwnProperty("custom") ?
            d.custom : {},
        _classes: d.hasOwnProperty("_classes") ? d._classes : [],
        _originalModel: d.hasOwnProperty("_originalModel") ? d._originalModel : d ? nge.Lib.Helper.jsObjClone(d) : null,
        _parentClasses: d.hasOwnProperty("_parentClasses") ? d._parentClasses : [],
        _styles: d.hasOwnProperty("_styles") ? d._styles : {}
    }
};
nge.Mlm.Objects.Mask = function(d) {
    d || (d = {});
    return {
        id: d.hasOwnProperty("id") ? d.id : !1,
        name: d.hasOwnProperty("name") ? d.name : !1,
        "class": d.hasOwnProperty("class") ? d.class : !1,
        x: d.hasOwnProperty("x") ? d.x : 0,
        y: d.hasOwnProperty("y") ? d.y : 0,
        z: d.hasOwnProperty("z") ? d.z : 0,
        rects: d.hasOwnProperty("rects") ? d.rects : [0, 0, 100, 100],
        isVisible: d.hasOwnProperty("isVisible") ? d.isVisible : !0,
        type: 12,
        _originalModel: d.hasOwnProperty("_originalModel") ? d._originalModel : d ? nge.Lib.Helper.jsObjClone(d) : null
    }
};
nge.Mlm.Objects.NineSlice = function(d) {
    d || (d = {});
    var b = !1;
    return {
        id: d.hasOwnProperty("id") ? d.id : !1,
        name: d.hasOwnProperty("name") ? d.name : !1,
        "class": d.hasOwnProperty("class") ? d.class : !1,
        x: d.hasOwnProperty("x") ? d.x : 0,
        y: d.hasOwnProperty("y") ? d.y : 0,
        z: d.hasOwnProperty("z") ? d.z : 0,
        top: d.hasOwnProperty("top") ? d.top : 0,
        bottom: d.hasOwnProperty("bottom") ? d.bottom : 0,
        left: d.hasOwnProperty("left") ? d.left : 0,
        right: d.hasOwnProperty("right") ? d.right : 0,
        type: 9,
        anchorX: d.hasOwnProperty("anchorX") ? d.anchorX : 0,
        anchorY: d.hasOwnProperty("anchorY") ?
            d.anchorY : 0,
        scaleX: d.hasOwnProperty("scaleX") ? d.scaleX : 1,
        scaleY: d.hasOwnProperty("scaleY") ? d.scaleY : 1,
        angle: d.hasOwnProperty("angle") ? d.angle : 0,
        alpha: d.hasOwnProperty("alpha") ? d.alpha : 1,
        frame: d.hasOwnProperty("frame") ? d.frame : 0,
        isVisible: d.hasOwnProperty("isVisible") ? d.isVisible : !0,
        append: d.hasOwnProperty("append") ? d.append : !0,
        inputEnabled: d.hasOwnProperty("inputEnabled") ? d.inputEnabled : !1,
        width: d.hasOwnProperty("width") ? d.width : 0,
        height: d.hasOwnProperty("height") ? d.height : 0,
        assetKey: d.hasOwnProperty("assetKey") ?
            d.assetKey : !1,
        custom: d.hasOwnProperty("custom") ? d.custom : {},
        _classes: d.hasOwnProperty("_classes") ? d._classes : [],
        _originalModel: d.hasOwnProperty("_originalModel") ? d._originalModel : d ? nge.Lib.Helper.jsObjClone(d) : null,
        _parentClasses: d.hasOwnProperty("_parentClasses") ? d._parentClasses : [],
        _styles: d.hasOwnProperty("_styles") ? d._styles : {},
        _protoF: {
            _init: function(d) {
                b = d
            },
            validate: function() {
                var d = nge.assets.divisionFactor;
                0 === parseInt(b.getData().top) % d && 0 === parseInt(b.getData().bottom) % d && 0 === parseInt(b.getData().left) %
                    d && 0 === parseInt(b.getData().right) % d || console.warn("NineSlice parameters must be multiple of " + d + "! " + b.getData().name)
            }
        }
    }
};
nge.Mlm.Objects.Plist = function(d) {
    d || (d = {});
    return {
        x: d.hasOwnProperty("x") ? d.x : 0,
        y: d.hasOwnProperty("y") ? d.y : 0,
        z: d.hasOwnProperty("z") ? d.z : 0,
        type: 5,
        assetKey: d.hasOwnProperty("assetKey") ? d.assetKey : !1,
        imageAssetKey: d.hasOwnProperty("imageAssetKey") ? d.imageAssetKey : !1,
        _originalModel: d.hasOwnProperty("_originalModel") ? d._originalModel : d ? nge.Lib.Helper.jsObjClone(d) : null
    }
};
nge.Mlm.Objects.Slider = function(d) {
    d || (d = {});
    var b, h, g, f = function() {
        h && g || b.children.forEach(function(a) {
            a instanceof Phaser.Button ? g = a : a instanceof Phaser.Group || a instanceof Phaser.Text || a.key && -1 !== a.key.indexOf("_bg") && (h = a)
        })
    };
    return {
        id: d.hasOwnProperty("id") ? d.id : !1,
        name: d.hasOwnProperty("name") ? d.name : !1,
        "class": d.hasOwnProperty("class") ? d.class : !1,
        scaleX: d.hasOwnProperty("scaleX") ? d.scaleX : 1,
        scaleY: d.hasOwnProperty("scaleY") ? d.scaleY : 1,
        angle: d.hasOwnProperty("angle") ? d.angle : 0,
        alpha: d.hasOwnProperty("alpha") ?
            d.alpha : 1,
        isVisible: d.hasOwnProperty("isVisible") ? d.isVisible : !0,
        x: d.hasOwnProperty("x") ? d.x : 0,
        y: d.hasOwnProperty("y") ? d.y : 0,
        z: d.hasOwnProperty("z") ? d.z : 0,
        value: d.hasOwnProperty("value") ? d.value : 0,
        vertical: d.hasOwnProperty("vertical") ? d.vertical : !1,
        bgAssetKey: d.hasOwnProperty("bgAssetKey") ? d.bgAssetKey : !1,
        fillAssetKey: d.hasOwnProperty("fillAssetKey") ? d.fillAssetKey : !1,
        tooltipBg: d.hasOwnProperty("tooltipBg") ? d.tooltipBg : !1,
        tooltipText: d.hasOwnProperty("tooltipText") ? d.tooltipText : !1,
        valueText: d.hasOwnProperty("valueText") ?
            d.valueText : !1,
        handleAssetKey: d.hasOwnProperty("handleAssetKey") ? d.handleAssetKey : !1,
        onDrag: d.hasOwnProperty("onDrag") ? d.onDrag : !1,
        onChange: d.hasOwnProperty("onChange") ? d.onChange : !1,
        marginLeft: d.hasOwnProperty("marginLeft") ? parseInt(d.marginLeft) : 0,
        marginRight: d.hasOwnProperty("marginRight") ? parseInt(d.marginRight) : 0,
        type: 8,
        assetKey: d.hasOwnProperty("assetKey") ? d.assetKey : !1,
        _originalModel: d.hasOwnProperty("_originalModel") ? d._originalModel : d ? nge.Lib.Helper.jsObjClone(d) : null,
        _protoF: {
            toggleTooltipAutoUpdate: function(a) {
                b.autoUpdate =
                    a
            },
            setTooltipValue: function(a) {
                b.setTextValue(a)
            },
            val: function(a) {
                b || (b = this);
                f();
                if (void 0 !== a) return g.setValue(a / 100), g.events.onDragStop$dispatch(null, null), !0;
                a = b.getData();
                return (100 * (g.x - a.marginLeft) / (h.width - (a.marginLeft + a.marginRight))).toFixed(0)
            },
            setOnDrag: function(a) {
                this.getData().onDrag = a
            },
            setOnChange: function(a) {
                this.getData().onChange = a
            }
        }
    }
};
nge.Mlm.Objects.SliderAdvanced = function(d) {
    d || (d = {});
    var b, h, g, f, a = null;
    this.outFrame = 1;
    this.disableFrame = 3;
    var c = function() {
        h && g || b.children.forEach(function(a) {
            a instanceof Phaser.Button ? g = a : a instanceof Phaser.Group || a instanceof Phaser.Text || (a.key && -1 !== a.key.indexOf("_bg") && (h = a), a.key && -1 !== a.key.indexOf("_fill") && (f = a))
        })
    };
    return {
        id: d.hasOwnProperty("id") ? d.id : !1,
        name: d.hasOwnProperty("name") ? d.name : !1,
        "class": d.hasOwnProperty("class") ? d.class : !1,
        scaleX: d.hasOwnProperty("scaleX") ? d.scaleX : 1,
        scaleY: d.hasOwnProperty("scaleY") ? d.scaleY : 1,
        angle: d.hasOwnProperty("angle") ? d.angle : 0,
        alpha: d.hasOwnProperty("alpha") ? d.alpha : 1,
        isVisible: d.hasOwnProperty("isVisible") ? d.isVisible : !0,
        x: d.hasOwnProperty("x") ? d.x : 0,
        y: d.hasOwnProperty("y") ? d.y : 0,
        z: d.hasOwnProperty("z") ? d.z : 0,
        value: d.hasOwnProperty("value") ? d.value : 0,
        vertical: d.hasOwnProperty("vertical") ? d.vertical : !1,
        bgAssetKey: d.hasOwnProperty("bgAssetKey") ? d.bgAssetKey : !1,
        fillAssetKey: d.hasOwnProperty("fillAssetKey") ? d.fillAssetKey : !1,
        fillInactiveAssetKey: d.hasOwnProperty("fillInactiveAssetKey") ?
            d.fillInactiveAssetKey : !1,
        tooltipBg: d.hasOwnProperty("tooltipBg") ? d.tooltipBg : !1,
        tooltipText: d.hasOwnProperty("tooltipText") ? d.tooltipText : !1,
        valueText: d.hasOwnProperty("valueText") ? d.valueText : !1,
        handleAssetKey: d.hasOwnProperty("handleAssetKey") ? d.handleAssetKey : !1,
        onDrag: d.hasOwnProperty("onDrag") ? d.onDrag : !1,
        onChange: d.hasOwnProperty("onChange") ? d.onChange : !1,
        marginLeft: d.hasOwnProperty("marginLeft") ? parseInt(d.marginLeft) : 0,
        marginRight: d.hasOwnProperty("marginRight") ? parseInt(d.marginRight) : 0,
        type: 11,
        assetKey: d.hasOwnProperty("assetKey") ? d.assetKey : !1,
        _originalModel: d.hasOwnProperty("_originalModel") ? d._originalModel : d ? nge.Lib.Helper.jsObjClone(d) : null,
        _protoF: {
            toggleTooltipAutoUpdate: function(a) {
                b.autoUpdate = a
            },
            setTooltipValue: function(a) {
                b.setTextValue(a)
            },
            val: function(a) {
                b || (b = this);
                c();
                if (void 0 !== a) return g.setValue(a / 100), g.events.onDragStop$dispatch(null, null), !0;
                a = b.getData();
                return (100 * (g.x - a.marginLeft) / (h.width - (a.marginLeft + a.marginRight))).toFixed(0)
            },
            setValuesRange: function(d,
                f) {
                b || (b = this);
                c();
                !nge.Lib.Helper.typeCheck.isArray(d) || 0 >= d.length || (1 === d.length && b.disable(3, f), a = d, b.autoUpdate = !1, b.setTextValue(f), g.events.onDragStop$dispatch(null, null))
            },
            setOnDrag: function(c) {
                this.getData().onDrag = function() {
                    var d = b.val();
                    a && (d = b._calculateTotalIndex(), d = a[d], b.setTextValue(d));
                    c && c(d)
                }
            },
            disable: function(a) {
                isFinite(a) || (a = b.disableFrame);
                g.frame = a;
                g.input.draggable = !1;
                g.inputEnabled = !1;
                h.inputEnabled = !1;
                (a = this.getData().fillInactiveAssetKey) && f.loadTexture(a)
            },
            enable: function(c) {
                !a ||
                    1 >= a.length || (isFinite(c) || (c = b.outFrame), g.frame = c, g.input.draggable = !0, g.inputEnabled = !0, h.inputEnabled = !0, (c = this.getData().fillAssetKey) && f.loadTexture(c))
            },
            updateState: function(c) {
                if (!a || 1 >= a.length) b.disable(3), b.setTextValue(c || 0), g.setValue(1);
                else {
                    var d = a.indexOf(c);
                    g.setValue(d / (a.length - 1));
                    b.setTextValue(c)
                }
            },
            toggleBgInput: function(d) {
                b || (b = this);
                c();
                h.inputEnabled = d;
                h.events.onInputDown.add(function(c, d) {
                    g.setValue((d.x / nge.game.world.scale.x - (c.world.x / nge.game.world.scale.x - c.width /
                        2)) / c.width);
                    a && (c = b._calculateTotalIndex(), d = a[c], g.setValue(c / (a.length - 1)), b.setTextValue(d), g.events.onDragStop$dispatch(null, null))
                })
            },
            _calculateTotalIndex: function() {
                if (1 === a.length) return 0;
                var c = b.getData(),
                    d = h.width - (c.marginLeft + c.marginRight);
                return Math.round((g.x - c.marginLeft) / d * d / (d / (a.length - 1)))
            },
            _onChangeCallback: function() {
                var c = b.val();
                if (a) {
                    var d = b._calculateTotalIndex();
                    c = a[d];
                    g.setValue(d / (a.length - 1));
                    b.setTextValue(c)
                }
                return c
            },
            setOnChange: function(a) {
                this.getData().onChange =
                    function() {
                        var c = b._onChangeCallback();
                        a && a(c)
                    }
            }
        }
    }
};
nge.Mlm.Objects.Spine = function(d) {
    d || (d = {});
    return {
        id: d.hasOwnProperty("id") ? d.id : !1,
        name: d.hasOwnProperty("name") ? d.name : !1,
        "class": d.hasOwnProperty("class") ? d.class : !1,
        anchorX: d.hasOwnProperty("anchorX") ? d.anchorX : 0,
        anchorY: d.hasOwnProperty("anchorY") ? d.anchorY : 0,
        scaleX: d.hasOwnProperty("scaleX") ? d.scaleX : 1,
        scaleY: d.hasOwnProperty("scaleY") ? d.scaleY : 1,
        angle: d.hasOwnProperty("angle") ? d.angle : 0,
        alpha: d.hasOwnProperty("alpha") ? d.alpha : 1,
        isVisible: d.hasOwnProperty("isVisible") ? d.isVisible : !0,
        x: d.hasOwnProperty("x") ?
            d.x : 0,
        y: d.hasOwnProperty("y") ? d.y : 0,
        z: d.hasOwnProperty("z") ? d.z : 0,
        type: 6,
        assetKey: d.hasOwnProperty("assetKey") ? d.assetKey : !1,
        _originalModel: d.hasOwnProperty("_originalModel") ? d._originalModel : d ? nge.Lib.Helper.jsObjClone(d) : null
    }
};
nge.Mlm.Objects.Text = function(d) {
    d || (d = {});
    nge.Lib.Helper.getRandomInt(1, 9999999);
    var b = !1,
        h = {
            id: d.hasOwnProperty("id") ? d.id : !1,
            name: d.hasOwnProperty("name") ? d.name : !1,
            "class": d.hasOwnProperty("class") ? d.class : !1,
            x: d.hasOwnProperty("x") ? d.x : 0,
            y: d.hasOwnProperty("y") ? d.y : 0,
            z: d.hasOwnProperty("z") ? d.z : 0,
            type: 2,
            anchorX: d.hasOwnProperty("anchorX") ? d.anchorX : 0,
            anchorY: d.hasOwnProperty("anchorY") ? d.anchorY : 0,
            scaleX: d.hasOwnProperty("scaleX") ? d.scaleX : 1,
            scaleY: d.hasOwnProperty("scaleY") ? d.scaleY : 1,
            angle: d.hasOwnProperty("angle") ?
                d.angle : 0,
            alpha: d.hasOwnProperty("alpha") ? d.alpha : 1,
            lineSpacing: d.hasOwnProperty("lineSpacing") ? d.lineSpacing : 0,
            style: {
                fontFamily: nge.Lib.Helper.recursiveGet("style.fontFamily", d, "Arial"),
                fontSize: nge.Lib.Helper.recursiveGet("style.fontSize", d, !1),
                font: !1,
                fill: nge.Lib.Helper.recursiveGet("style.fill", d, "#000000"),
                align: nge.Lib.Helper.recursiveGet("style.align", d, "left"),
                stroke: nge.Lib.Helper.recursiveGet("style.stroke", d, "black"),
                strokeThickness: nge.Lib.Helper.recursiveGet("style.strokeThickness",
                    d, 0),
                wordWrap: nge.Lib.Helper.recursiveGet("style.wordWrap", d, !1),
                wordWrapWidth: nge.Lib.Helper.recursiveGet("style.wordWrapWidth", d, 100),
                shadowOffsetX: nge.Lib.Helper.recursiveGet("style.shadowOffsetX", d, 0),
                shadowOffsetY: nge.Lib.Helper.recursiveGet("style.shadowOffsetY", d, 0),
                shadowColor: nge.Lib.Helper.recursiveGet("style.shadowColor", d, "rgba(0,0,0,0)"),
                shadowBlur: nge.Lib.Helper.recursiveGet("style.shadowBlur", d, 0),
                shadowStroke: nge.Lib.Helper.recursiveGet("style.shadowStroke", d, !0),
                shadowFill: nge.Lib.Helper.recursiveGet("style.shadowFill",
                    d, !0)
            },
            align: "left",
            wordWrap: d.hasOwnProperty("wordWrap") ? d.wordWrap : !0,
            isVisible: d.hasOwnProperty("isVisible") ? d.isVisible : !0,
            maxWidth: d.hasOwnProperty("maxWidth") ? d.maxWidth : !1,
            maxHeight: d.hasOwnProperty("maxHeight") ? d.maxHeight : !1,
            append: d.hasOwnProperty("append") ? d.append : !0,
            text: d.hasOwnProperty("text") ? _(d.text) : " ",
            gradient: d.hasOwnProperty("gradient") ? d.gradient : !1,
            custom: d.hasOwnProperty("custom") ? d.custom : {},
            _classes: d.hasOwnProperty("_classes") ? d._classes : [],
            _originalModel: d.hasOwnProperty("_originalModel") ?
                d._originalModel : d ? nge.Lib.Helper.jsObjClone(d) : null,
            _parentClasses: d.hasOwnProperty("_parentClasses") ? d._parentClasses : [],
            _styles: d.hasOwnProperty("_styles") ? d._styles : {}
        };
    d.hasOwnProperty("style") && d.style && d.style.hasOwnProperty("font") ? h.style.font = d.style.font : h.style.font = (h.style.fontSize ? h.style.fontSize : 32) + 'pt "' + h.style.fontFamily + '"';
    h._customAutoCheckMaxSize = function(d) {
        var f = "height" === d ? b._sizeParams.height : b._sizeParams.width;
        if (!nge.Lib.Helper.makeReactive(b.canvas, f.sn, function(a) {
                a =
                    b.getData()[f.max];
                b.maxSizeResize(f.sn, a)
            })) {
            var a = 0,
                c = function() {
                    if (!b.game) return !1;
                    nge.rafSetTimeout(c, 1E3);
                    if (a === b[f.sn]) return !0;
                    var d = b.getData()[f.max];
                    b.maxSizeResize(f.sn, d);
                    a = b[f.sn];
                    return !0
                };
            nge.rafSetTimeout(c, 1E3)
        }
    };
    h._protoF = {
        _init: function(d) {
            b = d;
            if (nge.game.device.android) {
                d = Math.min(Math.max(screen.width, screen.height) * devicePixelRatio / 1920, 1);
                var f = b.getData(),
                    a = 0,
                    c = 0,
                    e;
                for (e in f._styles) {
                    var g = f._styles[e].style;
                    g && (g.shadowOffsetX && (a = g.shadowOffsetX), g.shadowOffsetY && (c = g.shadowOffsetY))
                }
                b.resolution =
                    d;
                b.shadowOffsetX = a * d;
                b.shadowOffsetY = c * d
            }
        },
        validate: function() {
            var d = function(a) {
                nge.Lib.Helper.isFontAvailable(a) || console.error("no fontFamily ", a)
            };
            if (b.style.fontFamily) {
                var f = b.style.fontFamily;
                d(f)
            }
            if (b.style.font) {
                f = b.style.font.split(" ");
                var a = f.length;
                2 <= a && (-1 !== f[a - 2].indexOf("px") || -1 !== f[a - 2].indexOf("pt")) && (f = f[a - 1], d(f))
            }
        }
    };
    return h
};
nge.Mlm.ObjectsEditor = {};
nge.Mlm.ObjectsEditor._Package = {
    name: "mlm.objectsEditor",
    version: 1,
    requirments: {
        js: ["mlm/objectsEditor/controller", "mlm/objectsEditor/service", "mlm/objectsEditor/view", "mlm/objectsEditor/viewAssets", "mlm/objectsEditor/viewObjects"]
    }
};
nge.Mlm.ObjectsEditor.Controller = function() {
    var d, b;
    this.init = function() {
        d || (d = new nge.Mlm.ObjectsEditor.Service, d.init(), nge.observer.add("StatesManager.create.end", h, !1, !0))
    };
    this.display = function() {
        b ? this.close() : this.open();
        return !0
    };
    this.open = function() {
        b = !0;
        nge.observer.fire("objectsEditor.open");
        return d.open()
    };
    this.close = function() {
        b = !1;
        nge.observer.fire("objectsEditor.close");
        return d.close()
    };
    this.assetsNewFolder = function() {
        return d.assetsNewFolder()
    };
    this.assetsDeleteSelected = function() {
        return d.assetsDeleteSelected()
    };
    this.assetsExportSelected = function() {
        return d.assetsExportSelected()
    };
    this.assetsAddObject = function() {
        return d.assetsAddObject()
    };
    this.assetsAddBtn = function() {
        return d.assetsAddBtn()
    };
    this.objectsAddText = function() {
        return d.objectsAddText()
    };
    this.objectsNewFolder = function() {
        return d.objectsNewFolder()
    };
    this.objectsDeleteSelected = function() {
        return d.objectsDeleteSelected()
    };
    this.objectsExportSelected = function() {
        return d.objectsExportSelected()
    };
    this.resolutionsExport = function() {
        return d.resolutionsExport()
    };
    this.resolutionAdd = function() {
        return d.resolutionAdd()
    };
    this.resolutionsDeleteSelected = function() {
        return d.resolutionsDeleteSelected()
    };
    this.resolutionSelect = function() {
        return d.resolutionSelect()
    };
    this.applyResolution = function(b) {
        return d.applyResolution(b)
    };
    this.setResolution = function(b) {
        return d.setResolution(b)
    };
    this.edit = function(b) {
        return d.edit(b)
    };
    this.update = function() {
        return h()
    };
    this.modelAddRow = function() {
        return d.modelAddRow()
    };
    var h = function() {
        b && d.update();
        return !0
    }
};
nge.Mlm.ObjectsEditor.Model = function(d) {
    return {
        type: d && d.type || "object",
        name: d && d.name || !1,
        key: d && d.key || !1,
        value: d && d.value || !1,
        worldOnlyFlag: d && d.worldOnlyFlag || !1
    }
};
nge.Mlm.ObjectsEditor.Service = function() {
    var d, b, h, g, f, a = "main";
    this.init = function() {
        d = new nge.Mlm.ObjectsEditor.View;
        b = new nge.Mlm.ObjectsEditor.ViewAssets;
        h = new nge.Mlm.ObjectsEditor.ViewObjects;
        f = new nge.Mlm.ObjectsEditor.ViewModels;
        g = new nge.Mlm.ObjectsEditor.viewResolutions
    };
    this.open = function() {
        if (0 < $(".objectsEditor").length) return $(".objectsEditor").show(), g.resolutionSelect(nge.resolutionsManager.getName()), !0;
        $.get("../../js/mlm/objectsEditor/tpl.html", function(a) {
            b.setModelsEditor(f);
            h.setModelsEditor(f);
            g.setModelsEditor(f);
            d.createDom(a);
            b.prepareUploader();
            b.prepareTree();
            b.buildTree();
            h.prepareTree();
            h.buildTree();
            g.prepareTree();
            g.buildTree();
            g.resolutionSelect(nge.resolutionsManager.getName())
        });
        return !0
    };
    this.close = function() {
        $(".objectsEditor").hide();
        return !0
    };
    this.update = function() {
        b.prepareTree();
        b.buildTree();
        h.prepareTree();
        h.buildTree();
        g.prepareTree();
        g.buildTree();
        return !0
    };
    this.assetsNewFolder = function() {
        return b.assetsNewFolder()
    };
    this.assetsDeleteSelected = function() {
        return b.assetsDeleteSelected()
    };
    this.assetsExportSelected = function() {
        return b.assetsExportSelected()
    };
    this.assetsAddObject = function() {
        return b.assetsAddObject(h.addAssetAsObject)
    };
    this.assetsAddBtn = function() {
        return b.assetsAddObject(h.addAssetAsBtn)
    };
    this.objectsExportSelected = function() {
        return h.objectsExportSelected()
    };
    this.objectsDeleteSelected = function() {
        return h.objectsDeleteSelected()
    };
    this.objectsNewFolder = function() {
        return h.objectsNewFolder()
    };
    this.objectsAddText = function() {
        return h.objectsAddText()
    };
    this.resolutionsExport =
        function() {
            return g.resolutionsExport()
        };
    this.resolutionAdd = function() {
        return g.resolutionAdd()
    };
    this.resolutionsDeleteSelected = function() {
        var b = g.resolutionsDeleteSelected();
        if (!b) return !1;
        b === a && g.resolutionSelect(nge.Cfg.Resolutions.contents[0].name);
        return !0
    };
    this.resolutionSelect = function() {
        return g.resolutionSelect()
    };
    this.applyResolution = function(b) {
        var c = nge.resolutionsManager.getName();
        h.applyResolution(b, c);
        a = b
    };
    this.setResolution = function(a) {
        nge.resolutionsManager.set(a)
    };
    this.edit = function(c) {
        switch (c.type) {
            case "object":
                "main" !==
                a && 0 !== c.key.indexOf("custom.") && (c.key = "properties_" + a + "." + c.key);
                h.modelRowEdit(c);
                break;
            case "asset":
                b.modelRowEdit(c);
                break;
            case "resolution":
                g.modelRowEdit(c)
        }
        return !0
    };
    this.modelAddRow = function() {
        return f.modelAddRow()
    }
};
nge.Mlm.ObjectsEditor.View = function() {
    this.createDom = function(d) {
        var b = $('<div class="objectsEditor"></div>');
        $("body").append(b);
        b.html(d);
        var h = function(b) {
            var a = window.open("", "", "toolbar=no,location=no,status=no,menubar=no,scrollbars=yes,resizable=yes,width=800,height=600");
            a && (a.document.write('<pre style="word-wrap: break-word; white-space: pre-wrap;">' + b + "</pre>"), a.document.close(), a.focus());
            return !1
        };
        $(".assets-export-selected").bind("click", function() {
            h(nge.objectsEditor.assetsExportSelected())
        });
        $(".objects-export-selected").bind("click", function() {
            h(nge.objectsEditor.objectsExportSelected())
        });
        $(".resolutions-export-selected").bind("click", function() {
            h(nge.objectsEditor.resolutionsExport())
        });
        d = ["resolutions", "assets", "objects", "settings"];
        for (var g in d)(function(b) {
            $("." + b + "-content").hide();
            $("." + b + "-roll").bind("click", function() {
                var a = "none" === $("." + b + "-content").css("display"),
                    c = $("." + b + "-content");
                a ? c.show() : c.hide();
                c = $("." + b + "-roll").find("b");
                a ? c.html("-") : c.html("+")
            })
        })(d[g]);
        return !0
    }
};
nge.Mlm.ObjectsEditor.ViewAssets = function() {
    var d = 0,
        b;
    this.setModelsEditor = function(a) {
        b = a
    };
    this.prepareUploader = function() {
        $("#FileInput").change(function() {
            $("#assetUploaderForm").ajaxSubmit({
                target: "#output",
                beforeSubmit: nge.uploader.beforeSubmit,
                success: function(a) {
                    var b = JSON.parse(a);
                    log("Upload success", b);
                    d++;
                    h({
                        id: d,
                        pid: 0,
                        type: "file",
                        name: b.name
                    });
                    mt.findItemInTemplate("name", b.name, mt.data.assets) || (a = new nge.Mlm.Assets.Image, a.id = b.name, a.name = b.name, a.fullPath = "img/" + b.name, a.key = "/" + b.name,
                        a.width = b.width, a.height = b.height, a.frameWidth = b.width, a.frameHeight = b.height, a.source = "img/" + b.name, mt.data.assets.contents.push(a), b = new Phaser.Loader(nge.game), b.spritesheet(a.key, a.fullPath, a.frameWidth, a.frameHeight), b.start())
                },
                uploadProgress: nge.uploader.OnProgress,
                resetForm: !0
            })
        });
        return !0
    };
    var h = function(a, b) {
        var d = $("#assetsTreeViewBody"),
            f = "";
        a.pid && (f = nge.Lib.Helper.strReplace("{pid}", a.pid, e));
        var h = c;
        h = nge.Lib.Helper.strReplace("{id}", a.id, h);
        h = nge.Lib.Helper.strReplace("{parent}", f,
            h);
        h = nge.Lib.Helper.strReplace("{type}", a.type, h);
        h = nge.Lib.Helper.strReplace("{name}", a.name, h);
        b ? d.append($(h)) : (a = $("#assetsTreeView").treetable("node", "0"), $("#assetsTreeView").treetable("loadBranch", a, h), g());
        return !0
    };
    this.prepareTree = function() {
        $(".ui-assetsTreeView").html("").append('<table id="assetsTreeView"><tbody id="assetsTreeViewBody"></tbody></table>');
        var a = function(b, c) {
            var d = 1,
                e;
            for (e in b) {
                var f = b[e],
                    g = {
                        id: d,
                        pid: c,
                        type: "folder",
                        name: f.name
                    };
                c && (g.id = c + "-" + g.id);
                f.width && f.height &&
                    (g.type = "file");
                h(g, !0);
                "folder" === g.type && a(f.contents, g.id);
                d++
            }
            return d - 1
        };
        d = a(mt.data.assets.contents, !1);
        return !0
    };
    this.buildTree = function() {
        $("#assetsTreeView").treetable({
            expandable: !0
        });
        $("#assetsTreeView tbody").on("mousedown", "tr", function() {
            $(".selected").not(this).removeClass("selected");
            $(this).toggleClass("selected");
            f()
        });
        g();
        return !0
    };
    var g = function() {
        $("#assetsTreeView .file, #assetsTreeView .folder").draggable({
            helper: "clone",
            opacity: .75,
            refreshPositions: !0,
            revert: "invalid",
            revertDuration: 300,
            scroll: !0
        });
        $("#assetsTreeView .folder").each(function() {
            $(this).parents("#assetsTreeView tr").droppable({
                accept: ".file, .folder",
                drop: function(a, b) {
                    a = b.draggable.parents("tr");
                    $("#assetsTreeView").treetable("move", a.data("ttId"), $(this).data("ttId"));
                    var c = a.find(".assetName").html();
                    a = $(this).find(".assetName").html();
                    if (a === c) return !1;
                    log(">moving " + c + " into " + a);
                    (b = mt.findItemInTemplate("name", c, mt.data.assets)) ? (mt.deleteItemInTemplate("name", c, mt.data.assets), (c = mt.findItemInTemplate("name",
                        a, mt.data.assets)) && c.contents ? c.contents.push(b) : log(">>> ERROR: no assetP " + a)) : log(">>> ERROR: no asset " + c)
                },
                hoverClass: "accept",
                over: function(a, b) {
                    this === b.draggable.parents("tr")[0] || $(this).is(".expanded") || $("#assetsTreeView").treetable("expandNode", $(this).data("ttId"))
                }
            })
        });
        return !0
    };
    this.assetsNewFolder = function() {
        d++;
        var a = {
            id: d,
            pid: 0,
            type: "folder",
            name: "Folder" + d
        };
        h(a);
        if (!mt.findItemInTemplate("name", a.name, mt.data.assets)) {
            var b = new nge.Mlm.Assets.Folder;
            b.id = a.name;
            b.name = a.name;
            b.fullPath =
                "/" + a.name;
            mt.data.assets.contents.push(b)
        }
        return !0
    };
    this.assetsDeleteSelected = function() {
        var a = $("#assetsTreeView tbody").find(".selected").data("ttId"),
            b = $("#assetsTreeView tbody").find(".selected").find(".assetName").html();
        if (!a) return !1;
        a = $("#assetsTreeView").treetable("node", a);
        jQuery("#assetsTreeView").treetable("unloadBranch", a);
        a.row.remove();
        delete a.tree[a.id];
        mt.deleteItemInTemplate("name", b, mt.data.assets) || log(">>> ERROR: asset " + b + " was not deleted");
        return !0
    };
    this.assetsExportSelected =
        function() {
            var a = $("#assetsTreeView tbody").find(".selected").find(".assetName").html();
            a = mt.findItemInTemplate("name", a, mt.data.assets);
            return JSON.stringify(a, null, "\t")
        };
    this.assetsAddObject = function(a) {
        var b = $("#assetsTreeView tbody").find(".selected").find(".assetName").html();
        b = mt.findItemInTemplate("name", b, mt.data.assets);
        if (!b.key) return !1;
        a(b);
        return !0
    };
    var f = function() {
            b.close();
            var c = $("#assetsTreeView tbody").find(".selected").find(".assetName").html(),
                d = mt.findItemInTemplate("name",
                    c, mt.data.assets);
            if (!c || !d) return !1;
            c = a(d);
            c = nge.Lib.Helper.jsObjClone(c);
            for (var e in c) c[e] = nge.Lib.Helper.recursiveGet(c[e], d);
            for (e in d.custom) c["custom." + e] = d.custom[e];
            c.scheme = k;
            b.edit(c, "asset")
        },
        a = function(a) {
            var b = "folder";
            a.key && (b = "image");
            a = l;
            switch (b) {
                case "folder":
                    a = l;
                    break;
                case "image":
                    a = k
            }
            return a
        };
    this.modelRowEdit = function(b) {
        var c = b.value,
            d = b.key;
        b = !1;
        c == parseFloat(c) && (c = parseFloat(c));
        var e = $("#assetsTreeView tbody").find(".selected").find(".assetName").html(),
            g = mt.findItemInTemplate("name",
                e, mt.data.assets);
        e = a(g);
        var h = d;
        e[d] ? h = e[d] : nge.Lib.Helper.recursiveGet(h, g) || (b = !0);
        nge.Lib.Helper.recursiveSet(h, c, g);
        if ("name" === d) $("#assetsTreeView tbody").find(".selected").find(".assetName").html(c);
        else if ("frameWidth" === d || "frameHeight" === d) nge.game.cache.getImage(g.key) && nge.game.cache.removeImage(g.key), c = new Phaser.Loader(nge.game), c.spritesheet(g.key, g.fullPath, g.frameWidth, g.frameHeight), c.onLoadComplete.addOnce(function() {
            log("loaded");
            var a = nge.objects.findItemsInWorld("assetKey",
                    g.key),
                b;
            for (b in a) {
                var c = new Phaser.Frame(g.frameMax, 0, 0, g.frameWidth, g.frameHeight);
                a[b].setTexture(PIXI.TextureCache[g.key]);
                a[b].setFrame(c)
            }
        }), c.start();
        b && f();
        return !0
    };
    var c = '<tr data-tt-id="{id}"{parent}><td><span class="{type} assetName">{name}</span></td></tr>',
        e = ' data-tt-parent-id="{pid}"',
        k = {
            name: "name",
            key: "key",
            frameWidth: "frameWidth",
            frameHeight: "frameHeight",
            width: "width",
            height: "height",
            frameMax: "frameMax",
            margin: "margin",
            spacing: "spacing",
            anchorX: "anchorX",
            anchorY: "anchorY",
            fps: "fps"
        },
        l = {
            name: "name"
        }
};
nge.Mlm.ObjectsEditor.ViewModels = function() {
    var d;
    this.edit = function(a, c, e) {
        d = c;
        $(".objectsEditorSettings").html("");
        var k = c = "";
        e && (c = " disabled");
        for (var l in a) "scheme" !== l && (k += '<label for="objectsEditorModel-' + l + '"class="objectsEditorLabel">' + l + '</label><input class="objectsEditorModel" id="objectsEditorModel-' + l + '" value="' + a[l] + '" ' + c + "><br>");
        $(".objectsEditorSettings").html(k);
        $(".newRow").show();
        $(".objectsEditorModel").focusin(h);
        $(".objectsEditorModel").focusout(g);
        $(".objectsEditorModel").change(f);
        $(".objectsEditorModel").keyup(f);
        $(".objectsEditorModel").bind("DOMMouseScroll mousewheel", b);
        return !0
    };
    var b = function(a) {
            var b = 0 < a.originalEvent.wheelDelta || 0 > a.originalEvent.detail ? 1 : -1;
            "" === this.value && (this.value = 0);
            isNaN(this.value) || (this.value = parseFloat(this.value) + b);
            f(a)
        },
        h = function() {
            this._haschanged || (this.valueBak = this.value, this.value = "", this._haschanged = !0)
        },
        g = function() {
            this._haschanged && "" === this.value && (this.value = this.valueBak)
        },
        f = function(a) {
            var b = nge.Lib.Helper.strReplace("objectsEditorModel-", "", a.currentTarget.id);
            a = new nge.Mlm.ObjectsEditor.Model({
                type: d,
                key: b,
                value: a.currentTarget.value
            });
            nge.objectsEditor.edit(a);
            return !0
        };
    this.close = function() {
        d = !1;
        $(".objectsEditorSettings").html("");
        $(".newRow").hide();
        return !0
    };
    this.modelAddRow = function() {
        var a = "custom." + $(".newRowTitle").val();
        a = new nge.Mlm.ObjectsEditor.Model({
            type: d,
            key: a
        });
        nge.objectsEditor.edit(a);
        $(".newRowTitle").val("");
        return !0
    }
};
nge.Mlm.ObjectsEditor.ViewObjects = function() {
    var d = 0,
        b, h;
    this.setModelsEditor = function(a) {
        b = a
    };
    var g = function(a, b) {
        var c = $("#objectsTreeViewBody"),
            d = "";
        a.pid && (d = nge.Lib.Helper.strReplace("{pid}", a.pid, l));
        var e = nge.Lib.Helper.strReplace("{id}", a.id, k);
        e = nge.Lib.Helper.strReplace("{parent}", d, e);
        e = nge.Lib.Helper.strReplace("{type}", a.type, e);
        e = nge.Lib.Helper.strReplace("{name}", a.name, e);
        b ? c.append($(e)) : (a = $("#objectsTreeView").treetable("node", "0"), $("#objectsTreeView").treetable("loadBranch", a,
            e), f());
        return !0
    };
    this.prepareTree = function() {
        $(".ui-objectsTreeView").html("").append('<table id="objectsTreeView"><tbody id="objectsTreeViewBody"></tbody></table>');
        var a = function(b, c) {
            var d = 1,
                e;
            for (e in b) {
                var f = b[e],
                    h = {
                        id: d,
                        pid: c,
                        type: "file",
                        name: f.name
                    };
                c && (h.id = c + "-" + h.id);
                1 === f.type && (h.type = "folder");
                g(h, !0);
                "folder" === h.type && (d += a(f.contents, h.id));
                d++
            }
            return d - 1
        };
        d = a(mt.data.objects.contents, !1);
        return !0
    };
    this.buildTree = function() {
        $("#objectsTreeView").treetable({
            expandable: !0
        });
        $("#objectsTreeView tbody").on("mousedown",
            "tr",
            function() {
                $(".selected").not(this).removeClass("selected");
                $(this).toggleClass("selected");
                a()
            });
        f();
        return !0
    };
    var f = function() {
        $("#objectsTreeView .file, #objectsTreeView .folder").draggable({
            helper: "clone",
            opacity: .75,
            refreshPositions: !0,
            revert: "invalid",
            revertDuration: 300,
            scroll: !0
        });
        $("#objectsTreeView .folder").each(function() {
            $(this).parents("#objectsTreeView tr").droppable({
                accept: ".file, .folder",
                drop: function(a, b) {
                    a = b.draggable.parents("tr");
                    $("#objectsTreeView").treetable("move", a.data("ttId"),
                        $(this).data("ttId"));
                    a = a.find(".objectName").html();
                    b = $(this).find(".objectName").html();
                    if (b === a) return !1;
                    log(">moving " + a + " into " + b);
                    var c = mt.findItemInTemplate("name", a, mt.data.objects);
                    if (c) {
                        mt.deleteItemInTemplate("name", a, mt.data.objects);
                        var d = mt.findItemInTemplate("name", b, mt.data.objects);
                        d && d.contents ? d.contents.unshift(c) : log(">>> ERROR: no objectP " + b);
                        b = nge.findOne("^" + b);
                        a = nge.findOne("^" + a);
                        b && a ? b.add(a) : log(">>> ERROR: no objects in world - gr,el:", b, a)
                    } else log(">>> ERROR: no object " +
                        a)
                },
                hoverClass: "accept",
                over: function(a, b) {
                    this === b.draggable.parents("tr")[0] || $(this).is(".expanded") || $("#objectsTreeView").treetable("expandNode", $(this).data("ttId"))
                }
            })
        });
        return !0
    };
    this.objectsAddText = function() {
        d++;
        var a = {
            id: d,
            pid: 0,
            type: "file",
            name: "Text" + d
        };
        g(a);
        if (!mt.findItemInTemplate("name", a.name, mt.data.objects)) {
            var b = new nge.Mlm.Objects.Text;
            b.id = a.name;
            b.name = a.name;
            b.fullPath = "/" + a.name;
            mt.data.objects.contents.push(b);
            nge.objects.create(a.name)
        }
        return !0
    };
    this.objectsNewFolder =
        function() {
            d++;
            var a = {
                id: d,
                pid: 0,
                type: "folder",
                name: "Folder" + d
            };
            g(a);
            if (!mt.findItemInTemplate("name", a.name, mt.data.objects)) {
                var b = new nge.Mlm.Objects.Folder;
                b.id = a.name;
                b.name = a.name;
                b.fullPath = "/" + a.name;
                mt.data.objects.contents.push(b);
                nge.objects.create(b.name)
            }
            return !0
        };
    this.objectsDeleteSelected = function() {
        var a = $("#objectsTreeView tbody").find(".selected").data("ttId"),
            b = $("#objectsTreeView tbody").find(".selected").find(".objectName").html();
        if (!a) return !1;
        a = $("#objectsTreeView").treetable("node",
            a);
        jQuery("#objectsTreeView").treetable("unloadBranch", a);
        a.row.remove();
        delete a.tree[a.id];
        mt.deleteItemInTemplate("name", b, mt.data.objects) || log(">>> ERROR: object " + b + " was not deleted");
        nge.findOne("^" + b).destroy(!0);
        return !0
    };
    this.objectsExportSelected = function() {
        var a = $("#objectsTreeView tbody").find(".selected").find(".objectName").html();
        a = mt.findItemInTemplate("name", a, mt.data.objects);
        return JSON.stringify(a, null, "\t")
    };
    this.addAssetAsObject = function(a) {
        if (!a) return !1;
        d++;
        var b = a.name.split(".");
        b.pop();
        b = b.pop() + d;
        var c = {
            id: d,
            pid: 0,
            type: "file",
            name: b
        };
        g(c);
        mt.findItemInTemplate("name", c.name, mt.data.objects) || (c = new nge.Mlm.Objects.Image, c.id = b, c.name = b, c.assetId = a.id, c.fullPath = a.fullPath, c.assetKey = a.key, c.height = a.height, c.width = a.width, mt.data.objects.contents.push(c), nge.objects.create(b));
        return !0
    };
    var a = function() {
            b.close();
            var a = $("#objectsTreeView tbody").find(".selected").find(".objectName").html(),
                d = mt.findItemInTemplate("name", a, mt.data.objects),
                e = nge.findOne("^" + a);
            if (!a || !d) return !1;
            e || (nge.objects.create(a), e = nge.findOne("^" + a), d.isVisible = !1, e.visible = !1);
            a = c(d);
            e = nge.Lib.Helper.jsObjClone(a);
            for (var f in e) {
                var g = e[f].mt;
                e[f] = nge.Lib.Helper.recursiveGet("properties_" + h + "." + g, d);
                "undefined" === typeof e[f] && (e[f] = nge.Lib.Helper.recursiveGet(g, d))
            }
            for (f in d.custom) e["custom." + f] = d.custom[f];
            e.scheme = a;
            b.edit(e, "object")
        },
        c = function(a) {
            var b = "folder";
            2 === a.type && (b = "text");
            0 === a.type && (b = "image");
            4 === a.type && (b = "button");
            a = m;
            switch (b) {
                case "folder":
                    a = m;
                    break;
                case "text":
                    a = q;
                    break;
                case "image":
                    a = n;
                    break;
                case "button":
                    a = p
            }
            return a
        };
    this.modelRowEdit = function(a) {
        a.name || (a.name = $("#objectsTreeView tbody").find(".selected").find(".objectName").html());
        e(a)
    };
    var e = function(b) {
        var d = b.name,
            e = b.key,
            f = b.value,
            g = b.worldOnlyFlag;
        b = !1;
        isNaN(f) || (f = parseFloat(f));
        var h = mt.findItemInTemplate("name", d, mt.data.objects, !0),
            k = h.object;
        h = h.parent;
        d = nge.findOne("^" + d);
        var l = c(k),
            p = e,
            n = e,
            q = !1;
        0 === n.indexOf("properties_") && (q = !0, n = n.split(".")[1]);
        l[e] ? (p = l[e].mt, n = l[e].world) : q || nge.Lib.Helper.recursiveGet(p,
            k) || (b = !0);
        g || nge.Lib.Helper.recursiveSet(p, f, k);
        if (k.btnFrames) {
            if ("action" === e) try {
                log("action is correct"), eval("v = " + f)
            } catch (D) {
                log("action is incorrect")
            }
            "scaleX" === e && (f *= k.width);
            "scaleY" === e && (f *= k.height)
        }
        nge.Lib.Helper.recursiveSet(n, f, d);
        if ("fontSize" === e || "fontFamily" === e) k.style.font = k.style.fontSize + 'pt "' + k.style.fontFamily + '"';
        "name" === e && $("#objectsTreeView tbody").find(".selected").find(".objectName").html(f);
        if ("z" === e) {
            g = h.contents;
            g.sort(function(a, b) {
                a.z || (a.z = 0);
                b.z || (b.z =
                    0);
                return parseInt(b.z) - parseInt(a.z)
            });
            for (e in g)(k = nge.findOne("^" + g[e].name)) && k.destroy(!0);
            h = nge.findOne("^" + h.name);
            for (d = g.length - 1; - 1 < d; d--) nge.objects.create(g[d].name, h)
        }
        0 === e.indexOf("properties_") && (g = e.split("."), nge.Lib.Helper.recursiveGet(g[1], k) === f && nge.Lib.Helper.recursiveDelete(e, k));
        b && a();
        return !0
    };
    this.addAssetAsBtn = function(a) {
        if (!a) return !1;
        d++;
        var b = a.name.split(".");
        b.pop();
        b = b.pop() + d;
        var c = {
            id: d,
            pid: 0,
            type: "file",
            name: b
        };
        g(c);
        mt.findItemInTemplate("name", c.name, mt.data.objects) ||
            (c = new nge.Mlm.Objects.Button, c.id = b, c.name = b, c.assetId = a.id, c.fullPath = a.fullPath, c.assetKey = a.key, c.height = a.height, c.width = a.width, mt.data.objects.contents.push(c), nge.objects.create(b));
        return !0
    };
    this.applyResolution = function(a, b) {
        h = a;
        var d = function(f) {
            for (var g in f.contents) {
                var h = f.contents[g],
                    k = c(h),
                    l;
                for (l in k) {
                    var p = k[l].mt,
                        n = nge.Lib.Helper.recursiveGet(p, h["properties_" + b]),
                        q = nge.Lib.Helper.recursiveGet(p, h);
                    void 0 !== n && (n = new nge.Mlm.ObjectsEditor.Model({
                            name: h.name,
                            key: l,
                            value: q,
                            worldOnlyFlag: !0
                        }),
                        e(n));
                    p = nge.Lib.Helper.recursiveGet(p, h["properties_" + a]);
                    void 0 !== p && (n = new nge.Mlm.ObjectsEditor.Model({
                        name: h.name,
                        key: l,
                        value: p,
                        worldOnlyFlag: !0
                    }), e(n))
                }
                h.contents && 0 < h.contents.length && d(h)
            }
            return !0
        };
        return d(mt.data.objects) || !1
    };
    var k = '<tr data-tt-id="{id}"{parent}><td><span class="{type} objectName">{name}</span></td></tr>',
        l = ' data-tt-parent-id="{pid}"',
        m = {
            name: {
                mt: "name",
                world: "name"
            },
            x: {
                mt: "x",
                world: "x"
            },
            y: {
                mt: "y",
                world: "y"
            },
            z: {
                mt: "z",
                world: "z"
            },
            angle: {
                mt: "angle",
                world: "angle"
            },
            anchorX: {
                mt: "anchorX",
                world: "anchor.x"
            },
            anchorY: {
                mt: "anchorY",
                world: "anchor.y"
            },
            "width (ns*)": {
                mt: "width",
                world: "width"
            },
            "height (ns*)": {
                mt: "height",
                world: "height"
            },
            scaleX: {
                mt: "scaleX",
                world: "scaleX"
            },
            scaleY: {
                mt: "scaleY",
                world: "scaleY"
            },
            alpha: {
                mt: "alpha",
                world: "alpha"
            },
            isVisible: {
                mt: "isVisible",
                world: "visible"
            }
        },
        q = {
            name: {
                mt: "name",
                world: "name"
            },
            x: {
                mt: "x",
                world: "x"
            },
            y: {
                mt: "y",
                world: "y"
            },
            z: {
                mt: "z",
                world: "z"
            },
            angle: {
                mt: "angle",
                world: "angle"
            },
            anchorX: {
                mt: "anchorX",
                world: "anchor.x"
            },
            anchorY: {
                mt: "anchorY",
                world: "anchor.y"
            },
            text: {
                mt: "text",
                world: "text"
            },
            fontSize: {
                mt: "style.fontSize",
                world: "fontSize"
            },
            fill: {
                mt: "style.fill",
                world: "fill"
            },
            stroke: {
                mt: "style.stroke",
                world: "stroke"
            },
            scaleX: {
                mt: "scaleX",
                world: "scaleX"
            },
            scaleY: {
                mt: "scaleY",
                world: "scaleY"
            },
            alpha: {
                mt: "alpha",
                world: "alpha"
            },
            isVisible: {
                mt: "isVisible",
                world: "visible"
            }
        },
        n = {
            name: {
                mt: "name",
                world: "name"
            },
            x: {
                mt: "x",
                world: "x"
            },
            y: {
                mt: "y",
                world: "y"
            },
            z: {
                mt: "z",
                world: "z"
            },
            angle: {
                mt: "angle",
                world: "angle"
            },
            anchorX: {
                mt: "anchorX",
                world: "anchor.x"
            },
            anchorY: {
                mt: "anchorY",
                world: "anchor.y"
            },
            scaleX: {
                mt: "scaleX",
                world: "scaleX"
            },
            scaleY: {
                mt: "scaleY",
                world: "scaleY"
            },
            alpha: {
                mt: "alpha",
                world: "alpha"
            },
            frame: {
                mt: "frame",
                world: "frame"
            },
            isVisible: {
                mt: "isVisible",
                world: "visible"
            }
        },
        p = {
            name: {
                mt: "name",
                world: "name"
            },
            x: {
                mt: "x",
                world: "x"
            },
            y: {
                mt: "y",
                world: "y"
            },
            z: {
                mt: "z",
                world: "z"
            },
            angle: {
                mt: "angle",
                world: "angle"
            },
            anchorX: {
                mt: "anchorX",
                world: "anchor.x"
            },
            anchorY: {
                mt: "anchorY",
                world: "anchor.y"
            },
            scaleX: {
                mt: "scaleX",
                world: "width"
            },
            scaleY: {
                mt: "scaleY",
                world: "height"
            },
            alpha: {
                mt: "alpha",
                world: "alpha"
            },
            isVisible: {
                mt: "isVisible",
                world: "visible"
            },
            action: {
                mt: "action",
                world: "events.onInputUp._bindings.0._listener"
            },
            btnFramesOver: {
                mt: "btnFrames.over",
                world: "_onOverFrame"
            },
            btnFramesOut: {
                mt: "btnFrames.out",
                world: "_onOutFrame"
            },
            btnFramesDown: {
                mt: "btnFrames.down",
                world: "_onDownFrame"
            }
        }
};
nge.Mlm.ObjectsEditor.viewResolutions = function() {
    var d = 0,
        b;
    this.setModelsEditor = function(a) {
        b = a
    };
    var h = function(a, b) {
        var c = $("#resolutionsTreeViewBody"),
            d = g;
        d = nge.Lib.Helper.strReplace("{parent}", "", d);
        d = nge.Lib.Helper.strReplace("{type}", a.type, d);
        d = nge.Lib.Helper.strReplace("{name}", a.name, d);
        b ? c.append($(d)) : (a = $("#resolutionsTreeView").treetable("node", "0"), $("#resolutionsTreeView").treetable("loadBranch", a, d));
        return !0
    };
    this.prepareTree = function() {
        $(".ui-resolutionsTreeView").html("").append('<table id="resolutionsTreeView"><tbody id="resolutionsTreeViewBody"></tbody></table>');
        var a = function(b, c) {
            var d = 1,
                e;
            for (e in b) {
                var f = b[e],
                    g = {
                        id: d,
                        pid: c,
                        type: "folder",
                        name: f.name
                    };
                c && (g.id = c + "-" + g.id);
                if (f.width && f.height || f.text) g.type = "file";
                h(g, !0);
                "folder" === g.type && (d += a(f.contents, g.id));
                d++
            }
            return d - 1
        };
        d = a(nge.Cfg.Resolutions.contents, !1);
        return !0
    };
    this.buildTree = function() {
        $("#resolutionsTreeView").treetable({
            expandable: !0
        });
        $("#resolutionsTreeView tbody").on("mousedown", "tr", function() {
            $(".selected").not(this).removeClass("selected");
            $(this).toggleClass("selected");
            b.close();
            var c = $("#resolutionsTreeView tbody").find(".selected").find(".resolutionName").html(),
                d = mt.findItemInTemplate("name", c, nge.Cfg.Resolutions);
            if (c && d) {
                c = a;
                var f = nge.Lib.Helper.jsObjClone(c),
                    g;
                for (g in f) f[g] = nge.Lib.Helper.recursiveGet(f[g], d);
                f.scheme = c;
                b.edit(f, "resolution", d._fixed)
            }
        });
        return !0
    };
    this.resolutionsDeleteSelected = function() {
        var a = $("#resolutionsTreeView tbody").find(".selected").find(".resolutionName").html();
        if (!a || mt.findItemInTemplate("name", a, nge.Cfg.Resolutions)._fixed) return !1;
        for (var b; b = mt.findItemInTemplate("properties_" + a, "*ANY*", mt.data.objects, !0);) delete b.object["properties_" + a];
        b = $("#resolutionsTreeView").treetable("node", a);
        jQuery("#resolutionsTreeView").treetable("unloadBranch", b);
        b.row.remove();
        delete b.tree[b.name];
        mt.deleteItemInTemplate("name", a, nge.Cfg.Resolutions) || log(">>> ERROR: resolution " + a + " was not deleted");
        return a
    };
    this.resolutionsExport = function() {
        return JSON.stringify(nge.Cfg.Resolutions, null, "\t")
    };
    this.resolutionAdd = function() {
        d++;
        var a = nge.Lib.Helper.jsObjClone(f);
        a.name += d;
        h(a);
        nge.Cfg.Resolutions.contents.push(a);
        return !0
    };
    this.modelRowEdit = function(b) {
        var c = b.value;
        b = b.key;
        isNaN(c) || (c = parseFloat(c));
        var d = $("#resolutionsTreeView tbody").find(".selected").find(".resolutionName").html();
        d = mt.findItemInTemplate("name", d, nge.Cfg.Resolutions);
        nge.Lib.Helper.recursiveSet(a[b], c, d);
        d.orientation = d.width > d.height ? 0 : 1;
        "name" === b && $("#resolutionsTreeView tbody").find(".selected").find(".resolutionName").html(c);
        return !0
    };
    this.resolutionSelect = function(a) {
        a || (a = $("#resolutionsTreeView tbody").find(".selected").find(".resolutionName").html());
        var b = mt.findItemInTemplate("name", a, nge.Cfg.Resolutions);
        if (!a || !b) return !1;
        $("#resolutionsTreeView tbody").each(function() {
            $(this).find(".resolutionName").removeClass("star").removeClass("file").addClass("file")
        });
        $("#resolutionsTreeView tbody").find("[data-tt-id='" + a + "']").find(".resolutionName").removeClass("file").addClass("star");
        nge.objectsEditor.setResolution(b.name);
        return !0
    };
    var g = '<tr data-tt-id="{name}"{parent}><td><span class="{type} resolutionName">{name}</span></td></tr>',
        f = {
            name: "newResolution",
            width: 1600,
            height: 1E3,
            orientation: 0
        },
        a = {
            name: "name",
            width: "width",
            height: "height"
        }
};
nge.Mlm.Brain = {};
nge.Mlm.Brain._Package = {
    name: "mlm.brain",
    version: 1,
    requirments: {
        js: ["mlm/brain/controller"]
    }
};
nge.Mlm.Brain.Sounds = Class.extend(function() {
    this.soundsUnused = [];
    this.soundExt = [];
    this._soundCfgBase = [{
            s: "animClown",
            e: "sound.winLineSymbols.TopAward",
            action: "play",
            loop: !1
        }, {
            s: "animClown",
            e: "sound.winLineSymbols.TopAward",
            action: "volume",
            volume: .5
        }, {
            s: "bigWin",
            e: "bigWin"
        }, {
            s: "clickCloseBtn",
            e: "clickCloseBtn"
        }, {
            s: "clickV1",
            e: "button.click"
        }, {
            s: "gambleLose",
            e: "gamble.lose"
        }, {
            s: "gambleWin",
            e: "gamble.win"
        }, {
            s: "lineHighliteV1",
            e: "winlines.lineHighlite.start"
        }, {
            s: "lose",
            e: "loose"
        }, {
            s: "otherAnim",
            e: "winlines.lineHighlite.start"
        },
        {
            s: "spinCrunk",
            e: "slotMachine.spinStart"
        }, {
            s: "spinStopV1",
            e: "slotMachine.spinComplete"
        }, {
            s: "whooshReel1",
            e: "slotMachine.reel_0.animation.start"
        }, {
            s: "whooshReel2",
            e: "slotMachine.reel_1.animation.start"
        }, {
            s: "whooshReel3",
            e: "slotMachine.reel_2.animation.start"
        }, {
            s: "whooshReel4",
            e: "slotMachine.reel_3.animation.start"
        }, {
            s: "whooshReel5",
            e: "slotMachine.reel_4.animation.start"
        }, {
            s: "win",
            e: "win"
        }
    ];
    this.subscribe = function() {
        for (var b = [], h = this.soundExt.concat(this._soundCfgBase), g = 0; g < h.length; g++) - 1 === this.soundsUnused.indexOf(h[g].s) &&
            b.push(h[g]);
        nge.localData.set("brain.sounds.cfg", b);
        d(b);
        this.customSubscribe && this.customSubscribe();
        return !0
    };
    var d = function(b) {
        for (var d in b) {
            var g = b[d];
            g.action || (g.action = "play");
            var f = "sound." + g.e + "-" + g.s;
            nge.observer.remove(g.e, !1, f);
            (function(a, b) {
                nge.observer.add(a.e, function() {
                    nge.observer.fire("sound." + a.action, a)
                }, b, !0)
            })(g, f)
        }
    }
});
nge.Mlm.Brain.Controller = Class.extend(function() {
    var d, b = this;
    this._logicBlocks = "blackJack cheats game keno main poker scratch slot sounds".split(" ");
    this._logicBlocksInstances = {};
    this.do = function() {
        var d = Array.prototype.slice.call(arguments);
        d.unshift(b);
        return nge.Lib.Helper.logicBlocksDo.apply(this, d)
    };
    this.init = function() {
        for (var d in b._logicBlocks) {
            var f = b._logicBlocks[d],
                a = nge.Lib.Helper.capitaliseFirstLetter(f);
            b._logicBlocksInstances[f] = nge.App.getInstance("Mlm.Brain." + a)
        }
        b.do("subscribe");
        h();
        return !0
    };
    this.showGamePlayState = function() {
        b.do("showGamePlayState")
    };
    var h = function() {
        nge.observer.add("brain.openGameSuccess", function(g) {
            d = g.gsId;
            b.do("setGsId", d)
        }, !1, !0);
        nge.observer.add("Transport.close", function(g) {
            d = !1;
            b.do("setGsId", d)
        }, !1, !0);
        return !0
    }
});
nge.Mlm.Brain.FeaturesCfg = Class.extend(function() {
    this.required = ["SimpleSlot"];
    this.supported = ["Offers", "Jackpots"]
});
nge.Mlm.Brain.Cheats = Class.extend(function() {
    var d = this;
    this.subscribe = function() {
        nge.observer.add("cheatsManager.getList", d.getListHandler, !1, !0);
        nge.observer.add("transportMessage.LoadCheatCodesResponse", d.listResponceHandler, !1, !0);
        nge.observer.add("brain.CheatRequest", d.cheatRequestHandler, !1, !0);
        nge.observer.add("transportMessage.CheatResponse", d.cheatResponseHandler, !1, !0)
    };
    this.getListHandler = function() {
        var b = new nge.Mlm.Transport.Model({
            action: "LoadCheatCodesRequest",
            msgId: "a5ed3e5e-ae0a-9574-1fb9-609c33c263f0",
            result: !0,
            data: {}
        });
        nge.transport.send(b)
    };
    this.listResponceHandler = function(b) {
        b = b.data;
        nge.observer.fire("cheatsManager.list", b)
    };
    this.cheatRequestHandler = function(b) {
        b = new nge.Mlm.Transport.Model({
            msgId: "85091bd5-79ea-4b23-8224-5a0c1c593e53",
            action: "CheatRequest",
            result: !0,
            data: {
                code: b
            }
        });
        nge.transport.send(b)
    };
    this.cheatResponseHandler = function(b) {}
});
nge.Mlm.Brain.Game = Class.extend(function() {
    var d, b;
    this.setGsId = function(b) {
        d = b
    };
    this.getGsId = function() {
        return d
    };
    var h = function() {
        nge.rafSetTimeout(function() {
            nge.observer.clear();
            nge = null;
            delete nge;
            window.onerror = function() {
                return !0
            }
        }, 1)
    };
    this.subscribe = function() {
        b = this;
        nge.observer.add("fatal.error", h, !1, !0);
        nge.observer.add("Transport.close", function(b) {
            if (!nge.localData.get("brain.firstAuthComplete")) return nge.userFatalErrorHTML("Network Error", "Unknown error. Please try again later"), !1;
            g();
            nge.brain.do("clearWaitingList");
            nge.observer.fire("infoPanel.show", "Disconnected! Trying to restore connection...");
            nge.observer.fire("brain.disableButtons");
            nge.observer.fire("Transport.clearMessagesQuery");
            nge.observer.setPrefix("disconnected");
            b = nge.Lib.Helper.getRandomInt(1E3, 15E3);
            nge.localData.set("brain.transport.reconnectDelay", b);
            nge.rafSetTimeout(nge.transport.reconnect, b)
        }, !1, !0);
        nge.observer.add("Transport.open", function(b) {
            nge.localData.set("brain.transport.reconnectDelay", !1);
            nge.brain.do("clearWaitingList");
            nge.observer.fire("infoPanel.show", "Hurray ! Connection restored!");
            nge.observer.fire("brain.enableButtons");
            nge.observer.fire("Transport.clearMessagesQuery")
        }, !1, !0);
        b.gambleSubscription();
        b.welcomeSubscription();
        b.tutorialSubscription();
        b.freeGamesSubscription();
        nge.observer.add("welcomePopup.showTutorial", b.welcomePopupTutorial, !1, !0);
        nge.observer.add("infoPanel.stakeChanged", b.updateInfoPanel, !1, !0);
        nge.observer.add("coins.change", b.updateInfoPanel, !1, !0);
        nge.observer.add("bet.change", b.updateInfoPanel,
            !1, !0);
        nge.observer.add("lines.change", b.updateInfoPanel, !1, !0);
        nge.observer.add("brain.restoredGame", b.restoreGame, !1, !0);
        b.customSubscribe();
        return !0
    };
    this.welcomeSubscription = function() {
        nge.observer.add("Com.Base.animateDefault.end", function() {
            nge.localData.get("showTutorial") ? nge.observer.fire("welcomePopup.show") : nge.observer.fire("freeGames.show")
        }, !1, !0)
    };
    this.tutorialSubscription = function() {
        nge.observer.add("welcomePopup.hidden", function() {
            nge.observer.fire("tutorial.show")
        }, !1, !0)
    };
    this.freeGamesSubscription =
        function() {
            nge.observer.add("tutorial.closed", function() {
                nge.observer.fire("freeGames.show")
            }, !1, !0)
        };
    this.welcomePopupTutorial = function(b) {
        b = new nge.Mlm.Transport.Model({
            msgId: "85091bd5-79ea-4b23-8224-5a0c1c593e53",
            action: "TutorialRequest",
            data: {
                showTutorial: b
            }
        });
        nge.transport.send(b);
        return !0
    };
    this.gambleSubscription = function() {
        nge.observer.add("gamble.actionRequest", function(d) {
            d = new nge.Mlm.Transport.Model({
                action: "GambleRequest",
                msgId: "37e88b5c-18e9-9075-1720-d77e12802e49",
                gsId: b.getGsId(),
                result: !0,
                data: d ? d : {}
            });
            nge.transport.send(d);
            nge.brain.do("waitForResponse", "Gamble")
        }, !1, !0);
        nge.observer.add("transportMessage.GambleResponse", function(b) {
            nge.brain.do("receivedResponse", "Gamble");
            b = b.data;
            nge.observer.fire("gamble.response", b)
        }, !1, !0)
    };
    this.customSubscribe = function() {};
    this.updateInfoPanel = function() {
        var b = nge.localData.get("lines.cfg"),
            a = nge.localData.get("bet.cfg"),
            c = nge.localData.get("currency");
        if (!b) return !1;
        b = b.length;
        a = a.length;
        var d = nge.localData.get("lines.value"),
            g = nge.localData.get("bet.value"),
            h = nge.localData.get("coins.value"),
            m = d * g * h;
        c = 1 < b ? nge.i18n.applyTextParams("BET PER LINE %(amount)s%(currency)s, TOTAL BET %(stake)s%(currency)s ", {
            currency: c,
            amount: nge.Lib.Validator.floatMoney(g * h, !0),
            stake: nge.Lib.Validator.floatMoney(m, !0)
        }) : nge.i18n.applyTextParams("COIN %(amount)s%(currency)s, TOTAL BET %(stake)s%(currency)s ", {
            currency: c,
            amount: nge.Lib.Validator.floatMoney(h, !0),
            stake: nge.Lib.Validator.floatMoney(m, !0)
        });
        h = "";
        1 < b && (h = nge.i18n.applyTextParams("%(lines)s LINES, ", {
            lines: d
        }));
        b = "";
        1 < a && (b = nge.i18n.applyTextParams("%(coins)s COINS PER LINE, ", {
            coins: g
        }));
        nge.observer.fire("infoPanel.show", h + b + c)
    };
    this.updateBalance = function() {
        var d = nge.localData.get("balance");
        if (!d) return console.warn("nge.Mlm.Brain.Game.updateBalance: Cant update Balance! No currentBalance!"), nge.rafSetTimeout(b.updateBalance, 100), !0;
        var a = nge.localData.get("lines.value"),
            c = nge.localData.get("bet.value"),
            e = nge.localData.get("coins.value"),
            g = nge.localData.get("betMultiplier");
        a = a * c * e * g;
        a = nge.Lib.Validator.float(d.totalAmount,
            !0) - nge.Lib.Validator.float(a, !0);
        if (0 > a) return !1;
        d = {
            totalAmount: a,
            curr: d.curr
        };
        nge.localData.get("freeGame.inProgress") || nge.observer.fire("balance.amount", d);
        return !0
    };
    this.restoreGame = function(b) {
        if (!b.restoredGameCode) return !1;
        nge.localData.set("brain.restoreGame", b)
    };
    this.showDefaultPlayState = function() {
        nge.statesManager.display("play", "loader")
    };
    var g = function() {
        nge.observer.fire("userInfo.setUpdate", function() {
            var b = 0,
                a = -1500;
            return function(c) {
                a += c.deltaT;
                if (200 > a) return !1;
                c = "RECONNECT ";
                for (var d = 0; d < b % 4; d++) c += ". ";
                this.show({
                    text: c
                });
                a = 0;
                b++
            }
        }());
        nge.observer.fire("userInfo.show", {
            text: "Connection lost"
        })
    }
});
nge.Mlm.Brain.Main = Class.extend(function() {
    var d, b = !1,
        h = 0,
        g, f = 5E3,
        a = {},
        c = !1;
    this.setGsId = function(a) {
        g = a
    };
    this.getGsId = function() {
        return g
    };
    this.clearWaitingList = function() {
        for (var b in a) e(b)
    };
    this.waitForResponse = function(b, c) {
        c || (c = f);
        e(b);
        a[b] = nge.rafSetTimeout(function() {
            nge.transport.close()
        }, c)
    };
    this.receivedResponse = function(a) {
        e(a)
    };
    var e = function(b) {
        a[b] && (nge.rafClearTimeout(a[b]), delete a[b])
    };
    this.subscribe = function() {
        d = this;
        h = nge.Lib.Time.get();
        d.actionHandler();
        d.idleDetect();
        nge.observer.add("transportMessage.SystemError",
            function(a) {
                nge.observer.fire("infoPanel.show", a.data.debugMessage)
            }, !1, !0);
        nge.observer.add("brain.authRequest", function() {
            nge.observer.add("transport.ready", k, !1, !0);
            nge.localData.get("transport.ready") && l()
        }, !1, !0);
        nge.observer.add("jackpotRequest", function() {
            var a = new nge.Mlm.Transport.Model({
                msgId: "85091bd5-79ea-4b23-8224-5a0c1c593e53",
                gsId: g,
                action: "JackpotAmountRequest",
                result: !0,
                data: {}
            });
            nge.transport.send(a)
        }, !1, !0);
        nge.observer.add("transportMessage.JackpotAmountResponse", function(a) {
            nge.localData.set("jackpot",
                a.data);
            nge.observer.fire("jackpot.amount", a.data)
        }, !1, !0);
        nge.observer.add("balanceRequest", function() {
            if (!g) return !1;
            var a = new nge.Mlm.Transport.Model({
                msgId: "85091bd5-79ea-4b23-8224-5a0c1c593e53",
                action: "BalanceRequest",
                result: !0,
                data: {}
            });
            nge.transport.send(a);
            nge.brain.do("waitForResponse", "Balance")
        }, !1, !0);
        nge.observer.add("transportMessage.BalanceResponse", function(a) {
                nge.brain.do("receivedResponse", "Balance");
                nge.localData.set("balance", a.data);
                nge.observer.fire("balance.amount", a.data)
            },
            !1, !0);
        nge.observer.add("transportMessage.BalanceUpdateNotification", function(a) {
            nge.localData.set("balance", a.data);
            nge.observer.fire("balance.amount", a.data)
        }, !1, !0);
        nge.observer.add("transportMessage.APIVersionResponse", m, !1, !0);
        nge.observer.add("transportMessage.CheckBrokenGameResponse", q, !1, !0);
        nge.observer.add("transportMessage.AuthResponse", function(a) {
            if ("SystemError" === a.cmd) return nge.observer.fire("brain.disableButtons"), !1;
            nge.localData.set("brain.firstAuthComplete", !0);
            nge.brain.do("receivedResponse",
                "Auth");
            a = a.data;
            a.gsId = "GS" + nge.Lib.Helper.getRandomInt(1E6, 9999999);
            nge.localData.set("brain.restoreGame", !1);
            nge.localData.set("bonusGame.lastResponse", !1);
            nge.localData.set("freespin", !1);
            nge.localData.set("respin", !1);
            nge.localData.set("slotMachine", a);
            nge.localData.set("pokerMachine", a);
            var b = [];
            if ("number" === typeof a.bets)
                for (var d = 1; d <= a.bets; d++) b.push(d);
            else b = a.bets;
            0 === b.length && (b = [1]);
            nge.localData.set("bet.cfg", b);
            a && a.defaultBet && nge.localData.set("bet.value", a.defaultBet);
            nge.localData.set("betMultiplier",
                a.betMultiplier ? parseFloat(a.betMultiplier) : 1);
            if (a && a.gameParameters && a.gameParameters.maxLines) {
                b = [];
                for (d = 1; d <= a.gameParameters.maxLines; d++) b.push(d);
                0 === b.length && (b = [0]);
                nge.localData.set("lines.cfg", b)
            }
            a && a.defaultLines && (d = a.defaultLines, "object" === typeof d && (d = a.defaultLines.length), nge.localData.set("lines.value", d));
            d = [];
            a.coinValues && (d = a.coinValues);
            0 === d.length && (d = [1]);
            nge.localData.set("coins.cfg", d);
            a.showTutorial && nge.localData.set("showTutorial", a.showTutorial);
            a && a.defaultCoinValue &&
                nge.localData.set("coins.defaultCoin", a.defaultCoinValue);
            a && a.gameParameters && a.gameParameters.payouts && nge.localData.set("payout.cfg", a.gameParameters.payouts);
            a && a.gameParameters && a.gameParameters.availableLines && nge.localData.set("winlines", a.gameParameters.availableLines);
            nge.observer.fire("brain.openGameSuccess", a);
            if (a.restoredGameCode && a.lastResponse)
                if (a.restoredGameCode === nge.localData.get("gameCode")) nge.observer.fire("brain.restoredGame", a);
                else return console.error("data.restoredGameCode form different game: ",
                    a.restoredGameCode), !1;
            nge.transport.setSESID(a.sessionId);
            nge.game.canvas.focus();
            nge.observer.fire("balanceRequest");
            a && a.gameParameters && a.gameParameters.freeGameRounds && (d = a.gameParameters.freeGameRounds) && (d = {
                inProgress: !0,
                amount: a.gameParameters.freeGameRounds,
                totalAmount: a.gameParameters.freeGameRounds,
                coin: a.gameParameters.freeGameCoin,
                coinsPerBet: a.gameParameters.freeGameCoinsPerBet,
                freeGameExpiration: a.gameParameters.freeGameExpiration,
                lines: a.gameParameters.freeGameLines || 0
            }, nge.localData.set("freeGame",
                d));
            a = a.language ? a.language : nge.Cfg.Main.lang;
            nge.Cfg.Main.lang = a;
            nge.localData.set("lang", a);
            nge.i18n.update();
            c ? nge.statesManager.display(nge.statesManager.getDefaultState()) : c = !0
        }, !1, !0);
        nge.observer.add("history.request", function(a) {
            a = new nge.Mlm.Transport.Model({
                msgId: "85091bd5-79ea-4b23-8224-5a0c1c593e53",
                action: "HistoryDetailRequest",
                result: !0,
                data: {
                    "@type": "HistoryDetailRequest",
                    gameRoundId: a
                }
            });
            nge.transport.send(a)
        }, !1, !0);
        nge.observer.add("transportMessage.common", function(a) {
            (a = a.data) &&
            a.gameParameters && a.gameParameters.initialSymbols && nge.localData.set("slotMachine.gameParameters.initialSymbols", a.gameParameters.initialSymbols)
        }, !1, !0);
        this.customSubscribe();
        return !0
    };
    var k = function() {
            l()
        },
        l = function() {
            var a = nge.Cfg.Main.apiVersion.split(".");
            a = new nge.Mlm.Transport.Model({
                msgId: "32c44111-f0b7-4e4f-b774-2aa86cfd8e2a",
                action: "APIVersionRequest",
                result: !0,
                data: {
                    versionMajor: a[0] || 0,
                    versionMinor: a[1] || 0,
                    gameId: nge.gameCode
                }
            });
            nge.transport.send(a);
            nge.brain.do("waitForResponse", "APIVersion",
                3E4)
        },
        m = function(a) {
            nge.brain.do("receivedResponse", "APIVersion");
            if (!a || !a.result) return console.error("API version error"), nge.userFatalErrorHTML("Auth Error", "API version error"), !1;
            f = parseFloat(nge.Lib.Helper.recursiveGet("data.transportConfig.reconnectTimeout", a, f));
            a = nge.Lib.Helper.parseGetParams("userId");
            var b = nge.Lib.Helper.parseGetParams("upass"),
                c = nge.Lib.Helper.parseGetParams("gameMode"),
                d = p();
            a = new nge.Mlm.Transport.Model({
                msgId: "32c44111-f0b7-4e4f-b774-2aa86cfd8e2a",
                action: "CheckBrokenGameRequest",
                result: !0,
                data: {
                    userId: a || 0,
                    authToken: b || "",
                    gameMode: c || "normal",
                    userData: d
                }
            });
            nge.transport.send(a);
            nge.brain.do("waitForResponse", "CheckBrokenGame", 3E4)
        },
        q = function(a) {
            nge.brain.do("receivedResponse", "CheckBrokenGame");
            a = a.data;
            if (!a) return console.error("CheckBrokenGameResponse no data !!!"), nge.userFatalErrorHTML("Auth Error", "CheckBrokenGameResponse no data !!!"), !1;
            if (!a.haveBrokenGame || "false" === a.haveBrokenGame) return n(), !1;
            var b = a.restoredGameCode.toString();
            if (b === nge.Cfg.Main.gameCode.toString()) return n(),
                !1;
            nge.Lib.Helper.parseGetParams("userId");
            nge.Lib.Helper.parseGetParams("upass");
            a = nge.Lib.Helper.parseGetParams();
            a.game = b;
            b = [];
            for (var c in a) b.push(c + "=" + a[c]);
            c = b.join("&");
            window.location.href = "../../launcher.html?" + c
        },
        n = function() {
            var a = a || nge.Cfg.Main.gameCode;
            nge.localData.set("gameCode", a);
            var b = nge.App.getInstance("Mlm.Brain.FeaturesCfg");
            nge.Lib.Helper.parseGetParams("mode");
            var c = nge.Lib.Helper.parseGetParams("userId"),
                d = nge.Lib.Helper.parseGetParams("upass");
            nge.Lib.Helper.parseGetParams("gid");
            var e = nge.Lib.Helper.parseGetParams("pid"),
                f = p();
            a = new nge.Mlm.Transport.Model({
                msgId: "32c44111-f0b7-4e4f-b774-2aa86cfd8e2a",
                action: "AuthRequest",
                result: !0,
                data: {
                    userId: c || 0,
                    authToken: d || "",
                    gameCode: a,
                    expectedFeatures: {
                        required: b.required,
                        supported: b.supported
                    },
                    productId: e || "test",
                    userData: f
                }
            });
            nge.transport.send(a);
            nge.brain.do("waitForResponse", "Auth", 3E4)
        },
        p = function() {
            var a = nge.Lib.Helper.getOsAndVersion();
            return {
                os: a.os,
                osVersion: a.version,
                mobile: nge.Lib.Helper.mobileAndTabletCheck(),
                browser: nge.Lib.Helper.browserDetect(),
                jsCoreVersion: nge.Cfg.Main.version,
                gameVersion: nge.Cfg.Main.gameVersion,
                apiVersion: nge.Cfg.Main.apiVersion,
                initialResolution: nge.resolutionsManager.getCurrent()
            }
        };
    this.actionHandler = function() {
        nge.observer.add("button.click", function() {
            h = nge.Lib.Time.get()
        }, !1, !0)
    };
    this.idleDetect = function() {
        nge.observer.add("StatesManager.update.start", function() {
            var a = nge.Lib.Time.get() - h;
            6E4 < a && !b && (b = !0, nge.observer.fire("idle.start"));
            6E4 >= a && b && (b = !1, nge.observer.fire("idle.end"))
        }, !1, !0)
    };
    this.customSubscribe =
        function() {}
});
nge.Mlm.Brain.Slot = Class.extend(function() {
    var d, b, h, g, f, a = !1;
    this.subscribe = function() {
        d = this;
        d.spinSubscription();
        d.spinCompleteSubscription();
        d.winlinesAnimateByOneCycleCompleteSubscription();
        d.pickUpBonusGameSubscribe();
        d.bonusGameHandler();
        nge.observer.add("buttons.autospinMode", function() {
            nge.observer.fire("spinButton.autospin");
            d.disableButtons()
        }, !1, !0);
        nge.observer.add("buttons.freespinMode", function() {
            nge.observer.fire("spinButton.freespin");
            d.disableButtons()
        }, !1, !0);
        nge.observer.add("brain.disableButtons", d.disableAllButtons,
            !1, !0);
        nge.observer.add("brain.enableButtons", d.enableAllButtons, !1, !0);
        nge.observer.add("winlines.animateAllDone", d.winlinesAllDone, !1, !0);
        nge.observer.add("brain.bonusGameEnd", d.bonusGameEnd, !1, !0);
        nge.observer.add("autospin.end", d.autoSpinStopHandler, !1, !0);
        nge.observer.add("freespin.end", d.freeSpinStopHandler, !1, !0);
        nge.observer.add("respin.end", d.reSpinStopHandler, !1, !0);
        nge.observer.add("freeGame.end", d.freeGameStopHandler, !1, !0);
        d.customSubscribe();
        return !0
    };
    this.customSubscribe = function() {};
    this.setGsId = function(a) {
        b = a
    };
    this.getGsId = function() {
        return b
    };
    this.getLastData = function() {
        return h
    };
    this.getLastPickBonusItemResponse = function() {
        return g
    };
    this.getLastPickCoverItemResponse = function() {
        return f
    };
    this.updateData = function(a) {
        h = a
    };
    this.winlinesAllDone = function() {
        h.slotWin && h.slotWin.linePickBonus && h.slotWin.linePickBonus.length && h.slotWin.Bonus && h.slotWin.Bonus.length || nge.observer.fire("winlines.animateByOne")
    };
    this.restoreBonusGame = function(a) {
        nge.localData.set("bonusGame.lastResponse",
            a);
        nge.observer.fire("brain.runBonusGame", a.state)
    };
    this.showGamePlayState = function() {
        var a = nge.localData.get("brain.restoreGame"),
            b = function(a, b) {
                nge.observer.add("StatesManager.create.end", function(c) {
                    nge.observer.fire(b + ".restore", a.lastResponse);
                    nge.observer.remove("StatesManager.create.end", !1, "restoreBonusGame." + b)
                }, "restoreBonusGame." + b)
            };
        a && a.lastResponse && a.lastResponse.state ? (nge.localData.set("spin.type", "SpinRequest"), a.lastResponse && "FreeSpins" === a.lastResponse.state ? (nge.brain.do("showDefaultPlayState"),
            b(a, "freespin")) : a.lastResponse && "ReSpins" === a.lastResponse.state ? nge.brain.do("showDefaultPlayState") : a.lastResponse && "FreeReSpins" === a.lastResponse.state ? (nge.brain.do("showDefaultPlayState"), b(a, "freespin"), b(a, "respin")) : d.restoreBonusGame(a.lastResponse)) : nge.brain.do("showDefaultPlayState")
    };
    this.runBonusGame = function() {
        var a = h ? h : g;
        a || (a = f);
        var b = a.state;
        if (!b) return !1;
        switch (a.state) {
            case "FreeSpins":
                nge.observer.fire("infoPanel.show", "YOU'VE WON FREE SPINS!");
                var d = 0,
                    l;
                for (l in a.slotWin.lineWinAmounts) b =
                    a.slotWin.lineWinAmounts[l], b.bonusName && "FreeSpins" === b.bonusName && (d = b.params.freeSpins);
                nge.observer.fire("freespin.start", d);
                break;
            case "ReSpins":
                nge.observer.fire("infoPanel.show", "YOU'VE WON FREE RESPINS!");
                d = 0;
                for (l in a.slotWin.lineWinAmounts) b = a.slotWin.lineWinAmounts[l], !b.bonusName || "ReSpins" !== b.bonusName && "FreeReSpins" !== b.bonusName || (d = b.params.reSpins);
                nge.observer.fire("respin.start", d);
                break;
            case "FreeReSpins":
                nge.observer.fire("infoPanel.show", "YOU'VE WON FREE FreeReSpins!");
                d = 0;
                for (l in a.slotWin.lineWinAmounts) b = a.slotWin.lineWinAmounts[l], !b.bonusName || "ReSpins" !== b.bonusName && "FreeReSpins" !== b.bonusName || (d = b.params.reSpins);
                nge.observer.fire("freespin.pause");
                nge.observer.fire("freeReSpins.start", d);
                break;
            default:
                nge.observer.fire("brain.runBonusGame", b)
        }
    };
    this.freeSpinStopHandler = function() {
        var a = d.checkIfBonus(),
            b = nge.localData.get("freeGame.inProgress");
        a || (nge.observer.fire("spinButton.enable"), this.enableButtons());
        b && nge.observer.fire("spinButton.enable")
    };
    this.reSpinStopHandler =
        function() {
            nge.localData.get("freespin.inProgress") ? nge.observer.fire("freespin.resume") : d.freeSpinStopHandler()
        };
    this.freeGameStopHandler = function() {
        var a = nge.localData.get("freespin.inProgress"),
            b = nge.localData.get("respin.inProgress"),
            f = d.checkIfBonus();
        a || b || f || (nge.observer.fire("spinButton.enable"), this.enableButtons())
    };
    this.autoSpinStopHandler = function() {
        var a = nge.localData.get("freespin.inProgress"),
            b = nge.localData.get("respin.inProgress"),
            f = d.checkIfBonus();
        a || b || f || (nge.observer.fire("spinButton.enable"),
            this.enableButtons())
    };
    this.spinResponseHandler = function(a) {
        var b = a.spinResult.rows;
        if (a && a.slotWin && a.slotWin.lineWinAmounts)
            for (var c in a.slotWin.lineWinAmounts) {
                var f = a.slotWin.lineWinAmounts[c];
                if (f.wonSymbols && "number" === typeof f.wonSymbols[0])
                    for (var g = 0; g < f.wonSymbols.length; g++) f.wonSymbols[g] = [g, f.wonSymbols[g]]
            }
        d.updateData(a);
        a.spinResult.columns = nge.Lib.Helper.rowsToColumns(b);
        nge.observer.fire("slotMachine.spinResponse", a)
    };
    this.checkIfBonus = function() {
        if (!(h && h.slotWin && h.slotWin.lineWinAmounts &&
                h.slotWin.lineWinAmounts.length)) return !1;
        for (var a in h.slotWin.lineWinAmounts) {
            var b = h.slotWin.lineWinAmounts[a];
            if ("Bonus" === b.type || "LinePickBonus" === b.type) return !0
        }
        return !1
    };
    this.animateBonusSymbols = function() {
        for (var a = 0; a < h.slotWin.lineWinAmounts.length; a++) {
            var b = h.slotWin.lineWinAmounts[a];
            if ("linePickBonus" === b.type || "Bonus" === b.type) {
                for (var d = 0; d < b.wonSymbols.length; d++) nge.observer.fire("slotMachine.animateSymbol", {
                    reel: b.wonSymbols[d][0],
                    row: b.wonSymbols[d][1]
                });
                void 0 !== b.selectedLine &&
                    (nge.observer.fire("winlines.hideAll"), nge.observer.fire("winlines.show", b.selectedLine), nge.observer.fire("winlines.sendLineToBack", b.selectedLine))
            }
        }
    };
    this.disableSpinButton = function() {
        nge.observer.fire("spinButton.disable");
        this.disableButtons()
    };
    this.customCheckCanSpin = function() {
        return !0
    };
    this.spinSubscription = function() {
        nge.localData.set("spin.type", "SpinRequest");
        nge.observer.add("slotMachine.spinRequest", function() {
            if (!b) return !1;
            if (!d.customCheckCanSpin()) return nge.observer.fire("slotMachine.spinRequest.fail"),
                !1;
            var a = nge.localData.get("autospin.inProgress"),
                e = nge.localData.get("freespin.inProgress"),
                f = nge.localData.get("respin.inProgress"),
                g = nge.localData.get("freeGame.inProgress");
            if (!e && !g && !f) {
                var h = nge.brain.do("updateBalance");
                if (!h || !h || !1 === h[0]) return nge.observer.fire("slotMachine.spinFailed.noBalance"), nge.observer.fire("buttons.enable"), !1;
                nge.observer.fire("infoPanel.stakeChanged")
            }
            d.fireFakeSpinEvent();
            a || e || f || d.disableSpinButton();
            !g || e || f || (a = nge.localData.get("freeGame.amount"), nge.localData.set("freeGame.amount",
                a - 1));
            nge.observer.fire("winlines.hideAll");
            a = nge.localData.get("lines.value") || [0];
            if ("number" === typeof a) {
                g = [];
                for (h = 0; h < a; h++) g.push(h);
                a = g
            }
            g = nge.localData.get("spin.type");
            f && e && (g = "FreeRespinRequest");
            e = new nge.Mlm.Transport.Model({
                action: g,
                msgId: "0387a10a-ef44-9385-02f9-8594de696bdd",
                result: !0,
                gsId: b,
                data: {
                    lines: a || [0],
                    bet: nge.localData.get("bet.value") || 1,
                    coin: nge.localData.get("coins.value") || 1
                }
            });
            nge.transport.send(e);
            nge.brain.do("waitForResponse", "Spin")
        }, !1, !0);
        nge.observer.add("transportMessage.SpinResponse",
            function(a) {
                nge.brain.do("receivedResponse", "Spin");
                d.spinResponseHandler(a.data)
            }, !1, !0);
        nge.observer.add("transportMessage.FreeSpinResponse", function(a) {
            nge.brain.do("receivedResponse", "Spin");
            d.spinResponseHandler(a.data)
        }, !1, !0);
        nge.observer.add("transportMessage.RespinResponse", function(a) {
            nge.brain.do("receivedResponse", "Spin");
            d.spinResponseHandler(a.data)
        }, !1, !0);
        nge.observer.add("transportMessage.FreeRespinResponse", function(a) {
                nge.brain.do("receivedResponse", "Spin");
                d.spinResponseHandler(a.data)
            },
            !1, !0)
    };
    this.bonusGameHandler = function(a) {
        nge.observer.add("brain.runBonusGame", function(a) {
            a = "Ready" === a ? "play" : "Bonus" === a ? "bonusGame" : nge.Lib.Helper.lowerFirstLetter(a);
            nge.statesManager.display(a, !0)
        }, !1, !0)
    };
    this.spinCompleteSubscription = function() {
        nge.observer.add("slotMachine.spinComplete", function() {
            a = !0;
            d.spinCompleteHandler()
        }, !1, !0)
    };
    this.winlinesAnimateByOneCycleCompleteSubscription = function() {
        nge.observer.add("winlines.animateByOne.cycleComplete", function() {
                a && (a = !1, d.spinAndWinComplete())
            },
            !1, !0)
    };
    this.spinAndWinComplete = function() {
        nge.observer.fire("spinAndWinComplete")
    };
    this.sendCompleteEvent = function() {
        var a = new nge.Mlm.Transport.Model({
            action: "AnimationEndRequest",
            result: !0,
            msgId: "0387a10a-ef44-9385-02f9-8594de696bdd",
            gsId: b
        });
        nge.transport.send(a)
    };
    this.spinCompleteHandler = function() {
        var a = h,
            b = d.checkIfBonus();
        nge.localData.set("bonusWon", !1);
        b && (nge.localData.set("bonusWon", !0), d.animateBonusSymbols(), nge.rafSetTimeout(function() {
            d.runBonusGame()
        }, 3E3));
        a.slotWin && a.slotWin.lineWinAmounts ?
            (a.slotWin.lineWinAmounts.length || a.slotWin.jackpotWin) && d.winlinesAnimateAll() : (nge.observer.fire("winlines.animateAllDone"), nge.observer.fire("winlines.animateByOne.cycleComplete"));
        a = nge.localData.get("autospin.inProgress");
        var f = nge.localData.get("freespin.inProgress"),
            g = nge.localData.get("respin.inProgress");
        nge.localData.get("freeGame.inProgress");
        0 >= nge.localData.get("freeGame.amount") && (nge.observer.fire("freeGameSumPopup.show"), nge.rafSetTimeout(function() {
            nge.localData.set("freeGame", !1);
            d.enableButtons();
            nge.observer.fire("freeGameSumPopup.close")
        }, 2E3));
        a || g || f || b || (nge.observer.fire("spinButton.enable"), d.enableButtons());
        d.checkJackPot(b);
        a = 0;
        h.slotWin && h.slotWin.totalWin && (a = h.slotWin.totalWin);
        0 < a && (nge.observer.fire("win", a), d.checkBigWin(a, b));
        b || 0 !== a || nge.observer.fire("loose")
    };
    this.winlinesAnimateAll = function() {
        nge.observer.fire("winlines.animateAll")
    };
    this.checkBigWin = function(a, b) {
        if (b) return !1;
        b = nge.localData.get("totalBet.value");
        if (a >= 20 * b) {
            if (nge.localData.get("freespin.inProgress") ||
                nge.localData.get("respin.inProgress") || nge.localData.get("autospin.inProgress")) return !1;
            nge.observer.fire("bigWin", a);
            return !0
        }
        return !1
    };
    this.checkJackPot = function(a) {
        if (a) return !1;
        if (a = nge.localData.get("slotMachine.slotWin.jackpotWin")) {
            if (nge.localData.get("freespin.inProgress") || nge.localData.get("respin.inProgress") || nge.localData.get("autospin.inProgress")) return !1;
            nge.observer.fire("jackPot", a.amount);
            return !0
        }
        return !1
    };
    this.bonusGameEnd = function() {
        g && g.lastPick && "Ready" !== g.state ? d.runBonusGame() :
            ("vault" !== nge.statesManager.getCurrentName() && nge.rafSetTimeout(function() {
                nge.statesManager.display("summaryPopup", !0)
            }, 3E3), nge.rafSetTimeout(function() {
                nge.statesManager.display("play", !0)
            }, 6E3))
    };
    this.pickUpBonusGameSubscribe = function() {
        nge.observer.add("pickUpBonusGame.actionRequest", function(a) {
            a = new nge.Mlm.Transport.Model({
                action: "PickBonusItemRequest",
                msgId: "ced9665a-cf94-c5c0-b19b-e901954aa1e6",
                gsId: d.getGsId(),
                result: !0,
                data: {
                    index: a
                }
            });
            nge.transport.send(a)
        }, !1, !0);
        nge.observer.add("transportMessage.GameCommandResponse",
            function(a) {
                if ("PickBonusItemResponse" !== a.data["@type"]) return !1;
                g = a = a.data;
                nge.localData.set("lastBonusWin", a.params.lastBonusWinAmount);
                nge.observer.fire("pickUpBonusGame.actionResponse", a)
            }, !1, !0);
        nge.observer.add("transportMessage.PickBonusItemResponse", function(a) {
            g = a = a.data;
            nge.localData.set("bonusGame.lastResponse", a);
            a.params && nge.localData.set("lastBonusWin", a.params.winAmount);
            nge.observer.fire("pickUpBonusGame.actionResponse", a)
        }, !1, !0);
        nge.observer.add("pickUpBonusGame.actionBonusRequest",
            function(a) {
                a = new nge.Mlm.Transport.Model({
                    action: "GameCommandRequest",
                    msgId: "ced9665a-cf94-c5c0-b19b-e901954aa1e6",
                    gsId: d.getGsId(),
                    result: !0,
                    data: {
                        "@type": "PickCoverItemsBonusRequest",
                        index: a
                    }
                });
                nge.transport.send(a)
            }, !1, !0);
        nge.observer.add("transportMessage.GameCommandResponse", function(a) {
            if ("PickCoverItemsBonusResponse" !== a.data["@type"]) return !1;
            f = a = a.data;
            nge.observer.fire("pickUpBonusGame.actionBonusResponse", a)
        }, !1, !0)
    };
    this.fireFakeSpinEvent = function() {
        nge.observer.fire("slotMachine.fakeSpins.start")
    };
    this.disableAllButtons = function() {
        nge.observer.fire("spinButton.disable");
        d.disableButtons()
    };
    this.enableAllButtons = function() {
        nge.observer.fire("spinButton.enable");
        d.enableButtons()
    };
    this.disableButtons = function() {
        nge.observer.fire("maxBetButton.disable");
        nge.observer.fire("paytableButton.disable");
        nge.observer.fire("settingsButton.disable");
        nge.observer.fire("euroButton.disable");
        nge.observer.fire("autospinButton.disable")
    };
    this.enableButtons = function() {
        nge.observer.fire("maxBetButton.enable");
        nge.observer.fire("paytableButton.enable");
        nge.observer.fire("settingsButton.enable");
        nge.observer.fire("euroButton.enable");
        nge.observer.fire("autospinButton.enable")
    }
});
nge.Mlm.ResolutionsManager = {};
nge.Mlm.ResolutionsManager._Package = {
    name: "mlm.resolutionsManager",
    version: 1,
    requirments: {
        js: ["mlm/resolutionsManager/controller"]
    }
};
nge.Mlm.ResolutionsManager.Controller = function() {
    var d = !1,
        b = !1,
        h = {},
        g = function(a) {
            if ("string" === typeof a) {
                var b = nge.Cfg.Resolutions.contents.filter(function(b) {
                    return b.name === a
                });
                b = b[0]
            } else b = a;
            if (!b) return !1;
            nge.game.width = b.width;
            nge.game.height = b.height;
            nge.game.stage.width = b.width;
            nge.game.stage.height = b.height;
            nge.game.renderer.resize(b.width, b.height);
            nge.game.world.scaleX = nge.game.world.scale.x = b.width / nge.Cfg.Resolutions.contents[0].width;
            nge.game.world.scaleY = nge.game.world.scale.y = b.height /
                nge.Cfg.Resolutions.contents[0].height;
            nge.game.scale.refresh();
            d = b;
            return !0
        },
        f = function() {
            if (!b) return !1;
            var a = {
                width: $(window).width(),
                height: $(window).height()
            };
            if (nge.game.scale.isLandscape && nge.game.device.android) {
                var c = nge.game.scale.isFullScreen;
                c || h.notFullScreen ? c && !h.fullScreen && (h.fullScreen = {}, h.fullScreen.width = a.width, h.fullScreen.height = a.height) : (h.notFullScreen = {}, h.notFullScreen.width = a.width, h.notFullScreen.height = a.height);
                a.width = c ? h.fullScreen.width : h.notFullScreen.width;
                a.height =
                    c ? h.fullScreen.height : h.notFullScreen.height
            }
            if (nge.game.scale.isFullScreen || !nge.game.device.android) a.width *= window.devicePixelRatio || 1, a.height *= window.devicePixelRatio || 1, c = Math.min(1920 / Math.max(a.width, a.height), 1), a.width *= c, a.height *= c;
            var d = a.width > a.height ? 0 : 1,
                f = a.width > a.height ? "width" : "height";
            c = nge.Cfg.Resolutions.contents[0];
            if (1 < nge.Cfg.Resolutions.contents.length)
                for (var l in nge.Cfg.Resolutions.contents) {
                    var m = nge.Cfg.Resolutions.contents[l];
                    m.orientation === d && (c[f] < m[f] && m[f] < a[f] &&
                        (c = m), a[f] < c[f] && m[f] < c[f] && (c = m))
                } else l = c.width / c.height, d = a.width / a.height, c = nge.Lib.Helper.jsObjClone(c), c.name = "temp", l > d ? (c.width = Math.floor(a.width), c.height = Math.floor(c.width / l)) : (c.height = Math.floor(a.height), c.width = Math.floor(c.height * l));
            g(c);
            log("set new Resolution", c, "win params:", a);
            return !0
        };
    this.set = function(a) {
        return g(a)
    };
    this.getName = function() {
        return d.name
    };
    this.getCurrent = function() {
        return d
    };
    this.refresh = function() {
        return f()
    };
    this.init = function() {
        b = !0;
        f();
        nge.observer.add("window.resize",
            f, !1, !0);
        nge.game.device.android || (nge.game.scale.scaleMode = Phaser.ScaleManager.SHOW_ALL);
        nge.game.scale.fullScreenScaleMode = Phaser.ScaleManager.SHOW_ALL
    }
};
nge.Mlm.SoundManager = {};
nge.Mlm.SoundManager._Package = {
    name: "mlm.soundManager",
    version: 1,
    requirments: {
        js: ["mlm/soundManager/controller"]
    }
};
nge.Mlm.SoundManager.Controller = function() {
    var d, b = {},
        h = {
            ogg: {
                types: ['audio/ogg; codecs="vorbis"'],
                priority: 1
            },
            mp3: {
                types: ["sounds/mpeg;"],
                priority: 2
            },
            m4a: {
                types: ["audio/x-m4a;", "sounds/aac;"],
                priority: 3
            },
            wav: {
                types: ['audio/wav; codecs="1"'],
                priority: 4
            }
        },
        g = ["probably", "maybe"],
        f = !1,
        a;
    this.customLoader = null;
    this.preload = function() {
        if ("testing" === nge.Cfg.Main.mode) return c(), !0;
        nge.localData.set("sounds.preload", "started");
        var a = nge.assets.getAntiCacheSuffix(),
            b = nge.soundManager.getFormat(),
            d = new Phaser.Loader(nge.game),
            e = nge.game.cache.getJSON("uber_json");
        e && e["gameaudio.json"] ? d.audiosprite("gameaudio", "sounds/gameaudio." + b + a, null, e["gameaudio.json"]) : d.audiosprite("gameaudio", "sounds/gameaudio." + b + a, "sounds/gameaudio.json" + a);
        d.onLoadComplete.addOnce(c);
        d.start();
        this.customLoader = d
    };
    this.init = function() {
        a = nge.App.getInstance("Cfg.Sounds").contents;
        var b = document.createElement("audio"),
            c = !!b.canPlayType,
            e = {};
        try {
            if (c)
                for (var f in h) {
                    e[f] = !1;
                    for (var z in h[f].types) {
                        var B = b.canPlayType(h[f].types[z]);
                        B && (e[f] =
                            B)
                    }
                }
        } catch (C) {}
        log("SoundManager test: ", e);
        b = [];
        for (var A in e) c = g.indexOf(e[A]), -1 !== c && (b[10 * h[A].priority + c] = A);
        b[100] = !1;
        d = b[Object.keys(b)[0]];
        nge.localData.set("settings.sounds", nge.Cfg.Main.sounds);
        nge.observer.add("sound.play", k, !1, !0);
        nge.observer.add("sound.pause", l, !1, !0);
        nge.observer.add("sound.resume", m, !1, !0);
        nge.observer.add("sound.stop", q, !1, !0);
        nge.observer.add("sound.volume", n, !1, !0);
        nge.observer.add("sound.volumeAll", p, !1, !0);
        nge.observer.add("sound.stopAll", r, !1, !0);
        nge.observer.add("sound.destroyAll",
            u, !1, !0);
        nge.observer.add("settings.sounds.changed", t, !1, !0)
    };
    this.getFormat = function() {
        return d
    };
    this.checkKey = function(b) {
        if (!f || !f.sounds || !a[b]) return !1;
        b = e(b);
        return !!f.sounds[b]
    };
    this.getSound = function(a) {
        return f.sounds[a]
    };
    var c = function() {
        f = nge.game.add.audioSprite("gameaudio");
        f.allowMultiple = !0;
        for (var a in f.sounds) f.play(a), f.stop(a);
        nge.localData.set("sounds.preload", "done");
        nge.observer.fire("sounds.preloaded")
    };
    this.getDuration = function(a) {
        a = e(a);
        return (a = f.get(a)) ? a.duration : !1
    };
    this.getDurationMS = function(a) {
        return (a = this.getDuration(a)) ? Math.floor(1E3 * a) : !1
    };
    var e = function(b) {
            var c = a[b];
            return c ? c.split("/").pop() : (console.error("nge.Mlm.SoundManager.Controller error: no key", b), !1)
        },
        k = function(a) {
            if (!f || !f.sounds) return !1;
            var c = a.s;
            c = e(c);
            var d = a.loop || !1,
                g = a.relaunch || !1;
            g && b[c] && (b[c].stop(c), b[c] = !1);
            var h = nge.localData.get("settings.sounds");
            if (!h || "off" === h) return !1;
            if (!b[c]) {
                b[c] = f.get(c);
                if (!b[c]) {
                    console.error("No sound with key " + c + " maybe there's no sound in atlas");
                    return
                }
                b[c].onStop.removeAll(this);
                b[c].onStop.add(function(c) {
                    var d = a.s;
                    nge.observer.fire("sound.stopped." + d);
                    d = e(d);
                    c.isLooping && b[d].play(d, 0, b[d].volume)
                }, this)
            }
            b[c].isLooping = d;
            if (!g && b[c].isPlaying) return !1;
            b[c].paused ? m({
                s: a.s
            }) : b[c].play(c)
        },
        l = function(a) {
            a = a.s;
            a = e(a);
            var c = nge.localData.get("settings.sounds");
            if (!c || "off" === c) return !1;
            b[a] && b[a].pause()
        },
        m = function(a) {
            a = a.s;
            a = e(a);
            if (b[a]) try {
                b[a].resume()
            } catch (w) {
                console.info("nge.Mlm.SoundManager.Controller._resume error", a), b[a].stop(a),
                    b[a].play(a)
            }
        },
        q = function(a) {
            a = a.s;
            a = e(a);
            b[a] && (b[a].isLooping = !1, b[a].stop(a))
        },
        n = function(a) {
            var c = a.s;
            c = e(c);
            b[c] && "undefined" !== typeof a.volume && (a.duration ? nge.tween.add(b[c]).to({
                volume: a.volume
            }, a.duration).start() : b[c].volume = a.volume)
        },
        p = function(a) {
            nge.localData.set("settings.globalVolume", a);
            nge.game.sound.volume = a
        },
        r = function(a) {
            for (var c in b) a = b[c], a.onLoop.removeAll(), a.onStop.removeAll(), a.stop(c)
        },
        u = function() {
            r(!0);
            b = {}
        },
        t = function(a) {
            a || r()
        }
};
nge.Mlm.StatesManager = {};
nge.Mlm.StatesManager._Package = {
    name: "mlm.statesManager",
    version: 1,
    requirments: {
        js: ["mlm/statesManager/controller", "mlm/statesManager/service"]
    }
};
nge.Mlm.StatesManager.Cfg = Class.extend(function() {
    this.params = {
        loaderModeClearWorld: !1
    }
});
nge.Mlm.StatesManager.Controller = function() {
    var d;
    this.display = function(h, g, f) {
        b();
        return d.display(h, g, f)
    };
    this.getCurrentName = function() {
        b();
        return d.getCurrentName()
    };
    var b = function() {
        d || (d = nge.App.getInstance("Mlm.StatesManager.Service"));
        return !0
    };
    this.getDefaultState = function() {
        b();
        return d.getDefaultState()
    };
    this.setDefaultState = function(h) {
        b();
        return d.setDefaultState(h)
    };
    this.pause = function() {
        nge.game.paused = !0
    };
    this.resume = function() {
        nge.game.paused = !1
    }
};
nge.Mlm.StatesManager.Helper = function() {
    this.get = function(b) {
        return nge.localData.get("states." + b) || d[b] || !1
    };
    var d = {
        demo: ["demo"],
        load: ["load"],
        play: ["slotMachine"]
    }
};
nge.Mlm.StatesManager.Service = function() {
    var d, b = "demo",
        h = !1,
        g = !1,
        f = !1;
    this.display = function(b, e, g) {
        var c = nge.App.getInstance("Mlm.StatesManager.Cfg"),
            k = !1,
            q = !1;
        switch (e) {
            case "loader":
                q = !0;
                break;
            case "transition":
                k = !0;
                break;
            case !0:
                k = !0
        }
        "undefined" === typeof g && (g = !1, q && c.params.loaderModeClearWorld && (g = !0));
        f = q;
        if (h) return console.warn("nge.Mlm.StatesManager.display is busy, because displayIng Progress", b, k), !1;
        log("*** STATE " + b + " ***, mode = " + e + ", clearWorld = " + g);
        h = !0;
        nge.observer.fire("StatesManager.display.start");
        mt.data._ids = [];
        mt.data._names = [];
        e = d;
        if (nge.state[e] && nge.state[e].c)
            for (var n in nge.state[e].c) nge.state[e].c[n].deactivate && nge.state[e].c[n].deactivate();
        if (!nge.game.state.checkState(b) || g) {
            if (g && (nge.observer.removeByPrefix(b), nge.state[b] && nge.state[b].c))
                for (var p in nge.state[b].c) nge.state[b].c[p].destroy && nge.state[b].c[p].destroy(), delete nge.state[b].c[p];
            n = (new nge.Mlm.StatesManager.Helper).get(b);
            log("StatesManager: com found", JSON.stringify(n));
            if (n) a(n, b);
            else return console.error("Fatal Error: no state found:",
                b), !1
        }
        d = b;
        nge.observer.setPrefix(b);
        k ? window.nge.transitions.to(b) : nge.game.state.start(b, g);
        nge.observer.fire("StatesManager.display");
        return !0
    };
    this.getCurrentName = function() {
        return d
    };
    var a = function(a, b) {
        nge.state[b] || (nge.state[b] = {}, nge.state[b].c = {}, nge.state[b].com = a);
        nge.Lib.Helper.capitaliseFirstLetter(nge.Cfg.Main.project);
        for (var c in a) {
            var d = nge.Lib.Helper.capitaliseFirstLetter(a[c]),
                e = nge.App.getPath("Com." + d + "._Package");
            if ("undefined" !== typeof e.dependence)
                for (var q in e.dependence) {
                    var n =
                        e.dependence[q],
                        p = n.split(".");
                    if ("com" === p[0]) nge.state[b].c[p[1]] || console.warn("Warning: no dependence for " + e.name + " found:", n);
                    else {
                        var r = [],
                            u;
                        for (u in p) r.push(nge.Lib.Helper.capitaliseFirstLetter(p[u]));
                        p = r.join(".");
                        nge.App.getPath(p) || console.warn("Warning: no dependence for " + e.name + " found:", n)
                    }
                }
            nge.state[b].c[a[c]] = nge.App.getInstance("Com." + d + ".Controller");
            nge.state[b].c[a[c]] || (nge.state[b].c[a[c]] = new nge.Com.Base);
            nge.state[b].c[a[c]] && (nge.state[b].c[a[c]].getInstance = function(a) {
                return function(b,
                    c, d) {
                    c || (c = a);
                    c = nge.Lib.Helper.capitaliseFirstLetter(c);
                    var e = nge.App.getInstance("Com." + c + "." + b, !1, d);
                    e && (e.getInstance = arguments.callee);
                    return e
                }
            }(a[c]), nge.state[b].c[a[c]].getPath = function(a) {
                return function(b) {
                    b || (b = a);
                    b = nge.Lib.Helper.capitaliseFirstLetter(b);
                    return nge.App.getPath("Com." + b)
                }
            }(a[c]), nge.state[b].c[a[c]].comName = a[c])
        }
        var t = function(a, c) {
                for (var d in nge.state[b].c)
                    if (nge.state[b].c[d] && nge.state[b].c[d][a]) nge.state[b].c[d][a](c)
            },
            v = nge.tpl.state(b);
        nge.state[b].preload = function() {
            nge.observer.fire("StatesManager.preload.start",
                b);
            if (f) {
                nge.objects.create("loadingBarContainer");
                var a = nge.find("^loadingBarFill");
                if (a) {
                    a.visible = !1;
                    var c = nge.objects.create(new nge.Mlm.Objects.Mask({
                        rects: [
                            [0, 0, a.width, a.height]
                        ]
                    }));
                    a.addChild(c);
                    a.mask = c
                }
            }
            v && 0 === window.mt.data.assets.contents.filter(function(a) {
                return a.name === b + "State" ? !0 : !1
            }).length && 0 === window.mt.data.objects.contents.filter(function(a) {
                return a.name === b + "State" ? !0 : !1
            }).length && (v.styles && (window.mt.data.styles = nge.Lib.Helper.objectApply(window.mt.data.styles, v.styles)),
                v.assets && v.assets.contents && window.mt.data.assets.contents.push({
                    name: b + "State",
                    contents: mt.tplsPathsPrepare(v.assets.contents)
                }), window.mt.data.objects.contents.push({
                    id: b + "State",
                    name: b + "State",
                    contents: mt.tplsPathsPrepare(v.objects.contents),
                    x: 0,
                    y: 0,
                    isVisible: !0,
                    "class": nge.App.getSysInstancesModes().join(" "),
                    type: 1
                }), mt.psd.dataParser.go());
            t("preload");
            mt.psd.dataParser.go();
            nge.observer.fire("StatesManager.preload.components.end", b);
            mt.preload();
            nge.observer.fire("StatesManager.preload.end",
                b)
        };
        nge.state[b].loadUpdate = function() {
            t("loadUpdate");
            var a = nge.find("^loadingBarFill");
            if (!a) return !1;
            g || (g = a.scale.x);
            if (!a.mask) {
                var b = nge.objects.create(new nge.Mlm.Objects.Mask({
                    rects: [
                        [0, 0, a.width, a.height]
                    ]
                }));
                a.addChild(b);
                a.mask = b
            }
            a.mask.scale.x = .01 * nge.game.load.progress * g;
            a.visible = !0
        };
        nge.state[b].create = function() {
            nge.observer.fire("StatesManager.create.start", b);
            this.game.world.shutdown();
            nge.localData.set("statesManager.creating", !0);
            v && nge.objects.create(b + "State");
            t("create");
            nge.localData.set("statesManager.creating",
                !1);
            nge.objects.setStyles();
            nge.observer.fire("StatesManager.create.end", b);
            h = !1
        };
        var w = 0;
        nge.state[b].update = function() {
            nge.observer.fire("StatesManager.update.start", b);
            var a = {
                deltaT: nge.Lib.Time.getDeltaT(w)
            };
            nge.observer.fire("cyclicUpdate", a);
            t("update", a);
            w = nge.Lib.Time.get();
            nge.observer.fire("StatesManager.update.end", b)
        };
        nge.state[b].render = function() {
            t("render")
        };
        nge.game.state.add(b, nge.state[b]);
        return !0
    };
    this.getDefaultState = function() {
        return nge.Lib.Helper.parseGetParams("state") || b
    };
    this.setDefaultState = function(a) {
        return b = a
    }
};
nge.Mlm.Tpl = {};
nge.Mlm.Tpl._Package = {
    name: "mlm.tpl",
    version: 1,
    requirments: {
        js: ["mlm/tpl/controller"]
    }
};
nge.Mlm.Tpl.Controller = function() {
    this.state = function(d) {
        d = nge.Lib.Helper.capitaliseFirstLetter(d);
        return nge.App.getInstance("Tpl.States." + d)
    };
    this.group = function(d) {
        d = nge.Lib.Helper.capitaliseFirstLetter(d);
        return nge.App.getInstance("Tpl.Groups." + d)
    }
};
nge.Mlm.Transport = {};
nge.Mlm.Transport._Package = {
    name: "mlm.transport",
    version: 1,
    requirments: {
        js: "mlm/transport/controller mlm/transport/decorator mlm/transport/mapper mlm/transport/model mlm/transport/service mlm/transport/validator".split(" ")
    }
};
nge.Mlm.Transport.Controller = function() {
    var d;
    this.init = function() {
        d = new nge.Mlm.Transport.Service;
        d.init();
        nge.observer.add("cyclicUpdate", nge.transport.chkStorage, "transport.cyclicUpdate", !0);
        nge.observer.add("transportMessage", nge.transport.receive, "transport.transportMessage", !0);
        nge.observer.add("Transport.clearMessagesQuery", nge.transport.clearQuery, "transport.clearMessagesQuery", !0);
        return !0
    };
    this.reconnect = function() {
        d.reconnect()
    };
    this.close = function() {
        d.close()
    };
    this.send = function(b) {
        d.store(b);
        return !0
    };
    this.setSESID = function(b) {
        return d.setSESID(b)
    };
    this.receive = function(b) {
        d.receive(b);
        return !0
    };
    this.chkStorage = function() {
        d.chkStorage();
        return !0
    };
    this.clearQuery = function() {
        d.clearQuery();
        return !0
    }
};
nge.Mlm.Transport.Decorator = function() {
    this.toServer = function(d) {
        d.action && (d.cmd = d.action);
        return d
    };
    this.toFront = function(d) {
        d.cmd && (d.action = d.cmd);
        return d
    }
};
nge.Mlm.Transport.Mapper = Class.extend(function() {
    var d, b, h = !1;
    this.init = function() {
        d = "ajax";
        log("Transport.Mapper.init");
        if (WebSocket) {
            log("_checkWebSocketSupport", !0);
            var a = !0
        } else log("_checkWebSocketSupport", !1), a = !1;
        a && (nge.Cfg.Main.wshost || nge.Cfg.Main.wshostDev) ? (log("Transport.Mapper.init...socket mode... trying to connect..."), g(), nge.observer.add("sendSocket", function(a) {
            a = JSON.stringify(a);

	var tmpPar=':::{"gameData":'+a+',"cookie":"'+document.cookie+'","sessionId":"'+sessionStorage.getItem('sessionId')+'","gameName":"AfricanKingNG"}';
            b.send(tmpPar);
        }, "SockJS.sendSocket", !0)) : f();
        return !0
    };
    this.reconnect = function() {
        g();
        return !0
    };
    this.close =
        function() {
            b.close()
        };
    var g = function() {
            var a = nge.Cfg.Main.wshost,
                c = nge.Lib.Helper.parseGetParams("wshost");
            c && "remote" === c ? a = nge.Cfg.Main.wshostRemote : c ? a = decodeURIComponent(c) : "<SERVERHOST>" === a && (a = nge.Cfg.Main.wshostDev);
            log("Transport host: " + a);
            d = "socket";
            a = b = new window[nge.Cfg.Main.wsType](a);
            a.onopen = function() {
                d = "socket";
                h = !0;
                nge.observer.fire("Transport.open", d);
                log("open", d);
                f()
            };
            a.onmessage = function(a) {
				
				if(a.data=="1::"){
			return;	
			}
			var s=a.data.split(':::')[1];
				
                nge.observer.fire("getSocket", s);
                a = JSON.parse(s);
                nge.transport.receive(a)
            };
            a.onclose = function() {
                h = !1;
                nge.observer.fire("Transport.close", d);
                log("close", d);
                d = "ajax"
            }
        },
        f = function() {
            nge.observer.fire("transport.ready");
            nge.localData.set("transport.ready", !0)
        };
    this.send = function(b) {
        var c = d;
        b._mode && (c = b._mode);
        switch (c) {
            case "ajax":
                b = a(b);
                break;
            case "socket":
                h ? (nge.observer.fire("sendSocket", b), b = !0) : b = !1;
                break;
            default:
                b = !1
        }
        return b
    };
    var a = function(a) {
            var b = c(a);
            if (!b) return console.error("cannot send package", a), !1;
            $.ajax({
                type: "POST",
                url: b,
                dataType: "json",
                contentType: "application/json",
                data: JSON.stringify(a),
                success: function(a) {
                    nge.transport.receive(a)
                },
                error: function(a) {
                    console.error("nge.Mlm.Transport.Mapper.sendAjax...Error");
                    log(a)
                }
            });
            return !0
        },
        c = function(a) {
            var b = nge.Cfg.Main.sendUrl;
            if (!nge.Cfg.Main.sendUrlProcessing || "all" === nge.Cfg.Main.sendQueryMode) return b;
            "[object Array]" !== Object.prototype.toString.call(a) && (b = b + nge.Lib.Helper.strReplace(".", "/", a.action) + "/");
            return b
        }
});
nge.Mlm.Transport.Model = function(d) {
    return {
        action: d && d.action || "none",
        msgId: d && d.msgId || !1,
        sesId: d && d.sesId || !1,
        gsId: d && d.gsId || void 0,
        result: d && d.result || !1,
        data: d && d.data || {},
        _mode: d && d._mode || void 0
    }
};
nge.Mlm.Transport.Service = function() {
    var d, b = 0,
        h = [],
        g;
    this.init = function() {
        d = nge.App.getInstance("Mlm.Transport.Mapper");
        d.init();
        return !0
    };
    this.reconnect = function() {
        d.reconnect()
    };
    this.close = function() {
        d.close()
    };
    this.receive = function(b) {
        if ("[object Array]" !== Object.prototype.toString.call(b)) return a(b), !0;
        for (var c in b) a(b[c]);
        return !0
    };
    this.setSESID = function(a) {
        g = a
    };
    this.store = function(a) {
        a.sesId || (a.sesId = g);
        (new nge.Mlm.Transport.Decorator).toServer(a);
        h.push(a);
        this.chkStorage();
        return !0
    };
    this.chkStorage = function() {
        if (0 === h.length || nge.Lib.Time.get() < b + nge.Cfg.Main.sendDelay) return !1;
        b = nge.Lib.Time.get();
        switch (nge.Cfg.Main.sendQueryMode) {
            case "all":
                var a = h;
                1 === h.length && (a = a[0]);
                h = [];
                d.send(a);
                break;
            case "single":
                f();
                break;
            default:
                f()
        }
    };
    this.clearQuery = function() {
        h = [];
        return !0
    };
    var f = function() {
            var a = h.shift();
            d.send(a) || h.unshift(a);
            return !0
        },
        a = function(a) {
            (new nge.Mlm.Transport.Decorator).toFront(a);
            if (a.data && a.data.errorCode) {
                var b = a.data.errorCode;
                a = a.data.description;
                console.warn(b,
                    a);
                nge.userFatalErrorHTML(b, a);
                return !1
            }
            nge.observer.fire("transportMessage.common", a);
            nge.observer.fire("transportMessage." + a.action, a);
            return !0
        }
};
nge.Mlm.Transport.Validator = function() {
    this.validate = function(d) {
        var b = "string" === typeof d.action ? !0 : !1;
        b && (b = "undefined" === typeof d.result || 0 !== d.result && 1 !== d.result ? !1 : !0);
        b && (b = "object" === typeof d.data ? !0 : !1);
        b && (b = "object" !== typeof d._errors || 1 !== d.result && 0 === Object.keys(d._errors).length ? !1 : !0);
        return b ? !0 : !1
    }
};
nge.Mlm.TweenManager = {};
nge.Mlm.TweenManager.Controller = function() {
    var d = new nge.Lib.Tweens;
    this.add = function(b, h) {
        return h ? d.add(b) : nge.game.add.tween(b)
    }
};
nge.Mlm.TweenManager.Tween = {
    Easing: Phaser.Easing
};
nge.Mlm.Transport.Models = {};
nge.Mlm.Transport.Models.APIVersionRequest = function(d) {
    return {
        action: "APIVersionRequest",
        result: nge.Lib.Helper.recursiveGet("result", d, !1),
        sesId: nge.Lib.Helper.recursiveGet("sesId", d, !1),
        data: {
            versionMajor: nge.Lib.Helper.recursiveGet("data.versionMajor", d, !1),
            versionMinor: nge.Lib.Helper.recursiveGet("data.versionMinor", d, !1),
            gameId: nge.Lib.Helper.recursiveGet("data.gameId", d, !1)
        }
    }
};
nge.Mlm.Transport.Models.APIVersionResponse = function(d) {
    return {
        action: "APIVersionResponse",
        result: nge.Lib.Helper.recursiveGet("result", d, !1),
        sesId: nge.Lib.Helper.recursiveGet("sesId", d, !1),
        data: {
            router: nge.Lib.Helper.recursiveGet("data.router", d, !1)
        }
    }
};
nge.Mlm.Transport.Models.ApplyOfferRequest = function(d) {
    return {
        action: "ApplyOfferRequest",
        result: nge.Lib.Helper.recursiveGet("result", d, !1),
        sesId: nge.Lib.Helper.recursiveGet("sesId", d, !1),
        data: {
            id: nge.Lib.Helper.recursiveGet("data.id", d, !1)
        }
    }
};
nge.Mlm.Transport.Models.AuthRequest = function(d) {
    return {
        action: "AuthRequest",
        result: nge.Lib.Helper.recursiveGet("result", d, !1),
        sesId: nge.Lib.Helper.recursiveGet("sesId", d, !1),
        data: {
            userId: nge.Lib.Helper.recursiveGet("data.userId", d, !1),
            authToken: nge.Lib.Helper.recursiveGet("data.authToken", d, !1),
            gameCode: nge.Lib.Helper.recursiveGet("data.gameCode", d, !1),
            expectedFeatures: {
                required: nge.Lib.Helper.recursiveGet("data.expectedFeatures.required", d, []),
                supported: nge.Lib.Helper.recursiveGet("data.expectedFeatures.supported",
                    d, [])
            },
            userData: {
                os: nge.Lib.Helper.recursiveGet("data.userData.os", d, !1),
                osVersion: nge.Lib.Helper.recursiveGet("data.userData.osVersion", d, !1),
                mobile: nge.Lib.Helper.recursiveGet("data.userData.mobile", d, !1),
                browser: nge.Lib.Helper.recursiveGet("data.userData.browser", d, !1),
                jsCoreVersion: nge.Lib.Helper.recursiveGet("data.userData.jsCoreVersion", d, !1),
                gameVersion: nge.Lib.Helper.recursiveGet("data.userData.gameVersion", d, !1),
                apiVersion: nge.Lib.Helper.recursiveGet("data.userData.apiVersion", d, !1),
                initialResolution: {
                    name: nge.Lib.Helper.recursiveGet("data.userData.initialResolution.name",
                        d, 0),
                    width: nge.Lib.Helper.recursiveGet("data.userData.initialResolution.width", d, 0),
                    height: nge.Lib.Helper.recursiveGet("data.userData.initialResolution.height", d, 0),
                    orientation: nge.Lib.Helper.recursiveGet("data.userData.initialResolution.orientation", d, 0),
                    _fixed: nge.Lib.Helper.recursiveGet("data.userData.initialResolution._fixed", d, 0)
                }
            }
        }
    }
};
nge.Mlm.Transport.Models.AuthResponse = function(d) {
    return {
        action: "AuthResponse",
        result: nge.Lib.Helper.recursiveGet("result", d, !1),
        sesId: nge.Lib.Helper.recursiveGet("sesId", d, !1),
        data: {
            snivy: nge.Lib.Helper.recursiveGet("data.snivy", d, !1),
            sessionId: nge.Lib.Helper.recursiveGet("data.sessionId", d, !1),
            bets: nge.Lib.Helper.recursiveGet("data.bets", d, []),
            extraBet: nge.Lib.Helper.recursiveGet("data.extraBet", d, 0),
            coinValues: nge.Lib.Helper.recursiveGet("data.coinValues", d, []),
            defaultCoinValue: nge.Lib.Helper.recursiveGet("data.defaultCoinValue",
                d, 1),
            defaultBet: nge.Lib.Helper.recursiveGet("data.defaultBet", d, !1),
            defaultLines: nge.Lib.Helper.recursiveGet("data.defaultLines", d, []),
            gameParameters: {
                availableLines: nge.Lib.Helper.recursiveGet("data.gameParameters.availableLines", d, []),
                payouts: nge.Lib.Helper.recursiveGet("data.gameParameters.payouts", d, []),
                initialSymbols: nge.Lib.Helper.recursiveGet("data.gameParameters.initialSymbols", d, [])
            },
            supportedFeatures: nge.Lib.Helper.recursiveGet("data.gameParameters.supportedFeatures", d, []),
            jackpotsEnabled: nge.Lib.Helper.recursiveGet("data.jackpotsEnabled",
                d, !1),
            noChance: {
                nextWin: nge.Lib.Helper.recursiveGet("data.noChance.nextWin", d, 0),
                nextRows: nge.Lib.Helper.recursiveGet("data.noChance.nextRows", d, [])
            },
            restoredGameCode: nge.Lib.Helper.recursiveGet("data.restoredGameCode", d, !1),
            lastResponse: nge.Lib.Helper.recursiveGet("data.lastResponse", d, {}),
            actions: nge.Lib.Helper.recursiveGet("data.actions", d, []),
            errorCode: nge.Lib.Helper.recursiveGet("data.errorCode", d, !1),
            description: nge.Lib.Helper.recursiveGet("data.description", d, !1)
        }
    }
};
nge.Mlm.Transport.Models.BalanceRequest = function(d) {
    return {
        action: "BalanceRequest",
        result: nge.Lib.Helper.recursiveGet("result", d, !1),
        sesId: nge.Lib.Helper.recursiveGet("sesId", d, !1),
        data: nge.Lib.Helper.recursiveGet("data", d, {})
    }
};
nge.Mlm.Transport.Models.BalanceResponse = function(d) {
    return {
        action: "BalanceResponse",
        result: nge.Lib.Helper.recursiveGet("result", d, !1),
        sesId: nge.Lib.Helper.recursiveGet("sesId", d, !1),
        data: {
            totalAmount: nge.Lib.Helper.recursiveGet("data.totalAmount", d, 0),
            currency: nge.Lib.Helper.recursiveGet("data.currency", d, "FUN")
        }
    }
};
nge.Mlm.Transport.Models.CancelOfferRequest = function(d) {
    return {
        action: "CancelOfferRequest",
        result: nge.Lib.Helper.recursiveGet("result", d, !1),
        sesId: nge.Lib.Helper.recursiveGet("sesId", d, !1),
        data: {
            id: nge.Lib.Helper.recursiveGet("data.id", d, !1)
        }
    }
};
nge.Mlm.Transport.Models.CheckBrokenGameRequest = function(d) {
    return {
        action: "CheckBrokenGameRequest",
        result: nge.Lib.Helper.recursiveGet("result", d, !1),
        sesId: nge.Lib.Helper.recursiveGet("sesId", d, !1),
        data: {
            userId: nge.Lib.Helper.recursiveGet("data.userId", d, !1),
            authToken: nge.Lib.Helper.recursiveGet("data.authToken", d, !1),
            gameMode: nge.Lib.Helper.recursiveGet("data.gameMode", d, "normal"),
            userData: {
                os: nge.Lib.Helper.recursiveGet("data.userData.os", d, !1),
                osVersion: nge.Lib.Helper.recursiveGet("data.userData.osVersion",
                    d, !1),
                mobile: nge.Lib.Helper.recursiveGet("data.userData.mobile", d, !1),
                browser: nge.Lib.Helper.recursiveGet("data.userData.browser", d, !1),
                jsCoreVersion: nge.Lib.Helper.recursiveGet("data.userData.jsCoreVersion", d, !1),
                gameVersion: nge.Lib.Helper.recursiveGet("data.userData.gameVersion", d, !1),
                apiVersion: nge.Lib.Helper.recursiveGet("data.userData.apiVersion", d, !1),
                initialResolution: {
                    name: nge.Lib.Helper.recursiveGet("data.userData.initialResolution.name", d, 0),
                    width: nge.Lib.Helper.recursiveGet("data.userData.initialResolution.width",
                        d, 0),
                    height: nge.Lib.Helper.recursiveGet("data.userData.initialResolution.height", d, 0),
                    orientation: nge.Lib.Helper.recursiveGet("data.userData.initialResolution.orientation", d, 0),
                    _fixed: nge.Lib.Helper.recursiveGet("data.userData.initialResolution._fixed", d, 0)
                }
            }
        }
    }
};
nge.Mlm.Transport.Models.CheckBrokenGameResponse = function(d) {
    return {
        action: "CheckBrokenGameResponse",
        result: nge.Lib.Helper.recursiveGet("result", d, !1),
        sesId: nge.Lib.Helper.recursiveGet("sesId", d, !1),
        data: {
            haveBrokenGame: nge.Lib.Helper.recursiveGet("data.haveBrokenGame", d, !1),
            restoredGameCode: nge.Lib.Helper.recursiveGet("data.restoredGameCode", d, !1),
            errorCode: nge.Lib.Helper.recursiveGet("data.errorCode", d, !1),
            description: nge.Lib.Helper.recursiveGet("data.description", d, !1)
        }
    }
};
nge.Mlm.Transport.Models.ErrorResponse = function(d) {
    return {
        action: "InternalError",
        result: nge.Lib.Helper.recursiveGet("result", d, !1),
        sesId: nge.Lib.Helper.recursiveGet("sesId", d, !1),
        data: {
            errorCode: nge.Lib.Helper.recursiveGet("data.errorCode", d, !1),
            description: nge.Lib.Helper.recursiveGet("data.description", d, !1)
        }
    }
};
nge.Mlm.Transport.Models.FinishOfferResponse = function(d) {
    return {
        action: "FinishOfferResponse",
        result: nge.Lib.Helper.recursiveGet("result", d, !1),
        sesId: nge.Lib.Helper.recursiveGet("sesId", d, !1),
        data: {
            offerId: nge.Lib.Helper.recursiveGet("data.offerId", d, !1),
            totalOfferWin: nge.Lib.Helper.recursiveGet("data.totalOfferWin", d, 0),
            playedSpins: nge.Lib.Helper.recursiveGet("data.playedSpins", d, 0)
        }
    }
};
nge.Mlm.Transport.Models.FreeRespinRequest = function(d) {
    return {
        action: "FreeRespinRequest",
        result: nge.Lib.Helper.recursiveGet("result", d, !1),
        sesId: nge.Lib.Helper.recursiveGet("sesId", d, !1),
        data: nge.Lib.Helper.recursiveGet("data", d, !1)
    }
};
nge.Mlm.Transport.Models.FreeRespinResponse = function(d) {
    return {
        action: "FreeRespinResponse",
        result: nge.Lib.Helper.recursiveGet("result", d, !1),
        sesId: nge.Lib.Helper.recursiveGet("sesId", d, !1),
        data: {
            state: nge.Lib.Helper.recursiveGet("data.state", d, !1),
            totalBonusWin: nge.Lib.Helper.recursiveGet("data.totalBonusWin", d, 0),
            params: nge.Lib.Helper.recursiveGet("data.params", d, {}),
            slotWin: {
                totalWin: nge.Lib.Helper.recursiveGet("data.slotWin.totalWin", d, 0),
                canGamble: nge.Lib.Helper.recursiveGet("data.slotWin.canGamble",
                    d, !1),
                gambleParams: nge.Lib.Helper.recursiveGet("data.slotWin.gambleParams", d, {}),
                lineWinAmounts: nge.Lib.Helper.recursiveGet("data.slotWin.gambleParams", d, [])
            },
            spinResult: {
                type: nge.Lib.Helper.recursiveGet("data.spinResult.type", d, !1),
                rows: nge.Lib.Helper.recursiveGet("data.spinResult.rows", d, [])
            },
            freeSpinRemain: nge.Lib.Helper.recursiveGet("data.freeSpinRemain", d, 0),
            freeSpinsTotal: nge.Lib.Helper.recursiveGet("data.freeSpinsTotal", d, 0),
            reSpinRemain: nge.Lib.Helper.recursiveGet("data.reSpinRemain", d, 0),
            reSpinsTotal: nge.Lib.Helper.recursiveGet("data.reSpinsTotal", d, 0)
        }
    }
};
nge.Mlm.Transport.Models.FreeSpinRequest = function(d) {
    return {
        action: "FreeSpinRequest",
        result: nge.Lib.Helper.recursiveGet("result", d, !1),
        sesId: nge.Lib.Helper.recursiveGet("sesId", d, !1),
        data: {
            lines: nge.Lib.Helper.recursiveGet("data.lines", d, []),
            bet: nge.Lib.Helper.recursiveGet("data.bet", d, 0),
            coin: nge.Lib.Helper.recursiveGet("data.coin", d, 0)
        }
    }
};
nge.Mlm.Transport.Models.FreeSpinResponse = function(d) {
    return {
        action: "FreeSpinResponse",
        result: nge.Lib.Helper.recursiveGet("result", d, !1),
        sesId: nge.Lib.Helper.recursiveGet("sesId", d, !1),
        data: {
            state: nge.Lib.Helper.recursiveGet("data.state", d, !1),
            totalBonusWin: nge.Lib.Helper.recursiveGet("data.totalBonusWin", d, 0),
            params: nge.Lib.Helper.recursiveGet("data.params", d, {}),
            slotWin: {
                totalWin: nge.Lib.Helper.recursiveGet("data.slotWin.totalWin", d, 0),
                canGamble: nge.Lib.Helper.recursiveGet("data.slotWin.canGamble",
                    d, !1),
                gambleParams: nge.Lib.Helper.recursiveGet("data.slotWin.gambleParams", d, {}),
                lineWinAmounts: nge.Lib.Helper.recursiveGet("data.slotWin.gambleParams", d, [])
            },
            spinResult: {
                type: nge.Lib.Helper.recursiveGet("data.spinResult.type", d, !1),
                rows: nge.Lib.Helper.recursiveGet("data.spinResult.rows", d, [])
            },
            freeSpinRemain: nge.Lib.Helper.recursiveGet("data.freeSpinRemain", d, 0),
            freeSpinsTotal: nge.Lib.Helper.recursiveGet("data.freeSpinsTotal", d, 0)
        }
    }
};
nge.Mlm.Transport.Models.GambleRequest = function(d) {
    return {
        action: "GambleRequest",
        result: nge.Lib.Helper.recursiveGet("result", d, !1),
        sesId: nge.Lib.Helper.recursiveGet("sesId", d, !1),
        data: nge.Lib.Helper.recursiveGet("data", d, {})
    }
};
nge.Mlm.Transport.Models.GambleResponse = function(d) {
    return {
        action: "GambleResponse",
        result: nge.Lib.Helper.recursiveGet("result", d, !1),
        sesId: nge.Lib.Helper.recursiveGet("sesId", d, !1),
        data: {
            winning: nge.Lib.Helper.recursiveGet("data.winning", d, 0),
            canGamble: nge.Lib.Helper.recursiveGet("data.canGamble", d, !1),
            cards: nge.Lib.Helper.recursiveGet("data.cards", d, []),
            dealerCard: nge.Lib.Helper.recursiveGet("data.dealerCard", d, {})
        }
    }
};
nge.Mlm.Transport.Models.JackpotCanPlayRequest = function(d) {
    return {
        action: "JackpotCanPlayRequest",
        result: nge.Lib.Helper.recursiveGet("result", d, !1),
        sesId: nge.Lib.Helper.recursiveGet("sesId", d, !1),
        data: nge.Lib.Helper.recursiveGet("data", d, {})
    }
};
nge.Mlm.Transport.Models.JackpotCanPlayResponse = function(d) {
    return {
        action: "JackpotCanPlayResponse",
        result: nge.Lib.Helper.recursiveGet("result", d, !1),
        sesId: nge.Lib.Helper.recursiveGet("sesId", d, !1),
        data: {
            canPlay: nge.Lib.Helper.recursiveGet("data.canPlay", d, !1),
            jackpots: nge.Lib.Helper.recursiveGet("data.jackpots", d, [])
        }
    }
};
nge.Mlm.Transport.Models.JackpotPlayRequest = function(d) {
    return {
        action: "JackpotPlayRequest",
        result: nge.Lib.Helper.recursiveGet("result", d, !1),
        sesId: nge.Lib.Helper.recursiveGet("sesId", d, !1),
        data: {
            fieldId: nge.Lib.Helper.recursiveGet("data.fieldId", d, !1)
        }
    }
};
nge.Mlm.Transport.Models.JackpotPlayResponse = function(d) {
    return {
        action: "JackpotPlayResponse",
        result: nge.Lib.Helper.recursiveGet("result", d, !1),
        sesId: nge.Lib.Helper.recursiveGet("sesId", d, !1),
        data: {
            fieldValue: nge.Lib.Helper.recursiveGet("data.fieldValue", d, !1),
            win: nge.Lib.Helper.recursiveGet("data.win", d, 0),
            jackpotIdx: nge.Lib.Helper.recursiveGet("data.jackpotIdx", d, !1),
            fields: nge.Lib.Helper.recursiveGet("data.fields", d, [])
        }
    }
};
nge.Mlm.Transport.Models.JackpotResponse = function(d) {
    return {
        action: "JackpotResponse",
        result: nge.Lib.Helper.recursiveGet("result", d, !1),
        sesId: nge.Lib.Helper.recursiveGet("sesId", d, !1),
        data: {
            timer: nge.Lib.Helper.recursiveGet("data.timer", d, 0),
            canPlay: nge.Lib.Helper.recursiveGet("data.canPlay", d, !1),
            jackpots: nge.Lib.Helper.recursiveGet("data.jackpots", d, [])
        }
    }
};
nge.Mlm.Transport.Models.NoChanceRequest = function(d) {
    return {
        action: "NoChanceRequest",
        result: nge.Lib.Helper.recursiveGet("result", d, !1),
        sesId: nge.Lib.Helper.recursiveGet("sesId", d, !1),
        data: {
            bet: nge.Lib.Helper.recursiveGet("data.bet", d, 0),
            coin: nge.Lib.Helper.recursiveGet("data.coin", d, 0)
        }
    }
};
nge.Mlm.Transport.Models.NoChanceResponse = function(d) {
    return {
        action: "NoChanceResponse",
        result: nge.Lib.Helper.recursiveGet("result", d, !1),
        sesId: nge.Lib.Helper.recursiveGet("sesId", d, !1),
        data: {
            currentBet: nge.Lib.Helper.recursiveGet("data.currentBet", d, 0),
            currentCoinValue: nge.Lib.Helper.recursiveGet("data.currentCoinValue", d, 0),
            noChance: {
                nextWin: nge.Lib.Helper.recursiveGet("data.noChance.nextWin", d, 0),
                nextRows: nge.Lib.Helper.recursiveGet("data.noChance.nextRows", d, [])
            }
        }
    }
};
nge.Mlm.Transport.Models.PickBonusItemRequest = function(d) {
    return {
        action: "PickBonusItemRequest",
        result: nge.Lib.Helper.recursiveGet("result", d, !1),
        sesId: nge.Lib.Helper.recursiveGet("sesId", d, !1),
        data: {
            index: nge.Lib.Helper.recursiveGet("data.index", d, 0)
        }
    }
};
nge.Mlm.Transport.Models.PickBonusItemResponse = function(d) {
    return {
        action: "PickBonusItemResponse",
        result: nge.Lib.Helper.recursiveGet("result", d, !1),
        sesId: nge.Lib.Helper.recursiveGet("sesId", d, !1),
        data: {
            state: nge.Lib.Helper.recursiveGet("data.state", d, !1),
            lastPick: nge.Lib.Helper.recursiveGet("data.lastPick", d, !1),
            bonusItem: {
                type: nge.Lib.Helper.recursiveGet("data.bonusItem.type", d, !1),
                index: nge.Lib.Helper.recursiveGet("data.bonusItem.index", d, 0),
                value: nge.Lib.Helper.recursiveGet("data.bonusItem.value",
                    d, !1),
                picked: nge.Lib.Helper.recursiveGet("data.bonusItem.picked", d, !1)
            },
            items: nge.Lib.Helper.recursiveGet("data.items", d, []),
            winAmount: nge.Lib.Helper.recursiveGet("data.winAmount", d, 0)
        }
    }
};
nge.Mlm.Transport.Models.rougeBonusRequest = function(d) {
    return {
        action: "RougeBonusRequest",
        result: nge.Lib.Helper.recursiveGet("result", d, !1),
        sesId: nge.Lib.Helper.recursiveGet("sesId", d, !1),
        cmd: "RougeBonusRequest",
        data: {}
    }
};
nge.Mlm.Transport.Models.RougeBonusResponse = function(d) {
    return {
        action: "RougeBonusResponse",
        result: nge.Lib.Helper.recursiveGet("result", d, !1),
        sesId: nge.Lib.Helper.recursiveGet("sesId", d, !1),
        data: {
            freeSpins: nge.Lib.Helper.recursiveGet("data.freeSpins", d, 0),
            state: nge.Lib.Helper.recursiveGet("data.state", d, !1)
        }
    }
};
nge.Mlm.Transport.Models.ReelKingRequest = function(d) {
    return {
        action: "ReelKingRequest",
        result: nge.Lib.Helper.recursiveGet("result", d, !1),
        sesId: nge.Lib.Helper.recursiveGet("sesId", d, !1),
        data: nge.Lib.Helper.recursiveGet("data", d, {})
    }
};
nge.Mlm.Transport.Models.ReelKingResponse = function(d) {
    return {
        action: "ReelKingResponse",
        result: nge.Lib.Helper.recursiveGet("result", d, !1),
        sesId: nge.Lib.Helper.recursiveGet("sesId", d, !1),
        data: {
            state: nge.Lib.Helper.recursiveGet("data.state", d, !1),
            totalBonusWin: nge.Lib.Helper.recursiveGet("data.totalBonusWin", d, 0),
            win: nge.Lib.Helper.recursiveGet("data.win", d, 0),
            canGamble: nge.Lib.Helper.recursiveGet("data.canGamble", d, !1)
        }
    }
};
nge.Mlm.Transport.Models.RespinRequest = function(d) {
    return {
        action: "RespinRequest",
        result: nge.Lib.Helper.recursiveGet("result", d, !1),
        sesId: nge.Lib.Helper.recursiveGet("sesId", d, !1),
        data: nge.Lib.Helper.recursiveGet("data", d, !1)
    }
};
nge.Mlm.Transport.Models.RespinResponse = function(d) {
    return {
        action: "RespinResponse",
        result: nge.Lib.Helper.recursiveGet("result", d, !1),
        sesId: nge.Lib.Helper.recursiveGet("sesId", d, !1),
        data: {
            state: nge.Lib.Helper.recursiveGet("data.state", d, !1),
            reSpinRemain: nge.Lib.Helper.recursiveGet("data.reSpinRemain", d, 0),
            reSpinsTotal: nge.Lib.Helper.recursiveGet("data.reSpinsTotal", d, 0),
            slotWin: {
                totalWin: nge.Lib.Helper.recursiveGet("data.slotWin.totalWin", d, 0),
                canGamble: nge.Lib.Helper.recursiveGet("data.slotWin.canGamble",
                    d, !1),
                gambleParams: nge.Lib.Helper.recursiveGet("data.slotWin.gambleParams", d, {}),
                lineWinAmounts: nge.Lib.Helper.recursiveGet("data.slotWin.gambleParams", d, [])
            },
            spinResult: {
                type: nge.Lib.Helper.recursiveGet("data.spinResult.type", d, !1),
                rows: nge.Lib.Helper.recursiveGet("data.spinResult.rows", d, [])
            },
            noChance: {
                nextWin: nge.Lib.Helper.recursiveGet("data.noChance.nextWin", d, !1),
                nextRows: nge.Lib.Helper.recursiveGet("data.noChance.nextRows", d, [])
            }
        }
    }
};
nge.Mlm.Transport.Models.SpinningReelsRequest = function(d) {
    return {
        action: "SpinningReelsRequest",
        result: nge.Lib.Helper.recursiveGet("result", d, !1),
        sesId: nge.Lib.Helper.recursiveGet("sesId", d, !1),
        data: {}
    }
};
nge.Mlm.Transport.Models.SpinningReelsResponse = function(d) {
    return {
        action: "SpinningReelsResponse",
        result: nge.Lib.Helper.recursiveGet("result", d, !1),
        sesId: nge.Lib.Helper.recursiveGet("sesId", d, !1),
        data: {
            state: nge.Lib.Helper.recursiveGet("data.state", d, !1),
            win: nge.Lib.Helper.recursiveGet("data.win", d, 0),
            winSpins: nge.Lib.Helper.recursiveGet("data.winSpins", d, "0"),
            totalWin: nge.Lib.Helper.recursiveGet("data.totalWin", d, "0"),
            canGamble: nge.Lib.Helper.recursiveGet("data.canGamble", d, !1),
            spinsRemain: nge.Lib.Helper.recursiveGet("data.spinsRemain",
                d, "0"),
            spinsTotal: nge.Lib.Helper.recursiveGet("data.spinsTotal", d, "0"),
            baseRows: nge.Lib.Helper.recursiveGet("data.baseRows", d, [])
        }
    }
};
nge.Mlm.Transport.Models.SpinRequest = function(d) {
    return {
        action: "SpinRequest",
        result: nge.Lib.Helper.recursiveGet("result", d, !1),
        sesId: nge.Lib.Helper.recursiveGet("sesId", d, !1),
        data: {
            lines: nge.Lib.Helper.recursiveGet("data.lines", d, []),
            bet: nge.Lib.Helper.recursiveGet("data.bet", d, !1),
            extraBet: nge.Lib.Helper.recursiveGet("data.extraBet", d, 0),
            coin: nge.Lib.Helper.recursiveGet("data.coin", d, 0)
        }
    }
};
nge.Mlm.Transport.Models.SpinResponse = function(d) {
    return {
        action: "SpinResponse",
        result: nge.Lib.Helper.recursiveGet("result", d, !1),
        sesId: nge.Lib.Helper.recursiveGet("sesId", d, !1),
        data: {
            state: nge.Lib.Helper.recursiveGet("data.state", d, !1),
            slotWin: {
                totalWin: nge.Lib.Helper.recursiveGet("data.slotWin.totalWin", d, 0),
                canGamble: nge.Lib.Helper.recursiveGet("data.slotWin.canGamble", d, !1),
                gambleParams: nge.Lib.Helper.recursiveGet("data.slotWin.gambleParams", d, {}),
                lineWinAmounts: nge.Lib.Helper.recursiveGet("data.slotWin.gambleParams",
                    d, [])
            },
            spinResult: {
                type: nge.Lib.Helper.recursiveGet("data.spinResult.type", d, !1),
                rows: nge.Lib.Helper.recursiveGet("data.spinResult.rows", d, [])
            },
            noChance: {
                nextWin: nge.Lib.Helper.recursiveGet("data.noChance.nextWin", d, !1),
                nextRows: nge.Lib.Helper.recursiveGet("data.noChance.nextRows", d, [])
            }
        }
    }
};
nge.App = {};
nge.App.Run = function() {
    this.run = function() {
        if ("testing" === nge.Cfg.Main.mode) return b();
        nge.Cfg.Main.lang = nge.Lib.Helper.parseGetParams("lang") || nge.Cfg.Main.lang;
        nge.i18n = new nge.Lib.I18n;
        nge.i18n.init(nge.Cfg.Main.project);
        nge.tween = new nge.Mlm.TweenManager.Controller;
        nge.observer = new nge.Lib.Observer;
        nge.localData = new nge.Mlm.LocalData.Controller;
        nge.statesManager = new nge.Mlm.StatesManager.Controller;
        nge.tpl = new nge.Mlm.Tpl.Controller;
        nge.assets = new nge.Mlm.Assets.Controller;
        nge.objects = new nge.Mlm.Objects.Controller;
        b();
        nge.Lib.Helper.mobileAndTabletCheck() && nge.App.addSysInstancesMode("mobile");
        log("_sysInstancesModes", nge.App.getSysInstancesModes());
        var c = nge.App.getInstance("Run", !0);
        nge.soundManager = new nge.Mlm.SoundManager.Controller;
        nge.soundManager.init();
        nge.transport = new nge.Mlm.Transport.Controller;
        nge.transport.init();
        nge.keyboard = new nge.Lib.Keyboard;
        nge.observer.add("StatesManager.create.end", function() {
            nge.keyboard.subscribe()
        }, !1, !0);
        nge.resolutionsManager = new nge.Mlm.ResolutionsManager.Controller;
        nge.resolutionsManager.init();
        nge.animator = new nge.Mlm.Animator.Controller;
        nge.animator.init();
        nge.assets.init();
        nge.objects.init();
        nge.brain = nge.App.getInstance("Mlm.Brain.Controller");
        nge.brain.init();
        nge.cheatsManager = nge.App.getInstance("Mlm.CheatsManager.Controller");
        nge.cheatsManager.init();
        nge.api = new nge.Lib.Api;
        var e, f = function() {
            e = setTimeout(function() {
                clearTimeout(e);
                nge.observer.fire("window.resize")
            }, 500)
        };
        nge.game.scale.onFullScreenChange.add(f);
        $(window).resize(f);
        document.addEventListener("visibilitychange",
            function() {
                nge.observer.fire("window.visibilitychange", document.visibilityState)
            });
        nge.userInfoHTML("run game");
        nge.spine.Plugin.init();
        nge.Cfg.Main.mobile || nge.Cfg.Main.forceUpdate || nge.observer.add("window.visibilitychange", nge.phaserAdapter.forcePC, !1, !0);
        d();
        nge.localData.set("states", {
            demo: ["demo"],
            load: ["load"],
            loadAssets: ["loadAssets"],
            play: ["play"]
        });
        a();
        c ? c.run() : nge.statesManager.display("load");
        return !0
    };
    var d = function() {
            if (!nge.Lib.Helper.mobileAndTabletCheck()) return !1;
            var a = "Android" ===
                nge.Lib.Helper.getOsAndVersion().os ? new NoSleepAndroid : new NoSleep;
            var b = !1,
                d = function() {
                    b || (a.enable(), b = !0, document.removeEventListener("touchend", d, !1))
                };
            nge.observer.add("StatesManager.create.end", function(a) {
                "demo" !== a && "load" !== a && (document.addEventListener("touchend", d, !1), nge.observer.remove("StatesManager.create.end", !1, "enableNoSleep", !0))
            }, !1, "enableNoSleep", !0)
        },
        b = function() {
            nge.find = nge.objects.find;
            nge.findAll = nge.objects.findAll;
            nge.findOne = nge.objects.findOne;
            var a = new nge.Lib.RafSetTimeout;
            a.init();
            nge.rafSetTimeoutLib = a;
            nge.rafSetTimeout = a.add;
            nge.rafClearTimeout = a.clear;
            nge.App.getInstance = function(a, b, c) {
                return f({
                    path: a,
                    appOnly: b,
                    callback: function(b) {
                        "function" !== typeof b && (log("ERROR TYPE !!!"), log(a, b));
                        if (b._instance && b._instance.singleton) return b._instance;
                        var d = new b(c);
                        d.singleton && (b._instance = d);
                        return d
                    }
                })
            };
            nge.App.getPath = function(a, b, c, d) {
                return f({
                    path: a,
                    appOnly: b,
                    callback: function(a) {
                        return a
                    },
                    noModes: c,
                    modeName: d
                })
            };
            window._ = function() {
                if ("undefined" !== typeof nge.i18n.get) return nge.i18n.get.apply(nge.i18n,
                    arguments)
            };
            nge.getAtlasForTexture = function(a) {
                for (var b in nge.game.cache._cache.image)
                    if (nge.game.cache._cache.image[b].frameData.getFrameByName(a)) return nge.game.cache._cache.image[b].key;
                return null
            };
            nge.App.getSysInstancesModes = function() {
                return nge.localData.get("_sysInstancesModes") || []
            };
            nge.App.addSysInstancesMode = function(a) {
                var b = nge.App.getSysInstancesModes();
                b.push(a);
                return nge.localData.set("_sysInstancesModes", b)
            };
            nge.App.removeSysInstancesMode = function(a) {
                var b = nge.App.getSysInstancesModes();
                a = b.indexOf(a);
                if (-1 === a) return !1;
                b.splice(a, 1);
                return nge.localData.set("_sysInstancesModes", b)
            }
        },
        h = !1,
        g = !1,
        f = function(a) {
            var b = 0,
                c = 0,
                d = a.path.split("."),
                f = nge.Lib.Helper.capitaliseFirstLetter(nge.Cfg.Main.project),
                q = nge.App.getSysInstancesModes(),
                n = [];
            if (0 < q.length && q.join(", ") !== h) {
                var p;
                g = nge.Lib.Helper.arrayAllCombinations(q, !0).sort(function(a, c) {
                    p = a.length >= c.length ? a : c;
                    for (b = 0; b < p.length; b++)
                        if (a[b]) {
                            if (!c[b]) return -1;
                            if (q.indexOf(a[b]) !== q.indexOf(c[b])) return q.indexOf(a[b]) - q.indexOf(c[b])
                        } else return 1
                });
                h = q.join(", ")
            }
            var r = function(d) {
                if (!a.noModes && 0 < q.length)
                    for (b = 0; b < g.length; b++)
                        if (!a.modeName || -1 !== g[b].indexOf(a.modeName)) {
                            var e = nge.Lib.Helper.jsObjClone(d),
                                f = [];
                            for (c = 0; c < g[b].length; c++) f.push(nge.Lib.Helper.capitaliseFirstLetter(g[b][c]));
                            e.splice.apply(e, [e.length - 1, 0].concat(f));
                            n.push(e)
                        } a.modeName || n.push(d)
            };
            f = nge.Lib.Helper.mergeArrs(["nge", "App", f], d);
            r(f);
            a.appOnlyFlag || (d = nge.Lib.Helper.mergeArrs(["nge"], d), r(d));
            return nge.Lib.Checker.paths(n, a.callback)
        },
        a = function() {
            var a = nge.Cfg.Main,
                b = a.title + " v." + a.version + " - " + a.gameVersion;
            nge.localData.set("version", a.version);
          
        }
};
nge.App.RunAppBase = Class.extend(function() {
    var d;
    this.statesReplacements = this.statesExtentions = !1;
    this.run = function() {
        d = this;
        this.runDefault()
    };
    this.runDefault = function() {
        d || (d = this);
        var b = "States" + nge.Lib.Helper.capitaliseFirstLetter(nge.Cfg.Main.gameType);
        b = nge.Cfg[b];
        d.statesReplacements && (b = nge.Lib.Helper.jsObjClone(d.statesReplacements));
        if (d.statesExtentions)
            for (var h in d.statesExtentions) b[h] = b[h] ? nge.Lib.Helper.mergeArrs(b[h], d.statesExtentions[h]) : d.statesExtentions[h];
        nge.localData.set("states",
            b);
        h = nge.Lib.Helper.parseGetParams("mode") || nge.Cfg.Main.mode;
        "test" !== h && ("history" === h ? nge.statesManager.display("historyDataCollector") : nge.statesManager.display("load"));
        nge.setStatisticsHandlers();
        return !0
    }
});
nge.Com = {};
nge.Com.Base = Class.extend(function() {
    var d = {};
    this.preload = function() {
        this.preloadDefault()
    };
    this.create = function() {
        this.createDefault();
        this.animateDefault()
    };
    this.preloadDefault = function(b, h) {
        b || (b = "Tpl");
        if ("object" === typeof b) {
            var g = b;
            b = "Tpl"
        }
        var f = this.comName,
            a = nge.statesManager.getCurrentName();
        g || (g = this.getInstance(b, !1, h));
        if (d[b] = g)
            if (g.styles && (window.mt.data.styles = nge.Lib.Helper.objectApply(window.mt.data.styles, g.styles)), g.assets && g.assets.contents && 0 < g.assets.contents.length && 0 ===
                window.mt.data.assets.contents.filter(function(a) {
                    return a.name === f + "Com" ? !0 : !1
                }).length && window.mt.data.assets.contents.push({
                    name: f + "Com",
                    contents: mt.tplsPathsPrepare(g.assets.contents)
                }), g.objects && g.objects.contents && 0 < g.objects.contents.length) {
                b = window.mt.data.objects;
                var c;
                (a = mt.findItemInTemplate("name", a + "State", mt.data.objects)) && (c = mt.findItemInTemplate("name", f + "Container", a));
                c && (b = c);
                b.contents || (b.contents = []);
                if (mt.findItemInTemplate("name", f + "Com", b)) return !1;
                b.contents.push({
                    type: 1,
                    id: f + "Com",
                    name: f + "Com",
                    contents: mt.tplsPathsPrepare(g.objects.contents)
                })
            }
    };
    this.createDefault = function(b) {
        b || (b = "Tpl");
        var h = this.comName;
        if (!mt.findItemInTemplate("name", h + "Com", mt.data.objects)) return !1;
        if ((b = d[b]) && b.objects && b.objects.contents && 0 < b.objects.contents.length) {
            b = nge.statesManager.getCurrentName();
            mt.findItemInTemplate("name", b + "State", mt.data.objects);
            if (b = mt.findItemInTemplate("name", b + "State", mt.data.objects)) var g = mt.findItemInTemplate("name", h + "Container", b);
            g || nge.objects.create(h +
                "Com")
        }
    };
    this.animateDefault = function() {
        var b = this.getInstance("Animator");
        if (b && b.firstCreation) {
            var d = nge.localData.get("Com.Base.animateDefault.promisesArr"),
                g = !0;
            d || (g = !1, d = []);
            var f = new $.Deferred;
            d.push(f.promise());
            g || (nge.observer.fire("Com.Base.animateDefault.start"), nge.localData.set("Com.Base.animateDefault.promisesArr", d), $.when.apply($, d).done(function() {
                nge.localData.set("Com.Base.animateDefault.promisesArr", null);
                nge.observer.fire("Com.Base.animateDefault.end")
            }));
            b.firstCreation(function() {
                f.resolve()
            })
        }
    }
});
nge.Com.AutoSpinButton = {};
nge.Com.AutoSpinButton._Package = {
    name: "com.autoSpinButton",
    version: 1,
    requirments: {
        js: []
    }
};
nge.Com.AutoSpinButton.Controller = nge.Com.Base.extend(function() {
    var d;
    this.create = function() {
        this.createDefault();
        d || (nge.observer.add("autospinButton.enable", b), nge.observer.add("autospinButton.disable", h), nge.observer.add("slotMachine.spinComplete", g), nge.observer.add("freeGames.show", g));
        d = !0
    };
    var b = function() {
            var b = nge.localData.get("autospin.inProgress"),
                a = nge.localData.get("freespin.inProgress"),
                c = nge.localData.get("freeGame.inProgress"),
                d = nge.localData.get("balance.totalAmount") < nge.localData.get("totalBet.value");
            if (b || a || c || d) return !1;
            nge.find("^btn_autospin").enable();
            nge.find("^btn_autospin_text1").removeClass("disableText");
            nge.find("^btn_autospin_text2").removeClass("disableText")
        },
        h = function() {
            var b = nge.find("^btn_autospin"),
                a = nge.localData.get("autospin.inProgress"),
                c = nge.localData.get("freespin.inProgress");
            a ? (b.disable(3), nge.find("^btn_autospin_text1").removeClass("disableText"), nge.find("^btn_autospin_text2").removeClass("disableText")) : c ? (b.disable(5), nge.find("^btn_autospin_text1").removeClass("disableText"),
                nge.find("^btn_autospin_text2").removeClass("disableText")) : (b.disable(4), nge.find("^btn_autospin_text1").addClass("disableText"), nge.find("^btn_autospin_text2").addClass("disableText"))
        },
        g = function() {
            var d = nge.localData.get("autospin.inProgress"),
                a = nge.localData.get("freespin.inProgress");
            if (!d && !a) {
                d = nge.localData.get("freeGame.inProgress");
                a = nge.find("^autospinTextContainer");
                var c = nge.find("^autospinSpinsLeftText");
                d && 0 < nge.localData.get("freeGame.amount") ? (a.visible = !1, c.text = nge.localData.get("freeGame.amount"),
                    c.alpha = 1) : (a.visible = !0, c.alpha = 0, b())
            }(d = nge.localData.get("slotMachine.slotWin.linePickBonus")) && 0 < d.length && h()
        }
});
nge.Com.Autospin = {};
nge.Com.Autospin._Package = {
    name: "com.autospin",
    version: 1,
    requirments: {
        js: []
    }
};
nge.Com.Autospin.Controller = nge.Com.Base.extend(function() {
    var d, b, h, g;
    this.create = function() {
        h = this;
        this.createDefault();
        b || (nge.observer.add("autospin.show", f), nge.observer.add("autospin.close", a), h.customSubscribe());
        nge.find("^stopButton").visible = !1;
        nge.localData.set("autospin.stopRequest", !1);
        nge.localData.get("autospin.paused") && m();
        nge.localData.set("autospin.spins", 10);
        return b = !0
    };
    this.show = function() {
        f();
        return !0
    };
    var f = function() {
            var a = nge.find("^playState"),
                b = nge.find("^autospinContainer");
            a.bringToTop(b);
            nge.find("^autospinPopupContainer").visible = !0;
            nge.observer.fire("autospin.opened");
            return !0
        },
        a = function() {
            nge.find("^autospinPopupContainer").visible = !1;
            nge.observer.fire("autospin.closed");
            return !0
        },
        c = function(a) {
            for (var b = 10; 50 >= b; b += 10) {
                var c = nge.find("^autospinTabSpins_" + b),
                    d = nge.find("^tab_spins_text_" + b);
                b === a ? (c.disable(3), d.fill = "white") : (c.enable(1), d.fill = "#26a5b8")
            }
            nge.localData.set("autospin.spins", a)
        },
        e = function(a) {
            var b = nge.localData.get("autospin.checkbox_" + a + ".checked");
            k(!b, a)
        },
        k = function(a, b) {
            var c = nge.find("^autospinCheck_" + b),
                d = nge.find("^autospinMoneyActive_" + b),
                e = nge.find("^textMoney_" + b),
                f = nge.find("^textEuro_" + b);
            a ? (nge.localData.set("autospin.checkbox_" + b + ".checked", !0), c.alpha = 1, d && (d.frame = 1, d.input.enabled = !0, d._onDownFrame = 0, d._onOutFrame = 1, d._onOverFrame = 2, f.fill = "white", e.text = nge.localData.get("autospin.checkbox_" + b + ".value"), e.alpha = 1)) : (nge.localData.set("autospin.checkbox_" + b + ".checked", !1), c.alpha = 0, d && (d.frame = 3, d.input.enabled = !1, f.fill = "#26a5b8",
                e.alpha = 0))
        },
        l = function() {
            var a = nge.localData.get("autospin.spins");
            c(a);
            for (a = 0; 4 > a; a++) {
                var b = nge.localData.get("autospin.checkbox_" + a + ".checked");
                k(b, a)
            }
        },
        m = function() {
            if (nge.localData.get("autospin.paused")) nge.localData.set("autospin.paused", !1);
            else {
                var a = nge.localData.get("balance");
                nge.localData.set("autospin.startBalance", a);
                nge.localData.set("autospin.totalWin", 0);
                a = nge.localData.get("autospin.spins");
                nge.localData.set("autospin.spinsLeft", a)
            }
            nge.localData.set("autospin.stopRequest", !1);
            nge.localData.set("autospin.inProgress", !0);
            nge.observer.fire("autospin.close");
            nge.observer.fire("slotMachine.spinCommand");
            nge.observer.fire("buttons.autospinMode");
            a = nge.find("^autospinTextContainer");
            var b = nge.find("^autospinSpinsLeftText");
            a.visible = !1;
            b.text = nge.localData.get("autospin.spinsLeft");
            b.alpha = 1
        },
        q = function(a) {
            if (!nge.localData.get("autospin.inProgress")) return !1;
            nge.localData.get("autospin.inProgress");
            var b = nge.localData.get("autospin.spinsLeft");
            b--;
            var c = nge.find("^autospinSpinsLeftText");
            nge.localData.set("autospin.spinsLeft", b);
            c.text = b;
            c = a.slotWin.totalWin;
            var d = c + nge.localData.get("autospin.totalWin");
            nge.localData.set("autospin.currentWin", c);
            nge.localData.set("autospin.totalWin", d);
            g = a.slotWin.linePickBonus;
            0 >= b && n();
            a = nge.localData.get("autospin.checkbox_1");
            a.checked && c > a.value && n()
        },
        n = function() {
            nge.localData.set("autospin.stopRequest", !0)
        },
        p = function() {
            if (!nge.localData.get("autospin.inProgress")) return !1;
            nge.localData.set("autospin.inProgress", !1);
            nge.localData.set("autospin.paused",
                !1);
            nge.localData.set("autospin.spinsLeft", 0);
            var a = nge.find("^autospinSpinsLeftText");
            nge.find("^autospinTextContainer").visible = !0;
            a.alpha = 0;
            nge.observer.fire("autospin.end")
        },
        r = function() {
            if (!nge.localData.get("autospin.inProgress")) return !1;
            nge.localData.get("autospin.stopRequest") && p();
            g && 0 < g.length && (nge.localData.get("autospin.checkbox_0").checked && "FreeSpinReady" === g[0].bonusName ? (n(), p(), nge.observer.fire("spinButton.disable")) : (nge.localData.set("autospin.paused", !0), nge.localData.set("autospin.inProgress",
                !1)));
            d = !0
        },
        u = function() {
            if (!nge.localData.get("autospin.inProgress")) return !1;
            var a = nge.localData.get("autospin.inProgress"),
                b = nge.localData.get("balance"),
                c = nge.localData.get("totalBet").value;
            if (!d || !a) return !1;
            d = !1;
            a = nge.localData.get("autospin.startBalance");
            var e = nge.localData.get("autospin.checkbox_2"),
                f = nge.localData.get("autospin.checkbox_3");
            e.checked && b.totalAmount - a.totalAmount > e.value ? (log("stopping autospin as win is bigger than specified"), p()) : f.checked && a.totalAmount - b.totalAmount >
                f.value ? (log("stopping autospin as loose is bigger than specified"), p()) : b.totalAmount < c ? (p(), nge.rafSetTimeout(function() {
                    nge.observer.fire("spinButton.disable")
                }, 500)) : nge.rafSetTimeout(function() {
                    nge.observer.fire("slotMachine.spinCommand")
                }, 500)
        },
        t = function() {
            "SpinRequest" === nge.localData.get("spin.type") && nge.localData.get("autospin.paused") && 0 < nge.localData.get("autospin.spinsLeft") && m()
        };
    this.customSubscribe = function() {
        nge.observer.add("autoSpinCheckbox.press", e, "change_checkboxes");
        nge.observer.add("autoSpinSpins.press",
            c, "change_spins");
        nge.observer.add("autospin.opened", l, "open_autospin");
        nge.observer.add("autospin.start", m, "start_autospin");
        nge.observer.add("slotMachine.spinResponse", q, "response_autospin");
        nge.observer.add("slotMachine.spinComplete", r);
        nge.observer.add("balance.amount", u, "complete_autospin");
        nge.observer.add("freespin.end", t);
        nge.observer.add("autospin.stopRequest", n);
        nge.observer.add("autoSpinMoney.press", function(b) {
            var c = nge.find("^textMoney_" + b);
            $("<input>").attr("id", "autospinCheckbox_" +
                b).attr("maxlength", 5).css("position", "absolute").css("left", "-15px").css("top", "-15px").css("width", "5px").css("height", "5px").keyup(a).appendTo("body").focus().focusout(function(a) {
                $(this).remove()
            }).val(c.text.replace(".", ""))
        }, "tabs_lights");
        var a = function(a) {
            a.target.value = a.target.value.replace(/[^0-9]/g, "");
            var b = a.target.id;
            b = b.substring(b.lastIndexOf("_") + 1, b.length);
            var c = nge.find("^textMoney_" + b);
            c.text = nge.Lib.Validator.moneyWithPeriod(a.target.value);
            nge.localData.set("autospin.checkbox_" +
                b + ".value", c.text)
        };
        return !0
    }
});
nge.Com.Autospin.Tpl = function() {
    for (var d = [], b = 0, h = nge.localData.get("slotMachine.gameParameters.freeSpins"), g = 0; 4 > g; g++) nge.localData.set("autospin.checkbox_" + g + ".checked", 0 === g), 0 < g && nge.localData.set("autospin.checkbox_" + g + ".value", "5.00");
    nge.localData.set("autospin.spins", 10);
    for (g = 10; 50 >= g; g += 10) d.push({
        x: 68 + b,
        y: 17,
        type: 2,
        style: {
            font: "bold 64px 'freesetboldc'",
            fill: 10 === g ? "white" : "#26a5b8",
            align: "left",
            stroke: "black",
            strokeThickness: 0
        },
        align: "left",
        isVisible: !0,
        text: g,
        id: "tab_spins_text_" + g,
        name: "tab_spins_text_" + g,
        fullPath: "tab_spins_text" + g
    }), b += 204;
    var f = [],
        a = ["If free spins are won", "On any win more than", "If balance increases by", "If balance decreases by"];
    for (g = b = 0; 4 > g; g++) f.push({
        assetId: "check.png_" + g,
        x: -10,
        y: b,
        type: 0,
        alpha: 0 === g ? 1 : 0,
        isVisible: !0,
        width: 96,
        height: 76,
        id: "autospinCheck_" + g,
        name: "autospinCheck_" + g,
        assetKey: "img/autospin/check.png"
    }, {
        x: 110,
        y: 5 + b,
        type: 2,
        style: {
            fontFamily: "freesetboldc",
            fontSize: 60,
            font: "bold 60px 'freesetboldc'",
            fill: "#26a5b8",
            align: "left",
            stroke: "black"
        },
        align: "left",
        isVisible: !0,
        text: a[g],
        id: "autospinsText_" + g,
        name: "autospinsText_" + g
    }, {
        assetId: "checkbox.png_" + g,
        y: b,
        type: 4,
        isVisible: 1,
        width: 80,
        height: 80,
        id: "img/autospin/checkbox_" + g,
        name: "img/autospin/checkbox_" + g,
        action: "function () {nge.observer.fire('autoSpinCheckbox.press', " + g + ");}",
        btnFrames: {
            over: 2,
            out: 1,
            down: 0
        },
        assetKey: "img/autospin/checkbox.png",
        pixelPerfectOver: !1,
        pixelPerfectClick: !1
    }), b += 113;
    h || (f = f.slice(-9));
    h = [];
    b = 0;
    for (g = 1; 4 > g; g++) h.push({
        x: 25,
        y: 42 + b,
        type: 2,
        anchorY: .5,
        style: {
            font: "bold 50px 'freesetboldc'",
            fill: "#26a5b8",
            align: "left",
            stroke: "black"
        },
        isVisible: !0,
        text: nge.localData.get("currency"),
        id: "textEuro_" + g,
        name: "textEuro_" + g
    }, {
        x: 215,
        y: 42 + b,
        z: 0,
        type: 2,
        anchorX: 1,
        anchorY: .5,
        style: {
            font: "bold 50px 'freesetboldc'",
            fill: "white",
            align: "left",
            stroke: "black"
        },
        isVisible: !0,
        text: "5.00",
        id: "textMoney_" + g,
        name: "textMoney_" + g
    }, {
        assetId: "money_active.png_" + g,
        y: b,
        type: 4,
        frame: 3,
        isVisible: !0,
        enabled: !1,
        width: 256,
        height: 84,
        id: "autospinMoneyActive_" + g,
        name: "autospinMoneyActive_" + g,
        action: "function () {nge.observer.fire('autoSpinMoney.press', " +
            g + ");}",
        btnFrames: {
            over: 2,
            out: 1,
            down: 0
        },
        assetKey: "img/autospin/money_active.png"
    }), b += 113;
    return {
        assets: {
            name: "assets",
            contents: [{
                fullPath: "img/black-bg.png",
                key: "/black-bg.png",
                qualityObeys: !1
            }, {
                fullPath: "img/autospin/popup_bg.png",
                key: "img/autospin/popup_bg.png",
                width: 1752,
                height: 1096
            }, {
                fullPath: "img/autospin/btn_cancel.png",
                key: "img/autospin/btn_cancel.png",
                width: 1020,
                height: 116,
                frameWidth: 340,
                frameHeight: 116
            }, {
                fullPath: "img/autospin/btn_start.png",
                key: "img/autospin/btn_start.png",
                width: 1020,
                height: 116,
                frameWidth: 340,
                frameHeight: 116
            }, {
                fullPath: "img/autospin/check.png",
                key: "img/autospin/check.png",
                width: 288,
                height: 76,
                frameWidth: 96,
                frameHeight: 76
            }, {
                fullPath: "img/autospin/checkbox.png",
                key: "img/autospin/checkbox.png",
                width: 240,
                height: 80,
                frameWidth: 80,
                frameHeight: 80
            }, {
                fullPath: "img/autospin/money_active.png",
                key: "img/autospin/money_active.png",
                width: 1024,
                height: 84,
                frameWidth: 256,
                frameHeight: 84
            }, {
                fullPath: "img/autospin/money_normal.png",
                key: "img/autospin/money_normal.png",
                width: 1024,
                height: 84,
                frameWidth: 256,
                frameHeight: 84
            }, {
                fullPath: "img/autospin/separator.png",
                key: "img/autospin/separator.png",
                qualityObeys: !1
            }, {
                fullPath: "img/autospin/tab_spins_center.png",
                key: "img/autospin/tab_spins_center.png",
                width: 816,
                height: 108,
                frameWidth: 204,
                frameHeight: 108
            }, {
                fullPath: "img/autospin/tab_spins_left.png",
                key: "img/autospin/tab_spins_left.png",
                width: 816,
                height: 108,
                frameWidth: 204,
                frameHeight: 108
            }, {
                fullPath: "img/autospin/tab_spins_right.png",
                key: "img/autospin/tab_spins_right.png",
                width: 816,
                height: 108,
                frameWidth: 204
            }]
        },
        objects: {
            name: "objects",
            contents: [{
                id: "autospinPopupContainer",
                name: "autospinPopupContainer",
                x: 149,
                y: 221,
                type: 1,
                contents: [{
                        x: 1085,
                        y: 917,
                        type: 2,
                        anchorX: .5,
                        anchorY: .5,
                        style: {
                            font: "bold 60px 'freesetboldc'",
                            fill: "#ffffff",
                            align: "left"
                        },
                        isVisible: !0,
                        text: "START",
                        name: "startText"
                    }, {
                        x: 665,
                        y: 917,
                        type: 2,
                        anchorX: .5,
                        anchorY: .5,
                        style: {
                            font: "bold 60px 'freesetboldc'",
                            fill: "#26a5b8",
                            align: "left"
                        },
                        isVisible: !0,
                        text: "CANCEL",
                        name: "cancelText"
                    }, {
                        assetId: "btn_start.png",
                        x: 915,
                        y: 860,
                        type: 4,
                        isVisible: 1,
                        name: "img/autospin/btn_start",
                        action: "function () {nge.observer.fire('autospin.start');}",
                        btnFrames: {
                            over: 1,
                            out: 2,
                            down: 1
                        },
                        assetKey: "img/autospin/btn_start.png"
                    }, {
                        x: 495,
                        y: 860,
                        type: 4,
                        isVisible: 1,
                        name: "img/autospin/btn_cancel",
                        action: "function () {nge.observer.fire('autospin.close');}",
                        btnFrames: {
                            over: 1,
                            out: 2,
                            down: 1
                        },
                        assetKey: "img/autospin/btn_cancel.png"
                    }, {
                        name: "autospinSpinsTextContainer",
                        x: 601,
                        y: 84,
                        type: 1,
                        contents: d,
                        isVisible: 1
                    }, {
                        id: "autospinMoneyContainer",
                        name: "autospinMoneyContainer",
                        x: 1333,
                        y: 447,
                        type: 1,
                        contents: h,
                        isVisible: 1
                    },
                    {
                        assetId: "separator.png",
                        x: 142,
                        y: 265,
                        type: 0,
                        isVisible: 1,
                        width: 1463,
                        height: 4,
                        assetKey: "img/autospin/separator.png"
                    }, {
                        id: "autospinSpinsContainer",
                        name: "autospinSpinsContainer",
                        x: 601,
                        y: 84,
                        type: 1,
                        contents: [{
                            assetId: "spins10",
                            type: 4,
                            frame: 3,
                            isVisible: 1,
                            id: "autospinTabSpins_10",
                            name: "autospinTabSpins_10",
                            action: "function () {nge.observer.fire('autoSpinSpins.press', 10);}",
                            btnFrames: {
                                over: 1,
                                out: 2,
                                down: 1
                            },
                            assetKey: "img/autospin/tab_spins_left.png"
                        }, {
                            assetId: "spins20",
                            x: 204,
                            type: 4,
                            isVisible: 1,
                            name: "autospinTabSpins_20",
                            action: "function () {nge.observer.fire('autoSpinSpins.press', 20);}",
                            btnFrames: {
                                over: 2,
                                out: 1,
                                down: 0
                            },
                            assetKey: "img/autospin/tab_spins_center.png"
                        }, {
                            assetId: "spins30",
                            x: 408,
                            type: 4,
                            isVisible: 1,
                            id: "autospinTabSpins_30",
                            name: "autospinTabSpins_30",
                            action: "function () {nge.observer.fire('autoSpinSpins.press', 30);}",
                            btnFrames: {
                                over: 2,
                                out: 1,
                                down: 0
                            },
                            assetKey: "img/autospin/tab_spins_center.png"
                        }, {
                            assetId: "spins40",
                            x: 612,
                            type: 4,
                            isVisible: 1,
                            id: "autospinTabSpins_40",
                            name: "autospinTabSpins_40",
                            action: "function () {nge.observer.fire('autoSpinSpins.press', 40);}",
                            btnFrames: {
                                over: 2,
                                out: 1,
                                down: 0
                            },
                            assetKey: "img/autospin/tab_spins_center.png"
                        }, {
                            assetId: "spins50",
                            x: 816,
                            type: 4,
                            isVisible: 1,
                            id: "autospinTabSpins_50",
                            name: "autospinTabSpins_50",
                            action: "function () {nge.observer.fire('autoSpinSpins.press', 50);}",
                            btnFrames: {
                                over: 2,
                                out: 1,
                                down: 0
                            },
                            assetKey: "img/autospin/tab_spins_right.png"
                        }],
                        isVisible: 1
                    }, {
                        id: "autospinSpinsCheckboxContainer",
                        name: "autospinSpinsCheckboxContainer",
                        x: 501,
                        y: 335,
                        type: 1,
                        contents: f,
                        isVisible: 1
                    }, {
                        x: 139,
                        y: 97,
                        type: 2,
                        style: {
                            font: "bold 72px 'freesetboldc'",
                            fill: "#26a5b8",
                            align: "left",
                            stroke: "black"
                        },
                        isVisible: !0,
                        text: "Spins"
                    }, {
                        x: 139,
                        y: 318,
                        type: 2,
                        style: {
                            font: "bold 72px 'freesetboldc'",
                            fill: "#26a5b8",
                            align: "left",
                            stroke: "black"
                        },
                        isVisible: !0,
                        text: "Stop"
                    }, {
                        x: 139,
                        y: 401,
                        type: 2,
                        style: {
                            font: "bold 72px 'freesetboldc'",
                            fill: "#26a5b8",
                            align: "left",
                            stroke: "black"
                        },
                        isVisible: !0,
                        text: "Autoplay"
                    }, {
                        assetId: "214",
                        x: 43,
                        y: 5,
                        type: 0,
                        isVisible: 1,
                        width: 227,
                        height: 170,
                        assetKey: "img/autospin/popup_bg.png"
                    }, {
                        x: -149,
                        y: -221,
                        name: "black-bg4",
                        inputEnabled: !0,
                        scaleX: 205,
                        scaleY: 154,
                        alpha: .75,
                        isVisible: 1,
                        width: 10,
                        height: 10,
                        assetKey: "/black-bg.png"
                    }
                ],
                isVisible: !1
            }]
        }
    }
};
nge.Com.Balance = {};
nge.Com.Balance._Package = {
    name: "com.balance",
    version: 1,
    requirments: {
        js: ["com/balance/controller"]
    }
};
nge.Com.Balance.Controller = nge.Com.Base.extend(function() {
    var d;
    this.create = function() {
        this.createDefault();
        var g = nge.localData.get("balance");
        g && h(g);
        d || nge.observer.add("balance.amount", b);
        return d = !0
    };
    var b = function(b) {
            if ("object" !== typeof b) return !1;
            var d = nge.localData.get("totalBet.value");
            b.totalAmount < d && (nge.observer.fire("spinButton.disable"), nge.observer.fire("autospinButton.disable"), nge.observer.fire("pokerButton.disable"), nge.observer.fire("kenoButton.disable"), nge.observer.fire("infoPanel.show",
                "NOT ENOUGH MONEY TO SPIN"));
            h(b);
            nge.localData.set("balance.totalAmount", b.totalAmount);
            return !0
        },
        h = function(b) {
            var d = nge.findAll(".balanceNumber"),
                a;
            for (a in d) d[a].text = parseFloat(b.totalAmount).toFixed(2);
            if (b.currency)
                for (a in d = nge.findAll(".currency"), d) d[a].text = b.currency
        }
});
nge.Com.Balance.Tpl = function() {
    return {
        styles: {
            "^container .text": {
                style: {
                    font: '36pt "freesetboldc"',
                    fill: "#fff",
                    align: "left"
                }
            }
        },
        assets: {
            name: "assets",
            contents: []
        },
        objects: {
            name: "objects",
            contents: [{
                id: "balanceAdds",
                name: "balanceAdds",
                type: 1,
                isVisible: 1,
                contents: []
            }]
        }
    }
};
nge.Com.BalanceBonus = {};
nge.Com.BalanceBonus._Package = {
    name: "com.balanceBonus",
    version: 1,
    requirments: {
        js: ["com/balanceBonus/controller"]
    }
};
nge.Com.BalanceBonus.Controller = nge.Com.Base.extend(function() {});
nge.Com.BalanceBonus.Tpl = function() {
    return {
        styles: {
            "^balanceBonusWrapper .text": {
                style: {
                    font: '36pt "freesetboldc"',
                    fill: "#fff",
                    align: "left"
                }
            }
        },
        assets: {
            name: "assets",
            contents: []
        },
        objects: {
            name: "objects",
            contents: [{
                id: "balanceBonusWrapper",
                name: "balanceBonusWrapper",
                type: 1,
                isVisible: 1,
                contents: [{
                    id: "balanceBonusAmount",
                    name: "balanceBonusAmount",
                    x: 350,
                    "class": "text",
                    type: 2,
                    anchorX: 1,
                    isVisible: !0,
                    text: "0"
                }, {
                    id: "balanceBonusTitle",
                    name: "balanceBonusTitle",
                    "class": "text",
                    type: 2,
                    isVisible: !0,
                    text: "Bonus:"
                }]
            }]
        }
    }
};
nge.Com.Bet = {};
nge.Com.Bet._Package = {
    name: "com.bet",
    version: 1,
    requirments: {
        js: ["com/bet/controller"]
    }
};
nge.Com.Bet.Controller = nge.Com.Base.extend(function() {
    var d, b;
    this.create = function() {
        this.createDefault();
        b = this;
        var k = nge.localData.get("bet.cfg");
        nge.localData.set("maxBetValue", k[k.length - 1]);
        h();
        d || (nge.observer.add("brain.openGameSuccess", h), nge.observer.add("bet.down", a), nge.observer.add("bet.up", c), nge.observer.add("bet.downNC", g), nge.observer.add("bet.upNC", f), nge.observer.add("bet.set", b.setVal), nge.observer.add("bet.update", h), nge.observer.add("maxbet.go", e), b.customSubscribe());
        return d = !0
    };
    this.customSubscribe = function() {};
    var h = function() {
            var a = nge.localData.get("bet.cfg");
            if (!a) return !1;
            var c = nge.localData.get("bet.value");
            c || (c = a[0]);
            b.setVal(c);
            return !0
        },
        g = function(b) {
            a(!0)
        },
        f = function(a) {
            c(!0)
        },
        a = function(a) {
            var c = nge.localData.get("bet.value"),
                d = nge.localData.get("bet.cfg");
            if (!c) return !1;
            c = d.indexOf(c);
            c--;
            d[c] || (c = a ? 0 : d.length - 1);
            c = d[c];
            b.setVal(c);
            return !0
        },
        c = function(a) {
            var c = nge.localData.get("bet.value"),
                d = nge.localData.get("bet.cfg");
            if (!c) return !1;
            c = d.indexOf(c);
            c++;
            d[c] || (c = a ? d.length - 1 : 0);
            c = d[c];
            b.setVal(c);
            return !0
        };
    this.setVal = function(a) {
        var b = nge.findAll(".betNumber"),
            c;
        for (c in b) b[c].text = a;
        nge.localData.set("bet.value", a);
        nge.observer.fire("bet.change", a)
    };
    var e = function() {
        var a = nge.localData.get("maxBetValue");
        nge.observer.fire("bet.set", a)
    }
});
nge.Com.BigWin = {};
nge.Com.BigWin._Package = {
    name: "com.bigWin",
    version: 1,
    requirments: {
        js: ["com/bigWin/controller"]
    }
};
nge.Com.BigWin.Controller = nge.Com.Base.extend(function() {
    var d, b, h = nge.localData.get("currency"),
        g, f = !1,
        a = 1,
        c, e = ["_rotateSun"],
        k = [
            ["_popupDisplay"],
            ["_bigWinTxt120"],
            ["_bigWinTxt100", "_showSun", "_showDots"],
            ["_amountShow", "_amountUpdate", "_starsShow"],
            ["_setAmount", "_popupHide"],
            ["_animationFinish"]
        ],
        l = 0,
        m = [],
        q = 0;
    this.create = function() {
        d = this;
        a = nge.assets.getQualityFactor();
        this.createDefault();
        b || (nge.observer.add("bigWin", p), nge.observer.add("jackPot", n));
        return b = !0
    };
    var n = function(a) {
            c = "jackpot_txt";
            r(a)
        },
        p = function(a) {
            c = "big_win_txt";
            r(a)
        },
        r = function(a) {
            f = !0;
            g = a;
            nge.find("#" + c).visible = !0;
            nge.observer.fire("bigWinAnimation.start");
            nge.find("^playState").cacheAsBitmap = !0;
            for (var b in e) d[e[b]]();
            u(0)
        },
        u = function(a) {
            if (!k[a]) return !1;
            var b = k[a];
            l = a;
            m = b;
            q = 0;
            for (var c in b) d[b[c]]()
        },
        t = function() {
            q++;
            m.length === q && u(l + 1)
        };
    this._rotateSun = function() {
        var a = nge.find("#sun");
        if (!f) return !1;
        a.angle = 0;
        a = nge.tween.add(a);
        a.to({
            angle: 360
        }, 3E3, nge.Lib.Tween.Easing.Linear.None, !1, 0);
        a.repeatCounter = 2;
        a.start()
    };
    this._popupDisplay = function() {
        var a = nge.find("#bigWinWrapperContainer"),
            b = nge.find("#bigWinAmount"),
            c = nge.find("#bigWinAmountContainer");
        a.visible = !0;
        a.alpha = 1;
        c.x = nge.game.world.width / 2;
        c.y = nge.game.world.height / 2;
        c.scale.x = .01;
        c.scale.y = .01;
        c.visible = !0;
        b.text = 0;
        a = nge.tween.add(c);
        a.to({
            x: 0,
            y: 0,
            scaleX: 1,
            scaleY: 1
        }, 500, nge.Lib.Tween.Easing.Linear.None, !1, 0);
        a.onComplete.add(t, this);
        a.start()
    };
    this._bigWinTxt120 = function() {
        var b = nge.find("#" + c);
        b = nge.tween.add(b);
        b.to({
            y: 300,
            scaleX: 1.5 / a,
            scaleY: 1.5 /
                a
        }, 100, nge.Lib.Tween.Easing.Linear.None, !1, 0);
        b.onComplete.add(t, this);
        b.start()
    };
    this._bigWinTxt100 = function() {
        var b = nge.find("#" + c);
        b = nge.tween.add(b);
        b.to({
            y: 400,
            scaleX: 1 / a,
            scaleY: 1 / a
        }, 100, nge.Lib.Tween.Easing.Linear.None, !1, 0);
        b.onComplete.add(t, this);
        b.start()
    };
    this._showSun = function() {
        var a = nge.find("#sun");
        a.visible = !0;
        a = nge.tween.add(a);
        a.to({
            alpha: 1
        }, 100, nge.Lib.Tween.Easing.Linear.None, !1, 0);
        a.onComplete.add(t, this);
        a.start()
    };
    this._showDots = function() {
        var b = nge.find("#dots");
        b.visible = !0;
        b.scaleX = 0;
        b.scaleY = 0;
        b.x = 1037;
        b.y = 905;
        var c = nge.tween.add(b);
        c.to({
            x: 455,
            y: 725,
            scaleX: 1,
            scaleY: 1
        }, 500, nge.Lib.Tween.Easing.Linear.None, !1, 0);
        c.onComplete.add(t, this);
        c.start();
        for (b = 0; 33 > b; b++) c = nge.find("#money_dot_big_" + b), c = nge.tween.add(c), c.to({
            scaleX: 1.5 / a,
            scaleY: 1.5 / a
        }, 200, nge.Lib.Tween.Easing.Linear.None, !1, 500 + 200 * b).to({
            scaleX: 1 / a,
            scaleY: 1 / a
        }, 200, nge.Lib.Tween.Easing.Linear.None, !1, 0), c.start()
    };
    this._amountShow = function() {
        var a = nge.find("#bigWinAmount");
        a.visible = !0;
        a.scale.x = 0;
        a.scale.y =
            0;
        a = nge.tween.add(a.scale);
        a.to({
            x: 1,
            y: 1
        }, 1E3, nge.Lib.Tween.Easing.Linear.None, !1, 0);
        a.onComplete.add(t, this);
        a.start()
    };
    this._amountUpdate = function() {
        var a = nge.find("#bigWinAmount");
        a = nge.tween.add(a);
        a.to({
            text: g
        }, 5E3, nge.Lib.Tween.Easing.Linear.None, !1, 0);
        a.onUpdateCallback(function(a, b, c) {
            v(c.percent * c.vEnd.text)
        }, this);
        a.onComplete.add(t, this);
        a.start()
    };
    this._starsShow = function() {
        nge.find("#stars").visible = !0;
        var b = nge.find("#stars_bg");
        b.visible = !0;
        b.scaleX = 0;
        b.scaleY = 0;
        b = nge.tween.add(b);
        b.to({
            scaleX: 1.2 / a,
            scaleY: 1.2 / a
        }, 1E3, nge.Lib.Tween.Easing.Linear.None, !1, 500).to({
            scaleX: 1 / a,
            scaleY: 1 / a
        }, 200, nge.Lib.Tween.Easing.Linear.None, !1, 0);
        b.onComplete.add(t, this);
        b.start();
        b = function(b, c) {
            var d = nge.find("#" + b);
            b = d.x;
            var e = d.y;
            d.visible = !0;
            d.x = 1036;
            d.y = 690;
            d.scaleX = 0;
            d.scaleY = 0;
            d = nge.tween.add(d);
            d.to({
                x: b,
                y: e,
                scaleX: 1.5 / a,
                scaleY: 1.5 / a
            }, 1E3, nge.Lib.Tween.Easing.Linear.None, !1, c).to({
                scaleX: 1 / a,
                scaleY: 1 / a
            }, 200, nge.Lib.Tween.Easing.Linear.None, !1, 0);
            d.start()
        };
        b("star_left_top", 100);
        b("star_right_top",
            100);
        b("star_left_center", 450);
        b("star_right_center", 350);
        b("star_left_bottom", 800);
        b("star_right_bottom", 950)
    };
    this._setAmount = function() {
        v(g);
        t()
    };
    this._popupHide = function() {
        var a = nge.find("#bigWinWrapperContainer");
        a = nge.tween.add(a);
        a.to({
            alpha: 0
        }, 500, nge.Lib.Tween.Easing.Linear.None, !1, 3E3);
        a.onComplete.addOnce(t, this);
        a.start()
    };
    this._animationFinish = function() {
        f = !1;
        var a = nge.find("#bigWinWrapperContainer");
        nge.find("#bigWinAmountContainer").visible = !1;
        a.visible = !1;
        nge.find("#sun").visible = !1;
        nge.find("#bigWinAmount").visible = !1;
        nge.find("#stars").visible = !1;
        nge.find("#dots").visible = !1;
        nge.find("^playState").cacheAsBitmap = !1;
        nge.find("#" + c).visible = !1;
        nge.observer.fire("bigWinAnimation.end")
    };
    var v = function(a) {
        nge.find("#bigWinAmount").text = nge.Lib.Validator.floatMoney(a, !0) + h
    }
});
nge.Com.BigWin.Tpl = function() {
    var d = function() {
        var b = function(b, d) {
            for (var f = [], a = 0; a < d; a++) {
                var c = 3050 * a / d,
                    e = 0;
                1165 < c && (e = e + c - 1165, c = 1165);
                360 < e && (c -= e - 360, e = 360);
                0 > c && (e += c, c = 0);
                f.push({
                    id: b + "_" + a,
                    x: c,
                    y: e,
                    type: 0,
                    anchorX: .5,
                    anchorY: .5,
                    isVisible: !0,
                    assetKey: b
                })
            }
            return f
        };
        return nge.Lib.Helper.mergeArrs(b("money_dot_big", 33), b("money_dot_small", 115))
    }();
    return {
        styles: {
            "#bigWinWrapperContainer .bigWinAmount": {
                style: {
                    font: "285px 'freesetboldc'",
                    fill: "#00ccff",
                    stroke: "#ffffff",
                    strokeThickness: 20
                }
            }
        },
        assets: {
            name: "assets",
            contents: [{
                fullPath: "img/popup/big_Win/big_win_ref.png",
                key: "popup/big_win_ref"
            }, {
                fullPath: "img/black-bg.png",
                key: "popup/bigWinBg",
                qualityObeys: !1
            }, {
                fullPath: "img/popup/big_Win/big_win_txt.png",
                key: "popup/big_win_txt"
            }, {
                fullPath: "img/popup/big_Win/jackpot_txt.png",
                key: "popup/jackpot_txt"
            }, {
                fullPath: "img/popup/big_Win/blue_glow.png",
                key: "popup/blue_glow"
            }, {
                fullPath: "img/popup/big_Win/money_dot_big.png",
                key: "money_dot_big"
            }, {
                fullPath: "img/popup/big_Win/money_dot_small.png",
                key: "money_dot_small"
            }, {
                fullPath: "img/popup/big_Win/money_dot_box_glow.png",
                key: "popup/money_dot_box_glow"
            }, {
                fullPath: "img/popup/big_Win/sun.png",
                key: "popup/sun"
            }, {
                fullPath: "img/popup/big_Win/stars_bg.png",
                key: "popup/stars_bg"
            }, {
                fullPath: "img/popup/big_Win/star_left_bottom.png",
                key: "popup/star_left_bottom"
            }, {
                fullPath: "img/popup/big_Win/star_left_center.png",
                key: "popup/star_left_center"
            }, {
                fullPath: "img/popup/big_Win/star_left_top.png",
                key: "popup/star_left_top"
            }, {
                fullPath: "img/popup/big_Win/star_right_bottom.png",
                key: "popup/star_right_bottom"
            }, {
                fullPath: "img/popup/big_Win/star_right_center.png",
                key: "popup/star_right_center"
            }, {
                fullPath: "img/popup/big_Win/star_right_top.png",
                key: "popup/star_right_top"
            }, {
                fullPath: "img/popup/big_Win/hotspot_big_win_txt.png",
                key: "hotspot_big_win_txt"
            }, {
                fullPath: "img/popup/big_Win/hotspot_random.png",
                key: "hotspot_random"
            }]
        },
        objects: {
            name: "objects",
            contents: [{
                id: "bigWinWrapperContainer",
                type: 1,
                isVisible: !1,
                contents: [{
                    id: "bigWinAmountContainer",
                    type: 1,
                    isVisible: !1,
                    contents: [{
                            id: "bigWinAmount",
                            x: 1050,
                            y: 925,
                            anchorX: .5,
                            anchorY: .5,
                            "class": "bigWinAmount",
                            type: 2,
                            isVisible: !1,
                            text: "0"
                        }, {
                            id: "hotSpots",
                            type: 1,
                            isVisible: !0,
                            contents: function() {
                                var b = function(b, d) {
                                    var f = [],
                                        a;
                                    for (a in d) f.push({
                                        id: b + "_" + a,
                                        x: d[a].x,
                                        y: d[a].y,
                                        "class": "hotspot_big_win_txt",
                                        type: 0,
                                        alpha: 0,
                                        anchorX: .5,
                                        anchorY: .5,
                                        isVisible: !1,
                                        assetKey: b
                                    });
                                    return f
                                };
                                return nge.Lib.Helper.mergeArrs(b("hotspot_big_win_txt", [{
                                    x: 510,
                                    y: 457
                                }, {
                                    x: 660,
                                    y: 600
                                }, {
                                    x: 910,
                                    y: 457
                                }, {
                                    x: 1135,
                                    y: 457
                                }, {
                                    x: 1430,
                                    y: 457
                                }, {
                                    x: 1590,
                                    y: 555
                                }]), b("hotspot_random", []))
                            }()
                        }, {
                            id: "big_win_txt",
                            x: 1042,
                            y: 400,
                            type: 0,
                            anchorX: .5,
                            isVisible: !1,
                            assetKey: "popup/big_win_txt"
                        },
                        {
                            id: "jackpot_txt",
                            x: 1042,
                            y: 400,
                            type: 0,
                            anchorX: .5,
                            isVisible: !1,
                            assetKey: "popup/jackpot_txt"
                        }, {
                            id: "dots",
                            x: 455,
                            y: 725,
                            type: 1,
                            isVisible: !1,
                            contents: d
                        }, {
                            id: "stars",
                            type: 1,
                            isVisible: !1,
                            contents: [{
                                    id: "star_left_top",
                                    x: 625,
                                    y: 415,
                                    type: 0,
                                    anchorX: .5,
                                    anchorY: .5,
                                    isVisible: !0,
                                    assetKey: "popup/star_left_top"
                                }, {
                                    id: "star_left_center",
                                    x: 505,
                                    y: 515,
                                    type: 0,
                                    anchorX: .5,
                                    anchorY: .5,
                                    isVisible: !0,
                                    assetKey: "popup/star_left_center"
                                }, {
                                    id: "star_left_bottom",
                                    x: 510,
                                    y: 655,
                                    type: 0,
                                    anchorX: .5,
                                    anchorY: .5,
                                    isVisible: !0,
                                    assetKey: "popup/star_left_bottom"
                                },
                                {
                                    id: "star_right_top",
                                    x: 1440,
                                    y: 415,
                                    type: 0,
                                    anchorX: .5,
                                    anchorY: .5,
                                    isVisible: !0,
                                    assetKey: "popup/star_right_top"
                                }, {
                                    id: "star_right_center",
                                    x: 1565,
                                    y: 515,
                                    type: 0,
                                    anchorX: .5,
                                    anchorY: .5,
                                    isVisible: !0,
                                    assetKey: "popup/star_right_center"
                                }, {
                                    id: "star_right_bottom",
                                    x: 1555,
                                    y: 660,
                                    type: 0,
                                    anchorX: .5,
                                    anchorY: .5,
                                    isVisible: !0,
                                    assetKey: "popup/star_right_bottom"
                                }, {
                                    id: "stars_bg",
                                    x: 1036,
                                    y: 690,
                                    type: 0,
                                    anchorX: .5,
                                    anchorY: .5,
                                    isVisible: !0,
                                    assetKey: "popup/stars_bg"
                                }
                            ]
                        }, {
                            id: "blue_glow",
                            type: 0,
                            isVisible: !0,
                            assetKey: "popup/blue_glow"
                        },
                        {
                            id: "sun",
                            x: 1050,
                            y: 750,
                            alpha: .5,
                            anchorX: .5,
                            anchorY: .5,
                            type: 0,
                            isVisible: !1,
                            assetKey: "popup/sun"
                        }
                    ]
                }, {
                    type: 0,
                    alpha: .85,
                    scaleX: 205,
                    scaleY: 154,
                    isVisible: !0,
                    inputEnabled: !0,
                    assetKey: "popup/bigWinBg"
                }]
            }]
        }
    }
};
nge.Com.Buttons = {};
nge.Com.Buttons._Package = {
    name: "com.buttons",
    version: 1,
    requirments: {
        js: []
    }
};
nge.Com.Buttons.Controller = nge.Com.Base.extend(function() {
    var d, b;
    this.create = function() {
        this.createDefault();
        b = this.getInstance("Cfg").get();
        var k = nge.localData.get("brain.restoreGame");
        k && k.lastResponse && "FreeSpinReady" === k.lastResponse.state && (g(), a(), e());
        d || (nge.observer.add("paytableButton.disable", g), nge.observer.add("paytableButton.enable", h), nge.observer.add("settingsButton.disable", a), nge.observer.add("settingsButton.enable", f), nge.observer.add("euroButton.disable", e), nge.observer.add("euroButton.enable",
            c));
        d = !0
    };
    var h = function() {
            k(b.paytableButton, !0)
        },
        g = function() {
            k(b.paytableButton, !1)
        },
        f = function() {
            k(b.settingsButton, !0)
        },
        a = function() {
            k(b.settingsButton, !1)
        },
        c = function() {
            k(b.euroButton, !0)
        },
        e = function() {
            k(b.euroButton, !1)
        },
        k = function(a, b) {
            (a = nge.find("^" + a)) && (b ? a.enable(1) : a.disable(3))
        }
});
nge.Com.Buttons.Cfg = Class.extend(function() {
    this.singleton = !0;
    this.cfg = {
        paytableButton: "btn_paytable",
        settingsButton: "btn_settings",
        euroButton: "btn_euro",
        autospinButton: "btn_autospin"
    };
    this.get = function() {
        return this.cfg
    }
});
nge.Com.ClearButton = {};
nge.Com.ClearButton._Package = {
    name: "com.clearButton",
    version: 1,
    requirments: {
        js: ["com/clearButton/controller"]
    }
};
nge.Com.ClearButton.Cfg = Class.extend(function() {
    this.singleton = !0;
    this.cfg = {
        color: "#fff",
        stroke: "#766ce2",
        offset: {
            x: 0,
            y: -7
        }
    };
    this.get = function() {
        return this.cfg
    }
});
nge.Com.ClearButton.Controller = nge.Com.Base.extend(function() {
    var d, b, h;
    this.preload = function() {
        d = this;
        b || (b = d.getInstance("Cfg"));
        this.preloadDefault(!1, b)
    };
    this.create = function() {
        this.createDefault();
        h || (nge.observer.add("clearButton.enable", f), nge.observer.add("clearButton.disable", g));
        h = !0;
        this.animateDefault()
    };
    var g = function() {
            var a = nge.find("^clearButtonTexture");
            a && a.disable(3)
        },
        f = function() {
            var a = nge.find("^clearButtonTexture");
            a && a.enable(1)
        }
});
nge.Com.ClearButton.Animator = Class.extend(function() {
    this.firstCreation = function(b) {
        d(b);
        return !0
    };
    var d = function(b) {
        var d = nge.find("^clearButtonContainer"),
            g = d.y + 200;
        d = nge.tween.add(d);
        d.from({
            y: g
        }, 600, nge.Lib.Tween.Easing.Back.Out, !1, 800).onComplete.add(function() {
            b && b()
        });
        d.start()
    }
});
nge.Com.ClearButton.Tpl = function(d) {
    return {
        styles: {
            ".clearButtonTexture": {
                btnFrames: {
                    over: 2,
                    out: 1,
                    down: 0
                },
                frame: 1,
                anchorX: .5,
                anchorY: .5
            },
            ".clearButtonText": {
                anchorX: .5,
                anchorY: .5,
                y: -14,
                style: {
                    font: '54px "freesetboldc"',
                    fill: d.cfg.color,
                    stroke: d.cfg.stroke,
                    strokeThickness: 6
                }
            }
        },
        assets: {
            name: "assets",
            contents: [{
                fullPath: "app/testKeno/img/btn/btn_clear.png",
                key: "/random_button.png",
                width: 1664,
                height: 164,
                frameWidth: 416
            }]
        },
        objects: {
            name: "objects",
            contents: [{
                name: "clearButtonText",
                "class": "clearButtonText",
                type: 2,
                text: "CLEAR",
                isVisible: !0
            }, {
                name: "clearButtonTexture",
                "class": "clearButtonTexture",
                type: 4,
                isVisible: !0,
                assetKey: "/random_button.png",
                action: 'function () {nge.observer.fire("kenoMachine.clearBalls");}'
            }]
        }
    }
};
nge.Com.Coins = {};
nge.Com.Coins._Package = {
    name: "com.coins",
    version: 1,
    requirments: {
        js: ["com/coins/controller"]
    }
};
nge.Com.Coins.Controller = nge.Com.Base.extend(function() {
    var d;
    this.create = function() {
        this.createDefault();
        b();
        d || (nge.observer.add("brain.openGameSuccess", b), nge.observer.add("coins.down", f), nge.observer.add("coins.up", a), nge.observer.add("coins.downNC", h), nge.observer.add("coins.upNC", g), nge.observer.add("coins.set", c), nge.observer.add("coins.update", b));
        return d = !0
    };
    var b = function() {
            var a = nge.localData.get("coins.cfg");
            if (!a) return !1;
            for (var b = a.length, d = 0; d < b; d++) a[d] = parseFloat(a[d]);
            nge.localData.set("coins.cfg",
                a);
            (b = nge.localData.get("coins.value")) || (b = parseFloat(nge.localData.get("coins.defaultCoin")));
            b || (b = a[0]);
            c(b);
            return !0
        },
        h = function() {
            f(!0)
        },
        g = function() {
            a(!0)
        },
        f = function(a) {
            var b = nge.localData.get("coins.value"),
                d = nge.localData.get("coins.cfg");
            if (!b) return !1;
            b = d.indexOf(b);
            b--;
            d[b] || (b = a ? 0 : d.length - 1);
            b = d[b];
            c(b);
            return !0
        },
        a = function(a) {
            var b = nge.localData.get("coins.value"),
                d = nge.localData.get("coins.cfg");
            if (!b) return !1;
            b = d.indexOf(b);
            b++;
            d[b] || (b = a ? d.length - 1 : 0);
            b = d[b];
            c(b);
            return !0
        },
        c = function(a) {
            var b =
                nge.findAll(".coinsNumber"),
                c;
            for (c in b) b[c].text = parseFloat(a).toFixed(2);
            nge.localData.set("coins.value", parseFloat(a));
            nge.observer.fire("coins.change", a)
        }
});
nge.Com.Debug = {};
nge.Com.Debug.Controller = nge.Com.Base.extend(function() {
    this._logicBlocks = "coords fps observer plugin renderStat resolution".split(" ");
    var d = !1,
        b = !0,
        h = !1;
    this.preload = function() {
        if ("production" === nge.Cfg.Main.mode) return !1;
        this.preloadDefault();
        nge.Lib.Helper.logicBlocksDo(this, "preload");
        return !0
    };
    this.create = function() {
        if ("production" === nge.Cfg.Main.mode) return !1;
        this.createDefault();
        h = nge.findOne("^debugCom");
        nge.Lib.Helper.logicBlocksDo(this, "create");
        d || (nge.Lib.Helper.logicBlocksDo(this, "subscribe"),
            _subscribe(), d = !0);
        return !0
    };
    this.update = function() {
        if ("production" === nge.Cfg.Main.mode) return !1;
        nge.Lib.Helper.logicBlocksDo(this, "update")
    };
    _subscribe = function() {
        nge.observer.add("keyboard.KeyDown", function(d) {
            "D" === d && nge.keyboard.check("SHIFT") && (b = !b, h.visible = b)
        })
    }
});
nge.Com.Debug.Coords = Class.extend(function() {
    var d;
    this.create = function() {
        d = nge.find("^debugCoords");
        b();
        return !0
    };
    this.update = function() {
        b()
    };
    var b = function() {
        d.attr("text", "x:" + Math.floor(nge.game.input.mousePointer.x / nge.game.world.scale.x) + "; y:" + Math.floor(nge.game.input.mousePointer.y / nge.game.world.scale.y))
    }
});
nge.Com.Debug.Fps = Class.extend(function() {
    var d;
    this.create = function() {
        d = nge.find("^debugFps");
        return !0
    };
    this.update = function() {
        d.attr("text", "fps:" + nge.game.time.fps)
    }
});
nge.Com.Debug.Observer = Class.extend(function() {
    var d = this,
        b = !1,
        h = {};
    this.create = function() {
        nge.localData.get("debug.observer.created") ? d.show(!1) : (f(), nge.localData.set("debug.observer.created", !0));
        l();
        nge.observer.debugFire = e;
        return !0
    };
    this.show = function(a) {
        b = "undefined" !== typeof a ? a : !b;
        a = $(".debugObserverEditor");
        b ? a.show() : a.hide()
    };
    var g = function() {
            var a = nge.Lib.Helper.getCookie("debug.observer");
            if (!a) return !1;
            a = JSON.parse(a);
            if (!nge.Lib.Helper.getObjSize(a)) return !1;
            for (var b in a) d.add(b,
                a[b]);
            return !0
        },
        f = function() {
            $.get("../../js/com/debug/tpl.html", function(b) {
                a(b);
                $(".eventAdd").on("click", function(a) {
                    a = $(".eventName").val();
                    var b = $(".eventColor").val();
                    d.add(a, b);
                    return !1
                });
                g()
            })
        },
        a = function(a) {
            var b = $('<div class="debugObserverEditor"></div>');
            $("body").append(b);
            b.html(a);
            b.hide()
        };
    this.add = function(a, b) {
        if (!a) return alert("no event name"), !1;
        if (h[a]) return alert("event name exist"), !1;
        var d = q,
            e = m(a);
        d = nge.Lib.Helper.strReplace("{className}", e, d);
        d = nge.Lib.Helper.strReplace("{color}",
            b, d);
        d = nge.Lib.Helper.strReplace("{name}", a, d);
        $(".list-observers").append(d);
        $(".eventName").val("");
        h[a] = b;
        c();
        return !0
    };
    this.remove = function(a) {
        var b = m(a);
        $("." + b).remove();
        h[a] = null;
        delete h[a];
        c()
    };
    var c = function() {
            var a = JSON.stringify(h);
            nge.Lib.Helper.setCookie("debug.observer", a)
        },
        e = function(a, b) {
            for (var c in h)
                if (c === a) k(a, h[c], b);
                else if (-1 !== c.indexOf("*")) {
                var d = nge.Lib.Helper.strReplace("*", "", c);
                (new RegExp(d, "ig")).test(a) && k(a, h[c], b)
            }
        },
        k = function(a, b, c) {
            c && (a += " | " + JSON.stringify(c));
            log("%c" + a, "color: " + b)
        },
        l = function() {
            nge.observer.add("sendSocket", function(a) {
                a = JSON.stringify(a);
                a = "> sendSocket " + nge.Lib.Time.HHMMSS() + " " + a;
                var b = nge.Lib.Helper.getObjSize(h);
                log("%c" + a, b ? "background: #222; color: #bada55" : !1)
            }, "debug.sendSocket", !0);
            nge.observer.add("getSocket", function(a) {
                var b = nge.Lib.Helper.getObjSize(h) ? "background: #222; color: #bada55" : !1;
                a = "< getSocket " + nge.Lib.Time.HHMMSS() + " " + a;
                log("%c" + a, b)
            }, "debug.getSocket", !0)
        },
        m = function(a) {
            a = nge.Lib.Helper.strReplace(".", "",
                "observer_" + a);
            a = nge.Lib.Helper.strReplace("'", "", a);
            a = nge.Lib.Helper.strReplace('"', "", a);
            return a = nge.Lib.Helper.strReplace("*", "", a)
        };
    this.subscribe = function() {
        nge.observer.add("keyboard.KeyDown", function(a) {
            "O" === a && nge.keyboard.check("ALT") && d.show()
        });
        nge.observer.add("debug.observer.remove", d.remove)
    };
    var q = '<li class="{className}"><input type="button" onclick="nge.observer.fire(\'debug.observer.remove\',\'{name}\');" value="X"> <font style="color:{color};">{name}</font></li>'
});
nge.Com.Debug.Plugin = Class.extend(function() {
    var d = this,
        b = !0,
        h = [".pdebug", ".dg"];
    this.create = function() {
        nge.localData.get("debug.plugin.created") || (nge.game.plugins.add(Phaser.Plugin.Debug), nge.game.plugins.add(Phaser.Plugin.GameGui, {
            autoPlace: !0,
            width: 200
        }).gui.closed = !0, nge.localData.set("debug.plugin.created", !0));
        d.show(!1);
        return !0
    };
    this.show = function(d) {
        b = "undefined" !== typeof d ? d : !b;
        d = $(h.join(","));
        b ? d.show() : d.hide()
    };
    this.subscribe = function() {
        nge.observer.add("keyboard.KeyDown", function(b) {
            "O" ===
            b && nge.keyboard.check("ALT") && d.show()
        })
    }
});
nge.Com.Debug.RenderStat = Class.extend(function() {
    var d;
    this.create = function() {
        d = nge.find("^debugRenderStat");
        return !0
    };
    this.update = function() {
        if (d.visible) {
            var g = {
                nSprite: 0,
                pxSprite: 0,
                nText: 0,
                pxText: 0,
                containers: 0
            };
            nge.game.stage.children.forEach(function(b) {
                h(b, g)
            });
            d.attr("text", "Sprite count = " + g.nSprite + "\nSprite pixels = " + b(g.pxSprite) + "\ntext items = " + g.nText + "\ntext pixels = " + b(g.pxText) + "\ncontainers = " + b(g.containers))
        }
    };
    var b = function(b) {
            if (1E4 > b) return Math.round(b);
            if (1E7 > b) return Math.round(b /
                1E3) + "K";
            if (1E10 > b) return Math.round(b / 1E6) + "M"
        },
        h = function(b, d) {
            b instanceof Phaser.Group || b instanceof Phaser.World ? b.visible && (d.containers++, b.children.forEach(function(a) {
                h(a, d)
            })) : b instanceof Phaser.Text ? b.visible && b.inCamera && (d.pxText += b.width * b.height, d.nText++) : b instanceof Phaser.Sprite ? !b.visible || !b.inCamera || b.mt && b.mt.data && "_slotMachineBlur" === b.mt.data.class || (d.pxSprite += Math.abs(b.width * b.height), d.nSprite++) : b instanceof Phaser.Button && b.visible && (d.pxSprite += b.width * b.height,
                d.nSprite++)
        }
});
nge.Com.Debug.Resolution = Class.extend(function() {
    var d;
    this.create = function() {
        d = nge.find("^debugRes");
        return !0
    };
    this.update = function() {
        d.attr("text", "f: " + nge.assets.getQualityFactor() + ", w: " + nge.resolutionsManager.getCurrent().width)
    }
});
nge.Com.Debug.Tpl = function() {
    return {
        objects: {
            name: "objects",
            contents: [{
                name: "debugCoords",
                x: 1775,
                isVisible: !0,
                text: "",
                type: 2,
                style: {
                    font: '15pt "Helvetica"',
                    fill: "#00FF00",
                    align: "left"
                }
            }, {
                name: "debugVer",
                x: 1775,
                y: 25,
                isVisible: !0,
                text: "v. " + nge.Cfg.Main.version,
                type: 2,
                style: {
                    font: '15pt "Helvetica"',
                    fill: "#00FF00",
                    align: "left"
                }
            }, {
                name: "debugFps",
                x: 1775,
                y: 50,
                isVisible: !0,
                text: "",
                type: 2,
                style: {
                    font: '15pt "Helvetica"',
                    fill: "#00FF00",
                    align: "left"
                }
            }, {
                name: "debugRes",
                x: 1775,
                y: 75,
                isVisible: !0,
                text: "",
                type: 2,
                style: {
                    font: '15pt "Helvetica"',
                    fill: "#00FF00",
                    align: "left"
                }
            }, {
                name: "debugRenderStat",
                x: 25,
                isVisible: !0,
                text: "",
                type: 2,
                style: {
                    font: '15pt "Helvetica"',
                    fill: "#00FF00",
                    align: "left"
                }
            }]
        }
    }
};
nge.Com.Demo = {};
nge.Com.Demo._Package = {
    name: "com.demo",
    version: 1,
    requirments: {
        js: ["com/demo/controller"]
    }
};
nge.Com.Demo.Controller = function() {
    this.create = function() {
        nge.rafSetTimeout(this.gotoPlay, 1E3);
        nge.observer.add("StatesManager.create.end", function(d) {
            if ("demo" === d) return !1;
            nge.userInfoRemove();
            nge.observer.fire("game.readyToPlay");
            nge.observer.remove("StatesManager.create.end", !1, "userInfoRemove", !0)
        }, "userInfoRemove", !0);
        return !0
    };
    this.gotoPlay = function() {
        nge.observer.fire("window.resize");
        nge.brain.showGamePlayState();
        nge.userInfoHTML("Preparing to show Game Play");
        return !0
    }
};
nge.Com.EuroButton = {};
nge.Com.EuroButton._Package = {
    name: "com.euroButton",
    version: 1,
    requirments: {
        js: ["com/euroButton/controller"]
    }
};
nge.Com.EuroButton.Cfg = Class.extend(function() {
    this.singleton = !0;
    this.cfg = {
        color: "#fff",
        stroke: "#766ce2",
        offset: {
            x: 0,
            y: -7
        }
    };
    this.get = function() {
        return this.cfg
    }
});
nge.Com.EuroButton.Controller = nge.Com.Base.extend(function() {
    var d, b;
    this.preload = function() {
        d = this;
        if (!b) {
            b = d.getInstance("Cfg").get();
            var h = nge.localData.get("currency");
            b.currency = h
        }
        this.preloadDefault(!1, b)
    };
    this.create = function() {
        this.createDefault()
    }
});
nge.Com.EuroButton.Tpl = function(d) {
    var b = d.currency;
    return {
        styles: {},
        assets: {
            name: "assets",
            contents: []
        },
        objects: {
            name: "objects",
            contents: [{
                x: d.offset.x,
                y: d.offset.y,
                anchorX: .5,
                anchorY: .5,
                type: 2,
                style: {
                    font: 50 / (b ? b.length : 1) + 30 + "px 'freesetboldc'",
                    fill: d.color,
                    stroke: d.stroke,
                    strokeThickness: void 0 === d.strokeThickness ? 5 : d.strokeThickness
                },
                align: "center",
                isVisible: !0,
                text: b,
                name: "btn_euro_text"
            }, {
                name: "btn_euro",
                "class": "button",
                x: 0,
                y: 0,
                anchorX: .5,
                anchorY: .5,
                type: 4,
                isVisible: 1,
                assetKey: "/btn/btn_euro.png",
                action: "function () {nge.observer.fire('currency.change');}"
            }]
        }
    }
};
nge.Com.Freespin = {};
nge.Com.Freespin._Package = {
    name: "com.freespin",
    version: 1,
    requirments: {
        js: ["com/freespin/controller"]
    }
};
nge.Com.Freespin.Controller = nge.Com.Base.extend(function() {
    var d, b, h = 0,
        g = !1;
    this._canSpin = !1;
    this._pauseMode;
    var f, a;
    this._restoringFlag = !1;
    this.create = function() {
        b = this;
        b._pauseMode = !1;
        f = nge.findOne("^autospinSpinsLeftText");
        a = nge.findOne("^autospinSpinsTotal");
        d || (nge.observer.add("freespin.start", b.freespinStart), nge.observer.add("slotMachine.spinResponse", c), nge.observer.add("slotMachine.spinComplete", e), nge.observer.add("freespin.restore", q), nge.observer.add("win", n), nge.observer.add("spinAndWinComplete",
            k), nge.observer.add("freespin.pause", l), nge.observer.add("freespin.resume", m));
        nge.localData.set("freespin.inProgress", !1);
        nge.localData.set("spin.type", "SpinRequest");
        d = !0;
        b._restoringFlag = !1;
        return !0
    };
    this.freespinStart = function(c) {
        nge.observer.fire("freespin.startProcess.start");
        c = parseInt(c);
        g = !0;
        b._canSpin = !0;
        var d = nge.localData.get("freespin.inProgress"),
            e = nge.localData.get("freespin.spinsTotal");
        !nge.localData.get("freespin.spinsTotalResetFlag") && d && e || (e = 0, nge.localData.set("freespin.spinsTotalResetFlag",
            !1));
        e += c;
        nge.localData.getAll();
        b.setSpinType();
        nge.localData.set("freespin.inProgress", !0);
        nge.localData.set("freespin.lastSpin", !1);
        b._restoringFlag || (nge.localData.set("freespin.spinsTotal", e), nge.localData.set("freespin.spinsLeft", parseInt(nge.localData.get("freespin.spinsLeft")) || 0 + c));
        b._spinCommand();
        nge.observer.fire("buttons.freespinMode");
        f && (f.text = c, f.visible = !0);
        a && (a.text = c);
        b._restoringFlag = !1;
        nge.observer.fire("freespin.startProcess.end");
        nge.observer.fire("autospinButton.disable");
        nge.observer.fire("maxBetButton.disable")
    };
    this.setSpinType = function() {
        nge.localData.set("spin.type", "FreeSpinRequest")
    };
    this.setSpinsTotal = function(a) {
        nge.localData.set("freespin.spinsTotal", a)
    };
    var c = function(a) {
        if (!nge.localData.get("freespin.inProgress")) return !1;
        f && (f.text = nge.localData.get("freespin.spinsLeft") - 1);
        nge.localData.set("freespin.spinsLeft", parseInt(a.freeSpinRemain))
    };
    this.finishFreespin = function() {
        g = !1;
        h = 0;
        nge.localData.get("freespin.inProgress") && (nge.localData.set("spin.type",
            "SpinRequest"), nge.localData.set("freespin.spinsTotalResetFlag", !0), nge.localData.set("freespin.inProgress", !1), f && (f.visible = !1));
        nge.observer.fire("freespin.end")
    };
    var e = function() {
            if (!nge.localData.get("freespin.inProgress")) return !1;
            nge.localData.get("slotMachine.slotWin");
            var a = parseInt(nge.localData.get("freespin.spinsLeft"));
            f && (f.text = a);
            0 === a ? b.finishFreespin() : 0 < a && (b._canSpin = !0)
        },
        k = function() {
            b._spinCommand()
        },
        l = function() {
            b._pauseMode = !0
        },
        m = function() {
            b._pauseMode = !1;
            b._spinCommand()
        };
    this._spinCommand = function() {
        if (!b._canSpin || b._pauseMode) return !1;
        nge.observer.fire("slotMachine.spinCommand");
        b._canSpin = !1
    };
    var q = function(a) {
            if ("FreeSpins" !== a.state && "FreeReSpins" !== a.state) return !1;
            var c = 0;
            if (a.freeSpinRemain) var d = a.freeSpinRemain;
            else if (a.slotWin && a.slotWin.linePickBonus)
                for (var e = 0; e < a.slotWin.linePickBonus.length; e++) {
                    var f = a.slotWin.linePickBonus[e].bonusName;
                    if ("FreeSpins" === f || "FreeReSpins" === f) {
                        d = a.slotWin.linePickBonus[e].params;
                        break
                    }
                }
            a.freeSpinsTotal && (c = parseInt(a.freeSpinsTotal));
            nge.localData.set("freespin.spinsLeft", d);
            nge.localData.set("freespin.spinsTotal", c);
            b._restoringFlag = !0;
            nge.observer.fire("freespin.start", d, 1300);
            return !0
        },
        n = function(a) {
            if (!g) return !1;
            h += a;
            nge.observer.fire("freespinWin", {
                winAmount: a,
                freespinTotalWin: h
            })
        }
});
nge.Com.FreeGamePopup = {};
nge.Com.FreeGamePopup._Package = {
    name: "com.freeGamePopup",
    version: 1,
    requirments: {
        js: ["com/freeGamePopup/controller"]
    }
};
nge.Com.FreeGamePopup.Controller = nge.Com.Base.extend(function() {
    var d;
    this.create = function() {
        this.createDefault();
        d || (nge.observer.add("freeGamePopup.hide", h), nge.observer.add("freeGames.show", b), nge.observer.add("freeGamePopup.close", g), nge.observer.add("freespin.end", b), nge.observer.add("freespin.start", h), nge.observer.add("freespin.restore", h), d = !0);
        return !0
    };
    var b = function() {
            var b = nge.localData.get("slotMachine.lastResponseType"),
                a = nge.localData.get("freeGame");
            if (!a || "FreeSpinResponse" === b) return h(),
                !1;
            nge.find("#freeGamePopup").visible = !0;
            nge.find("^winUserCodeText").text = a.amount;
            nge.find("^freeGameCoinValue").text = nge.localData.get("currency") + a.coin;
            nge.find("^freeGameCoinsNumberValue").text = a.coinsPerBet;
            nge.find("^freeGameLinesValue").text = a.lines;
            nge.find("^freeGameExpValue").text = a.freeGameExpiration;
            nge.observer.fire("brain.disableButtons");
            nge.observer.fire("settingsButton.disable");
            nge.observer.fire("euroButton.disable");
            nge.observer.fire("paytableButton.disable")
        },
        h = function() {
            var b =
                nge.find("#freeGamePopup");
            if (!b) return !1;
            b.visible = !1
        },
        g = function() {
            h();
            nge.observer.fire("spinButton.enable")
        }
});
nge.Com.FreeGamePopup.Tpl = function() {
    return {
        assets: {
            name: "assets",
            contents: [{
                fullPath: "img/popup/freegame/popup_bg.png",
                key: "/popup_bg"
            }, {
                fullPath: "img/black-bg.png",
                key: "/black-bg.png",
                qualityObeys: !1
            }, {
                fullPath: "img/tutorial/welcome_scr/btn_play_now.png",
                key: "btn_play_now",
                width: 1548,
                height: 144,
                frameWidth: 516,
                frameHeight: 144
            }]
        },
        objects: {
            name: "objects",
            contents: [{
                id: "freeGamePopup",
                name: "freeGamePopup",
                type: 1,
                isVisible: !1,
                contents: [{
                    id: "congratsContainer",
                    name: "congratsContainer",
                    type: 1,
                    contents: [{
                        name: "congratsText",
                        id: "congratsText",
                        x: 1024,
                        y: 320,
                        type: 2,
                        anchorX: .5,
                        style: {
                            font: "bold 90px 'freesetboldc'",
                            fill: "#ffffff",
                            align: "center",
                            stroke: "#1c98ab",
                            strokeThickness: 7
                        },
                        isVisible: !0,
                        text: "CONGRATS"
                    }]
                }, {
                    id: "mainAreaContainer",
                    name: "mainAreaContainer",
                    type: 1,
                    contents: [{
                        name: "machWin",
                        x: 1024,
                        y: 484,
                        type: 2,
                        anchorX: .5,
                        style: {
                            font: "bold 54px 'freesetboldc'",
                            fill: "#308794",
                            align: "center",
                            strokeThickness: 0
                        },
                        isVisible: !0,
                        text: "Your winnings are:"
                    }, {
                        name: "machWin2",
                        x: 1024,
                        y: 714,
                        type: 2,
                        anchorX: .5,
                        style: {
                            font: "bold 54px 'freesetboldc'",
                            fill: "#ffffff",
                            align: "center",
                            stroke: "#1c98ab",
                            strokeThickness: 6
                        },
                        isVisible: !0,
                        text: "Free Games"
                    }, {
                        name: "winUserCodeText",
                        id: "winUserCodeText",
                        x: 1024,
                        y: 575,
                        type: 2,
                        anchorX: .5,
                        style: {
                            font: "bold 146px 'freesetboldc'",
                            fill: "#ff3f00",
                            align: "center",
                            stroke: "#ffffff",
                            strokeThickness: 10
                        },
                        isVisible: !0,
                        text: " "
                    }, {
                        name: "freeGameCoinText",
                        id: "freeGameCoinText",
                        x: 720,
                        y: 810,
                        type: 2,
                        anchorX: 0,
                        style: {
                            font: "bold 33px 'freesetboldc'",
                            fill: "#308794",
                            align: "left"
                        },
                        isVisible: !0,
                        text: "Coin Value:"
                    }, {
                        name: "freeGameCoinValue",
                        id: "freeGameCoinValue",
                        x: 1330,
                        y: 810,
                        type: 2,
                        anchorX: 1,
                        style: {
                            font: "bold 36px 'freesetboldc'",
                            fill: "#FF3F00",
                            align: "right"
                        },
                        isVisible: !0,
                        text: "Coin Value:"
                    }, {
                        name: "freeGameCoinsNumberText",
                        id: "freeGameCoinsNumberText",
                        x: 720,
                        y: 860,
                        type: 2,
                        anchorX: 0,
                        style: {
                            font: "bold 33px 'freesetboldc'",
                            fill: "#308794",
                            align: "left"
                        },
                        isVisible: !0,
                        text: "Coins Number:"
                    }, {
                        name: "freeGameCoinsNumberValue",
                        id: "freeGameCoinsNumberValue",
                        x: 1330,
                        y: 860,
                        type: 2,
                        anchorX: 1,
                        style: {
                            font: "bold 36px 'freesetboldc'",
                            fill: "#FF3F00",
                            align: "right"
                        },
                        isVisible: !0,
                        text: "Coins Value:"
                    }, {
                        name: "freeGameLinesText",
                        id: "freeGameLinesText",
                        x: 720,
                        y: 910,
                        type: 2,
                        anchorX: 0,
                        style: {
                            font: "bold 33px 'freesetboldc'",
                            fill: "#308794",
                            align: "left"
                        },
                        isVisible: !0,
                        text: "Lines Number:"
                    }, {
                        name: "freeGameLinesValue",
                        id: "freeGameLinesValue",
                        x: 1330,
                        y: 910,
                        type: 2,
                        anchorX: 1,
                        style: {
                            font: "bold 36px 'freesetboldc'",
                            fill: "#FF3F00",
                            align: "right"
                        },
                        isVisible: !0,
                        text: "Lines Value:"
                    }, {
                        name: "freeGameExpText",
                        id: "freeGameExpText",
                        x: 720,
                        y: 960,
                        type: 2,
                        anchorX: 0,
                        style: {
                            font: "bold 33px 'freesetboldc'",
                            fill: "#308794",
                            align: "left"
                        },
                        isVisible: !0,
                        text: "Expiration date:"
                    }, {
                        name: "freeGameExpValue",
                        id: "freeGameExpValue",
                        x: 1330,
                        y: 960,
                        type: 2,
                        anchorX: 1,
                        style: {
                            font: "bold 36px 'freesetboldc'",
                            fill: "#FF3F00",
                            align: "right"
                        },
                        isVisible: !0,
                        text: "Expiration date:"
                    }, {
                        name: "freeGamePoputCloseButtonText",
                        id: "freeGamePoputCloseButtonText",
                        x: 1024,
                        y: 1118,
                        type: 2,
                        anchorX: .5,
                        anchorY: .5,
                        style: {
                            font: "bold 54px 'freesetboldc'",
                            fill: "#ffffff",
                            align: "center"
                        },
                        isVisible: !0,
                        text: "GREAT!"
                    }, {
                        name: "freeGamePoputCloseButton",
                        id: "freeGamePoputCloseButton",
                        x: 1024,
                        y: 1122,
                        anchorX: .5,
                        anchorY: .5,
                        type: 4,
                        isVisible: !0,
                        assetKey: "btn_play_now",
                        action: "function () {nge.observer.fire('freeGamePopup.close');}",
                        btnFrames: {
                            over: 2,
                            out: 1,
                            down: 2
                        }
                    }, {
                        name: "results",
                        id: "results",
                        x: 1024,
                        y: 768,
                        anchorX: .5,
                        anchorY: .5,
                        type: 0,
                        isVisible: !0,
                        assetKey: "/popup_bg"
                    }, {
                        type: 0,
                        scaleX: 205,
                        scaleY: 154,
                        alpha: .75,
                        isVisible: !0,
                        width: 10,
                        height: 10,
                        inputEnabled: !0,
                        assetKey: "/black-bg.png"
                    }]
                }]
            }]
        }
    }
};
nge.Com.FreeGameCounter = {};
nge.Com.FreeGameCounter._Package = {
    name: "com.freeGameCounter",
    version: 1,
    requirments: {
        js: ["com/freeGameCounter/controller"]
    }
};
nge.Com.FreeGameCounter.Controller = nge.Com.Base.extend(function() {
    var d;
    this.preload = function() {
        this.preloadDefault()
    };
    this.create = function() {
        this.createDefault();
        d || (nge.observer.add("kenoMachine.animationEnd", b, !1, !0), nge.observer.add("scratchMachine.scratchComplete", b, !1, !0));
        d = !0;
        this.animateDefault();
        nge.localData.get("freeGame.inProgress") ? (nge.find("^freeGameCounterContainer").visible = !0, nge.find("^counterButtonText").text = nge.localData.get("freeGame.totalAmount")) : nge.find("^freeGameCounterContainer").visible = !1
    };
    var b = function() {
        if (!nge.localData.get("freeGame") || 0 >= nge.localData.get("freeGame.amount")) return nge.find("^freeGameCounterContainer").visible = !1;
        nge.find("^counterButtonText").text = nge.localData.get("freeGame.amount")
    }
});
nge.Com.FreeGameCounter.Tpl = function() {
    return {
        styles: {
            ".counterButtonTexture": {
                btnFrames: {
                    over: 2,
                    out: 1,
                    down: 0
                },
                frame: 1,
                anchorX: .5,
                anchorY: .5
            },
            ".counterButtonText": {
                anchorX: .5,
                anchorY: .5,
                y: 0,
                style: {
                    font: '96px "freesetboldc"',
                    fill: "#FFFFFF"
                }
            }
        },
        assets: {
            name: "assets",
            contents: [{
                fullPath: "img/kenoPlayarea/btn_freeSpin.png",
                key: "/btn_freeSpin.png",
                width: 292,
                height: 244
            }]
        },
        objects: {
            name: "objects",
            contents: [{
                    name: "counterButtonText",
                    "class": "counterButtonText",
                    x: 1820,
                    y: 1100,
                    type: 2,
                    text: "50",
                    isVisible: !0
                },
                {
                    name: "counterButtonTexture",
                    "class": "counterButtonTexture",
                    x: 1820,
                    y: 1115,
                    type: 0,
                    isVisible: !0,
                    assetKey: "/btn_freeSpin.png"
                }
            ]
        }
    }
};
nge.Com.FreeGameSummaryPopup = {};
nge.Com.FreeGameSummaryPopup._Package = {
    name: "com.freeGameSummaryPopup",
    version: 1,
    requirments: {
        js: ["com/freeGameSummaryPopup/controller"]
    }
};
nge.Com.FreeGameSummaryPopup.Controller = nge.Com.Base.extend(function() {
    var d;
    this.create = function() {
        this.createDefault();
        d || (nge.observer.add("freeGameSumPopup.show", b), nge.observer.add("freeGameSumPopup.close", h), d = !0);
        return !0
    };
    var b = function() {
            var b = nge.localData.get("slotMachine.params.freeGameWin");
            nge.find("^winUserCodeTextSumGame").text = nge.localData.get("freeGame.totalAmount");
            nge.find("^winUserCodeTextSumMoney").text = nge.localData.get("currency") + nge.Lib.Validator.floatMoney(b, !0);
            nge.find("^freeGameSummaryPopup").visible = !0;
            nge.observer.fire("brain.disableButtons");
            nge.observer.fire("settingsButton.disable");
            nge.observer.fire("euroButton.disable");
            nge.observer.fire("paytableButton.disable")
        },
        h = function() {
            nge.find("^freeGameSummaryPopup").destroy(!0);
            nge.observer.fire("spinButton.enable")
        }
});
nge.Com.FreeGameSummaryPopup.Tpl = function() {
    return {
        assets: {
            name: "assets",
            contents: [{
                fullPath: "img/popup/freegame/popup_bg_2sections.png",
                key: "/popup_sum"
            }, {
                fullPath: "img/black-bg.png",
                key: "/black-bg.png",
                qualityObeys: !1
            }]
        },
        objects: {
            name: "objects",
            contents: [{
                name: "freeGameSummaryPopup",
                type: 1,
                isVisible: !1,
                contents: [{
                    name: "congratsContainerSum",
                    type: 1,
                    contents: [{
                        name: "congratsTextSum",
                        x: 1024,
                        y: 320,
                        type: 2,
                        anchorX: .5,
                        style: {
                            font: "bold 90px 'freesetboldc'",
                            fill: "#ffffff",
                            align: "center",
                            stroke: "#1c98ab",
                            strokeThickness: 7
                        },
                        isVisible: !0,
                        text: "CONGRATS"
                    }]
                }, {
                    name: "mainAreaContainerSum",
                    type: 1,
                    contents: [{
                        name: "played",
                        x: 1024,
                        y: 484,
                        type: 2,
                        anchorX: .5,
                        style: {
                            font: "bold 54px 'freesetboldc'",
                            fill: "#308794",
                            align: "center",
                            strokeThickness: 0
                        },
                        isVisible: !0,
                        text: "You have played"
                    }, {
                        name: "played2",
                        x: 1024,
                        y: 800,
                        type: 2,
                        anchorX: .5,
                        style: {
                            font: "bold 54px 'freesetboldc'",
                            fill: "#308794",
                            align: "center",
                            strokeThickness: 0
                        },
                        isVisible: !0,
                        text: "free games"
                    }, {
                        name: "won",
                        x: 1024,
                        y: 870,
                        type: 2,
                        anchorX: .5,
                        style: {
                            font: "bold 54px 'freesetboldc'",
                            fill: "#308794",
                            align: "center",
                            strokeThickness: 0
                        },
                        isVisible: !0,
                        text: "And you have won"
                    }, {
                        name: "winUserCodeTextSumGame",
                        x: 1040,
                        y: 600,
                        type: 2,
                        anchorX: .5,
                        style: {
                            font: "bold 146px 'freesetboldc'",
                            fill: "#ff3f00",
                            align: "center",
                            stroke: "#ffffff",
                            strokeThickness: 10
                        },
                        isVisible: !0,
                        text: 300
                    }, {
                        name: "winUserCodeTextSumMoney",
                        x: 1040,
                        y: 970,
                        type: 2,
                        anchorX: .5,
                        style: {
                            font: "bold 146px 'freesetboldc'",
                            fill: "#ff3f00",
                            align: "center",
                            stroke: "#ffffff",
                            strokeThickness: 10
                        },
                        isVisible: !0,
                        text: 300
                    }, {
                        name: "results_sum",
                        x: 1024,
                        y: 768,
                        anchorX: .5,
                        anchorY: .5,
                        type: 0,
                        isVisible: !0,
                        assetKey: "/popup_sum"
                    }, {
                        type: 0,
                        scaleX: 205,
                        scaleY: 154,
                        alpha: .75,
                        isVisible: !0,
                        width: 10,
                        height: 10,
                        inputEnabled: !0,
                        assetKey: "/black-bg.png"
                    }]
                }]
            }]
        }
    }
};
nge.Com.Gamble = {};
nge.Com.Gamble._Package = {
    name: "com.gamble",
    version: 1,
    requirments: {
        js: []
    }
};
nge.Com.Gamble.Controller = nge.Com.Base.extend(function() {
    var d = null,
        b, h = "",
        g = 0,
        f = ["black", "red"],
        a;
    this.create = function() {
        d = this;
        g = 2 * nge.localData.get("slotMachine.slotWin.totalWin");
        var a = "YOU CAN WIN x2: " + nge.Lib.Validator.floatMoney(g, !0) + nge.localData.get("currency");
        nge.localData.set("infoPanel.text", a);
        b || (nge.observer.add("gamble.showCard", e), nge.observer.add("gamble.response", c));
        return b = !0
    };
    var c = function(a) {
            k(a.winning)
        },
        e = function(a) {
            h = a;
            d.disableButtons();
            nge.observer.fire("gamble.actionRequest")
        },
        k = function(b) {
            var c = null;
            0 < b ? (a = !0, c = h) : (a = !1, c = f.filter(function(a) {
                return a !== h
            })[0]);
            b = nge.Lib.Helper.getRandomInt(1, 26);
            var e = "gamble/cards/" + c + "_" + b + ".png";
            nge.rafSetTimeout(function() {
                d._loadNewCardTexture(e)
            }, 1E3);
            d.complete()
        };
    this._loadNewCardTexture = function(a) {
        var b = new Phaser.Loader(nge.game);
        b.image("card", nge.assets.getImagesPath() + a);
        b.onLoadComplete.addOnce(function() {
            var a = nge.find("^card"),
                b = PIXI.TextureCache.card,
                c = nge.assets.getQualityFactor();
            if (!b) return !1;
            b.width /= c;
            b.height /=
                c;
            a.width = b.width;
            a.height = b.height;
            a.setTexture(b);
            nge.observer.fire("gamble.cardHasBeenShown")
        });
        b.start()
    };
    this.complete = function() {
        nge.localData.set("slotMachine.slotWin.totalWin", 0);
        var b = nge.Lib.Validator.floatMoney(g, !0) + nge.localData.get("currency");
        nge.rafSetTimeout(function() {
                a ? (nge.find("^winCont").visible = !0, nge.find("^winUserCodeText").text = b, nge.observer.fire("gamble.win")) : (nge.find("^loseCont").visible = !0, nge.observer.fire("gamble.lose"));
                d._loadNewCardTexture("gamble/cards/card.png")
            },
            2E3);
        nge.rafSetTimeout(function() {
            d._loadNewCardTexture("gamble/cards/card.png");
            nge.statesManager.display("play", !0)
        }, 5E3)
    };
    this.disableButtons = function() {
        nge.find("^btn_" + h).disable("2");
        var a = f.filter(function(a) {
            return a !== h
        })[0];
        nge.find("^btn_" + a).disable("0")
    }
});
nge.Com.Gamble.Tpl = function() {};
nge.Com.GambleButton = {};
nge.Com.GambleButton._Package = {
    name: "com.gambleButton",
    version: 1,
    requirments: {
        js: ["com/gambleButton/controller"]
    }
};
nge.Com.GambleButton.Controller = nge.Com.Base.extend(function() {
    var d, b, h, g, f = !1,
        a = function() {
            var a = nge.localData.get("slotMachine.slotWin.totalWin");
            return a && 0 < a ? !0 : !1
        };
    this.create = function() {
        this.createDefault();
        this.getInstance("Cfg").get();
        h = this;
        a() && c();
        d || (nge.observer.add("slotMachine.spinComplete", l), nge.observer.add("slotMachine.spinStart", k), nge.observer.add("bigWin", m), nge.observer.add("freespin.end", m), nge.observer.add("brain.bonusGameEnd", e, !1, !0), nge.observer.add("gamble.actionRequest",
            e, !1, !0));
        d = !0
    };
    var c = function() {
        if (nge.localData.get("livingLargeBonusGameEnd")) return nge.localData.set("livingLargeBonusGameEnd", !1), !1;
        nge.find("^btn_gamble").enable(1);
        var a = nge.localData.get("autospin.inProgress"),
            b = nge.localData.get("freespin.inProgress"),
            c = nge.localData.get("slotMachine.slotWin.linePickBonus").length ? !0 : !1;
        a || b || c || g || (f = !0, h.animate(1))
    };
    this.animate = function(a) {
        if (!f) return !1;
        var c = a ? 200 : 0,
            d = a ? 0 : 200,
            e = nge.find("^gambleButtonContainer");
        e.visible = !0;
        e.y = c;
        b = nge.tween.add(e).to({
                y: d
            },
            1E3, "Quart.easeOut");
        b.onComplete.add(function() {
            a || (f = nge.find("^gambleButtonContainer").visible = !1)
        }, this);
        b.start()
    };
    var e = function() {
            f = !1
        },
        k = function() {
            nge.find("^btn_gamble").disable();
            h.animate(0)
        },
        l = function() {
            a() && (g = !1, c())
        },
        m = function() {
            f = !1;
            nge.find("^gambleButtonContainer").visible = !1;
            g = !0
        }
});
nge.Com.GambleButton.Cfg = Class.extend(function() {
    this.singleton = !0;
    this.cfg = {
        gambleButtonChange: !1,
        gambleButtonName: "btn_gamble"
    };
    this.get = function() {
        return this.cfg
    }
});
nge.Com.HistoryDataCollector = {};
nge.Com.HistoryDataCollector._Package = {
    name: "com.historyDataCollector",
    version: 1,
    requirments: {
        js: []
    }
};
nge.Com.HistoryDataCollector.Controller = nge.Com.Base.extend(function() {
    var d;
    this.create = function() {
        this.createDefault();
        d || nge.observer.add("transportMessage.HistoryDetailResponse", b, "historyResponse");
        d = !0;
        var h = nge.Lib.Helper.parseGetParams("gameRoundId");
        nge.observer.fire("history.request", h)
    };
    var b = function(d) {
        if (!d.data.response) return !1;
        nge.observer.remove("transportMessage.HistoryDetailResponse", b, "historyResponse");
        d = JSON.parse(d.data.response);
        d.response.isHistory = !0;
        nge.localData.set("brain.restoreGame.lastResponse",
            d.response);
        if (d.response.spinResult) {
            var g = nge.Lib.Helper.rowsToColumns(d.response.spinResult.rows);
            nge.localData.set("slotMachine.initialSymbols", g)
        }
        "ScratchResponse" === d.response["@type"] && (g = nge.Lib.Helper.rowsToColumns(d.response.scratchResult.rows), nge.localData.set("slotMachine.initialSymbols", g));
        nge.localData.set("poker.lastResponse", d.response);
        nge.statesManager.display("history")
    }
});
nge.Com.InfoPanel = {};
nge.Com.InfoPanel._Package = {
    name: "com.infoPanel",
    version: 1,
    requirments: {
        js: []
    }
};
nge.Com.InfoPanel.Animator = Class.extend(function() {
    this.firstCreation = function(b) {
        d(b);
        return !0
    };
    var d = function(b) {
        var d = nge.find("^infoPanelContainer"),
            g = d.y;
        d.y += 200;
        d = nge.tween.add(d);
        d.to({
            y: g
        }, 600, nge.Lib.Tween.Easing.Back.Out, !1, 800).onComplete.add(function() {
            b && b()
        });
        d.start()
    }
});
nge.Com.InfoPanel.Controller = nge.Com.Base.extend(function() {
    var d, b;
    this.create = function() {
        this.createDefault();
        d = nge.find("^infopanel_text");
        b || nge.observer.add("infoPanel.show", h);
        b = !0;
        var g = nge.localData.get("infoPanel.text") || "";
        h(g);
        this.animateDefault();
        return !0
    };
    var h = function(b) {
        nge.localData.set("infoPanel.text", b);
        d.text = b
    }
});
nge.Com.InfoPanel.RandomPhrases = Class.extend(function() {
    this.phrases = [];
    this.get = function() {
        return this.phrases
    }
});
nge.Com.Jackpot = {};
nge.Com.Jackpot._Package = {
    name: "com.jackpot",
    version: 1,
    requirments: {
        js: ["com/jackpot/controller"]
    }
};
nge.Com.Jackpot.Cfg = Class.extend(function() {
    this.singleton = !0;
    this.cfg = {
        color: "#fff",
        stroke: "#766ce2",
        offset: {
            x: 0,
            y: -7
        }
    };
    this.get = function() {
        return this.cfg
    }
});
nge.Com.Jackpot.Controller = nge.Com.Base.extend(function() {
    var d;
    this.create = function() {
        this.createDefault();
        nge.observer.fire("jackpotRequest");
        d || nge.observer.add("jackpot.amount", b);
        return d = !0
    };
    var b = function(b) {
        var d = nge.statesManager.getCurrentName();
        b = nge.Lib.Validator.floatMoney(b.amount, !0) + "\u20ac";
        nge.find("^jackpotContainerContent").visible = !0;
        "paytable" === d && (nge.find("^jackpotContainerContent").visible = !1);
        nge.find("^jackpotAmountText").text = b;
        nge.find("^topTextWin2").text = b
    }
});
nge.Com.LayersSwitcher = {};
nge.Com.LayersSwitcher._Package = {
    name: "com.layersSwitcher",
    version: 2,
    requirments: {
        js: ["com/layersSwitcher/controller", "com/layersSwitcher/cfg"]
    }
};
nge.Com.LayersSwitcher.Cfg = Class.extend(function() {
    this.singleton = !0;
    this.scenes = {
        play: {
            defaultLayer: "game",
            baseScreen: "game",
            autoSwitch: !1,
            autoSwitchDelay: 2E3,
            allContainers: "closeButtonContainer fullScreenContainer welcomeScreenContainer helpContainer dragonChoiceContainer finalPopupContainer gameLogoContainer bottomUIContainer reelsBorderContainer scattersContainer gameScreenContainer backgroundContainer".split(" "),
            layers: {
                welcome: "closeButtonContainer fullScreenContainer welcomeScreenContainer gameLogoContainer bottomUIContainer reelsBorderContainer gameScreenContainer backgroundContainer".split(" "),
                game: "closeButtonContainer fullScreenContainer gameLogoContainer bottomUIContainer reelsBorderContainer gameScreenContainer backgroundContainer".split(" "),
                info: "closeButtonContainer fullScreenContainer helpContainer gameLogoContainer bottomUIContainer reelsBorderContainer gameScreenContainer backgroundContainer".split(" "),
                scatters: "closeButtonContainer fullScreenContainer gameLogoContainer bottomUIContainer reelsBorderContainer scattersContainer gameScreenContainer backgroundContainer".split(" "),
                dragonChoiceGame: ["closeButtonContainer", "fullScreenContainer", "dragonChoiceContainer"],
                bonusGameEndPopup: "closeButtonContainer fullScreenContainer finalPopupContainer gameLogoContainer bottomUIContainer reelsBorderContainer gameScreenContainer backgroundContainer".split(" ")
            }
        }
    }
});
nge.Com.LayersSwitcher.Controller = nge.Com.Base.extend(function() {
    function d() {
        var b = a.getInstance("Cfg");
        if (!b || !b.scenes) return console.error("nge.Com.LayersSwitcher.Controller no state cfg", b), !1;
        var c = nge.statesManager.getCurrentName();
        f.cfg = nge.Com.LayersSwitcher.Model(b.scenes[c])
    }

    function b() {
        f.objects = {};
        for (var a = 0; a < f.cfg.allContainers.length; a++) {
            var b = f.cfg.allContainers[a];
            f.objects[b] = nge.findOne("^" + b)
        }
    }

    function h(a) {
        for (var b in e.animationTypes) {
            var c = e.animationTypes[b].name,
                d = f.next.layer &&
                f.next.layer[c];
            if (f.current.layer && f.current.layer[c] || d) e.animationTypes[c](f, a)
        }
    }

    function g(a, b) {
        if (a)
            for (var c = 0; c < a.length; c++) f.objects[a[c]] || console.error("nge.Com.LayersSwitcher.Controller error: no key", a[c]), f.objects[a[c]].visible = b
    }
    var f = {
            cfg: null,
            objects: {},
            next: null,
            current: null
        },
        a = this,
        c, e;
    this.create = function() {
        this.createDefault();
        e = this.getInstance("Helper");
        d();
        f.next = {
            name: "",
            layer: !1
        };
        f.current = {
            name: "",
            layer: !1
        };
        b();
        k(f.cfg.defaultLayer);
        c || (nge.observer.add("layersSwitcher.show",
            k), c = !0);
        if (f.cfg.autoSwitch) {
            var a = function() {
                nge.rafSetTimeout(a, f.cfg.autoSwitchDelay);
                var b = Object.keys(f.cfg.layers).length - 1;
                b = nge.Lib.Helper.getRandomInt(0, b);
                b = Object.keys(f.cfg.layers[b]);
                nge.observer.fire("layersSwitcher.show", b)
            };
            nge.rafSetTimeout(a, f.cfg.autoSwitchDelay)
        }
    };
    var k = function(a) {
        f.next.name = a.split(" ")[0];
        f.next.name === f.current.name ? console.warn("LayersSwitcher: trying to change to the same layer", f.current.name) : (f.next.layer = f.cfg.layers[f.next.name], f.next.layer ? (g(f.cfg.allContainers,
            !1), g(f.next.layer.static, !0), h(function() {
            nge.observer.fire("layerSwitcher.animationComplete", a)
        }), f.current = {
            name: f.next.name,
            layer: f.next.layer
        }, nge.localData.get("layersSwitcher.debug") && console.log("layerSwircher.show: %c" + a, "color:yellow;background:black")) : console.error("No layer with key", f.next.name))
    }
});
nge.Com.LayersSwitcher.Helper = Class.extend(function() {
    function d(b, d) {
        (d = d.objects[b] || nge.findOne("^" + b)) || console.error("Cant't find element ", b);
        return d
    }

    function b(b, d, f) {
        if (b)
            for (var a = 0; a < b.length; a++) d.objects[b[a]] || console.error("nge.Com.LayersSwitcher.Controller error: no key", b[a]), d.objects[b[a]].visible = f
    }
    this.singleton = !0;
    this.animationTypes = {
        darkLayer: function(b, d) {
            var f = b.objects[b.cfg.allContainers[0]].parent,
                a = nge.Com.LayersSwitcher.Capture,
                c = b.current;
            b = b.next.layer;
            c.layer && c.layer.darkLayer &&
                (c = nge.localData.get("layersSwitcher.animations.darkLayer.image"), c.parent.remove(c), c.destroy());
            b && b.darkLayer && (c = a.generateImage(0, f), d && d(), nge.localData.set("layersSwitcher.animations.darkLayer.image", c))
        },
        fromDark: function(b, d) {
            var f = b.objects[b.cfg.allContainers[0]].parent,
                a = nge.Com.LayersSwitcher.Capture;
            (b = b.next.layer) && b.fromDark && (f = a.generateImage(0, f), a.animate(f, 1E3, {
                alpha: 0
            }, function() {
                d && d()
            }, !0, !1))
        },
        capture: function(h, g) {
            var f = h.objects[h.cfg.allContainers[0]].parent,
                a = nge.Com.LayersSwitcher.Capture,
                c = h.current,
                e = h.next.layer,
                k = function(c) {
                    f.children.forEach(function(a) {
                        a.primalZ = a.z
                    });
                    b(h.cfg.allContainers, h, !1);
                    b(h.current.layer.static, h, !0);
                    var e = a.getTexture(c.exclude);
                    e = a.getImage(e, f);
                    b(h.cfg.allContainers, h, !1);
                    b(h.next.layer.static, h, !0);
                    c.overlay && c.overlay.forEach(function(a) {
                        if (a = d(a, h)) a.primalZ = a.z, a.primalParent = a.parent, f !== a.parent && (a.parent.remove(a), f.add(a)), f.bringToTop(a)
                    });
                    e.visible = !0;
                    nge.localData.set("layersSwitcher.animations.capture.captureImage", e)
                },
                l = function(b) {
                    var c =
                        nge.localData.get("layersSwitcher.animations.capture.captureImage");
                    c ? a.animate(c, 500, {
                        alpha: 0
                    }, function() {
                        b.overlay && (b.overlay.forEach(function(a) {
                            a = d(a, h);
                            a.primalParent !== f && (f.remove(a), a.primalParent.add(a))
                        }), b.overlay.forEach(function(a) {
                            a = d(a, h);
                            a.z = a.primalZ
                        }), f.sort(), b.overlay.forEach(function(a) {
                            d(a, h).parent.sort()
                        }));
                        g && g()
                    }, !0, !1) : console.error("Invalid captureImage", c)
                };
            c.layer && c.layer.capture && l(c.layer.capture);
            e && e.capture && k(e.capture)
        },
        bounce: function(b, g) {
            var f = function(a,
                    b, c, d) {
                    a.visible = !0;
                    var e = nge.localData.get("layersSwitcher.animations.bounce.tweens");
                    e && e[c] && e[c].stop(!0);
                    for (var f = 0, g, h, k = 0 < b ? 750 : 500, l = .5 * (1 - b), m = .5 * (1 + b), w = 0; w < a.children.length; w++) a.getChildAt(w).hasClass("cover") && (f = w, h = a.getChildAt(w), h.alpha = 0 < b ? 0 : .7, a.parent.addChildAt(h, a.parent.getChildIndex(a)), nge.tween.add(h).to({
                        alpha: 0 < b ? .7 : 0
                    }, k, 0 < b ? nge.Lib.Tween.Easing.Cubic.Out : nge.Lib.Tween.Easing.Cubic.In, !0));
                    a.original || (a.original = {
                        x: a.centerX,
                        y: a.centerY
                    });
                    a.scale.x = a.scale.y = l;
                    g = nge.tween.add(a.scale);
                    g.to({
                        x: m,
                        y: m
                    }, k, 0 < b ? nge.Lib.Tween.Easing.Elastic.Out : nge.Lib.Tween.Easing.Back.In, !1);
                    g.onUpdateCallback(function() {
                        a.centerX = a.original.x;
                        a.centerY = a.original.y
                    }, this);
                    g.onComplete.add(function() {
                        a.scale.x = a.scale.y = 1;
                        a.centerX = a.original.x;
                        a.centerY = a.original.y;
                        h && a.addChildAt(h, f);
                        g = null;
                        delete e[c];
                        nge.localData.set("layersSwitcher.animations.bounce.tweens", e);
                        if (d) return d()
                    }, this);
                    g.start();
                    e || (e = {});
                    e[c] = g;
                    nge.localData.set("layersSwitcher.animations.bounce.tweens", e)
                },
                a = b.current.layer,
                c = b.next.layer;
            a && a.bounce && a.bounce.forEach(function(a) {
                if (!c.static.includes(a)) {
                    var e = d(a, b);
                    e && f(e, -1, a, function() {
                        e.visible = !1;
                        g && g()
                    })
                }
            });
            c && c.bounce && c.bounce.forEach(function(a) {
                var c = d(a, b);
                c && f(c, 1, a, g)
            })
        },
        fakeLoaderOn: function(d, g) {
            var f = d.next.layer;
            if (f && f.fakeLoaderOn) {
                f = f.fakeLoaderOn.showDuration || 500;
                b(d.cfg.allContainers, d, !1);
                b(d.current.layer.static, d, !0);
                var a = nge.findOne("^loadingBarContainer");
                a || (a = nge.objects.create("loadingBarContainer"));
                a.alpha = 0;
                nge.find("^loadingBarFill").visible = !0;
                nge.tween.add(a).to({
                    alpha: 1
                }, f, null, !0).onComplete.addOnce(function() {
                    b(d.cfg.allContainers, d, !1);
                    a.alpha = 1;
                    g && g()
                }, this)
            }
        },
        fakeLoaderOff: function(b, d) {
            var f = b.next.layer;
            if (f && f.fakeLoaderOff) {
                b = f.fakeLoaderOff.hideDelay || 0;
                var a = f.fakeLoaderOff.hideDuration || 500,
                    c = nge.findOne("^loadingBarContainer");
                c || (c = nge.objects.create("loadingBarContainer"));
                c.alpha = 1;
                if (f = nge.find("^loadingBarFill")) f.visible = !0;
                nge.rafSetTimeout(function() {
                    nge.tween.add(c).to({
                        alpha: 0
                    }, a, null, !0).onComplete.addOnce(function() {
                        c.alpha =
                            0;
                        c.destroy();
                        d && d()
                    }, this)
                }, b)
            }
        }
    }
});
nge.Com.LayersSwitcher.Capture = {
    getTexture: function(d) {
        nge.observer.fire("capture.started");
        var b, h;
        if (d)
            for (b = 0; b < d.length; b++)(h = nge.findOne("^" + d[b])) ? h.visible = !1 : console.error("Can't exclude object with name \"" + d[b] + "\". Maybe it doesn't exist");
        nge.game.paused = !0;
        var g = new Phaser.RenderTexture(nge.game, nge.game.width, nge.game.height, "cover", Phaser.scaleModes.SHOW_ALL, nge.game.renderer.resolution);
        b = nge.objects.create(new nge.Mlm.Objects.Graphics({}));
        b.beginFill(nge.game.stage.backgroundColor);
        b.lineStyle(1,
            nge.game.stage.backgroundColor, 1);
        b.drawRect(0, 0, nge.game.width, nge.game.height);
        b.endFill();
        g.renderXY(b, 0, 0);
        b.clear();
        g.renderXY(nge.game.world, -nge.game.camera.x, -nge.game.camera.y);
        nge.game.paused = !1;
        if (d)
            for (b = 0; b < d.length; b++)
                if (h = nge.findOne("^" + d[b])) h.visible = !0;
        nge.observer.fire("capture.ended");
        return g
    },
    generateImage: function(d, b) {
        var h = nge.objects.create(new nge.Mlm.Objects.Graphics({}));
        h.beginFill(d);
        h.drawRect(0, 0, 1, 1);
        h.endFill();
        d = nge.objects.create(new nge.Mlm.Objects.Image({
            assetKey: "1px_empty"
        }));
        d.loadTexture(h.generateTexture());
        d.width = nge.game.width / nge.game.world.scale.x;
        d.height = nge.game.height / nge.game.world.scale.y;
        d.visible = !0;
        b = b || nge.game.world;
        b.add(d);
        b.bringToTop(d);
        return d
    },
    getImage: function(d, b) {
        var h = nge.objects.create(new nge.Mlm.Objects.Image({
            assetKey: "1px_empty"
        }));
        h.loadTexture(d);
        h.width = nge.game.width / nge.game.world.scale.x;
        h.height = nge.game.height / nge.game.world.scale.y;
        h.visible = !1;
        b = b || nge.game.world;
        b.add(h);
        b.bringToTop(h);
        return h
    },
    animate: function(d, b, h, g, f,
        a, c, e, k) {
        b = nge.tween.add(d).to(h || {}, b || 0, a || nge.Lib.Tween.Easing.Linear.None, f, c, e, k);
        b.onComplete.addOnce(function() {
            d.parent.remove(d);
            d.destroy();
            if (g) return g()
        }, this);
        return b
    },
    __test: function() {
        var d = this.getTexture();
        d = this.getImage(d, nge.game.world);
        d.visible = !0;
        this.animate(d, 2E3, {
            alpha: 0
        }, function() {}, !0, !1, 0)
    }
};
nge.Com.LayersSwitcher.Model = function(d) {
    d || (d = {});
    return {
        baseScreen: d.hasOwnProperty("baseScreen") ? d.baseScreen : "game",
        defaultLayer: d.hasOwnProperty("defaultLayer") ? d.defaultLayer : "game",
        autoSwitch: d.hasOwnProperty("autoSwitch") ? d.autoSwitch : !1,
        autoSwitchDelay: d.hasOwnProperty("autoSwitchDelay") ? d.autoSwitchDelay : 2E3,
        allContainers: d.hasOwnProperty("allContainers") ? d.allContainers : [],
        layers: d.hasOwnProperty("layers") ? d.layers : []
    }
};
nge.Com.Lines = {};
nge.Com.Lines._Package = {
    name: "com.lines",
    version: 1,
    requirments: {
        js: ["com/lines/controller"]
    }
};
nge.Com.Lines.Controller = nge.Com.Base.extend(function() {
    var d, b;
    this.create = function() {
        this.createDefault();
        var k = nge.localData.get("lines.cfg");
        b = 1;
        k && (b = k[k.length - 1]);
        nge.localData.set("maxLinesValue", b);
        h();
        d || (nge.observer.add("brain.openGameSuccess", h), nge.observer.add("lines.down", a), nge.observer.add("lines.up", c), nge.observer.add("lines.downNC", g), nge.observer.add("lines.upNC", f), nge.observer.add("lines.set", e), nge.observer.add("lines.update", h));
        return d = !0
    };
    var h = function() {
            var a = nge.localData.get("lines.value");
            if (!a) {
                a = 1;
                var b = nge.localData.get("lines.cfg");
                b && (a = b[b.length - 1])
            }
            e(a, !0);
            return !0
        },
        g = function() {
            a(!0)
        },
        f = function() {
            c(!0)
        },
        a = function(a) {
            var b = nge.localData.get("lines.value"),
                c = nge.localData.get("lines.cfg");
            if (!b) return !1;
            b = c.indexOf(b);
            b--;
            c[b] || (b = a ? 0 : c.length - 1);
            b = c[b];
            nge.observer.fire("lines.set", b);
            return !0
        },
        c = function(a) {
            var b = nge.localData.get("lines.value"),
                c = nge.localData.get("lines.cfg");
            if (!b) return !1;
            b = c.indexOf(b);
            b++;
            c[b] || (b = a ? c.length - 1 : 0);
            b = c[b];
            nge.observer.fire("lines.set",
                b);
            return !0
        },
        e = function(a, b) {
            nge.observer.fire("winlines.hideAll");
            b || (nge.observer.fire("lines.change", a), nge.localData.set("winlines.updated", !0));
            b = nge.findAll(".linesNumber");
            for (var c in b) b[c].text = a;
            nge.localData.set("lines.value", a)
        }
});
nge.Com.Load = {};
nge.Com.Load._Package = {
    name: "com.load",
    version: 1,
    requirments: {
        js: ["com/load/controller"]
    }
};
nge.Com.Load.Controller = nge.Com.Base.extend(function() {
    var d, b = !1;
    this.preload = function() {
        this.preloadDefault();
        d = this.getInstance("Cfg");
        nge.userInfoHTML("Attempting to Auth");
        nge.observer.fire("brain.authRequest");
        nge.userInfoHTML("Preloading fonts and sounds");
        var b = nge.assets.getAntiCacheSuffix(),
            f = nge.assets.getImagesPath();
        nge.game.load.json("uber_json", f + "uber.json" + b);
        b = nge.assets.getAntiCacheSuffix();
        f = d.fonts || {};
        for (var a in f) nge.game.load.font(a, nge.realPathPrefix + f[a] + ".otf" + b);
        (a = nge.Lib.Helper.parseGetParams("customJs")) &&
        nge.Lib.Helper.loadJsCssFile(a, "js");
        return !0
    };
    this.create = function() {
        this.createDefault();
        h();
        nge.Lib.Checker.delay(function() {
            return b
        }, function() {
            nge.rafSetTimeout(function() {
                nge.statesManager.display("loadAssets")
            }, 1)
        }, 500, 100, !0);
        return !0
    };
    var h = function() {
        var g = [],
            f;
        for (f in d.fonts)
            if (g.push(f), nge.game.cache.checkFontKey(f)) {
                var a = document.createElement("style");
                a.type = "text/css";
                a.innerHTML = "@font-face {font-family: '" + f + "';src: url('" + nge.game.cache.getFont(f) + "') format('opentype');}";
                document.getElementsByTagName("head")[0].appendChild(a)
            } nge.Lib.Helper.waitForWebfonts(g, function() {
            b = !0
        })
    }
});
nge.Com.Load.Cfg = Class.extend(function() {
    this.singleton = !0;
    this.fonts = {
        freesetboldc: "css/fonts/freeSet-Bold",
        hobo_std: "css/fonts/hobo_std",
        roboto_condensed_regular: "css/fonts/roboto_condensed_regular",
        roboto_condensed_bold: "css/fonts/roboto_condensed_bold",
        roboto_regular: "css/fonts/roboto_regular"
    };
    this.atlasesGroups = ["atlases"];
    this.archives = []
});
nge.Com.Load.Tpl = function() {
    return {
        assets: {
            name: "assets",
            contents: []
        },
        objects: {
            name: "objects",
            contents: []
        }
    }
};
nge.Com.LoadAssets = {};
nge.Com.LoadAssets.Controller = nge.Com.Base.extend(function() {
    var d, b, h, g = !1,
        f = !1,
        a = !1,
        c;
    this.preload = function() {
        this.preloadDefault();
        d = this;
        b = nge.App.getInstance("Com.Load.Cfg");
        d.preloadDefault(nge.tpl.group("scrollbarVertical"));
        d.preloadDefault(nge.tpl.group("scrollbarHorizontal"));
        window.mt.data.assets.contents.push({
            name: "loader",
            contents: nge.tpl.group("loader").assets.contents,
            id: 4
        });
        window.mt.data.objects.contents.push({
            id: "loader",
            name: "loader",
            contents: nge.tpl.group("loader").objects.contents,
            isVisible: !0,
            type: 1
        });
        if (b && b.atlasesGroups && b.atlasesGroups.length)
            for (var a = 0; a < b.atlasesGroups.length; a++) {
                var c = b.atlasesGroups[a];
                window.mt.data.assets.contents.push({
                    name: c,
                    contents: nge.tpl.group(c).assets.contents
                })
            }
        if (b && b.bitmapFonts)
            for (var f in b.bitmapFonts) window.mt.data.assets.contents.push({
                key: f,
                textureURL: b.bitmapFonts[f].textureURL,
                bitmapFont: b.bitmapFonts[f].bitmapFont
            })
    };
    this.create = function() {
        h = nge.Lib.Time.get();
        nge.Lib.Helper.mobileAndTabletCheck() ? a = !0 : nge.soundManager.preload();
        c || (this.subscribe(), c = !0);
        nge.Lib.Checker.delay(function() {
            var b = nge.Lib.Time.getDeltaT(h);
            g || (2E4 < b ? (f = !1, g = !0) : !0 === nge.localData.get("brain.firstAuthComplete") && (g = f = !0));
            return g && a
        }, function() {
            nge.rafSetTimeout(function() {
                f ? (nge.userInfoHTML("Auth Complete"), nge.observer.fire("loadAssets.complete"), nge.statesManager.display(nge.statesManager.getDefaultState())) : (nge.userInfoHTML("Auth Fail. Try again later."), nge.userFatalErrorHTML("Auth Fail", "Try again later."))
            }, 1)
        }, 500, 1E4, !0)
    };
    this.subscribe =
        function() {
            nge.observer.add("sounds.preloaded", function() {
                a = !0
            })
        }
});
nge.Com.LoadAssets.Tpl = function() {
    var d = {
        assets: {
            contents: []
        },
        objects: {
            contents: []
        }
    };
    if ("undefined" === typeof customButtons) return d;
    for (var b in customButtons) {
        var h = customButtons[b];
        if (h.callback) {
            if (h.imageUrl) {
                var g = {};
                g.key = b.concat("-blank");
                g.fullPath = h.imageUrl;
                d.assets.contents.push(g)
            }
            if (customButtons[b].imageBase64) {
                var f = new Image;
                f.src = customButtons[b].imageBase64;
                (function(a) {
                    f.onload = function() {
                        nge.game.cache.addImage(a.concat("-blank"), f.src, f)
                    }
                })(b)
            }
        }
    }
    return d
};
nge.Com.Maxbet = {};
nge.Com.Maxbet._Package = {
    name: "com.maxbet",
    version: 1,
    requirments: {
        js: ["com/maxbet/controller"]
    }
};
nge.Com.Maxbet.Controller = nge.Com.Base.extend(function() {
    var d, b, h;
    this.create = function() {
        this.createDefault();
        b = this.getInstance("Cfg").get();
        d || (l(), g());
        d = !0
    };
    var g = function() {
            var b = nge.localData.get("lines.value"),
                c = nge.localData.get("bet.value"),
                d = nge.localData.get("maxBetValue"),
                e = nge.localData.get("maxLinesValue");
            if (b !== e || c !== d) return f(!1), a(!1), !1;
            f(!0);
            a(!0);
            return !0
        },
        f = function(a) {
            if (!b.maxbetButtonChange) return !1;
            (h = a) ? k(): c()
        },
        a = function(a) {
            if (!b.spinButtonChange) return !1;
            nge.observer.fire("spinButton.maxBet",
                a)
        },
        c = function() {
            if (nge.localData.get("autospin.inProgress") || nge.localData.get("freespin.inProgress") || nge.localData.get("freeGame.inProgress")) return !1;
            h ? k() : (nge.find("^" + b.maxbetButtonName).enable(), nge.find("^btn_maxbet_text1").removeClass("disableText"), nge.find("^btn_maxbet_text2").removeClass("disableText"))
        },
        e = function() {
            nge.find("^" + b.maxbetButtonName).disable(4);
            nge.find("^btn_maxbet_text1").addClass("disableText");
            nge.find("^btn_maxbet_text2").addClass("disableText")
        },
        k = function() {
            if (nge.localData.get("autospin.inProgress") ||
                nge.localData.get("freespin.inProgress") || nge.localData.get("freeGame.inProgress")) return !1;
            nge.find("^" + b.maxbetButtonName).disable(3);
            nge.find("^btn_maxbet_text1").removeClass("disableText");
            nge.find("^btn_maxbet_text2").removeClass("disableText")
        },
        l = function() {
            nge.observer.add("bet.change", function() {
                g()
            });
            nge.observer.add("lines.change", function() {
                g()
            });
            nge.observer.add("maxBetButton.enable", c);
            nge.observer.add("maxBetButton.disable", e);
            nge.observer.add("slotMachine.spinComplete", function() {
                g()
            })
        }
});
nge.Com.Maxbet.Cfg = Class.extend(function() {
    this.singleton = !0;
    this.cfg = {
        maxbetButtonChange: !1,
        maxbetButtonName: "btn_maxbet",
        spinButtonChange: !1,
        spinButtonName: "spinButton",
        spinButtonRegularSprite: "/slots/btn_spin_regular.png",
        spinButtonMaxSprite: "/slots/btn_spin_maxbet.png"
    };
    this.get = function() {
        return this.cfg
    }
});
nge.Com.Paytable = {};
nge.Com.Paytable._Package = {
    name: "com.paytable",
    version: 1,
    requirments: {
        js: []
    }
};
nge.Com.Paytable.Cfg = Class.extend(function() {
    this.singleton = !0;
    this.tpl = "TplPaytableBonusLinesTabs";
    this.params = {
        x: 100,
        y: 50,
        horizontal: !0,
        itemLogoWidth: 280,
        itemLogoHeight: 280,
        mw: 3,
        gapX: 492,
        gapY: 40,
        linesContainerX: 0,
        linesContainerY: 0,
        paytableWasteSymbols: []
    };
    this.get = function() {
        return this.params
    }
});
nge.Com.Paytable.Controller = nge.Com.Base.extend(function() {
    var d, b, h, g;
    this.preload = function() {
        var a = this.getInstance("Cfg");
        h = a.get();
        b = a.tpl;
        this.preloadDefault(b)
    };
    this.create = function() {
        this.createDefault(b);
        g || (nge.observer.add("tabs.paytablePopupObject.switch", f), nge.observer.add("winlines.thumbsResponse", a));
        g || (g = !0);
        this.customCreate();
        return !0
    };
    this.customCreate = function() {
        if (nge.tpl.group("paytable")) return !1;
        var a = nge.localData.get("payout.cfg"),
            b = {},
            d = 0,
            f = a.length,
            g = 0;
        a: for (; g < f; g++) {
            var q =
                a[g].symbols,
                n = a[g].payout,
                p = a[g].matchCount,
                r = 0,
                u = q[0];
            if (h.hasOwnProperty("paytableWasteSymbols")) {
                var t = h.paytableWasteSymbols;
                for (y in t)
                    if (u === t[y]) continue a
            }
            if (0 !== n) {
                if (0 < p) u = "any_" + q.join("_"), r = p;
                else
                    for (p = q.length, t = 0; t < p; t++) {
                        if (u !== q[t]) continue a;
                        r++
                    }
                b[u] || (d++, b[u] = {}, b[u].awards = []);
                b[u].awards.push({
                    name: r,
                    value: n
                })
            }
        }
        a = nge.findOne("^paytableItemsContainer");
        h.hasOwnProperty("x") && (a.x = h.x);
        h.hasOwnProperty("y") && (a.y = h.y);
        var v = h.horizontal,
            w = h.itemLogoWidth,
            x = h.itemLogoHeight;
        f =
            h.mw;
        g = h.gapX;
        q = h.gapY;
        r = n = 0;
        u = 1;
        var y = d % f;
        p = (f * g - y * g) / 2;
        for (var z in b) {
            var B = b[z].awards,
                A = nge.objects.create("paytableItemContainer", a);
            A.visible = !0;
            A.id = z + "_itemContainer";
            A.name = z + "_itemContainer";
            A.x = n;
            A.y = r;
            u > d - y && (A.x += p);
            t = A.create(0, 0, z);
            t.id = z + "_logo";
            t.name = z + "_logo";
            t.width = w;
            t.height = x;
            var C = 0;
            B.forEach(function(a) {
                var b = nge.objects.create("paytableItemText", A);
                b.x = v ? w + 50 : 100;
                b.y = v ? x / 5 * ((5 - B.length) / 2) : x + 15;
                b.visible = !0;
                var c = nge.objects.create("paytableAwardName", b);
                c.y = C;
                c.text = a.name;
                c.visible = !0;
                b = nge.objects.create("paytableAwardValue", b);
                b.name = "paytableAwardValue" + a + z;
                b.y = C;
                b.text = "- " + a.value;
                b.visible = !0;
                C += 50
            });
            n = 0 === u % f ? 0 : n + g;
            r += 0 === u % f ? x + q + (v ? 0 : 200) : 0;
            u++
        }
    };
    var f = function(a) {
            switch (a.tab) {
                case "LinesTab":
                    nge.observer.fire("winlines.thumbsRequest")
            }
        },
        a = function(a) {
            d = nge.find("#paytableLinesContainer");
            h.hasOwnProperty("linesContainerX") && (d.x = h.linesContainerX);
            h.hasOwnProperty("linesContainerY") && (d.y = h.linesContainerY);
            for (var b = 0, c = 0, f = 0; f < a.length; f++) {
                a[f].x = f % 3 *
                    (a[f].width + 130) + 130;
                a[f].y = ~~(f / 3) * (a[f].height + 150) + 100;
                a[f].visible = !0;
                var g = nge.objects.create("paytableLinesText");
                g.x = a[f].x + a[f].width / 2;
                g.y = a[f].y - 30;
                g.text = "LINE " + (f + 1);
                g.alpha = 1;
                g.name = "paytableLinesText_" + (f + 1);
                3 <= a.length && ~~(f / 3) === ~~(a.length / 3) && (b || (b = a.length % 3, c = (d.width - 130 - (a[f].width + 130) * b) / 2), a[f].x += c, g.x += c);
                d.addChild(g);
                d.addChild(a[f])
            }
        }
});
nge.Com.Paytable.TplPaytableBonusLinesTabs = function() {
    var d = [{
            name: "paytableItemContainer",
            type: 1,
            contents: [{
                name: "paytableLogo",
                type: 0,
                isVisible: !1,
                width: 256,
                height: 256,
                assetKey: null
            }, {
                name: "paytableItemText",
                x: 306,
                width: 256,
                height: 256,
                type: 1,
                contents: [{
                    name: "paytableAwardName",
                    type: 2,
                    anchorX: 1,
                    anchorY: 0,
                    style: {
                        font: "34pt 'freesetboldc'",
                        fill: "#41C402",
                        align: "left"
                    },
                    isVisible: !1
                }, {
                    name: "paytableAwardValue",
                    x: 15,
                    type: 2,
                    style: {
                        font: "34pt 'freesetboldc'",
                        fill: "#26A5B8",
                        align: "left"
                    },
                    isVisible: !1
                }],
                isVisible: !1
            }],
            isVisible: !1
        }],
        b = nge.tpl.group("bonus"),
        h = nge.tpl.group("paytable");
    d = {
        styles: {
            "#paytablePopupObject .tabBtn": {
                btnFrames: {
                    over: 2,
                    out: 1,
                    down: 3
                },
                frame: 1
            },
            "#paytablePopupObject .active .tabBtn": {
                btnFrames: {
                    over: 3,
                    out: 3,
                    down: 3
                },
                frame: 3,
                enabled: !1
            },
            "#paytablePopupObject .tabText": {
                y: 100,
                anchorX: .5,
                anchorY: 1,
                style: {
                    font: "50px 'freesetboldc'",
                    fill: "#13a6d0",
                    strokeThickness: 0,
                    align: "left"
                }
            },
            "#paytablePopupObject .active .tabText": {
                style: {
                    fill: "#ffffff",
                    stroke: "#1f8ea7",
                    strokeThickness: 3
                }
            }
        },
        assets: {
            name: "assets",
            contents: [{
                name: "groupLogo",
                contents: nge.tpl.group("logo").assets.contents
            }, {
                name: "groupBonus",
                contents: b.assets.contents
            }, {
                name: "groupPaytable",
                contents: h ? h.assets.contents : []
            }, {
                fullPath: "img/black-bg.png",
                key: "/black-bg.png",
                qualityObeys: !1
            }, {
                fullPath: "img/btn/tab_center.png",
                key: "/settings/tab_center.png",
                width: 2288,
                height: 236,
                frameWidth: 572
            }, {
                fullPath: "img/btn/tab_left.png",
                key: "/settings/tab_left.png",
                width: 2208,
                height: 236,
                frameWidth: 552
            }, {
                fullPath: "img/btn/tab_right.png",
                key: "/settings/tab_right.png",
                width: 2176,
                height: 236,
                frameWidth: 544
            }, {
                fullPath: "img/btn/tab_close.png",
                key: "/settings/close_paytable.png",
                width: 216,
                height: 72,
                frameWidth: 72
            }, {
                fullPath: "img/btn/tab_info_bg.png",
                key: "/btn/tab_info_bg.png"
            }, {
                fullPath: "img/btn/tab_stars_bg.png",
                key: "/stars"
            }, {
                fullPath: "img/settings/total_bet_txt_fill.png",
                key: "/settings/total_bet_txt_fill.png"
            }, {
                fullPath: "img/settings/money.png",
                key: "/settings/money.png"
            }, {
                fullPath: "img/settings/separator_money_btn.png",
                key: "/settings/separator_money_btn.png",
                qualityObeys: !1
            }]
        },
        objects: {
            name: "objects",
            contents: [{
                id: "paytablePopupContainer",
                name: "paytablePopupContainer",
                type: 1,
                contents: [{
                    id: "groupLogo",
                    name: "groupLogo",
                    type: 1,
                    x: 1024,
                    y: 150,
                    contents: nge.tpl.group("logo").objects.contents,
                    isVisible: 1
                }, {
                    x: 1925,
                    y: 295,
                    type: 4,
                    isVisible: 1,
                    assetKey: "/settings/close_paytable.png",
                    action: "function () {nge.statesManager.display('play', true);}",
                    btnFrames: {
                        over: 2,
                        out: 1,
                        down: 2
                    }
                }, {
                    id: "paytablePopupObject",
                    name: "paytablePopupObject",
                    type: 1,
                    tabs: 1,
                    tabActive: {
                        tab: "PaytableTab",
                        container: "paytablePopupPaytableContainer"
                    },
                    contents: [{
                        id: "paytablePopupTabsContainer",
                        name: "paytablePopupTabsContainer",
                        x: 155,
                        y: 261,
                        type: 1,
                        contents: [{
                            id: "PaytableTab",
                            type: 1,
                            x: 40,
                            contents: [{
                                x: 315,
                                "class": "tabText",
                                type: 2,
                                isVisible: !0,
                                text: "Paytable"
                            }, {
                                type: 4,
                                isVisible: 1,
                                assetKey: "/settings/tab_left.png",
                                action: "function () {nge.observer.fire('tabs.paytablePopupObject.switch', {tab: 'PaytableTab', container:'paytablePopupPaytableContainer'});}",
                                "class": "tabBtn"
                            }],
                            isVisible: 1
                        }, {
                            id: "BonusTab",
                            type: 1,
                            contents: [{
                                x: 885,
                                "class": "tabText",
                                type: 2,
                                isVisible: !0,
                                text: "Special"
                            }, {
                                x: 592,
                                type: 4,
                                isVisible: 1,
                                assetKey: "/settings/tab_center.png",
                                action: "function () {nge.observer.fire('tabs.paytablePopupObject.switch', {tab: 'BonusTab', container:'paytablePopupBonusContainer'});}",
                                "class": "tabBtn"
                            }],
                            isVisible: 1
                        }, {
                            id: "LinesTab",
                            type: 1,
                            y: 1,
                            contents: [{
                                x: 1420,
                                "class": "tabText",
                                type: 2,
                                isVisible: !0,
                                text: "Lines"
                            }, {
                                x: 1164,
                                type: 4,
                                isVisible: 1,
                                assetKey: "/settings/tab_right.png",
                                action: "function () {nge.observer.fire('tabs.paytablePopupObject.switch', {tab: 'LinesTab', container:'paytablePopupLinesContainer'});}",
                                "class": "tabBtn"
                            }],
                            isVisible: 1
                        }],
                        isVisible: 1,
                        fullPath: "/paytablePopupTabsContainer"
                    }, {
                        id: "paytablePopupPaytableContainer",
                        x: 195,
                        y: 415,
                        type: 1,
                        contents: [{
                            name: "paytableItemsContainer",
                            x: h ? 0 : 100,
                            y: h ? 0 : 100,
                            type: 1,
                            contents: h ? h.objects.contents : d,
                            isVisible: 1
                        }, {
                            x: -50,
                            y: -30,
                            type: 0,
                            isVisible: h ? !1 : !0,
                            assetKey: "/btn/tab_info_bg.png"
                        }],
                        isVisible: 1
                    }, {
                        id: "paytablePopupBonusContainer",
                        name: "paytablePopupBonusContainer",
                        x: 195,
                        y: 415,
                        type: 1,
                        contents: [{
                                name: "bonusContainer",
                                contents: b.objects.contents,
                                isVisible: 1,
                                type: 1
                            },
                            {
                                type: 0,
                                isVisible: 1,
                                alpha: .5,
                                name: "stars",
                                assetKey: "/stars"
                            }, {
                                x: -50,
                                y: -30,
                                type: 0,
                                isVisible: 1,
                                name: "bonus_tab_info_bg.png",
                                assetKey: "/btn/tab_info_bg.png"
                            }
                        ],
                        isVisible: 1
                    }, {
                        id: "paytablePopupLinesContainer",
                        name: "paytablePopupLinesContainer",
                        x: 195,
                        y: 415,
                        type: 1,
                        contents: [{
                            id: "paytableLinesContainer",
                            name: "paytableLinesContainer",
                            type: 1,
                            scroll: 1,
                            width: 1780,
                            height: 1053,
                            isVisible: 1,
                            contents: []
                        }, {
                            name: "paytableLinesText",
                            anchorX: .5,
                            anchorY: .5,
                            type: 2,
                            style: {
                                font: "bolder 46px 'Arial'",
                                fill: "#26A5B8",
                                align: "center"
                            },
                            isVisible: 1,
                            alpha: 0,
                            text: " "
                        }, {
                            x: -50,
                            y: -30,
                            type: 0,
                            isVisible: 1,
                            alpha: 1,
                            name: "bonus_tab_info_bg.png",
                            assetKey: "/btn/tab_info_bg.png"
                        }],
                        isVisible: 1
                    }],
                    isVisible: 1
                }, {
                    name: "black-bg4",
                    scaleX: 205,
                    scaleY: 154,
                    alpha: .25,
                    isVisible: 1,
                    width: 10,
                    height: 10,
                    assetKey: "/black-bg.png"
                }],
                isVisible: 1
            }]
        }
    };
    d.styles = nge.Lib.Helper.mergeObjs(d.styles, b.styles);
    h && (d.styles = nge.Lib.Helper.mergeObjs(d.styles, h.styles));
    return d
};
nge.Com.Paytable.TplPaytableLinesTabs = function() {
    var d = [{
            name: "paytableItemContainer",
            type: 1,
            contents: [{
                name: "paytableLogo",
                type: 0,
                isVisible: !1,
                width: 256,
                height: 256,
                assetKey: null
            }, {
                name: "paytableItemText",
                x: 306,
                width: 256,
                height: 256,
                type: 1,
                contents: [{
                    name: "paytableAwardName",
                    type: 2,
                    anchorX: 1,
                    anchorY: 0,
                    style: {
                        font: "34pt 'freesetboldc'",
                        fill: "#41C402",
                        align: "left"
                    },
                    isVisible: !1
                }, {
                    name: "paytableAwardValue",
                    x: 15,
                    type: 2,
                    scaleX: 1,
                    scaleY: 1,
                    style: {
                        font: "34pt 'freesetboldc'",
                        fill: "#26A5B8",
                        align: "left"
                    },
                    isVisible: !1
                }],
                isVisible: !1
            }],
            isVisible: !1
        }],
        b = nge.tpl.group("bonus"),
        h = nge.tpl.group("paytable");
    d = {
        styles: {
            "#paytablePopupObject .tabBtn": {
                btnFrames: {
                    over: 2,
                    out: 1,
                    down: 3
                },
                frame: 1
            },
            "#paytablePopupObject .active .tabBtn": {
                btnFrames: {
                    over: 3,
                    out: 3,
                    down: 3
                },
                frame: 3,
                enabled: !1
            },
            "#paytablePopupObject .tabText": {
                y: 100,
                anchorX: .5,
                anchorY: 1,
                style: {
                    font: "50px 'freesetboldc'",
                    fill: "#13a6d0",
                    strokeThickness: 0,
                    align: "left"
                }
            },
            "#paytablePopupObject .active .tabText": {
                style: {
                    fill: "#ffffff",
                    stroke: "#1f8ea7",
                    strokeThickness: 3
                }
            }
        },
        assets: {
            name: "assets",
            contents: [{
                    name: "groupLogo",
                    contents: nge.tpl.group("logo").assets.contents
                }, {
                    name: "groupBonus",
                    contents: b.assets.contents
                }, {
                    name: "groupPaytable",
                    contents: h ? h.assets.contents : []
                }, {
                    fullPath: "img/black-bg.png",
                    key: "/black-bg.png",
                    qualityObeys: !1
                }, {
                    fullPath: "img/btn/tab_left2.png",
                    key: "/settings/tab_left2.png",
                    width: 3456,
                    height: 236,
                    frameWidth: 864,
                    frameHeight: 236
                }, {
                    fullPath: "img/btn/tab_right2.png",
                    key: "/settings/tab_right2.png",
                    width: 3456,
                    height: 236,
                    frameWidth: 864,
                    frameHeight: 236
                },
                {
                    fullPath: "img/btn/tab_close.png",
                    key: "btn_close_paytable",
                    width: 216,
                    height: 72,
                    frameWidth: 72
                }, {
                    fullPath: "img/btn/tab_info_bg.png",
                    key: "/btn/tab_info_bg2.png"
                }, {
                    fullPath: "img/settings/total_bet_txt_fill.png",
                    key: "/settings/total_bet_txt_fill2.png"
                }, {
                    fullPath: "img/settings/money.png",
                    key: "/settings/money.png2"
                }, {
                    fullPath: "img/settings/separator_money_btn.png",
                    key: "/settings/separator_money_btn.png",
                    qualityObeys: !1
                }
            ]
        },
        objects: {
            name: "objects",
            contents: [{
                id: "paytablePopupContainer",
                name: "paytablePopupContainer",
                type: 1,
                contents: [{
                    id: "groupLogo",
                    name: "groupLogo",
                    type: 1,
                    x: 1024,
                    y: 150,
                    contents: nge.tpl.group("logo").objects.contents,
                    isVisible: 1
                }, {
                    x: 1925,
                    y: 295,
                    type: 4,
                    isVisible: 1,
                    assetKey: "btn_close_paytable",
                    action: "function () {nge.statesManager.display('play', true);}",
                    btnFrames: {
                        over: 2,
                        out: 1,
                        down: 2
                    }
                }, {
                    id: "paytablePopupObject",
                    name: "paytablePopupObject",
                    type: 1,
                    tabs: 1,
                    tabActive: {
                        tab: "PaytableTab",
                        container: "paytablePopupPaytableContainer"
                    },
                    contents: [{
                        id: "paytablePopupTabsContainer",
                        name: "paytablePopupTabsContainer",
                        x: 155,
                        y: 261,
                        type: 1,
                        contents: [{
                            id: "PaytableTab",
                            type: 1,
                            contents: [{
                                x: 432,
                                "class": "tabText",
                                type: 2,
                                isVisible: !0,
                                text: "Paytable"
                            }, {
                                type: 4,
                                isVisible: 1,
                                assetKey: "/settings/tab_left2.png",
                                action: "function () {nge.observer.fire('tabs.paytablePopupObject.switch', {tab: 'PaytableTab', container:'paytablePopupPaytableContainer'});}",
                                "class": "tabBtn"
                            }],
                            isVisible: 1
                        }, {
                            id: "LinesTab",
                            type: 1,
                            contents: [{
                                x: 1296,
                                "class": "tabText",
                                type: 2,
                                isVisible: !0,
                                text: "Lines"
                            }, {
                                x: 864,
                                type: 4,
                                isVisible: 1,
                                assetKey: "/settings/tab_right2.png",
                                action: "function () {nge.observer.fire('tabs.paytablePopupObject.switch', {tab: 'LinesTab', container:'paytablePopupLinesContainer'});}",
                                "class": "tabBtn"
                            }],
                            isVisible: 1
                        }],
                        isVisible: 1,
                        fullPath: "/paytablePopupTabsContainer"
                    }, {
                        id: "paytablePopupPaytableContainer",
                        x: 195,
                        y: 415,
                        type: 1,
                        contents: [{
                            name: "paytableItemsContainer",
                            x: h ? 0 : 100,
                            y: h ? 0 : 100,
                            type: 1,
                            contents: h ? h.objects.contents : d,
                            isVisible: 1
                        }, {
                            x: -50,
                            y: -30,
                            type: 0,
                            isVisible: h ? !1 : !0,
                            assetKey: "/btn/tab_info_bg2.png"
                        }],
                        isVisible: 1
                    }, {
                        id: "paytablePopupLinesContainer",
                        name: "paytablePopupLinesContainer",
                        x: 195,
                        y: 415,
                        type: 1,
                        contents: [{
                            id: "paytableLinesContainer",
                            name: "paytableLinesContainer",
                            type: 1,
                            scroll: 1,
                            width: 1680,
                            height: 1053,
                            isVisible: 1,
                            contents: []
                        }, {
                            name: "paytableLinesText",
                            anchorX: .5,
                            anchorY: .5,
                            type: 2,
                            style: {
                                font: "bolder 36px 'freesetboldc'",
                                fill: "#26A5B8",
                                align: "center"
                            },
                            isVisible: 1,
                            alpha: 0,
                            text: " "
                        }, {
                            x: -50,
                            y: -30,
                            type: 0,
                            isVisible: 1,
                            assetKey: "/btn/tab_info_bg2.png"
                        }],
                        isVisible: 1
                    }],
                    isVisible: 1
                }, {
                    name: "black-bg4",
                    scaleX: 205,
                    scaleY: 154,
                    alpha: .25,
                    isVisible: 1,
                    width: 10,
                    height: 10,
                    assetKey: "/black-bg.png"
                }],
                isVisible: 1
            }]
        }
    };
    d.styles = nge.Lib.Helper.mergeObjs(d.styles, b.styles);
    h && (d.styles = nge.Lib.Helper.mergeObjs(d.styles, h.styles));
    return d
};
nge.Com.PaytableButton = {};
nge.Com.PaytableButton._Package = {
    name: "com.paytableButton",
    version: 1,
    requirments: {
        js: []
    }
};
nge.Com.PaytableButton.Animator = Class.extend(function() {
    this.firstCreation = function(b) {
        d(b);
        return !0
    };
    var d = function(b) {
        var d = nge.find("^paytableButtonContainer"),
            g = d.y + 200;
        d = nge.tween.add(d);
        d.from({
            y: g
        }, 600, nge.Lib.Tween.Easing.Back.Out, !1, 1E3).onComplete.add(function() {
            b && b()
        });
        d.start()
    }
});
nge.Com.PickUpBonusGame = {};
nge.Com.PickUpBonusGame._Package = {
    name: "com.pickUpBonusGame",
    version: 1,
    requirments: {
        js: ["com/pickUpBonusGame/controller"]
    }
};
nge.Com.PickUpBonusGame.Controller = nge.Com.Base.extend(function() {
    var d;
    this.inProgress = !1;
    this.lastPick = 0;
    this.counter = 1;
    this.itemsOpened = [];
    this.created = !1;
    this.setScope = function(b) {
        d = b
    };
    this.create = function() {
        this.setScope(this);
        this.createDefault();
        nge.observer.fire("brain.openPickUpBonusGame");
        this.created || this.subscribe();
        this.checkProgressFlags();
        this.restoreGame()
    };
    this.restoreGame = function() {
        var b = nge.localData.get("bonusGame.lastResponse");
        if (b && !b.lastPick) {
            for (var f in b.items) this.openItem(b,
                b.items[f]);
            b.winAmount && d.setWinAmount(b.winAmount)
        }
        nge.localData.set("bonusGame.lastResponse", !1)
    };
    this.checkProgressFlags = function() {
        this.created = !0;
        this.counter = 1;
        this.itemsOpened = [];
        this.inProgress = !1
    };
    var b = function(b) {},
        h = function(b) {
            if (d.inProgress || -1 !== d.itemsOpened.indexOf(b)) return !1;
            d.inProgress = !0;
            d.lastPick = b;
            d.itemsOpened.push(b);
            nge.observer.fire("pickUpBonusGame.actionRequest", b)
        };
    this.openItem = function(b, f) {
        f || (f = b.bonusItem);
        nge.observer.fire("PickUpBonusGame.animationStart");
        var a = nge.find("^pickItem" + f.index);
        a && a.disable(3);
        nge.find("^pickItemContainer" + f.index) && (a = nge.find("^pickItemText" + f.index)) && (a.text = f.value.toString(), a.visible = 1);
        d.setWinAmount(b.winAmount);
        d.customOpenItem(b, f);
        d.revealAll(b);
        b.lastPick && d.bonusGameEnd(b);
        d.complete();
        return !0
    };
    this.bonusGameEnd = function(b) {
        nge.localData.set("lastBonusWin", b.params.lastBonusWinAmount);
        nge.observer.fire("brain.bonusGameEnd")
    };
    this.setWinAmount = function(b) {
        var d = nge.find("^winAmount");
        d && (d.text = b)
    };
    this.customOpenItem =
        function(b, d) {};
    this.revealAll = function(b) {
        if (b.items)
            for (var d in b.items) {
                var a = b.items[d],
                    c = nge.find("^pickItemContainer" + a.index);
                if (!b.lastPick) {
                    var e = nge.find("^pickItem" + a.index);
                    e && e.disable(3)
                }(e = nge.find("^pickItemText" + a.index)) || (e = nge.find("^pickItemText" + a.index, c));
                e.text = a.value.toString();
                e.visible = 1
            }
    };
    this.complete = function() {
        d.inProgress = !1
    };
    this.subscribe = function() {
        nge.observer.add("brain.openPickUpBonusGameSuccess", b);
        nge.observer.add("pickUpBonusGame.actionCommand", h);
        nge.observer.add("pickUpBonusGame.actionResponse",
            d.openItem)
    }
});
nge.Com.PlayHeader = {};
nge.Com.PlayHeader._Package = {
    name: "com.playHeader",
    version: 1,
    requirments: {
        js: []
    }
};
nge.Com.PlayHeader.Animator = Class.extend(function() {
    this.firstCreation = function(b) {
        d(b);
        return !0
    };
    var d = function(b) {
        var d = nge.find("^playHeader"),
            g = d.y - 300;
        d = nge.tween.add(d);
        d.from({
            y: g
        }, 400, nge.Lib.Tween.Easing.Quadratic.Out, !1, 400).onComplete.add(function() {
            b && b()
        });
        d.start()
    }
});
nge.Com.PopUp = {};
nge.Com.PopUp._Package = {
    name: "com.popUp",
    version: 1,
    requirments: {
        js: ["com/popUp/controller"]
    }
};
nge.Com.PopUp.Controller = nge.Com.Base.extend(function() {
    var d, b;
    this.preload = function() {
        d || (d = this.getInstance("View"));
        this.preloadDefault(!1)
    };
    this.create = function() {
        b || nge.observer.add("popUp.show", h);
        b = !0
    };
    var h = function(b) {
        d.show(b)
    }
});
nge.Com.PopUp.Model = function(d) {
    d || (d = {});
    return {
        popUpType: nge.Lib.Helper.recursiveGet("popUpType", d, "message"),
        name: nge.Lib.Helper.recursiveGet("name", d, "popUpWrapper"),
        "class": nge.Lib.Helper.recursiveGet("class", d, !1),
        title: nge.Lib.Helper.recursiveGet("title", d, "Message"),
        text: nge.Lib.Helper.recursiveGet("text", d, ""),
        submitButtonText: nge.Lib.Helper.recursiveGet("submitButtonText", d, "YES"),
        cancelButtonText: nge.Lib.Helper.recursiveGet("cancelButtonText", d, "NO"),
        x: nge.Lib.Helper.recursiveGet("x", d,
            0),
        y: nge.Lib.Helper.recursiveGet("y", d, 0),
        onSubmit: nge.Lib.Helper.recursiveGet("onSubmit", d, !1),
        onCancel: nge.Lib.Helper.recursiveGet("onCancel", d, !1)
    }
};
nge.Com.PopUp.View = Class.extend(function() {
    var d, b = 0;
    this.show = function(g) {
        d || (d = this);
        g = new nge.Com.PopUp.Model(g);
        g.id = "popUpWrapper" + b;
        g.popUpIndex = b;
        g.onCancel = h(b, g.onCancel);
        g.onSubmit = h(b, g.onSubmit);
        g = this.getInstance("Tpl", !1, g);
        nge.objects.create(g.objects.contents[0]);
        b++
    };
    this.closePopup = function(b) {
        var d = nge.tween.add(b);
        d.to({
            alpha: 0
        }, 200).onComplete.add(function() {
            b.destroy(!0)
        });
        d.start()
    };
    var h = function(b, f) {
        return function() {
            var a = nge.find("#popUpWrapper" + b);
            d.closePopup(a);
            f && f()
        }
    }
});
nge.Com.PopUp.Tpl = function(d) {
    d = d || {};
    var b = [];
    "message" === d.popUpType && b.push({
        "class": "popUpNoButton",
        type: 1,
        isVisible: !0,
        contents: [{
            "class": "popUpButtonText",
            type: 2,
            text: d.cancelButtonText,
            isVisible: !0
        }, {
            "class": "popUpTexture",
            type: 4,
            isVisible: !0,
            assetKey: "/btn_no.png",
            action: d.onCancel
        }]
    });
    b.push({
        "class": "popUpTitle",
        type: 2,
        text: d.title,
        isVisible: !0
    }, {
        "class": "popUpText",
        type: 2,
        text: d.text,
        isVisible: !0
    }, {
        "class": "popUpYesButton" + ("confirm" === d.popUpType ? " popUpYesButtonConfirm" : ""),
        type: 1,
        isVisible: !0,
        contents: [{
            "class": "popUpButtonText",
            type: 2,
            text: d.submitButtonText,
            isVisible: !0
        }, {
            "class": "popUpTexture",
            type: 4,
            isVisible: !0,
            assetKey: "/btn_yes.png",
            action: d.onSubmit
        }]
    }, {
        "class": "popUpBg",
        type: 0,
        isVisible: !0,
        assetKey: "/popup_bg.png"
    });
    return {
        styles: {
            ".popUpBg": {
                anchorX: .5,
                anchorY: .5,
                x: 1024,
                y: 768
            },
            ".popUpTexture": {
                btnFrames: {
                    over: 2,
                    out: 1,
                    down: 2
                },
                frame: 1,
                anchorX: .5,
                anchorY: .5
            },
            ".popUpButtonText": {
                anchorX: .5,
                anchorY: .5,
                style: {
                    font: '56px "freesetboldc"',
                    fill: "#fff"
                }
            },
            ".popUpYesButton": {
                x: 794,
                y: 980
            },
            ".popUpYesButtonConfirm": {
                x: 1024,
                y: 980
            },
            ".popUpNoButton": {
                x: 1254,
                y: 980
            },
            ".popUpTitle": {
                x: 1024,
                y: 560,
                anchorX: .5,
                anchorY: .5,
                style: {
                    font: '68px "freesetboldc"',
                    fill: "#EDC157",
                    align: "center",
                    wordWrap: !0,
                    wordWrapWidth: 1E3
                }
            },
            ".popUpText": {
                x: 1024,
                y: 740,
                anchorX: .5,
                anchorY: .5,
                style: {
                    font: '54px "freesetboldc"',
                    fill: "#D9E5DC",
                    align: "center",
                    wordWrap: !0,
                    wordWrapWidth: 1E3
                }
            }
        },
        assets: {
            name: "assets",
            contents: [{
                fullPath: "img/popup/popup/btn_yes.png",
                key: "/btn_yes.png",
                width: 1128,
                height: 160,
                frameWidth: 376
            }, {
                fullPath: "img/popup/popup/btn_no.png",
                key: "/btn_no.png",
                width: 1128,
                height: 160,
                frameWidth: 376
            }, {
                fullPath: "img/popup/popup/popup_bg.png",
                key: "/popup_bg.png"
            }, {
                fullPath: "img/black-bg.png",
                key: "/black-bg.png"
            }]
        },
        objects: {
            name: "objects",
            contents: [{
                id: d.id,
                "class": d.class,
                type: 1,
                isVisible: !0,
                contents: [{
                    type: 1,
                    x: d.x,
                    y: d.y,
                    isVisible: !0,
                    contents: b
                }, {
                    "class": "popUpBackLayer",
                    type: 0,
                    width: 2048,
                    height: 1536,
                    scaleX: 205,
                    scaleY: 154,
                    alpha: .7,
                    inputEnabled: !0,
                    isVisible: !0,
                    assetKey: "/black-bg.png"
                }]
            }]
        }
    }
};
nge.Com.RandomButton = {};
nge.Com.RandomButton._Package = {
    name: "com.randomButton",
    version: 1,
    requirments: {
        js: ["com/randomButton/controller"]
    }
};
nge.Com.RandomButton.Cfg = Class.extend(function() {
    this.singleton = !0;
    this.cfg = {
        color: "#fff",
        stroke: "#f00",
        offset: {
            x: 0,
            y: -7
        }
    };
    this.get = function() {
        return this.cfg
    }
});
nge.Com.RandomButton.Controller = nge.Com.Base.extend(function() {
    var d, b, h;
    this.preload = function() {
        d = this;
        b || (b = d.getInstance("Cfg"));
        this.preloadDefault(!1, b)
    };
    this.create = function() {
        this.createDefault();
        h || (nge.observer.add("randomButton.enable", f), nge.observer.add("randomButton.disable", g));
        h = !0;
        this.animateDefault()
    };
    var g = function() {
            var a = nge.find("^randomButtonTexture");
            a && a.disable(3)
        },
        f = function() {
            var a = nge.find("^randomButtonTexture");
            a && a.enable(1)
        }
});
nge.Com.RandomButton.Animator = Class.extend(function() {
    this.firstCreation = function(b) {
        d(b);
        return !0
    };
    var d = function(b) {
        var d = nge.find("^randomButtonContainer"),
            g = d.y + 200;
        d = nge.tween.add(d);
        d.from({
            y: g
        }, 600, nge.Lib.Tween.Easing.Back.Out, !1, 1E3).onComplete.add(function() {
            b && b()
        });
        d.start()
    }
});
nge.Com.RandomButton.Tpl = function(d) {
    return {
        styles: {
            ".randomButtonTexture": {
                btnFrames: {
                    over: 2,
                    out: 1,
                    down: 0
                },
                frame: 1,
                anchorX: .5,
                anchorY: .5
            },
            ".randomButtonText": {
                anchorX: .5,
                anchorY: .5,
                y: -14,
                style: {
                    font: '54px "freesetboldc"',
                    fill: d.cfg.color,
                    stroke: d.cfg.stroke,
                    strokeThickness: 6
                }
            }
        },
        assets: {
            name: "assets",
            contents: []
        },
        objects: {
            name: "objects",
            contents: [{
                name: "randomButtonText",
                "class": "randomButtonText",
                type: 2,
                text: "RANDOM",
                isVisible: !0
            }, {
                name: "randomButtonTexture",
                "class": "randomButtonTexture",
                type: 4,
                isVisible: !0,
                assetKey: "/random_button.png",
                action: 'function () {nge.observer.fire("kenoMachine.randomBalls");}'
            }]
        }
    }
};
nge.Com.Respin = {};
nge.Com.Respin._Package = {
    name: "com.respin",
    version: 1,
    requirments: {
        js: ["com/respin/controller"]
    }
};
nge.Com.Respin.Controller = nge.Com.Base.extend(function() {
    var d, b, h = !1,
        g = 0;
    this._restoringFlag = this._canSpin = this._inProgress = !1;
    this.create = function() {
        d = this;
        b || (nge.observer.add("freeReSpins.start", d.freeReSpinsStart), nge.observer.add("respin.start", d.respinStart), nge.observer.add("slotMachine.spinResponse", f), nge.observer.add("slotMachine.spinComplete", a), nge.observer.add("respin.restore", l), nge.observer.add("win", m), nge.observer.add("respin.pause", c), nge.observer.add("respin.resume", e));
        nge.localData.set("respin.inProgress",
            !1);
        nge.localData.set("spin.type", "SpinRequest");
        return b = !0
    };
    this.freeReSpinsStart = function(a) {
        d.respinStart(a);
        d.setSpinTypeFreeRespins()
    };
    this.respinStart = function(a) {
        nge.observer.fire("respin.startProcess.start");
        a = parseInt(a);
        d._inProgress = !0;
        d._canSpin = !0;
        var b = nge.localData.get("respin.inProgress"),
            c = nge.localData.get("respin.spinsTotal");
        !nge.localData.get("respin.spinsTotalResetFlag") && b && c || (c = 0, nge.localData.set("respin.spinsTotalResetFlag", !1));
        c += a;
        nge.localData.getAll();
        d.setSpinTypeRespins();
        nge.localData.set("respin.inProgress", !0);
        nge.localData.set("respin.lastSpin", !1);
        d._restoringFlag || (nge.localData.set("respin.spinsTotal", c), nge.localData.set("respin.spinsLeft", parseInt(nge.localData.get("respin.spinsLeft")) || 0 + a));
        nge.observer.fire("buttons.respinMode");
        d._restoringFlag = !1;
        nge.observer.fire("respin.startProcess.end")
    };
    this.setSpinTypeRespins = function() {
        nge.localData.set("spin.type", "RespinRequest")
    };
    this.setSpinTypeFreeRespins = function() {
        nge.localData.set("spin.type", "FreeRespinRequest")
    };
    this.spinCommand = function() {
        k()
    };
    var f = function(a) {
        if (!nge.localData.get("respin.inProgress")) return !1;
        nge.localData.set("respin.spinsLeft", a.reSpinRemain)
    };
    this.finishRespin = function() {
        d._inProgress = !1;
        g = 0;
        nge.localData.get("respin.inProgress") && (nge.localData.get("freespin.inProgress") ? nge.localData.set("spin.type", "FreeSpinRequest") : nge.localData.set("spin.type", "SpinRequest"), nge.localData.set("respin.spinsTotalResetFlag", !0), nge.localData.set("respin.inProgress", !1));
        nge.observer.fire("respin.end")
    };
    var a = function() {
            if (!nge.localData.get("respin.inProgress")) return !1;
            nge.localData.get("slotMachine.slotWin");
            var a = parseInt(nge.localData.get("respin.spinsLeft"));
            0 === a ? d.finishRespin() : 0 < a && (d._canSpin = !0)
        },
        c = function() {
            h = !0
        },
        e = function() {
            h = !1;
            k()
        },
        k = function() {
            if (!d._canSpin || h) return !1;
            nge.observer.fire("slotMachine.spinCommand");
            d._canSpin = !1
        },
        l = function(a) {
            if ("ReSpins" !== a.state && "FreeReSpins" !== a.state) return !1;
            var b = 0;
            if (a.reSpinRemain) var c = a.reSpinRemain;
            else if (a.slotWin && a.slotWin.linePickBonus)
                for (var e =
                        0; e < a.slotWin.linePickBonus.length; e++) {
                    var f = a.slotWin.linePickBonus[e].bonusName;
                    if ("ReSpins" === f || "FreeReSpins" === f) {
                        c = a.slotWin.linePickBonus[e].params;
                        break
                    }
                }
            a.reSpinsTotal && (b = parseInt(a.reSpinsTotal));
            nge.localData.set("respin.spinsLeft", c);
            nge.localData.set("respin.spinsTotal", b);
            d._restoringFlag = !0;
            nge.observer.fire("respin.start", c, 1300);
            return !0
        },
        m = function(a) {
            if (!d._inProgress) return !1;
            g += a;
            nge.observer.fire("respinWin", {
                winAmount: a,
                respinTotalWin: g
            })
        }
});
nge.Com.Settings = {};
nge.Com.Settings._Package = {
    name: "com.settings",
    version: 1,
    requirments: {
        js: []
    }
};
nge.Com.Settings.Cfg = Class.extend(function() {});
nge.Com.Settings.Controller = nge.Com.Base.extend(function() {
    var d;
    this.preload = function() {
        this.getInstance("Cfg");
        this.preloadDefault(!1, {
            betGroup: "settingsContent"
        })
    };
    this.create = function() {
        d || (nge.observer.add("settings.switchSound", b), nge.observer.add("settings.changeImageQuality", g));
        var a = nge.localData.get("settings.imageQuality"),
            c = nge.localData.get("settings.sounds");
        a || (a = "high", nge.localData.set("settings.imageQuality", a));
        h(c);
        c = nge.find("^tab_settings_left");
        var e = nge.find("^tab_settings_center"),
            f = nge.find("^tab_settings_right"),
            l = nge.find("^tab_settings_left_text"),
            m = nge.find("^tab_settings_center_text"),
            q = nge.find("^tab_settings_right_text");
        if (c && e && f && l && m && q) switch (a) {
            case "low":
                c.addClass("activeBtn");
                e.removeClass("activeBtn");
                f.removeClass("activeBtn");
                l.addClass("activeText");
                m.removeClass("activeText");
                q.removeClass("activeText");
                break;
            case "medium":
                c.removeClass("activeBtn");
                e.addClass("activeBtn");
                f.removeClass("activeBtn");
                l.removeClass("activeText");
                m.addClass("activeText");
                q.removeClass("activeText");
                break;
            case "high":
                c.removeClass("activeBtn"), e.removeClass("activeBtn"), f.addClass("activeBtn"), l.removeClass("activeText"), m.removeClass("activeText"), q.addClass("activeText")
        }
        return d = !0
    };
    var b = function() {
            var a = nge.localData.get("settings.sounds");
            h(!a)
        },
        h = function(a) {
            nge.localData.set("settings.sounds", a);
            nge.observer.fire("settings.sounds.changed", a);
            var b = nge.find("^switch"),
                d = nge.find("^pick"),
                f = nge.find("^switchText");
            if (!b) return !1;
            a ? (b.addClass("activeSwitch"),
                d.addClass("activePick"), f.removeClass("offSwitch"), f.addClass("onSwitch")) : (b.removeClass("activeSwitch"), d.removeClass("activePick"), f.removeClass("onSwitch"), f.addClass("offSwitch"))
        },
        g = function(a) {
            nge.localData.set("settings.imageQuality", a);
            f()
        },
        f = function() {
            var a = nge.statesManager.getCurrentName();
            nge.statesManager.display(a, !1, !0);
            nge.observer.add("StatesManager.create.end", function() {
                nge.observer.fire("tabs.settingsPopupObject.switch", {
                        tab: "SettingsTab",
                        container: "settingsPopupSettingsContainer"
                    },
                    1);
                nge.observer.remove("StatesManager.create.end", !1, "changeQualityTempEvent", !0)
            }, "changeQualityTempEvent", !0)
        }
});
nge.Com.Settings.Tpl = function(d) {
    return {
        styles: {
            "#settingsPopupTabsContainer .tabBtn": {
                btnFrames: {
                    over: 2,
                    out: 1,
                    down: 3
                },
                frame: 1
            },
            "#settingsPopupTabsContainer .active .tabBtn": {
                btnFrames: {
                    over: 3,
                    out: 3,
                    down: 3
                },
                frame: 3,
                enabled: !1
            },
            "#settingsPopupTabsContainer .tabText": {
                y: 100,
                anchorX: .5,
                anchorY: 1,
                style: {
                    font: "50px 'freesetboldc'",
                    fill: "#13a6d0",
                    strokeThickness: 0,
                    align: "left"
                }
            },
            "#settingsPopupTabsContainer .active .tabText": {
                style: {
                    fill: "#ffffff",
                    stroke: "#1f8ea7",
                    strokeThickness: 3
                }
            },
            "#settingsPopupSettingsContainer .settingsText": {
                style: {
                    font: "bolder 80px 'freesetboldc'",
                    fill: "#26a5b8",
                    align: "center"
                }
            },
            "#settingsPopupSettingsContainer .tabBtnSettings": {
                btnFrames: {
                    over: 2,
                    out: 1,
                    down: 0
                },
                frame: 1
            },
            "#settingsPopupSettingsContainer .tabBtnSettings.activeBtn": {
                btnFrames: {
                    over: 3,
                    out: 3,
                    down: 3
                },
                frame: 3,
                enabled: !1
            },
            "#settingsPopupSettingsContainer .tabTextSettings": {
                anchorX: .5,
                anchorY: .5,
                style: {
                    font: "42pt 'freesetboldc'",
                    fill: "#26a5b8",
                    align: "left"
                }
            },
            "#settingsPopupSettingsContainer .activeText.tabTextSettings": {
                style: {
                    fill: "#fff"
                }
            },
            "#settingsPopupSettingsContainer .onSwitch.tabTextSettings": {
                x: 1335,
                style: {
                    fill: "#fff"
                },
                text: "On"
            },
            "#settingsPopupSettingsContainer .offSwitch.tabTextSettings": {
                x: 1420,
                text: "Off"
            },
            "#settingsPopupSettingsContainer .tabSwitchBtn": {
                btnFrames: {
                    over: 6,
                    out: 5,
                    down: 4
                },
                frame: 5
            },
            "#settingsPopupSettingsContainer .activeSwitch.tabSwitchBtn": {
                btnFrames: {
                    over: 2,
                    out: 1,
                    down: 0
                },
                frame: 1
            },
            "#settingsPopupSettingsContainer .pick": {
                x: 1275
            },
            "#settingsPopupSettingsContainer .activePick.pick": {
                x: 1500
            },
            "#settingsPopupBetContainer .totalbettext": {
                anchorY: .5,
                style: {
                    font: "48px freesetboldc",
                    fill: "#264C6F"
                }
            },
            "#settingsPopupBetContainer .totalbetname": {
                x: -5,
                y: 0,
                anchorX: 1,
                style: {
                    font: "80px 'freesetboldc'",
                    fill: "#26a5b8",
                    stroke: "white"
                },
                text: _("TOTAL BET") + ":"
            },
            "#settingsPopupBetContainer .totalbetvalue": {
                x: 5,
                y: -2,
                anchorX: 0,
                style: {
                    font: "80px 'freesetboldc'",
                    fill: "#f59c00",
                    stroke: "#faf9b8",
                    strokeThickness: 10
                }
            }
        },
        assets: {
            name: "assets",
            contents: [{
                name: "pick.png",
                fullPath: "img/settings/pick.png",
                key: "/pick.png",
                width: 144,
                height: 144
            }, {
                name: "switch.png",
                fullPath: "img/settings/switch.png",
                key: "/switch.png",
                width: 1132,
                height: 236,
                frameWidth: 283,
                frameHeight: 118
            }, {
                name: "tab_settings_center.png",
                fullPath: "img/settings/tab_settings_center.png",
                key: "/tab_settings_center.png",
                width: 1E3,
                height: 108,
                frameWidth: 250
            }, {
                name: "tab_settings_left.png",
                fullPath: "img/settings/tab_settings_left.png",
                key: "/tab_settings_left.png",
                width: 988,
                height: 108,
                frameWidth: 247
            }, {
                name: "tab_settings_right.png",
                fullPath: "img/settings/tab_settings_right.png",
                key: "/tab_settings_right.png",
                width: 988,
                height: 108,
                frameWidth: 247
            }, {
                name: "groupLogo",
                contents: nge.tpl.group("logo").assets.contents,
                id: 4
            }, {
                name: "settingsBetContent",
                id: 5,
                contents: nge.tpl.group("settingsContent").assets.contents
            }, {
                name: "logo_onestop_gaming.png",
                fullPath: "img/settings/logo_onestop_gaming.png",
                key: "logo_onestop_gaming.png",
                width: 600,
                height: 600
            }, {
                fullPath: "img/black-bg.png",
                key: "/black-bg.png",
                qualityObeys: !1
            }, {
                fullPath: "img/btn/tab_center.png",
                key: "/settings/tab_center.png",
                width: 2288,
                height: 236,
                frameWidth: 572
            }, {
                fullPath: "img/btn/tab_left.png",
                key: "/settings/tab_left.png",
                width: 2208,
                height: 236,
                frameWidth: 552
            }, {
                fullPath: "img/btn/tab_right.png",
                key: "/settings/tab_right.png",
                width: 2176,
                height: 236,
                frameWidth: 544
            }, {
                fullPath: "img/btn/tab_close.png",
                key: "/settings/close_paytable3.png",
                width: 216,
                height: 72,
                frameWidth: 72
            }, {
                fullPath: "img/btn/tab_info_bg.png",
                key: "/btn/tab_info_bg3.png"
            }, {
                fullPath: "img/settings/total_bet_txt_fill.png",
                key: "/settings/total_bet_txt_fill3.png"
            }, {
                fullPath: "img/settings/money.png",
                key: "/settings/money.png3"
            }, {
                fullPath: "img/settings/separator_money_btn.png",
                key: "/settings/separator_money_btn.png",
                qualityObeys: !1
            }]
        },
        objects: {
            name: "objects",
            contents: [{
                id: "settingsPopupContainer",
                name: "settingsPopupContainer",
                type: 1,
                contents: [{
                    id: "groupLogo",
                    name: "groupLogo",
                    type: 1,
                    x: 1024,
                    y: 150,
                    contents: nge.tpl.group("logo").objects.contents,
                    isVisible: 1
                }, {
                    x: 1925,
                    y: 295,
                    type: 4,
                    isVisible: 1,
                    width: 71,
                    height: 71,
                    assetKey: "/settings/close_paytable3.png",
                    action: "function () {nge.statesManager.display('play', true);}",
                    btnFrames: {
                        over: 2,
                        out: 1,
                        down: 2
                    }
                }, {
                    id: "settingsPopupObject",
                    name: "settingsPopupObject",
                    type: 1,
                    tabs: 1,
                    tabActive: {
                        tab: "betTab",
                        container: "settingsPopupBetContainer"
                    },
                    contents: [{
                        id: "settingsPopupTabsContainer",
                        name: "settingsPopupTabsContainer",
                        x: 155,
                        y: 261,
                        type: 1,
                        contents: [{
                            id: "betTab",
                            name: "betTab",
                            x: 40,
                            type: 1,
                            contents: [{
                                id: "betTabText",
                                name: "betTabText",
                                x: 315,
                                "class": "tabText",
                                type: 2,
                                isVisible: !0,
                                text: "Bet"
                            }, {
                                id: "betTabBtn",
                                name: "betTabBtn",
                                type: 4,
                                isVisible: 1,
                                assetKey: "/settings/tab_left.png",
                                action: "function () {nge.observer.fire('tabs.settingsPopupObject.switch', {tab: 'betTab', container:'settingsPopupBetContainer'});}",
                                "class": "tabBtn"
                            }],
                            isVisible: 1
                        }, {
                            id: "SettingsTab",
                            type: 1,
                            contents: [{
                                x: 885,
                                "class": "tabText",
                                type: 2,
                                isVisible: !0,
                                text: "Settings"
                            }, {
                                x: 592,
                                type: 4,
                                isVisible: 1,
                                assetKey: "/settings/tab_center.png",
                                action: "function () {nge.observer.fire('tabs.settingsPopupObject.switch', {tab: 'SettingsTab', container:'settingsPopupSettingsContainer'});}",
                                "class": "tabBtn"
                            }],
                            isVisible: 1
                        }, {
                            id: "AboutTab",
                            name: "AboutTab",
                            type: 1,
                            contents: [{
                                x: 1420,
                                "class": "tabText",
                                type: 2,
                                isVisible: !0,
                                text: "About"
                            }, {
                                x: 1163,
                                type: 4,
                                isVisible: 1,
                                assetKey: "/settings/tab_right.png",
                                action: "function () {nge.observer.fire('tabs.settingsPopupObject.switch', {tab: 'AboutTab', container:'settingsPopupAboutContainer'});}",
                                "class": "tabBtn"
                            }],
                            isVisible: 1
                        }],
                        isVisible: 1
                    }, {
                        id: "settingsPopupBetContainer",
                        x: 195,
                        y: 415,
                        type: 1,
                        contents: [{
                                id: "settingsBetContent",
                                name: "settingsBetContent",
                                type: 1,
                                contents: nge.tpl.group("settingsContent").objects.contents,
                                isVisible: 1,
                                width: 100,
                                height: 100
                            }, {
                                x: 775,
                                y: 375,
                                type: 0,
                                isVisible: 1,
                                width: 4,
                                height: 522,
                                assetKey: "/settings/separator_money_btn.png"
                            },
                            {
                                x: 100,
                                y: 330,
                                type: 0,
                                isVisible: 1,
                                width: 583,
                                height: 681,
                                assetKey: "/settings/money.png3"
                            }, {
                                name: "totalBetContainer",
                                type: 1,
                                isVisible: !0,
                                anchorX: .5,
                                anchorY: .5,
                                x: 850,
                                y: 168
                            }, {
                                y: 90,
                                type: 0,
                                isVisible: 1,
                                width: 1667,
                                height: 153,
                                assetKey: "/settings/total_bet_txt_fill3.png"
                            }, {
                                x: -50,
                                y: -30,
                                type: 0,
                                isVisible: 1,
                                width: 1767,
                                height: 1157,
                                assetKey: "/btn/tab_info_bg3.png"
                            }
                        ],
                        isVisible: 1
                    }, {
                        id: "settingsPopupSettingsContainer",
                        name: "settingsPopupSettingsContainer",
                        x: 195,
                        y: 415,
                        type: 1,
                        contents: [{
                                name: "image_quality_text",
                                x: 90,
                                y: 400,
                                anchorY: .5,
                                type: 2,
                                "class": "settingsText",
                                align: "left",
                                isVisible: !0,
                                text: "IMAGE QUALITY"
                            }, {
                                name: "sounds_text",
                                x: 90,
                                y: 700,
                                anchorY: .5,
                                type: 2,
                                "class": "settingsText",
                                align: "left",
                                isVisible: !0,
                                text: "SOUNDS"
                            }, {
                                name: "tab_settings_left_text",
                                x: 945,
                                y: 402,
                                type: 2,
                                "class": "tabTextSettings",
                                isVisible: !0,
                                text: "Low"
                            }, {
                                name: "tab_settings_left",
                                "class": "tabBtnSettings",
                                x: 821,
                                y: 402,
                                type: 4,
                                anchorY: .5,
                                isVisible: !0,
                                pixelPerfectOver: !1,
                                pixelPerfectClick: !1,
                                action: "function () {nge.observer.fire('settings.changeImageQuality', 'low');}",
                                assetKey: "/tab_settings_left.png"
                            }, {
                                name: "tab_settings_center_text",
                                x: 1193,
                                y: 402,
                                type: 2,
                                "class": "tabTextSettings",
                                isVisible: !0,
                                text: "Med"
                            }, {
                                name: "tab_settings_center",
                                "class": "tabBtnSettings",
                                x: 1068,
                                y: 402,
                                type: 4,
                                anchorY: .5,
                                isVisible: !0,
                                pixelPerfectOver: !1,
                                pixelPerfectClick: !1,
                                action: "function () {nge.observer.fire('settings.changeImageQuality', 'medium');}",
                                assetKey: "/tab_settings_center.png"
                            }, {
                                name: "tab_settings_right_text",
                                x: 1442,
                                y: 402,
                                type: 2,
                                "class": "tabTextSettings",
                                isVisible: !0,
                                text: "High"
                            },
                            {
                                name: "tab_settings_right",
                                "class": "tabBtnSettings",
                                x: 1318,
                                y: 402,
                                type: 4,
                                anchorY: .5,
                                isVisible: !0,
                                pixelPerfectOver: !1,
                                pixelPerfectClick: !1,
                                action: "function () {nge.observer.fire('settings.changeImageQuality', 'high');}",
                                assetKey: "/tab_settings_right.png"
                            }, {
                                name: "pick",
                                "class": "pick",
                                y: 693,
                                type: 0,
                                anchorY: .5,
                                anchorX: .5,
                                isVisible: !0,
                                assetKey: "/pick.png"
                            }, {
                                name: "switchText",
                                y: 693,
                                type: 2,
                                "class": "tabTextSettings",
                                isVisible: !0
                            }, {
                                name: "switch",
                                "class": "tabSwitchBtn",
                                x: 1245,
                                y: 693,
                                type: 4,
                                anchorY: .5,
                                isVisible: !0,
                                pixelPerfectOver: !1,
                                pixelPerfectClick: !1,
                                action: "function () {nge.observer.fire('settings.switchSound');}",
                                inputEnabled: !0,
                                assetKey: "/switch.png"
                            }, {
                                x: -50,
                                y: -30,
                                type: 0,
                                isVisible: 1,
                                assetKey: "/btn/tab_info_bg3.png"
                            }
                        ],
                        isVisible: 1
                    }, {
                        id: "settingsPopupAboutContainer",
                        x: 195,
                        y: 415,
                        type: 1,
                        contents: [{
                            x: 853,
                            y: 160,
                            anchorX: .5,
                            type: 2,
                            style: {
                                font: "80px 'freesetboldc'",
                                fill: "#26a5b8",
                                align: "center"
                            },
                            align: "left",
                            isVisible: !0,
                            text: " "
                        }, {
                            x: 853,
                            y: 530,
                            anchorX: .5,
                            anchorY: .5,
                            type: 0,
                            isVisible: 1,
                            name: "logo_onestop_gaming.png",
                            assetKey: "logo_onestop_gaming.png"
                        }, {
                            x: -50,
                            y: -30,
                            type: 0,
                            isVisible: 1,
                            assetKey: "/btn/tab_info_bg3.png"
                        }],
                        isVisible: 1
                    }],
                    isVisible: 1
                }, {
                    type: 0,
                    scaleX: 205,
                    scaleY: 154,
                    alpha: .25,
                    isVisible: 1,
                    width: 10,
                    height: 10,
                    assetKey: "/black-bg.png"
                }],
                isVisible: 1
            }]
        }
    }
};
nge.Com.SettingsButton = {};
nge.Com.SettingsButton._Package = {
    name: "com.settingsButton",
    version: 1,
    requirments: {
        js: []
    }
};
nge.Com.SettingsButton.Animator = Class.extend(function() {
    this.firstCreation = function(b) {
        d(b);
        return !0
    };
    var d = function(b) {
        var d = nge.find("^btn_settings"),
            g = d.y + 300;
        d = nge.tween.add(d);
        d.from({
            y: g
        }, 600, nge.Lib.Tween.Easing.Back.Out, !1, 600).onComplete.add(function() {
            b && b()
        });
        d.start()
    }
});
nge.Com.SlotMachine = {};
nge.Com.SlotMachine._Package = {
    name: "com.slotMachine",
    version: 1,
    requirments: {
        js: ["com/slotMachine/controller", "com/slotMachine/service"]
    }
};
nge.Com.SlotMachine.Animator = Class.extend(function() {});
nge.Com.SlotMachine.Cfg = Class.extend(function() {
    this.singleton = !0;
    this.params = {
        mw: 3,
        mh: 3,
        mhv: !1,
        rowsXoffset: !1,
        rowsYoffset: !1,
        th: 25,
        imageWidth: "original",
        imageHeight: "original",
        padding: {
            x: 15,
            y: 15
        },
        symbolsScale: 1,
        parentName: "slotMachineGameContainer",
        maskName: "slotMachineGameContainer",
        imgPath: "img/slots/",
        blurAlpha: .5,
        spinCompleteDelay: 200,
        speedUpReelsFactor: 2,
        intrigueSpeedReelsFactor: 1.5,
        tweenType: "default",
        tweenDuration: {
            oldSymbols: 600,
            blur: 1325,
            newSymbols: 800,
            symbolsDurationType: "duration",
            blurDurationType: "duration",
            animationType: "custom"
        },
        symbolsBlurKeys: [],
        lastSymbolsBlurStaticKeys: [],
        tweenStartInterval: 200,
        tweenEndInterval: 0,
        blursShiftOnReelsHold: !0,
        recyclerView: !1
    };
    this.get = function() {
        return this.params
    };
    this.set = function(d, b) {
        if (!this.params[d]) return !1;
        this.params[d] = b;
        return !0
    }
});
nge.Com.SlotMachine.Controller = nge.Com.Base.extend(function() {
    var d;
    this._service;
    var b;
    this.preload = function() {
        d = this;
        this._getService();
        var a = d._service.preload();
        this.preloadDefault(a);
        return !0
    };
    this._getService = function() {
        d._service || (d._service = this.getInstance("Service"), d._service.init())
    };
    this.create = function() {
        this.createDefault();
        d._service.create();
        this.animateDefault();
        b || d._subscribe();
        return b = !0
    };
    this.deactivate = function() {
        d._service.deactivate()
    };
    this.destroy = function() {
        d._service.destroy()
    };
    this.getLastData = function() {
        return d._service.getLastData
    };
    this.customSubscribe = function() {};
    var h = function(a) {
            return d._service.display(a)
        },
        g = function(a) {
            return d._service.doSpin(a)
        },
        f = function() {
            return d._service.spinHandler()
        },
        a = function() {
            return d._service.spinFailHandler()
        },
        c = function() {
            return d._service.fakeSpinsStart()
        },
        e = function() {
            return d._service.spinFailed()
        },
        k = function() {
            return d._service.stopHandler()
        },
        l = function() {
            return d._service.lastDataRequest()
        },
        m = function(a) {
            return d._service.animateSymbol(a)
        },
        q = function(a) {
            return d._service.animateSymbol(a, !0)
        },
        n = function(a) {
            return d._service.stopAnimateSymbol(a)
        },
        p = function(a) {
            return d._service.holdSymbol(a)
        },
        r = function(a) {
            return d._service.unholdSymbol(a)
        },
        u = function() {
            return d._service.unholdAll()
        },
        t = function(a) {
            return d._service.holdReel(a)
        },
        v = function(a) {
            return d._service.unholdReel(a)
        },
        w = function() {
            return d._service.unholdAllReels()
        },
        x = function() {
            return d._service.reset()
        },
        y = function(a) {
            return d._service.setSymbol(a)
        },
        z = function(a) {
            return d._service._view.destroySymbol(a.symbolPosition,
                a.animation)
        },
        B = function(a) {
            return d._service._view.normalizeReelsSymbolsPositions(a.animation)
        },
        A = function(a) {
            return d._service._view.changeSymbolPosition(a.symbolPosition, a.newSymbolPosition, a.callback, a.animation)
        },
        C = function(a) {
            return d._service._view.appendSymbol(a.symbolPosition, a.key, a.animation)
        },
        D = function() {
            return d._service.updateBlurs()
        },
        J = function(a) {
            return d._service.setSymbolsBlurKeys(a)
        },
        E = function(a) {
            return d._service.setLastSymbolsBlurStaticKeys(a)
        },
        K = function() {
            return d._service.resetMachine()
        },
        I = function(a) {
            return d._service.changeBlursSpeed(a)
        };
    this._subscribe = function() {
        nge.observer.add("brain.openGameSuccess", h);
        nge.observer.add("slotMachine.spinResponse", g);
        nge.observer.add("slotMachine.spinCommand", f);
        nge.observer.add("slotMachine.spinRequest.fail", a);
        nge.observer.add("slotMachine.stopCommand", k);
        nge.observer.add("slotMachine.lastDataRequest", l);
        nge.observer.add("slotMachine.animateSymbol", m);
        nge.observer.add("slotMachine.animateSymbolUnsafe", q);
        nge.observer.add("slotMachine.stopAnimateSymbol",
            n);
        nge.observer.add("slotMachine.holdSymbol", p);
        nge.observer.add("slotMachine.unholdSymbol", r);
        nge.observer.add("slotMachine.unholdAll", u);
        nge.observer.add("slotMachine.holdReel", t);
        nge.observer.add("slotMachine.unholdReel", v);
        nge.observer.add("slotMachine.unholdAllReels", w);
        nge.observer.add("slotMachine.resetSpinState", x);
        nge.observer.add("winlines.lineHighlite.start", d._service.winLineStartHandler);
        nge.observer.add("winlines.view.startHideAll", d._service.winLineHideAllHandler);
        nge.observer.add("slotMachine.setSymbol",
            y);
        nge.observer.add("slotMachine.appendSymbol", C);
        nge.observer.add("slotMachine.changeSymbolPosition", A);
        nge.observer.add("slotMachine.normalizeReelsSymbolsPositions", B);
        nge.observer.add("slotMachine.destroySymbol", z);
        nge.observer.add("slotMachine.updateBlurs", D);
        nge.observer.add("slotMachine.setSymbolsBlurKeys", J);
        nge.observer.add("slotMachine.setLastSymbolsBlurStaticKeys", E);
        nge.observer.add("slotMachine.fakeSpins.start", c);
        nge.observer.add("slotMachine.spinFailed.noBalance", e);
        nge.observer.add("slotMachine.resetMachine",
            K);
        nge.observer.add("slotMachine.changeBlursSpeed", I);
        d.customSubscribe()
    }
});
nge.Com.SlotMachine.Helper = Class.extend(function() {
    this.setTextureSize = function(d, b, h) {
        h || (h = this.getInstance("Cfg").get());
        nge.assets.getQualityFactor();
        "auto" === h.imageWidth ? d.width = b.width : "number" === typeof h.imageWidth ? d.width = h.imageWidth : "original" === h.imageWidth && nge.Cfg.Main.imagesQualityObeys && (d.width /= nge.assets.getQualityFactor());
        "auto" === h.imageHeight ? d.height = b.height : "number" === typeof h.imageHeight ? d.height = h.imageHeight : "original" === h.imageHeight && nge.Cfg.Main.imagesQualityObeys &&
            (d.height /= nge.assets.getQualityFactor());
        return d
    };
    this.getAnimationFrames = function(d) {
        d = new function(b) {
            return {
                prefix: nge.Lib.Helper.recursiveGet("prefix", b, ""),
                count: nge.Lib.Helper.recursiveGet("count", b, 0),
                suffix: nge.Lib.Helper.recursiveGet("suffix", b, ""),
                ldg: nge.Lib.Helper.recursiveGet("ldg", b, 0)
            }
        }(d);
        for (var b = [], h = "", g = 0; g < d.count; g++) h = nge.Lib.Helper.LdgZero(g, d.ldg), b.push(d.prefix + h + d.suffix);
        return b
    }
});
nge.Com.SlotMachine.Pool = nge.Com.Base.extend(function() {
    this.singleton = !0;
    var d = {};
    this.reset = function() {
        for (var b in d)
            for (var h in d[b]) d[b][h].destroy && d[b][h].destroy(!0, !0);
        d = []
    };
    this.store = function(b, h) {
        b && nge.Lib.Helper.isNumeric(b) && console.warn("nge.Com.SlotMachine.Pool warning - trying to store numeric element (symbol). It can be universal.");
        b || (b = "universal");
        d[b] || (d[b] = []);
        d[b].push(h)
    };
    this.check = function(b) {
        return d[b] && 0 < d[b].length ? !0 : !1
    };
    this.release = function(b) {
        var h;
        if (!b || !d[b]) {
            var g =
                this.getInstance("Symbols").get().filter(function(d) {
                    return d.name === b
                })[0];
            if (g && (h = d.universal.pop())) return h.setSymbolCfg(g), h
        }
        if (!d[b]) return console.error("No key in pool: ", b), console.warn("Please check slotMachine symbols config"), !1;
        if (0 < d[b].length) return h = d[b].pop();
        if (!h) return console.error("Unable to find object with name " + b), !1
    };
    this.status = function() {
        var b = [],
            h;
        for (h in d) {
            var g = {
                poolName: h,
                Size: d[h].length
            };
            b.push(g)
        }
        console.table && console.table(b);
        return !0
    }
});
nge.Com.SlotMachine.Service = Class.extend(function() {
    var d, b, h, g, f, a, c = !1;
    this._view;
    this._cfg;
    this.init = function() {};
    this.preload = function() {
        d = this;
        f = d.getInstance("Helper");
        b = this.getInstance("Cfg").get();
        d._cfg = b;
        this._getView();
        g = this.getInstance("Symbols");
        a = this.getInstance("Tpl");
        for (var c = 0 === b.symbolsBlurKeys.length ? !0 : !1, e = b.imgPath, h = g.get(), k, p = 0; p < h.length; p++) {
            c && b.symbolsBlurKeys.push(h[p].name);
            a.assets.contents.push({
                fullPath: e + h[p].textureUrl,
                key: h[p].name
            });
            h[p].animationFramesAuto &&
                (h[p].animationFrames = f.getAnimationFrames(h[p].animationFramesAuto));
            if (h[p].animationFrames)
                for (k = 0; k < h[p].animationFrames.length; k++) a.assets.contents.push({
                    fullPath: e + nge.Lib.Helper.lowerFirstLetter(h[p].animationFrames[k]),
                    key: h[p].animationFrames[k]
                });
            if (h[p].animationSprite) {
                var r = h[p].animationSpriteExtension || "png";
                if (h[p].multipack)
                    for (var u = 0; u < h[p].multipack; u++) k = h[p].framesInLastSprite && u === h[p].multipack - 1 ? h[p].framesInLastSprite : -1, a.assets.contents.push({
                        fullPath: e + nge.Lib.Helper.lowerFirstLetter(h[p].name).replace(/ /g,
                            "") + "/" + nge.Lib.Helper.lowerFirstLetter(h[p].name).replace(/ /g, "") + u + "." + r,
                        key: h[p].name + u + "." + r,
                        frameWidth: h[p].frameWidth,
                        frameHeight: h[p].frameHeight,
                        frameMax: k
                    });
                else a.assets.contents.push({
                    fullPath: e + nge.Lib.Helper.lowerFirstLetter(h[p].name).replace(/ /g, "") + "/" + nge.Lib.Helper.lowerFirstLetter(h[p].name).replace(/ /g, "") + "." + r,
                    key: h[p].name + "." + r,
                    frameWidth: h[p].frameWidth,
                    frameHeight: h[p].frameHeight
                })
            }
        }
        this._customPreload();
        return a
    };
    this._customPreload = function() {};
    this.create = function(a) {
        this.reset();
        d._view.createSlotMachine(b, d, g, a);
        (a = nge.localData.get("slotMachine")) && d.display(a);
        return !0
    };
    this.deactivate = function() {
        d._view.deactivate()
    };
    this.destroy = function() {
        d._view.destroy()
    };
    this.resetMachine = function() {
        nge.objects.blockUpdateStyles();
        d._view.destroyReelsContainer();
        d.create(!0);
        nge.objects.unblockUpdateStyles();
        nge.objects.setStyles()
    };
    this.reset = function() {
        k(!1)
    };
    this.getLastData = function() {
        return h
    };
    this.display = function(a) {
        nge.localData.set("slotMachine", a);
        if (!c) {
            var b = !1,
                e = nge.localData.get("slotMachine.initialSymbols");
            "history" === nge.statesManager.getCurrentName() && e ? (a = e, b = !0) : ((e = a.gameParameters && a.gameParameters.initialSymbols && a.gameParameters.initialSymbols.length ? a.gameParameters.initialSymbols : !1) && (e = nge.Lib.Helper.rowsToColumns(e)), !e && a.spinResult && a.spinResult.columns && (e = a.spinResult.columns), e || (e = _view.getRandomSymbolsTable()), a = e);
            d._view.displaySymbols(a, b)
        }
        return !0
    };
    this.lastDataRequest = function() {
        nge.observer.fire("slotMachine.lastDataResponse", h)
    };
    this.spinHandler = function() {
        if (c) return !1;
        k(!0);
        nge.observer.fire("slotMachine.spinRequest");
        return !0
    };
    this.spinFailHandler = function() {
        k(!1);
        return !0
    };
    this.fakeSpinsStart = function() {
        nge.observer.fire("slotMachine.spinStart");
        nge.observer.fire("winlines.stopAnimation");
        d._view.reelSpins()
    };
    this.spinFailed = function() {
        k(!1);
        return !0
    };
    this.stopHandler = function() {
        if (!c) return !1;
        d._view.speedUpReels();
        return !0
    };
    this.animateSymbol = function(a, b) {
        if (c && !b) return !1;
        d._view.showAnimationSymbolsCover(a);
        a = d._view.getSymbolByPosition(a);
        if (!a || !a.animate) return !1;
        a.animate();
        a = a.getConfig();
        a.winlineTime && nge.observer.fire("winlines.setCurrentLineDurationFirstTime", a.winlineTime, 1);
        return !0
    };
    this.stopAnimateSymbol = function(a) {
        a = d._view.getSymbolByPosition(a);
        if (!a || !a.cancelAnimation) return !1;
        a.cancelAnimation();
        return !0
    };
    this.changeBlursSpeed = function(a) {
        if (!c) return !1;
        d._view.changeBlursSpeed(a);
        return !0
    };
    this.holdSymbol = function(a) {
        if (c) return !1;
        nge.Lib.Helper.varOrArrOfVarsChk(a, e)
    };
    this._getView = function() {
        d._view || (d._view = this.getInstance(d._cfg.recyclerView ?
            "RecyclerView" : "View"))
    };
    var e = function(a) {
        var b = d._view.getSymbolByPosition(a);
        if (!b) return !1;
        d._view.holdSymbol(a, b)
    };
    this.unholdSymbol = function(a) {
        nge.Lib.Helper.varOrArrOfVarsChk(a, d._view.unholdSymbol)
    };
    this.unholdAll = function(a) {
        d._view.unholdAll(a)
    };
    this.holdReel = function(a) {
        return c ? !1 : d._view.holdReel(a)
    };
    this.unholdReel = function(a) {
        return d._view.unholdReel(a)
    };
    this.unholdAllReels = function() {
        return d._view.unholdAllReels()
    };
    this.doSpin = function(a) {
        return d._doSpin(a)
    };
    this.setSymbol = function(a) {
        return d._view.setSymbol(a)
    };
    this.updateBlurs = function() {
        return d._view.updateBlurs()
    };
    this.setSymbolsBlurKeys = function(a) {
        b.symbolsBlurKeys = a
    };
    this.setLastSymbolsBlurStaticKeys = function(a) {
        b.lastSymbolsBlurStaticKeys = a
    };
    this._doSpin = function(a) {
        h = a;
        nge.localData.set("slotMachine", a);
        d._view.setNewReelsCfg(a.spinResult.columns);
        return !0
    };
    this.spinCompleteCallback = function() {
        k(!1);
        nge.observer.fire("slotMachine.spinComplete")
    };
    this.winLineStartHandler = function(a) {
        if (!a || !a.wonSymbols) return !1;
        for (var b = a.wonSymbols, c, e = [], f = 0; f <
            b.length; f++)(c = d._view.getSymbolByPosition({
            reel: b[f][0],
            row: b[f][1]
        })) && e.push(c.getName());
        nge.observer.fire("slotMachine.winLineSymbols", {
            symbolsNames: e,
            amount: a.amount,
            type: a.type,
            selectedLine: a.selectedLine,
            wonSymbols: a.wonSymbols,
            bonusName: a.bonusName
        })
    };
    this.winLineHideAllHandler = function() {
        d._view.hideAnimationSymbolsCovers()
    };
    var k = function(a) {
        c = a;
        nge.localData.set("slotMachineSpinning", a)
    }
});
nge.Com.SlotMachine.SymbolBase = Class.extend(function() {
    var d, b, h = this,
        g, f = !1,
        a = !1,
        c = [],
        e, k, l, m, q, n = {
            x: 1,
            y: 1
        };
    this.setSymbolBase = function(a) {
        "undefined" === typeof h._symbolConfig.animationMainTextureNeed && (h._symbolConfig.animationMainTextureNeed = !0);
        "undefined" === typeof h._symbolConfig.animationOnTop && (h._symbolConfig.animationOnTop = !0);
        l = a.repeat || 1;
        q = a.frameTime || 30;
        if (h._texture) h._texture.loadTexture(a.name), h._texture.visible = !0, h._texture.getData().name = "smSymbol_" + a.name + "_" + h._sid, h._texture.getData().class =
            a.name;
        else {
            var c = nge.Mlm.Objects.Image({
                name: "smSymbol_" + a.name + "_" + h._sid,
                class: a.name,
                assetKey: a.name,
                anchorX: .5,
                anchorY: .5
            });
            h._texture = nge.objects.create(c, !1, !0, !0)
        }
        nge.game.world.remove(h._texture);
        h.texture = h._texture;
        f = h._textureAnimation = !1;
        g = h._texture.alpha;
        d = h._texture.scale.x;
        b = h._texture.scale.y;
        k = a.name
    };
    this.destroy = function(a) {
        h._unsubscribe();
        a && (h._texture && h._texture.destroy(), h._textureAnimation && h._textureAnimation.destroy())
    };
    this.getName = function() {
        return k
    };
    this.getConfig =
        function() {
            return h._symbolConfig
        };
    this.getTextureAnimation = function() {
        return h._textureAnimation
    };
    this.reset = function() {
        h._textureAnimation && h._textureAnimation.game || (h._textureAnimation = !1);
        if (!h._textureAnimation) return !1;
        h._textureAnimation.alpha = g;
        h._textureAnimation.scale.x = d;
        h._textureAnimation.scale.y = b;
        return !0
    };
    this.animate = function(b) {
        h._symbolConfig.animationRelaunchOnWinlinesCycle && x();
        if ("undefined" === typeof h._texture || "undefined" === typeof h._texture.parent || !h._texture || !h._texture.parent) return console.warn("nge.Com.SlotMachine.Symbol.animate error",
            h._symbolConfig), !1;
        a || h._subscribe();
        f || p();
        f = a = !0;
        h.textureAnimationShow(b);
        h._tween || r();
        h._tween.start();
        h._symbolConfig.animateAllWinlinesCycle && (m = !0);
        return !0
    };
    this.textureAnimationShow = function(a) {
        h._textureAnimation.x = h._texture.x + h._texture.parent.x;
        h._textureAnimation.y = h._texture.y + h._texture.parent.y;
        h._textureAnimation.visible = !0;
        h._texture.visible = !1;
        !a && h._symbolConfig.animationOnTop && h._smContainer.bringToTop(h._textureAnimation)
    };
    var p = function() {
        var a = nge.Mlm.Objects.Image({
            assetKey: h._symbolConfig.name,
            anchorX: .5,
            anchorY: .5,
            isVisible: !1
        });
        h._textureAnimation = nge.objects.create(a, h._smContainer, !0);
        if (h._symbolConfig.animationSprite)
            if (a = h._symbolConfig.animationSpriteExtension || "png", h._symbolConfig.multipack)
                for (var b = 0; b < h._symbolConfig.multipack; b++) c.push(nge.game.cache._cache.image[h._symbolConfig.name + b + "." + a]);
            else c.push(nge.game.cache._cache.image[h._symbolConfig.name + "." + a]);
        r()
    };
    this.animationCreate = p;
    var r = function() {
            h._symbolConfig.animationFrames ? t(h._symbolConfig.animationFrames) :
                h._symbolConfig.animationSprite ? v() : u()
        },
        u = function() {
            h._tween = nge.tween.add(h._textureAnimation.scale);
            n.x = h._textureAnimation.scale.x;
            n.y = h._textureAnimation.scale.y;
            h._tween.to({
                x: n.x * h.maxScale.x,
                y: n.y * h.maxScale.y
            }, h.durationScale).to(n, h.durationScale).to({
                x: n.x * h.maxScale.x,
                y: n.y * h.maxScale.y
            }, h.durationScale).to(n, h.durationScale).onComplete.add(function() {
                m && h.animate(!0)
            });
            return !0
        },
        t = function(a) {
            var b = q,
                c = a.length;
            e = a;
            h._tween = nge.tween.add({
                x: 0
            });
            h._tween.enableUpdate = !0;
            a = l;
            for (var d =
                    0; d < a; d++) h._tween.to({
                x: c
            }, c * b);
            h._tween.onUpdateCallback(function(a, b, c) {
                h._textureAnimation.loadTexture(e[~~(c.percent * c.vEnd.x)])
            }).onComplete.add(function() {
                m && h._symbolConfig.animationMainTextureNeed && h._textureAnimation.loadTexture(k);
                h.reset();
                m && h.animate(!0)
            });
            return !0
        },
        v = function() {
            var a = q,
                b = 0;
            e = [];
            for (var d = 0; d < c.length; d++) {
                for (var f = 0; f < c[d].frameData._frames.length; f++) {
                    var g = c[d].frameData._frames[f];
                    g.spriteName = c[d].key;
                    g.startsFrom = b;
                    e.push(g)
                }
                b += c[d].frameData._frames.length
            }
            h._tween =
                nge.tween.add({
                    x: 0
                });
            h._tween.enableUpdate = !0;
            h._symbolConfig.animationMainTextureNeed || (h._textureAnimation.loadTexture(e[0].spriteName), h._textureAnimation.frame = 0);
            g = l;
            for (d = 0; d < g; d++) h._tween.to({
                x: b
            }, b * a);
            h._tween.onUpdateCallback(function(a, b, c) {
                a = ~~(c.percent * c.vEnd.x);
                h._textureAnimation.loadTexture(e[a].spriteName);
                h._textureAnimation.frame = a - e[a].startsFrom
            }).onComplete.add(function() {
                m && h._symbolConfig.animationMainTextureNeed && h._textureAnimation.loadTexture(k);
                h.reset();
                m && h.animate(!0)
            });
            return !0
        },
        w = function() {
            m || (h._texture.visible = !0, h._textureAnimation && (h._textureAnimation.visible = !1), h.reset(), a && (h._unsubscribe(), a = !1))
        },
        x = function() {
            m = !1;
            h._tween && (h._tween.stop(), h._tween = null, delete h._tween, h.reset(), h._textureAnimation && h._textureAnimation.game && h._textureAnimation.loadTexture(k))
        },
        y = function() {
            m = !1
        },
        z = function() {
            x()
        };
    this.cancelAnimation = z;
    this._subscribe = function() {
        nge.observer.add("slotMachine.symbols.cancelAnimation", z, "slotMachine.symbol." + h._sid + ".cancel");
        nge.observer.add("slotMachine.symbols.cancelAnimationLoop",
            y, "slotMachine.symbol." + h._sid + ".cancel");
        nge.observer.add("winlines.view.startHideAll", w, "slotMachine.symbol." + h._sid + ".hide");
        nge.observer.add("winlines.stoppingAnimation.start", x, "slotMachine.symbol." + h._sid + ".stop")
    };
    this._unsubscribe = function() {
        nge.observer.remove("slotMachine.symbols.cancelAnimation", !1, "slotMachine.symbol." + h._sid + ".cancel");
        nge.observer.remove("slotMachine.symbols.cancelAnimationLoop", !1, "slotMachine.symbol." + h._sid + ".cancel");
        nge.observer.remove("winlines.view.startHideAll",
            !1, "slotMachine.symbol." + h._sid + ".hide");
        nge.observer.remove("winlines.stoppingAnimation.start", !1, "slotMachine.symbol." + h._sid + ".stop")
    }
});
nge.Com.SlotMachine.Symbol = nge.Com.SlotMachine.SymbolBase.extend(function() {
    this.texture = null;
    this.maxScale = {
        x: 1.08,
        y: 1.08
    };
    this.durationScale = 400;
    var d, b = this,
        h = [],
        g = {};
    this._smContainer;
    this._symbolConfig;
    this._tween;
    this._texture;
    this._textureAnimation;
    this._sid;
    this.init = function(f, a, c, e) {
        b._sid = nge.Lib.Helper.getRandomInt(0, 999999);
        d = a;
        b._smContainer = c;
        f && b.setSymbolCfg(f);
        e && (b.animate = function() {}, b._subscribe = function() {});
        return !0
    };
    this.getSize = function() {
        return d
    };
    this.setView = function(b) {};
    this.setSymbolCfg = function(d) {
        b._symbolConfig = d;
        var a = b.getInstance("Symbol" + d.name);
        b.reset && b.reset();
        for (var c = 0; c < h.length; c++) delete b[h[c]];
        for (var e in g) b[e] = g[e];
        h = [];
        b._tween && (b._tween.stop(), b._tween = null);
        b._textureAnimation && b._textureAnimation.destroy();
        if (a) {
            h = nge.Lib.Helper.mergeArrs(Object.keys(a), h);
            for (var f in a) b[f] && (g[f] = b[f]), b[f] = a[f];
            a.setContext ? a.setContext(b) : console.warn("Context can be invalid in nge.Com.SlotMachine.Symbol" + d.name + ". Use setContext function")
        }
        b.setSymbolBase(d)
    }
});
nge.Com.SlotMachine.Symbols = Class.extend(function() {
    this.singleton = !0;
    this.items = [{
        name: "Wild",
        textureUrl: "Wild.png"
    }, {
        name: "TopAward",
        textureUrl: "Creck-it.png"
    }, {
        name: "Group1",
        textureUrl: "Egg_Gold.png"
    }, {
        name: "Group2",
        textureUrl: "Egg_silver.png"
    }, {
        name: "Group3",
        textureUrl: "Egg_bronze.png"
    }, {
        name: "Animal1",
        textureUrl: "chicken.png"
    }, {
        name: "Animal2",
        textureUrl: "sheep.png"
    }, {
        name: "Animal3",
        textureUrl: "Pig.png"
    }, {
        name: "Animal4",
        textureUrl: "cow.png"
    }, {
        name: "Slingshot",
        textureUrl: "BOHUS.png"
    }, {
        name: "Skillet",
        textureUrl: "SIZZILING_BONUSE.png"
    }, {
        name: "any_Group1_Group2_Group3",
        textureUrl: "any_Egg.png"
    }];
    this.get = function() {
        return this.items
    }
});
nge.Com.SlotMachine.Tpl = function() {
    return {
        assets: {
            name: "assets",
            contents: []
        },
        objects: {
            name: "objects",
            contents: [{
                id: "slotMachineGameContainer",
                name: "slotMachineGameContainer",
                type: 1,
                isVisible: 1,
                width: 1E3,
                height: 600
            }]
        }
    }
};
nge.Com.SlotMachine.RecyclerReel = nge.Com.Base.extend(function() {
    var d = this;
    this.init = function(b) {
        d._index = b.index;
        d._symbolSize = {
            width: b.symbolSize.width,
            height: b.symbolSize.height
        };
        d._height = b.height * b.symbolSize.height;
        d._container = b.container;
        d._templates = b.templates;
        d._symbols = b.symbols;
        d._blurs = b.blurs;
        d._borderSymbolsCount = b.borderSymbolsCount;
        d._currentBlur = 0;
        d._running = !1;
        d._onhold = !1;
        d._counter = 0;
        d._lastSymbols = [];
        d._hideBorderSymbols = b.hideBorderSymbols;
        d._offsetY = d._container.y;
        d._normalSpeed =
            b.speed;
        d._intrigueSpeed = b.intrigueSpeed;
        d._speedUpSpeed = b.speedUpSpeed;
        for (b = 0; b < d._symbols.length; b++) d._symbols[b].setSymbolCfg(d._templates[d._blurs[d._currentBlur++]]), d._container.addChild(d._symbols[b].texture), d._symbols[b].texture.textureZ = 0;
        d.resetPosition();
        d.switchBorders(!d._hideBorderSymbols)
    };
    this.resetPosition = function() {
        d._container.y = d._offsetY;
        for (var b = -(d._symbolSize.height / 2) - d._symbolSize.height * (d._borderSymbolsCount - 1), h = 0; h < d._symbols.length; h++) d._symbols[h].texture.position.set(d._symbolSize.width /
            2, b), b += d._symbolSize.height;
        d._container.updateTransform()
    };
    this.start = function() {
        d._running || d._onhold || (d._running = !0, d._lastSymbols = [], d.setCounter(999999), d.onStart(d, function() {
            d._tween = nge.tween.add(d._container, !0);
            d.resetPosition();
            d.switchBorders(!0);
            d.setSpeed(d._normalSpeed);
            d.step()
        }))
    };
    this.isOnHold = function() {
        return d._onhold
    };
    this.unhold = function() {
        d._onhold = !1
    };
    this.hold = function() {
        d._onhold = !0
    };
    this.getIndex = function() {
        return d._index
    };
    this.getCounter = function() {
        return d._counter
    };
    this.getContainer = function() {
        return d._container
    };
    this.setCounter = function(b) {
        d._counter = b
    };
    this.getBlurs = function() {
        return d._blurs
    };
    this.setBlurs = function(b) {
        d._blurs = b;
        d._currentBlur = 0
    };
    this.getCurrentBlur = function() {
        return d._currentBlur
    };
    this.setCurrentBlur = function(b) {
        d._currentBlur = b
    };
    this.isRunning = function() {
        return d._running
    };
    this.stop = function(b, h) {
        d.isRunning() && (d.setCounter(h), d._lastSymbols = b)
    };
    this.setSpeed = function(b) {
        b = void 0 === b ? d._normalSpeed : b;
        d._tween.timeScale = b;
        d._requiredTimeScale =
            b
    };
    this.getSymbolAt = function(b) {
        return d._symbols[b + d._borderSymbolsCount]
    };
    this.setSymbolAt = function(b, h) {
        h = d._templates[h];
        b += d._borderSymbolsCount;
        d._symbols[b].setSymbolCfg(h);
        d._symbols[b].texture.textureZ = h.textureZ ? h.textureZ : 0
    };
    this.sort = function() {
        for (var b = 0; b < d._symbols.length; b++) d._symbols[b].texture.textureZ += b;
        d._container.sort("textureZ")
    };
    this.destroy = function() {
        d._container.destroy();
        d._tween && d._tween.stop()
    };
    this.recycle = function(b) {
        0 < (void 0 === b ? 1 : b) && (d._symbols[d._symbols.length -
            1].texture.position.y = d._symbols[0].texture.position.y - d._symbolSize.height, d._symbols.unshift(d._symbols.pop()))
    };
    this.step = function(b) {
        d._tween.to({
            y: d._container.y + d._symbolSize.height
        }, void 0 === b ? 100 : b);
        d._requiredTimeScale && d._tween.timeScale !== d._requiredTimeScale && (d._tween.timeScale = d._requiredTimeScale, delete d._requiredTimeScale);
        d._tween.onComplete.addOnce(function() {
            d.recycle();
            0 < d._counter-- ? (d.loadUpperSymbol(d.nextBlur()), d.step()) : 0 < d._lastSymbols.length ? (d.loadUpperSymbol(d._lastSymbols.pop()),
                0 === d._lastSymbols.length && (d._counter = d._borderSymbolsCount - 1), d.step()) : (d.loadUpperSymbol(d.nextBlur()), d.onStop(d, function() {
                d.resetPosition();
                d._running = !1;
                d.switchBorders(!d._hideBorderSymbols)
            }))
        });
        d._tween.start()
    };
    this.move = function(b) {
        d._container.y += b
    };
    this.nextBlur = function() {
        var b = d._blurs[d._currentBlur++];
        d._currentBlur === d._blurs.length && (d._currentBlur = 0);
        return b
    };
    this.loadUpperSymbol = function(b) {
        b = d._templates[b];
        d._symbols[0].setSymbolCfg(b);
        d._symbols[0].texture.textureZ = b.textureZ ?
            b.textureZ : 0;
        d.sort()
    };
    this.switchBorders = function(b) {
        b = void 0 === b ? !1 : b;
        for (var h = 0; h < d._borderSymbolsCount; h++) d._symbols[h].texture.visible = b, d._symbols[d._symbols.length - (h + 1)].texture.visible = b
    }
});
nge.Com.SlotMachine.RecyclerView = Class.extend(function() {
    var d = this;
    this._service = this._cfg = null;
    this._symbols = {};
    this._helper = null;
    this._symbolSize = {
        width: 1,
        height: 1
    };
    this._holdedSymbolsContainer = this._container = this._reelsContainer = this._maskContainer = null;
    this._holdedSymbols = [];
    this._reels = [];
    this._animationSymbolsCovers = [];
    this._reelsStoped = this._lastUpdate = 0;
    this._speedUp = !1;
    this.deactivate = function() {
        console.color("[RV]deactivate", "#00ff00", "#000000")
    };
    this.destroy = function() {
        for (var b = 0; b <
            d._reels.length; b++) d._reels[b].destroy();
        d._reels = []
    };
    this.destroyReelsContainer = function() {
        console.color("[RV]destroyReelsContainer", "#ff0000", "#000000");
        d._reelsContainer.destroy();
        d.destroy()
    };
    this.createSlotMachine = function(b, h, g, f) {
        console.color("[RV]createSlotMachine", "#ff0000", "#000000");
        d._cfg = b;
        d._service = h;
        for (b = 0; b < d._reels.length; b++) d._reels[b].destroy();
        d._reels = [];
        for (b = 0; b < g.get().length; b++) d._symbols[g.get()[b].name] = g.get()[b];
        d._helper || (d._helper = d.getInstance("Helper"));
        d._container =
            nge.find("^" + d._cfg.parentName);
        d._reelsContainer = nge.objects.create(new nge.Mlm.Objects.Folder);
        g = d._container.getData();
        d._container.add(d._reelsContainer);
        d._setSymbolSize(g);
        d._createMask(g);
        d._createReels(g)
    };
    this._setSymbolSize = function(b) {
        d._symbolSize = {
            width: b.width / d._cfg.mw,
            height: b.height / d._cfg.mh
        }
    };
    this._createBlurs = function(b) {
        for (var h = [], g = 0; g < d._cfg.mw; g++) {
            for (var f = [], a = 0; 40 > a; a++) b[g] && Array.isArray(b[g]) ? f.push(b[g][nge.Lib.Random.generate_range(0, b[g].length - 1)]) : f.push(b[nge.Lib.Random.generate_range(0,
                b.length - 1)]);
            h.push(f)
        }
        return h
    };
    this._createReels = function(b) {
        b = d._symbols[0];
        var h = d._createBlurs(d._cfg.symbolsBlurKeys);
        if (!d._cfg.mhv) {
            d._cfg.mhv = [];
            for (var g = 0; g < d._cfg.mw; g++) d._cfg.mhv.push(d._cfg.mh)
        }
        for (g = 0; g < d._cfg.mw; g++) {
            d._holdedSymbols.push([]);
            var f = [],
                a = nge.objects.create(new nge.Mlm.Objects.Folder);
            a.x = g * d._symbolSize.width;
            a.y = 0;
            d._cfg.rowsXoffset && d._cfg.rowsXoffset[g] && (a.x += d._cfg.rowsXoffset[g]);
            d._cfg.rowsYoffset && d._cfg.rowsYoffset[g] && (a.y += d._cfg.rowsYoffset[g]);
            for (var c =
                    0; c < d._cfg.mhv[g] + 2 * d._cfg.recyclerView.borderSymbolsCount; c++) {
                var e = d.getInstance("Symbol");
                e.init(b, d._symbolSize, d._container);
                e.setView(d);
                f.push(e)
            }
            c = d.getInstance("RecyclerReel");
            c.init({
                index: g,
                container: a,
                symbols: f,
                blurs: h[g],
                templates: d._symbols,
                symbolSize: d._symbolSize,
                height: d._cfg.mhv[g],
                speed: d._cfg.recyclerView.reelsSpeed[g],
                intrigueSpeed: d._cfg.recyclerView.reelsIntrigueSpeed,
                speedUpSpeed: d._cfg.recyclerView.reelsSpeedUpSpeed,
                hideBorderSymbols: d._cfg.recyclerView.hideBorderSymbols,
                borderSymbolsCount: d._cfg.recyclerView.borderSymbolsCount
            });
            c.onStart = d._onReelStart;
            c.onStop = d._onReelStop;
            d._reelsContainer.add(a);
            d._reels.push(c)
        }
    };
    this._onReelStart = function(b, h) {
        var g = b.getIndex() * d._cfg.tweenStartInterval;
        d.customReelStartCallback(b, g, h);
        nge.observer.fire("slotMachine.reelAnimationStart", b.getIndex(), g);
        nge.observer.fire("slotMachine.reel_" + b.getIndex() + ".animation.start", g)
    };
    this._onReelStop = function(b, h) {
        d.customReelStopCallback(b, b.getIndex());
        nge.observer.fire("slotMachine.reel_" +
            b.getIndex() + ".animation.stop");
        nge.observer.fire("slotMachine.reel_" + b.getIndex() + ".animation.stopped");
        d._checkIntrigue(b.getIndex());
        b = d._reels.filter(function(b) {
            return b.isOnHold()
        }).length;
        ++d._reelsStoped === d._reels.length - b && nge.rafSetTimeout(function() {
            d._service.spinCompleteCallback()
        }, d._cfg.spinCompleteDelay);
        h()
    };
    this._checkIntrigue = function(b) {
        var h = nge.localData.get("slotMachineIntrigue");
        if (h && h.status) {
            var g = b + 1;
            if (!d._speedUp && g !== d._reels.length) {
                var f = h.startsFrom;
                h = h.endsFrom ||
                    d._reels.length;
                for (var a = 0; a < d._reels.length; a++) d._reels[a].setSpeed();
                if (g >= f && g < h)
                    for (b += 1; b < d._reels.length; b++) d._reels[b].setSpeed(d._cfg.recyclerView.reelsIntrigueSpeed)
            }
        }
    };
    this._createMask = function(b) {
        d._maskContainer = nge.findOne("^" + d._cfg.maskName) || d._reelsContainer;
        b = 0 < d._maskContainer.getData().width && 0 < d._maskContainer.getData().height ? d._maskContainer.getData() : b;
        var h = [];
        if (d._cfg.rowsXoffset || d._cfg.rowsYoffset || d._cfg.mhv)
            for (var g = 0; g < d._cfg.mw; g++) {
                var f = b.width / d._cfg.mw,
                    a = b.height,
                    c = g * f,
                    e = 0;
                d._cfg.rowsXoffset && d._cfg.rowsXoffset[g] && (c += d._cfg.rowsXoffset[g]);
                d._cfg.rowsYoffset && d._cfg.rowsYoffset[g] && (e += d._cfg.rowsYoffset[g]);
                d._cfg.mhv && d._cfg.mhv[g] && (a = b.height * d._cfg.mhv[g] / d._cfg.mh);
                h.push([c, e, f, a])
            } else h = [0, 0, parseInt(b.width, 10), parseInt(b.height, 10)];
        d._maskContainer.mask = nge.objects.create(new nge.Mlm.Objects.Mask({
            rects: h
        }), d._maskContainer, !0)
    };
    this.setSymbol = function(b) {
        d._reels[b.coords[0]].setSymbolAt(b.coords[1], b.key);
        d._reels[b.coords[0]].sort()
    };
    this.updateBlurs =
        function() {
            console.color("[RV]updateBlurs", "#00ff00", "#000000");
            for (var b = d._createBlurs(d._cfg.symbolsBlurKeys), h = 0; h < d._reels.length; h++) d._reels[h].setBlurs(b[h])
        };
    this.setBlurs = function(b, h, g) {
        d._reels[b].updateBlurs(h, void 0 === g ? 0 : g)
    };
    this.displaySymbols = function(b, h) {
        console.color("[RV]displaySymbols: " + JSON.stringify(b), "#00ff00", "#000000");
        for (h = 0; h < b.length; h++) {
            for (var g = 0; g < d._cfg.mhv[h]; g++) d._reels[h].setSymbolAt(g, b[h][g]);
            d._reels[h].sort()
        }
    };
    this._customClearSymbols = function() {
        console.color("[RV]_customClearSymbols",
            "#00ff00", "#000000")
    };
    this._displaySymbolCallback = function(b, d, g) {
        console.color("[RV]_displaySymbolCallback", "#00ff00", "#000000")
    };
    this.reelSpins = function() {
        console.color("[RV]reelSpins", "#ff0000", "#000000");
        d._requestStartTime = nge.Lib.Time.get();
        d._speedUp = !1;
        for (var b = d._reelsStoped = 0; b < d._reels.length; b++) d._reels[b].start()
    };
    this.setNewReelsCfg = function(b) {
        var h = nge.Lib.Time.get() - d._requestStartTime,
            g = Math.round(h / 100);
        h = d.getBaseStopCounters();
        for (var f = d.getIntrigueStopCounters(), a = 0; a < h.length; a++) h[a] +=
            f[a];
        f = h[0];
        for (a = 0; a < h.length; a++) h[a] < f && (f = h[a]);
        g = Math.max(0, Math.min(g, f) - d._cfg.recyclerView.reelsMinStopCounter);
        for (f = 0; f < d._reels.length; f++) d._reels[f].stop(b[f].slice(0, d._cfg.mhv[f]), h[f] - g)
    };
    this.getBaseStopCounters = function() {
        for (var b = d._cfg.recyclerView.reelsStopCounter.slice(), h = 0; h < d._reels.length; h++) d._reels[h].isOnHold() && b.splice(h, 0, 0);
        return b.slice(0, d._reels.length)
    };
    this.getIntrigueStopCounters = function() {
        var b = Array(d._reels.length).fill(0),
            h = nge.localData.get("slotMachineIntrigue");
        if (!h || !h.status) return b;
        h.endsFrom = h.endsFrom ? h.endsFrom : Infinity;
        for (var g = 0; g < b.length; g++)
            if (g >= h.startsFrom && g < h.endsFrom)
                for (var f = g; f < b.length; f++) b[f] += d._cfg.recyclerView.intrigueAdditionalCounter;
        return b
    };
    this.getSymbolByPosition = function(b) {
        return d._reels[parseInt(b.reel, 10)].getSymbolAt(parseInt(b.row, 10))
    };
    this.getReels = function() {
        return d._reels
    };
    this.speedUpReel = function(b) {
        d._reels[b].setCounter(0);
        d._reels[b].setSpeed(d._cfg.recyclerView.reelsSpeedUpSpeed)
    };
    this.speedUpReels = function() {
        d._speedUp = !0;
        for (var b = 0; b < d._reels.length; b++) d.speedUpReel(b)
    };
    this.showAnimationSymbolsCover = function(b) {};
    this.hideAnimationSymbolsCovers = function() {
        for (var b = 0; b < d._animationSymbolsCovers.length; b++)
            for (var h = 0; h < d._animationSymbolsCovers[b].length; h++) d._animationSymbolsCovers[b][h].visible = !1
    };
    this.getRandomSymbolsTable = function() {
        console.color("[RV]getRandomSymbolsTable", "#00ff00", "#000000")
    };
    this.holdSymbol = function(b, h) {
        console.color("[RV]holdSymbol", "#00ff00", "#000000");
        d.unholdSymbol(b);
        var g = h.getName();
        h = h.texture;
        d._holdedSymbolsContainer || (d._holdedSymbolsContainer = nge.objects.create(nge.Mlm.Objects.Folder({
            name: "holdedSymbolsContainer"
        }), d._container));
        g = nge.objects.create(nge.Mlm.Objects.Image({
            name: "holdedSymbol_" + b.reel + "_" + b.row,
            assetKey: g,
            x: h.x + h.parent.x,
            y: h.y + h.parent.y,
            anchorX: .5,
            anchorY: .5
        }), d._holdedSymbolsContainer);
        d._holdedSymbols[b.reel][b.row] = g
    };
    this.unholdSymbol = function(b) {
        console.color("[RV]unholdSymbol", "#00ff00", "#000000");
        b || console.error("nge.Com.SlotMachine.View.unholdSymbol error: no symbolPosition");
        d._holdedSymbols[b.reel][b.row] && (d._holdedSymbols[b.reel][b.row].destroy(!0), d._holdedSymbols[b.reel][b.row] = null)
    };
    this.unholdAll = function() {
        console.color("[RV]unholdAll", "#00ff00", "#000000");
        for (var b in d._holdedSymbols)
            for (var h in d._holdedSymbols[b]) d.unholdSymbol({
                reel: b,
                row: h
            })
    };
    this.holdReel = function(b) {
        d._reels[b].hold()
    };
    this.unholdReel = function(b) {
        d._reels[b].unhold()
    };
    this.unholdAllReels = function() {
        for (var b = 0; b < d._reels.length; b++) d._reels[b].unhold()
    };
    this.destroySymbol = function(b,
        d) {
        console.color("[RV]destroySymbol", "#00ff00", "#000000")
    };
    this.normalizeReelsSymbolsPositions = function(b) {
        console.color("[RV]destroySymbol", "#00ff00", "#000000")
    };
    this.changeSymbolPosition = function(b, d, g, f) {
        console.color("[RV]changeSymbolPosition", "#00ff00", "#000000")
    };
    this.appendSymbol = function(b, d, g) {
        console.color("[RV]appendSymbol", "#00ff00", "#000000")
    };
    this._createTempBlur = function(b, d) {
        console.color("[RV]_createTempBlur", "#00ff00", "#000000")
    };
    this._getBlurKeys = function(b, d) {
        console.color("[RV]_getBlurKeys",
            "#00ff00", "#000000")
    };
    this.customReelStartCallback = function(b, d, g) {
        nge.rafSetTimeout(g, d)
    };
    this.customReelStopCallback = function(b, d) {};
    this.reelSpinsFinishTweenOnUpdateCallback = this.reelSpinsStartTweenOnUpdateCallback = !1
});
nge.Com.SlotMachine.View = Class.extend(function() {
    var d = this,
        b, h, g, f, a, c, e = 0,
        k, l = [],
        m = [],
        q = [],
        n, p = [],
        r = [],
        u = !1,
        t = !1,
        v = {},
        w = {},
        x = !1,
        y = !1,
        z = !1,
        B = [];
    this._cfg;
    this._pool;
    this._symbolSize;
    this._reelsSymbols;
    this._speedReelsCustom = [];
    this.deactivate = function() {
        E(d._cfg)
    };
    this.destroy = function() {
        E(d._cfg)
    };
    this.destroyReelsContainer = function() {
        K();
        f.parent.removeChild(f);
        f.destroy(!0);
        f = null
    };
    this.createSlotMachine = function(e, p, n, q) {
        d._cfg = e;
        k = p;
        q || (d._pool && d._pool.reset(), d._pool = d.getInstance("Pool"));
        b = d.getInstance("Helper");
        h = n;
        p = h.get();
        for (n = 0; n < p.length; n++) p[n].textureZ && (z = !0);
        E(e, q);
        g = nge.find("^" + d._cfg.parentName);
        e = g.getData();
        f = nge.objects.create(new nge.Mlm.Objects.Folder);
        d._symbolSize = {
            width: e.width / d._cfg.mw,
            height: e.height / d._cfg.mh
        };
        p = g.getData();
        (e = nge.find("^" + d._cfg.maskName)) || (e = f);
        p = e && 0 < e.getData().width && 0 < e.getData().height ? e.getData() : p;
        n = [];
        if (d._cfg.rowsXoffset || d._cfg.rowsYoffset || d._cfg.mhv)
            for (var m = 0; m < d._cfg.mw; m++) {
                var r = p.width / d._cfg.mw,
                    t = p.height,
                    u = m * r,
                    v =
                    0;
                d._cfg.rowsXoffset && d._cfg.rowsXoffset[m] && (u += d._cfg.rowsXoffset[m]);
                d._cfg.rowsYoffset && d._cfg.rowsYoffset[m] && (v += d._cfg.rowsYoffset[m]);
                d._cfg.mhv && d._cfg.mhv[m] && (t = p.height * d._cfg.mhv[m] / d._cfg.mh);
                n.push([u, v, r, t])
            } else n = [0, 0, p.width, p.height];
        p = nge.objects.create(new nge.Mlm.Objects.Mask({
            rects: n
        }), e, !0);
        e.mask = p;
        g.add(f);
        p = f.parent.getData();
        for (n = 0; n < d._cfg.mw; n++) e = nge.objects.create(new nge.Mlm.Objects.Folder), e.width = d._symbolSize.width, e.height = p.height, e.x = n * d._symbolSize.width,
            e.y = 0, d._cfg.rowsXoffset && d._cfg.rowsXoffset[n] && (e.x += d._cfg.rowsXoffset[n]), d._cfg.rowsYoffset && d._cfg.rowsYoffset[n] && (e.y += d._cfg.rowsYoffset[n]), f.add(e), a.push(e), d._reelsSymbols.push([]), c.push([]);
        if (!q) {
            h.get();
            q = d._cfg.mw * (2 * d._cfg.mh + 1);
            for (e = 0; e < q; e++) p = d.getInstance("Symbol"), p.init(!1, d._symbolSize, g), p.setView(d), d._pool.store(!1, p);
            H();
            q = d._cfg.symbolsBlurKeys;
            for (e = 0; e < 3 * d._cfg.mw; e++) d._cfg.symbolsBlurKeys && d._cfg.symbolsBlurKeys[e] && "object" === typeof d._cfg.symbolsBlurKeys[e] &&
                (q = d._cfg.symbolsBlurKeys[e]), d._createTempBlur(q)
        }
        for (p = e = q = 0; p < d._cfg.mw; p++)
            for (l[p] = [], n = J(p), d._cfg.rowsXoffset && (q = d._cfg.rowsXoffset[p]), d._cfg.rowsYoffset && (e = d._cfg.rowsYoffset[p]), m = 0; m < n; m++) r = "animateSymbolCover-" + p + "-" + m, (t = nge.findOne("^" + r)) ? l[p][m] = t : nge.game.cache.checkImageKey(r) && (r = new nge.Mlm.Objects.Image({
                name: r,
                assetKey: r,
                x: (p + .5) * d._symbolSize.width + q,
                y: (m + .5) * d._symbolSize.height + e,
                anchorX: .5,
                anchorY: .5,
                isVisible: !1
            }), r = nge.objects.create(r, g), l[p][m] = r);
        return !0
    };
    this.setSymbol =
        function(b) {
            var c = b.coords,
                e = c[0];
            c = c[1];
            b = b.key;
            I(e, c);
            b = d._pool.release(b);
            d._reelsSymbols[e][c] = b;
            C(b.texture, {
                row: c
            });
            a[e].addChild(b.texture);
            d._displaySymbolCallback(b, a[e]);
            if (z) {
                var f = b.getConfig().textureZ ? b.getConfig().textureZ : 0;
                b.texture.z = f;
                b.texture.z += .01 * c;
                a[e].sort()
            }
        };
    this.updateBlurs = function() {
        H()
    };
    this.displaySymbols = function(b, c) {
        if (!g) return !1;
        K();
        d._customClearSymbols();
        for (var e = 0; e < d._cfg.mw; e++) {
            a[e].removeChildren();
            for (var f = J(e), h = 0; h < f; h++) {
                var k = d._pool.release(b[e][h]);
                d._reelsSymbols[e][h] = k;
                C(k.texture, {
                    row: h
                });
                a[e].addChild(k.texture);
                d._displaySymbolCallback(k, a[e], c);
                if (z) {
                    var l = k.getConfig().textureZ ? k.getConfig().textureZ : 0;
                    k.texture.z = l;
                    k.texture.z += .01 * h
                }
            }
            z && a[e].sort()
        }
        return !0
    };
    this._customClearSymbols = function() {};
    this._displaySymbolCallback = function(a, b, c) {};
    this.reelSpins = function() {
        y = u = !1;
        d._speedReelsCustom = [];
        for (var b = n = !1, c = 0, e = 0; e < d._cfg.mw; e++)
            if (w[e]) 0 === e && (b = !0), d._cfg.blursShiftOnReelsHold || c++;
            else {
                var f = a[e],
                    g = "blur-" + c,
                    h = d._pool.release(g);
                h._sysSmName = g;
                g = f;
                var k = e,
                    l = h;
                l.y = -l.height;
                g.addChild(l);
                p[k] = l;
                S(f, e, h, c);
                c++
            } b && P(!1, 0);
        return !0
    };
    this.setNewReelsCfg = function(a) {
        n = a
    };
    this.getSymbolByPosition = function(a) {
        return d._reelsSymbols[a.reel][a.row]
    };
    this.getReels = function() {
        return a
    };
    this.speedUpReels = function() {
        d._speedReelsCustom = [];
        for (var a in m) {
            var b = m[a];
            b && b.timeScale && (b.timeScale = d._cfg.speedUpReelsFactor)
        }
        u = !0
    };
    this.changeBlursSpeed = function(a) {
        for (var b in m) {
            var c = m[b],
                e = a[b] ? a[b] : a;
            c.timeScale && (c.timeScale = e);
            d._speedReelsCustom[b] =
                e
        }
    };
    this.showAnimationSymbolsCover = function(a) {
        var b;
        l && l[a.reel] && (b = l[a.reel][a.row]);
        if (!b) return !1;
        b.visible = !0;
        g.bringToTop(b)
    };
    this.hideAnimationSymbolsCovers = function() {
        for (var a = 0; a < l.length; a++)
            for (var b = l[a], c = 0; c < b.length; c++) {
                var d = b[c];
                d && (d.visible = !1)
            }
    };
    this.getRandomSymbolsTable = function() {
        for (var a = [], b = 0; b < d._cfg.mw; b++) {
            for (var c = [], e = J(b), f = 0; f < e; f++) {
                var g = A();
                c.push(g)
            }
            a.push(c)
        }
        return a
    };
    var A = function() {
        var a = h.get(),
            b = nge.Lib.Helper.getRandomInt(0, a.length - 1);
        return a[b].name
    };
    this._getRandomSymbolName = A;
    this.holdSymbol = function(a, b) {
        d.unholdSymbol(a);
        var c = b.getName();
        b = b.texture;
        if (!x) {
            var e = nge.Mlm.Objects.Folder({
                name: "holdedSymbolsContainer"
            });
            x = nge.objects.create(e, g)
        }
        c = nge.Mlm.Objects.Image({
            name: "holdedSymbol_" + a.reel + "_" + a.row,
            assetKey: c,
            x: b.x + b.parent.x,
            y: b.y + b.parent.y,
            anchorX: .5,
            anchorY: .5
        });
        c = nge.objects.create(c, x);
        v[a.reel][a.row] = c
    };
    this.unholdSymbol = function(a) {
        a || console.error("nge.Com.SlotMachine.View.unholdSymbol error: no symbolPosition");
        v[a.reel] ||
            (v[a.reel] = {});
        D(a.row, a.reel)
    };
    this.unholdAll = function() {
        for (var a in v)
            for (var b in v[a]) D(b, a)
    };
    this.holdReel = function(a) {
        w[a] = !0
    };
    this.unholdReel = function(a) {
        w[a] = !1
    };
    this.unholdAllReels = function() {
        w = {}
    };
    this.destroySymbol = function(a, b) {
        if (!d._reelsSymbols[a.reel][a.row]) return console.error("nge.Com.SlotMachine.View destroySymbol error: no symbol in this position"), !1;
        var c = function() {
                I(a.reel, a.row);
                nge.observer.fire("slotMachine.destroySymbolComplete", a)
            },
            e = d._reelsSymbols[a.reel][a.row];
        b ||
            (b = c);
        return b(e, a, c)
    };
    this.normalizeReelsSymbolsPositions = function(a) {
        for (var b = d._cfg.mw * d._cfg.mh, c = 0, e = function() {
                c++;
                c === b && nge.observer.fire("slotMachine.normalizeReelsSymbolsPositionsComplete")
            }, f = 0; f < d._reelsSymbols.length; f++)
            for (var g = d._reelsSymbols[f].length - 1; 0 <= g; g--)
                if (d._reelsSymbols[f][g]) e();
                else {
                    for (var h = g - 1; 0 <= h; h--)
                        if (d._reelsSymbols[f][h]) {
                            d.changeSymbolPosition({
                                reel: f,
                                row: h
                            }, {
                                reel: f,
                                row: g
                            }, e, a);
                            break
                        } d._reelsSymbols[f][g] || e()
                }
    };
    this.changeSymbolPosition = function(a, b, c, e) {
        if (!d._reelsSymbols[a.reel][a.row] ||
            d._reelsSymbols[b.reel][b.row]) return console.error("nge.Com.SlotMachine.View changeSymbolPosition error: wrong incoming data"), !1;
        var f = d._reelsSymbols[a.reel][a.row];
        d._reelsSymbols[b.reel][b.row] = f;
        C(f.texture, b);
        delete d._reelsSymbols[a.reel][a.row];
        var g = function() {
            c && c();
            nge.observer.fire("slotMachine.changeSymbolPositionComplete", a)
        };
        e || (e = g);
        return e(f, a, b, g)
    };
    this.appendSymbol = function(b, c, e) {
        if (d._reelsSymbols[b.reel][b.row]) return console.error("nge.Com.SlotMachine.View appendSymbol error: symbol already exists in this position"),
            !1;
        var f = a[b.reel];
        c = d._pool.release(c);
        d._reelsSymbols[b.reel][b.row] = c;
        C(c.texture, b);
        f.addChild(c.texture);
        if (z) {
            var g = c.getConfig().textureZ ? c.getConfig().textureZ : 0;
            c.texture.z = g;
            c.texture.z += .01 * b.row;
            f.sort()
        }
        f = function() {
            nge.observer.fire("slotMachine.appendSymbolComplete", b)
        };
        e || (e = f);
        return e(c, b, f)
    };
    var C = function(a, b) {
            a.y = (b.row + .5) * d._symbolSize.height;
            a.x = d._symbolSize.width / 2
        },
        D = function(a, b) {
            v[b][a] && (v[b][a].destroy(!0), v[b][a] = null)
        },
        J = function(a) {
            var b = d._cfg.mh;
            d._cfg.mhv && (b =
                d._cfg.mhv[a]);
            return b
        },
        E = function(b, f) {
            x = !1;
            d._reelsSymbols = [];
            a = [];
            c = [];
            p = [];
            r = [];
            for (var g in m) m[g].stop();
            m = [];
            e = 0;
            y = t = !1;
            d._pool && !f && d._pool.reset()
        },
        K = function() {
            if (!d._reelsSymbols || !d._reelsSymbols.length) return !1;
            for (var a = 0; a < d._reelsSymbols.length; a++)
                for (var b = 0; b < d._reelsSymbols[a].length; b++) I(a, b);
            return !0
        },
        I = function(b, c) {
            if (!(d._reelsSymbols && d._reelsSymbols.length && d._reelsSymbols[b] && d._reelsSymbols[b][c])) return !1;
            a[b].remove(d._reelsSymbols[b][c].texture);
            d._reelsSymbols[b][c].reset();
            d._pool.store(!1, d._reelsSymbols[b][c]);
            d._reelsSymbols[b][c] = null
        };
    this._createTempBlur = function(a, b) {
        b = b ? b : "blurTemp";
        a = G(d._cfg.mh, a);
        a.key = b;
        d._pool.store(b, a)
    };
    var H = function() {
        for (var a, b = d._cfg.symbolsBlurKeys, c = d._cfg.lastSymbolsBlurStaticKeys, e = 0; e < d._cfg.mw; e++) d._cfg.symbolsBlurKeys && d._cfg.symbolsBlurKeys[e] && "object" === typeof d._cfg.symbolsBlurKeys[e] && (b = d._cfg.symbolsBlurKeys[e]), d._cfg.lastSymbolsBlurStaticKeys && "undefined" !== typeof d._cfg.lastSymbolsBlurStaticKeys[e] && (c = d._cfg.lastSymbolsBlurStaticKeys[e]),
            d._pool.check("blur-" + e) && (a = d._pool.release("blur-" + e), a.texture.destroy(!0, !0), a.destroy(!0, !0), a.key = !1, a.game = !1, delete null), a = G("number" === typeof d._cfg.th ? d._cfg.th : d._cfg.th[e], b, c), d._pool.store("blur-" + e, a)
    };
    this._getBlurKeys = function(a, b) {
        for (var c = [], d = !1, e = function(a) {
                if (0 === b.length) return console.error("nge.Com.SlotMachine.View _createBlur getBlurRandomKey error: symbolsKeys.length = 0"), !1;
                if (1 === b.length) return b[0];
                var c = b[~~(Math.random() * b.length)];
                return a !== c ? c : e(a)
            }, f = 0; f < a; f++) d =
            e(d), c.push(d);
        return c
    };
    var G = function(a, c, e) {
            var f = d._cfg.blurAlpha,
                g = nge.objects.create(new nge.Mlm.Objects.Folder),
                k = nge.statesManager.getCurrentName();
            k = nge.findOne("^" + k + "State");
            k.add(g);
            var l = [],
                p = 0;
            c = d._getBlurKeys(a, c);
            for (var n = 0; n < a; n++) {
                var q = c[n];
                if (e && 0 < e.length) {
                    var m = n + e.length - a;
                    0 <= m && (q = e[m])
                }
                m = nge.objects.create(new nge.Mlm.Objects.Image({
                    assetKey: q
                }));
                m.scale.x = m.scale.y = 1;
                b.setTextureSize(m, d._symbolSize, d._cfg);
                m.width > p && (p = m.width);
                m.position.y = (n + .5) * d._symbolSize.height;
                m.anchor.x = 0;
                m.anchor.y = .5;
                m.alpha = f;
                var r = h.get();
                z && (r = r.filter(function(a) {
                    return a.name === q
                })[0], m.z = (r.textureZ ? r.textureZ : 0) + .01 * n);
                l[n] = m
            }
            for (n = 0; n < a; n++) m = l[n], m.position.x = (p - m.width) / 2, g.addChild(m);
            z && g.sort();
            g.scale.x = 1 / k.worldScale.x;
            g.scale.y = 1 / k.worldScale.y;
            e = g.getLocalBounds();
            e = new Phaser.RenderTexture(nge.game, e.width | 0, a * d._symbolSize.height);
            PIXI.DisplayObject._tempMatrix.tx = 0;
            PIXI.DisplayObject._tempMatrix.ty = 0;
            e.render(g, PIXI.DisplayObject._tempMatrix);
            a = nge.objects.create(new nge.Mlm.Objects.Image({
                assetKey: "1px_empty",
                class: "_slotMachineBlur"
            }), null, !0, !0);
            a.loadTexture(e);
            a.scale.x = a.scale.y = 1;
            a.x = d._symbolSize.width / 2;
            a.anchor.x = .5;
            g.game = !1;
            g.destroy(!0);
            delete null;
            return a
        },
        F = function(a) {
            var b = 0;
            d._cfg.rowsYoffset && d._cfg.rowsYoffset[a] && (b = d._cfg.rowsYoffset[a]);
            return b
        },
        S = function(a, b, c, e) {
            if ("undefined" === typeof e || null === e) e = b;
            var f = J(e),
                g = d._cfg.tweenDuration,
                h = e * d._cfg.tweenStartInterval,
                k = g.blur + e * d._cfg.tweenEndInterval;
            "factor" === g.blurDurationType && (k = ("number" === typeof d._cfg.th ? d._cfg.th : d._cfg.th[e]) *
                g.blur + e * d._cfg.tweenEndInterval);
            var l = "factor" === g.symbolsDurationType ? "number" === typeof d._cfg.mhv ? d._cfg.mhv * g.oldSymbols : d._cfg.mhv[e] * g.oldSymbols : g.oldSymbols;
            B[b] = "factor" === g.symbolsDurationType ? "number" === typeof d._cfg.mhv ? d._cfg.mhv * g.newSymbols : d._cfg.mhv[e] * g.newSymbols : g.newSymbols;
            var p = l + k + B[b];
            e = 0 < p;
            var n = F(b);
            if (e) {
                var r = nge.tween.add(a, "custom" === d._cfg.tweenType);
                var t = d.customReelStartCallback(a, b, r, h);
                t && (r = t.tween, h = t.startDelay);
                m[b] = r
            }
            t = c.height + n;
            e && "linear" === g.animationType ?
                (f = (c.height + d._symbolSize.height * f) / (p - l), q[b] = f, r.to({
                    y: t
                }, c.height / f, nge.Lib.Tween.Easing.Linear.None, !1, h)) : (0 < l ? r.to({
                    y: d._symbolSize.height * f + n
                }, l, nge.Lib.Tween.Easing.Quartic.In, !1, h) : a.y = d._symbolSize.height * f, 0 < g.blur ? r.to({
                    y: t
                }, k, nge.Lib.Tween.Easing.Linear.None, !1) : a.y = c.height + n);
            e ? (r.onStart.addOnce(function() {
                nge.observer.fire("slotMachine.reelAnimationStart", b, h);
                nge.observer.fire("slotMachine.reel_" + b + ".animation.start", h)
            }), r.onUpdateCallback(function(a, b, c) {
                d.reelSpinsStartTweenOnUpdateCallback &&
                    d.reelSpinsStartTweenOnUpdateCallback(a, b, c)
            }, this), r.onComplete.addOnce(function(d, e, f, g) {
                N(a, b, c)
            }, this), r.start()) : P(a, b, c);
            return !0
        },
        N = function(a, b, c) {
            if (!t)
                for (t = [], c = 0; c < d._cfg.mw; c++) t[c] = 0;
            var e = nge.localData.get("slotMachineIntrigue");
            if (n && e && e.status && !e.done) {
                nge.localData.set("slotMachineIntrigue.done", !0);
                var f = 1;
                for (c = e.startsFrom; c < d._cfg.mw; c++) t[c] += 5 * f, f++;
                y = !0
            }
            f = nge.localData.get("slotMachineAdditionalBlurs");
            if (n && f)
                for (c = 0; c < f.length; c++) f[c] && (t[c] += f[c]), 0 > t[c] && (t[c] = 0);
            nge.localData.set("slotMachineAdditionalBlurs",
                !1);
            if (n && (u || 0 >= t[b])) return R(b), !1;
            if (0 === b && 0 === t[0])
                for (c = 0; c < d._cfg.mw; c++) t[c]++;
            t[b]--;
            if (!u && y && !d._speedReelsCustom[b] && m[b - 1] && !m[b - 1].isRunning)
                for (f = e.endsFrom ? e.endsFrom : d._cfg.mw, c = e.startsFrom; c < f; c++) e = d._cfg.intrigueSpeedReelsFactor, d._speedReelsCustom[c] = e, m[c] && (m[c].timeScale = e);
            r[b] || (r[b] = []);
            c = nge.localData.get("slotMachineAdditionalBlursKeys");
            e = "blurTemp";
            c && c[b] && c[b][t[b]] && (e = c[b][t[b]]);
            e = d._pool.release(e);
            if (!e) return !1;
            f = Infinity;
            for (c = 0; c < a.children.length; c++) {
                var g =
                    a.children[c].y;
                f > g && (f = g)
            }
            f -= e.height;
            if (Infinity !== f) {
                for (c = 0; c < a.children.length; c++) a.children[c].y -= f;
                a.y += f
            }
            r[b].push(e);
            e.y = a.children[a.children.length - 1].y - e.height;
            a.addChild(e);
            2 < r[b].length && (c = r[b].shift(), a.removeChild(c), d._pool.store(c.key ? c.key : "blurTemp", c));
            p[b] && a.y >= p[b].height + e.height && L(a, b);
            M(a, b);
            c = F(b);
            Q(a, b, N, c)
        },
        P = function(a, b) {
            nge.observer.fire("slotMachine.reel_" + b + ".animation.stop");
            if (a) {
                M(a, b);
                d._reelsSymbols[b] = c[b];
                L(a, b);
                if (r[b]) {
                    for (var e = 0; e < r[b].length; e++) {
                        var f =
                            r[b][e];
                        a.removeChild(f);
                        d._pool.store(f.key ? f.key : "blurTemp", f)
                    }
                    r[b] = []
                }
                e = 0;
                d._cfg.rowsYoffset && d._cfg.rowsYoffset[b] && (e = d._cfg.rowsYoffset[b]);
                a.y = e;
                for (e = 0; e < d._reelsSymbols[b].length; e++) C(d._reelsSymbols[b][e].texture, {
                    row: e
                })
            }
            O(a, b);
            nge.observer.fire("slotMachine.reel_" + b + ".animation.stopped");
            w[b + 1] && P(!1, b + 1)
        };
    this.customReelStartCallback = function(a, b, c, d) {
        return {
            tween: c,
            startDelay: d
        }
    };
    this.customReelStopCallback = function(a, b) {};
    var M = function(a, b) {
            for (var c, e = 0; e < d._reelsSymbols[b].length; e++) c =
                d._reelsSymbols[b][e], a.removeChild(c.texture), d._pool.store(!1, c);
            d._reelsSymbols[b].splice(0, d._reelsSymbols[b].length)
        },
        L = function(a, b) {
            if (p[b]) {
                var c = p[b];
                a.removeChild(c);
                a = "blur-" + b;
                c._sysSmName && (a = c._sysSmName, delete c._sysSmName);
                d._pool.store(a, c);
                p[b] = !1
            }
        },
        O = function(a, b) {
            e++;
            d.customReelStopCallback(a, b);
            e === d._reelsSymbols.length && (m = [], e = 0, y = t = !1, nge.rafSetTimeout(function() {
                k.spinCompleteCallback()
            }, d._cfg.spinCompleteDelay))
        },
        R = function(b) {
            var e = a[b],
                f = n[b],
                g = 0;
            0 < e.children.length &&
                (g = e.children[e.children.length - 1].y);
            c[b] = [];
            for (var h = J(b), k = 0; k < h; k++) {
                var l = d._pool.release(f[k]);
                c[b].push(l);
                l.texture.y = (k + .5 - h) * d._symbolSize.height + g;
                l.texture.x = d._symbolSize.width / 2;
                e.addChild(l.texture);
                if (z) {
                    var p = l.getConfig().textureZ ? l.getConfig().textureZ : 0;
                    l.texture.z = p;
                    l.texture.z += .01 * k
                }
            }
            z && e.sort();
            nge.observer.fire("slotMachine.reel.newSymbolsAppended", b);
            Q(e, b, P);
            if (d.reelSpinsFinishTweenOnUpdateCallback) m[b].onUpdateCallback(d.reelSpinsFinishTweenOnUpdateCallback, this);
            return !0
        };
    this.reelSpinsFinishTweenOnUpdateCallback = this.reelSpinsStartTweenOnUpdateCallback = !1;
    var Q = function(a, b, c, e) {
        var f = d._cfg.tweenDuration;
        F(b);
        var g = d._cfg.mhv && d._cfg.mhv[b] ? d._cfg.mhv[b] : d._cfg.mh;
        "undefined" === typeof e && (e = a.y + d._symbolSize.height * g);
        g = 1;
        d._speedReelsCustom[b] ? g = d._speedReelsCustom[b] : u && (g = d._cfg.speedUpReelsFactor);
        if ("custom" === d._cfg.tweenType) var h = m[b];
        else h = nge.tween.add(a), m[b] = h;
        "linear" === f.animationType ? h.to({
                y: e
            }, Math.abs(e - a.y) / q[b], nge.Lib.Tween.Easing.Linear.None,
            !0) : 0 < B[b] ? h.to({
            y: e
        }, B[b], nge.Lib.Tween.Easing.Quartic.Out, !0) : a.y = e;
        h.onComplete.addOnce(function() {
            c(a, b)
        });
        h.timeScale = g
    }
});
nge.Com.SpinButton = {};
nge.Com.SpinButton._Package = {
    name: "com.spinButton",
    version: 1,
    requirments: {
        js: ["com/spinButton/controller"]
    }
};
nge.Com.SpinButton.Controller = nge.Com.Base.extend(function() {
    var d, b, h, g;
    this.create = function() {
        this.createDefault();
        d || (nge.observer.add("spinButton.regular", f), nge.observer.add("spinButton.autospin", c), nge.observer.add("spinButton.freespin", e), nge.observer.add("spinButton.enable", k), nge.observer.add("spinButton.disable", l), nge.observer.add("spinButton.maxBet", m), nge.observer.add("autospin.end", f), nge.observer.add("autospin.stopRequest", a), nge.observer.add("freespin.end", f), nge.observer.add("slotMachine.spinCommand",
            l), nge.observer.add("slotMachine.spinComplete", k));
        b = nge.find("^spinButton");
        h = nge.find("^stopButton");
        g = nge.find("^freeSpinButton");
        var q = nge.localData.get("brain.restoreGame");
        q && q.lastResponse && "FreeSpinReady" === q.lastResponse.state && l();
        return d = !0
    };
    var f = function() {
            var a = nge.localData.get("freeGame.inProgress"),
                c = nge.find("^spinButtonText");
            h.visible = !1;
            g.visible = !1;
            b.visible = !0;
            c.addClass("spinTextSpin");
            c.removeClass("spinTextFree");
            c.removeClass("disableText");
            a ? (c.visible = !1, nge.find("^freeGameButtonTextFree").visible = !0, nge.find("^freeGameButtonTextFree").addClass("spinTextSpin"), nge.find("^freeGameButtonTextFree").removeClass("spinTextFree"), nge.find("^freeGameButtonTextFree").removeClass("disableText"), nge.find("^freeGameButtonTextGame").visible = !0, nge.find("^freeGameButtonTextGame").addClass("spinTextSpin"), nge.find("^freeGameButtonTextGame").removeClass("spinTextFree"), nge.find("^freeGameButtonTextGame").removeClass("disableText")) : (c.visible = !0, nge.find("^freeGameButtonTextFree").visible = !1, nge.find("^freeGameButtonTextGame").visible = !1)
        },
        a = function() {
            h.visible = !1;
            g.visible = !1;
            b.visible = !0
        },
        c = function() {
            b.visible = !1;
            g.visible = !1;
            h.visible = !0
        },
        e = function() {
            b.visible = !1;
            h.visible = !1;
            g.visible = !0;
            l()
        },
        k = function() {
            var a = nge.localData.get("slotMachine"),
                b = nge.localData.get("freeGame.inProgress");
            if (!b && a && a.slotWin && a.slotWin.linePickBonus && a.slotWin.linePickBonus.length) return !1;
            a = nge.find("^spinButtonText");
            a.removeClass("disableText");
            var c = nge.find("^spinButtonButton");
            c && c.enable();
            b ? (a.visible = !1, nge.find("^freeGameButtonTextFree").visible = !0, nge.find("^freeGameButtonTextFree").removeClass("disableText"), nge.find("^freeGameButtonTextGame").visible = !0, nge.find("^freeGameButtonTextGame").removeClass("disableText")) : (a.visible = !0, nge.find("^freeGameButtonTextFree").visible = !1, nge.find("^freeGameButtonTextGame").visible = !1)
        },
        l = function() {
            var a = nge.find("^spinButtonButton");
            a && a.disable(3);
            a = nge.find("^spinButtonText");
            a.addClass("disableText");
            nge.localData.get("freeGame.inProgress") ? (a.visible = !1, nge.find("^freeGameButtonTextFree").visible = !0, nge.find("^freeGameButtonTextFree").addClass("disableText"), nge.find("^freeGameButtonTextGame").visible = !0, nge.find("^freeGameButtonTextGame").addClass("disableText")) : (a.visible = !0, nge.find("^freeGameButtonTextFree").visible = !1, nge.find("^freeGameButtonTextGame").visible = !1)
        },
        m = function(a) {
            var b = nge.find("^spinButtonButton");
            nge.find("^spinButtonText").removeClass("disableText");
            b.key = a ? "/btn_spin_maxbet.png" : "/btn_spin_regular.png";
            b.frame = 2;
            b.frame = 1;
            nge.assets.applyQuality(b)
        }
});
nge.Com.SpinButton.Tpl = function() {
    return {
        assets: {
            name: "assets",
            contents: [{
                fullPath: "img/slots/button_sprite_sheet.png",
                key: "/slots/button_sprite_sheet.png",
                width: 579,
                height: 71,
                frameWidth: 193,
                frameHeight: 71
            }]
        },
        objects: {
            name: "objects",
            contents: [{
                type: 4,
                isVisible: 1,
                width: 50,
                height: 50,
                id: "spinButton",
                name: "spinButton",
                assetKey: "/slots/button_sprite_sheet.png",
                action: "function () {nge.observer.fire('slotMachine.spinCommand');}",
                btnFrames: {
                    over: 2,
                    out: 1,
                    down: 0
                }
            }]
        }
    }
};
nge.Com.SpinControlContainer = {};
nge.Com.SpinControlContainer._Package = {
    name: "com.spinControlContainer",
    version: 1,
    requirments: {
        js: []
    }
};
nge.Com.SpinControlContainer.Animator = Class.extend(function() {
    this.firstCreation = function(b) {
        d(b);
        return !0
    };
    var d = function(b) {
        var d = nge.find("^spinControlContainer");
        if (!d) return !1;
        var g = d.x + 500;
        d = nge.tween.add(d);
        d.from({
            x: g
        }, 500, nge.Lib.Tween.Easing.Back.Out, !1, 1200).onComplete.add(function() {
            b && b()
        });
        d.start()
    }
});
nge.Com.SummaryPopup = {};
nge.Com.SummaryPopup._Package = {
    name: "com.summaryPopup",
    version: 1,
    requirments: {
        js: ["com/summaryPopup/controller"]
    }
};
nge.Com.SummaryPopup.Controller = nge.Com.Base.extend(function() {
    this.preload = function() {
        this.preloadDefault(!1, {
            betGroup: "summaryPopup"
        })
    };
    this.create = function() {
        this.createDefault();
        var d = nge.localData.get("lastBonusWin");
        d = nge.Lib.Validator.floatMoney(d, !0) + nge.localData.get("currency");
        nge.localData.set("lastBonusWin", !1);
        nge.find("^winUserCodeText").text = d
    }
});
nge.Com.SummaryPopup.Tpl = function() {
    return {
        assets: {
            name: "assets",
            contents: [{
                fullPath: "img/popup/minigame/popup_1_line.png",
                key: "/popup_1_line.png"
            }]
        },
        objects: {
            name: "objects",
            contents: [{
                id: "winContainer",
                name: "winContainer",
                x: 0,
                y: 0,
                type: 1,
                contents: [{
                    id: "congratsContainer",
                    name: "congratsContainer",
                    type: 1,
                    isVisible: !0,
                    contents: [{
                        name: "congratsText",
                        id: "congratsText",
                        x: 1024,
                        y: 565,
                        type: 2,
                        anchorX: .5,
                        style: {
                            font: "bold 98px 'freesetboldc'",
                            fill: "#ffffff",
                            align: "center",
                            stroke: "#1c98ab",
                            strokeThickness: 7
                        },
                        isVisible: !0,
                        text: "CONGRATS"
                    }]
                }, {
                    id: "mainAreaContainer",
                    name: "mainAreaContainer",
                    type: 1,
                    contents: [{
                        name: "machWin",
                        x: 1024,
                        y: 730,
                        type: 2,
                        anchorX: .5,
                        style: {
                            font: "bold 74px 'freesetboldc'",
                            fill: "#308794",
                            align: "center",
                            strokeThickness: 0
                        },
                        isVisible: !0,
                        text: "YOUR BONUS"
                    }, {
                        name: "winUserCodeText",
                        id: "winUserCodeText",
                        x: 1024,
                        y: 890,
                        type: 2,
                        anchorX: .5,
                        style: {
                            font: "bold 112px 'freesetboldc'",
                            fill: "#ff3f00",
                            align: "center",
                            stroke: "#ffffff",
                            strokeThickness: 10
                        },
                        isVisible: !0,
                        text: " "
                    }, {
                        name: "results",
                        id: "results",
                        x: 1024,
                        y: 768,
                        anchorX: .5,
                        anchorY: .5,
                        type: 0,
                        isVisible: !0,
                        assetKey: "/popup_1_line.png"
                    }]
                }],
                isVisible: !0
            }, {
                type: 0,
                isVisible: !0,
                assetKey: "summary_bg"
            }]
        }
    }
};
nge.Com.TotalBet = {};
nge.Com.TotalBet._Package = {
    name: "com.totalBet",
    version: 1,
    requirments: {
        js: ["com/totalBet/controller"]
    },
    dependence: ["com.bet", "com.coins", "com.lines", "mlm.localData", "lib.observer"]
};
nge.Com.TotalBet.Controller = nge.Com.Base.extend(function() {
    var d;
    this.create = function() {
        this.createDefault();
        b();
        d || (nge.observer.add("brain.openGameSuccess", b), nge.observer.add("bet.change", b), nge.observer.add("lines.change", b), nge.observer.add("coins.change", b), nge.observer.add("totalBet.update", b));
        return d = !0
    };
    var b = function() {
        var b = nge.localData.get("lines.value"),
            d = nge.localData.get("bet.value"),
            f = nge.localData.get("coins.value"),
            a = nge.localData.get("betMultiplier");
        if (!b || !d || void 0 === f) return !1;
        b = b * d * f * a;
        nge.localData.set("totalBet.value", b);
        d = nge.find(".totalBetNumber");
        f = nge.localData.get("pokerMachine.gameParameters.handsQty");
        d && (d.text = b.toFixed(2));
        d && f && (d.text = nge.Lib.Validator.convertToFloat(b * f));
        nge.observer.fire("totalBet.change");
        return !0
    }
});
nge.Com.TotalBet.Tpl = function() {
    return {
        styles: {
            ".totalbettext": {
                anchorY: .5,
                style: {
                    font: "48px freesetboldc",
                    fill: "#264C6F"
                },
                text: "BET:"
            }
        },
        assets: {
            name: "assets",
            contents: []
        },
        objects: {
            name: "objects",
            contents: [{
                name: "totalBetNumber",
                type: 2,
                "class": "totalbettext totalbetvalue",
                x: 5,
                anchorX: 0,
                isVisible: !0,
                text: "0"
            }, {
                name: "totalBetText",
                "class": "totalbettext totalbetname",
                type: 2,
                x: -5,
                anchorX: 1,
                isVisible: !0
            }]
        }
    }
};
nge.Com.Tutorial = {};
nge.Com.Tutorial._Package = {
    name: "com.tutorial",
    version: 1,
    requirments: {
        js: ["com/tutorial/controller"]
    }
};
nge.Com.Tutorial.Controller = nge.Com.Base.extend(function() {
    var d, b;
    this.create = function() {
        this.createDefault();
        d || (nge.observer.add("welcomePopup.hidden", h), nge.observer.add("tutorial.next", f), nge.observer.add("tutorial.back", a), nge.observer.add("tutorial.close", g), b = this.getInstance("View"), d = !0);
        return !0
    };
    var h = function() {
            b.show()
        },
        g = function() {
            b.close()
        },
        f = function() {
            b.next()
        },
        a = function() {
            b.back()
        }
});
nge.Com.Tutorial.Tpl = function() {
    return {
        styles: {
            ".tutorialNavigationText": {
                anchorX: .5,
                anchorY: .5,
                style: {
                    font: '40px "freesetboldc"',
                    fill: "#FFFFFF",
                    align: "center"
                }
            },
            "^tutorialClose": {
                frame: 1,
                btnFrames: {
                    over: 2,
                    out: 1,
                    down: 0
                }
            }
        },
        assets: {
            name: "assets",
            contents: [{
                fullPath: "img/black-bg.png",
                key: "black-bg",
                qualityObeys: !1
            }, {
                fullPath: "img/tutorial/info/tutorial_panel_arrow.png",
                key: "tutorial_panel_arrow"
            }, {
                fullPath: "img/tutorial/info/tutorial_panel_1px.png",
                key: "tutorial_panel_1px"
            }, {
                fullPath: "img/tutorial/info/tutorial_panel_corner.png",
                key: "tutorial_panel_corner"
            }, {
                fullPath: "img/tutorial/info/tutorial_panel_corner.png",
                key: "tutorial_panel_corner"
            }, {
                fullPath: "img/tutorial/info/btn_back.png",
                key: "tutorial_back",
                width: 1104,
                height: 88,
                frameWidth: 276
            }, {
                fullPath: "img/tutorial/info/btn_next.png",
                key: "tutorial_next",
                width: 1104,
                height: 88,
                frameWidth: 276
            }, {
                fullPath: "img/tutorial/info/btn_close.png",
                key: "tutorial_close",
                width: 216,
                height: 72,
                frameWidth: 72
            }]
        },
        objects: {
            name: "objects",
            contents: [{
                name: "tutorial",
                type: 1,
                isVisible: !1,
                contents: [{
                    name: "tutorialNavigation",
                    type: 1,
                    isVisible: !0,
                    contents: [{
                        name: "tutorialNext",
                        type: 1,
                        x: 1224,
                        y: 1300,
                        isVisible: !0,
                        contents: [{
                            "class": "tutorialNavigationText",
                            name: "tutorialNextText",
                            type: 2,
                            x: -20,
                            isVisible: !0,
                            text: "NEXT"
                        }, {
                            "class": "button",
                            name: "tutorialNextButton",
                            type: 4,
                            anchorX: .5,
                            anchorY: .5,
                            isVisible: !0,
                            assetKey: "tutorial_next",
                            action: 'function () {nge.observer.fire("tutorial.next");}'
                        }]
                    }, {
                        name: "tutorialBack",
                        type: 1,
                        x: 824,
                        y: 1300,
                        isVisible: !0,
                        contents: [{
                            "class": "tutorialNavigationText",
                            name: "tutorialBackText",
                            type: 2,
                            x: 20,
                            isVisible: !0,
                            text: "PREVIOUS"
                        }, {
                            "class": "button",
                            name: "tutorialBackButton",
                            type: 4,
                            anchorX: .5,
                            anchorY: .5,
                            isVisible: !0,
                            assetKey: "tutorial_back",
                            action: 'function () {nge.observer.fire("tutorial.back");}'
                        }]
                    }, {
                        name: "tutorialClose",
                        type: 4,
                        x: 1024,
                        y: 500,
                        anchorX: .5,
                        isVisible: !0,
                        assetKey: "tutorial_close",
                        action: 'function () {nge.observer.fire("tutorial.close");}'
                    }]
                }, {
                    name: "tutorial-container",
                    type: 1,
                    isVisible: !0,
                    contents: [{
                        name: "objcopycontainer",
                        type: 1,
                        isVisible: !0,
                        contents: [{
                            "class": "obj-copy",
                            type: 0,
                            isVisible: !0,
                            inputEnabled: !0,
                            assetKey: "black-bg"
                        }]
                    }, {
                        "class": "tutorial-box",
                        type: 1,
                        isVisible: !0,
                        contents: [{
                            "class": "corner-left-top",
                            x: 8,
                            y: 8,
                            anchorX: .5,
                            anchorY: .5,
                            type: 0,
                            isVisible: !0,
                            assetKey: "tutorial_panel_corner"
                        }, {
                            "class": "px-top",
                            x: 16,
                            scaleY: 16,
                            type: 0,
                            isVisible: !0,
                            assetKey: "tutorial_panel_1px"
                        }, {
                            "class": "corner-right-top",
                            y: 0,
                            angle: 90,
                            type: 0,
                            isVisible: !0,
                            assetKey: "tutorial_panel_corner"
                        }, {
                            "class": "px-left",
                            y: 16,
                            scaleX: 16,
                            type: 0,
                            isVisible: !0,
                            assetKey: "tutorial_panel_1px"
                        }, {
                            "class": "tutorial-text",
                            type: 2,
                            x: 16,
                            y: 16,
                            isVisible: !0,
                            text: "",
                            style: {
                                font: 'bold 36px "freesetboldc"',
                                fill: "#ffffff",
                                align: "left",
                                wordWrap: !0,
                                wordWrapWidth: 600
                            }
                        }, {
                            "class": "px-middle",
                            x: 16,
                            y: 16,
                            type: 0,
                            isVisible: !0,
                            assetKey: "tutorial_panel_1px"
                        }, {
                            "class": "px-right",
                            y: 15,
                            type: 0,
                            isVisible: !0,
                            assetKey: "tutorial_panel_1px"
                        }, {
                            "class": "corner-left-bottom",
                            x: 0,
                            angle: 270,
                            type: 0,
                            isVisible: !0,
                            assetKey: "tutorial_panel_corner"
                        }, {
                            "class": "px-bottom",
                            x: 15,
                            scaleY: 16,
                            type: 0,
                            isVisible: !0,
                            assetKey: "tutorial_panel_1px"
                        }, {
                            "class": "corner-right-bottom",
                            x: 0,
                            y: 0,
                            angle: 180,
                            type: 0,
                            isVisible: !0,
                            assetKey: "tutorial_panel_corner"
                        }]
                    }, {
                        "class": "tutorial-arrow",
                        type: 0,
                        anchorX: .5,
                        anchorY: .5,
                        isVisible: !0,
                        assetKey: "tutorial_panel_arrow"
                    }, {
                        name: "tutorialBg",
                        type: 0,
                        alpha: .6,
                        scaleX: 205,
                        scaleY: 154,
                        isVisible: !0,
                        inputEnabled: !0,
                        assetKey: "black-bg"
                    }]
                }]
            }]
        }
    }
};
nge.Com.Tutorial.View = Class.extend(function() {
    var d = this,
        b = 0,
        h = nge.game.world.width - 20,
        g = nge.game.world.height - 20,
        f, a, c, e, k = [{
                text: "SPINS THE REELS",
                arrowPosition: "right",
                target: nge.findOne("^spinButton"),
                targetSelector: "^spinButton"
            }, {
                text: "ACTIVATES ALL AVAILABLE PAY LINES",
                arrowPosition: "right",
                target: nge.findOne("^maxbetContainer"),
                targetSelector: "^maxbetContainer"
            }, {
                text: "AFTER A WIN, YOU MAY GAMBLE TO DOUBLE  YOUR WIN",
                arrowPosition: "right",
                target: nge.findOne("^gambleButton"),
                targetSelector: "^gambleButton"
            },
            {
                text: "OPENS OPTIONS AND LAUNCHES AUTOSPIN",
                arrowPosition: "right",
                target: nge.findOne("^autoSpinButtonContainer"),
                targetSelector: "^autoSpinButtonContainer"
            }, {
                text: "SHOWS YOUR CASH BALANCE AND ALLOWS YOU TO MAKE A DEPOSIT",
                arrowPosition: "top",
                target: nge.findOne("^playHeader"),
                targetSelector: "^playHeader"
            }, {
                text: "CHANGES THE SETTINGS FOR BET AMOUNT, PAY LINES, IMAGE QUALITY AND SOUND",
                arrowPosition: "bottom",
                target: nge.findOne("^btn_settings"),
                targetSelector: "^btn_settings"
            }, {
                text: "SHOWS PAYOUTS FOR SYMBOLS, SPECIALS AND PAY LINES",
                arrowPosition: "bottom",
                target: nge.findOne("^paytableButtonContainer"),
                targetSelector: "^paytableButtonContainer"
            }, {
                text: "SHOWS INFO ABOUT CURRENT WINS, STAKES ETC.",
                arrowPosition: "bottom",
                target: nge.findOne("^infoPanelContainer"),
                targetSelector: "^infoPanelContainer",
                targetShift: {
                    x: -580,
                    y: 0
                }
            }, {
                text: "LEAVE THE GAME",
                arrowPosition: "top",
                target: nge.findOne("^btn_close"),
                targetSelector: "^btn_close",
                targetShift: {
                    x: -35,
                    y: 10
                }
            }
        ];
    this.show = function() {
        f = nge.findOne(".tutorial-box");
        a = nge.findOne(".tutorial-arrow");
        c = nge.findOne("^tutorialNext");
        e = nge.findOne("^tutorialBack");
        var d = nge.findOne("^tutorialClose"),
            g = nge.findOne("^btn_close");
        d.x = g.x;
        d.y = g.y;
        d.anchor.x = g.anchor.x;
        d.anchor.y = g.anchor.y;
        nge.findOne("^gambleButtonContainer").visible = !0;
        for (d = 0; d < k.length; d++) k[d].target = nge.findOne(k[d].targetSelector);
        l(b)
    };
    this.next = function() {
        b++;
        b >= k.length ? this.close() : l(b)
    };
    this.back = function() {
        b--;
        0 >= b ? l(0) : l(b)
    };
    this.close = function() {
        nge.findOne("^gambleButtonContainer").visible = !1;
        var a = nge.findOne("^tutorial"),
            b = nge.tween.add(a);
        b.to({
            alpha: 0
        }, 300);
        b.onComplete.addOnce(function() {
            a.destroy(!0);
            nge.observer.fire("tutorial.closed")
        });
        b.start()
    };
    var l = function(g) {
            b = g;
            var h = k[g];
            if (!h.target) return d.next(), !1;
            var l = h.target,
                q = nge.findOne("^tutorial-container .obj-copy"),
                u = l instanceof Phaser.Button;
            q.x = l.worldTransform.tx / l.worldTransform.a;
            q.y = l.worldTransform.ty / l.worldTransform.d;
            u && (q.x /= nge.assets.getQualityFactor(), q.y /= nge.assets.getQualityFactor());
            u = l.generateTexture();
            q.x += l._bounds.x;
            q.y += l._bounds.y;
            q.setTexture(u);
            q.width = l.width;
            q.height = l.height;
            u = nge.findOne(".tutorial-box .tutorial-text");
            u.text = h.text;
            l = nge.findOne(".tutorial-box .px-middle");
            l.width = u.width;
            l.height = 110 > u.height ? 110 : u.height;
            u = nge.findOne(".tutorial-box .px-top");
            u.width = l.width + 1;
            u.height = 16;
            nge.findOne(".tutorial-box .corner-right-top").x = l.width + 32;
            u = nge.findOne(".tutorial-box .px-left");
            u.height = l.height + 1;
            u.width = 16;
            u = nge.findOne(".tutorial-box .px-right");
            u.height = l.height + 2;
            u.width = 16;
            u.x = l.width + 16;
            nge.findOne(".tutorial-box .corner-left-bottom").y =
                l.height + 32;
            u = nge.findOne(".tutorial-box .px-bottom");
            u.y = l.y + l.height - 3;
            u.width = l.width + 2;
            u.height = 19;
            u = nge.findOne(".tutorial-box .corner-right-bottom");
            u.x = 32 + l.width;
            u.y = 32 + l.height;
            l = h.targetShift && h.targetShift.y ? h.targetShift.y : 0;
            f.x = q.x + (h.targetShift && h.targetShift.x ? h.targetShift.x : 0);
            f.y = q.y + l;
            switch (h.arrowPosition) {
                case "top":
                    f.x += q.width / 2 - f.width / 2;
                    f.y += q.height + a.height - 2;
                    m(f, "x");
                    break;
                case "bottom":
                    f.x += q.width / 2 - f.width / 2;
                    f.y -= f.height + a.height - 2;
                    m(f, "x");
                    break;
                case "left":
                    f.x +=
                        q.width + a.height - 2;
                    f.y += q.height / 2 - f.height / 2;
                    m(f, "y");
                    break;
                case "right":
                    f.x -= f.width + a.height - 2, f.y += q.height / 2 - f.height / 2, m(f, "y")
            }
            l = a;
            u = q.x + (h.targetShift && h.targetShift.x ? h.targetShift.x : 0);
            var t = q.y + (h.targetShift && h.targetShift.y ? h.targetShift.y : 0);
            switch (h.arrowPosition) {
                case "bottom":
                    var v = 0;
                    break;
                case "right":
                    v = -90;
                    break;
                case "left":
                    v = 90;
                    break;
                case "top":
                    v = 180
            }
            l.x = u;
            l.y = t;
            l.pivot.x = .5;
            l.pivot.y = .5;
            l.angle = v;
            switch (h.arrowPosition) {
                case "top":
                    l.x += q.width / 2;
                    l.y += q.height + l.height / 2;
                    break;
                case "bottom":
                    l.x += q.width / 2;
                    l.y -= l.height / 2;
                    break;
                case "left":
                    l.x += q.width + l.height / 2;
                    l.y += q.height / 2;
                    break;
                case "right":
                    l.x -= l.height / 2, l.y += q.height / 2
            }
            nge.findOne("^tutorial").visible = !0;
            switch (g) {
                case 0:
                    c.visible = !0;
                    e.visible = !1;
                    break;
                default:
                    c.visible = !0, e.visible = !0
            }
            return !1
        },
        m = function(a, b) {
            switch (b) {
                case "x":
                    20 > a.x ? a.x = 20 : a.x + a.width > h && (a.x = h - a.width);
                    break;
                case "y":
                    20 > a.y ? a.y = 20 : a.y + a.height > g && (a.y = g - a.height)
            }
        }
});
nge.Com.WelcomePopup = {};
nge.Com.WelcomePopup._Package = {
    name: "com.welcomePopup",
    version: 1,
    requirments: {
        js: ["com/welcomePopup/controller"]
    }
};
nge.Com.WelcomePopup.Controller = nge.Com.Base.extend(function() {
    var d, b = !1;
    this.create = function() {
        this.createDefault();
        d || (nge.observer.add("welcomePopup.show", h), nge.observer.add("welcomePopup.dontShow", g), nge.observer.add("welcomePopup.play", f), d = !0);
        var a = nge.find("^welcomePopupLogo"),
            b = 900 < a.width ? .8 : 1;
        a.scaleY = b;
        a.scaleX = b;
        return !0
    };
    var h = function() {
            nge.find("#welcomePopup").visible = !0
        },
        g = function() {
            b = !b;
            var a = nge.find(".welcomePopup .welcome-checkbox");
            a.removeClass("regular").removeClass("active");
            b ? a.addClass("active") : a.addClass("regular");
            nge.observer.fire("welcomePopup.showTutorial", !b)
        },
        f = function() {
            nge.localData.set("showTutorial", !1);
            nge.find("#welcomePopup").destroy(!0);
            nge.observer.fire("welcomePopup.hidden")
        }
});
nge.Com.WelcomePopup.Tpl = function() {
    return {
        styles: {
            ".welcomePopup .welcome-checkbox.regular": {
                btnFrames: {
                    over: 2,
                    out: 1,
                    down: 0
                }
            },
            ".welcomePopup .welcome-checkbox.active": {
                btnFrames: {
                    over: 5,
                    out: 4,
                    down: 3
                }
            }
        },
        assets: {
            name: "assets",
            contents: [{
                fullPath: "img/tutorial/welcome_scr/welcome_popup.png",
                key: "welcome_popup"
            }, {
                fullPath: "img/tutorial/welcome_scr/btn_play_now.png",
                key: "btn_play_now",
                width: 1548,
                height: 144,
                frameWidth: 516,
                frameHeight: 144
            }, {
                fullPath: "img/tutorial/welcome_scr/checkbox.png",
                key: "checkbox",
                width: 456,
                height: 76,
                frameWidth: 76,
                frameHeight: 76
            }, {
                name: "groupLogo",
                contents: nge.tpl.group("logo").assets.contents
            }]
        },
        objects: {
            name: "objects",
            contents: [{
                id: "welcomePopup",
                name: "welcomePopup",
                "class": "welcomePopup",
                type: 1,
                isVisible: !1,
                contents: [{
                        x: 1050,
                        y: 972,
                        anchorX: .5,
                        type: 2,
                        isVisible: !0,
                        text: "PLAY NOW",
                        style: {
                            font: "bold 44pt 'freesetboldc'",
                            fill: "#f7ffff",
                            align: "left"
                        }
                    }, {
                        x: 640,
                        y: 1115,
                        type: 2,
                        isVisible: !0,
                        text: "DON'T SHOW THIS TUTORIAL AGAIN",
                        style: {
                            font: 'bold 32pt "freesetboldc"',
                            fill: "#0175b7",
                            align: "left"
                        }
                    },
                    {
                        x: 1050,
                        y: 810,
                        anchorX: .5,
                        anchorY: .5,
                        type: 2,
                        isVisible: !0,
                        text: "idleStart" + nge.Lib.Helper.getRandomInt(1, 5),
                        style: {
                            font: "bold 45pt 'freesetboldc'",
                            fill: "#ffffff",
                            align: "center",
                            wordWrap: !0,
                            wordWrapWidth: 850
                        }
                    }, {
                        x: 760,
                        y: 325,
                        type: 2,
                        isVisible: !0,
                        text: "WELCOME!",
                        style: {
                            font: '80pt "freesetboldc"',
                            fill: "#e5fbff",
                            align: "left"
                        }
                    }, {
                        x: 1455,
                        y: 1092,
                        "class": "welcome-checkbox regular",
                        anchorX: .5,
                        type: 4,
                        isVisible: !0,
                        assetKey: "checkbox",
                        action: "function () {nge.observer.fire('welcomePopup.dontShow');}"
                    }, {
                        x: 1050,
                        y: 935,
                        anchorX: .5,
                        type: 4,
                        isVisible: !0,
                        assetKey: "btn_play_now",
                        action: "function () {nge.observer.fire('welcomePopup.play');}",
                        btnFrames: {
                            over: 2,
                            out: 1,
                            down: 2
                        }
                    }, {
                        name: "welcomePopupLogo",
                        type: 1,
                        anchorX: .5,
                        x: 1050,
                        y: 615,
                        contents: nge.tpl.group("logo").objects.contents,
                        isVisible: 1
                    }, {
                        type: 0,
                        assetKey: "welcome_popup",
                        inputEnabled: !0
                    }
                ]
            }]
        }
    }
};
nge.Com.WinInfo = {};
nge.Com.WinInfo._Package = {
    name: "com.wininfo",
    version: 1,
    requirments: {
        js: ["com/wininfo/controller"]
    }
};
nge.Com.WinInfo.Controller = nge.Com.Base.extend(function() {
    var d, b;
    this.preload = function() {
        this.preloadDefault()
    };
    this.create = function() {
        b = this;
        this.createDefault();
        d || (nge.observer.add("win", h), nge.observer.add("loose", h), b.customSubscribe());
        return d = !0
    };
    this.customSubscribe = function() {
        return !0
    };
    var h = function(b) {
        var d = nge.find("^winInfoWinAmountValue");
        d && (d.text = nge.localData.get("currency") + nge.Lib.Validator.convertToFloat(b.winAmount));
        if (d = nge.find("^winInfoWinFactorValue")) d.text = nge.Lib.Validator.convertToFloat(b.winMultiplier)
    }
});
nge.Com.Winlines = {};
nge.Com.Winlines._Package = {
    name: "com.winlines",
    version: 1,
    requirments: {
        js: ["com/winlines/controller"]
    }
};
nge.Com.Winlines.Cfg = Class.extend(function() {
    this.showLinesOnWin = this.singleton = !0;
    this.linesHighligntDuration = 5E3;
    this.fastAutoMode = !0;
    this.animateAllSymbols = this.customParentName = !1;
    this.animationAllDelayPerLine = this.animationAllDelay = this.animationAllDuration = 0;
    this.animationOneByOneDuration = 3E3;
    this.rowsIndexesNormalizeValue = !1;
    this.globalOffset = 200;
    this.lineWeight = 6;
    this.tailSize = 0;
    this.cacheLineObjectsAsBitmap = !0;
    this.lineColors = "0xf9cc16 0x86e21a 0x2cd1e6 0xe496fa 0x9698fa 0xe7962d 0xbbe233 0xf9f10d 0xf35b5b 0x999999 0xaaaaaa 0xbbbbbb 0xcccccc 0xdddddd 0xeeeeee 0xffffff 0x123456 0xcccccc 0xcccccc 0xffffff".split(" ");
    this.lineOffsets = [0, 0, 0, -30, -30, -30, 30, 30, 30, -60, -60, -60, 60, 60, 60, -90, -90, -90, 90, 90];
    this.lineCustomCoords = [!1, !1, !1, !1, !1, !1, !1, !1, !1, !1, !1, !1, !1, !1, !1, !1, !1, !1, !1, !1];
    this.stroke = {
        weight: 2,
        alpha: .5,
        colors: "0xa36b24 0x40961e 0x2090ef 0xb25acc 0x6b71b2 0xa16210 0x627d03 0xac8b05 0xb61558 0xa36b24 0x40961e 0x2090ef 0xb25acc 0x6b71b2 0xa16210 0x627d03 0xac8b05 0xb61558 0xcccccc 0xffffff".split(" ")
    };
    this.shadow = !0;
    this.numbers = {
        font: "bold 30px Arial",
        fill: "#ffffff",
        stroke: "#9a620b",
        strokeThickness: 5,
        lineHeight: 20
    };
    this.numbersHighlighted = {
        font: "bold 30px Arial",
        fill: "#ffc668",
        stroke: "#8b4e0c",
        strokeThickness: 5,
        lineHeight: 20
    };
    this.offsetFromLine = 30;
    this.numbersPositions = "both both both both both both both both both both both both both both both both both both both both".split(" ");
    this.numbersCustomY = this.numbersCustomDecoration = !1;
    this.thumbs = {
        width: 380,
        height: 230,
        columns: null,
        rows: null,
        customRowsIndexesNormalizeValue: null,
        cellBgColor: "0xebf3f4",
        cellStrokeColor: "0x30afc2",
        cellBorderSize: 5,
        lineSize: 16,
        lineColor: "0x63de27",
        lineStrokeSize: 4,
        lineStrokeColor: "0xebf3f4"
    }
});
nge.Com.Winlines.Controller = nge.Com.Base.extend(function() {
    this._service;
    this._view;
    var d, b, h, g;
    this.preload = function() {
        g = this;
        this.preloadDefault();
        b = this.getInstance("Cfg", "slotMachine").get();
        g._view || (g._view = this.getInstance("View"));
        g._service || (g._service = this.getInstance("Service"));
        d || (d = this.getInstance("ThumbsService"));
        g._service.preload(g._view);
        return !0
    };
    this.create = function() {
        this.createDefault();
        h || (nge.observer.add("Transport.close", p), nge.observer.add("winlines.set", f), nge.observer.add("winlines.show",
            a), nge.observer.add("winlines.hide", c), nge.observer.add("winlines.hideAll", e), nge.observer.add("slotMachine.spinResponse", k), nge.observer.add("winlines.setNewQuery", k), nge.observer.add("winlines.animateAll", l), nge.observer.add("winlines.animateByOne", m), nge.observer.add("winlines.thumbsRequest", q), nge.observer.add("winlines.sendLineToBack", u), nge.observer.add("lines.change", t), nge.observer.add("slotMachine.spinStart", n), nge.observer.add("winlines.pauseAnimation", n), nge.observer.add("winlines.stopAnimation",
            r), nge.observer.add("winlines.setCurrentLineDuration", v), nge.observer.add("winlines.setCurrentLineDurationFirstTime", w), g.customSubscribe());
        g._service.create(b);
        d.create(g._view);
        r();
        return h = !0
    };
    this.destroy = function() {
        r()
    };
    var f = function(a) {
            _normalizeRowsIndexes(a);
            g._view.buildWinLines(a)
        },
        a = function(a) {
            g._view.show(a)
        },
        c = function(a) {
            g._view.hide(a)
        },
        e = function() {
            g._view.hideAll()
        },
        k = function(a) {
            g._view.setNewQuery(a)
        },
        l = function() {
            g._view.animateAll()
        },
        m = function() {
            g._view.animateByOne()
        },
        q =
        function() {
            var a = d.getThumbs();
            nge.observer.fire("winlines.thumbsResponse", a)
        },
        n = function(a) {
            nge.observer.fire("winlines.stoppingAnimation.start");
            g._view.stopLinesAnimation(a);
            g._view.hideAll()
        },
        p = function() {
            g._view.stopLinesAnimation()
        },
        r = function() {
            n(!0)
        },
        u = function(a) {
            g._view.sendLineToBack(a)
        },
        t = function() {
            nge.localData.set("winlines.updated", !0);
            var a = nge.localData.get("lines.value");
            g._view.highlightLines(a);
            g._view.highlightNumbers(a)
        },
        v = function(a) {
            g._view.setCurrentLineDuration(a)
        },
        w = function(a) {
            g._view.setCurrentLineDuration(a,
                !0)
        };
    this.customSubscribe = function() {
        return !0
    }
});
nge.Com.Winlines.Service = Class.extend(function() {
    var d, b;
    this.preload = function(h) {
        d = h;
        b = this.getInstance("Cfg");
        b.numbersCustomDecoration && nge.game.load.image(b.numbersCustomDecoration, b.numbersCustomDecoration);
        return !0
    };
    this.create = function() {
        d.create();
        d.normalizeRowsIndexes();
        return !0
    }
});
nge.Com.Winlines.ThumbsService = Class.extend(function() {
    var d, b, h, g, f;
    this.create = function(c) {
        b = this.getInstance("Cfg");
        g = nge.localData.get("winlines");
        f = this.getInstance("ThumbsView");
        h = this.getInstance("Cfg", "slotMachine").get();
        a(c);
        return !0
    };
    this.getThumbs = function() {
        d || a();
        return d
    };
    var a = function(a) {
        d && 0 < d.length && (d = []);
        d = [];
        var c = b.thumbs.rows || h.mh,
            k = b.thumbs.columns || h.mw;
        c = {
            columns: k,
            rows: c,
            rowsIndexesNormalizeValue: b.thumbs.customRowsIndexesNormalizeValue || a.normalizeRowsIndexes(),
            width: b.thumbs.width,
            height: b.thumbs.height,
            cellBgColor: b.thumbs.cellBgColor,
            cellStrokeColor: b.thumbs.cellStrokeColor,
            cellBorderSize: b.thumbs.cellBorderSize,
            lineSize: b.thumbs.lineSize,
            lineColor: b.thumbs.lineColor,
            lineStrokeSize: b.thumbs.lineStrokeSize,
            lineStrokeColor: b.thumbs.lineStrokeColor,
            symbolWidth: (b.thumbs.width - (k + 1) * b.thumbs.cellBorderSize) / k,
            symbolHeight: (b.thumbs.height - (c + 1) * b.thumbs.cellBorderSize) / c
        };
        for (k = 0; k < g.length; k++) {
            var l = g[k];
            f.drawThumb(c, a, l);
            l = nge.objects.create(new nge.Mlm.Objects.Image({
                assetKey: "1px_empty"
            }));
            l.loadTexture(l.generateTexture());
            d.push(l)
        }
    }
});
nge.Com.Winlines.ThumbsView = Class.extend(function() {
    var d;
    this.drawThumb = function(h, g, f) {
        d = g;
        g = nge.objects.create(new nge.Mlm.Objects.Graphics, null);
        g.beginFill(h.cellStrokeColor, 1);
        g.drawRoundedRect(0, 0, h.width, h.height, 14);
        g.endFill();
        for (var a = 0; a < h.columns; a++)
            for (var c = 0; c < h.rows; c++) g.beginFill(h.cellBgColor, 1), g.drawRoundedRect(h.cellBorderSize + (h.symbolWidth + h.cellBorderSize) * a, h.cellBorderSize + (h.symbolHeight + h.cellBorderSize) * c, h.symbolWidth, h.symbolHeight, 14), g.endFill();
        h.lineStrokeSize &&
            h.lineStrokeColor && b(g, f, h, 2 * h.lineStrokeSize + h.lineSize, h.lineStrokeColor);
        b(g, f, h, h.lineSize, h.lineColor);
        return g
    };
    var b = function(b, g, f, a, c) {
        for (var e, h, l, m, q = 0; q < g.length - 1; q++) 0 === q ? (e = f.symbolWidth * q + f.symbolWidth / 2 + f.cellBorderSize * (q + 1), h = f.symbolHeight * (g[q] - f.rowsIndexesNormalizeValue) + f.symbolHeight / 2 + f.cellBorderSize * (g[q] + 1 - f.rowsIndexesNormalizeValue), l = f.symbolWidth * (q + 1) + f.symbolWidth / 2 + f.cellBorderSize * (q + 2), m = f.symbolHeight * (g[q + 1] - f.rowsIndexesNormalizeValue) + f.symbolHeight / 2 + f.cellBorderSize *
            (g[q + 1] + 1 - f.rowsIndexesNormalizeValue), d.drawConnector(b, e, h, a, c, 1)) : (l = f.symbolWidth * (q + 1) + f.symbolWidth / 2 + f.cellBorderSize * (q + 2), m = f.symbolHeight * (g[q + 1] - f.rowsIndexesNormalizeValue) + f.symbolHeight / 2 + f.cellBorderSize * (g[q + 1] + 1 - f.rowsIndexesNormalizeValue)), d.drawSegment(b, e, h, l, m, a, c, 1), d.drawConnector(b, e, h, a, c, 1), e = l, h = m;
        d.drawConnector(b, e, h, a, c, 1)
    }
});
nge.Com.Winlines.View = Class.extend(function() {
    this._cfg;
    var d = this,
        b, h, g, f = [],
        a, c, e = 0,
        k, l, m = [],
        q = !1,
        n, p, r = !1,
        u, t, v = !0;
    this.create = function() {
        h = nge.localData.get("winlines");
        g = [];
        f = [];
        d._cfg = this.getInstance("Cfg");
        e = nge.localData.get("lines.value") || 0;
        b = this.getInstance("Cfg", "slotMachine").get();
        this.buildWinLines();
        return !0
    };
    this.normalizeRowsIndexes = function() {
        !1 !== d._cfg.rowsIndexesNormalizeValue && (q = d._cfg.rowsIndexesNormalizeValue);
        if (!1 !== q) return q;
        if (!h) return !1;
        for (var a = 0; a < h.length; a++)
            for (var b =
                    0, c = h[a].length; b < c; b++) q = q > h[a][b] ? h[a][b] : q;
        return q
    };
    this.buildWinLines = function() {
        if (g && g.length) return !1;
        if (!h || !h.length) return console.error("lines is undefined ", h), !1;
        a = nge.findOne("^" + (d._cfg.customParentName ? d._cfg.customParentName : b.parentName));
        if (!a) return !1;
        d._cfg.numbers && (c = nge.objects.create(new nge.Mlm.Objects.Folder({}), a));
        var p = a.mt.data;
        k = p.width / b.mw;
        l = p.height / b.mh;
        p = a;
        for (var n, m, q = 0; q < h.length; q++) {
            n = nge.objects.create(new nge.Mlm.Objects.Graphics);
            d._cfg.shadow && (m = d._cfg.stroke ?
                d._cfg.stroke.weight + d._cfg.lineWeight : d._cfg.lineWeight, m++, n = A(h[q], q, n, m, "0x000000", .2));
            d._cfg.stroke && (n = A(h[q], q, n, d._cfg.stroke.weight + d._cfg.lineWeight, d._cfg.stroke.colors[q], d._cfg.stroke.alpha));
            n = A(h[q], q, n, d._cfg.lineWeight, d._cfg.lineColors[q]);
            m = nge.objects.create(new nge.Mlm.Objects.Folder({}));
            m.visible = !1;
            m.add(n);
            g.push(m);
            d._cfg.cacheLineObjectsAsBitmap && (n.cacheAsBitmap = !0);
            p.add(m);
            if (d._cfg.numbers) {
                var t = q,
                    r = d._cfg.numbers || {},
                    u = d._cfg.globalOffset + d._cfg.lineOffsets[t],
                    v =
                    d._cfg.tailSize || k / 2,
                    w = d._cfg.numbersCustomY && void 0 !== d._cfg.numbersCustomY[t] ? d._cfg.numbersCustomY[t] : !1,
                    x = d._cfg.numbersPositions[t],
                    z = h[t].length - 1,
                    y = nge.objects.create(new nge.Mlm.Objects.Folder({}));
                if ("left" === x || "both" === x) {
                    var B = k / 2 - v - d._cfg.offsetFromLine;
                    m = !1 === w ? h[t][0] * l + l / 2 + u : w;
                    d._cfg.numbersCustomDecoration && (n = new Phaser.Image(nge.game, B, m, new PIXI.Texture(PIXI.BaseTextureCache[d._cfg.numbersCustomDecoration])), n.anchor.x = .5, n.anchor.y = .5, y.add(n));
                    nge.objects.create(new nge.Mlm.Objects.Text({
                        x: B,
                        y: m,
                        text: t + 1,
                        style: r,
                        anchorX: .5,
                        anchorY: .5
                    }), y)
                }
                if ("right" === x || "both" === x) B = z * k + k / 2 + v + d._cfg.offsetFromLine, m = !1 === w ? h[t][z] * l + l / 2 + u : w, d._cfg.numbersCustomDecoration && (n = new Phaser.Image(nge.game, B, m, new PIXI.Texture(PIXI.BaseTextureCache[d._cfg.numbersCustomDecoration])), n.anchor.x = .5, n.anchor.y = .5, y.add(n)), nge.objects.create(new nge.Mlm.Objects.Text({
                    x: B,
                    y: m,
                    text: t + 1,
                    style: r,
                    anchorX: .5,
                    anchorY: .5
                }), y);
                n = y;
                c.add(n);
                f.push(n);
                q < e && C(q)
            }
            nge.localData.get("winlines.updated") && q < e && this.show(q)
        }
        nge.localData.set("winlines.items",
            g);
        nge.localData.set("winlines.updated", !1);
        nge.observer.fire("winlines.buildWinLines.finish")
    };
    this.show = function(b) {
        if (!g[b] || nge.localData.get("slotMachineSpinning")) return !1;
        g[b].visible = !0;
        a.bringToTop(g[b])
    };
    this.hide = function(a) {
        if (!g[a]) return !1;
        g[a].visible = !1;
        return !0
    };
    this.hideAll = function() {
        nge.observer.fire("winlines.view.startHideAll");
        nge.localData.set("winlines.updated", !1);
        v || x();
        for (var a = 0; a < g.length; a++) this.hide(a);
        return !0
    };
    this.highlightLines = function(a) {
        var b = d._cfg.linesHighligntDuration;
        if (0 === b) return !1;
        u = nge.Lib.Time.get();
        for (var c = 0; c < a; c++) c < a && this.show(c); - 1 !== b && nge.rafSetTimeout(B, b)
    };
    this.highlightNumbers = function(a) {
        for (var b = 0; b < a; b++) C(b)
    };
    this.getAnimationQuery = function() {
        return m
    };
    this.setNewQuery = function(a) {
        m = [];
        if (a && a.slotWin && a.slotWin.lineWinAmounts)
            for (var b = 0; b < a.slotWin.lineWinAmounts.length; b++) m.push(a.slotWin.lineWinAmounts[b]);
        a && a.slotWin && a.slotWin.jackpotWin && m.push(a.slotWin.jackpotWin);
        return !0
    };
    this.animateAll = function() {
        0 < d._cfg.animationAllDelay ?
            nge.rafSetTimeout(z, d._cfg.animationAllDelay) : z();
        return !0
    };
    this.resetAnimationIndex = function() {
        n = 0
    };
    this.animateByOne = function() {
        if (!m[n] || nge.localData.get("slotMachineSpinning")) return !1;
        nge.observer.fire("winlines.lineHighlite.start", m[n]);
        nge.rafClearTimeout(p);
        var a = nge.localData.get("autospin.inProgress"),
            b = nge.localData.get("freespin.inProgress");
        if (d._cfg.fastAutoMode && (a || b)) return !1;
        this.hideAll();
        void 0 !== m[n].selectedLine && d._cfg.showLinesOnWin && this.show(m[n].selectedLine);
        nge.observer.fire("winlines.lineHighlite.start.previousHided",
            m[n]);
        d._animateSymbols(m[n].wonSymbols);
        r = !1;
        p = nge.rafSetTimeout(y, d._cfg.animationOneByOneDuration);
        t = "OneByOne";
        nge.observer.fire("winlines.lineHighlite.startComplete", m[n])
    };
    this.sendLineToBack = function(b) {
        a.sendToBack(g[b])
    };
    this.setCurrentLineDuration = function(a, b) {
        if (b && r) return !1;
        p && (r = !0, nge.rafClearTimeout(p), p = nge.rafSetTimeout("All" === t ? x : y, a))
    };
    this.stopLinesAnimation = function(a) {
        p && nge.rafClearTimeout(p);
        a && (m = []);
        v = !0
    };
    this.drawSegment = function(a, b, c, d, e, f, g, h) {
        h = h || 1;
        a.beginFill(g,
            h);
        a.lineStyle(f, g, h);
        a.moveTo(b, c);
        a.lineTo(d, e);
        a.moveTo(d, e);
        a.endFill()
    };
    this.drawConnector = function(a, b, c, d, e, f) {
        a.beginFill(e, f || 1);
        a.lineStyle(0, e, 0);
        a.drawCircle(b, c, d);
        a.endFill()
    };
    var w = function() {
            if (v) return !1;
            v = !0;
            nge.observer.fire("winlines.hideAll");
            nge.observer.fire("winlines.animateAllDone")
        },
        x = function() {
            p && nge.rafClearTimeout(p);
            w()
        },
        y = function() {
            var a = 0;
            n++;
            n >= m.length && (n = 0, a = 5, nge.observer.fire("winlines.animateByOne.cycleComplete"));
            0 < a ? nge.rafSetTimeout(function() {
                    d.animateByOne()
                },
                a) : d.animateByOne()
        },
        z = function() {
            if (!m || 0 === m.length || nge.localData.get("slotMachineSpinning")) return !1;
            p && nge.rafClearTimeout(p);
            v = !1;
            if (d._cfg.animateAllSymbols)
                for (var a in m) d._animateSymbols(m[a].wonSymbols);
            0 === d._cfg.animationAllDuration && w();
            n = 0;
            r = !1;
            p = nge.rafSetTimeout(x, d._cfg.animationAllDuration);
            t = "All";
            for (var b = 0; b < m.length; b++)(a = m[b]) && void 0 !== a.selectedLine && (0 >= d._cfg.animationAllDelayPerLine ? nge.observer.fire("winlines.show", a.selectedLine) : function(a) {
                nge.rafSetTimeout(function() {
                    v ||
                        nge.observer.fire("winlines.show", a)
                }, b * d._cfg.animationAllDelayPerLine)
            }(a.selectedLine));
            return !0
        },
        B = function() {
            nge.Lib.Time.get() >= u + d._cfg.linesHighligntDuration && !p && d.hideAll()
        },
        A = function(a, b, c, e, f, g) {
            var h = d._cfg.globalOffset,
                p, n = k,
                m = l,
                q = d._cfg.tailSize || n / 2;
            g = g || 1;
            var t = function(a, b, h, k, l) {
                l && d.drawConnector(c, a, b, e, f, g);
                d.drawSegment(c, a, b, h, k, e, f, g);
                d.drawConnector(c, h, k, e, f, g)
            };
            h += d._cfg.lineOffsets[b];
            if (p = d._cfg.lineCustomCoords[b]) {
                a = !0;
                for (b = 0; b < p.length; b++) {
                    var r = p[b][0];
                    var u = p[b][1];
                    if (a) {
                        a = !1;
                        var v = r;
                        var w = u
                    }
                    t(v, w, r, u);
                    v = r;
                    w = u
                }
                return c
            }
            b = 0;
            for (p = a.length; b < p; b++) 0 === b ? (v = n / 2 - q, w = a[0] * m + m / 2 + h, r = n / 2, u = w, t(v, w, r, u, !0)) : (r = b * n + n / 2, u = a[b] * m + m / 2 + h, t(v, w, r, u)), v = r, w = u;
            d.drawSegment(c, v, w, r + q, u, e, f, g);
            d.drawConnector(c, r + q, u, e, f, g);
            return c
        },
        C = function(a) {
            if (!f[a]) return !1;
            f[a].forEach(function(a) {
                a.setStyle && a.setStyle(d._cfg.numbersHighlighted)
            })
        };
    this._animateSymbols = function(a) {
        for (var b = 0; b < a.length; b++) a[b] && nge.observer.fire("slotMachine.animateSymbol", {
            reel: a[b][0],
            row: a[b][1]
        })
    }
});
nge.Cfg = {};
nge.Cfg.Sounds = Class.extend(function() {
    this.contents = {}
});
nge.Cfg.Main = {
    _project: "slot",
    _title: "slot",
    _gameCode: "tr3",
    _gameType: "unknown",
    _version: "2.45.05 (build 1 commit da9dd049a3c0632e3dc51ed026fecde549a82b7c)",
    _apiVersion: "4.09",
    _gameVersion: "1",
    _mode: "development",
    _mobile: !1,
    _lang: "en",
    _imagesQualityObeys: !0,
    _forceUpdate: !1,
    _sounds: !0,
    _host: "//" + window.location.hostname,
    _wsType: "WebSocket",
    _wshost: serverString,
    _wshostDev: serverString,
    _wshostRemote: serverString,
    _sendQueryMode: "single",
    _sendUrl: !1,
    _sendDelay: 0,
    _sendUrlProcessing: !1,
    _orientations: ["album", "portrait"],
    get mode() {
        return this._mode
    },
    set mode(d) {
        this._mode = d;
        return !0
    },
    get mobile() {
        return this._mobile
    },
    set mobile(d) {
        this._mobile = d;
        return !0
    },
    get version() {
        return this._version.replace(" (build 1 commit da9dd049a3c0632e3dc51ed026fecde549a82b7c)", "")
    },
    get apiVersion() {
        return this._apiVersion
    },
    get gameVersion() {
        return this._gameVersion
    },
    set gameVersion(d) {
        this._gameVersion = d;
        return !0
    },
    get lang() {
        return this._lang
    },
    set lang(d) {
        this._lang = d;
        return !0
    },
    get sounds() {
        return this._sounds
    },
    get imagesQualityObeys() {
        return this._imagesQualityObeys
    },
    set imagesQualityObeys(d) {
        return this._imagesQualityObeys = d
    },
    get forceUpdate() {
        return this._forceUpdate
    },
    set forceUpdate(d) {
        return this._forceUpdate = d
    },
    get host() {
        return this._host
    },
    get wsType() {
        return this._wsType
    },
    get wshost() {
        return this._wshost
    },
    get wshostDev() {
        return this._wshostDev
    },
    get wshostRemote() {
        return this._wshostRemote
    },
    get ie() {
        return this._ie
    },
    get project() {
        return this._project
    },
    set project(d) {
        this._project = d;
        return !0
    },
    get title() {
        return this._title
    },
    set title(d) {
        this._title = d;
        return !0
    },
    get gameCode() {
        return this._gameCode
    },
    set gameCode(d) {
        this._gameCode = d;
        return !0
    },
    get gameType() {
        return this._gameType
    },
    set gameType(d) {
        this._gameType = d;
        return !0
    },
    get sendQueryMode() {
        return this._sendQueryMode
    },
    get sendUrl() {
        return this._sendUrl
    },
    get sendUrlProcessing() {
        return this._sendUrlProcessing
    },
    get orientations() {
        return this._orientations
    },
    get sendDelay() {
        return this._sendDelay
    }
};
nge.Cfg.Resolutions = {
    contents: [{
        name: "main",
        width: 1920,
        height: 1080,
        orientation: 0,
        _fixed: 1
    }]
};
nge.Cfg.Spine = Class.extend(function() {
    this.singleton = !0;
    this.preloadForStates = {};
    this.preloadForEvents = {};
    this.preloadThreads = 2;
    this.backgroundContainerParentSelector = "^backgroundContainer"
});
nge.Cfg.StatesSlot = {
    demo: ["demo"],
    load: ["load"],
    play: "infoPanel slotMachine spinButton settingsButton paytableButton playHeader spinControlContainer euroButton autoSpinButton bet buttons lines coins totalBet balance winlines maxbet autospin gambleButton bigWin welcomePopup freeGamePopup tutorial freeGameSummaryPopup".split(" "),
    historyDataCollector: ["historyDataCollector"],
    history: ["slotMachine"],
    bonusGame: ["bonusGame"],
    summaryPopup: ["summaryPopup"],
    settings: ["settings", "bet", "coins", "lines", "totalBet"],
    paytable: ["paytable", "winlines"],
    gamble: ["gamble", "infoPanel"]
};
nge.Lib = {};
nge.Lib.Api = function() {
    this.events = {
        subscribe: function(d, b, h, g) {
            return nge.observer.add(d, b, h, g)
        },
        unsubscribe: function(d, b, h, g) {
            return nge.observer.remove(d, b, h, g)
        }
    };
    this.data = {
        get: function(d) {
            return nge.localData.get(d)
        },
        getAll: function() {
            return nge.localData.getAll()
        }
    }
};
nge.Lib.ArchiveLoader = {
    load: function(d, b) {
        b = b || new JSZip;
        var h = $.Deferred(),
            g = new XMLHttpRequest;
        g.open("GET", d, !0);
        g.responseType = "arraybuffer";
        g.onload = function() {
            if (4 === g.readyState) {
                var d = g.response;
                if (200 !== g.status || !d) return h.resolve(b);
                b.loadAsync(d).then(function(a) {
                    h.resolve(a)
                }, function(a) {
                    h.resolve(b)
                })
            }
        };
        g.send();
        return h
    },
    loadMany: function(d, b) {
        d = d || [];
        b = b || new JSZip;
        return d.reduce(function(b, d) {
            return b.then(function(b) {
                return nge.Lib.ArchiveLoader.load(d, b)
            })
        }, $.when(b))
    }
};
nge.Lib.Checker = {
    delay: function(d, b, h, g, f) {
        "undefined" === typeof g && (g = 20);
        "undefined" === typeof h && (h = 50);
        if (d()) return b(), !0;
        if (1 < g) nge.rafSetTimeout(function() {
            nge.Lib.Checker.delay(d, b, h, g - 1, f)
        }, h);
        else if (f) return b(), !0;
        return !1
    },
    paths: function(d, b) {
        for (var h in d) {
            a: {
                var g = void 0;
                var f = d[h],
                    a = window;
                for (g in f)
                    if (a[f[g]]) a = a[f[g]];
                    else {
                        g = !1;
                        break a
                    } g = a
            }
            if (g) return b(g)
        }
        return !1
    }
};
nge.Lib.Console = {
    color: function(d, b, h) {
        b || (b = "#000");
        h || (h = "#fff");
        console.log("%c " + d, "background: " + h + "; color: " + b)
    },
    log: function(d, b) {
        var h = "#212121",
            g = "#b0bec5",
            f = {
                error: {
                    clr: "#ffebee",
                    bgc: "#c62828"
                },
                success: {
                    clr: "#e8f5e9",
                    bgc: "#2e7d32"
                },
                warning: {
                    clr: "#fff3e0",
                    bgc: "#f4511e"
                },
                info: {
                    clr: "#ede7f6",
                    bgc: "#651fff"
                }
            };
        f.hasOwnProperty(b) && (h = f[b].clr, g = f[b].bgc);
        console.log("%c" + d, "color:" + h + "; font-weight:bold; background-color: " + g + "; padding: 3px 6px; border-radius: 2px;")
    }
};
console.color = nge.Lib.Console.color;
"undefined" === typeof nge && (nge = {});
nge.Lib || (nge.Lib = {});
nge.Lib.Helper = {
    typeCheck: function() {
        var d, b = {},
            h = "String Number Boolean Array Object Function RegExp Date Error".split(" ");
        for (d = h.length; d--;) b["is" + h[d]] = function(b) {
            return function(d) {
                var a = Object.prototype.toString.call(d).slice(8, -1);
                return void 0 !== d && null !== d && a === b
            }
        }(h[d]);
        return b
    }(),
    validate: function(d, b, h, g) {
        var f = nge.Lib.Helper.typeCheck,
            a = function() {
                g || console.error.apply(this, arguments)
            };
        return b && !f.isString(b) || b && !f["is" + b] || "undefined" !== typeof g && !f.isBoolean(g) ? (a("validate call error, ",
            arguments), !1) : b && !f["is" + b](d) ? (a("Type error:", d, "is not a " + b), !1) : "undefined" === typeof h || d instanceof h ? !0 : (a("Constructor error:", d, "is not a instance of", h), !1)
    },
    convertImgToBase64: function(d, b) {
        if (this.validate(d, !1, Image) && this.validate(b, "String")) {
            var h = document.createElement("CANVAS"),
                g = h.getContext("2d");
            h.height = d.height;
            h.width = d.width;
            g.drawImage(d, 0, 0);
            return h.toDataURL(b)
        }
    },
    rowsToColumns: function(d) {
        var b = [],
            h;
        for (h in d) {
            var g = d[h],
                f;
            for (f in g) {
                var a = g[f];
                b[f] || (b[f] = []);
                b[f][h] =
                    a
            }
        }
        return b
    },
    arrayAllCombinations: function(d, b) {
        for (var h = [], g = d.length, f = Math.pow(2, g) - 1, a = 1; a <= f; a++) {
            var c = nge.Lib.Helper.decbin(a);
            c = nge.Lib.Helper.str_pad(c, g, "0", "STR_PAD_LEFT");
            var e = nge.Lib.Helper.strrev(c);
            c = [];
            for (var k = 0; k < g; k++) c.push(e[k]);
            e = 0;
            k = [];
            for (var l in c) 1 === +c[l] && k.push(d[e]), e++;
            b && 1 < k.length ? h = nge.Lib.Helper.mergeArrs(h, nge.Lib.Helper.permute(k, !0)) : h.push(k)
        }
        return h
    },
    permute: function(d) {
        function b(a, b) {
            var c, d = [];
            for (c = a.length; 0 <= c; c--) d.push([].concat(a.slice(0, c), [b],
                a.slice(c, void 0)));
            return d
        }
        var h, g = d.length;
        var f = [
            [d[0]]
        ];
        for (h = 1; h < g; h++) {
            var a = d[h];
            var c = f;
            f = [];
            c.forEach(function(c) {
                f = f.concat(b(c, a))
            })
        }
        return f
    },
    decbin: function(d) {
        if (nge.Lib.Helper.validate(d, "Number")) return 0 > d && (d = 4294967295 + d + 1), parseInt(d, 10).toString(2)
    },
    strrev: function(d) {
        d = (d + "").replace(/(.)([\uDC00-\uDFFF\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065E\u0670\u06D6-\u06DC\u06DE-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u0901-\u0903\u093C\u093E-\u094D\u0951-\u0954\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C01-\u0C03\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C82\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D02\u0D03\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F90-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B6-\u17D3\u17DD\u180B-\u180D\u18A9\u1920-\u192B\u1930-\u193B\u19B0-\u19C0\u19C8\u19C9\u1A17-\u1A1B\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAA\u1C24-\u1C37\u1DC0-\u1DE6\u1DFE\u1DFF\u20D0-\u20F0\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA67C\uA67D\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C4\uA926-\uA92D\uA947-\uA953\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uFB1E\uFE00-\uFE0F\uFE20-\uFE26]+)/g,
            "$2$1");
        return d.split("").reverse().join("")
    },
    str_pad: function(d, b, h, g) {
        var f = "",
            a = function(a, b) {
                for (var c = ""; c.length < b;) c += a;
                return c = c.substr(0, b)
            };
        "STR_PAD_LEFT" !== g && "STR_PAD_RIGHT" !== g && "STR_PAD_BOTH" !== g && (g = "STR_PAD_RIGHT");
        f = b - d.length;
        0 < f && ("STR_PAD_LEFT" === g ? d = a(h, f) + d : "STR_PAD_RIGHT" === g ? d += a(h, f) : "STR_PAD_BOTH" === g && (f = a(h, Math.ceil(f / 2)), d = (f + d + f).substr(0, b)));
        return d
    },
    LdgZero: function(d, b) {
        for (d += ""; d.length < b;) d = "0" + d;
        return d
    },
    extend: function(d, b) {
        var h = function() {};
        h.prototype =
            b.prototype;
        d.prototype = new h;
        d.prototype.constructor = d;
        d.superclass = b.prototype;
        return !0
    },
    mergeObjs: function(d, b, h) {
        h = h ? h : nge.Lib.Helper.jsObjClone(d);
        for (var g in b) h[g] = b[g];
        return h
    },
    mergeObjsRecursive: function(d, b) {
        var h = nge.Lib.Helper.jsObjClone(d),
            g;
        for (g in b) h[g] = "object" === typeof b[g] && "object" === typeof d[g] ? nge.Lib.Helper.mergeObjsRecursive(d[g], b[g]) : b[g];
        return h
    },
    mergeArrs: function(d, b) {
        return d.concat(b.filter(function(b) {
            return 0 > d.indexOf(b)
        }))
    },
    arraysUniqElements: function(d, b) {
        var h = {},
            g = function(a) {
                for (var b = 0; b < a.length; b++) h[a[b]] ? h[a[b]]++ : h[a[b]] = 1
            };
        g(d);
        g(b);
        d = [];
        for (var f in h) 1 === h[f] && d.push(f);
        return d
    },
    numberEnd: function(d, b) {
        var h = [2, 0, 1, 1, 1, 2];
        return b[4 < d % 100 && 20 > d % 100 ? 2 : h[Math.min(d % 10, 5)]]
    },
    urlExists: function(d) {
        var b = new XMLHttpRequest;
        b.open("HEAD", d, !1);
        b.send();
        return 200 === b.status
    },
    recursiveSet: function(d, b, h) {
        "string" === typeof d && (d = d.split("."));
        var g = d.shift();
        0 < d.length ? (h[g] || (h[g] = {}), nge.Lib.Helper.recursiveSet(d, b, h[g])) : h[g] = b;
        return !0
    },
    recursiveGet: function(d,
        b, h) {
        if (void 0 === b) return h;
        "string" === typeof d && (d = d.split("."));
        for (var g in d) {
            var f = d[g];
            if ("undefined" === typeof b[f]) return h;
            b = b[f]
        }
        return b
    },
    recursiveDelete: function(d, b) {
        "string" === typeof d && (d = d.split("."));
        for (var h = 0; h < d.length; h++) {
            var g = d[h];
            if ("undefined" === typeof b[g]) return !1;
            h === d.length - 1 ? delete b[g] : b = b[g]
        }
        return !0
    },
    parseDate: function(d) {
        return (d = /^(\d{4})-(\d\d)-(\d\d) (\d\d):(\d\d):(\d\d)$/.exec(d)) ? new Date(d[1], d[2] - 1, d[3], d[4], d[5], d[6]) : null
    },
    localizeDate: function(d) {
        var b =
            new Date;
        d.setHours(d.getHours() - b.getTimezoneOffset() / 60);
        return d
    },
    capitaliseFirstLetter: function(d) {
        return d.charAt(0).toUpperCase() + d.slice(1)
    },
    lowerFirstLetter: function(d) {
        return d.charAt(0).toLowerCase() + d.slice(1)
    },
    htmlDecode: function(d) {
        var b = document.createElement("div");
        b.innerHTML = d;
        return 0 === b.childNodes.length ? "" : b.childNodes[0].nodeValue
    },
    getRandomInt: function(d, b) {
        return Math.floor(Math.random() * (b - d + 1)) + d
    },
    getWindowName: function() {
        return window.location.hash.substring(1).split("?")[0]
    },
    getObjSize: function(d) {
        return Object.keys(d).length
    },
    parseGetParams: function(d) {
        var b = {},
            h = window.location.href.substring(1).split("?");
        if (h[1]) {
            h = h[1].split("&");
            for (var g = 0; g < h.length; g++) {
                var f = h[g].split("=");
                b[f[0]] = "undefined" === typeof f[1] ? "" : f[1]
            }
        }
        return d ? b[d] : b
    },
    strReplace: function(d, b, h) {
        return h.split(d).join(b)
    },
    sleep: function(d) {
        for (d += (new Date).getTime(); new Date < d;);
        return !0
    },
    jsObjClone: function(d) {
        if (!d || "object" !== typeof d) return d;
        var b = "function" === typeof d.pop ? [] : {},
            h;
        for (h in d)
            if (d.hasOwnProperty(h)) {
                var g =
                    d[h];
                b[h] = "imageSrc" === h ? g : g && "object" === typeof g ? nge.Lib.Helper.jsObjClone(g) : g
            } return b
    },
    setCookie: function(d, b, h) {
        var g = new Date;
        g.setDate(g.getDate() + h);
        b = escape(b) + (null === h ? "" : "; expires=" + g.toUTCString());
        document.cookie = d + "=" + b;
        return !0
    },
    getCookie: function(d) {
        return (d = document.cookie.match(new RegExp("(?:^|; )" + d.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g, "\\$1") + "=([^;]*)"))) ? decodeURIComponent(d[1]) : void 0
    },
    deleteCookie: function(d, b, h) {
        this.getCookie(d) && (document.cookie = d + "=" + (b ? ";path=" + b :
            "") + (h ? ";domain=" + h : "") + ";expires=Thu, 01 Jan 1970 00:00:01 GMT");
        return !0
    },
    browserDetect: function() {
        var d = navigator.userAgent,
            b = d.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i) || [];
        if (/trident/i.test(b[1])) {
            var h = /\brv[ :]+(\d+)/g.exec(d) || [];
            return "IE " + (h[1] || "")
        }
        if ("Chrome" === b[1] && (h = d.match(/\b(OPR|Edge)\/(\d+)/), null !== h)) return h.slice(1).join(" ").replace("OPR", "Opera");
        b = b[2] ? [b[1], b[2]] : [navigator.appName, navigator.appVersion, "-?"];
        h = d.match(/version\/(\d+)/i);
        null !==
            h && b.splice(1, 1, h[1]);
        return b[0]
    },
    osDetect: function() {
        var d = "Unknown OS"; - 1 !== navigator.appVersion.indexOf("Win") && (d = "Windows"); - 1 !== navigator.appVersion.indexOf("Mac") && (d = "MacOS"); - 1 !== navigator.appVersion.indexOf("X11") && (d = "UNIX"); - 1 !== navigator.appVersion.indexOf("Linux") && (d = "Linux");
        return d
    },
    getOsAndVersion: function() {
        var d = navigator.appVersion,
            b = navigator.userAgent,
            h = "-",
            g = [{
                    s: "Windows 10",
                    r: /(Windows 10.0|Windows NT 10.0)/
                }, {
                    s: "Windows 8.1",
                    r: /(Windows 8.1|Windows NT 6.3)/
                }, {
                    s: "Windows 8",
                    r: /(Windows 8|Windows NT 6.2)/
                }, {
                    s: "Windows 7",
                    r: /(Windows 7|Windows NT 6.1)/
                }, {
                    s: "Windows Vista",
                    r: /Windows NT 6.0/
                }, {
                    s: "Windows Server 2003",
                    r: /Windows NT 5.2/
                }, {
                    s: "Windows XP",
                    r: /(Windows NT 5.1|Windows XP)/
                }, {
                    s: "Windows 2000",
                    r: /(Windows NT 5.0|Windows 2000)/
                }, {
                    s: "Windows ME",
                    r: /(Win 9x 4.90|Windows ME)/
                }, {
                    s: "Windows 98",
                    r: /(Windows 98|Win98)/
                }, {
                    s: "Windows 95",
                    r: /(Windows 95|Win95|Windows_95)/
                }, {
                    s: "Windows NT 4.0",
                    r: /(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/
                }, {
                    s: "Windows CE",
                    r: /Windows CE/
                },
                {
                    s: "Windows 3.11",
                    r: /Win16/
                }, {
                    s: "Android",
                    r: /Android/
                }, {
                    s: "Open BSD",
                    r: /OpenBSD/
                }, {
                    s: "Sun OS",
                    r: /SunOS/
                }, {
                    s: "Linux",
                    r: /(Linux|X11)/
                }, {
                    s: "iOS",
                    r: /(iPhone|iPad|iPod)/
                }, {
                    s: "Mac OS X",
                    r: /Mac OS X/
                }, {
                    s: "Mac OS",
                    r: /(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/
                }, {
                    s: "QNX",
                    r: /QNX/
                }, {
                    s: "UNIX",
                    r: /UNIX/
                }, {
                    s: "BeOS",
                    r: /BeOS/
                }, {
                    s: "OS/2",
                    r: /OS\/2/
                }, {
                    s: "Search Bot",
                    r: /(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask Jeeves\/Teoma|ia_archiver)/
                }
            ],
            f;
        for (f in g) {
            var a = g[f];
            if (a.r.test(b)) {
                h = a.s;
                break
            }
        }
        g = "-";
        /Windows/.test(h) &&
            (g = /Windows (.*)/.exec(h)[1], h = "Windows");
        switch (h) {
            case "Mac OS X":
                g = /Mac OS X (10[\._\d]+)/.exec(b)[1];
                break;
            case "Android":
                g = /Android ([\._\d]+)/.exec(b)[1];
                break;
            case "iOS":
                g = /OS (\d+)_(\d+)_?(\d+)?/.exec(d), g = g[1] + "." + g[2] + "." + (g[3] | 0)
        }
        return {
            os: h,
            version: g
        }
    },
    occur: function(d, b) {
        d = "#" + d.join("#,#") + "#";
        b = "#" + b + "#";
        for (var h = d.indexOf(b), g = 0; - 1 !== h; g++) h = d.indexOf(b, h + b.length);
        return g
    },
    hexToRgb: function(d) {
        return (d = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(d)) ? {
            r: parseInt(d[1], 16),
            g: parseInt(d[2],
                16),
            b: parseInt(d[3], 16)
        } : {
            r: 0,
            g: 0,
            b: 0
        }
    },
    createPng: function(d, b, h, g, f, a, c) {
        a || (a = 255);
        h = new function(a, b, c, d) {
            this.red = parseInt(a) % 256;
            this.green = parseInt(b) % 256;
            this.blue = parseInt(c) % 256;
            this.alpha = parseInt(d) % 256;
            return this
        }(h, g, f, a);
        h = String.fromCharCode(h.red, h.green, h.blue, h.alpha);
        d = "data:image/png;base64," + btoa(generatePng(d, b, h));
        if (c) return d;
        c = new Image;
        c.src = d;
        return c
    },
    create1PxPng: function(d, b, h, g, f) {
        return nge.Lib.Helper.createPng(1, 1, d, b, h, g, f)
    },
    getLengthBy2Points: function(d, b) {
        return Math.sqrt((b.x -
            d.x) * (b.x - d.x) + (b.y - d.y) * (b.y - d.y))
    },
    getAngleBy3Points: function(d, b, h) {
        var g = 0,
            f = nge.Lib.Helper.getLengthBy2Points(d, h);
        d = nge.Lib.Helper.getLengthBy2Points(d, b);
        b = nge.Lib.Helper.getLengthBy2Points(b, h);
        0 !== d && 0 !== b && (g = Math.acos((d * d + b * b - f * f) / (2 * d * b)));
        return g
    },
    _arFactor: Math.PI / 180,
    get_radian: function(d) {
        return d * nge.Lib.Helper._arFactor
    },
    get_angle: function(d) {
        return d / nge.Lib.Helper._arFactor
    },
    objectApply: function(d, b) {
        for (var h in b) {
            var g = b[h];
            d[h] ? "array" === typeof g || "object" === typeof g ? d[h] =
                nge.Lib.Helper.objectApply(d[h], b[h]) : b[h] !== d[h] && (d[h] = g) : d[h] = g
        }
        return d
    },
    chkArraysPartialEntry: function(d, b) {
        if (!d || !b) return !1;
        d = d.sort();
        b = b.sort();
        for (var h = b.length - 1, g = d.length - 1; 0 <= g; g--)
            if (JSON.stringify(d[g]) === JSON.stringify(b[h]) && h--, -1 === h) return !0;
        return !1
    },
    encodeQueryData: function(d) {
        var b = [],
            h;
        for (h in d) b.push(encodeURIComponent(h) + "=" + encodeURIComponent(d[h]));
        return b.join("&")
    },
    mobileCheck: function() {
        var d = !1,
            b = navigator.userAgent || navigator.vendor || window.opera;
        if (/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(b) ||
            /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(b.substr(0,
                4))) d = !0;
        return d
    },
    mobileAndTabletCheck: function() {
        var d = !1,
            b = navigator.userAgent || navigator.vendor || window.opera;
        if (/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(b) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(b.substr(0,
                4))) d = !0;
        return d
    },
    varOrArrOfVarsChk: function(d, b) {
        if ("[object Array]" === Object.prototype.toString.call(d)) {
            for (var h = 0; h < d.length; h++) b(d[h]);
            return !1
        }
        b(d);
        return !0
    },
    logicBlocksDo: function() {
        var d = Array.prototype.slice.call(arguments),
            b = d.shift(),
            h = d.shift();
        if (!b._logicBlocksInstances) {
            b._logicBlocksInstances = {};
            for (var g in b._logicBlocks) {
                var f = b._logicBlocks[g],
                    a = nge.Lib.Helper.capitaliseFirstLetter(f);
                b._logicBlocksInstances[f] = b.getInstance(a)
            }
        }
        g = [];
        for (f in b._logicBlocksInstances) b._logicBlocksInstances[f][h] &&
            (a = b._logicBlocksInstances[f][h].apply(this, d), g.push(a));
        return g
    },
    objFind: function(d, b) {
        for (var h in d)
            if (b(d[h], h, d)) return h;
        return !1
    },
    objFindEl: function(d, b) {
        if (b = nge.Lib.Helper.objFind(d, b)) return d[b]
    },
    checkSuffix: function(d, b) {
        return (d = d.match(b + "$")) && d[0] ? d[0] === b : !1
    },
    getSuffix: function(d) {
        d = d.split("_");
        return 1 < d.length ? d[d.length - 1] : !1
    },
    objectDelete: function(d, b) {
        b && (d.destroy(!0), d.game = !1);
        delete null;
        return null
    },
    waitForWebfonts: function(d, b) {
        for (var h = function(a) {
                var b = $.Deferred(),
                    d = document.createElement("span");
                d.innerHTML = "giItT1WQy@!-/#";
                d.style.position = "absolute";
                d.style.left = "-10000px";
                d.style.top = "-10000px";
                d.style.fontSize = "300px";
                d.style.fontFamily = "sans-serif";
                d.style.fontVariant = "normal";
                d.style.fontStyle = "normal";
                d.style.fontWeight = "normal";
                d.style.letterSpacing = "0";
                document.body.appendChild(d);
                var f = d.offsetWidth;
                d.style.fontFamily = a;
                nge.Lib.Checker.delay(function() {
                        if (!d) return !0;
                        if (d.offsetWidth === f) return !1;
                        d.parentNode.removeChild(d);
                        d = null;
                        return !0
                    }, function() {
                        b.resolve(a)
                    },
                    500, 20, !0);
                return b
            }, g = [], f = 0; f < d.length; f++) g.push(h(d[f]));
        $.when.apply($, g).then(function() {
            b()
        })
    },
    isFontAvailable: function() {
        var d = function() {
            var b, d = document.body,
                g = document.createElement("span");
            g.innerHTML = Array(100).join("wi");
            g.style.cssText = ["position:absolute", "width:auto", "font-size:128px", "left:-99999px"].join(" !important;");
            var f = function(a) {
                    g.style.fontFamily = a;
                    d.appendChild(g);
                    b = g.clientWidth;
                    d.removeChild(g);
                    return b
                },
                a = f("monospace"),
                c = f("serif"),
                e = f("sans-serif"),
                k = [];
            return function(b) {
                if (-1 !==
                    k.indexOf(b)) return !0;
                var d = a !== f(b + ",monospace") || e !== f(b + ",sans-serif") || c !== f(b + ",serif");
                d && k.push(b);
                return d
            }
        };
        if (document.body) return d();
        document.addEventListener("DOMContentLoaded", function() {
            nge.Lib.Helper.isFontAvailable = d()
        })
    }(),
    loadJsCssFile: function(d, b, h) {
        if ("js" === b) {
            var g = document.createElement("script");
            g.setAttribute("type", "text/javascript");
            g.setAttribute("src", d)
        } else "css" === b && (g = document.createElement("link"), g.setAttribute("rel", "stylesheet"), g.setAttribute("type", "text/css"),
            g.setAttribute("href", d));
        g && h && (g.onload = g.onreadystatechange = h);
        "undefined" !== typeof g && document.getElementsByTagName("head")[0].appendChild(g)
    },
    getMaxZIndex: function() {
        return Math.max.apply(null, $.map($("body *"), function(d, b) {
            if ("static" !== $(d).css("position")) return parseInt($(d).css("z-index")) || 1
        }))
    },
    makeReactive: function(d, b, h) {
        for (var g = d, f = Object.getOwnPropertyDescriptor(g, b); !f && g.__proto__;) {
            g = g.__proto__;
            var a = Object.getOwnPropertyDescriptor(g, b);
            a && (a.value || a.set || a.get) && (f = a)
        }
        if (!f) return !1;
        var c = f.set;
        f.set = function(a) {
            c && c.call(d, a);
            h(a)
        };
        Object.defineProperty(d, b, f);
        return !0
    },
    isNumeric: function(d) {
        return d.match(/^-{0,1}\d+$/) || d.match(/^-{0,1}\d+\.\d+$/) ? !0 : !1
    },
    isTextJson: function(d) {
        try {
            JSON.parse(d)
        } catch (b) {
            return !1
        }
        return !0
    }
};
nge.Lib.I18n = function() {
    var d = {},
        b = !1,
        h = !1;
    this.get = function(b, e) {
        b = d[b] || b;
        return a(b, e)
    };
    this.applyTextParams = function(b, d) {
        return a(b, d)
    };
    this.setStorage = function(a) {
        d = a
    };
    this.init = function(a) {
        g(a)
    };
    this.update = function(a) {
        g(a)
    };
    var g = function(a) {
            a || (a = nge.Cfg.Main.project);
            if (nge.Cfg.Main.lang === b && h === a) return !1;
            f(nge.appPath + "/i18n/" + nge.Cfg.Main.lang + ".json?gameVersion=" + gameVersion, function() {
                nge.observer.fire("i18n.update")
            });
            b = nge.Cfg.Main.lang;
            h = nge.Cfg.Main.project
        },
        f = function(a, b) {
            $.getJSON(nge.realPathPrefix +
                a,
                function(a) {
                    nge.i18n.setStorage(a);
                    b && b()
                })
        },
        a = function(a, b) {
            for (var c in b) a = nge.Lib.Helper.strReplace("%(" + c + ")s", b[c], a);
            return a
        }
};
nge.Lib.Keyboard = function() {
    var d = [],
        b = {
            1: {
                key: Phaser.Keyboard.ONE,
                el: null
            },
            2: {
                key: Phaser.Keyboard.TWO,
                el: null
            },
            3: {
                key: Phaser.Keyboard.THREE,
                el: null
            },
            CTRL: {
                key: Phaser.Keyboard.CONTROL,
                el: null
            },
            SHIFT: {
                key: Phaser.Keyboard.SHIFT,
                el: null
            },
            ALT: {
                key: Phaser.Keyboard.ALT,
                el: null
            },
            D: {
                key: Phaser.Keyboard.D,
                el: null
            },
            M: {
                key: Phaser.Keyboard.M,
                el: null
            },
            N: {
                key: Phaser.Keyboard.N,
                el: null
            },
            O: {
                key: Phaser.Keyboard.O,
                el: null
            },
            Q: {
                key: Phaser.Keyboard.Q,
                el: null
            },
            SPACE: {
                key: Phaser.Keyboard.SPACEBAR,
                el: null
            }
        };
    this.check = function(b) {
        return -1 !==
            d.indexOf(b) ? !0 : !1
    };
    this.subscribe = function() {
        for (var h in b) b[h].el = nge.game.input.keyboard.addKey(b[h].key), b[h].el.onDown.add(function(b) {
            return function() {
                -1 === d.indexOf(b) && (d.push(b), nge.observer.fire("keyboard.KeyDown", b), nge.observer.fire("keyboard.KeyDown." + b))
            }
        }(h), this), b[h].el.onUp.add(function(b) {
            return function() {
                var f = d.indexOf(b); - 1 !== f && d.splice(f, 1)
            }
        }(h), this), nge.game.input.keyboard.removeKeyCapture(b[h].key);
        return !0
    }
};
nge.Lib.Math = {
    floatRound: function(d) {
        return Math.ceil(1E4 * d) / 1E4
    },
    valBetween: function(d, b, h) {
        return d < b ? b : d > h ? h : d
    },
    bezier: function(d, b, h, g, f) {
        return {
            onComplete: new Phaser.Signal,
            onUpdate: new Phaser.Signal,
            target: d,
            time: b,
            p1: h,
            p2: g,
            p3: f,
            running: !1,
            _at: function(a) {
                return new Phaser.Point(Math.pow(1 - a, 2) * this.p1.x + 2 * (1 - a) * a * this.p2.x + Math.pow(a, 2) * this.p3.x, Math.pow(1 - a, 2) * this.p1.y + 2 * (1 - a) * a * this.p2.y + Math.pow(a, 2) * this.p3.y)
            },
            _moveTo: function(a) {
                this.target.position = this._at(a);
                this.onUpdate.dispatch(this._at(a))
            },
            start: function() {
                if (this.running || !this.target) return !1;
                this.current = 0;
                this.running = !0
            },
            stop: function() {
                this.running = !1;
                this.onComplete.dispatch()
            },
            update: function(a) {
                this.running && (this.current = Phaser.Math.clamp(this.current + a, 0, this.time), this._moveTo(this.current / this.time), this.current >= this.time && this.stop())
            }
        }
    },
    interpolateColor: function(d, b, h) {
        if (d === b) return d;
        d = Phaser.Color.getRGB(d);
        b = Phaser.Color.getRGB(b);
        return 16777215 + Phaser.Color.getColor32(255, (b.red - d.red) * h + d.red, (b.green - d.green) *
            h + d.green, (b.blue - d.blue) * h + d.blue)
    }
};
nge.Lib.ModesManager = function() {
    var d = {};
    return function(b, h) {
        var g = nge.Lib.Random.uuid4(),
            f = !1,
            a = Class.extend(function() {
                this.constructor = function() {
                    for (var a = h ? nge.App.getPath(b, !1, !0) : Class, e = 0; e < d[b].length; e++) d[b][e].uid !== g && (a = a.extend(d[b][e].f));
                    a = a.extend(f);
                    this.__proto__ = new a
                }
            });
        return {
            extend: function(c) {
                d[b] || (d[b] = []);
                d[b].push({
                    uid: g,
                    f: c
                });
                f = c;
                return a
            }
        }
    }
}();
nge.Lib.Money = {
    toCoins: function(d) {
        var b = nge.localData.get("coins.value");
        return nge.Lib.Math.floatRound(parseFloat((d / b).toFixed(2)))
    },
    toCoinsInt: function(d) {
        return Math.floor(this.toCoins(d))
    },
    fromCoins: function(d) {
        var b = nge.localData.get("coins.value");
        return nge.Lib.Math.floatRound(parseFloat((d * b).toFixed(2)))
    },
    getCoinsWin: function(d) {
        var b = nge.localData.get("bet.value");
        return this.toCoins(d) / b
    },
    getSign: function(d) {
        return {
            FUN: "F",
            USD: "$",
            EUR: "\u20ac",
            RUB: "\u20bd",
            UAH: "\u20b4"
        } [d]
    }
};
nge.Lib.Observer = function() {
    var d = {},
        b = {},
        h = !1,
        g = [],
        f = [],
        a = [],
        c = "";
    this.add = function(a, g, l, m) {
        "object" === typeof a && (m = a, a = m.eventName, g = m.callback, l = m.name, m = m.global);
        if (h) return f.push([a, g, l, m]), !1;
        m || (a += "_@" + c);
        l ? ("undefined" === typeof b[a] && (b[a] = {}), b[a][l] = g) : ("undefined" === typeof d[a] && (d[a] = []), d[a].push(g));
        return !0
    };
    this.remove = function(a, g, h, m) {
        "object" === typeof a && (m = a, a = m.eventName, g = m.callback, h = m.name, m = m.global);
        var e = [],
            k;
        for (k in f) {
            var l = f[k];
            a === l[0] && h === l[2] && m === l[3] && (h ||
                l[2] || g.toString() === l[1].toString()) || e.push(l)
        }
        f = e;
        m || (a += "_@" + c);
        if (h) {
            if ("undefined" === typeof b[a] || "undefined" === typeof b[a][h]) return !1;
            b[a][h] = void 0;
            delete b[a][h];
            0 === nge.Lib.Helper.getObjSize(b[a]) && delete b[a]
        } else {
            if ("undefined" === typeof d[a]) return !1;
            g = d[a].indexOf(g); - 1 !== g && d[a].splice(g, 1);
            0 === nge.Lib.Helper.getObjSize(d[a]) && delete d[a]
        }
        return !0
    };
    this.removeByPrefix = function(a) {
        var c = "_@" + a;
        a = function(a) {
            for (var b in a) - 1 !== b.indexOf(c) && delete a[b]
        };
        a(b);
        a(d);
        return !0
    };
    this.clear =
        function() {
            d = {};
            b = {};
            h = !1;
            g = [];
            f = [];
            a = [];
            return !0
        };
    this.clearEventsQueue = function() {
        0 < a.length && console.warn("Lib.Observer _eventsQueue was not empty");
        a = [];
        h = !1
    };
    this.setPrefix = function(a) {
        c = a
    };
    this.fire = function(e, k, l) {
        if ("object" === typeof e) {
            var m = e;
            e = m.eventName;
            k = m.params;
            l = m.delay;
            m = void 0
        }
        if (!e) return console.error("nge.Lib.Observer error: no eventName. Check your code"), !1;
        if (l) return nge.rafSetTimeout(function() {
            nge.observer.fire(e, k)
        }, l), !0;
        if (h) return a.push([e, k]), !1;
        this.debugFire(e,
            k);
        h = !0;
        g.push(e);
        l = "_@" + c;
        m = function(a, b, c) {
            if ("undefined" !== typeof a[b])
                for (var d in a[b])(0, a[b][d])(c)
        };
        m(d, e, k);
        m(b, e, k);
        e += l;
        m(d, e, k);
        m(b, e, k);
        g.pop();
        if (0 === g.length) {
            h = !1;
            l = f;
            for (var q in l) m = l[q], this.add(m[0], m[1], m[2], m[3]);
            f = [];
            0 < a.length && (q = a.shift(), this.fire(q[0], q[1]))
        }
        return !0
    };
    this.debugFire = function(a, b) {}
};
nge.Lib.RafSetTimeout = function() {
    var d = {};
    this.init = function() {
        nge.observer.add("StatesManager.update.start", b, !1, !0)
    };
    this.status = function() {
        log(d)
    };
    this.add = function(b, g) {
        g = nge.Lib.Time.get() + g;
        var f = g + "_" + nge.Lib.Helper.getRandomInt(0, 99999);
        d[f] = {
            callTime: g,
            callback: b
        };
        return f
    };
    this.clear = function(b) {
        if (!d[b]) return !1;
        delete d[b];
        return !0
    };
    var b = function() {
        var b = nge.Lib.Time.get(),
            g = {},
            f = 0,
            a;
        for (a in d) {
            var c = d[a];
            c.callTime <= b && (g[1E3 * c.callTime + f] = c.callback, d[a] = null, delete d[a]);
            f++
        }
        b = Object.keys(g).sort();
        for (f = 0; f < b.length; f++) g[b[f]]();
        return !0
    }
};
nge.Lib.Random = {
    generate: function(d) {
        return ~~(Math.random() * (d + 1))
    },
    generate_range: function(d, b) {
        return Math.round(Math.random() * (b - d) + d)
    },
    generate_one_f_fluctuation: function() {
        var d = Math.random();
        return .5 > d ? d + 2 * d * d : d - 2 * (1 - d) * (1 - d)
    },
    findAverage: function(d) {
        for (var b = 0, h = 0; h < d.length; h++) b += d[h];
        return b / d.length
    },
    findVariance: function(d) {
        for (var b = this.findAverage(d), h = 0, g = 0; g < d.length; g++) h += Math.pow(d[g] - b, 2);
        return h / d.length
    },
    findStandardDeviation: function(d) {
        d = this.findVariance(d);
        return Math.sqrt(d)
    },
    frac: function() {
        return Math.random()
    },
    testGenerate: function(d, b) {
        var h = 0;
        console.log("Testing RNG Generation. Range: " + d + " Iteration: " + b);
        for (var g = 0; g <= b; g++) {
            var f = this.generate(d);
            console.log("#" + g, f);
            f === d && (console.log("Max value " + d), h++)
        }
        console.log("Max Value Count : " + h)
    },
    uuid4: function() {
        var d = "",
            b;
        for (b = 0; 32 > b; b += 1) switch (b) {
            case 8:
            case 20:
                d += "-";
                d += (16 * Math.random() | 0).toString(16);
                break;
            case 12:
                d += "-";
                d += "4";
                break;
            case 16:
                d += "-";
                d += (4 * Math.random() | 8).toString(16);
                break;
            default:
                d += (16 *
                    Math.random() | 0).toString(16)
        }
        return d
    },
    get: function(d, b) {
        return "undefined" === typeof b ? this.generate(d) : this.generate_range(d, b)
    }
};
nge.Lib.SelfCheckTools = {
    _len: 0,
    _windowKeys: [],
    saveState: function() {
        this._len = nge.Lib.Helper.getObjSize(window);
        for (var d in window) this._windowKeys.push(d);
        return !0
    },
    showChanges: function() {
        console.log(this._len + " ~~ " + nge.Lib.Helper.getObjSize(window));
        for (var d in window) - 1 === this._windowKeys.indexOf(d) && console.log("---" + d, window[d]);
        return !0
    },
    deepDiffMapper: function() {
        return {
            VALUE_CREATED: "created",
            VALUE_UPDATED: "updated",
            VALUE_DELETED: "deleted",
            VALUE_UNCHANGED: "unchanged",
            map: function(d, b, h) {
                "undefined" ===
                typeof h && (h = 999);
                if (this.isFunction(d) || this.isFunction(b)) throw "Invalid argument. Function given, object expected.";
                if (this.isValue(d) || this.isValue(b)) return {
                    type: this.compareValues(d, b),
                    data: void 0 === d ? b : d
                };
                var g = {},
                    f;
                for (f in d)
                    if (!this.isFunction(d[f])) {
                        var a = void 0;
                        "undefined" !== typeof b[f] && (a = b[f]);
                        g[f] = h ? this.map(d[f], a, h - 1) : "object"
                    } for (f in b) this.isFunction(b[f]) || "undefined" !== typeof g[f] || (g[f] = h ? this.map(void 0, b[f], h - 1) : "object");
                return g
            },
            compareValues: function(d, b) {
                return d === b ||
                    this.isDate(d) && this.isDate(b) && d.getTime() === b.getTime() ? this.VALUE_UNCHANGED : "undefined" === typeof d ? this.VALUE_CREATED : "undefined" === typeof b ? this.VALUE_DELETED : this.VALUE_UPDATED
            },
            isFunction: function(d) {
                return "[object Function]" === {}.toString.apply(d)
            },
            isArray: function(d) {
                return "[object Array]" === {}.toString.apply(d)
            },
            isDate: function(d) {
                return "[object Date]" === {}.toString.apply(d)
            },
            isObject: function(d) {
                return "[object Object]" === {}.toString.apply(d)
            },
            isValue: function(d) {
                return !this.isObject(d) &&
                    !this.isArray(d)
            }
        }
    }()
};
nge.Lib.SelfCheckTools.saveState();
nge.Lib.Signal = Phaser.Signal;
nge.Lib.Time = {
    get: function(d) {
        d || (d = new Date);
        return d.getTime()
    },
    getUnixtime: function(d) {
        d || (d = new Date);
        return ~~(d.getTime() / 1E3)
    },
    HHMMSS: function() {
        var d = new Date;
        return d.getHours() + ":" + d.getMinutes() + ":" + d.getSeconds() + "|" + d.getMilliseconds()
    },
    secToHHMMSS: function(d, b) {
        var h = ~~d;
        d = ~~(h / 3600);
        var g = ~~((h - 3600 * d) / 60);
        h = h - 3600 * d - 60 * g;
        10 > d && (d = "0" + d);
        10 > g && (g = "0" + g);
        10 > h && (h = "0" + h);
        return b ? {
            H: d,
            M: g,
            S: h
        } : d + ":" + g + ":" + h
    },
    dateToDDMMYYYYHHMMSS: function(d, b) {
        var h = 10 > d.getDate() ? "0" + d.getDate() : d.getDate(),
            g = 10 > d.getMonth() + 1 ? "0" + (d.getMonth() + 1) : d.getMonth() + 1,
            f = d.getFullYear(),
            a = 10 > d.getHours() ? "0" + d.getHours() : d.getHours(),
            c = 10 > d.getMinutes() ? "0" + d.getMinutes() : d.getMinutes();
        d = 10 > d.getSeconds() ? "0" + d.getSeconds() : d.getSeconds();
        return b ? {
            d: h,
            m: g,
            y: f,
            H: a,
            M: c,
            S: d
        } : h + "." + g + "." + f + " " + a + ":" + c + ":" + d
    },
    unixtimeToDDMMYYYY: function(d, b) {
        b || (b = ".");
        var h = new Date(1E3 * d);
        d = 10 > h.getDate() ? "0" + h.getDate() : h.getDate();
        var g = 10 > h.getMonth() + 1 ? "0" + (h.getMonth() + 1) : h.getMonth() + 1;
        h = h.getFullYear();
        return d + b + g + b +
            h
    },
    getDeltaT: function(d) {
        return d ? this.get() - d : !1
    }
};
nge.Lib.Timeline = function(d) {
    function b(b) {
        for (g; g < f; g++)
            if (a = d.timePoints[g], a.time <= b) a.callback();
            else break
    }
    d = nge.Lib.Helper.mergeObjs({
        duration: 1E3,
        timePoints: [],
        onComplete: null
    }, d);
    var h, g = 0,
        f = d.timePoints.length,
        a, c = nge.tween.add({
            x: 0
        });
    c.to({
        x: d.duration
    }, d.duration);
    c.onStart.add(function() {
        b(0)
    });
    c.onUpdateCallback(function(a, c, d) {
        h = d.dt;
        b(h)
    }).onComplete.add(function() {
        b(d.duration);
        if (d.onComplete) d.onComplete()
    });
    this.start = function() {
        g = 0;
        c.start()
    };
    return this
};
nge.Lib.TweenTools = {
    spritesAnimation: function(d, b, h, g) {
        for (var f = [], a = 0; a < d; a++) f.push(nge.game.cache._cache.image[b + a]);
        var c = 0,
            e, k = [];
        f.forEach(function(a) {
            for (var b = 0; b < a.frameData._frames.length; b++) e = {}, e.spriteName = a.key, e.startsFrom = c, k.push(e);
            c += a.frameData._frames.length
        });
        d = nge.tween.add({
            x: 0
        });
        d.to({
            x: c - 1
        }, g);
        d.onUpdateCallback(function(a, b, c) {
            a = ~~(c.percent * c.vEnd.x);
            h.loadTexture(k[a].spriteName);
            h.frame = a - k[a].startsFrom
        });
        return d
    }
};
nge.Lib.Tween = {
    Easing: nge.Mlm.TweenManager.Tween.Easing
};
nge.Lib.Tweens = function() {
    var d = {},
        b = !1,
        h = 0,
        g = 0,
        f = this;
    this.globalTimeScale = 1;
    this.tweens = d;
    this.add = function(n) {
        b || (b = !0, nge.observer.add("StatesManager.update.start", m, !1, !0), m());
        g++;
        var p = h + "_" + g,
            q = {
                id: p,
                isRunning: !1,
                target: n,
                to: a,
                start: c,
                pause: e,
                resume: k,
                stop: l,
                points: [],
                _timeScale: 1,
                get timeScale() {
                    return this._timeScale
                },
                set timeScale(a) {
                    if (this._timeScale === a || !this.points[0]) return this._timeScale;
                    var b = ~~(h - this.points[0].timeStart) * f.globalTimeScale * this._timeScale;
                    if (0 >= this.points[0].duration -
                        b) return this._timeScale;
                    this.points[0].duration -= b;
                    this.points[0].timeStart = h;
                    for (var c in this.points[0].propsTo) this.points[0].propsFrom[c] = this.target[c];
                    return this._timeScale = a
                },
                _started: !1,
                _paused: !1,
                _pauseTime: !1,
                _timeBonus: 0,
                _complete: !1,
                _functions: {
                    onStart: [],
                    onUpdate: [],
                    onComplete: []
                },
                onComplete: {
                    addOnce: function(a) {
                        q._functions.onComplete.push(a)
                    }
                },
                onStart: {
                    addOnce: function(a) {
                        q._functions.onStart.push(a)
                    }
                },
                onUpdateCallback: function(a) {
                    q._functions.onUpdate.push(a)
                }
            };
        return d[p] = q
    };
    var a =
        function(a, b, c, d) {
            var e = {},
                f;
            for (f in a) e[f] = this.target[f];
            this.points.push({
                propsTo: a,
                duration: b,
                easing: c,
                propsFrom: e,
                timeStart: h
            });
            this._complete = !1;
            d && this.start()
        },
        c = function() {
            this.isRunning = this._started = !0;
            for (var a = 0; a < this._functions.onStart.length; a++) this._functions.onStart[a]();
            0 < this._timeBonus && q(this, !0)
        },
        e = function() {
            this._paused = !0;
            this.isRunning = !1;
            this._pauseTime = h
        },
        k = function() {
            this.points && this.points[0] && (this.points[0].timeStart += h - this._pauseTime);
            this._paused = !1;
            this.isRunning = !0;
            this._pauseTime = 0
        },
        l = function() {
            this._complete = !0;
            this.isRunning = !1;
            delete d[this.id]
        },
        m = function() {
            var a = nge.Lib.Time.get();
            if (nge.game.paused) {
                a -= h;
                for (var b in d) d[b].points && d[b].points[0] && (d[b].points[0].timeStart += a);
                return !0
            }
            h = a;
            for (b in d) d[b]._complete ? delete d[b] : d[b]._started && !d[b]._paused && q(d[b]);
            return !0
        },
        q = function(a, b) {
            var c = a.points[0];
            0 < a._timeBonus && (c.timeStart -= a._timeBonus, a._timeBonus = 0);
            var d = h,
                e = (d - c.timeStart) * a.timeScale * f.globalTimeScale / c.duration;
            1 <= e && b && (e = .99);
            1 < e && (e = 1, a._timeBonus = ~~(d - c.timeStart - c.duration / (a.timeScale * f.globalTimeScale)));
            for (var g in c.propsTo) a.target[g] = c.propsFrom[g] + (c.propsTo[g] - c.propsFrom[g]) * e;
            c = e;
            for (b = 0; b < a._functions.onUpdate.length; b++) a._functions.onUpdate[b](a, c);
            if (1 === c)
                if (a.points.shift(), 0 === a.points.length) {
                    a._complete = !0;
                    a.isRunning = !1;
                    var k = a._functions.onComplete;
                    a._functions.onStart = [];
                    a._functions.onUpdate = [];
                    a._functions.onComplete = [];
                    for (b = 0; b < k.length; b++) k[b]()
                } else {
                    a.points[0].timeStart = h;
                    for (k in a.points[0].propsTo) a.points[0].propsFrom[k] =
                        a.target[k];
                    q(a)
                }
        }
};
nge.Lib.Uploader = function() {
    this.beforeSubmit = function() {
        if (window.File && window.FileReader && window.FileList && window.Blob) {
            var d = $("#FileInput")[0].files[0].size,
                b = $("#FileInput")[0].files[0].type;
            switch (b) {
                case "image/png":
                case "image/gif":
                case "image/jpeg":
                case "image/pjpeg":
                case "text/plain":
                case "text/html":
                case "application/x-zip-compressed":
                case "application/pdf":
                case "application/msword":
                case "application/vnd.ms-excel":
                case "video/mp4":
                    break;
                default:
                    return $("#output").html("<b>" + b + "</b> Unsupported file type!"),
                        !1
            }
            if (5242880 < d) return alert("<b>" + d + "</b> Too big file! <br />File is too big, it should be less than 5 MB."), !1
        } else return alert("Please upgrade your browser, because your current browser lacks some new features we need!"), !1
    };
    this.OnProgress = function(d, b, h, g) {
        $("#progressbox").show();
        $("#progressbar").width(g + "%");
        $("#statustxt").html(g + "%");
        50 < g && $("#statustxt").css("color", "#000")
    }
};
nge.Lib.Validator = {
    float: function(d, b) {
        var h = parseFloat(d);
        return b ? h : d === h
    },
    floatMoney: function(d, b) {
        for (var h = parseFloat(d).toFixed(2), g = [], f = 0, a = h.length - 1; 0 <= a; a--) a === h.length - 3 ? g.push(",") : (a < h.length - 4 && (f++, 0 === f % 3 && g.push(".")), g.push(h[a]));
        return b ? g.reverse().join("") : d === h
    },
    convertToFloat: function(d) {
        return this.floatMoney(d, !0)
    },
    moneyWithPeriod: function(d) {
        var b;
        0 === d.length && (b = "000");
        1 === d.length && (b = "00" + d);
        2 === d.length && (b = "0" + d);
        2 < d.length && (b = d);
        return b.substring(0, b.length - 2) +
            "." + b.substring(b.length - 2, b.length)
    }
};
nge.Tpl = {};
nge.Tpl.Groups = {};
nge.Tpl.Groups.Atlases = function() {
    return {
        assets: {
            name: "assets",
            contents: []
        },
        objects: {
            name: "objects",
            contents: []
        }
    }
};
nge.Tpl.Groups.Loader = function(d) {
    d || (d = nge.appPath + "img/");
    return {
        assets: {
            name: "assets",
            contents: [{
                name: "groupLogo",
                contents: nge.tpl.group("logo").assets.contents
            }, {
                fullPath: d + "loading/bar_bg.png",
                key: "loadingBarBG"
            }, {
                fullPath: d + "loading/bar_fill.png",
                key: "loadingBarFill"
            }, {
                fullPath: d + "loading/bg.jpg",
                key: "bg"
            }, {
                fullPath: d + "loading/dot.png",
                key: "loadingBarDot"
            }, {
                fullPath: d + "loading/form.png",
                key: "loadingBarBg"
            }]
        },
        objects: {
            name: "objects",
            contents: [{
                id: "loadingBarContainer",
                name: "loadingBarContainer",
                type: 1,
                contents: [{
                    id: "loadingBar",
                    name: "loadingBar",
                    type: 1,
                    x: 650,
                    y: 800,
                    contents: [{
                        type: 0,
                        isVisible: !1,
                        id: "loadingBarFill",
                        name: "loadingBarFill",
                        assetKey: "loadingBarFill"
                    }, {
                        type: 0,
                        isVisible: !0,
                        id: "loadingBarBG",
                        name: "loadingBarBG",
                        assetKey: "loadingBarBG"
                    }, {
                        name: "loadingText",
                        x: 200,
                        y: 60,
                        type: 2,
                        style: {
                            font: "52px 'freesetboldc'",
                            fill: "#A0B0B9",
                            stroke: "#000000",
                            strokeThickness: 4
                        },
                        isVisible: !0,
                        text: "Loading"
                    }],
                    isVisible: !0
                }, {
                    id: "groupLogo",
                    name: "groupLogo",
                    type: 1,
                    x: 960,
                    y: 400,
                    scaleX: 1.8,
                    scaleY: 1.8,
                    contents: nge.tpl.group("logo").objects.contents,
                    isVisible: 1
                }],
                isVisible: !0
            }, {
                id: "newLoadingBarContainer",
                name: "newLoadingBarContainer",
                type: 1,
                contents: [{
                    id: "loadingBar",
                    name: "loadingBar",
                    type: 1,
                    x: 830,
                    y: 600,
                    contents: [{
                        type: 0,
                        isVisible: !0,
                        id: "loadingBarBg",
                        anchorY: .5,
                        name: "loadingBarBg",
                        assetKey: "loadingBarBg"
                    }],
                    isVisible: !0
                }],
                isVisible: !0
            }]
        }
    }
};
nge.Tpl.Groups.Logo = function() {
    return {
        assets: {
            name: "assets",
            contents: [{
                fullPath: "img/settings/logo.png",
                key: "/settings/logo.png"
            }]
        },
        objects: {
            name: "objects",
            contents: [{
                type: 0,
                isVisible: 1,
                anchorX: .5,
                anchorY: .5,
                id: "/settings/logo.png",
                name: "/settings/logo.png",
                assetKey: "/settings/logo.png"
            }]
        }
    }
};
nge.Tpl.Groups.ScrollbarHorizontal = function(d) {
    d || (d = nge.appPath + "img/");
    return {
        assets: {
            name: "assets",
            contents: [{
                fullPath: d + "scrollbar/scroll_horizontal_bg.png",
                key: "img/scrollbar/scroll_horizontal_bg.png",
                qualityObeys: !1
            }, {
                fullPath: d + "scrollbar/scroll_horizontal_touch.png",
                key: "img/scrollbar/scroll_horizontal_touch.png",
                qualityObeys: !1
            }]
        },
        objects: {
            name: "objects",
            contents: [{
                id: "scrollbarHorizontalContainer",
                name: "scrollbarHorizontalContainer",
                type: 1,
                contents: [{
                    type: 0,
                    isVisible: 1,
                    width: 321,
                    height: 21,
                    id: "scrollbarHorizontalTouch",
                    name: "scrollbarHorizontalTouch",
                    assetKey: "img/scrollbar/scroll_horizontal_touch.png"
                }, {
                    type: 0,
                    isVisible: 1,
                    width: 1048,
                    height: 21,
                    id: "scrollbarHorizontalBg",
                    name: "scrollbarHorizontalBg",
                    assetKey: "img/scrollbar/scroll_horizontal_bg.png"
                }],
                isVisible: 1
            }]
        }
    }
};
nge.Tpl.Groups.ScrollbarVertical = function(d) {
    d || (d = nge.appPath + "img/");
    return {
        assets: {
            name: "assets",
            contents: [{
                fullPath: d + "scrollbar/scroll_bg.png",
                key: "img/scrollbar/scroll_bg.png",
                qualityObeys: !1
            }, {
                fullPath: d + "scrollbar/scroll_touch.png",
                key: "img/scrollbar/scroll_touch.png",
                qualityObeys: !1
            }]
        },
        objects: {
            name: "objects",
            contents: [{
                id: "scrollbarVerticalContainer",
                name: "scrollbarVerticalContainer",
                type: 1,
                contents: [{
                    x: 0,
                    y: 0,
                    z: 0,
                    type: 0,
                    isVisible: 1,
                    width: 21,
                    height: 321,
                    id: "scrollbarVerticalTouch",
                    name: "scrollbarVerticalTouch",
                    assetKey: "img/scrollbar/scroll_touch.png"
                }, {
                    type: 0,
                    isVisible: 1,
                    width: 21,
                    height: 1048,
                    id: "scrollbarVerticalBg",
                    name: "scrollbarVerticalBg",
                    assetKey: "img/scrollbar/scroll_bg.png"
                }],
                isVisible: !0
            }]
        }
    }
};
nge.Tpl.Groups.SettingsContent = function() {
    var d = 0,
        b = 0,
        h = function(a) {
            var c = !1;
            (a = nge.localData.get(a + ".cfg")) && 1 < a.length && (c = !0);
            c && (d += 200, b++);
            return {
                visibility: c,
                offset: d
            }
        },
        g = h("lines"),
        f = h("coins");
    h = h("bet");
    return {
        assets: {
            name: "assets",
            contents: [{
                    fullPath: "img/settings/btn_minus.png",
                    key: "/settings/btn_line_minus.png",
                    width: 444,
                    height: 148,
                    frameWidth: 148,
                    frameHeight: 148
                }, {
                    fullPath: "img/settings/btn_plus.png",
                    key: "/settings/btn_line_plus.png",
                    width: 444,
                    height: 148,
                    frameWidth: 148,
                    frameHeight: 148
                },
                {
                    fullPath: "img/settings/lines_fill_txt.png",
                    key: "/settings/lines_fill_txt.png"
                }
            ]
        },
        objects: {
            name: "objects",
            contents: [{
                type: 1,
                isVisible: !0,
                x: 915,
                y: 2 === b ? 250 : 3 === b ? 150 : 350,
                anchorY: .5,
                contents: [{
                    id: "linesContainer",
                    name: "linesContainer",
                    y: g.offset,
                    type: 1,
                    contents: [{
                        x: 275,
                        y: 15,
                        type: 2,
                        anchorX: .5,
                        style: {
                            font: "70px 'freesetboldc'",
                            fill: "#4399a5",
                            align: "left",
                            stroke: "black"
                        },
                        isVisible: !0,
                        text: 10,
                        id: "linesNumber",
                        name: "linesNumber"
                    }, {
                        x: 275,
                        y: 95,
                        type: 2,
                        anchorX: .5,
                        scaleX: 1,
                        scaleY: 1,
                        alpha: 1,
                        style: {
                            font: "32px 'freesetboldc'",
                            fill: "#4399a5",
                            align: "left",
                            stroke: "black"
                        },
                        isVisible: !0,
                        text: "LINES",
                        id: "linesTitle",
                        name: "linesTitle"
                    }, {
                        type: 4,
                        isVisible: !0,
                        width: 441,
                        height: 147,
                        assetKey: "/settings/btn_line_minus.png",
                        action: "function() {nge.observer.fire('lines.down');}",
                        btnFrames: {
                            over: 2,
                            out: 1,
                            down: 0
                        }
                    }, {
                        x: 400,
                        type: 4,
                        isVisible: !0,
                        width: 441,
                        height: 147,
                        assetKey: "/settings/btn_line_plus.png",
                        action: "function() {nge.observer.fire('lines.up');}",
                        btnFrames: {
                            over: 2,
                            out: 1,
                            down: 0
                        }
                    }, {
                        x: 30,
                        y: 5,
                        type: 0,
                        isVisible: !0,
                        width: 444,
                        height: 134,
                        assetKey: "/settings/lines_fill_txt.png"
                    }],
                    isVisible: g.visibility
                }, {
                    id: "betContainer",
                    name: "betContainer",
                    type: 1,
                    y: f.offset,
                    contents: [{
                        x: 275,
                        y: 15,
                        type: 2,
                        anchorX: .5,
                        style: {
                            font: " 70px 'freesetboldc'",
                            fill: "#4399a5",
                            stroke: "black"
                        },
                        isVisible: !0,
                        text: 10,
                        id: "betNumber",
                        name: "betNumber"
                    }, {
                        x: 155,
                        y: 15,
                        type: 2,
                        style: {
                            font: "70px 'freesetboldc'",
                            fill: "#4399a5",
                            align: "left",
                            stroke: "black"
                        },
                        isVisible: !0,
                        text: nge.localData.get("currency"),
                        id: "coinsCur",
                        name: "coinsCur"
                    }, {
                        x: 275,
                        y: 95,
                        type: 2,
                        anchorX: .5,
                        style: {
                            font: "32px 'freesetboldc'",
                            fill: "#4399a5",
                            stroke: "black"
                        },
                        isVisible: !0,
                        text: "BET"
                    }, {
                        type: 4,
                        isVisible: !0,
                        width: 441,
                        height: 147,
                        assetKey: "/settings/btn_line_minus.png",
                        action: "function() {nge.observer.fire('coins.down');}",
                        btnFrames: {
                            over: 2,
                            out: 1,
                            down: 0
                        }
                    }, {
                        x: 400,
                        type: 4,
                        isVisible: !0,
                        width: 441,
                        height: 147,
                        assetKey: "/settings/btn_line_plus.png",
                        action: "function() {nge.observer.fire('coins.up');}",
                        btnFrames: {
                            over: 2,
                            out: 1,
                            down: 0
                        }
                    }, {
                        x: 30,
                        y: 5,
                        type: 0,
                        isVisible: !0,
                        width: 444,
                        height: 134,
                        assetKey: "/settings/lines_fill_txt.png"
                    }],
                    isVisible: f.visibility
                }, {
                    id: "coinsContainer",
                    name: "coinsContainer",
                    type: 1,
                    y: h.offset,
                    contents: [{
                        x: 275,
                        y: 15,
                        type: 2,
                        anchorX: .5,
                        style: {
                            font: "70px 'freesetboldc'",
                            fill: "#4399a5",
                            align: "left"
                        },
                        align: "left",
                        isVisible: !0,
                        text: 10,
                        id: "coinsNumber",
                        name: "coinsNumber"
                    }, {
                        x: 275,
                        y: 95,
                        type: 2,
                        anchorX: .5,
                        style: {
                            font: "32px 'freesetboldc'",
                            fill: "#4399a5",
                            align: "left",
                            stroke: "black"
                        },
                        isVisible: !0,
                        text: "COINS PER LINE",
                        id: "coinsTitle",
                        name: "coinsTitle"
                    }, {
                        type: 4,
                        isVisible: !0,
                        width: 441,
                        height: 147,
                        id: "betDown",
                        name: "betDown",
                        assetKey: "/settings/btn_line_minus.png",
                        action: "function() {nge.observer.fire('bet.down');}",
                        btnFrames: {
                            over: 2,
                            out: 1,
                            down: 0
                        }
                    }, {
                        x: 400,
                        type: 4,
                        isVisible: !0,
                        width: 441,
                        height: 147,
                        assetKey: "/settings/btn_line_plus.png",
                        action: "function() {nge.observer.fire('bet.up');}",
                        btnFrames: {
                            over: 2,
                            out: 1,
                            down: 0
                        }
                    }, {
                        x: 30,
                        y: 5,
                        type: 0,
                        isVisible: !0,
                        width: 444,
                        height: 134,
                        assetKey: "/settings/lines_fill_txt.png"
                    }],
                    isVisible: h.visibility
                }]
            }]
        }
    }
};
nge.Tpl.States = {};
nge.Tpl.States.BonusGame = function() {
    return {
        assets: {
            name: "assets",
            contents: []
        },
        objects: {
            name: "objects",
            contents: []
        }
    }
};
nge.Tpl.States.Gamble = function() {
    return {
        assets: {
            name: "assets",
            contents: []
        },
        objects: {
            name: "objects",
            contents: []
        }
    }
};
nge.Tpl.States.History = function() {
    return {
        objects: {
            name: "objects",
            contents: [{
                name: "slotMachineContainer",
                x: 0,
                y: 0,
                type: 1,
                isVisible: 1,
                alpha: 1
            }, {
                name: "scratchMachineContainer",
                x: 0,
                y: 0,
                type: 1,
                isVisible: 1,
                alpha: 1
            }, {
                name: "blackJackMachineContainer",
                type: 1,
                isVisible: !0
            }]
        }
    }
};
nge.Tpl.States.Play = function() {
    return {
        assets: {
            name: "assets",
            contents: []
        },
        objects: {
            name: "objects",
            contents: []
        }
    }
};
nge.appNS = "ClassicGameBase";
nge.App[nge.appNS] = {};
nge.App[nge.appNS].Run = nge.App.RunAppBase.extend(function() {
    var d = [1, 3, 5, 7, 9];
    this.runDefault = function() {
        this.super.runDefault();
        nge.userInfo = nge.App.getInstance("Mlm.UserInfo.Controller");
        nge.userInfo.init()
    };
    this.run = function() {
        this.runDefault();
        nge.localData.set("lines.cfg", d)
    };
    this.statesReplacements = {
        demo: ["demo"],
        load: ["load"],
        loadAssets: ["loadAssets"],
        play: "jackpotStatusPanel infoPanel customButtons slotMachine clickHandler freespin bet buttons lines coins offers betSettings currencySwitcher totalBet creditsTotalBet balance credits winlines winlinesAddon settingsSimple fullscreen gamble help autospinSimple spaceHandler debug posWarning odometer loadingBar quickSettingsPanel winField settingsScreen".split(" "),
        jackpotLoader: ["loadingBar",
            "jackpotLoader", "debug", "userInfo"
        ],
        jackpot: ["jackpot", "debug", "userInfo"]
    }
});
nge.Cfg.Main.project = "classicGameBase";
nge.Cfg.Main.title = "ClassicGameBase";
nge.Cfg.Main.gameCode = "classicGameBase";
nge.Cfg.Main.gameType = "slot";
nge.Cfg.Main.slotType = "standart";
nge.App[nge.appNS].Path = "app/classicGameBase/";
nge.App[nge.appNS].Cfg = {};
nge.App[nge.appNS].Cfg.Sounds = Class.extend(function() {
    this.contents = {
        spin_button_click: "game:sounds/spin_button_click",
        bn_background: "game:sounds/bn_background",
        silence: "game:sounds/silence",
        bn_spin_fast: "game:sounds/bn_spin_fast",
        bs_bn_scatter_0: "game:sounds/bs_bn_scatter_0",
        bs_bn_scatter_1: "game:sounds/bs_bn_scatter_1",
        bs_bn_scatter_2: "game:sounds/bs_bn_scatter_2",
        bs_bn_scatter_3: "game:sounds/bs_bn_scatter_3",
        bs_bn_scatter_4: "game:sounds/bs_bn_scatter_4",
        bs_bn_wheel_stop_0: "game:sounds/bs_bn_wheel_stop_0",
        bs_bn_wheel_stop_1: "game:sounds/bs_bn_wheel_stop_1",
        bs_bn_wheel_stop_2: "game:sounds/bs_bn_wheel_stop_2",
        bs_bn_wheel_stop_3: "game:sounds/bs_bn_wheel_stop_3",
        bs_bn_wheel_stop_4: "game:sounds/bs_bn_wheel_stop_4",
        bs_spin_fast: "game:sounds/bs_spin_fast",
        bs_wheel_spin_0: "game:sounds/bs_wheel_spin_0",
        bs_wheel_spin_1: "game:sounds/bs_wheel_spin_1",
        bs_wheel_spin_2: "game:sounds/bs_wheel_spin_2",
        bs_wheel_spin_3: "game:sounds/bs_wheel_spin_3",
        bs_wheel_spin_4: "game:sounds/bs_wheel_spin_4",
        bs_wheel_spin_5: "game:sounds/bs_wheel_spin_5",
        bs_wheel_spin_6: "game:sounds/bs_wheel_spin_6",
        bs_wheel_spin_7: "game:sounds/bs_wheel_spin_7",
        bs_wheel_spin_8: "game:sounds/bs_wheel_spin_8",
        bs_wheel_spin_9: "game:sounds/bs_wheel_spin_9",
        db_background: "game:sounds/db_background",
        db_open: "game:sounds/db_open",
        db_win_1: "game:sounds/db_win_1",
        db_win_2: "game:sounds/db_win_2",
        db_win_3: "game:sounds/db_win_3",
        db_win_4: "game:sounds/db_win_4",
        db_win_5: "game:sounds/db_win_5",
        denom_change: "game:sounds/denom_change",
        fg_show: "game:sounds/fg_show",
        fs_show: "game:sounds/fs_show",
        gn_autoplay_off: "game:sounds/gn_autoplay_off",
        gn_autoplay_on: "game:sounds/gn_autoplay_on",
        gn_level: "game:sounds/gn_level",
        gn_max_bet: "game:sounds/gn_max_bet",
        gn_wait: "game:sounds/gn_wait",
        gn_win_counter_stop: "game:sounds/gn_win_counter_stop",
        gn_win_counter_take: "game:sounds/gn_win_counter_take",
        jackpot_online_background: "game:sounds/jackpot_online_background",
        jackpot_online_coincidence_1: "game:sounds/jackpot_online_coincidence_1",
        jackpot_online_coincidence_2: "game:sounds/jackpot_online_coincidence_2",
        jackpot_online_coincidence_3: "game:sounds/jackpot_online_coincidence_3",
        jackpot_online_finish_jackpot_popup: "game:sounds/jackpot_online_finish_jackpot_popup",
        jackpot_online_won_jackpot_movie: "game:sounds/jackpot_online_won_jackpot_movie",
        rl_open: "game:sounds/rl_open",
        S00: "game:sounds/S00",
        S01: "game:sounds/S01",
        S02: "game:sounds/S02",
        S03: "game:sounds/S03",
        S04: "game:sounds/S04",
        S11: "game:sounds/S11_T2",
        sr_bell_high: "game:sounds/sr_bell_high",
        sr_bell_low: "game:sounds/sr_bell_low",
        sr_bell_middle: "game:sounds/sr_bell_middle",
        sr_win_big: "game:sounds/sr_win_big",
        sr_win_middle: "game:sounds/sr_win_middle",
        sr_win_small: "game:sounds/sr_win_small",
        sr_win_tiny: "game:sounds/sr_win_tiny",
        xw_you_won_intro: "game:sounds/xw_you_won_intro"
    }
});
nge.App[nge.appNS].Com = {};
nge.App[nge.appNS].Com.AutospinSimple = {};
nge.App[nge.appNS].Com.AutospinSimple._Package = {
    name: "com.autospinSimple",
    version: 1,
    requirments: {
        js: ["com/autospinSimple/controller"]
    }
};
nge.App[nge.appNS].Com.AutospinSimple.Controller = nge.Com.Base.extend(function() {
    var d, b = this,
        h, g, f, a, c, e, k, l;
    this.spinEvent = "slotMachine.spinCommand";
    this.timeDelayForSpin = 500;
    this.showAutoIcon = !0;
    this.create = function() {
        this.createDefault();
        d || (nge.observer.add("autospinSimple.deletSpinTimeout", w), nge.observer.add("autospinSimple.on", q), nge.observer.add("autospinSimple.off", m), nge.observer.add("winlines.animateByOne.cycleComplete", p), nge.observer.add("winlines.animateByOne.cycleComplete", r), nge.observer.add("slotMachine.spinStart",
            u), nge.observer.add("gamble.taking.stop", t), nge.observer.add("balance.amount", v), nge.observer.add("balanceRequest", z), nge.observer.add("slotMachine.spinFailed.noBalance", x), nge.observer.add("Transport.close", y), d = !0);
        c = !0;
        h = k = e = !1;
        a = f = !0;
        g = nge.findOne(".autoIcon");
        n(!1);
        return !0
    };
    var m = function() {
            n(!1);
            !nge.localData.get("slotMachineSpinning") && c && e && (e = !1)
        },
        q = function() {
            n(!0);
            var a = nge.localData.get("slotMachineSpinning"),
                b = nge.localData.get("freespin.inProgress"),
                d = nge.localData.get("respin.inProgress"),
                e = nge.localData.get("jackpot.inProgress"),
                f = nge.localData.get("jackpot.jackpotCanPlayRequested");
            a || !c || b || e || f || d || nge.observer.fire("balanceRequest")
        },
        n = function(a) {
            !nge.Lib.Helper.mobileAndTabletCheck() && b.showAutoIcon && (g.visible = a);
            nge.localData.set("autospin", a);
            h = a;
            nge.observer.fire("buttons.enable.autoSpin");
            !nge.localData.get("slotMachineSpinning") && c && p(a)
        },
        p = function(b) {
            if (!h) return !1;
            var c = nge.localData.get("freespin.inProgress"),
                d = nge.localData.get("respin.inProgress");
            if (nge.localData.get("stateEqualRespins") ||
                c || d) return !1;
            (c = nge.localData.get("slotMachine.slotWin.totalWin")) && 0 !== parseFloat(c) ? !b || f || a || nge.observer.fire("gamble.take") : k = !0
        },
        r = function() {
            nge.localData.get("autospin");
            nge.localData.get("slotMachineSpinning");
            c = !0
        },
        u = function() {
            a = k = c = f = !1
        },
        t = function() {
            k = e = !0
        },
        v = function() {
            f = !0;
            k && (nge.localData.get("autospin") ? nge.localData.get("jackpot.canPlay") || nge.localData.get("jackpot.checkPlay") ? (nge.Lib.Helper.mobileAndTabletCheck() ? nge.observer.fire("buttons.insidePress", "autoSpinMobile") : nge.observer.fire("buttons.insidePress",
                "auto"), nge.observer.fire("buttons.disable.auto", null, 5)) : l = nge.rafSetTimeout(function() {
                nge.observer.fire(b.spinEvent);
                b.timeDelayForSpin = 500
            }, b.timeDelayForSpin) : nge.observer.fire("buttons.restore"))
        },
        w = function() {
            nge.rafClearTimeout(l)
        },
        x = function() {
            nge.localData.get("autospin") ? nge.Lib.Helper.mobileAndTabletCheck() ? (nge.observer.fire("buttons.insidePress", "autoSpinMobile"), nge.observer.fire("buttons.restore"), nge.rafSetTimeout(function() {
                nge.observer.fire("buttons.enable.spin")
            }, 20)) : (nge.observer.fire("buttons.insidePress",
                "auto"), nge.observer.fire("buttons.enable.all")) : nge.observer.fire("buttons.restore")
        },
        y = function() {
            nge.localData.set("autospin", !1)
        },
        z = function() {
            a = !0
        }
});
nge.App[nge.appNS].Com.AutospinSimple.Tpl = function() {
    return {
        styles: {
            ".autoIcon": {
                style: {
                    font: '12pt "roboto_condensed_regular"',
                    fill: "#fff",
                    align: "left"
                }
            }
        },
        assets: {
            name: "assets",
            contents: []
        },
        objects: {
            name: "objects",
            contents: [{
                type: 1,
                isVisible: 1,
                contents: [{
                    type: 2,
                    isVisible: !1,
                    "class": "autoIcon",
                    x: 1180,
                    y: 915
                }]
            }]
        }
    }
};
nge.App[nge.appNS].Com.AutospinSimple.Mobile = {};
nge.App[nge.appNS].Com.AutospinSimple.Mobile.Tpl = function() {
    return {
        styles: {
            ".autoIcon": {
                style: {
                    font: '16pt "roboto_condensed_regular"',
                    fill: "#fff",
                    align: "left"
                }
            }
        },
        assets: {
            name: "assets",
            contents: []
        },
        objects: {
            name: "objects",
            contents: [{
                type: 1,
                isVisible: 1,
                contents: [{
                    type: 2,
                    isVisible: !1,
                    "class": "autoIcon",
                    text: _("AUTO"),
                    x: 1500,
                    y: 1035
                }]
            }]
        }
    }
};
nge.App[nge.appNS].Com.Balance = {};
nge.App[nge.appNS].Com.Balance._Package = {
    name: "com.balance",
    version: 1,
    requirments: {
        js: ["com/balance/tpl"]
    }
};
nge.App[nge.appNS].Com.Balance.Controller = nge.Com.Balance.Controller.extend(function() {
    var d = this,
        b, h;
    this.currencyColor = "#00BFFF";
    this.maxWidth = 150;
    this.create = function() {
        var a = nge.localData.get("balance");
        h = nge.findOne(".balanceNumber");
        var c = nge.findAll(".currency");
        a && c && c.forEach(function(b) {
            b.text = a.currency
        });
        a && nge.rafSetTimeout(function() {
            f(a)
        }, 1);
        b || (b = !0, nge.observer.add("balance.amount", g))
    };
    var g = function(a) {
            var b = nge.localData.get("totalBet.value");
            a.totalAmount < b && (nge.observer.fire("spinButton.disable"),
                nge.observer.fire("autospinButton.disable"), nge.observer.fire("pokerButton.disable"), nge.observer.fire("kenoButton.disable"), nge.observer.fire("infoPanel.show", "NOT ENOUGH MONEY TO SPIN"));
            f(a);
            h && h.maxSizeResize("width", d.maxWidth);
            nge.localData.set("balance.totalAmount", a.totalAmount);
            return !0
        },
        f = function(a) {
            var b = nge.findAll(".balanceNumber"),
                e = a.currency || nge.localData.get("balance.currency");
            a = parseFloat(a.totalAmount).toFixed(2) + " " + e;
            for (var f in b) b[f].text = a, b[f].maxSizeResize("width", d.maxWidth),
                b[f].clearColors(), b[f].addColor(d.currencyColor, a.length - e.length)
        }
});
nge.App[nge.appNS].Com.Balance.Mobile = {};
nge.App[nge.appNS].Com.Balance.Mobile.Controller = nge.Com.Base.extend(function() {
    var d = this,
        b, h;
    this.currencyColor = "#EFC273";
    this.maxWidth = 350;
    this.create = function() {
        this.createDefault();
        var a = nge.localData.get("balance");
        h = nge.findOne(".balanceNumber");
        h.maxSizeResize("width", d.maxWidth);
        var c = nge.findAll(".currency");
        a && (c && c.forEach(function(b) {
            b.text = a.currency
        }), nge.rafSetTimeout(function() {
            f(a)
        }, 1));
        b || nge.observer.add("balance.amount", g);
        return b = !0
    };
    var g = function(a) {
            var b = nge.localData.get("totalBet.value");
            a.totalAmount < b && (nge.observer.fire("spinButton.disable"), nge.observer.fire("autospinButton.disable"), nge.observer.fire("pokerButton.disable"), nge.observer.fire("kenoButton.disable"), nge.observer.fire("infoPanel.show", _("NOT ENOUGH MONEY TO SPIN")));
            f(a);
            h.maxSizeResize("width", d.maxWidth);
            nge.localData.set("balance.totalAmount", a.totalAmount);
            return !0
        },
        f = function(a) {
            var b = nge.findAll(".balanceNumber"),
                e = a.currency || nge.localData.get("balance.currency");
            a = parseFloat(a.totalAmount).toFixed(2) + " " +
                e;
            for (var f in b) b[f].text = a, b[f].clearColors(), b[f].maxSizeResize("width", d.maxWidth), b[f].addColor(d.currencyColor, a.length - e.length)
        }
});
nge.App[nge.appNS].Com.Balance.Mobile.Blue = {};
nge.App[nge.appNS].Com.Balance.Mobile.Blue.Controller = nge.App[nge.appNS].Com.Balance.Mobile.Controller.extend(function() {
    this.currencyColor = "#CAEAFF"
});
nge.App[nge.appNS].Com.Balance.Mobile.Silver = {};
nge.App[nge.appNS].Com.Balance.Mobile.Silver.Controller = nge.App[nge.appNS].Com.Balance.Mobile.Controller.extend(function() {
    this.currencyColor = "#DDDDDD"
});
nge.App[nge.appNS].Com.Balance.UI_v3 = {};
nge.App[nge.appNS].Com.Balance.UI_v3.Controller = nge.App[nge.appNS].Com.Balance.Controller.extend(function() {
    this.maxWidth = 300
});
nge.App[nge.appNS].Com.Balance.UI_v3.Gold = {};
nge.App[nge.appNS].Com.Balance.UI_v3.Gold.Controller = nge.App[nge.appNS].Com.Balance.UI_v3.Controller.extend(function() {
    this.currencyColor = "#EFC273"
});
nge.App[nge.appNS].Com.Balance.UI_v3.Blue = {};
nge.App[nge.appNS].Com.Balance.UI_v3.Blue.Controller = nge.App[nge.appNS].Com.Balance.UI_v3.Controller.extend(function() {
    this.currencyColor = "#CAEAFF"
});
nge.App[nge.appNS].Com.Balance.UI_v3.Silver = {};
nge.App[nge.appNS].Com.Balance.UI_v3.Silver.Controller = nge.App[nge.appNS].Com.Balance.UI_v3.Controller.extend(function() {
    this.currencyColor = "#DDDDDD"
});
nge.App[nge.appNS].Com.Bet = {};
nge.App[nge.appNS].Com.Bet._Package = {
    name: "com.bet",
    version: 1,
    requirments: {
        js: ["com/bet/tpl"]
    }
};
nge.App[nge.appNS].Com.Bet.Controller = nge.Com.Bet.Controller.extend(function() {
    var d;
    this.create = function() {
        this.super.create();
        d = nge.findAll(".betNumber")
    };
    var b = function() {
        var b = "1" === nge.localData.get("extraBet") ? nge.localData.get("extraBetMult") : 1,
            g = nge.localData.get("bet.value"),
            f;
        for (f in d) d[f].text = g * b
    };
    this.setVal = function(b) {
        var g = "1" === nge.localData.get("extraBet") ? nge.localData.get("extraBetMult") : 1,
            f;
        for (f in d) d[f].text = b * g;
        nge.localData.set("bet.value", b);
        nge.observer.fire("bet.change",
            b)
    };
    this.customSubscribe = function() {
        nge.observer.add("bet.change", b)
    }
});
nge.App[nge.appNS].Com.BetSettings = {};
nge.App[nge.appNS].Com.BetSettings._Package = {
    name: "com.fullscreen",
    version: 1,
    requirments: {
        js: []
    }
};
nge.App[nge.appNS].Com.BetSettings.Controller = nge.Com.Base.extend(function() {
    this.isMobileOnly = !0;
    var d = this,
        b = !1;
    this.sliders = {
        bet: {
            name: "betLevelButtonContainer",
            obj: null
        },
        lines: {
            name: "linesSliderButtonContainer",
            obj: null
        },
        coins: {
            name: "coinValueSliderButtonContainer",
            obj: null
        }
    };
    var h = function(a) {
            var b = nge.localData.get(a),
                c = d.sliders[a].obj;
            if (b && c) {
                var f = (b.cfg ? b.cfg[0] : b.value) || 0,
                    g = (b.cfg && b.cfg.length ? b.cfg[b.cfg.length - 1] : b.value) || 0,
                    h = nge.findOne(".".concat(a, "Minimum")),
                    n = nge.findOne(".".concat(a,
                        "Maximum"));
                h && (h.text = f);
                n && (n.text = g);
                b.cfg || (b.cfg = [], b.cfg.push(b.value));
                c.toggleBgInput(!0);
                c.setValuesRange(b.cfg, b.value);
                c.setOnDrag(function(c) {
                    b.value !== c && (nge.observer.fire(a.concat(".set"), c), nge.observer.fire("denom_change.play"))
                });
                c.setOnChange(function() {})
            }
        },
        g = function() {
            for (var a in d.sliders) h(a)
        },
        f = function(a) {
            d.sliders && d.sliders[a] && h(a)
        },
        a = function() {
            var a = nge.localData.get("freeGame"),
                b;
            for (b in d.sliders) d.sliders[b].obj.updateState(nge.localData.get(b.concat(".value"))),
                a && a.inProgress ? d.sliders[b].obj.disable(3) : d.sliders[b].obj.enable(1)
        };
    this.create = function() {
        if (nge.Lib.Helper.mobileAndTabletCheck() || !d.isMobileOnly) {
            this.createDefault();
            for (var a in d.sliders) d.sliders[a].obj = nge.findOne("^".concat(d.sliders[a].name)), h(a);
            b || this.subscribe();
            b = !0
        }
    };
    this.subscribe = function() {
        nge.observer.add("betSettings.updateSliders", a);
        nge.observer.add("betSettings.updateSliderValues", g);
        nge.observer.add("betSettings.updateSliderValuesByName", f)
    }
});
nge.App[nge.appNS].Com.BetSettings.Tpl = function() {
    return {
        styles: {
            ".betSettingsTitle": {
                style: {
                    font: '60pt "roboto_condensed_regular"',
                    fill: "#ffffff",
                    align: "left"
                }
            },
            ".betSettingsText": {
                style: {
                    font: '30pt "roboto_condensed_regular"',
                    fill: "#999999",
                    align: "left"
                }
            },
            ".betSettingsValue": {
                style: {
                    font: '48pt "roboto_condensed_regular"',
                    fill: "#fff",
                    align: "left"
                }
            }
        },
        assets: {
            name: "assets",
            contents: []
        },
        objects: {
            name: "objects",
            contents: []
        }
    }
};
nge.App[nge.appNS].Com.BetSettings.UI_v3 = {};
nge.App[nge.appNS].Com.BetSettings.UI_v3.Controller = nge.App[nge.appNS].Com.BetSettings.Controller.extend(function() {
    this.isMobileOnly = !1
});
nge.App[nge.appNS].Com.BonusWheel = {};
nge.App[nge.appNS].Com.BonusWheel.Cfg = Class.extend(function() {
    this.wheels = [{
        containerSelector: "^bonusWheel1Container",
        centerSelector: "^wheel1Center",
        pointerAngle: 0
    }, {
        containerSelector: "^bonusWheel2Container",
        centerSelector: "^wheel2Center",
        pointerAngle: 0
    }];
    this.wheel1Sectors = [{
        index: 0,
        type: "freespins",
        value: 8
    }, {
        index: 1,
        type: "jackpot",
        value: "mini"
    }, {
        index: 2,
        type: "freespins",
        value: 15
    }, {
        index: 3,
        type: "jackpot",
        value: "major"
    }, {
        index: 4,
        type: "freespins",
        value: 5
    }, {
        index: 5,
        type: "jackpot",
        value: "minor"
    }, {
        index: 6,
        type: "freespins",
        value: 12
    }, {
        index: 7,
        type: "jackpot",
        value: "super"
    }, {
        index: 8,
        type: "freespins",
        value: 8
    }, {
        index: 9,
        type: "jackpot",
        value: "mini"
    }, {
        index: 10,
        type: "freespins",
        value: 15
    }, {
        index: 11,
        type: "jackpot",
        value: "major"
    }, {
        index: 12,
        type: "freespins",
        value: 5
    }, {
        index: 13,
        type: "jackpot",
        value: "minor"
    }, {
        index: 14,
        type: "freespins",
        value: 12
    }, {
        index: 15,
        type: "jackpot",
        value: "super"
    }];
    this.wheel2Sectors = [{
            index: 0,
            type: "add",
            value: 5
        }, {
            index: 1,
            type: "mult",
            value: 5
        }, {
            index: 2,
            type: "add",
            value: 10
        }, {
            index: 3,
            type: "mult",
            value: 2
        },
        {
            index: 4,
            type: "add",
            value: 20
        }, {
            index: 5,
            type: "mult",
            value: 2
        }, {
            index: 6,
            type: "add",
            value: 2
        }, {
            index: 7,
            type: "mult",
            value: 10
        }, {
            index: 8,
            type: "add",
            value: 5
        }, {
            index: 9,
            type: "mult",
            value: 5
        }, {
            index: 10,
            type: "add",
            value: 10
        }, {
            index: 11,
            type: "mult",
            value: 2
        }, {
            index: 12,
            type: "add",
            value: 20
        }, {
            index: 13,
            type: "mult",
            value: 2
        }, {
            index: 14,
            type: "add",
            value: 2
        }, {
            index: 15,
            type: "mult",
            value: 10
        }
    ];
    this.popups = [{
        popupName: "startPopup",
        layer: "startPopup",
        parentContainerSelector: !1,
        commonContainerSelector: !1,
        uniqueContainerSelector: "^startPopupContainer",
        buttonName: "startPopup"
    }, {
        popupName: "jackpotPopup",
        layer: "jackpotPopup",
        parentContainerSelector: !1,
        commonContainerSelector: !1,
        uniqueContainerSelector: "^jackpotPopupContainer",
        buttonName: "jackpotPopup"
    }, {
        popupName: "bonusWheel2StartPopup",
        layer: "bonusWheel2StartPopup",
        parentContainerSelector: !1,
        commonContainerSelector: !1,
        uniqueContainerSelector: "^bonusWheel2StartPopupContainer",
        buttonName: "bonusWheel2StartPopup"
    }];
    this.loopTime = 1500;
    this.minLoops = 2;
    this.speedUpAngle = 60;
    this.slowDownAngle = 260
});
nge.App[nge.appNS].Com.BonusWheel.Controller = nge.Com.Base.extend(function() {
    var d = this,
        b = !1,
        h, g = [],
        f, a = function(a) {
            var b = a.parentContainerSelector ? nge.findOne(a.parentContainerSelector) : null,
                c = a.commonContainerSelector ? nge.findOne(a.commonContainerSelector) : null,
                d = a.uniqueContainerSelector ? nge.findOne(a.uniqueContainerSelector) : null;
            nge.observer.add("bonusWheel.popup." + a.popupName + ".show", function(e) {
                a.layer && nge.observer.fire("layersSwitcher.show", a.layer);
                if (b) {
                    b.visible = !0;
                    for (var f = 0; f < b.children.length; f++) b.children[f].visible = !1
                }
                c && (c.visible = !0);
                d.visible = !0;
                if (e.dynamicElements)
                    for (f = 0; f < e.dynamicElements.length; f++) {
                        var g = e.dynamicElements[f],
                            h = nge.findOne(g.selector);
                        "text" === g.type ? h.text = g.value : "sprite" === g.type && h.loadTexture(g.value)
                    }
                nge.observer.add("buttons.pressCommand", function(b) {
                        b === a.buttonName && (nge.observer.remove("buttons.pressCommand", !1, "buttons.pressCommand." + a.buttonName), e.buttonCallback && e.buttonCallback(), nge.observer.fire("bonusWheel.popup." + a.buttonName + ".buttonPressed"))
                    }, "buttons.pressCommand." +
                    a.buttonName)
            })
        },
        c = function() {
            g = [];
            h.wheels.forEach(function(a) {
                var b = nge.findOne(a.containerSelector);
                g.push(b);
                var c = nge.findOne(a.centerSelector);
                a = c.x - b.x;
                var d = c.y - b.y;
                b.x = c.x;
                b.y = c.y;
                for (c = 0; c < b.children.length - 1; c++) b.children[c].x -= a, b.children[c].y -= d
            })
        };
    this.create = function() {
        h = this.getInstance("Cfg");
        c();
        for (var d = 0; d < h.popups.length; d++) a(h.popups[d]);
        b || this.subscribe();
        return b = !0
    };
    this.correctFinalPosition = function(a) {
        return a * (.9 * Math.random() + .05)
    };
    var e = function(a) {
            f = null;
            var b =
                360 / h["wheel" + (a + 1) + "Sectors"].length,
                c = h.minLoops,
                e = nge.tween.add(g[a]);
            e.to({
                angle: g[a].angle + h.speedUpAngle
            }, 1500, nge.Lib.Tween.Easing.Back.In, !1);
            e.onComplete.addOnce(function() {
                e = nge.tween.add(g[a]).to({
                    angle: g[a].angle + 360
                }, h.loopTime, nge.Lib.Tween.Easing.Linear.None, !1);
                e.loop(!0);
                e.onLoop.add(function() {
                    if (!(0 < --c) && f) {
                        e.stop();
                        g[a].angle %= 360;
                        var k = g[a].angle,
                            l = parseInt(f.value, 10),
                            p = l * b + h.wheels[a].pointerAngle + d.correctFinalPosition(b),
                            m = p - h.slowDownAngle;
                        m < k && (m += 360, p += 360);
                        k = (m - k) / 360 *
                            h.loopTime;
                        e = nge.tween.add(g[a]).to({
                            angle: m
                        }, k, nge.Lib.Tween.Easing.Linear.None, !1);
                        e.onComplete.addOnce(function() {
                            e = nge.tween.add(g[a]).to({
                                angle: p
                            }, 6E3, nge.Lib.Tween.Easing.Back.Out, !1);
                            e.onComplete.addOnce(function() {
                                nge.observer.fire("bonusWheel.stopped", h["wheel" + (a + 1) + "Sectors"][l], 1E3)
                            }, this);
                            e.start()
                        }, this);
                        e.start()
                    }
                }, this);
                e.start()
            }, this);
            e.start()
        },
        k = function() {
            e(0)
        },
        l = function() {
            e(1)
        },
        m = function(a) {
            f = a.bonusItem
        };
    this.subscribe = function() {
        nge.observer.add("bonusWheel.1.spinStart",
            k);
        nge.observer.add("bonusWheel.2.spinStart", l);
        nge.observer.add("bonusWheel.actionResponse", m)
    }
});
nge.App[nge.appNS].Com.Buttons = {};
nge.App[nge.appNS].Com.Buttons._Package = {
    name: "com.spinButton",
    version: 1,
    requirments: {
        js: ["com/spinButton/tpl"]
    }
};
nge.App[nge.appNS].Com.Buttons.Cfg = Class.extend(function() {
    this.singleton = !0;
    this.params = {
        fullscreen: {
            name: "fullscreenButton",
            asset: ["btnFullscreenOn", "btnFullscreenOff"],
            bClass: "button",
            disableFrame: 3,
            nonPixelPerfect: !0,
            x: 0,
            y: 0,
            title: "",
            textStyle: {},
            textY: 0,
            textX: 0,
            parentSelector: "^buttonsContainer"
        },
        sound: {
            name: "soundButton",
            asset: ["Sound1Button", "Sound2Button"],
            bClass: "button",
            disableFrame: 3,
            nonPixelPerfect: !0,
            x: 0,
            y: 0,
            title: "",
            textStyle: {},
            textY: 0,
            textX: 0,
            parentSelector: "^buttonsContainer"
        },
        coinMinus: {
            name: "coinMinusButton",
            asset: "playareaBtn_bottom_denom_minus",
            bClass: "button",
            disableFrame: 3,
            nonPixelPerfect: !0,
            x: 167,
            y: 914,
            title: "",
            textStyle: {},
            textY: 0,
            textX: 0,
            parentSelector: "^buttonsContainer"
        },
        coinPlus: {
            name: "coinPlusButton",
            asset: "playareaBtn_bottom_denom_plus",
            bClass: "button",
            disableFrame: 3,
            nonPixelPerfect: !0,
            x: 335,
            y: 914,
            title: "",
            textStyle: {},
            textY: 0,
            textX: 0,
            parentSelector: "^buttonsContainer"
        },
        auto: {
            name: "autoButton",
            asset: ["AutoOffButton", "AutoOnButton"],
            bClass: "simpleButton",
            disableFrame: 3,
            nonPixelPerfect: !0,
            x: 0,
            y: 0,
            title: [_("AUTO OFF"), _("AUTO ON")],
            textStyle: {
                font: '20pt "roboto_condensed_regular"'
            },
            textY: 1035,
            textX: [276, 251],
            parentSelector: "^buttonsContainer"
        },
        paytable: {
            name: "paytableButton",
            asset: "playareaBtn_info",
            bClass: "button",
            disableFrame: 3,
            nonPixelPerfect: !0,
            x: 399,
            y: 986,
            title: _("PAY TABLE"),
            textStyle: {},
            textY: 4,
            textX: 0,
            parentSelector: "^buttonsContainer"
        },
        hold1: {
            name: "hold1Button",
            asset: "playareaBtn_hold",
            bClass: "button",
            disableFrame: 3,
            nonPixelPerfect: !0,
            x: 540,
            y: 988,
            title: _("HOLD 1"),
            textStyle: {},
            textY: 4,
            textX: 0,
            parentSelector: "^buttonsContainer"
        },
        hold2: {
            name: "hold2Button",
            asset: "playareaBtn_hold",
            bClass: "button",
            disableFrame: 3,
            nonPixelPerfect: !0,
            x: 681,
            y: 988,
            title: _("HOLD 2"),
            textStyle: {},
            textY: 4,
            textX: 0,
            parentSelector: "^buttonsContainer"
        },
        hold3: {
            name: "hold3Button",
            asset: "playareaBtn_hold",
            bClass: "button",
            disableFrame: 3,
            nonPixelPerfect: !0,
            x: 821,
            y: 988,
            title: _("HOLD 3"),
            textStyle: {},
            textY: 4,
            textX: 0,
            parentSelector: "^buttonsContainer"
        },
        hold4: {
            name: "hold4Button",
            asset: "playareaBtn_hold",
            bClass: "button",
            disableFrame: 3,
            nonPixelPerfect: !0,
            x: 961,
            y: 988,
            title: _("HOLD 4"),
            textStyle: {},
            textY: 4,
            textX: 0,
            parentSelector: "^buttonsContainer"
        },
        hold5: {
            name: "hold5Button",
            asset: "playareaBtn_hold",
            bClass: "button",
            disableFrame: 3,
            nonPixelPerfect: !0,
            x: 1101,
            y: 988,
            title: _("HOLD 5"),
            textStyle: {},
            textY: 4,
            textX: 0,
            parentSelector: "^buttonsContainer"
        },
        oneBet: {
            name: "oneBetButton",
            asset: "playareaBtn_info",
            bClass: "button",
            disableFrame: 3,
            nonPixelPerfect: !0,
            x: 1239,
            y: 987,
            title: _("ONE BET"),
            textStyle: {},
            textY: 4,
            textX: 0,
            parentSelector: "^buttonsContainer"
        },
        maxBet: {
            name: "maxBetButton",
            asset: "playareaBtn_info",
            bClass: "button",
            disableFrame: 3,
            nonPixelPerfect: !0,
            x: 1384,
            y: 987,
            title: _("MAX BET"),
            textStyle: {
                align: "center"
            },
            textY: 4,
            textX: 0,
            parentSelector: "^buttonsContainer"
        },
        spin: {
            name: "spinButton",
            asset: "Btn_Spin",
            bClass: "button",
            disableFrame: 3,
            nonPixelPerfect: !0,
            x: 1520,
            y: 988,
            title: _("SPIN"),
            textStyle: {},
            textY: 4,
            textX: 0,
            parentSelector: "^buttonsContainer"
        }
    }
});
nge.App[nge.appNS].Com.Buttons.UI_v3 = {};
nge.App[nge.appNS].Com.Buttons.UI_v3.Cfg = Class.extend(function() {
    this.play = {
        pageTwoTrigger: {
            name: "pageTwoTriggerButton",
            disableFrame: 3,
            nonPixelPerfect: !1
        },
        pageOneTrigger: {
            name: "pageOneTriggerButton",
            disableFrame: 3,
            nonPixelPerfect: !1
        },
        mobileBackToGameButton: {
            name: "mobileBackToGameButton",
            disableFrame: 3,
            nonPixelPerfect: !1
        },
        changeCurrencyArea: {
            class: "currencyChanger",
            nonPixelPerfect: !1,
            title: ""
        },
        linesChanger: {
            name: "linesButtonArea",
            nonPixelPerfect: !1,
            title: ""
        },
        coinMinus: {
            name: "coinMinusButton",
            disableFrame: 3,
            nonPixelPerfect: !1
        },
        coinPlus: {
            name: "coinPlusButton",
            disableFrame: 3,
            nonPixelPerfect: !1
        },
        betMinus: {
            name: "betMinusButton",
            disableFrame: 3,
            nonPixelPerfect: !1
        },
        betPlus: {
            name: "betPlusButton",
            disableFrame: 3,
            nonPixelPerfect: !1
        },
        quickSettingsPanel: {
            name: "quickSettingsPanelButton",
            disableFrame: 3,
            nonPixelPerfect: !1
        },
        fullscreen: {
            name: "fullscreenButton",
            disableFrame: 3,
            nonPixelPerfect: !1
        },
        sound: {
            name: "soundButton",
            disableFrame: 3,
            nonPixelPerfect: !1
        },
        maxBet: {
            name: "maxBetButton",
            disableFrame: 3,
            nonPixelPerfect: !1
        },
        spin: {
            name: "spinButton",
            disableFrame: 3,
            nonPixelPerfect: !1
        },
        auto: {
            name: "autoButton",
            disableFrame: 3,
            nonPixelPerfect: !1
        },
        paytable: {
            name: "helpButton",
            disableFrame: 3,
            nonPixelPerfect: !1
        }
    };
    this.params = {
        changeCurrencyArea: {
            class: "currencyChanger",
            nonPixelPerfect: !1,
            title: ""
        },
        linesChanger: {
            name: "linesButtonArea",
            nonPixelPerfect: !1,
            title: ""
        },
        coinMinus: {
            name: "coinMinusButton",
            disableFrame: 3,
            nonPixelPerfect: !1
        },
        coinPlus: {
            name: "coinPlusButton",
            disableFrame: 3,
            nonPixelPerfect: !1
        },
        betMinus: {
            name: "betMinusButton",
            disableFrame: 3,
            nonPixelPerfect: !1
        },
        betPlus: {
            name: "betPlusButton",
            disableFrame: 3,
            nonPixelPerfect: !1
        },
        quickSettingsPanel: {
            name: "quickSettingsPanelButton",
            disableFrame: 3,
            nonPixelPerfect: !1
        },
        fullscreen: {
            name: "fullscreenButton",
            disableFrame: 3,
            nonPixelPerfect: !1
        },
        sound: {
            name: "soundButton",
            disableFrame: 3,
            nonPixelPerfect: !1
        },
        maxBet: {
            name: "maxBetButton",
            disableFrame: 3,
            nonPixelPerfect: !1
        },
        spin: {
            name: "spinButton",
            disableFrame: 3,
            nonPixelPerfect: !1
        },
        auto: {
            name: "autoButton",
            disableFrame: 3,
            nonPixelPerfect: !1
        },
        paytable: {
            name: "helpButton",
            disableFrame: 3,
            nonPixelPerfect: !1
        }
    };
    for (var d = {
            offersListApply: {
                name: "offerPlayNowButton",
                nonPixelPerfect: !1
            },
            offersListLater: {
                name: "offerPlayLaterButton",
                nonPixelPerfect: !1
            },
            offersListNext: {
                name: "offerSelectNextButton",
                disableFrame: 3,
                nonPixelPerfect: !1
            },
            offersListPrev: {
                name: "offerSelectPreviousButton",
                disableFrame: 3,
                nonPixelPerfect: !1
            },
            offersListClose: {
                name: "closeOffersButton",
                nonPixelPerfect: !1
            },
            offersResultGoToGame: {
                name: "offerBackToGameButton",
                nonPixelPerfect: !1
            }
        }, b = nge.localData.get("actions") || [], h = [], g = 0; g < b.length; g++) b[g].type && "offer" === b[g].type && h.push(b[g]);
    if (0 !== h.length)
        for (var f in d) this.play[f] = nge.Lib.Helper.jsObjClone(d[f]), this.params[f] = nge.Lib.Helper.jsObjClone(d[f])
});
nge.App[nge.appNS].Com.Buttons.Controller = nge.Com.Base.extend(function() {
    var d, b, h = {},
        g = {},
        f = {},
        a = {},
        c = 0;
    this.create = function() {
        this.createDefault();
        var c = nge.statesManager.getCurrentName(),
            l = this.getInstance("Cfg");
        b = l[c] ? l[c] : l.params;
        if ("undefined" !== typeof customButtons && nge.Lib.Helper.mobileAndTabletCheck())
            for (var m in customButtons) c = customButtons[m], c.x && (b[m].x = c.x), c.y && (b[m].y = c.y);
        d || (d = !0, this.subscribe());
        h = {};
        g = {};
        f = {};
        a = {};
        for (var q in b) {
            var n = void 0;
            m = q;
            c = k(m);
            l = !0;
            if (c.name) {
                var w =
                    nge.findOne("^" + c.name);
                if (!w) {
                    var x = nge.findOne("^" + c.name + "Button");
                    x && (w = x.parent)
                }
                w && (n = [w])
            }
            if (c.class && (n = nge.findAll("." + c.class), !n && (w = nge.findAll("." + c.class + "Button"))))
                for (n = [], x = 0; x < w.length; x++) n.push(w[x].parent);
            n || (l = !1, n = {
                type: 1,
                name: c.name,
                contents: [{
                    type: 2,
                    name: c.name + "Text",
                    text: "-",
                    "class": "buttonText buttonText" + c.name,
                    style: c.textStyle
                }, {
                    type: 4,
                    name: c.name + "Button",
                    assetKey: c.asset,
                    "class": c.bClass,
                    pixelPerfectOver: c.nonPixelPerfect ? !1 : !0,
                    pixelPerfectClick: c.nonPixelPerfect ?
                        !1 : !0,
                    action: "function () {nge.observer.fire('buttons.pressCommand', '" + m + "');}"
                }]
            }, w = !1, c.parentSelector && (w = nge.findOne(c.parentSelector)), w = nge.objects.create(n, w), n = [w]);
            h[m] = n;
            l ? a[m] = !0 : e(m, c)
        }
        nge.observer.fire("buttons.create.end")
    };
    this.getButtons = function() {
        return h
    };
    var e = function(a, b) {
            a = h[a];
            for (var c in n)
                for (var d = 0; d < a.length; d++) nge.Lib.Helper.recursiveSet(c, b[n[c]], a[d])
        },
        k = function(a) {
            var c = b[a];
            "undefined" === typeof f[a] && (f[a] = -1);
            f[a]++;
            var d = {},
                e;
            for (e in c) {
                var g = e,
                    h = c[e],
                    k = f[a];
                "[object Array]" === Object.prototype.toString.call(h) && (h = h[k % h.length]);
                d[g] = h
            }
            return d
        },
        l = function(b) {
            var d = nge.Lib.Time.get();
            if (d < c + 100) return !1;
            c = d;
            if (!a[b] && h[b]) {
                d = h[b];
                for (var f = 0; f < d.length; f++) {
                    var l = d[f].children[0];
                    if (!l.input.enabled) return;
                    var m = k(b);
                    e(b, m);
                    l.loadTexture(m.asset)
                }
            }
            if (g[b]) g[b]()
        },
        m = function(c) {
            for (var d in c) {
                if (!h[d]) return console.error("nge.App.ClassicGameBase.Com.Buttons.Controller: no button with key ", d), !1;
                for (var e = c[d], f = h[d], k = 0; k < f.length; k++) {
                    var l = f[k].children[0];
                    if (!l) return !1;
                    "undefined" !== typeof e.callback && (g[d] = e.callback);
                    "undefined" !== typeof e.visible && (f[k].visible = e.visible);
                    "undefined" !== typeof e.frame && (l.frame = e.frame);
                    if ("undefined" !== typeof e.classes)
                        for (var m in e.classes) f[k][e.classes[m].action + "Class"](e.classes[m].title);
                    "undefined" !== typeof e.title && f[k].children[1] && "undefined" !== typeof f[k].children[1].text && (nge.Lib.Helper.recursiveSet("children.1.text", e.title, f[k]), a[d] = !0);
                    if ("undefined" !== typeof e.enabled) {
                        if ("function" !== typeof l.enable ||
                            "function" !== typeof l.disable) return console.error("nge.App.ClassicGameBase.Com.Buttons.Controller: no button with key ", e), !1;
                        if (e.enabled) l.enable();
                        else {
                            var n = b[d];
                            l.disable(e.disableFrame ? e.disableFrame : n.disableFrame)
                        }
                    }
                }
            }
        },
        q = function(b) {
            delete a[b]
        };
    this.subscribe = function() {
        nge.observer.add("buttons.restoreAutoUpdate", q);
        nge.observer.add("buttons.changeData", m);
        nge.observer.add("buttons.pressCommand", l);
        nge.observer.add("buttons.insidePress", l)
    };
    var n = {
        x: "x",
        y: "y",
        "children.1.x": "textX",
        "children.1.y": "textY",
        "children.1.text": "title"
    }
});
nge.App[nge.appNS].Com.Buttons.Mobile = {};
nge.App[nge.appNS].Com.Buttons.Mobile.Cfg = nge.App[nge.appNS].Com.Buttons.Cfg.extend(function() {
    this.singleton = !0;
    this.params = {
        soundMobile: {
            name: "soundMobileButton",
            disableFrame: 1,
            nonPixelPerfect: !0
        },
        spinMobile: {
            name: "spinButtonMobile",
            disableFrame: 3,
            nonPixelPerfect: !0
        },
        stopMobile: {
            name: "stopButtonMobile",
            disableFrame: 3,
            nonPixelPerfect: !0
        },
        takeMobile: {
            name: "takeButtonMobile",
            disableFrame: 3,
            nonPixelPerfect: !0
        },
        gambleMobile: {
            name: "gambleButtonMobile",
            disableFrame: 1,
            nonPixelPerfect: !0
        },
        autoSpinMobile: {
            name: "autoSpinButtonMobile",
            disableFrame: 1,
            nonPixelPerfect: !0
        },
        infoMobile: {
            name: "helpMobileButton",
            disableFrame: 3,
            nonPixelPerfect: !0
        },
        betSettingButtonMobile: {
            name: "betSettingButtonMobile",
            disableFrame: 3,
            nonPixelPerfect: !0
        },
        coinMinusMobile: {
            name: "coinMinusButtonMobile",
            disableFrame: 3,
            nonPixelPerfect: !1
        },
        coinPlusMobile: {
            name: "coinPlusButtonMobile",
            disableFrame: 3,
            nonPixelPerfect: !1
        },
        quickSettingsPanel: {
            name: "quickSettingsPanelMobileButton",
            disableFrame: 3,
            nonPixelPerfect: !1,
            title: ""
        },
        changeCurrencyArea: {
            class: "currencyChanger",
            nonPixelPerfect: !1,
            title: ""
        },
        pageTwoTrigger: {
            name: "pageTwoTriggerButton",
            disableFrame: 3,
            nonPixelPerfect: !1
        },
        pageOneTrigger: {
            name: "pageOneTriggerButton",
            disableFrame: 3,
            nonPixelPerfect: !1
        },
        mobileBackToGameButton: {
            name: "mobileBackToGameButton",
            disableFrame: 3,
            nonPixelPerfect: !1
        }
    };
    var d = {
            name: "customBtn01",
            asset: "customBtn01",
            bClass: "simpleButton",
            disableFrame: 1,
            nonPixelPerfect: !0,
            x: 38,
            y: 14,
            title: "",
            textStyle: {},
            textY: 0,
            textX: 0,
            parentSelector: "^buttonsMobileContainer"
        },
        b = {
            name: "customBtn02",
            asset: "customBtn02",
            bClass: "simpleButton",
            disableFrame: 1,
            nonPixelPerfect: !0,
            x: 1641,
            y: 625,
            title: "",
            textStyle: {},
            textY: 0,
            textX: 0,
            parentSelector: "^buttonsMobileContainer"
        };
    "undefined" !== typeof customButtons && customButtons.customBtn01 && (this.params.customBtn01 = d);
    "undefined" !== typeof customButtons && customButtons.customBtn02 && (this.params.customBtn02 = b);
    d = {
        offersListApply: {
            name: "offerPlayNowButton",
            nonPixelPerfect: !1
        },
        offersListLater: {
            name: "offerPlayLaterButton",
            nonPixelPerfect: !1
        },
        offersListNext: {
            name: "offerSelectNextButton",
            disableFrame: 3,
            nonPixelPerfect: !1
        },
        offersListPrev: {
            name: "offerSelectPreviousButton",
            disableFrame: 3,
            nonPixelPerfect: !1
        },
        offersListClose: {
            name: "closeOffersButton",
            nonPixelPerfect: !1
        },
        offersResultGoToGame: {
            name: "offerBackToGameButton",
            nonPixelPerfect: !1
        }
    };
    b = nge.localData.get("actions") || [];
    for (var h = [], g = 0; g < b.length; g++) b[g].type && "offer" === b[g].type && h.push(b[g]);
    if (0 !== h.length)
        for (var f in d) this.params[f] = d[f]
});
nge.App[nge.appNS].Com.CreditsTotalBet = {};
nge.App[nge.appNS].Com.CreditsTotalBet._Package = {
    name: "com.creditsTotalBet",
    version: 1,
    requirments: {
        js: ["com/creditsTotalBet/controller", "com/creditsTotalBet/tpl"]
    }
};
nge.App[nge.appNS].Com.CreditsTotalBet.Controller = nge.Com.Base.extend(function() {
    var d, b = this;
    this.enableMaxWidth = !1;
    this.maxWidth = 150;
    this.create = function() {
        this.createDefault();
        nge.rafSetTimeout(h, 1);
        d || nge.observer.add("totalBet.change", h);
        return d = !0
    };
    var h = function() {
        var d = nge.findAll(".creditsTotalBetNumber");
        if (d) {
            var f = nge.localData.get("totalBet.value"),
                a = nge.localData.get("coins.value"),
                c = "1" === nge.localData.get("extraBet") ? nge.localData.get("extraBetMult") : 1;
            d.forEach(function(d) {
                d.text =
                    parseFloat((f / a).toFixed(2) * c);
                b.enableMaxWidth && d.maxSizeResize("width", b.maxWidth)
            })
        }
    }
});
nge.App[nge.appNS].Com.CurrencySwitcher = {};
nge.App[nge.appNS].Com.CurrencySwitcher.Controller = nge.Com.Base.extend(function() {
    var d = !1,
        b = this;
    this.selectors = {
        creditsSelectors: {
            "^totalBetCoinsContentContainer": null,
            "^balanceCoinsContentContainer": null,
            "#gambleToWinCredits": null,
            "#gambleAmountCredits": null,
            ".creditsWinNumber": null,
            "^offerFreeGamesWinCredits": null
        },
        currencySelectors: {
            "^totalBetContentContainer": null,
            "^balanceContentContainer": null,
            "#gambleAmount": null,
            "#gambleToWin": null,
            ".winNumber": null,
            "^offerFreeGamesWin": null
        }
    };
    var h = function(a,
            b, d) {
            a.forEach(function(a) {
                var c = !1;
                0 === b && (c = -1 !== d.indexOf("credits"));
                1 === b && (c = -1 === d.indexOf("credits"));
                a.visible = c
            })
        },
        g = function() {
            var a = nge.localData.get("settings.settingsDisplayValuesInCoins") || !1;
            nge.localData.set("settings.settingsDisplayValuesInCoins", !a);
            a = a ? 0 : 1;
            for (var c in b.selectors) {
                var d = void 0,
                    f = b.selectors[c],
                    g = a,
                    m = c;
                for (d in f) f[d] && h(f[d], g, m)
            }
        },
        f = function(a) {
            "currencyChanger" === a && (g(), nge.observer.fire("denom_change.play"))
        };
    this.subscribe = function() {
        nge.observer.add("buttons.pressCommand",
            f);
        nge.observer.add("currencySwitcher.switch", g)
    };
    this.create = function() {
        this.createDefault();
        var a = nge.localData.get("settings.settingsDisplayValuesInCoins");
        "undefined" === typeof a ? nge.localData.set("settings.settingsDisplayValuesInCoins", !1) : nge.localData.set("settings.settingsDisplayValuesInCoins", !a);
        for (var c in b.selectors) {
            a = void 0;
            var e = b.selectors[c];
            for (a in e) e[a] = nge.findAll(a)
        }
        g();
        d || this.subscribe();
        return d = !0
    }
});
nge.App[nge.appNS].Com.CurrencySwitcher.Mobile = {};
nge.App[nge.appNS].Com.CurrencySwitcher.Mobile.Controller = nge.App[nge.appNS].Com.CurrencySwitcher.Controller.extend(function() {
    this.selectors = {
        creditsSelectors: {
            "^totalBetMobileCoinsContentContainer": null,
            "^balanceMobileCoinsContentContainer": null,
            "#gambleToWinCredits": null,
            "#gambleAmountCredits": null,
            ".creditsWinNumber": null,
            "^offerFreeGamesWinCredits": null
        },
        currencySelectors: {
            "^totalBetMobileContentContainer": null,
            "^balanceMobileContentContainer": null,
            "#gambleAmount": null,
            "#gambleToWin": null,
            ".winNumber": null,
            "^offerFreeGamesWin": null
        }
    }
});
nge.App[nge.appNS].Com.CustomButtons = {};
nge.App[nge.appNS].Com.CustomButtons.Controller = nge.Com.Base.extend(function() {
    var d = !1;
    this.create = function() {
        if ("undefined" !== typeof customButtons) {
            this.createDefault();
            for (var h in customButtons)
                if (customButtons[h].imageKey) {
                    var g = nge.game.cache._cache.image[customButtons[h].imageKey];
                    g && (nge.game.cache._cache.image[h] = g)
                } d || nge.observer.add("buttons.create.end", b);
            d = !0
        }
    };
    var b = function() {
        for (var b in customButtons) {
            var d = nge.findOne("^".concat(b));
            d && (d.scale.set(1 / nge.assets.getQualityFactor()),
                customButtons[b].x && (d.x = customButtons[b].x), customButtons[b].y && (d.y = customButtons[b].y))
        }
    }
});
nge.App[nge.appNS].Com.CustomButtons.Tpl = function() {
    var d = {
        assets: {
            contents: []
        },
        objects: {
            contents: []
        }
    };
    if ("undefined" === typeof customButtons) return d;
    for (var b in customButtons) {
        var h = customButtons[b];
        if (h.callback && !h.imageKey) {
            var g = nge.game.cache._cache.image[b.concat("-blank")];
            if (g) {
                var f = g.base.width,
                    a = g.base.height,
                    c = h.frames;
                if (h.imageUrl) a = {}, a.key = b, a.width = f, a.frameWidth = f / c, a.fullPath = h.imageUrl, a.qualityObeys = 0 === h.imageUrl.indexOf("http"), d.assets.contents.push(a);
                else if (h.imageBase64) {
                    h = {
                        base: g.base,
                        data: g,
                        frameData: new Phaser.FrameData,
                        key: b
                    };
                    f /= c;
                    for (g = 0; g < c; g++) {
                        var e = new Phaser.Frame;
                        e.index = g;
                        e.x = g * f;
                        e.y = 0;
                        e.width = f;
                        e.height = a;
                        e.right = f + g * f;
                        h.frameData._frames.push(e)
                    }
                    nge.game.cache._cache.image[b] = h
                }
            }
        }
    }
    return d
};
nge.App[nge.appNS].Com.Coins = {};
nge.App[nge.appNS].Com.Coins._Package = {
    name: "com.credits",
    version: 1,
    requirments: {
        js: ["com/coins/controller"]
    }
};
nge.App[nge.appNS].Com.Coins.Controller = nge.Com.Coins.Controller.extend(function() {
    this.create = function() {
        this.super.create();
        var d = nge.findAll(".coinText"),
            b;
        for (b in d) d[b].maxSizeResize("width", 120)
    }
});
nge.App[nge.appNS].Com.Credits = {};
nge.App[nge.appNS].Com.Credits._Package = {
    name: "com.credits",
    version: 1,
    requirments: {
        js: ["com/credits/controller", "com/credits/tpl"]
    }
};
nge.App[nge.appNS].Com.Credits.Controller = nge.Com.Base.extend(function() {
    var d, b, h;
    this.create = function() {
        this.createDefault();
        var a = nge.localData.get("balance");
        b = nge.findOne(".creditsNumber");
        h = nge.findAll(".creditsNumber");
        a && nge.rafSetTimeout(function() {
            f(a)
        }, 1);
        d || (nge.observer.add("balance.amount", g), nge.observer.add("coins.change", g));
        return d = !0
    };
    var g = function(a) {
            f(a);
            b.maxSizeResize("width", 130);
            return !0
        },
        f = function(a) {
            a = a && a.totalAmount ? a.totalAmount : nge.localData.get("balance.totalAmount");
            for (var b in h) h[b].text = nge.Lib.Money.toCoinsInt(a)
        }
});
nge.App[nge.appNS].Com.Freespin = {};
nge.App[nge.appNS].Com.Freespin.Controller = nge.Com.Freespin.Controller.extend(function() {
    var d = this,
        b, h, g, f = !1,
        a = !1,
        c = !1,
        e = !1,
        k = !1;
    this.freespinStartFrames = [0];
    this.moreFreespinsFrames = [0];
    this.freespinFinishFrames = [0];
    this.animationSpeed = 0;
    this.popupDurations = {
        start: 3E3,
        inside: 3E3,
        finish: 4650
    };
    this.textAppearsBeforeAnimation = !0;
    this.defaultColor = "#FF8600";
    this.defaultFontSize = 16;
    var l = this.super.freespinStart.bind(this),
        m = this.super.finishFreespin.bind(this);
    this._baseFreespinStart = l;
    this._baseFinishFreespin =
        m;
    this.create = function() {
        this.super.create();
        this.createDefault();
        f = !1;
        k && (k = !1);
        g = nge.findOne("^popupText");
        if (h = nge.findOne("^popupImage")) h.visible = !1;
        a || this.subscribe();
        a = !0
    };
    this.setText = function(a) {
        g.text = a || ""
    };
    this.animatePopup = function(a, b) {
        var c = a.frames,
            e = a.text,
            f = a.duration;
        b = b || function() {};
        var g = 0,
            k = function() {
                h.loadTexture("popup" + c[g]);
                g += 1;
                g > c.length - 1 ? (d.textAppearsBeforeAnimation || d.setText(e), nge.rafSetTimeout(b, f)) : nge.rafSetTimeout(k, d.animationSpeed)
            };
        h.visible = !0;
        d.textAppearsBeforeAnimation &&
            d.setText(e);
        k()
    };
    this.closePopup = function() {
        h && (h.visible = !1);
        g && (g.text = "")
    };
    this.startFreespins = function() {
        c && !f && (this.closePopup(), l(b), f = !0, c = !1)
    };
    this.startText = function(a) {
        return a + " FREE GAMES WON"
    };
    this.inProgressText = function(a) {
        return a + " more FREE GAMES WON"
    };
    this.finishText = function() {
        return "Feature win\n" + parseFloat(nge.localData.get("freespin.totalWinCoins").toFixed(2)) + " credits"
    };
    this.localFreespinInProgress = function() {
        return f
    };
    var q = function(a, b, c) {
            nge.observer.fire("infoPanel.showText", {
                text: a,
                position: "down",
                colors: b,
                fontSize: c
            })
        },
        n = function() {
            nge.localData.set("spaceHandler.isEnable", !1);
            nge.observer.fire("buttons.disable.auto");
            c = !1;
            f ? nge.observer.fire("popupInsideBonus.animate.start") : nge.observer.fire("popup.animate.start");
            var a = f ? "inside" : "start";
            d.animatePopup({
                text: d[f ? "inProgressText" : "startText"](b),
                frames: f ? d.moreFreespinsFrames : d.freespinStartFrames,
                duration: d.popupDurations[a],
                freespinState: a
            }, function() {
                f ? (d.closePopup(), l(b), nge.observer.fire("freespin.resume")) :
                    (nge.observer.fire("buttons.freespinStart"), c = !0, q(_("PRESS A BUTTON TO BEGIN"), [{
                        color: d.defaultColor,
                        from: 0
                    }], d.defaultFontSize), nge.localData.set("spaceHandler.isEnable", !0))
            })
        };
    this._finishFreespin = function() {
        nge.observer.fire("popupFinish.animate.start");
        d.animatePopup({
            frames: d.freespinFinishFrames,
            text: d.finishText(),
            duration: d.popupDurations.finish,
            freespinState: "finish"
        }, function() {
            m();
            f = !1;
            nge.observer.fire("popupFinish.animate.stop");
            nge.observer.fire("buttons.freespinFinish");
            nge.observer.fire("freespin.counterReset")
        })
    };
    var p = function() {
        e && (e = !1, n());
        k && (k = !1, d._finishFreespin())
    };
    this.freespinStart = function(a) {
        b = a;
        e = !d._restoringFlag;
        nge.localData.set("freespin.inProgress", !0);
        f && nge.observer.fire("freespin.pause");
        d._restoringFlag ? (c = !0, nge.observer.fire("buttons.freespinContinue"), a = nge.localData.get("brain.restoreGame.lastResponse.totalBonusWin"), nge.observer.fire("freespin.restoreText", a)) : q(_("BONUS FEATURE WON"), [{
            color: d.defaultColor,
            from: 0
        }], d.defaultFontSize)
    };
    this.finishFreespin = function() {
        k = !0
    };
    this.subscribe =
        function() {
            nge.observer.add("slotMachine.spinStart", this.closePopup);
            nge.observer.add("gamble.taking.stop", this.closePopup);
            nge.observer.add("gamble.go", this.closePopup);
            nge.observer.add("freespin.press.spinButton", this.startFreespins);
            nge.observer.add("spinAndWinComplete", p);
            nge.observer.add("freespin.end", function() {
                nge.observer.fire("freespin.counterReset")
            })
        }
});
nge.App[nge.appNS].Com.Freespin.Tpl = function() {
    return {
        assets: {
            contents: []
        },
        objects: {
            contents: []
        }
    }
};
nge.App[nge.appNS].Com.Fullscreen = {};
nge.App[nge.appNS].Com.Fullscreen._Package = {
    name: "com.fullscreen",
    version: 1,
    requirments: {
        js: ["com/fullscreen/controller", "com/fullscreen/tpl"]
    }
};
nge.App[nge.appNS].Com.Fullscreen.Controller = nge.Com.Base.extend(function() {
    var d;
    this.buttonNamesToFullscreen = ["spinMobile", "autoSpinMobile"];
    this.create = function() {
        this.createDefault();
        d || (nge.observer.add("buttons.pressCommand", c), nge.observer.add("fullscreen.on", b), nge.observer.add("window.resize", f), nge.observer.add("fullscreen.off", h), nge.observer.add("StatesManager.create.end", g), nge.observer.add("fullscreen.btnClicked", e));
        d = !0;
        "undefined" === typeof nge.localData.get("fullscreen.enabled") &&
            nge.localData.set("fullscreen.enabled", !1);
        return !0
    };
    var b = function() {
            if (!nge.game.scale.isFullScreen) {
                var a = nge.Lib.Helper.mobileAndTabletCheck() ? document : document.getElementsByTagName("canvas")[0];
                a.requestFullScreen ? a.requestFullScreen() : a.mozRequestFullScreen ? a.mozRequestFullScreen() : a.webkitRequestFullScreen && a.webkitRequestFullScreen();
                nge.localData.set("fullscreen.enabled", !0);
                nge.observer.fire("window.resize", {}, 500)
            }
        },
        h = function() {
            nge.game.scale.isFullScreen && (document.cancelFullScreen ? document.cancelFullScreen() :
                document.mozCancelFullScreen ? document.mozCancelFullScreen() : document.webkitCancelFullScreen && document.webkitCancelFullScreen(), nge.localData.get("fullscreen.enabled") && (nge.localData.set("fullscreen.enabled", !1), nge.observer.fire("window.resize", {}, 500)))
        },
        g = function(a) {
            "play" === a && nge.localData.get("fullscreen.enabled") && (nge.Lib.Helper.mobileAndTabletCheck() ? f() : nge.game.scale.isFullScreen || (nge.observer.fire("buttons.insidePress", "fullscreen"), nge.observer.fire("buttons.switchFrame", {
                name: "fullscreen",
                frame: 1
            })))
        },
        f = function() {
            var b = nge.localData.get("fullscreen.enabled"),
                c = nge.Lib.Helper.mobileAndTabletCheck(),
                d = a();
            c && b !== d && nge.observer.fire("fullscreen.off")
        },
        a = function() {
            if ("undefined" !== typeof document.isFullScreen) return document.isFullScreen;
            if ("undefined" !== typeof document.mozFullScreen) return document.mozFullScreen;
            if ("undefined" !== typeof document.webkitIsFullScreen) return document.webkitIsFullScreen
        },
        c = function(a) {
            -1 !== this.buttonNamesToFullscreen.indexOf(a) && nge.observer.fire("fullscreen.on")
        }.bind(this),
        e = function() {
            nge.observer.fire("fullscreen." + (nge.game.scale.isFullScreen ? "off" : "on"))
        }
});
nge.App[nge.appNS].Com.Fullscreen.Tpl = function() {};
nge.App[nge.appNS].Com.Gamble = {};
nge.App[nge.appNS].Com.Gamble._Package = {
    name: "com.gamble",
    version: 1,
    requirments: {
        js: ["com/gamble/controller", "com/gamble/tpl"]
    }
};
nge.App[nge.appNS].Com.Gamble.Controller = nge.Com.Base.extend(function() {
    var d = this,
        b;
    this.create = function() {
        this.createDefault();
        b || (this.subscribe(), b = !0);
        this.service = this.getInstance("Service");
        this.service.view = this.getInstance("View");
        this.service.init();
        this.service.view.init()
    };
    var h = function(a) {
            d.service.checkShowGamble(a)
        },
        g = function() {
            d.service.gambleTakeHandler()
        },
        f = function() {
            d.service.hideGambleButtons()
        },
        a = function() {
            d.service.showGambleScreen()
        },
        c = function() {
            d.service.actionRed()
        },
        e = function() {
            d.service.actionBlack()
        },
        k = function(a) {
            d.service.actionResponse(a)
        };
    this.update = function() {
        d.service.update()
    };
    var l = function(a) {
            d.service.winHandler(a)
        },
        m = function() {
            d.service.freespinTotalWinHandler()
        },
        q = function(a) {
            a && 0 !== a.indexOf("gambleAction") || (a = a.replace("gambleAction", ""), a = nge.Lib.Helper.lowerFirstLetter(a), nge.observer.fire("gamble.".concat(a)))
        },
        n = function() {
            d.service.balanceRequestHandler()
        };
    this.subscribe = function() {
        nge.observer.add("winlines.animateByOne.cycleComplete",
            h);
        nge.observer.add("autospinSimple.on", f);
        nge.observer.add("gamble.take", g);
        nge.observer.add("gamble.taking.stop", f);
        nge.observer.add("gamble.go", a);
        nge.observer.add("gamble.red", c);
        nge.observer.add("gamble.black", e);
        nge.observer.add("gamble.response", k);
        nge.observer.add("win", l);
        nge.observer.add("freespin.totalWin", l);
        nge.observer.add("freespin.totalWin", m);
        nge.observer.add("buttons.pressCommand", q);
        nge.observer.add("balanceRequest", n)
    }
});
nge.App[nge.appNS].Com.Gamble.Service = Class.extend(function() {
    var d = this;
    this.updateTime = 150;
    this.updateTimeCover = 100;
    var b = 0,
        h = 0,
        g = !1,
        f = !1,
        a = 0,
        c = 0,
        e = [],
        k = !1,
        l = !0,
        m = !1,
        q = !1;
    this.init = function() {
        n(!1)
    };
    this.checkShowGamble = function(a) {
        if (k) {
            var b = nge.localData.get("freespin.inProgress"),
                c = nge.localData.get("respin.inProgress");
            b || c || nge.localData.get("gamble.canPlay") || nge.observer.fire("gamble.take");
            k = !1;
            (a || 0 < nge.localData.get("slotMachine.slotWin.totalWin")) && this.showGambleButtons()
        }
    };
    this.showGambleButtons =
        function() {
            var a = nge.localData.get("freespin.inProgress"),
                b = nge.localData.get("respin.inProgress");
            a || b ? this.hideGambleButtons() : nge.localData.get("autospin") ? nge.observer.fire("gamble.take") : (nge.observer.fire("buttons.showGamble"), q = !0)
        };
    this.showGambleScreen = function() {
        var a = nge.localData.get("slotMachine.slotWin.gambleParams");
        if (a) {
            a = a.history;
            for (var b in a) {
                var c = "gambleCardBig" + (parseInt(a[b]) ? "Red" : "Black");
                e.push(c)
            }
        }
        l = !0;
        d.view.redrawHistory(e);
        this.view.showGambleScreen();
        m = !0
    };
    this.gambleTakeHandler =
        function() {
            this.view.gambleTakeHandler();
            n(!1);
            m = !1
        };
    this.hideGambleButtons = function() {
        this.view.hideGambleButtons();
        m = !1;
        var a = nge.localData.get("freespin.inProgress"),
            b = nge.localData.get("respin.inProgress");
        a || b || nge.observer.fire("buttons.enable");
        nge.observer.fire("gamble.buttons.hided");
        q = !1;
        c = 0
    };
    this.action = function(a) {
        l = !1;
        f = a;
        nge.observer.fire("gamble.actionRequest", {
            card: +a
        })
    };
    this.actionRed = function() {
        nge.localData.get("gamble.canPlay") && l && this.action(!0)
    };
    this.actionBlack = function() {
        nge.localData.get("gamble.canPlay") &&
            l && this.action(!1)
    };
    this.gambleResultCallback = function(a, b) {
        nge.rafSetTimeout(b, 1500)
    };
    this.actionResponse = function(b) {
        var g = parseFloat(b.winning),
            h = !(!1 === b.canGamble || "false" === b.canGamble);
        n(h);
        a = g;
        this.view.resetButtons();
        b = g && f || !g && !f ? "Red" : "Black";
        var k = "gambleCardBig" + b;
        this.view.showGambleResult(b, function() {
            d.view.winRedraw(a);
            e.unshift(k);
            d.view.redrawHistory(e);
            d.gambleResultCallback(g, g && h ? function() {
                nge.observer.fire("gamble.resume");
                l = !0;
                nge.rafSetTimeout(function() {
                        nge.observer.fire("buttons.gamble.restore")
                    },
                    100)
            } : function() {
                nge.observer.fire("gamble.take");
                d.hideGambleButtons()
            });
            c++;
            nge.observer.fire(g ? "gamble.win." + c : "gamble.loose")
        })
    };
    this.update = function() {
        if (m && q && l) {
            var a = nge.Lib.Time.get();
            a - b < this.updateTimeCover || (b = a, this.view.updateGambleBigTexture(), a - h < this.updateTime || (h = a, this.view.updateGambleButtons(g), g = !g))
        }
    };
    this.winHandler = function(b) {
        k = !0;
        a = b;
        this.view.winRedraw(a);
        b = nge.localData.get("slotMachine.slotWin.canGamble");
        n(b)
    };
    this.freespinTotalWinHandler = function() {
        this.checkShowGamble(!0)
    };
    this.balanceRequestHandler = function() {
        n(!1)
    };
    var n = function(a) {
        nge.localData.set("gamble.canPlay", "false" !== a && !1 !== a)
    }
});
nge.App[nge.appNS].Com.Gamble.Tpl = function(d) {
    d || (d = nge.appPath + "img/gamble/");
    return {
        styles: {
            ".gambleText": {
                style: {
                    font: 'bold 30pt "Arial"',
                    fill: "#fff",
                    align: "left"
                }
            }
        },
        assets: {
            name: "assets",
            contents: [{
                key: "gambleBG",
                fullPath: d + "db_back.jpg"
            }, {
                key: "gambleBlack1",
                fullPath: d + "db_black.png"
            }, {
                key: "gambleBlack2",
                fullPath: d + "db_black_hover.png"
            }, {
                key: "gambleBlack3",
                fullPath: d + "db_black_press.png"
            }, {
                key: "gambleRed1",
                fullPath: d + "db_red.png"
            }, {
                key: "gambleRed2",
                fullPath: d + "db_red_hover.png"
            }, {
                key: "gambleRed3",
                fullPath: d + "db_red_press.png"
            }, {
                key: "gambleCardBig0",
                fullPath: d + "db_Card_Big_000.png"
            }, {
                key: "gambleCardBig1",
                fullPath: d + "db_Card_Big_001.png"
            }, {
                key: "gambleCardBigRed",
                fullPath: d + "db_Card_Big_002.png"
            }, {
                key: "gambleCardBigBlack",
                fullPath: d + "db_Card_Big_003.png"
            }, {
                key: "gambleCardSmallBlack",
                fullPath: d + "db_Card_Small_black.png"
            }, {
                key: "gambleCardSmallRed",
                fullPath: d + "db_Card_Small_red.png"
            }]
        },
        objects: {
            name: "objects",
            contents: [{
                type: 1,
                name: "gambleScreen",
                isVisible: !1,
                contents: [{
                    type: 0,
                    id: "gambleCardBig",
                    x: 970,
                    y: 640,
                    anchorX: .5,
                    anchorY: .5,
                    assetKey: "gambleCardBig0"
                }, {
                    type: 4,
                    id: "gambleActionRed",
                    "class": "simpleButton",
                    x: 550,
                    y: 640,
                    anchorX: .5,
                    anchorY: .5,
                    assetKey: "gambleRed1",
                    action: 'function () { nge.observer.fire("buttons.pressCommand", "gambleActionRed"); }'
                }, {
                    type: 4,
                    id: "gambleActionBlack",
                    "class": "simpleButton",
                    x: 1390,
                    y: 640,
                    anchorX: .5,
                    anchorY: .5,
                    assetKey: "gambleBlack1",
                    action: 'function () { nge.observer.fire("buttons.pressCommand", "gambleActionBlack"); }'
                }, {
                    type: 0,
                    id: "gamble-hc-0",
                    x: 955,
                    y: 340,
                    anchorX: .5,
                    anchorY: .5,
                    assetKey: "gambleCardSmallBlack"
                }, {
                    type: 0,
                    id: "gamble-hc-1",
                    x: 1085,
                    y: 340,
                    anchorX: .5,
                    anchorY: .5,
                    assetKey: "gambleCardSmallBlack"
                }, {
                    type: 0,
                    id: "gamble-hc-2",
                    x: 1215,
                    y: 340,
                    anchorX: .5,
                    anchorY: .5,
                    assetKey: "gambleCardSmallBlack"
                }, {
                    type: 0,
                    id: "gamble-hc-3",
                    x: 1345,
                    y: 340,
                    anchorX: .5,
                    anchorY: .5,
                    assetKey: "gambleCardSmallBlack"
                }, {
                    type: 0,
                    id: "gamble-hc-4",
                    x: 1475,
                    y: 340,
                    anchorX: .5,
                    anchorY: .5,
                    assetKey: "gambleCardSmallBlack"
                }, {
                    type: 2,
                    name: "textPreviousCard",
                    "class": "gambleText",
                    x: 650,
                    y: 325,
                    text: _("PREVIOUS CARDS"),
                    anchorX: .5
                }, {
                    type: 2,
                    id: "gambleAmount",
                    "class": "gambleText",
                    x: 550,
                    y: 200,
                    text: "18",
                    anchorX: .5
                }, {
                    type: 2,
                    id: "gambleToWin",
                    "class": "gambleText",
                    x: 1375,
                    y: 200,
                    text: "36",
                    anchorX: .5
                }, {
                    type: 2,
                    "class": "gambleText",
                    x: 550,
                    y: 155,
                    text: _("GAMBLE AMOUNT"),
                    anchorX: .5
                }, {
                    type: 2,
                    "class": "gambleText",
                    x: 1375,
                    y: 155,
                    text: _("GAMBLE TO WIN"),
                    anchorX: .5
                }, {
                    type: 0,
                    x: 160,
                    y: 90,
                    name: "gambleBG",
                    assetKey: "gambleBG",
                    inputEnabled: !0
                }]
            }]
        }
    }
};
nge.App[nge.appNS].Com.Gamble.View = Class.extend(function() {
    this.selector = "#";
    var d = this,
        b, h, g = {
            gambleActionRed: null,
            gambleActionBlack: null,
            gambleAction2Red: null,
            gambleAction2Black: null
        },
        f = {
            gambleCardBig: null,
            "gamble-hc-0": null,
            "gamble-hc-1": null,
            "gamble-hc-2": null,
            "gamble-hc-3": null,
            "gamble-hc-4": null,
            gambleAmount: null,
            gambleToWin: null,
            gambleAmountCredits: null,
            gambleToWinCredits: null
        };
    this.slotMachineParts = ["^slotMachineContainer"];
    this.bigTextureFramesCount = 2;
    var a = 0;
    this.initVars = function(a) {
        Object.getOwnPropertyNames(a).forEach(function(b) {
            a[b] =
                nge.findOne(d.selector.concat(b))
        })
    };
    this.init = function() {
        b = this.slotMachineParts.map(nge.findOne);
        h = nge.findOne("^gambleScreen");
        h.visible = !1;
        d.initVars(g);
        d.initVars(f)
    };
    this.updateGambleBigTexture = function() {
        f.gambleCardBig.loadTexture("gambleCardBig" + a);
        a = a === d.bigTextureFramesCount - 1 ? 0 : a + 1
    };
    this.showGambleResult = function(a, b) {
        f.gambleCardBig.loadTexture("gambleCardBig" + a);
        b()
    };
    this.showGambleButtons = function() {
        return !1
    };
    this.gambleTakeHandler = function() {
        for (var a = nge.findAll(".gambleBtnCon"),
                b = 0; b < a.length; b++) a[b].visible = !1;
        this.showSlotMachine()
    };
    this.hideGambleButtons = function() {
        this.showSlotMachine()
    };
    this.redrawHistory = function(a) {
        for (var b = 0; b < a.length && !(4 < b); b++) {
            var c = nge.Lib.Helper.strReplace("Big", "Small", a[b]);
            f["gamble-hc-".concat(b)].loadTexture(c)
        }
    };
    this.winRedraw = function(a) {
        if (0 !== a) {
            var b = nge.localData.get("balance.currency");
            f.gambleAmount && (f.gambleAmount.text = (+a).toFixed(2) + " " + b);
            f.gambleToWin && (f.gambleToWin.text = (2 * +a).toFixed(2) + " " + b);
            f.gambleAmountCredits &&
                (f.gambleAmountCredits.text = nge.Lib.Money.toCoinsInt(a));
            f.gambleToWinCredits && (f.gambleToWinCredits.text = nge.Lib.Money.toCoinsInt(2 * a))
        }
    };
    this.updateGambleButtons = function(a) {
        var b = a ? "gambleRed2" : "gambleRed1",
            c = a ? "gambleBlack1" : "gambleBlack2",
            d = nge.Lib.Helper.mobileAndTabletCheck(),
            f = g.gambleActionRed;
        !f.input.pointerOver() || d ? f.loadTexture(b) : f.loadTexture("gambleRed2");
        b = g.gambleActionBlack;
        !b.input.pointerOver() || d ? b.loadTexture(c) : b.loadTexture("gambleBlack2");
        nge.observer.fire("buttons.switchFrame.red",
            a ? 1 : 2);
        nge.observer.fire("buttons.switchFrame.black", a ? 2 : 1)
    };
    this.resetButtons = function() {
        g.gambleActionRed.loadTexture("gambleRed1");
        g.gambleActionBlack.loadTexture("gambleBlack1");
        nge.observer.fire("buttons.switchFrame.red", 1);
        nge.observer.fire("buttons.switchFrame.black", 1)
    };
    this.toggleSlotMachine = function(a) {
        b.forEach(function(b) {
            b && (b.visible = a)
        })
    };
    this.showSlotMachine = function() {
        this.toggleSlotMachine(!0);
        h.visible = !1
    };
    this.showGambleScreen = function() {
        this.toggleSlotMachine(!1);
        h.visible = !0
    }
});
nge.App[nge.appNS].Com.Gamble.UI_v3 = {};
nge.App[nge.appNS].Com.Gamble.UI_v3.Tpl = function(d) {
    d || (d = nge.appPath + "img/gamble/");
    d = nge.App[nge.appNS].Com.Gamble.Tpl(d);
    var b = d.objects.contents.filter(function(b) {
            return "gambleScreen" === b.name
        })[0],
        h = function(d) {
            var f = b.contents.filter(function(a) {
                    return a.id === d
                })[0],
                a = nge.Lib.Helper.jsObjClone(f);
            a.id += "Credits";
            b.contents.splice(b.contents.indexOf(f), 0, a)
        };
    h("gambleAmount");
    h("gambleToWin");
    return d
};
nge.App[nge.appNS].Com.Jackpot = {};
nge.App[nge.appNS].Com.Jackpot.AnimationManager = nge.Com.Base.extend(function() {
    var d, b = this,
        h = {};
    this.configureManager = function(b) {
        d = b
    };
    this.startAnimation = function(b) {
        if (!h[b]) {
            var a = this.createAnimationTween(b);
            h[b] = {};
            h[b].tween = a
        }
        h[b].tween.start()
    };
    this.getAnimation = function(b) {
        return h[b]
    };
    this.createAnimationTween = function(b, a, c, e) {
        for (var f in d.animations)
            if (b === f) {
                f = nge.Lib.Helper.jsObjClone(d.animations[f]);
                f.to || (f.to = {});
                if (e)
                    for (var h in e) f.to[h] = e[h];
                return g(b, a, c, f)
            }
    };
    var g = function(b,
        a, c, d) {
        var e = [],
            f = {},
            g = nge.game.cache.getKeys();
        var h = d.frames - 1;
        var n = d.duration || 0;
        var p = d.repeat || 0;
        var r = d.textureBehavior;
        var u = d.delay || 0;
        var t = d.yoyo || !1;
        f = d.to || {};
        var v = d.reverse || !1;
        var w = d.easing || null;
        d = nge.findOne("^" + b);
        d || (c || (c = {
            x: 0,
            y: 0
        }), d = nge.objects.create(nge.Mlm.Objects.Image({
            assetKey: b,
            isVisible: !1,
            x: c.x,
            y: c.y,
            anchorX: .5,
            anchorY: .5
        }), a));
        for (var x in f);
        a = g.filter(function(a) {
            return -1 !== a.indexOf(b)
        });
        a.sort();
        a.forEach(function(a) {
            var b = nge.game.cache._cache.image[a],
                c = b.frameData.total -
                1;
            c > h && (c = h);
            b = b.frameData.getFrameRange(0, c);
            b.forEach(function(b) {
                b.spriteName = a;
                b.startsFrom = e.length
            });
            e.push.apply(e, b);
            h -= c
        });
        f.frame = e.length;
        f.scaleX && (f.scaleX /= nge.game.world.worldScale.x);
        f.scaleY && (f.scaleY /= nge.game.world.worldScale.y);
        var y = nge.tween.add(d);
        y.to(f, n, w, !1, u, p, t);
        if (v) {
            p = {};
            for (var z in f) p[z] = y.target[z];
            y.to(p, n, null, !1, u)
        }
        r && r.onStart && y.onStart.add(function() {
            for (var a in r.onStart) nge.Lib.Helper.recursiveSet(a, r.onStart[a], y.target)
        });
        r && r.onComplete && y.onComplete.add(function() {
            for (var a in r.onComplete) nge.Lib.Helper.recursiveSet(a,
                r.onComplete[a], y.target)
        });
        y.onLoop.add(function(a) {
            a.frame = e.length - 1 - e[e.length - 1].startsFrom
        });
        y.onUpdateCallback(function(a, b, c) {
            b = ~~(c.percent * c.vEnd.frame);
            e[b] && (a.target.loadTexture(e[b].spriteName), a.target.frame = b - e[b].startsFrom)
        });
        return y
    };
    this.createScaleTween = function(b, a, c, d) {
        var e = b.scaleX,
            f = b.scaleY;
        c /= 2;
        var g = e * a;
        a *= f;
        var h = nge.tween.add(b).to({
            scaleX: g,
            scaleY: a
        }, c).to({
            scaleX: e,
            scaleY: f
        }, c);
        h.onComplete.add(function() {
            0 <= --d && h.start()
        });
        return h
    };
    this.createAnimationFlowTween =
        function(d, a, c, e, g, h) {
            var f = this.createAnimationTween(d, e, g, h);
            a.forEach(function(a) {
                "string" === typeof a ? f.onStart.add(function() {
                    b.createAnimationTween(a, e, g).start()
                }) : f.onStart.add(function() {
                    a.start()
                })
            });
            c.forEach(function(a) {
                "string" === typeof a ? f.onComplete.add(function() {
                    b.createAnimationTween(a, e, g).start()
                }) : f.onComplete.add(function() {
                    a.start()
                })
            });
            return f
        }
});
nge.App[nge.appNS].Com.Jackpot.Cfg = Class.extend(function() {
    this.singleton = !0;
    this.fieldWidth = 5;
    this.fieldHeight = 4;
    this.symbolHeight = this.symbolWidth = 208;
    this.animations = {
        fishAnimation: {
            repeat: -1,
            duration: 6E3,
            frames: 80,
            textureBehavior: {
                onStart: {
                    visible: !0
                },
                onComplete: {
                    visible: !1
                }
            }
        },
        jackpotSymbolShowAnimation: {
            repeat: 0,
            duration: 1200,
            frames: 22,
            textureBehavior: {
                onStart: {
                    visible: !0
                },
                onComplete: {
                    visible: !1
                }
            }
        },
        symbolOpenFourthAnimation: {
            repeat: 0,
            duration: 1200,
            frames: 34,
            textureBehavior: {
                onStart: {
                    visible: !0
                },
                onComplete: {
                    visible: !0,
                    frame: 32
                }
            }
        },
        symbolOpenThirdAnimation: {
            repeat: 0,
            duration: 1200,
            frames: 34,
            textureBehavior: {
                onStart: {
                    visible: !0
                },
                onComplete: {
                    visible: !0,
                    frame: 32
                }
            }
        },
        symbolOpenFirstAnimation: {
            repeat: 0,
            duration: 1200,
            frames: 34,
            textureBehavior: {
                onStart: {
                    visible: !0
                },
                onComplete: {
                    visible: !0,
                    frame: 32
                }
            }
        },
        symbolOpenSecondAnimation: {
            repeat: 0,
            duration: 1200,
            frames: 34,
            textureBehavior: {
                onStart: {
                    visible: !0
                },
                onComplete: {
                    visible: !0,
                    frame: 32
                }
            }
        },
        symbolStartOpenAnimation: {
            repeat: 0,
            duration: 100,
            frames: 7,
            textureBehavior: {
                onStart: {
                    visible: !0
                },
                onComplete: {
                    visible: !1
                }
            }
        },
        magicAnimation: {
            repeat: 0,
            duration: 1200,
            frames: 36,
            textureBehavior: {
                onStart: {
                    visible: !0
                },
                onComplete: {
                    visible: !1
                }
            }
        },
        stoneFirstFlyAnimation: {
            repeat: 0,
            easing: nge.Lib.Tween.Easing.Quartic.InOut,
            duration: 1200,
            frames: 30,
            textureBehavior: {
                onStart: {
                    visible: !0
                },
                onComplete: {
                    visible: !1
                }
            }
        },
        stoneSecondFlyAnimation: {
            repeat: 0,
            easing: nge.Lib.Tween.Easing.Quartic.InOut,
            duration: 1200,
            frames: 30,
            textureBehavior: {
                onStart: {
                    visible: !0
                },
                onComplete: {
                    visible: !1
                }
            }
        },
        stoneThirdFlyAnimation: {
            repeat: 0,
            easing: nge.Lib.Tween.Easing.Quartic.InOut,
            duration: 1200,
            frames: 30,
            textureBehavior: {
                onStart: {
                    visible: !0
                },
                onComplete: {
                    visible: !1
                }
            }
        },
        stoneFourthFlyAnimation: {
            repeat: 0,
            easing: nge.Lib.Tween.Easing.Quartic.InOut,
            duration: 1200,
            frames: 30,
            textureBehavior: {
                onStart: {
                    visible: !0
                },
                onComplete: {
                    visible: !1
                }
            }
        },
        fourthNameAnimation: {
            repeat: 0,
            duration: 600,
            frames: 15,
            reverse: !0,
            to: {
                scaleX: 1.1,
                scaleY: 1.1
            },
            textureBehavior: {
                onStart: {
                    frame: 0
                },
                onComplete: {
                    frame: 0
                }
            }
        },
        thirdNameAnimation: {
            repeat: 0,
            duration: 600,
            frames: 14,
            reverse: !0,
            to: {
                scaleX: 1.1,
                scaleY: 1.1
            },
            textureBehavior: {
                onStart: {
                    frame: 0
                },
                onComplete: {
                    frame: 0
                }
            }
        },
        firstNameAnimation: {
            repeat: 0,
            duration: 600,
            frames: 14,
            reverse: !0,
            to: {
                scaleX: 1.1,
                scaleY: 1.1
            },
            textureBehavior: {
                onStart: {
                    frame: 0
                },
                onComplete: {
                    frame: 0
                }
            }
        },
        secondNameAnimation: {
            repeat: 0,
            duration: 600,
            frames: 15,
            reverse: !0,
            to: {
                scaleX: 1.1,
                scaleY: 1.1
            },
            textureBehavior: {
                onStart: {
                    frame: 0
                },
                onComplete: {
                    frame: 0
                }
            }
        },
        symbolWinAnimation: {
            repeat: 0,
            duration: 1200,
            frames: 32,
            textureBehavior: {
                onStart: {
                    visible: !0
                },
                onComplete: {
                    visible: !1
                }
            }
        },
        stoneFirstAnimation: {
            repeat: 0,
            duration: 1200,
            frames: 19,
            textureBehavior: {
                onStart: {
                    visible: !0,
                    angle: 45
                },
                onComplete: {
                    frame: 18
                }
            }
        },
        stoneSecondAnimation: {
            repeat: 0,
            duration: 1200,
            frames: 19,
            textureBehavior: {
                onStart: {
                    visible: !0,
                    angle: 45
                },
                onComplete: {
                    frame: 18
                }
            }
        },
        stoneThirdAnimation: {
            repeat: 0,
            duration: 1200,
            frames: 19,
            textureBehavior: {
                onStart: {
                    visible: !0,
                    angle: 45
                },
                onComplete: {
                    frame: 18
                }
            }
        },
        stoneFourthAnimation: {
            repeat: 0,
            duration: 1200,
            frames: 19,
            textureBehavior: {
                onStart: {
                    visible: !0,
                    angle: 45
                },
                onComplete: {
                    frame: 18
                }
            }
        }
    }
});
nge.App[nge.appNS].Com.Jackpot.Controller = nge.Com.Base.extend(function() {
    var d, b;
    this.update = function(a) {
        a = a.deltaT;
        nge.localData.get("jackpot.inProgress") && b.updateTimer(a)
    };
    this.customSubscribe = function() {};
    var h = function(a) {
            b.showSymbol(a)
        },
        g = function(a) {
            nge.observer.fire("jackpot.playRequest", a)
        };
    this.initLayers = function() {
        b = this.getInstance("Service");
        b.init()
    };
    var f = function() {
            b.showJackpotLayer()
        },
        a = function() {
            b.hideJackpotLayer()
        },
        c = function() {
            b.clear();
            nge.observer.fire("jackpot.end");
            nge.statesManager.display("play")
        },
        e = function() {
            nge.observer.add("jackpot.showLayer", f);
            nge.observer.add("jackpot.hide", a);
            nge.observer.add("jackpot.forceClose", c);
            nge.observer.add("jackpot.pressedSymbol", g);
            nge.observer.add("jackpot.playResponse", h);
            this.customSubscribe()
        }.bind(this);
    this.create = function() {
        this.createDefault();
        this.initLayers();
        d || e();
        return d = !0
    }
});
nge.App[nge.appNS].Com.Jackpot.Service = nge.Com.Base.extend(function() {
    var d, b = 0;
    this.maxSeconds = 90;
    this.init = function() {
        d = this.getInstance("View");
        d.init()
    };
    this.updateTimer = function(h) {
        0 !== b++ && (b += h, h = Math.floor(b / 1E3), d.updateTimer(this.maxSeconds - h), h >= this.maxSeconds && d.showSymbolsOnTimeFinish())
    };
    this.showJackpotLayer = function() {
        b = 0;
        d.showJackpotPopup();
        nge.observer.fire("jackpot.show")
    };
    this.showSymbol = function(b) {
        d.showSymbol(b)
    };
    this.hideJackpotLayer = function() {
        d.hideJackpotLayer()
    };
    this.clear =
        function() {
            d.clear()
        }
});
nge.App[nge.appNS].Com.Jackpot.Tpl = function() {
    var d = nge.appPath + "img/jackpot/";
    return {
        styles: {
            ".jackpotTimeAmount": {
                style: {
                    font: '50pt "segoe_ui_black"',
                    fill: "#D6D6D6",
                    align: "left",
                    stroke: "#060612",
                    strokeThickness: 5
                }
            },
            ".winText": {
                style: {
                    font: '36pt "segoe_ui_black"',
                    fill: "#C1C9D0",
                    align: "left"
                }
            },
            ".winFirstText": {
                style: {
                    stroke: "#7C2E43",
                    strokeThickness: 5
                }
            },
            ".winSecondText": {
                style: {
                    stroke: "#294386",
                    strokeThickness: 5
                }
            },
            ".winThirdText": {
                style: {
                    stroke: "#CE4747",
                    strokeThickness: 5
                }
            },
            ".winFourthText": {
                style: {
                    stroke: "#472DCE",
                    strokeThickness: 5
                }
            }
        },
        assets: {
            name: "assets",
            contents: [{
                    key: "okButton",
                    fullPath: d + "images/okButton.png",
                    width: 1200,
                    height: 128,
                    frameWidth: 400,
                    frameHeight: 128
                }, {
                    key: "jackpotOnlineFont0",
                    fullPath: d + "images/jackpot_online_font_0.png"
                }, {
                    key: "jackpotOnlineFont1",
                    fullPath: d + "images/jackpot_online_font_1.png"
                }, {
                    key: "jackpotOnlineFont2",
                    fullPath: d + "images/jackpot_online_font_2.png"
                }, {
                    key: "jackpotOnlineFont3",
                    fullPath: d + "images/jackpot_online_font_3.png"
                }, {
                    key: "jackpotOnlineFont4",
                    fullPath: d + "images/jackpot_online_font_4.png"
                },
                {
                    key: "jackpotOnlineFont5",
                    fullPath: d + "images/jackpot_online_font_5.png"
                }, {
                    key: "jackpotOnlineFont6",
                    fullPath: d + "images/jackpot_online_font_6.png"
                }, {
                    key: "jackpotOnlineFont7",
                    fullPath: d + "images/jackpot_online_font_7.png"
                }, {
                    key: "jackpotOnlineFont8",
                    fullPath: d + "images/jackpot_online_font_8.png"
                }, {
                    key: "jackpotOnlineFont9",
                    fullPath: d + "images/jackpot_online_font_9.png"
                }, {
                    key: "jackpotOnlineFontA",
                    fullPath: d + "images/jackpot_online_font_A.png"
                }, {
                    key: "jackpotOnlineFontB",
                    fullPath: d + "images/jackpot_online_font_B.png"
                },
                {
                    key: "jackpotOnlineFontD",
                    fullPath: d + "images/jackpot_online_font_D.png"
                }, {
                    key: "jackpotOnlineFontDot",
                    fullPath: d + "images/jackpot_online_font_dot.png"
                }, {
                    key: "jackpotOnlineFontH",
                    fullPath: d + "images/jackpot_online_font_H.png"
                }, {
                    key: "jackpotOnlineFontR",
                    fullPath: d + "images/jackpot_online_font_R.png"
                }, {
                    key: "jackpotOnlineFontS",
                    fullPath: d + "images/jackpot_online_font_S.png"
                }, {
                    key: "jackpotOnlineFontU",
                    fullPath: d + "images/jackpot_online_font_U.png"
                }, {
                    key: "openSymbolFirstStatic",
                    fullPath: d + "images/open_symbol_00__end.png"
                },
                {
                    key: "symbolFirstStatic",
                    fullPath: d + "movies/symbolRedStatic.png"
                }, {
                    key: "firstNameAnimation",
                    fullPath: d + "movies/redNameAnimation.png",
                    width: 1624,
                    height: 52,
                    frameWidth: 116,
                    frameHeight: 52
                }, {
                    key: "stoneFirstAnimation",
                    fullPath: d + "movies/stoneRedAnimation.png",
                    width: 1216,
                    height: 64,
                    frameWidth: 64,
                    frameHeight: 64
                }, {
                    key: "stoneFirstFlyAnimation",
                    fullPath: d + "movies/stoneRedFlyAnimation.png",
                    width: 192,
                    height: 1440,
                    frameWidth: 96,
                    frameHeight: 96
                }, {
                    key: "winFirstContainer",
                    fullPath: d + "images/container_00.png"
                }, {
                    key: "winFirstNoactiveContainer",
                    fullPath: d + "images/container_00_noactive.png"
                }, {
                    key: "openSymbolSecondStatic",
                    fullPath: d + "images/open_symbol_01_end.png"
                }, {
                    key: "symbolSecondStatic",
                    fullPath: d + "movies/symbolSilverStatic.png"
                }, {
                    key: "secondNameAnimation",
                    fullPath: d + "movies/silverNameAnimation.png",
                    width: 164,
                    height: 780,
                    frameWidth: 164,
                    frameHeight: 52
                }, {
                    key: "stoneSecondAnimation",
                    fullPath: d + "movies/stoneSilverAnimation.png",
                    width: 1216,
                    height: 64,
                    frameWidth: 64,
                    frameHeight: 64
                }, {
                    key: "stoneSecondFlyAnimation",
                    fullPath: d + "movies/stoneSilverFlyAnimation.png",
                    width: 192,
                    height: 1440,
                    frameWidth: 96,
                    frameHeight: 96
                }, {
                    key: "winSecondContainer",
                    fullPath: d + "images/container_01.png"
                }, {
                    key: "winSecondNoactiveContainer",
                    fullPath: d + "images/container_01_noactive.png"
                }, {
                    key: "openSymbolThirdStatic",
                    fullPath: d + "images/open_symbol_02_end.png"
                }, {
                    key: "symbolThirdStatic",
                    fullPath: d + "movies/symbolGoldStatic.png"
                }, {
                    key: "thirdNameAnimation",
                    fullPath: d + "movies/goldNameAnimation.png",
                    width: 152,
                    height: 728,
                    frameWidth: 152,
                    frameHeight: 52
                }, {
                    key: "stoneThirdAnimation",
                    fullPath: d + "movies/stoneGoldAnimation.png",
                    width: 1216,
                    height: 64,
                    frameWidth: 64,
                    frameHeight: 64
                }, {
                    key: "stoneThirdFlyAnimation",
                    fullPath: d + "movies/stoneGoldFlyAnimation.png",
                    width: 192,
                    height: 1440,
                    frameWidth: 96,
                    frameHeight: 96
                }, {
                    key: "winThirdContainer",
                    fullPath: d + "images/container_02.png"
                }, {
                    key: "winThirdNoactiveContainer",
                    fullPath: d + "images/container_02_noactive.png"
                }, {
                    key: "openSymbolFourthStatic",
                    fullPath: d + "images/open_symbol_03_end.png"
                }, {
                    key: "symbolFourthStatic",
                    fullPath: d + "movies/symbolDiamondStatic.png"
                }, {
                    key: "fourthNameAnimation",
                    fullPath: d +
                        "movies/diamondNameAnimation.png",
                    width: 244,
                    height: 840,
                    frameWidth: 244,
                    frameHeight: 56
                }, {
                    key: "stoneFourthAnimation",
                    fullPath: d + "movies/stoneDiamondAnimation.png",
                    width: 1216,
                    height: 64,
                    frameWidth: 64,
                    frameHeight: 64
                }, {
                    key: "stoneFourthFlyAnimation",
                    fullPath: d + "movies/stoneDiamondFlyAnimation.png",
                    width: 192,
                    height: 1440,
                    frameWidth: 96,
                    frameHeight: 96
                }, {
                    key: "winFourthContainer",
                    fullPath: d + "images/container_03.png"
                }, {
                    key: "winFourthNoactiveContainer",
                    fullPath: d + "images/container_03_noactive.png"
                }, {
                    key: "jackpotSymbolShowAnimation",
                    fullPath: d + "movies/jackpotSpriteOpenAnimation0.png",
                    width: 1908,
                    height: 672,
                    frameWidth: 212,
                    frameHeight: 224
                }, {
                    key: "jackpotSymbol",
                    fullPath: d + "images/jackpotSymbol.png",
                    width: 624,
                    height: 208,
                    frameWidth: 208,
                    frameHeight: 208
                }, {
                    key: "symbolStartOpenAnimation",
                    fullPath: d + "movies/symbolStartOpenAnimation.png",
                    width: 1320,
                    height: 220,
                    frameWidth: 220,
                    frameHeight: 220
                }, {
                    key: "timeBorder",
                    fullPath: d + "images/time_border.png"
                }, {
                    key: "logoJackpot",
                    fullPath: d + "images/jackpotLogo.png"
                }, {
                    key: "waitingBorder",
                    fullPath: d + "images/waiting_border.png"
                },
                {
                    key: "jackpotPopup",
                    fullPath: d + "images/jackpotPopup.png"
                }
            ]
        },
        objects: {
            name: "objects",
            contents: [{
                    type: 1,
                    name: "jackpotPopupContainer",
                    isVisible: !0,
                    x: 1E3,
                    y: 500,
                    contents: [{
                        type: 1,
                        name: "jackpotPopupWinContainer",
                        x: 0,
                        y: 0,
                        contents: [{
                            type: 7,
                            name: "jackpotPopupWinText",
                            x: 0,
                            y: 120,
                            anchorX: .5,
                            anchorY: .5,
                            text: "",
                            assetKey: "jackpot_font",
                            size: 215
                        }]
                    }, {
                        type: 0,
                        x: 0,
                        y: 50,
                        anchorX: .5,
                        anchorY: .5,
                        assetKey: "logoJackpot",
                        name: "logoJackpotPopup"
                    }, {
                        type: 0,
                        name: "jackpotPopup",
                        assetKey: "jackpotPopup",
                        isVisible: !0,
                        anchorX: .5,
                        anchorY: .5
                    }]
                },
                {
                    type: 1,
                    name: "jackpotContainer",
                    contents: [{
                        type: 1,
                        name: "jackpotWinContainer",
                        x: 1410,
                        y: 180,
                        contents: [{
                                type: 0,
                                x: 210,
                                y: -100,
                                anchorX: .5,
                                anchorY: .5,
                                assetKey: "logoJackpot",
                                name: "logoJackpot"
                            }, {
                                type: 0,
                                isVisible: !1,
                                name: "jackpotShadowFinal",
                                assetKey: "jackpotShadowFinal",
                                alpha: .75,
                                x: -1410,
                                y: -180,
                                scaleX: 2E3,
                                scaleY: 1200
                            }, {
                                type: 1,
                                id: "jackpotFourthWinContainer",
                                x: 0,
                                y: 0,
                                anchorX: .5,
                                anchorY: .5,
                                isVisible: !1,
                                contents: [{
                                    type: 2,
                                    x: 205,
                                    y: 75,
                                    anchorX: .5,
                                    anchorY: .5,
                                    "class": "winText winFourthText"
                                }, {
                                    type: 1,
                                    id: "jackpotFourthInfoContainer",
                                    x: 0,
                                    y: 0,
                                    contents: [{
                                        type: 0,
                                        x: 210,
                                        y: 0,
                                        anchorX: .5,
                                        anchorY: .5,
                                        assetKey: "fourthNameAnimation",
                                        id: "fourthNameAnimation"
                                    }, {
                                        type: 0,
                                        assetKey: "stoneFourthAnimation",
                                        id: "stoneFourthAnimation1",
                                        isVisible: !1,
                                        x: 142,
                                        y: 136,
                                        angle: 45,
                                        anchorX: .5,
                                        anchorY: .5
                                    }, {
                                        type: 0,
                                        assetKey: "stoneFourthAnimation",
                                        id: "stoneFourthAnimation2",
                                        isVisible: !1,
                                        x: 210,
                                        y: 136,
                                        angle: 45,
                                        anchorX: .5,
                                        anchorY: .5
                                    }, {
                                        type: 0,
                                        assetKey: "stoneFourthAnimation",
                                        id: "stoneFourthAnimation3",
                                        isVisible: !1,
                                        x: 276,
                                        y: 136,
                                        angle: 45,
                                        anchorX: .5,
                                        anchorY: .5
                                    }, {
                                        type: 0,
                                        assetKey: "winFourthContainer",
                                        id: "winFourthContainer"
                                    }]
                                }]
                            }, {
                                type: 1,
                                id: "jackpotThirdWinContainer",
                                x: 0,
                                y: 200,
                                anchorX: .5,
                                anchorY: .5,
                                isVisible: !1,
                                contents: [{
                                    type: 2,
                                    x: 205,
                                    y: 75,
                                    anchorX: .5,
                                    anchorY: .5,
                                    "class": "winText winThirdText"
                                }, {
                                    type: 1,
                                    id: "jackpotThirdInfoContainer",
                                    x: 0,
                                    y: 0,
                                    contents: [{
                                        type: 0,
                                        x: 210,
                                        y: 0,
                                        anchorX: .5,
                                        anchorY: .5,
                                        assetKey: "thirdNameAnimation",
                                        id: "thirdNameAnimation"
                                    }, {
                                        type: 0,
                                        assetKey: "stoneThirdAnimation",
                                        id: "stoneThirdAnimation1",
                                        isVisible: !1,
                                        x: 142,
                                        y: 136,
                                        angle: 45,
                                        anchorX: .5,
                                        anchorY: .5
                                    }, {
                                        type: 0,
                                        assetKey: "stoneThirdAnimation",
                                        id: "stoneThirdAnimation2",
                                        isVisible: !1,
                                        x: 210,
                                        y: 136,
                                        angle: 45,
                                        anchorX: .5,
                                        anchorY: .5
                                    }, {
                                        type: 0,
                                        assetKey: "stoneThirdAnimation",
                                        id: "stoneThirdAnimation3",
                                        isVisible: !1,
                                        x: 276,
                                        y: 136,
                                        angle: 45,
                                        anchorX: .5,
                                        anchorY: .5
                                    }, {
                                        type: 0,
                                        assetKey: "winThirdContainer",
                                        name: "winThirdContainer"
                                    }]
                                }]
                            }, {
                                type: 1,
                                id: "jackpotSecondWinContainer",
                                x: 0,
                                y: 400,
                                anchorX: .5,
                                anchorY: .5,
                                isVisible: !1,
                                contents: [{
                                    type: 2,
                                    x: 205,
                                    y: 75,
                                    anchorX: .5,
                                    anchorY: .5,
                                    "class": "winText winSecondText"
                                }, {
                                    type: 1,
                                    id: "jackpotSecondInfoContainer",
                                    x: 0,
                                    y: 0,
                                    contents: [{
                                        type: 0,
                                        x: 210,
                                        y: 0,
                                        anchorX: .5,
                                        anchorY: .5,
                                        assetKey: "secondNameAnimation",
                                        id: "secondNameAnimation"
                                    }, {
                                        type: 0,
                                        assetKey: "stoneSecondAnimation",
                                        id: "stoneSecondAnimation1",
                                        isVisible: !1,
                                        x: 142,
                                        y: 136,
                                        angle: 45,
                                        anchorX: .5,
                                        anchorY: .5
                                    }, {
                                        type: 0,
                                        assetKey: "stoneSecondAnimation",
                                        id: "stoneSecondAnimation2",
                                        isVisible: !1,
                                        x: 210,
                                        y: 136,
                                        angle: 45,
                                        anchorX: .5,
                                        anchorY: .5
                                    }, {
                                        type: 0,
                                        assetKey: "stoneSecondAnimation",
                                        id: "stoneSecondAnimation3",
                                        isVisible: !1,
                                        x: 276,
                                        y: 136,
                                        angle: 45,
                                        anchorX: .5,
                                        anchorY: .5
                                    }, {
                                        type: 0,
                                        assetKey: "winSecondContainer",
                                        id: "winSecondContainer"
                                    }]
                                }]
                            },
                            {
                                type: 1,
                                id: "jackpotFirstWinContainer",
                                isVisible: !1,
                                x: 0,
                                y: 600,
                                contents: [{
                                    type: 2,
                                    x: 205,
                                    y: 75,
                                    anchorX: .5,
                                    anchorY: .5,
                                    "class": "winText winFirstText"
                                }, {
                                    type: 1,
                                    id: "jackpotFirstInfoContainer",
                                    x: 0,
                                    y: 0,
                                    contents: [{
                                        type: 0,
                                        x: 210,
                                        y: 0,
                                        anchorX: .5,
                                        anchorY: .5,
                                        assetKey: "firstNameAnimation",
                                        id: "firstNameAnimation"
                                    }, {
                                        type: 0,
                                        assetKey: "stoneFirstAnimation",
                                        id: "stoneFirstAnimation1",
                                        isVisible: !1,
                                        x: 142,
                                        y: 136,
                                        angle: 45,
                                        anchorX: .5,
                                        anchorY: .5
                                    }, {
                                        type: 0,
                                        assetKey: "stoneFirstAnimation",
                                        id: "stoneFirstAnimation2",
                                        isVisible: !1,
                                        x: 210,
                                        y: 136,
                                        angle: 45,
                                        anchorX: .5,
                                        anchorY: .5
                                    }, {
                                        type: 0,
                                        assetKey: "stoneFirstAnimation",
                                        id: "stoneFirstAnimation3",
                                        isVisible: !1,
                                        x: 276,
                                        y: 136,
                                        angle: 45,
                                        anchorX: .5,
                                        anchorY: .5
                                    }, {
                                        type: 0,
                                        assetKey: "winFirstContainer",
                                        id: "winFirstContainer"
                                    }]
                                }]
                            }, {
                                type: 0,
                                assetKey: "winFourthNoactiveContainer",
                                id: "winFourthNoactiveContainer",
                                y: -18
                            }, {
                                type: 0,
                                assetKey: "winThirdNoactiveContainer",
                                id: "winThirdNoactiveContainer",
                                y: 182
                            }, {
                                type: 0,
                                assetKey: "winSecondNoactiveContainer",
                                id: "winSecondNoactiveContainer",
                                y: 382
                            }, {
                                type: 0,
                                assetKey: "winFirstNoactiveContainer",
                                id: "winFirstNoactiveContainer",
                                y: 582
                            }
                        ]
                    }, {
                        type: 0,
                        x: 800,
                        y: 500,
                        anchorX: .5,
                        anchorY: .5,
                        assetKey: "waitingBorder",
                        name: "waitingBorder"
                    }, {
                        type: 1,
                        name: "jackpotSymbolsContainer",
                        x: 340,
                        y: 160,
                        contents: []
                    }, {
                        type: 0,
                        assetKey: "fishAnimation0",
                        id: "fishAnimation",
                        name: "fishAnimation",
                        anchorX: .5,
                        anchorY: .5,
                        x: 120,
                        y: 147
                    }, {
                        type: 1,
                        name: "timeBorderContainer",
                        x: 1615,
                        y: 1015,
                        anchorX: .5,
                        anchorY: .5,
                        contents: [{
                            type: 2,
                            anchorX: .5,
                            anchorY: .5,
                            "class": "jackpotTimeAmount"
                        }, {
                            type: 0,
                            assetKey: "timeBorder",
                            name: "timeBorder",
                            anchorX: .5,
                            anchorY: .5
                        }]
                    }, {
                        type: 0,
                        assetKey: "jackpotBackgroundStatic",
                        name: "jackpotBackgroundStatic"
                    }]
                }
            ]
        }
    }
};
nge.App[nge.appNS].Com.Jackpot.View = nge.Com.Base.extend(function() {
    function d(a, b) {
        for (a += ""; a.length < b;) a = "0" + a;
        return a
    }
    var b = ["First", "Second", "Third", "Fourth"],
        h = {},
        g, f, a, c = [],
        e, k, l, m, q, n, p = [],
        r, u = [],
        t, v, w, x, y, z = {
            "4_3": 0,
            "3_3": 100,
            "4_2": 100,
            "3_2": 200,
            "2_3": 200,
            "4_1": 200,
            "3_1": 300,
            "2_2": 300,
            "1_3": 300,
            "4_0": 300,
            "0_3": 400,
            "1_2": 400,
            "2_1": 400,
            "3_0": 400,
            "2_0": 500,
            "1_1": 500,
            "0_2": 500,
            "0_1": 600,
            "1_0": 600,
            "0_0": 700
        },
        B = function() {
            b.forEach(function(a) {
                h[a] = {};
                h[a].win = nge.findOne("#jackpot" + a + "WinContainer");
                h[a].text = nge.findOne(".win" + a + "Text");
                h[a].info = nge.findOne("#jackpot" + a + "InfoContainer");
                h[a].info.tween = {};
                h[a].name = nge.findOne("#" + a.toLowerCase() + "NameAnimation")
            })
        };
    this.init = function() {
        a = this.getInstance("Cfg");
        r = this.getInstance("AnimationManager");
        r.configureManager(a);
        e = nge.findOne("^jackpotSymbolsContainer");
        m = nge.findOne("^jackpotShadowFinal");
        nge.findOne("^jackpotLoaderBg").visible = !1;
        l = nge.findOne(".jackpotTimeAmount");
        k = nge.findOne("^waitingBorder");
        t = nge.findOne("^jackpotPopupContainer");
        v = nge.findOne("^logoJackpotPopup");
        w = nge.findOne("^jackpotPopupWinText");
        x = nge.findOne("^jackpotWinContainer");
        y = nge.findOne("^jackpotContainer");
        B()
    };
    var A = function() {
            return b.filter(function(a) {
                return 3 <= p[0].open[a].count ? a : !1
            })[0]
        },
        C = function(a) {
            return p.filter(function(b) {
                return b.show.static.customKey === a
            })[0]
        },
        D = function(a) {
            k.visible = !1;
            a = C(a.customKey);
            A() || a.pressed || 0 < c.length || (a.pressed = !0, c.push(a), a = p.indexOf(a), nge.observer.fire("jackpot.pressedSymbol", a))
        },
        J = function() {
            var a = nge.game.cache.getBaseTexture("jackpotLoaderBg");
            if (a) {
                var b = a.baseTexture.source;
                a.destroy();
                window.Phaser.CanvasPool.removeByCanvas(b);
                nge.game.cache.removeImage("jackpotLoaderBg")
            }
        };
    this.showJackpotLayer = function() {
        q = !1;
        p = [];
        this.drawContainers();
        this.createJackpotSymbols();
        p.forEach(function(a) {
            a.show.animation.start()
        });
        J();
        n = !0
    };
    this.hideJackpotLayer = function() {
        u.forEach(function(a) {
            a.target.visible = !1
        });
        b.forEach(function(a) {
            h[a].win.visible = !0
        });
        this.showFinalPopup()
    };
    this.updateTimer = function(a) {
        a = Phaser.Math.clampBottom(a, 0);
        var b = Math.floor(a /
            60);
        a %= 60;
        n && (l.text = d(b, 2) + ":" + d(a, 2))
    };
    this.createJackpotSymbols = function() {
        for (var b = a.fieldWidth, c = a.fieldHeight, d = 0; d < b; d++)
            for (var e = 0; e < c; e++) {
                var f = this.createSymbol(d, e);
                p.push(f)
            }
    };
    var E = function(a, b, c, d) {
            return nge.objects.create(nge.Mlm.Objects.Image({
                assetKey: c,
                x: a,
                y: b,
                anchorX: .5,
                anchorY: .5,
                isVisible: !1
            }), d)
        },
        K = function(a) {
            return function(b) {
                b.frame = a
            }
        },
        I = function(a) {
            var b = r.createAnimationTween("jackpotSymbolShowAnimation", a.parent, a.position);
            b.delay(z[a.customKey]);
            b.onComplete.add(function() {
                a.visible = !0
            });
            return b
        },
        H = function(a, c, d) {
            var e = {};
            b.forEach(function(b) {
                e[b] = {};
                var c = a.position;
                c = E(c.x, c.y, "openSymbol" + b + "Static", a.parent);
                e[b].static = c;
                e[b].count = 0
            });
            return e
        };
    this.createSymbol = function(b, c) {
        var d = {},
            f = E(b * a.symbolWidth * 1.1, c * a.symbolHeight * 1.1, "jackpotSymbol", e);
        f.frame = 1;
        f.inputEnabled = !0;
        f.events.onInputOver.add(K(0));
        f.events.onInputOut.add(K(1));
        f.events.onInputDown.add(K(2));
        f.events.onInputDown.add(D);
        f.customKey = b + "_" + c;
        b = I(f);
        d.show = {
            static: f,
            animation: b
        };
        d.open = H(d.show.static);
        return d
    };
    this.showJackpotPopup = function() {
        r.startAnimation("fishAnimation");
        var a = nge.tween.add(t).to({
            y: t.y + 100
        }, 60, nge.Lib.Tween.Easing.Exponential.In).to({
            y: -1500
        }, 600, nge.Lib.Tween.Easing.Exponential.InOut);
        a.delay(1E3);
        a.start();
        nge.rafSetTimeout(this.showJackpotLayer, 1300)
    };
    var G = function() {
        var a = nge.tween.add(t).to({
            scaleX: 1.2,
            scaleY: 1.2
        }, 200, nge.Lib.Tween.Easing.Quartic.In).to({
            scaleX: .01,
            scaleY: .01
        }, 400, nge.Lib.Tween.Easing.Quartic.Out);
        nge.objects.create(nge.Mlm.Objects.Button({
            assetKey: "okButton",
            x: 0,
            y: 282,
            anchorX: .5,
            anchorY: .5,
            btnFrames: {
                over: 0,
                out: 1,
                down: 2
            },
            action: function() {
                a.start()
            }
        }), t);
        a.onComplete.add(function() {
            t.visible = !1;
            nge.localData.set("jackpot.waitingForExit", !0);
            nge.observer.fire("balanceRequest")
        })
    };
    this.showFinalPopup = function() {
        var a = t.scaleX,
            b = t.scaleY;
        nge.observer.fire("jackpot.finalPopup.show");
        t.parent.bringToTop(t);
        v.visible = !1;
        t.y = 500;
        t.scale.set(0);
        t.visible = !0;
        G();
        var c = nge.localData.get("balance.currency");
        w.text = f + c;
        nge.tween.add(t).to({
            scaleX: 1.2 * a,
            scaleY: 1.2 *
                b
        }, 400, nge.Lib.Tween.Easing.Quartic.Out).to({
            scaleX: a,
            scaleY: b
        }, 200, nge.Lib.Tween.Easing.Quartic.Out).start()
    };
    var F = function(a) {
            return p.filter(function(b) {
                return b.open[a].animated
            })
        },
        S = function(a, b) {
            nge.observer.fire("jackpot.win");
            a.forEach(function(a) {
                var c = E(a.show.static.x + 340, a.show.static.y + 160, "symbol" + b + "Static");
                c.parent.bringToTop(c);
                c.visible = !0;
                var d = r.createAnimationTween("magicAnimation", c.parent, c.position);
                d.repeat(2);
                a = r.createScaleTween(c, 1.1, 1200, 2);
                a.onStart.add(function() {
                    d.start()
                });
                u.push(a);
                c = h[b].info;
                var e = h[b].text,
                    f = c.generateTexture();
                c.visible = !1;
                e.parent.bringToTop(e);
                e.parent.parent.bringToTop(e.parent);
                m.visible = !0;
                c = E(e.x, e.y, "1px_empty", e.parent, !0);
                c.loadTexture(f);
                c.visible = !0;
                c.scale.x = 1;
                c.scale.y = 1;
                r.createScaleTween(c, 1.1, 1200, 2).start();
                a.start()
            })
        },
        N = function() {
            var a = A();
            if (a && !q) {
                q = !0;
                var b = F(a);
                nge.rafSetTimeout(this.showAllSymbols, 1300);
                nge.rafSetTimeout(function() {
                    S(b, a)
                }, 3300);
                nge.observer.fire("jackpot.hide", null, 8300)
            }
        }.bind(this),
        P = function(a, b) {
            var c =
                a.show.static.parent,
                d = a.show.static.position,
                e = "symbolOpen" + b + "Animation",
                f = nge.findOne("#stone" + b + "Animation" + p[0].open[b].count),
                g = x.position,
                k = h[b].win.position,
                l = f.x + g.x + k.x;
            g = f.y + g.y + k.y;
            f = r.createAnimationTween("stone" + b + "Animation", f.parent, f.position);
            var m = r.createAnimationTween(e, c, d);
            if (h[b].info.tween.isRunning) var n = r.createAnimationFlowTween("stone" + b + "FlyAnimation", [], [f], c, d, {
                x: l,
                y: g
            });
            else e = r.createScaleTween(h[b].name, 1.3, 1200), h[b].info.tween = e, n = r.createAnimationFlowTween("stone" +
                b + "FlyAnimation", [], [f, e], c, d, {
                    x: l,
                    y: g
                });
            c = r.createAnimationFlowTween("symbolStartOpenAnimation", [], [m, "magicAnimation", n], c, d);
            n.target.position.x = a.show.static.x + a.show.static.parent.x;
            n.target.position.y = a.show.static.y + a.show.static.parent.y;
            y.add(n.target);
            m.onComplete.add(function() {
                a.open[b].static.visible = !0;
                m.target.visible = !1;
                N()
            });
            c.onStart.add(function() {
                n.target.parent.bringToTop(n.target)
            });
            return c
        },
        M = function(a, c, d) {
            var e = p[c];
            a = b[+a - 1];
            e && e.open.animated || (e.open.animated = !0, a = r.createAnimationFlowTween("symbolStartOpenAnimation",
                [], ["symbolOpen" + a + "Animation"], e.show.static.parent, e.show.static.position), a.delay(d[e.show.static.customKey]), e.open.animation = a, a.onComplete.add(function() {
                e.show.static.visible = !1
            }), a.start(), n = !1)
        };
    this.showAllSymbols = function() {
        n && g.forEach(function(a, b) {
            M(a, b, z)
        });
        n = !1
    };
    this.showSymbol = function(a) {
        var d = b[+a.fieldValue - 1],
            e = c.splice(0, 1)[0];
        a.fields && (g = a.fields, f = a.win);
        p[0].open[d].count++;
        nge.observer.fire("jackpot.openSymbol" + p[0].open[d].count);
        e.open.animation = P(e, d);
        e.show.static.visible = !1;
        e.open.animation.start();
        e.open[d].animated = !0;
        e.open.animated = !0
    };
    this.drawContainers = function() {
        var a = nge.localData.get("balance.currency");
        nge.localData.get("jackpot.jackpots").forEach(function(c, d) {
            if (d = b[d]) h[d].text.text = c.value + " " + a, h[d].win.visible = "true" === c.active
        })
    };
    this.showSymbolsOnTimeFinish = function() {
        n = !1;
        var a = {},
            b = [],
            c;
        for (c in z) b.push(c);
        b.sort();
        b.forEach(function(b, c) {
            a[b] = 100 * c
        });
        p.forEach(function(b, c) {
            b.open.animated || (A() ? M(g[c], c, a) : D(b.show.static))
        })
    };
    this.clear = function() {
        p = [];
        u = h = k = y = _jackpotPopupWinContainer = m = e = x = t = l = null
    }
});
nge.App[nge.appNS].Com.JackpotLoader = {};
nge.App[nge.appNS].Com.JackpotLoader.Controller = nge.Com.Base.extend(function() {
    var d = !1;
    this.create = function() {
        d || this.subscribe();
        d = !0
    };
    this.subscribe = function() {
        nge.observer.add("StatesManager.create.end", function(b) {
            nge.rafSetTimeout(function() {
                nge.statesManager.display("jackpot", "transition")
            }, 30)
        })
    }
});
nge.App[nge.appNS].Com.JackpotLoader.Tpl = function() {
    for (var d = nge.appPath + "img/atlases/", b = nge.appPath + "img/jackpot/", h = {
            assets: {
                name: "assets",
                contents: []
            },
            objects: {}
        }, g = nge.localData.get("settings.imageQuality"), f = {
            low: 1,
            medium: 1,
            hd: 2,
            high: 3
        }, a = 0; a < f[g]; a++) h.assets.contents.push({
        key: "jackpotsMain" + a,
        atlas: d + "jackpotsMain" + a + ".json",
        fullPath: d + "jackpotsMain" + a + ".png"
    });
    h.assets.contents.push({
        key: "jackpotBackgroundStatic",
        fullPath: b + "images/background.png"
    });
    h.assets.contents.push({
        key: "symbolWinAnimation",
        fullPath: b + "movies/symbolWinAnimation.png",
        width: 1696,
        height: 1313,
        frameWidth: 424,
        frameHeight: 164
    });
    h.assets.contents.push({
        key: "magicAnimation",
        fullPath: b + "movies/magicAnimation.png",
        width: 1824,
        height: 1824,
        frameWidth: 304,
        frameHeight: 304
    });
    h.assets.contents.push({
        key: "fishAnimation0",
        fullPath: b + "movies/fishAnimation0.png",
        width: 2044,
        height: 1776,
        frameWidth: 292,
        frameHeight: 296
    });
    h.assets.contents.push({
        key: "fishAnimation1",
        fullPath: b + "movies/fishAnimation1.png",
        width: 2044,
        height: 1776,
        frameWidth: 292,
        frameHeight: 296
    });
    h.assets.contents.push({
        key: "symbolOpenFourthAnimation",
        fullPath: b + "movies/symbolOpenDiamondAnimation.png",
        width: 1904,
        height: 1480,
        frameWidth: 272,
        frameHeight: 296
    });
    h.assets.contents.push({
        key: "symbolOpenThirdAnimation",
        fullPath: b + "movies/symbolOpenGoldAnimation.png",
        width: 1904,
        height: 1480,
        frameWidth: 272,
        frameHeight: 296
    });
    h.assets.contents.push({
        key: "symbolOpenSecondAnimation",
        fullPath: b + "movies/symbolOpenSilverAnimation.png",
        width: 1904,
        height: 1480,
        frameWidth: 272,
        frameHeight: 296
    });
    h.assets.contents.push({
        key: "symbolOpenFirstAnimation",
        fullPath: b + "movies/symbolOpenRedAnimation.png",
        width: 1904,
        height: 1480,
        frameWidth: 272,
        frameHeight: 296
    });
    return h
};
nge.App[nge.appNS].Com.JackpotStatusPanel = {};
nge.App[nge.appNS].Com.JackpotStatusPanel.Controller = nge.Com.Base.extend(function() {
    var d, b, h = null;
    this.create = function() {
        this.createDefault();
        d || this.subscribe();
        this.initLayers();
        return d = !0
    };
    this.update = function(a) {
        d && h && b.update(a.deltaT)
    };
    var g = function() {
            h && b.hidePanel()
        },
        f = function() {
            h && b.showPanel()
        },
        a = function(a) {
            h = a;
            nge.observer.fire("jackpotStatusPanel.showed");
            b.handleResponse(a)
        };
    this.subscribe = function() {
        nge.observer.add("slotMachine.jackpotResponse", a);
        nge.observer.add("paytable.show",
            g);
        nge.observer.add("paytable.hide", f);
        this.customSubscribe()
    };
    this.customSubscribe = function() {};
    this.initLayers = function() {
        b = this.getInstance("Service");
        b.init()
    }
});
nge.App[nge.appNS].Com.JackpotStatusPanel.Service = nge.Com.Base.extend(function() {
    var d, b;
    this.init = function() {
        d = this.getInstance("View");
        b = 0;
        d.init()
    };
    this.update = function(h) {
        b += h;
        1E3 <= b && (d.decrementTimer(Math.floor(b / 1E3)), b = 0)
    };
    this.handleResponse = function(b) {
        this.switchJackpotStatusPanelVisibility(b);
        this.updateJackpotWinAmounts(b);
        this.updateTimer(b)
    };
    this.switchJackpotStatusPanelVisibility = function(b) {
        d.switchJackpotStatusPanelVisibility(b.result)
    };
    this.showPanel = function() {
        d.showPanel()
    };
    this.hidePanel =
        function() {
            d.hidePanel()
        };
    this.updateJackpotWinAmounts = function(b) {
        d.updateJackpotInfo(b.data.jackpots)
    };
    this.updateTimer = function(b) {
        if (b = parseInt(b.data.timer || 0, 10)) b += 999, 30999 <= b && (b = 3E4), d.updateTimer(Math.floor(b / 1E3))
    }
});
nge.App[nge.appNS].Com.JackpotStatusPanel.Tpl = function() {
    for (var d = nge.appPath + "img/jackpotStatusPanel/", b = {
            styles: {
                ".jackpotValue": {
                    style: {
                        font: '17pt "futuraptheavy"',
                        fill: "#e5e7db"
                    }
                },
                ".jackpotValue.currency": {
                    style: {
                        font: '16pt "futuraptheavy"',
                        fill: "#fec36d"
                    }
                },
                ".badgeText": {
                    style: {
                        font: '17pt "futuraptheavy"',
                        fill: "#110F1A"
                    }
                },
                ".left": {
                    style: {
                        align: "left"
                    }
                },
                ".right": {
                    style: {
                        align: "right"
                    }
                }
            },
            assets: {
                name: "assets",
                contents: [{
                        key: "jackpotStatusLeftBg",
                        fullPath: d + "images/leftPanel.png"
                    }, {
                        key: "jackpotStatusRightBg",
                        fullPath: d + "images/rightPanel.png"
                    }, {
                        key: "jackpotStatusTopLeftBadge",
                        fullPath: d + "images/red.png"
                    }, {
                        key: "jackpotStatusBottomLeftBadge",
                        fullPath: d + "images/silver.png"
                    }, {
                        key: "jackpotStatusTopRightBadge",
                        fullPath: d + "images/gold.png"
                    }, {
                        key: "jackpotStatusBottomRightBadge",
                        fullPath: d + "images/platinum.png"
                    }, {
                        key: "jackpotHoverBottomLeft",
                        fullPath: d + "images/silverPanelShadow.png"
                    }, {
                        key: "jackpotHoverTopLeft",
                        fullPath: d + "images/redPanelShadow.png"
                    }, {
                        key: "jackpotHoverBottomRight",
                        fullPath: d + "images/platinumDiamandPanelShadow.png"
                    },
                    {
                        key: "jackpotHoverTopRight",
                        fullPath: d + "images/goldPanelShadow.png"
                    }
                ]
            },
            objects: {
                name: "objects",
                contents: [{
                    type: 1,
                    isVisible: !1,
                    name: "jackpotStatusContainer",
                    anchorX: .5,
                    x: 964,
                    contents: [{
                            type: 0,
                            assetKey: "jackpot_000",
                            name: "jackpotStatusTimer",
                            x: -4,
                            y: 0,
                            anchorX: .5,
                            anchorY: 0
                        }, {
                            type: 1,
                            name: "jackpotStatusTopLeftContainer",
                            x: -407,
                            y: 6,
                            contents: [{
                                type: 0,
                                name: "jackpotHoverTopLeft",
                                assetKey: "jackpotHoverTopLeft"
                            }, {
                                type: 2,
                                "class": "badgeText jackpotTopLeftBadgeText",
                                x: 65,
                                y: 24,
                                anchorX: .5,
                                anchorY: .4
                            }, {
                                type: 0,
                                name: "jackpotStatusTopLeftBadge",
                                assetKey: "jackpotStatusTopLeftBadge",
                                x: 65,
                                y: 24,
                                anchorX: .5,
                                anchorY: .5
                            }, {
                                type: 2,
                                "class": "jackpotValue jackpotTopLeftBalanceNumber",
                                x: 251,
                                y: 26,
                                text: "0.00",
                                anchorX: 1,
                                anchorY: .5
                            }, {
                                type: 2,
                                name: "jackpotTopLeftCurrency",
                                "class": "jackpotValue currency",
                                x: 303,
                                y: 26,
                                anchorX: 1,
                                anchorY: .5
                            }]
                        }, {
                            type: 1,
                            name: "jackpotStatusBottomLeftContainer",
                            x: -407,
                            y: 50,
                            contents: [{
                                    type: 0,
                                    name: "jackpotHoverBottomLeft",
                                    assetKey: "jackpotHoverBottomLeft"
                                }, {
                                    type: 2,
                                    "class": "badgeText jackpotBottomLeftBadgeText",
                                    x: 65,
                                    y: 20,
                                    anchorX: .5,
                                    anchorY: .4
                                },
                                {
                                    type: 0,
                                    name: "jackpotStatusBottomLeftBadge",
                                    assetKey: "jackpotStatusBottomLeftBadge",
                                    x: 65,
                                    y: 20,
                                    anchorX: .5,
                                    anchorY: .5
                                }, {
                                    type: 2,
                                    "class": "jackpotValue jackpotBottomLeftBalanceNumber",
                                    x: 251,
                                    y: 24,
                                    text: "0.00",
                                    anchorX: 1,
                                    anchorY: .5
                                }, {
                                    type: 2,
                                    name: "jackpotBottomLeftCurrency",
                                    "class": "jackpotValue currency",
                                    x: 303,
                                    y: 24,
                                    anchorX: 1,
                                    anchorY: .5
                                }
                            ]
                        }, {
                            type: 1,
                            name: "jackpotStatusTopRightContainer",
                            x: 80,
                            y: 6,
                            contents: [{
                                type: 0,
                                name: "jackpotHoverTopRight",
                                assetKey: "jackpotHoverTopRight"
                            }, {
                                type: 2,
                                "class": "badgeText jackpotTopRightBadgeText",
                                x: 254,
                                y: 24,
                                anchorX: .5,
                                anchorY: .4
                            }, {
                                type: 0,
                                name: "jackpotStatusTopRightBadge",
                                assetKey: "jackpotStatusTopRightBadge",
                                x: 254,
                                y: 24,
                                anchorX: .5,
                                anchorY: .5
                            }, {
                                type: 2,
                                "class": "jackpotValue jackpotTopRightBalanceNumber",
                                x: 139,
                                y: 26,
                                text: "0.00",
                                anchorX: 1,
                                anchorY: .5
                            }, {
                                type: 2,
                                name: "jackpotTopRightCurrency",
                                "class": "jackpotValue currency",
                                x: 188,
                                y: 26,
                                anchorX: 1,
                                anchorY: .5
                            }]
                        }, {
                            type: 1,
                            name: "jackpotStatusBottomRightContainer",
                            x: 80,
                            y: 50,
                            contents: [{
                                type: 0,
                                name: "jackpotHoverBottomRight",
                                assetKey: "jackpotHoverBottomRight",
                                x: -16
                            }, {
                                type: 2,
                                "class": "badgeText jackpotBottomRightBadgeText",
                                x: 254,
                                y: 20,
                                anchorX: .5,
                                anchorY: .4
                            }, {
                                type: 0,
                                name: "jackpotStatusBottomRightBadge",
                                assetKey: "jackpotStatusBottomRightBadge",
                                x: 254,
                                y: 20,
                                anchorX: .5,
                                anchorY: .5
                            }, {
                                type: 2,
                                "class": "jackpotValue jackpotBottomRightBalanceNumber",
                                x: 139,
                                y: 24,
                                text: "0.00",
                                anchorX: 1,
                                anchorY: .5
                            }, {
                                type: 2,
                                name: "jackpotBottomRightCurrency",
                                "class": "jackpotValue currency",
                                x: 188,
                                y: 24,
                                anchorX: 1,
                                anchorY: .5
                            }]
                        }, {
                            type: 0,
                            x: 42,
                            y: 0,
                            name: "jackpotStatusRightBg",
                            assetKey: "jackpotStatusRightBg"
                        },
                        {
                            type: 0,
                            x: -416,
                            y: 0,
                            name: "jackpotStatusLeftBg",
                            assetKey: "jackpotStatusLeftBg"
                        }
                    ]
                }]
            }
        }, h = 0; 30 >= h; h++) b.assets.contents.push({
        key: "jackpot_" + nge.Lib.Helper.LdgZero(h, 3),
        fullPath: d + "movies/jackpot_" + nge.Lib.Helper.LdgZero(h, 3) + ".png"
    });
    return b
};
nge.App[nge.appNS].Com.JackpotStatusPanel.View = nge.Com.Base.extend(function() {
    this.updateWinAmountsDuration = 800;
    this.badgeTextOffsetPx = 5;
    this.disableLogo = !0;
    var d = this,
        b, h, g, f = 0,
        a = !1,
        c = {
            TopLeft: {},
            BottomLeft: {},
            TopRight: {},
            BottomRight: {}
        };
    this.init = function() {
        h = nge.findOne("^playareaLogo");
        b = nge.findOne("^jackpotStatusContainer");
        b.visible = !1;
        g = nge.findOne("^jackpotStatusTimer");
        g.scale.set(1 / nge.assets.getQualityFactor());
        for (var a in c) c[a].amountText = nge.findOne(".jackpot".concat(a, "BalanceNumber")),
            c[a].badgeText = nge.findOne(".jackpot".concat(a, "BadgeText")), c[a].hover = nge.findOne("^jackpotHover".concat(a)), c[a].badge = nge.findOne("^jackpotStatus".concat(a, "Badge")), c[a].badgeText && c[a].badge && c[a].badgeText.maxSizeResize("width", c[a].badge.width - 2 * d.badgeTextOffsetPx)
    };
    this.switchJackpotStatusPanelVisibility = function(c) {
        b && (b.visible = "true" === c && !a);
        h && d.disableLogo && (h.visible = "true" !== c)
    };
    this.showPanel = function() {
        a = !1;
        b.visible = !0
    };
    this.hidePanel = function() {
        a = !0;
        b.visible = !1
    };
    var e = function(a,
            b) {
            c[a] && c[a].amountText && (c[a].amountText.text = b.toFixed(2))
        },
        k = function(a, b) {
            if (c[a] && c[a].amountText) {
                var d = parseFloat(c[a].amountText.text);
                isNaN(d) && (d = 0);
                var f = parseFloat(b.value);
                d !== f && (b = nge.tween.add({
                    amount: d
                }).to({
                    amount: f
                }, this.updateWinAmountsDuration), b.onUpdateCallback(function(b, c, d) {
                    e(a, d.percent * (d.vEnd.amount - d.vStart.amount) + d.vStart.amount)
                }), b.onComplete.add(function() {
                    e(a, f)
                }), b.start())
            }
        }.bind(this);
    this.updateJackpotInfo = function(a) {
        var b = Object.getOwnPropertyNames(c);
        a.forEach(function(d,
            e) {
            d = b[e];
            c[d] && c[d].hover && (c[d].hover.visible = "true" !== a[e].active);
            k(b[e], a[e]);
            d = b[e];
            c[d] && c[d].badgeText && (c[d].badgeText.text = a[e].name)
        })
    };
    this.updateTimer = function(a) {
        f !== a && (f = a, g.loadTexture("jackpot_" + nge.Lib.Helper.LdgZero(Math.round(f), 3)))
    };
    this.decrementTimer = function(a) {
        f = Phaser.Math.clampBottom(f - a, 0);
        g.loadTexture("jackpot_" + nge.Lib.Helper.LdgZero(Math.round(f), 3))
    }
});
nge.App[nge.appNS].Com.JackpotStatusPanel.UI_v3 = {};
nge.App[nge.appNS].Com.JackpotStatusPanel.UI_v3.Blue = {};
nge.App[nge.appNS].Com.JackpotStatusPanel.UI_v3.Blue.Tpl = function() {
    var d = nge.App[nge.appNS].Com.JackpotStatusPanel.Tpl();
    d.styles[".jackpotValue"].style.fill = "#FFFFFF";
    d.styles[".jackpotValue.currency"].style.fill = "#CAEAFF";
    return d
};
nge.App[nge.appNS].Com.JackpotStatusPanel.UI_v3.Silver = {};
nge.App[nge.appNS].Com.JackpotStatusPanel.UI_v3.Silver.Tpl = function() {
    var d = nge.App[nge.appNS].Com.JackpotStatusPanel.Tpl();
    d.styles[".jackpotValue"].style.fill = "#FFFFFF";
    d.styles[".jackpotValue.currency"].style.fill = "#DDDDDD";
    return d
};
nge.App[nge.appNS].Com.Help = {};
nge.App[nge.appNS].Com.Help._Package = {
    name: "com.help",
    version: 1,
    requirments: {
        js: ["com/help/controller", "com/help/tpl"]
    }
};
nge.App[nge.appNS].Com.Help.Controller = nge.Com.Base.extend(function() {
    var d, b, h;
    this.curPage = 0;
    this._pages = 3;
    var g = null;
    this.create = function() {
        d = this;
        this.createDefault();
        var a = nge.localData.get("payout.cfg"),
            c = {},
            e = 0,
            f = a.length,
            l = 0;
        a: for (; l < f; l++) {
            var m = a[l].symbols,
                q = a[l].payout,
                n = a[l].matchCount,
                p = 0,
                r = m[0];
            if (0 !== q) {
                if (0 < n) r = "any_" + m.join("_"), p = n;
                else {
                    n = m.length;
                    for (var u = 0; u < n; u++) {
                        if (r !== m[u]) continue a;
                        p++
                    }
                }
                c[r] || (e++, c[r] = {}, c[r].awards = []);
                c[r].awards.push({
                    name: p,
                    value: q
                })
            }
        }
        h = c;
        b || d.subscribe();
        if (g = nge.findOne("^helpPagesContainer")) g.visible = !1;
        nge.localData.set("paytable.showed", !1);
        return b = !0
    };
    this.drawPaytable = function(a, b) {
        a || (a = "");
        b || (b = 1);
        var c = nge.localData.get("bet.value"),
            d;
        for (d in h) {
            var f = h[d].awards;
            if (f) var g = f.length;
            for (var q = 0; q < g; q++) {
                var n = f[q],
                    p = nge.findAll(".ps" + d + a + "-" + n.name),
                    r;
                for (r in p) p[r].text = n.value * c * b
            }
        }
    };
    this.show = function() {
        nge.observer.fire("button.disable", "auto");
        nge.observer.fire("betSettings.updateSliders");
        nge.observer.fire("settings.update");
        g.visible = !0;
        nge.findOne("^slotMachineContainer").visible = !1;
        d.drawAllPayOuts();
        nge.localData.set("paytable.showed", !0)
    };
    this.drawAllPayOuts = function() {
        this.drawPaytable();
        this.drawPaytable("b", 2);
        var a = nge.localData.get("lines.value");
        this.drawPaytable("s", a)
    };
    this.hide = function() {
        nge.observer.fire("button.enable", "auto");
        g.visible = !1;
        d.curPage = 0;
        nge.findOne("^slotMachineContainer").visible = !0;
        nge.localData.set("paytable.showed", !1)
    };
    this.showPage = function(a) {
        a || (a = d.curPage);
        nge.observer.fire("help.show.page",
            a);
        for (var b = 0; b < d._pages; b++) {
            var e = nge.findOne("^helpPage" + b);
            e && (e.visible = !1)
        }
        if (a = nge.findOne("^helpPage" + a)) a.visible = !0
    };
    var f = function() {
        0 > d.curPage && (d.curPage = d._pages - 1);
        d.curPage >= d._pages && (d.curPage = 0)
    };
    this.next = function() {
        d.curPage++;
        f();
        d.showPage()
    };
    this.back = function() {
        d.curPage--;
        f();
        d.showPage()
    };
    this.subscribe = function() {
        nge.observer.add("paytable.hide", this.hide);
        nge.observer.add("paytable.show", this.show);
        nge.observer.add("paytable.back", this.back);
        nge.observer.add("paytable.next",
            this.next);
        nge.observer.add("paytable.updatePayout", this.drawAllPayOuts);
        d.customSubscribe && d.customSubscribe()
    }
});
nge.App[nge.appNS].Com.Help.Tpl = function() {
    return {
        styles: {},
        assets: {
            name: "assets",
            contents: [{
                key: "help_group",
                fullPath: nge.appPath + "img/help/help_group.png"
            }]
        },
        objects: {
            name: "objects",
            contents: [{
                type: 1,
                isVisible: !1,
                name: "helpPagesContainer",
                contents: [{
                    type: 0,
                    name: "help_group",
                    assetKey: "help_group",
                    x: "0",
                    y: "0",
                    alpha: "1"
                }]
            }]
        }
    }
};
nge.App[nge.appNS].Com.Help.Mobile = {};
nge.App[nge.appNS].Com.Help.Mobile.Tpl = function() {
    return {
        styles: {},
        assets: {
            name: "assets",
            contents: [{
                key: "tabs_group",
                fullPath: nge.appPath + "img/help/tabs_group.png"
            }]
        },
        objects: {
            name: "objects",
            contents: [{
                type: 0,
                name: "tabs_group",
                assetKey: "tabs_group",
                x: "0",
                y: "0",
                alpha: "1"
            }]
        }
    }
};
nge.App[nge.appNS].Com.Help.UI_v3 = {};
nge.App[nge.appNS].Com.Help.UI_v3.Tpl = function() {
    return {
        styles: {},
        assets: {
            name: "assets",
            contents: [{
                key: "tabs_group",
                fullPath: nge.appPath + "img/help/tabs_group.png"
            }]
        },
        objects: {
            name: "objects",
            contents: [{
                type: 0,
                name: "tabs_group",
                assetKey: "tabs_group",
                x: "0",
                y: "0",
                alpha: "1"
            }]
        }
    }
};
nge.App[nge.appNS].Com.Info = {};
nge.App[nge.appNS].Com.Info.Controller = nge.Com.Base.extend(function() {
    var d = !1,
        b = this;
    this.service = null;
    this.create = function() {
        b.service || (b.service = b.getInstance("Service"));
        if (!b.service.checkPages()) return !1;
        d || b.subscribe();
        d = !0
    };
    this.next = function() {
        b.service.showNextPage()
    };
    this.previous = function() {
        b.service.showPreviousPage()
    };
    this.resetPages = function(d) {
        d && -1 !== d.indexOf("info") && b.service.resetPages(d)
    };
    this.subscribe = function() {
        nge.observer.add("info.next", b.next);
        nge.observer.add("info.previous",
            b.previous);
        nge.observer.add("layersSwitcher.show", b.resetPages)
    }
});
nge.App[nge.appNS].Com.Info.Service = Class.extend(function() {
    this.view = null;
    var d = this,
        b, h, g;
    this.checkPages = function() {
        d.view || (d.view = d.getInstance("View"));
        var a = nge.findOne("^pagesInfoContainer");
        h = a ? a.children.reverse() : [];
        g = (a = nge.findOne("^paginationInfoContainer")) ? a.children.reverse() : [];
        if (0 === h.length || 0 === g.length) return !1;
        d.resetPages();
        return !0
    };
    this.showNextPage = function() {
        d.showPageByNum(++b)
    };
    this.showPreviousPage = function() {
        d.showPageByNum(--b)
    };
    this.showPageByNum = function(a) {
        var c =
            h.length - 1;
        a > c ? a = 0 : 0 > a && (a = c);
        b = a;
        f();
        d.view.switchElementVisibility(h[b], !0);
        d.view.switchElementFrame(g[b], 1);
        nge.observer.fire("info.page.change", b)
    };
    var f = function() {
        h.forEach(function(a) {
            d.view.switchElementVisibility(a, !1)
        });
        g.forEach(function(a) {
            d.view.switchElementFrame(a, 0)
        })
    };
    this.resetPages = function() {
        b = 0;
        d.showPageByNum(b)
    }
});
nge.App[nge.appNS].Com.Info.View = Class.extend(function() {
    this.switchElementVisibility = function(d, b) {
        d.visible = b
    };
    this.switchElementFrame = function(d, b) {
        d.frame = b
    }
});
nge.App[nge.appNS].Com.InfoPanel = {};
nge.App[nge.appNS].Com.InfoPanel._Package = {
    name: "com.infoPanel",
    version: 1,
    requirments: {
        js: ["com/infoPanel/controller", "com/infoPanel/tpl"]
    }
};
nge.App[nge.appNS].Com.InfoPanel.Controller = nge.Com.Base.extend(function() {
    var d, b, h, g, f = {
            x: !1,
            anchorX: !1
        },
        a = {
            up: !1,
            down: !1
        },
        c = {
            up: !1,
            down: !1
        };
    this.defaultColor = "#ffffff";
    this.defaultColorStroke = "rgba(255, 255, 255, 1)";
    this.defaultStrokeThickness = 0;
    this.create = function() {
        d = this;
        this.createDefault();
        h = nge.findOne(".infoPanelTextUp");
        g = nge.findOne(".infoPanelTextDown");
        if (!g || !h) return !1;
        for (var a in f) f[a] = h[a];
        b || nge.observer.add("infoPanel.showText", d.show);
        return b = !0
    };
    var e = function(a) {
            a = "down" ===
                a.position ? g : h;
            a.clearColors();
            a.strokeThickness = d.defaultStrokeThickness
        },
        k = function(a) {
            for (var b in f) a[b] = f[b]
        };
    this.show = function(b) {
        var m = d.getInstance("Model", !1, b);
        e(m);
        var n = "down" === m.position ? "down" : "up";
        b = "down" === n ? g : h;
        var p = b.width;
        b.attr("style.font", m.font);
        b.text = m.text;
        if (m.colors) {
            for (var r = m.colors.length, u = 0; u < r; u++) {
                var t = m.colors[u];
                b.addColor(t.color, t.from)
            }
            b.text += " "
        }
        if (m.stroke)
            for (r = m.stroke.length, u = 0; u < r; u++) t = m.stroke[u], b.addStrokeColor(t.color, t.from);
        r = !1;
        0 < m.text.length &&
            (m = nge.Lib.Time.get(), r = m < a[n] + 150 && 1 / 1.3 <= Math.abs(p / b.width) && 1.3 >= Math.abs(p / b.width), a[n] = m, r && (l(n), 0 !== b.anchor.x && (b.anchor.x = 0, b.x = f.x - p / 2), c[n] = nge.tween.add(b).to({
                x: f.x - b.width / 2
            }, 150), c[n].onComplete.addOnce(function() {
                c[n] = null
            }), c[n].start()));
        r || (l(n), k(b))
    };
    var l = function(a) {
        c[a] && (c[a].stop(), c[a] = null)
    }
});
nge.App[nge.appNS].Com.InfoPanel.Model = function(d) {
    d || (d = {});
    return {
        text: nge.Lib.Helper.recursiveGet("text", d, ""),
        font: nge.Lib.Helper.recursiveGet("font", d, nge.Lib.Helper.recursiveGet("fontSize", d, "down" === d.position ? 16 : 24) + 'pt "roboto_condensed_regular"'),
        position: nge.Lib.Helper.recursiveGet("position", d, "down"),
        colors: nge.Lib.Helper.recursiveGet("colors", d, []),
        stroke: nge.Lib.Helper.recursiveGet("stroke", d, "#ffff00"),
        strokeThickness: nge.Lib.Helper.recursiveGet("strokeThickness", d, 0)
    }
};
nge.App[nge.appNS].Com.InfoPanel.Mobile = {};
nge.App[nge.appNS].Com.InfoPanel.Mobile.Model = function(d) {
    d || (d = {});
    "up" === d.position && d.colors && (d.colors[0].color = "#fff");
    "down" === d.position && d.colors && (d.colors[0].color = "#fff");
    "down" === d.position && d.fontSize && (d.fontSize = 20);
    return {
        text: nge.Lib.Helper.recursiveGet("text", d, ""),
        font: nge.Lib.Helper.recursiveGet("font", d, nge.Lib.Helper.recursiveGet("fontSize", d, "down" === d.position ? 20 : 32) + 'pt "roboto_condensed_regular"'),
        position: nge.Lib.Helper.recursiveGet("position", d, "down"),
        colors: nge.Lib.Helper.recursiveGet("colors",
            d, []),
        stroke: nge.Lib.Helper.recursiveGet("stroke", d, "#ffff00"),
        strokeThickness: nge.Lib.Helper.recursiveGet("strokeThickness", d, 0)
    }
};
nge.App[nge.appNS].Com.InfoPanel.Mobile.Tpl = function() {
    return {
        styles: {},
        assets: {
            name: "assets",
            contents: []
        },
        objects: {
            name: "objects",
            contents: []
        }
    }
};
nge.App[nge.appNS].Com.Load = {};
nge.App[nge.appNS].Com.Load._Package = {
    name: "com.load",
    version: 1,
    requirments: {
        js: ["com/load/tpl"]
    }
};
nge.App[nge.appNS].Com.Load.Controller = nge.Com.Load.Controller.extend(function() {
    this.preload = function() {
        this.super.preload();
        nge.progressBar.setLoadedValue(5)
    };
    this.loadUpdate = function() {
        this.super.loadUpdate && this.super.loadUpdate();
        var d = Math.round(nge.game.load.progress / 20) + 5;
        5 < d && nge.progressBar.setLoadedValue(d)
    };
    this.create = function() {
        this.super.create();
        nge.progressBar.setLoadedValue(10)
    }
});
nge.App[nge.appNS].Com.Load.Cfg = Class.extend(function() {
    this.singleton = !0;
    var d = nge.appPath + "css/fonts/";
    this.fonts = {
        freesetboldc: d + "freeSet-Bold",
        roboto_condensed_regular: d + "roboto_condensed_regular",
        roboto_condensed_bold: d + "roboto_condensed_bold",
        franklin_gothic: d + "franklin_gothic",
        futurasbl: d + "franklin_gothic",
        futurasblcash: d + "futurasblcash",
        futuraptmedium: d + "futuraptmedium",
        futuraptheavy: d + "futuraptheavy",
        roboto_regular: d + "roboto_regular"
    };
    this.archives = []
});
nge.App[nge.appNS].Com.LoadAssets = {};
nge.App[nge.appNS].Com.LoadAssets.Controller = nge.Com.LoadAssets.Controller.extend(function() {
    this.preload = function() {
        nge.game.cache.checkImageKey("jackpotShadowStart") || nge.game.load.image("jackpotShadowStart", nge.Lib.Helper.create1PxPng(0, 0, 0, 230, !0));
        nge.game.cache.checkImageKey("jackpotShadowFinal") || nge.game.load.image("jackpotShadowFinal", nge.Lib.Helper.create1PxPng(0, 0, 0, 190, !0));
        this.super.preload();
        nge.progressBar.setLoadedValue(10)
    };
    this.loadUpdate = function() {
        this.super.loadUpdate && this.super.loadUpdate();
        var d = Math.round(.9 * nge.game.load.progress) + 10;
        10 < d && nge.progressBar.setLoadedValue(d)
    };
    this.create = function() {
        this.super.create();
        nge.progressBar.setLoadedValue(100)
    }
});
nge.App[nge.appNS].Com.LoadingBar = {};
nge.App[nge.appNS].Com.LoadingBar._Package = {
    name: "com.loadingBar",
    version: "",
    requirments: {
        js: ["com/loadingBar/controller"]
    }
};
nge.App[nge.appNS].Com.LoadingBar.Controller = nge.Com.Base.extend(function() {
    var d = null,
        b = [],
        h = 0,
        g = !1;
    this.preload = function() {
        this.super.preload();
        b = [];
        d && d.destroy(!0);
        d = null;
        nge.localData.get("loadingBar.generateBarOnPreload") && f()
    };
    var f = function(a) {
        b = [];
        d && d.destroy(!0);
        d = null;
        d = nge.objects.create("newLoadingBarContainer");
        var c = d.width * nge.assets.getQualityFactor(),
            e = nge.game.cache.getImage("loadingBarDot").width,
            f = 5 * nge.assets.getQualityFactor(),
            g = 10 * nge.assets.getQualityFactor();
        h = Math.round((c -
            g / 2) / (e + f));
        c = c - g / 2 - (e + f) * (h - 1) + e;
        for (e = 0; e < h; e++) {
            var m = nge.objects.create(nge.Mlm.Objects.Image({
                assetKey: "loadingBarDot",
                isVisible: a,
                x: c - g,
                y: 0,
                anchorX: .5,
                anchorY: .5
            }), null);
            m.width *= nge.assets.getQualityFactor();
            m.height *= nge.assets.getQualityFactor();
            b.push(m);
            d.children[0].children[0].addChild(m);
            b[e - 1] && m.alignTo(b[e - 1], Phaser.RIGHT_CENTER, f)
        }
    };
    this.create = function() {
        nge.localData.get("loadingBar.generateBarOnPreload") && f(!0);
        nge.localData.set("loadingBar.generateBarOnPreload", !1);
        g || this.subscribe();
        g = !0
    };
    this.loadUpdate = function() {
        if (d)
            for (var a = Math.round(nge.game.load.progress / 100 * h), c = 0; c < a; c++) b[c].visible = !0
    };
    this.subscribe = function() {
        nge.observer.add("loadingBar.generateLoaderBar", function(a) {
            f(a)
        })
    }
});
nge.App[nge.appNS].Com.Odometer = {};
nge.App[nge.appNS].Com.Odometer.Controller = nge.Com.Base.extend(function() {
    var d, b, h, g, f = function(a) {
            h.setText(a);
            h instanceof Phaser.BitmapText && (h.removeChildren(), h.purgeGlyphs())
        },
        a = function(a, b) {
            g.to && f(Math.ceil(g.to * b))
        },
        c = function() {
            g.to && (f(g.to), nge.observer.fire("odometer.completeValue", g))
        },
        e = function() {
            nge.observer.fire("odometer.complete", g)
        };
    this.effects = {
        none: function() {
            var b = nge.tween.add(h.scale).to(h.scale, g.duration, null, !0);
            b.onUpdateCallback(a, d);
            b.onComplete.add(c);
            b.onComplete.add(e)
        },
        jump: function() {
            var b = g.effect,
                f = Math.max(g.duration - 1200, 500);
            f = nge.tween.add(h.scale).to({
                x: b.scale,
                y: b.scale
            }, f, null, !0);
            f.onUpdateCallback(a, d);
            f.onComplete.add(c);
            b = nge.tween.add(h.scale).to({
                x: b.jumpScale,
                y: b.jumpScale
            }, 500, null, !1).to({
                x: 1,
                y: 1
            }, 700, null, !1);
            b.onComplete.add(e);
            f.chain(b)
        },
        linear: function() {
            var b = g.effect;
            b = nge.tween.add(h.scale).to({
                x: b.scale,
                y: b.scale
            }, g.duration, null, !0);
            b.onUpdateCallback(a, d);
            b.onComplete.add(c);
            b.onComplete.add(e)
        }
    };
    var k = function(a) {
            f(a)
        },
        l = function(a) {
            h =
                void 0;
            g = {};
            h = nge.find(a)
        },
        m = function(a) {
            g = a;
            if (!h) return console.log("Ododmeter.js._go: odometer requires target!");
            d.effects[a.effect.type]()
        };
    this.create = function() {
        this.createDefault();
        d = this;
        b || (b = !0, d.subscribe());
        h = void 0;
        g = {}
    };
    this.subscribe = function() {
        nge.observer.add("odometer.init", l);
        nge.observer.add("odometer.go", m);
        nge.observer.add("odometer.updateValue", k)
    }
});
nge.App[nge.appNS].Com.Offers = {};
nge.App[nge.appNS].Com.Offers._Package = {
    name: "com.offers",
    version: 1,
    requirments: {
        js: ["com/offers/controller", "com/offers/tpl"]
    }
};
nge.App[nge.appNS].Com.Offers.Controller = nge.Com.Base.extend(function() {
    var d = this,
        b = !1,
        h = !1,
        g = [],
        f = {
            bg: {
                name: "offersBG",
                o: !1
            },
            offersList: {
                name: "offersList",
                o: !1
            },
            offerStatistic: {
                name: "offerStatistic",
                o: !1
            },
            offerCancelConfirmation: {
                name: "offerCancelConfirmation",
                o: !1
            }
        };
    this.bgElements = [{
        key: "bg",
        alpha: .83
    }];
    this.objs = f;
    var a = 0,
        c, e = 0,
        k = !1,
        l, m = !1,
        q = !1,
        n = !1;
    this.preload = function() {
        nge.localData.set("freeGame.inProgress", !1);
        nge.localData.set("freeGame.amount", !1);
        l = !1;
        var a = nge.localData.get("actions");
        if (!a) return !1;
        g = [];
        for (var c = 0; c < a.length; c++) a[c].type && "offer" === a[c].type && g.push(a[c]);
        if (0 === g.length) return !1;
        b || (nge.observer.add("win", N), nge.observer.add("offer.finishOfferResponse", y), nge.observer.add("offers.list.hideAll", t), nge.observer.add("offers.list.later", z), nge.observer.add("offers.list.later.all", B), nge.observer.add("offers.list.cancel", C), nge.observer.add("offers.list.cancel.cancel", r), nge.observer.add("offers.list.cancel.confirm", I), nge.observer.add("offers.list.apply", D), nge.observer.add("offers.list.prev",
            E), nge.observer.add("offers.list.next", K), nge.observer.add("offers.result.goToGame", r), nge.observer.add("offers.result.goToGame", P), nge.observer.add("winlines.animateByOne.cycleComplete", H), nge.observer.add("slotMachine.spinStart", G), nge.observer.add("gamble.taking.stop", F), nge.observer.add("balance.amount", S), nge.observer.add("freespin.start", t), nge.observer.add("transportMessage.SpinResponse", M), nge.observer.add("slotMachine.spinCommand", M), nge.observer.add("slotMachine.spinResponse", R), nge.observer.add("slotMachine.spinComplete",
            O), nge.observer.add("buttons.freespinFinish", L));
        b = !0;
        this.preloadDefault()
    };
    this.create = function() {
        if (0 === g.length) return !1;
        this.createDefault();
        p();
        c = !1;
        l = !0;
        var a = nge.findOne("^offerCancelText");
        a && (a.inputEnabled = !0, a.input.useHandCursor = !0, a.events.onInputDown.add(function() {
            nge.observer.fire("offers.list.cancel")
        }, this));
        a = nge.statesManager.getCurrentName();
        var b = nge.localData.get("brain.restoreGame"),
            d = nge.localData.get("freespin.inProgress");
        if (b || d || "play" !== a) return !1;
        k || nge.rafSetTimeout(function() {
            nge.rafSetTimeout(r,
                1)
        }, 1)
    };
    var p = function() {
            for (var a in f) f[a].o = nge.findOne("^" + f[a].name)
        },
        r = function() {
            h = !1;
            t();
            if (0 === g.length) return k = !0, P(), !1;
            v("offersList", 1);
            u(0);
            nge.localData.set("freeGame.showingOfferMenu", !0)
        };
    this.normalizeListIndex = function(a, b) {
        return nge.Lib.Math.valBetween(a, 0, b.length - 1)
    };
    var u = function(b) {
        a = d.normalizeListIndex(b, g);
        b = g[a];
        d.showOffer(nge.Cfg.Main.title.toUpperCase(), a, g.length, b)
    };
    this.showOffer = function(a, b, c, d) {
        nge.findOne("^offersListGameName").text = a;
        nge.findOne("^offerCurrentNum").text =
            b + 1;
        nge.findOne("^offersTotalNum").text = c;
        nge.findOne("^offerFreeGamesAmount").text = d.freespins;
        a = parseInt(d.expires);
        nge.findOne("^offerAvaliableTo").text = a ? nge.Lib.Time.unixtimeToDDMMYYYY(a) : "-";
        nge.findOne("^offerCoinValue").text = d.coinValue;
        nge.findOne("^offerBet").text = d.bet;
        nge.findOne("^offerLines").text = d.lines
    };
    var t = function() {
            for (var a in f) f[a].o && (f[a].o.alpha = 0, f[a].o.visible = !1)
        },
        v = function(a, b, c) {
            f[a].o && (w(f[a].o, b, c), d.bgElements.forEach(function(a) {
                f[a.key].o && w(f[a.key].o, b * a.alpha,
                    c)
            }))
        },
        w = function(a, b, c) {
            c = c || 200;
            a.visible = !0;
            c = nge.tween.add(a).to({
                alpha: b
            }, c);
            c.onComplete.addOnce(function() {
                0 === b && (a.visible = !1)
            });
            c.start()
        };
    this.showStatisticsValues = function(a) {
        nge.findOne("^offerFreeGamesPlayed").text = a.playedSpins;
        nge.findOne("^offerFreeGamesWin").text = nge.Lib.Money.toCoins(a.totalOfferWin)
    };
    var x = function() {
            q = m = !1;
            var a = n;
            nge.localData.set("freeGame.amount", 0);
            M();
            0 === +a.playedSpins ? (t(), v("offerStatistic", 1, 200), d.showStatisticsValues(a), nge.observer.fire("offers.finishFreeGames"),
                k = !1, nge.localData.set("freeGame.showingOfferMenu", !0)) : (A(), nge.observer.fire("buttons.finish.offer"), nge.rafSetTimeout(function() {
                nge.localData.get("freeGame.amount") || nge.localData.set("freeGame.inProgress", !1);
                t();
                v("offerStatistic", 1, 200);
                d.showStatisticsValues(a);
                nge.observer.fire("offers.finishFreeGames");
                nge.localData.set("freeGame.amount", !1);
                nge.localData.set("freeGame.showingOfferMenu", !0);
                nge.observer.fire("freespin.counterReset")
            }, 1), nge.rafSetTimeout(function() {
                    nge.observer.fire("buttons.restore")
                },
                701), h = !0)
        },
        y = function(a) {
            q = !0;
            n = a;
            m && x()
        },
        z = function() {
            g.splice(a, 1);
            r()
        },
        B = function() {
            g = [];
            r()
        },
        A = function() {
            nge.localData.get("autospin") && (nge.Lib.Helper.mobileAndTabletCheck() ? nge.observer.fire("buttons.insidePress", "autoSpinMobile") : nge.observer.fire("buttons.insidePress", "auto"))
        },
        C = function() {
            t();
            v("offerCancelConfirmation", 1)
        },
        D = function() {
            t();
            nge.observer.fire("buttons.restore.offer");
            var b = g[a];
            nge.observer.fire("offer.apply", b.id);
            g.splice(a, 1);
            nge.observer.fire("lines.set", parseInt(b.lines));
            nge.observer.fire("bet.set", b.bet);
            nge.observer.fire("coins.set", b.coinValue);
            nge.localData.set("freeGame.totalspins", b.totalspins);
            nge.localData.set("freeGame.amount", b.freespins);
            nge.localData.set("freeGame.inProgress", !0);
            e = b.totalspins || 0;
            nge.observer.fire("infoPanel.showText", {
                text: J(),
                position: "down",
                colors: [{
                    color: "#ff8600",
                    from: 0
                }]
            });
            nge.localData.set("freeGame.showingOfferMenu", !1);
            nge.observer.fire("offers.startGame");
            nge.observer.fire("freespin.counterUpdate", {
                total: b.totalspins,
                current: +b.totalspins -
                    +b.freespins
            })
        },
        J = function() {
            return "FREE GAME " + (e - nge.localData.get("freeGame.amount") || 0) + " OF " + e
        },
        E = function() {
            u(a - 1)
        },
        K = function() {
            u(a + 1)
        },
        I = function() {
            nge.observer.fire("offer.cancel", g[a].id);
            z();
            nge.localData.set("freeGame.showingOfferMenu", !1)
        },
        H = function() {
            var a = nge.localData.get("slotMachine.slotWin.totalWin");
            a && 0 !== parseFloat(a) || (c = !0);
            a = nge.localData.get("freeGame.inProgress");
            var b = nge.localData.get("freespin.inProgress");
            a && b && (a = parseInt(nge.localData.get("freeGame.amount")), b = parseInt(nge.localData.get("freespin.spinsLeft")),
                0 === a && 0 === b && nge.observer.fire("buttons.disable.all", null, 5))
        },
        G = function() {
            q = m = c = !1;
            nge.localData.get("freeGame.inProgress") && 0 === nge.localData.get("freeGame.amount") && A()
        },
        F = function() {
            c = !0
        },
        S = function() {
            var a = nge.localData.get("brain.restoreGame");
            if (!h && a) nge.localData.set("freeGame.inProgress", !1), A(), r(), h = !0;
            else {
                a = nge.localData.get("freeGame.inProgress");
                var b = nge.localData.get("freeGame.amount"),
                    d = nge.localData.get("freespin.inProgress");
                if (d) return nge.localData.set("freeGame.inProgress",
                    !1), !1;
                nge.localData.get("freeGame.amount") && !nge.localData.get("freeGame.inProgress") && (nge.localData.set("freeGame.inProgress", !0), a = nge.localData.get("freeGame.inProgress"));
                if (c && 0 < b) return !0;
                !a && 0 <= g.length && !k && (d || nge.localData.get("autospin") || !l || P());
                nge.localData.get("freeGame.inProgress") && nge.rafSetTimeout(function() {
                    nge.localData.get("freeGame.amount") || nge.observer.fire("buttons.disable.all")
                }, 5);
                m = !0;
                q && x()
            }
        },
        N = function() {},
        P = function() {
            0 === g.length && (nge.observer.fire("buttons.restore"),
                nge.localData.set("freeGame.showingOfferMenu", !1))
        },
        M = function() {
            var a = nge.localData.get("freeGame.inProgress"),
                b = nge.localData.get("freeGame.amount"),
                c = nge.localData.get("freespin.inProgress");
            !a || c || nge.Lib.Helper.mobileAndTabletCheck() || "number" !== typeof b || (nge.observer.fire("infoPanel.showText", {
                text: "",
                position: "up"
            }), nge.observer.fire("infoPanel.showText", {
                text: J(),
                position: "down",
                colors: [{
                    color: "#ff8600",
                    from: 0
                }]
            }))
        },
        L = function() {
            var a = nge.localData.get("freeGame.inProgress"),
                b = parseInt(nge.localData.get("freeGame.amount"),
                    10);
            "boolean" !== typeof b && 0 === b && a && (A(), nge.rafSetTimeout(function() {
                nge.observer.fire("buttons.disable.auto")
            }, 50))
        },
        O = function() {
            var a = parseInt(nge.localData.get("freeGame.amount"), 10),
                b = parseInt(nge.localData.get("freespin.spinsLeft"), 10);
            "boolean" !== typeof a && 0 === a && 0 === b && (A(), nge.rafSetTimeout(function() {
                nge.observer.fire("buttons.disable.auto")
            }, 50))
        },
        R = function() {
            var a = nge.localData.get("freeGame"),
                b = nge.localData.get("freespin.inProgress");
            a.inProgress && !b && nge.observer.fire("freespin.counterUpdate", {
                total: a.totalspins,
                current: +a.totalspins - +a.amount
            })
        }
});
nge.App[nge.appNS].Com.Offers.UI_v3 = {};
nge.App[nge.appNS].Com.Offers.UI_v3.Controller = nge.App[nge.appNS].Com.Offers.Controller.extend(function() {
    var d = this,
        b = !1,
        h = !1;
    delete this.objs.offerCancelConfirmation;
    this.objs.bgCover = {
        name: "offersBGCover",
        o: !1
    };
    this.objs.closeOffersButton = {
        name: "closeOffersButton",
        o: !1
    };
    this.bgElements = [{
        key: "bg",
        alpha: 1
    }, {
        key: "bgCover",
        alpha: .83
    }, {
        key: "closeOffersButton",
        alpha: 1
    }];
    this.defaultFill = this.valuesFill = this.titleValuesFill = this.titleTextFill = "#ff0000";
    var g = [{
        selector: "^offerAvaliableTo",
        object: null,
        layoutX: 0
    }, {
        selector: "^offerCoinValue",
        object: null,
        layoutX: 0
    }, {
        selector: "^offerBet",
        object: null,
        layoutX: 0
    }, {
        selector: "^offerLines",
        object: null,
        layoutX: 0
    }];
    this.create = function() {
        this.super.create();
        for (var a in this.objs) this.objs[a].o && (this.objs[a].o.visible = !1);
        a = nge.localData.get("actions") || [];
        for (var d = [], f = 0; f < a.length; f++) a[f].type && "offer" === a[f].type && d.push(a[f]);
        if (0 === d.length) return !1;
        nge.rafSetTimeout(function() {
            for (var a = 1; 4 >= a; a++) {
                var b = nge.findOne("^rightbox" + a);
                b.text = "- " + _(b.text)
            }
            a =
                nge.findOne("^offerPlayLaterButtonButton");
            b = nge.findOne("^leftButtonText");
            a.scale.set(b.width / a.width * (1 / nge.assets.getQualityFactor()) + .15, 1 / nge.assets.getQualityFactor())
        }, 1);
        g.forEach(function(a) {
            var b = nge.findOne(a.selector);
            b && (a.object = b, a.layoutX = b.x)
        });
        b || this.subscribe();
        return b = !0
    };
    this.showOffer = function(a, b, f, l) {
        h = !1;
        1 === f && nge.observer.fire("buttons.changeData", {
            offersListNext: {
                visible: !1
            },
            offersListPrev: {
                visible: !1
            }
        });
        var c = _("offersYouHaveText"),
            e = l.freespins.toString(),
            k = _("offersFreeGamesOfText"),
            p = nge.findOne("^offersListTitleText");
        p.text = "";
        nge.rafSetTimeout(function() {
            p.text = c + e + k + "\n" + a;
            p.clearColors();
            p.addColor(d.titleTextFill, 0);
            p.addColor(d.titleValuesFill, c.length);
            p.addColor(d.titleTextFill, (c + e).length);
            p.addColor(d.titleValuesFill, (c + e + k).length)
        }, 1);
        var r = nge.findOne("^offerNum");
        1 === f ? r.visible = !1 : (r.text = b + 1 + "/" + f + " " + _("offers"), r.clearColors(), r.addColor(d.valuesFill, 0), r.addColor(d.defaultFill, (b + 1).toString().length));
        b = parseInt(l.expires);
        nge.findOne("^offerAvaliableTo").text =
            b ? nge.Lib.Time.unixtimeToDDMMYYYY(b) : "-";
        nge.findOne("^offerCoinValue").text = l.coinValue;
        nge.findOne("^offerBet").text = l.bet;
        nge.findOne("^offerLines").text = l.lines;
        g.forEach(function(a) {
            a.object && (a.object.addColor(d.valuesFill, 0), 1 === +a.object.text[a.object.text.length - 1] && (a.object.x = a.layoutX + 6))
        })
    };
    this.showStatisticsValues = function(a) {
        var b = nge.findOne("^offerFreeGamesPlayed"),
            c = _("countOfcompletedGames");
        c = c.replace("%playedSpins%", a.playedSpins);
        b.text = c;
        b.clearColors();
        b.addColor(d.valuesFill,
            0);
        b.addColor(d.defaultFill, a.playedSpins.toString().length);
        b = nge.localData.get("balance.currency");
        nge.findOne("^offerFreeGamesWinCredits").text = nge.Lib.Money.toCoins(a.totalOfferWin);
        nge.findOne("^offerFreeGamesWin").text = parseFloat(a.totalOfferWin).toFixed(2) + " " + b
    };
    this.normalizeListIndex = function(a, b) {
        var c = a;
        0 === b.length || 1 === b.length ? c = 0 : a > b.length - 1 ? c = 0 : 0 > a && (c = b.length - 1);
        return c
    };
    var f = function(a) {
            switch (a) {
                case "offersListApply":
                    nge.observer.fire("offers.list.apply");
                    break;
                case "offersListLater":
                    nge.observer.fire("offers.list.later");
                    break;
                case "offersListNext":
                    nge.observer.fire("offers.list.next");
                    break;
                case "offersListPrev":
                    nge.observer.fire("offers.list.prev");
                    break;
                case "offersListClose":
                    h ? nge.observer.fire("offers.result.goToGame") : nge.observer.fire("offers.list.later.all");
                    break;
                case "offersResultGoToGame":
                    nge.observer.fire("offers.result.goToGame")
            }
        },
        a = function() {
            h = !0
        };
    this.subscribe = function() {
        nge.observer.add("buttons.pressCommand", f);
        nge.observer.add("offer.finishOfferResponse", a)
    }
});
nge.App[nge.appNS].Com.Offers.UI_v3.Gold = {};
nge.App[nge.appNS].Com.Offers.UI_v3.Gold.Controller = nge.App[nge.appNS].Com.Offers.UI_v3.Controller.extend(function() {
    this.titleTextFill = "#f0e1bf";
    this.titleValuesFill = "#fec36d";
    this.valuesFill = "#f0e1bf";
    this.defaultFill = "#fff"
});
nge.App[nge.appNS].Com.Offers.UI_v3.Blue = {};
nge.App[nge.appNS].Com.Offers.UI_v3.Blue.Controller = nge.App[nge.appNS].Com.Offers.UI_v3.Controller.extend(function() {
    this.titleTextFill = "#BEECFC";
    this.titleValuesFill = "#0092E8";
    this.valuesFill = "#BEECFC";
    this.defaultFill = "#fff"
});
nge.App[nge.appNS].Com.Offers.UI_v3.Silver = {};
nge.App[nge.appNS].Com.Offers.UI_v3.Silver.Controller = nge.App[nge.appNS].Com.Offers.UI_v3.Controller.extend(function() {
    this.titleTextFill = "#DDDDDD";
    this.valuesFill = this.titleValuesFill = "#919191";
    this.defaultFill = "#fff"
});
nge.App[nge.appNS].Com.Respin = {};
nge.App[nge.appNS].Com.Respin.Controller = nge.Com.Respin.Controller.extend(function() {
    var d = !1,
        b, h, g, f, a = null,
        c, e = [],
        k = !1,
        l, m;
    this.respinSymbols = ["0", "12"];
    this.countDefault = 2;
    this.view = this.responseData = null;
    this.create = function() {
        f = g = h = b = m = !1;
        a = null;
        c = [];
        e = [];
        k = !1;
        d ? nge.localData.get("stateEqualRespins") && (l && l.data && l.data.lastResponse && "FreeReSpins" === l.data.lastResponse.state ? this.disableStandartGame() : nge.localData.set("stateEqualRespins", !1)) : (d = !0, u());
        this.view = this.getInstance("View");
        this.super.create();
        this.createDefault()
    };
    var q = function(b) {
        this.responseData = b;
        nge.localData.get("respin.inProgress") ? this.view.showStateOfRespin("RESPIN " + nge.localData.get("respin.spinsLeft") || "WIN") : !b || "ReSpins" !== b.state && "FreeReSpins" !== b.state || (b && b.slotWin && b.slotWin.lineWinAmounts.forEach(function(b) {
            b.params && b.params.reSpins && (a = b.params.reSpins)
        }), nge.localData.set("stateEqualRespins", !0), nge.localData.set("myRespin.realRespinLeft", this.countDefault), nge.observer.fire("start.Respins"))
    }.bind(this);
    this.winlinesCompleteHandler =
        function() {
            var a = nge.localData.get("freespin.inProgress");
            g && (1 > +nge.localData.get("respin.spinsLeft") || 1 === nge.localData.get("respin.spinsTotal") ? (g = !1, f = null, this.finishRespin(), c && c.length ? (a && this.freespinStartHandler(!0, c), nge.observer.fire("respin.unHoldSymbolsWin", c), c = []) : a ? this.freespinStartHandler(!1, c) : nge.observer.fire("backgroundSound.play")) : (a = this.findSymbolForHold(this.respinSymbols), this.freezeSymbols(a)))
        };
    this.freespinStartHandler = function(a) {};
    this.spinCommand = function() {
        k && (k = !1, nge.observer.fire("slotMachine.setAlphaOnHoldSymbols"), c && c.length && nge.observer.fire("respin.unHoldSymbolsWin", c), nge.observer.fire("winlines.animateAll" + this.gameForRespin || ""));
        if (!nge.localData.get("freespin.inProgress") || b)
            if (h || g) + nge.localData.get("respin.spinsLeft") && nge.observer.fire("respin.soundStart"), this.super.spinCommand()
    };
    this.findSymbolForHold = function(a) {
        var b = [];
        this.responseData && this.responseData.spinResult && this.responseData.spinResult.columns.forEach(function(c, d) {
            c.forEach(function(c,
                e) {
                ~a.indexOf(c) && b.push({
                    reel: d,
                    row: e
                })
            })
        });
        return b.length ? b : null
    };
    this.freezeSymbols = function(a) {
        a ? e.length !== a.length ? (nge.observer.fire("respin.holdSymbols", a), e = e.concat(a)) : this.spinCommand() : this.spinCommand()
    };
    this.unFreezeSymbols = function() {
        nge.observer.fire("respin.unHoldSymbols", e)
    };
    this.disableStandartGame = function() {
        nge.observer.fire("buttons.disable.all");
        nge.observer.fire("buttons.enable.auto")
    };
    this.enableStandartGame = function() {};
    this.startRespin = function(b, c) {
        this.disableStandartGame();
        if (b) {
            var d = nge.localData.get("respin.spinsTotal") || a;
            b.popup = nge.findOne(b.popup);
            b.textTpl = this.setText(b.textTpl);
            b.value = this.setText(b.value, d);
            nge.observer.fire("respin.popUpShow");
            this.view.showPopup(b, c)
        } else this.view.showStateOfRespin("RESPIN " + (a || this.countDefault)), nge.observer.fire("respin.popupIsHidden")
    };
    this.setText = function(a, b) {
        a = nge.findOne(a);
        a.text = b || "RESPIN WON";
        return a
    };
    this.finishRespin = function() {
        b = !1;
        nge.localData.get("freespin.inProgress") || this.enableStandartGame();
        this.view.showStateOfRespin("RESPIN 0");
        this.super.finishRespin();
        nge.localData.set("stateEqualRespins", !1)
    };
    var n = function() {
            nge.localData.get("freespin.inProgress") && (nge.observer.fire("freespin.pause"), b = !0);
            h = !0
        },
        p = function() {
            m && (nge.observer.fire("buttons.freespinContinue"), m = !1);
            var a = this.findSymbolForHold(this.respinSymbols);
            this.freezeSymbols(a);
            g = !0
        }.bind(this);
    this.finishHideCoversAndSymbols = function() {
        null === f && (this.unFreezeSymbols(), e = [], f = !1)
    };
    this.showHideCoversAndSymbols = function() {
        m = !1;
        h && (nge.observer.fire("winlines.stopAnimation"), h = !1, this.startRespin());
        if (c && c.length) {
            k = !0;
            var a = this.findSymbolForHold(this.respinSymbols);
            this.freezeSymbols(a)
        }
        null === c && (k = !0, a = this.findSymbolForHold(this.respinSymbols), this.freezeSymbols(a), c = [])
    };
    this.computeSymbolsForUnhold = function(a) {
        if (1 === +nge.localData.get("respin.spinsLeft")) {
            nge.localData.set("isLastRespinGame", !0);
            c = [];
            if (a && a.slotWin && a.slotWin.lineWinAmounts) return a.slotWin.lineWinAmounts.forEach(function(a) {
                a.wonSymbols.forEach(function(a) {
                    c.push({
                        reel: a[0],
                        row: a[1]
                    })
                })
            }), c = c.filter(function(a, b, c) {
                for (var d = b; d < c.length; d++)
                    if (d !== b && a.reel === c[d].reel && a.row === c[d].row) return !1;
                return !0
            }), c.length || (c = null), !0;
            c = null;
            return !1
        }
    };
    this.showCoversBetweenPopup = function() {
        c && c.length && g && nge.observer.fire("respin.holdSymbolsWin", c)
    };
    this.ressurectRespin = function() {
        g = nge.localData.get("respin.inProgress");
        m = !0;
        nge.localData.get("stateEqualRespins") && nge.observer.fire("respin.restoreClassicRespin")
    };
    var r = function(a) {
            l = a
        },
        u = function() {
            nge.observer.add("respin.restoreClassicRespin",
                this.startRespin);
            nge.observer.add("transportMessage.AuthResponse", r);
            nge.observer.add("freespin.restoreText", this.ressurectRespin);
            nge.observer.add("winlinesSubstrate.endTween", this.spinCommand);
            nge.observer.add("lines.set", this.finishHideCoversAndSymbols);
            nge.observer.add("popup.animation.start", this.showCoversBetweenPopup);
            nge.observer.add("slotMachine.spinResponse", this.computeSymbolsForUnhold);
            nge.observer.add("slotMachine.spinComplete", this.showHideCoversAndSymbols);
            nge.observer.add("slotMachine.spinCommand",
                this.finishHideCoversAndSymbols);
            nge.observer.add("respin.popupIsHidden", p);
            nge.observer.add("winlines.animateByOne.cycleComplete", this.winlinesCompleteHandler);
            nge.observer.add("slotMachine.spinResponse", q);
            nge.observer.add("start.Respins", n)
        }.bind(this)
});
nge.App[nge.appNS].Com.Respin.Tpl = function() {
    return {
        assets: {
            name: "assets",
            contents: [{
                key: "popupRespin",
                fullPath: nge.appPath + "img/popups/popup.png"
            }]
        },
        objects: {
            contents: [{
                type: 2,
                x: 1E3,
                y: 450,
                text: "",
                name: "popupTextRespin",
                isVisible: !1,
                "class": "center",
                style: {
                    font: "80px shai_fontai_bold",
                    align: "center",
                    fill: "#86E7FB",
                    stroke: "#96026F",
                    strokeThickness: 2
                }
            }, {
                type: 2,
                x: 1E3,
                y: 550,
                text: "",
                name: "popupTextValueRespin",
                isVisible: !1,
                "class": "center",
                style: {
                    font: "130px shai_fontai_bold",
                    align: "center",
                    fill: "rgb(252, 244, 153)",
                    stroke: "rgb(170, 90, 16)",
                    strokeThickness: 2
                }
            }, {
                x: 1010,
                y: 500,
                type: 0,
                name: "popupImageRespin",
                assetKey: "popupRespin",
                isVisible: !1,
                class: "center"
            }]
        }
    }
};
nge.App[nge.appNS].Com.Respin.View = Class.extend(function() {
    this.showPopup = function(d, b) {
        if (d.popup.start) d.popup.start();
        else {
            for (var h in d) d.hasOwnProperty(h) && (d[h].visible = !0);
            b && nge.rafSetTimeout(function() {
                for (var b in d) d.hasOwnProperty(b) && (d[b].visible = !1);
                nge.observer.fire("respin.popupIsHidden")
            }, b)
        }
    };
    this.showStateOfRespin = function(d) {
        nge.observer.fire("infoPanel.showText", {
            text: d,
            position: "down",
            colors: [{
                color: "#ff8600",
                from: 0
            }]
        })
    }
});
nge.App[nge.appNS].Com.SettingsScreen = {};
nge.App[nge.appNS].Com.SettingsScreen.Controller = nge.Com.Base.extend(function() {
    var d = !1,
        b = this,
        h = null,
        g = null,
        f;
    this.turboModeSpeed = .7;
    this.toggles = {
        settingsDisplayValuesInCoins: {
            obj: null,
            data: "!settings.settingsDisplayValuesInCoins"
        },
        settingsPressSpaceToSpin: {
            obj: null,
            data: "spaceHandler.isEnable"
        },
        turboMode: {
            obj: null,
            data: "settings.turboMode"
        }
    };
    this.toggleStates = {
        on: {
            over: 2,
            out: 1,
            down: 0
        },
        off: {
            over: 5,
            out: 4,
            down: 3
        }
    };
    this.sliders = {
        audioSlider: {
            obj: null,
            data: "settings.globalVolume",
            event: "sound.volumeAll",
            disable: "sounds.preload"
        }
    };
    var a = function() {
            var a = nge.localData.get("settings.turboMode");
            a = !a;
            f.th = a ? g : h;
            nge.localData.set("settings.turboMode", a);
            nge.observer.fire("slotMachine.updateBlurs")
        },
        c = function(a) {
            if (b.toggles[a] && b.toggles[a].obj) {
                var c = !1,
                    d = b.toggles[a].data;
                0 === d.indexOf("!") && (c = !0, d = d.replace("!", ""));
                d = nge.localData.get(d);
                c = b.toggleStates[(c ? !d : d) ? "on" : "off"];
                b.toggles[a].obj.setFrames(c.over, c.out, c.down)
            }
        },
        e = function(a) {
            nge.rafSetTimeout(function() {
                c(a)
            }, 10)
        },
        k = function() {
            for (c in b.toggles) {
                var a =
                    "^".concat(c, "ButtonButton");
                b.toggles[c].obj = nge.findOne(a)
            }
            var c = function(a) {
                return function(c) {
                    var d = b.sliders[a];
                    if ("audioSlider" === a && d && !nge.localData.get("sounds.preload")) return nge.observer.fire("buttons.insidePress", "soundMobile");
                    nge.observer.fire(d.event, +c / 100)
                }
            };
            for (var d in b.sliders) a = "^".concat(d, "ButtonContainer"), b.sliders[d].obj = nge.findOne(a), b.sliders[d].obj && (b.sliders[d].obj.toggleBgInput(!0), b.sliders[d].obj.setOnChange(c(d)), b.sliders[d].obj.setOnDrag(c(d)))
        },
        l = function() {
            for (var a in b.toggles) c(a);
            for (var d in b.sliders)
                if (a = d, b.sliders[a] && b.sliders[a].obj) {
                    var e = nge.localData.get(b.sliders[a].data);
                    b.sliders[a].obj.val(100 * e)
                }
        };
    this.subscribe = function() {
        nge.observer.add("buttons.pressCommand", e);
        nge.observer.add("settings.update", l);
        nge.observer.add("settings.turboModeSwitch", a)
    };
    this.create = function() {
        k();
        nge.Lib.Helper.mobileAndTabletCheck() && (b.toggles.settingsPressSpaceToSpin && b.toggles.settingsPressSpaceToSpin.obj && b.toggles.settingsPressSpaceToSpin.obj.parent.destroy(), b.toggles.settingsPressSpaceToSpin &&
            delete b.toggles.settingsPressSpaceToSpin);
        f = nge.App.getInstance("Com.SlotMachine.Cfg").get();
        h = f.th;
        g = h.map(function(a) {
            return Math.round(a * b.turboModeSpeed)
        });
        nge.localData.set("spaceHandler.isEnable", !0);
        nge.localData.set("settings.turboMode", !1);
        d || b.subscribe();
        d = !0
    }
});
nge.App[nge.appNS].Com.SettingsSimple = {};
nge.App[nge.appNS].Com.SettingsSimple._Package = {
    name: "com.settingsSimple",
    version: 1,
    requirments: {
        js: ["com/settingsSimple/controller", "com/settingsSimple/tpl"]
    }
};
nge.App[nge.appNS].Com.SettingsSimple.Controller = nge.Com.Base.extend(function() {
    var d, b, h = 0,
        g = !1;
    this.create = function() {
        this.createDefault();
        var b = nge.localData.get("settings.globalVolume");
        if ("undefined" === typeof b) {
            b = 1;
            var e = nge.Lib.Helper.mobileAndTabletCheck(),
                g = nge.localData.get("sounds.preload");
            e && "done" !== g && (b = 0);
            nge.localData.set("settings.globalVolume", b)
        }
        h = b;
        d || (nge.observer.add("sounds.preloaded", f), nge.observer.add("settings.soundSwitch", f), nge.observer.add("StatesManager.create.end",
            a), nge.observer.add("window.visibilitychange", m), nge.observer.add("initSoundButton", c));
        return d = !0
    };
    var f = function() {
            if (g) return !1;
            var a = nge.localData.get("sounds.preload");
            if (!a) return nge.observer.fire("sounds.preload.start"), nge.soundManager.preload(), !1;
            if ("done" !== a) return nge.localData.set("settings.globalVolume", 1), !1;
            a = nge.localData.get("settings.globalVolume") ? 0 : 1;
            e(a);
            l()
        },
        a = function(a) {
            "play" === a && c()
        },
        c = function() {
            var a = nge.Lib.Helper.mobileAndTabletCheck(),
                c = k(),
                d = nge.localData.get("settings.globalVolume");
            l();
            "undefined" === typeof d ? (nge.localData.set("settings.globalVolume", 0), f()) : (d || a || (g = !0, nge.observer.fire("buttons.insidePress", c), nge.rafSetTimeout(function() {
                g = !1;
                e(0);
                b.events.onInputOut$dispatch()
            }, 10)), d && a && (g = !0, nge.observer.fire("buttons.insidePress", c), nge.rafSetTimeout(function() {
                g = !1;
                e(1)
            }, 10)))
        },
        e = function(a) {
            nge.localData.set("settings.globalVolume", a);
            nge.observer.fire("sound.volumeAll", a)
        },
        k = function() {
            return "sound" + (nge.Lib.Helper.mobileAndTabletCheck() ? "Mobile" : "")
        },
        l = function() {
            var a =
                k();
            b = nge.findOne("^" + a + "ButtonButton")
        },
        m = function(a) {
            "visible" !== a && (h = nge.localData.get("settings.globalVolume"));
            e("visible" !== a ? 0 : h)
        }
});
nge.App[nge.appNS].Com.SettingsSimple.Tpl = function() {
    return {
        assets: {
            name: "assets",
            contents: []
        },
        objects: {
            name: "objects",
            contents: []
        }
    }
};
nge.App[nge.appNS].Com.SlotMachine = {};
nge.App[nge.appNS].Com.SlotMachine._Package = {
    name: "com.slotMachine",
    version: 1,
    requirments: {
        js: ["com/slotMachine/cfg"]
    }
};
nge.App[nge.appNS].Com.SlotMachine.Cfg = nge.Com.SlotMachine.Cfg.extend(function() {
    this.params = {
        mw: 5,
        mh: 3,
        th: [6, 10, 14, 18, 22],
        imageWidth: "original",
        imageHeight: "original",
        parentName: "slotMachineGameContainer",
        imgPath: nge.appPath + "img/symbols/",
        blurAlpha: 1,
        spinCompleteDelay: 500,
        speedUpReelsFactor: 50,
        intrigueSpeedReelsFactor: 1.5,
        tweenType: "custom",
        tweenDuration: {
            oldSymbols: 225,
            blur: 75,
            newSymbols: 225,
            blurDurationType: "factor",
            animationType: "linear"
        },
        _symbolsBlurKeys: [],
        tweenStartInterval: 0,
        tweenEndInterval: 0,
        blursShiftOnReelsHold: !0,
        recyclerView: !1
    };
    Object.defineProperty(this.params, "symbolsBlurKeys", {
        get: function() {
            return this._symbolsBlurKeys
        },
        set: function(d) {
            var b = nge.localData.get("scatterSymbols");
            this._symbolsBlurKeys = d.filter(function(d) {
                return -1 === b.indexOf(d)
            })
        }
    });
    this.params.symbolsBlurKeys = nge.App.getInstance("Com.SlotMachine.Symbols").items.map(function(d) {
        return d.name
    })
});
nge.App[nge.appNS].Com.SlotMachine.Symbols = nge.Com.SlotMachine.Symbols.extend(function() {
    var d = function(b, d, g) {
        for (var f = [], a = 0; a < d; a++) f.push(b + nge.Lib.Helper.LdgZero(a, 3) + g);
        return f
    };
    this.items = [{
        name: "0",
        textureUrl: "M00_000.jpg",
        repeat: 4,
        frameTime: 250,
        animateAllWinlinesCycle: !0,
        winlineTime: 2550,
        animationSprite: !1,
        animationSpriteExtension: "jpg",
        frameWidth: 260,
        frameHeight: 260,
        multipack: 1,
        framesInLastSprite: 2,
        animationFrames: d("m00_", 2, ".jpg")
    }, {
        name: "1",
        textureUrl: "M01_000.jpg",
        repeat: 4,
        frameTime: 250,
        animateAllWinlinesCycle: !0,
        winlineTime: 7250,
        animationSprite: !1,
        animationSpriteExtension: "jpg",
        frameWidth: 260,
        frameHeight: 260,
        multipack: 1,
        framesInLastSprite: 2,
        animationFrames: d("m01_", 2, ".jpg")
    }, {
        name: "2",
        textureUrl: "M02_000.jpg",
        frameTime: 150,
        animateAllWinlinesCycle: !0,
        winlineTime: 2200,
        animationSprite: !1,
        animationSpriteExtension: "jpg",
        frameWidth: 260,
        frameHeight: 260,
        multipack: 1,
        framesInLastSprite: 30,
        animationFrames: d("m02_", 30, ".jpg")
    }, {
        name: "3",
        textureUrl: "M03_000.jpg",
        frameTime: 150,
        animateAllWinlinesCycle: !0,
        winlineTime: 4600,
        animationSprite: !1,
        animationSpriteExtension: "jpg",
        frameWidth: 260,
        frameHeight: 260,
        multipack: 1,
        framesInLastSprite: 44,
        animationFrames: d("m03_", 44, ".jpg")
    }, {
        name: "4",
        textureUrl: "M04_000.jpg",
        frameTime: 150,
        animateAllWinlinesCycle: !0,
        winlineTime: 2200,
        animationSprite: !1,
        animationSpriteExtension: "jpg",
        frameWidth: 260,
        frameHeight: 260,
        multipack: 1,
        framesInLastSprite: 23,
        animationFrames: d("m04_", 23, ".jpg")
    }, {
        name: "5",
        textureUrl: "M05_000.jpg",
        repeat: 4,
        frameTime: 250,
        animateAllWinlinesCycle: !0,
        animationSprite: !1,
        animationSpriteExtension: "jpg",
        frameWidth: 260,
        frameHeight: 260,
        multipack: 1,
        framesInLastSprite: 2,
        animationFrames: d("m05_", 2, ".jpg")
    }, {
        name: "6",
        textureUrl: "M06_000.jpg",
        repeat: 4,
        animateAllWinlinesCycle: !0,
        frameTime: 250,
        animationSprite: !1,
        animationSpriteExtension: "jpg",
        frameWidth: 260,
        frameHeight: 260,
        multipack: 1,
        framesInLastSprite: 2,
        animationFrames: d("m06_", 2, ".jpg")
    }, {
        name: "7",
        textureUrl: "M07_000.jpg",
        repeat: 4,
        animateAllWinlinesCycle: !0,
        frameTime: 250,
        animationSprite: !1,
        animationSpriteExtension: "jpg",
        frameWidth: 260,
        frameHeight: 260,
        multipack: 1,
        framesInLastSprite: 2,
        animationFrames: d("m07_", 2, ".jpg")
    }, {
        name: "8",
        textureUrl: "M08_000.jpg",
        repeat: 4,
        animateAllWinlinesCycle: !0,
        frameTime: 250,
        animationSprite: !1,
        animationSpriteExtension: "jpg",
        frameWidth: 260,
        frameHeight: 260,
        multipack: 1,
        framesInLastSprite: 2,
        animationFrames: d("m08_", 2, ".jpg")
    }, {
        name: "9",
        textureUrl: "M09_000.jpg",
        repeat: 4,
        animateAllWinlinesCycle: !0,
        frameTime: 250,
        animationSprite: !1,
        animationSpriteExtension: "jpg",
        frameWidth: 260,
        frameHeight: 260,
        multipack: 1,
        framesInLastSprite: 2,
        animationFrames: d("m09_", 2, ".jpg")
    }, {
        name: "10",
        textureUrl: "M10_000.jpg",
        repeat: 4,
        animateAllWinlinesCycle: !0,
        frameTime: 250,
        animationSprite: !1,
        animationSpriteExtension: "jpg",
        frameWidth: 260,
        frameHeight: 260,
        multipack: 1,
        framesInLastSprite: 2,
        animationFrames: d("m10_", 2, ".jpg")
    }, {
        name: "11",
        textureUrl: "M11_000.jpg",
        frameTime: 150,
        animateAllWinlinesCycle: !0,
        winlineTime: 2E3,
        animationSprite: !1,
        animationSpriteExtension: "jpg",
        frameWidth: 260,
        frameHeight: 260,
        multipack: 1,
        framesInLastSprite: 32,
        animationFrames: d("m11_", 32, ".jpg")
    }, {
        name: "12",
        textureUrl: "M12_000.jpg",
        frameTime: 100,
        animateAllWinlinesCycle: !0,
        animationSprite: !1,
        animationSpriteExtension: "jpg",
        frameWidth: 260,
        frameHeight: 260,
        multipack: 1,
        framesInLastSprite: 15,
        animationFrames: d("m12_", 15, ".jpg")
    }]
});
nge.App[nge.appNS].Com.SlotMachine.Tpl = function() {
    return {
        assets: {
            name: "assets",
            contents: []
        },
        objects: {
            name: "objects",
            contents: [{
                type: 1,
                id: "slotMachineGameContainer",
                name: "slotMachineGameContainer",
                x: 250,
                y: 100,
                width: 1420,
                height: 780
            }]
        }
    }
};
nge.App[nge.appNS].Com.SlotMachine.View = nge.Com.SlotMachine.View.extend(function() {
    this.stopJumpDistance = 75;
    this.stopJumpTime = 200;
    var d;
    this.getSymbolKeyForUpperAnimation = function(b) {
        if (!d) return console.warn("_self is not defined! Aborting...");
        var h = d._cfg.symbolsBlurKeys;
        d._cfg.symbolsBlurKeys && d._cfg.symbolsBlurKeys[b] && "object" === typeof d._cfg.symbolsBlurKeys[b] && (h = d._cfg.symbolsBlurKeys[b]);
        return h[~~(Math.random() * h.length)]
    };
    this.customReelStopCallback = function(b, h) {
        if (!b) return !1;
        d = this;
        var g = 0;
        d._cfg.rowsYoffset && d._cfg.rowsYoffset[h] && (g = d._cfg.rowsYoffset[h]);
        var f = d.getSymbolKeyForUpperAnimation(h),
            a = d._pool.release(f);
        a.texture.y = -.5 * d._symbolSize.height;
        a.texture.x = d._symbolSize.width / 2;
        b.addChild(a.texture);
        d._cfg.rowsYoffset && d._cfg.rowsYoffset[h] && (b.y = d._cfg.rowsYoffset[h]);
        f = nge.tween.add(b);
        f.to({
            y: g + d.stopJumpDistance
        }, d.stopJumpTime / 2, nge.Lib.Tween.Easing.Linear.None, !1);
        f.to({
            y: g
        }, d.stopJumpTime / 2, nge.Lib.Tween.Easing.Linear.None, !1);
        f.onComplete.addOnce(function() {
            b.removeChild(a.texture);
            d._pool.store(!1, a);
            nge.observer.fire("slotMachine.reel_" + h + ".customPostAnimation.stopped")
        });
        f.start()
    }
});
nge.App[nge.appNS].Com.SlotMachine.RecyclerView = nge.Com.SlotMachine.RecyclerView.extend(function() {
    var d = this;
    this.stopJumpDistance = 75;
    this.stopJumpTime = 200;
    this.customReelStopCallback = function(b, h) {
        var g = {
                y: 0
            },
            f = nge.tween.add(g),
            a = 0;
        f.to({
            y: d.stopJumpDistance
        }, d.stopJumpTime / 2, nge.Lib.Tween.Easing.Linear.None, !1);
        f.to({
            y: 0
        }, d.stopJumpTime / 2, nge.Lib.Tween.Easing.Linear.None, !1);
        f.onUpdateCallback(function() {
            b.move(g.y - a);
            a = g.y
        });
        f.onComplete.addOnce(function() {
            b.move(g.y - a);
            nge.observer.fire("slotMachine.reel_" +
                h + ".customPostAnimation.stopped")
        });
        f.start()
    }
});
nge.App[nge.appNS].Com.SpaceHandler = {};
nge.App[nge.appNS].Com.SpaceHandler._Package = {
    name: "com.spaceHandler",
    version: 1,
    requirments: {
        js: ["com/spaceHandler/controller"]
    }
};
nge.App[nge.appNS].Com.SpaceHandler.Controller = nge.Com.Base.extend(function() {
    var d = this,
        b, h, g, f, a = !1,
        c = !1;
    this.create = function() {
        f = g = !0;
        c = a = !1;
        b || r();
        nge.localData.set("spaceHandler.isEnable", !0);
        return b = !0
    };
    this.extendDo = function() {};
    var e = function() {
            if (!nge.Lib.Helper.mobileAndTabletCheck()) {
                var b = nge.localData.get("paytable.showed"),
                    e = nge.localData.get("slotMachine.lastResponse"),
                    k = nge.localData.get("freeGame.showingOfferMenu", !0),
                    l = nge.localData.get("spaceHandler.isEnable"),
                    m = nge.localData.get("slotMachine.quickFinishWaiting");
                e || !g || nge.localData.get("spin.onStop", !1) || (g = !1, h = !0);
                if (d.extendDo()) return !0;
                !h || k || b || !f && !m || !l || h && !a && c && !k && !b && (f || m) && l || console.color("OOOPS! | Balance Requested: " + a + " | Safe Frames: " + c, "#ff5", "#33a");
                h && !a && c && !k && !b && (f || m) && l && nge.observer.fire("buttons.pressCommand", "spin");
                return !1
            }
        },
        k = function(a) {
            a && a.spin && (h = a.spin.enabled)
        },
        l = function() {
            f = !1
        },
        m = function() {
            f = !0
        };
    this.customSubscribe = function() {
        nge.observer.add("slotMachine.spinComplete", l);
        nge.observer.add("winlines.animateByOne.cycleComplete",
            m)
    };
    var q = function() {
            var a = nge.localData.get("spaceHandler.isEnable") || !1;
            nge.localData.set("spaceHandler.isEnable", !a)
        },
        n = function() {
            a = !0
        },
        p = function() {
            a = !1
        },
        r = function() {
            nge.observer.add("space.press.do", e);
            nge.observer.add("keyboard.KeyDown.SPACE", e);
            nge.observer.add("buttons.changeData", k);
            nge.observer.add("spaceHandler.off", l);
            nge.observer.add("spaceHandler.on", m);
            nge.observer.add("spaceHandler.switch", q);
            nge.observer.add("balanceRequest", n);
            nge.observer.add("transportMessage.BalanceResponse",
                p);
            nge.observer.add("settings.settingsPressSpaceToSpin", function(a) {
                f = a ? !0 : !1
            });
            nge.observer.add("StatesManager.display.start", function() {
                c = !1
            });
            nge.observer.add("StatesManager.create.end", function() {
                nge.rafSetTimeout(function() {
                    c = !0
                }, 1)
            });
            d.customSubscribe()
        }
});
nge.App[nge.appNS].Com.QuickSettingsPanel = {};
nge.App[nge.appNS].Com.QuickSettingsPanel.Controller = nge.Com.Base.extend(function() {
    function d() {
        var b, c;
        for (b in D)(c = nge.findOne("^" + b + x + "ButtonButton")) ? (c.startY = +c.y, c.disable(3), c.y = y.y, D[b] = c) : delete D[b];
        w && nge.rafSetTimeout(function() {
            a(0)
        }, 10)
    }

    function b(a, b, c) {
        a.toggleOn = !a.toggleOn;
        a.toggleOn ? (a.setFrames(5, 4, 3), b && b()) : (a.setFrames(2, 1, 0), c && c())
    }

    function h() {
        var a = y.y,
            b = {
                y: A
            };
        b = nge.tween.add(b).to({
            y: B
        }, 100).onUpdateCallback(function(b, c, d) {
            for (var e in D) {
                var f = D[e];
                if (!f) return;
                b =
                    f;
                c = a;
                f = f.startY;
                var g = Phaser.Math.clamp(d.percent, 0, 1);
                b.y = +c + g * (+f - +c)
            }
            K(C, (d.vEnd.y - d.vStart.y) * d.value + d.vStart.y)
        }, b);
        b.onComplete.add(function() {
            for (var a in D) {
                var b = D[a];
                if (!b) break;
                b.y = b.startY;
                K(C, B)
            }
        });
        for (var c in D) D[c] && (D[c].visible = !0);
        b.start()
    }

    function g() {
        var a = y.y,
            b = {
                y: B
            };
        b = nge.tween.add(b).to({
            y: A
        }, 100).onUpdateCallback(function(b, c, d) {
            for (var e in D) {
                c = D[e];
                if (!c) return;
                b = c;
                c = c.startY;
                var f = a,
                    g = Phaser.Math.clamp(d.percent, 0, 1);
                b.y = +c + g * (+f - +c)
            }
            K(C, (d.vEnd.y - d.vStart.y) * d.value +
                d.vStart.y)
        }, b);
        b.onComplete.add(function() {
            for (var b in D) {
                var c = D[b];
                if (!c) break;
                c.y = a;
                c.visible = !1;
                K(C, A)
            }
        });
        b.start()
    }

    function f() {
        b(y, function() {
            h()
        }, function() {
            g()
        })
    }

    function a(a) {
        0 === a ? D && D.sound.setFrames(5, 4, 3) : D && D.sound.setFrames(2, 1, 0)
    }

    function c() {
        var b = nge.localData.get("settings.globalVolume", 1);
        "undefined" === typeof b && (b = 1);
        b = b ? 0 : 1;
        nge.localData.set("settings.globalVolume", b);
        nge.observer.fire("sound.volumeAll", b);
        a(b)
    }

    function e() {
        y.toggleOn && f()
    }

    function k(a) {
        e();
        "settingWindow" ===
        a && nge.observer.fire("settings.show")
    }

    function l() {
        !w && D.fullscreen && (nge.localData.get("fullscreen.enabled", !0) ? D.fullscreen.setFrames(5, 4, 3) : D.fullscreen.setFrames(2, 1, 0))
    }

    function m() {
        e()
    }

    function q(a, b) {
        if (y === a) return b();
        for (var c in D)
            if (D[c] === a) return b()
    }

    function n() {
        J = !1
    }

    function p() {
        J = !0;
        nge.rafSetTimeout(function() {
            J && e()
        }, 3E3)
    }

    function r(a) {
        q(a, n)
    }

    function u(a) {
        q(a, p)
    }
    var t = !1,
        v = this;
    this.mobileOnly = !0;
    var w = !1,
        x = "",
        y, z, B = 0,
        A = 0,
        C = 0,
        D = {
            fullscreen: null,
            sound: null,
            settings: null,
            help: null
        },
        J = !0,
        E = null,
        K = function(a, b) {
            z && z.resize && z.resize(a, b)
        },
        I = function() {
            E = nge.tween.add({}).to({}, 2E3, null, !1, 500, -1);
            E.onUpdateCallback(function(a, b) {
                a = 6 + Math.floor(4 * b + .2);
                10 === a && --a;
                D.sound.frame = a
            });
            E.onComplete.add(function() {
                a(1)
            });
            E.start()
        },
        H = function() {
            E.stop()
        };
    this.subscribe = function() {
        nge.observer.add("layersSwitcher.show", k);
        nge.observer.add("quickSettings.panelHide", e);
        nge.observer.add("quickSettings.panelSwitch", f);
        nge.observer.add("quickSettings.soundSwitch", c);
        nge.observer.add("sound.volumeAll",
            a);
        nge.observer.add("fullscreen.on", l);
        nge.observer.add("fullscreen.off", l);
        nge.observer.add("slotMachine.spinStart", m);
        nge.observer.add("button.hover", r);
        nge.observer.add("button.unhover", u);
        w && (nge.observer.add("sounds.preload.start", I), nge.observer.add("sounds.preloaded", H))
    };
    this.create = function() {
        w = nge.Lib.Helper.mobileAndTabletCheck();
        if (!this.mobileOnly || w) {
            w && (x = "Mobile", delete D.fullscreen);
            y = nge.findOne("^quickSettingsPanel" + x + "ButtonButton");
            y.toggleOn = !1;
            if (z = nge.findOne("^settingPanel" +
                    x + "BackBg")) {
                var a = z.getData();
                A = (+a.top + +a.bottom) * nge.assets.getQualityFactor();
                B = z.height * nge.assets.getQualityFactor();
                nge.assets.getQualityFactor();
                C = z.width * nge.assets.getQualityFactor();
                K(C, A)
            }
            d();
            f();
            t || v.subscribe();
            t = !0
        }
    }
});
nge.App[nge.appNS].Com.QuickSettingsPanel.UI_v3 = {};
nge.App[nge.appNS].Com.QuickSettingsPanel.UI_v3.Controller = nge.App[nge.appNS].Com.QuickSettingsPanel.Controller.extend(function() {
    this.mobileOnly = !1
});
nge.App[nge.appNS].Com.TotalBet = {};
nge.App[nge.appNS].Com.TotalBet._Package = {
    name: "com.totalBet",
    version: 1,
    requirments: {
        js: ["com/totalBet/tpl"]
    }
};
nge.App[nge.appNS].Com.TotalBet.Controller = nge.Com.Base.extend(function() {
    var d, b = !1;
    this.currencyColor = "#00BFFF";
    var h = this;
    this.create = function() {
        this.createDefault();
        b = nge.Lib.Helper.mobileAndTabletCheck();
        nge.rafSetTimeout(g, 1);
        d || (nge.observer.add("brain.openGameSuccess", g), nge.observer.add("bet.change", g), nge.observer.add("lines.change", g), nge.observer.add("coins.change", g), nge.observer.add("totalBet.update", g));
        return d = !0
    };
    var g = function() {
        var d = nge.localData.get("lines.value"),
            a = nge.localData.get("bet.value"),
            c = nge.localData.get("coins.value"),
            e = nge.localData.get("betMultiplier");
        if (!d || !a || void 0 === c) return !1;
        d = d * a * c * e;
        nge.localData.set("totalBet.value", d);
        a = nge.findAll(".totalBetNumber");
        c = nge.localData.get("pokerMachine.gameParameters.handsQty");
        var g = nge.localData.get("balance.currency") || "";
        e = "1" === nge.localData.get("extraBet") ? nge.localData.get("extraBetMult") : 1;
        var l = (d * e).toFixed(2);
        c && (l = nge.Lib.Validator.convertToFloat(d * c));
        var m = b ? 250 : 150;
        a.forEach(function(a) {
            a.text = l + " " + g;
            a.clearColors();
            a.addColor(h.currencyColor, l.length);
            a.hasClass("betSettingsExtended") && (m += 250);
            a.maxSizeResize("width", m)
        });
        nge.observer.fire("totalBet.change");
        return !0
    }
});
nge.App[nge.appNS].Com.TotalBet.Tpl = function() {
    return {
        styles: {},
        assets: {
            name: "assets",
            contents: []
        },
        objects: {
            name: "objects",
            contents: []
        }
    }
};
nge.App[nge.appNS].Com.TotalBet.Mobile = {};
nge.App[nge.appNS].Com.TotalBet.Mobile.Controller = nge.App[nge.appNS].Com.TotalBet.Controller.extend(function() {
    this.currencyColor = "#EFC273"
});
nge.App[nge.appNS].Com.TotalBet.Mobile.Tpl = function() {
    return {
        styles: {},
        assets: {
            name: "assets",
            contents: []
        },
        objects: {
            name: "objects",
            contents: []
        }
    }
};
nge.App[nge.appNS].Com.TotalBet.Mobile.Blue = {};
nge.App[nge.appNS].Com.TotalBet.Mobile.Blue.Controller = nge.App[nge.appNS].Com.TotalBet.Mobile.Controller.extend(function() {
    this.currencyColor = "#CAEAFF"
});
nge.App[nge.appNS].Com.TotalBet.Mobile.Silver = {};
nge.App[nge.appNS].Com.TotalBet.Mobile.Silver.Controller = nge.App[nge.appNS].Com.TotalBet.Mobile.Controller.extend(function() {
    this.currencyColor = "#DDDDDD"
});
nge.App[nge.appNS].Com.TotalBet.UI_v3 = {};
nge.App[nge.appNS].Com.TotalBet.UI_v3.Gold = {};
nge.App[nge.appNS].Com.TotalBet.UI_v3.Gold.Controller = nge.App[nge.appNS].Com.TotalBet.Controller.extend(function() {
    this.currencyColor = "#EFC273"
});
nge.App[nge.appNS].Com.TotalBet.UI_v3.Blue = {};
nge.App[nge.appNS].Com.TotalBet.UI_v3.Blue.Controller = nge.App[nge.appNS].Com.TotalBet.Controller.extend(function() {
    this.currencyColor = "#CAEAFF"
});
nge.App[nge.appNS].Com.TotalBet.UI_v3.Silver = {};
nge.App[nge.appNS].Com.TotalBet.UI_v3.Silver.Controller = nge.App[nge.appNS].Com.TotalBet.Controller.extend(function() {
    this.currencyColor = "#DDDDDD"
});
nge.App[nge.appNS].Com.WinField = {};
nge.App[nge.appNS].Com.WinField.Cfg = Class.extend(function() {
    this.params = {
        parentContainerName: "winPopupContainer",
        numbersElementsName: "winNumber",
        creditsElementsName: "creditsWinNumber",
        winNumberAnimDuration: 500
    };
    this.get = function() {
        return this.params
    }
});
nge.App[nge.appNS].Com.WinField.Tpl = function() {
    return {
        objects: {
            contents: [{
                type: 1,
                name: "winFieldContainer",
                x: 960,
                y: 486,
                anchorX: .5,
                anchorY: .5
            }]
        }
    }
};
nge.App[nge.appNS].Com.WinField.Controller = nge.Com.Base.extend(function() {
    var d = 0,
        b, h, g, f;
    this.currencyColor = "#FFFFFFF";
    this.winTextTween = !1;
    var a = function(a) {
        for (var b in f) f[b].text = 0 === a ? "" : a
    };
    this.showTextWinAmount = function(a, e) {
        if (g) {
            var c = function(a) {
                    var b = nge.localData.get("slotMachine.lastResponse");
                    b && (a = +b.totalBonusWin);
                    0 < a && (d = a, nge.observer.fire("win.brain.setValue", a))
                },
                f = nge.localData.get("freespin.inProgress") ? nge.Lib.Money.toCoins(nge.localData.get("slotMachine.totalBonusWin")) : a;
            isNaN(f) && (f = 0);
            nge.localData.get("freespin.inProgress") && (nge.localData.set("freespin.totalWin", nge.Lib.Money.fromCoins(f)), nge.localData.set("freespin.totalWinCoins", f));
            0 === f ? c(0) : (a = {
                win: d
            }, nge.localData.set("winTweenInProgress", !0), this.winTextTween = nge.tween.add(a), this.winTextTween.to({
                win: f
            }, e), this.winTextTween.onUpdateCallback(function() {
                c(~~this.win)
            }, a), this.winTextTween.onComplete.addOnce(function() {
                b.winTextTween = !1;
                c(f);
                nge.localData.set("winTweenInProgress", !1);
                nge.localData.get("freespin.inProgress") &&
                    nge.observer.fire("win.brain.lineWin.hide")
            }, b), this.winTextTween.start())
        }
    };
    this.showVFX = function(a) {
        b.showTextWinAmount(a, b.cfg.winNumberAnimDuration)
    };
    this.showFreespinsRestoredWin = function(a) {
        d = a = nge.Lib.Money.toCoins(a);
        nge.observer.fire("win.brain.setValue", a)
    };
    this.setWinFieldValue = function(c) {
        var d = c,
            f = 0;
        if ("number" === typeof c)
            if (0 === c) d = " ";
            else {
                var h = nge.localData.get("balance.currency");
                d = nge.Lib.Money.fromCoins(c).toFixed(2) + " " + h;
                f = h.length
            } for (var m in g) g[m].text = d, g[m].clearColors(),
            h && g[m].addColor(b.currencyColor, d.length - f);
        a(c)
    };
    this.stopWinTextTween = function() {
        b.winTextTween && (b.winTextTween.stop(), b.winTextTween = !1, nge.localData.set("winTweenInProgress", !1), nge.localData.get("freespin.inProgress") && nge.observer.fire("win.brain.lineWin.hide"))
    };
    this.printMessage = function(b) {
        b = _(b);
        for (var c in g) g[c].text = b, g[c].clearColors();
        a(b)
    };
    this.subscribe = function() {
        nge.observer.add("win.winField.setValue", b.setWinFieldValue);
        nge.observer.add("win.winField.showRestoredWin", b.showFreespinsRestoredWin);
        nge.observer.add("win.printMessage", b.printMessage);
        nge.observer.add("win.winField.setPreviousAmount", function(a) {
            d = a
        });
        nge.observer.add("win.winField.showVFX", b.showVFX);
        nge.observer.add("win.winField.stopWinTextTween", b.stopWinTextTween.bind(b))
    };
    this.create = function() {
        b = this;
        this.createDefault();
        b.cfg = this.getInstance("Cfg").get();
        g = nge.findAll("." + b.cfg.numbersElementsName);
        f = nge.findAll(".".concat(b.cfg.creditsElementsName));
        var a = nge.localData.get("slotMachine.totalBonusWin");
        d = nge.Lib.Money.toCoins(a ||
            0);
        h || this.subscribe();
        h = !0
    }
});
nge.App[nge.appNS].Com.WinField.Mobile = {};
nge.App[nge.appNS].Com.WinField.Mobile.Controller = nge.App[nge.appNS].Com.WinField.Controller.extend(function() {
    this.currencyColor = "#EFC273";
    var d = !1,
        b = null,
        h = {
            "^winMobileNumber": null,
            "^creditsWinMobileNumber": null
        },
        g = !0,
        f = !0,
        a = {
            freeSpinTotalAmount: null,
            freeSpinPlayedAmount: null
        },
        c = function(a) {
            return "" === a || isNaN(+a) ? "" : +a
        },
        e = function(b, d) {
            d = c(d);
            a.freeSpinTotalAmount && (a.freeSpinTotalAmount.text = d);
            b = c(b);
            a.freeSpinPlayedAmount && (a.freeSpinPlayedAmount.text = b)
        },
        k = function() {
            for (var a in h) h[a] = nge.findOne(a)
        },
        l = function() {
            g && k();
            if (!f)
                for (var a in h) h[a].y -= -16;
            f = !0
        },
        m = function(a) {
            var c = a.current;
            a = a.total;
            g && k();
            if (f)
                for (var d in h) h[d].y += -16;
            f = g = !1;
            e(c, a);
            b && (b.visible = !0)
        },
        q = function() {
            l();
            b && (b.visible = !1);
            e("", "")
        };
    this.create = function() {
        b = nge.findOne("^gameFreeSpinMobileContainer");
        for (var c in a) a[c] = nge.findOne(".".concat(c));
        l();
        b && (b.visible = !1);
        e("", "");
        k();
        this.super.create();
        d || this.subscribe();
        d = !0
    };
    this.subscribe = function() {
        this.super.subscribe();
        nge.observer.add("freespin.counterUpdate",
            m);
        nge.observer.add("freespin.counterReset", q)
    }
});
nge.App[nge.appNS].Com.WinField.Mobile.Blue = {};
nge.App[nge.appNS].Com.WinField.Mobile.Blue.Controller = nge.App[nge.appNS].Com.WinField.Mobile.Controller.extend(function() {
    this.currencyColor = "#CAEAFF"
});
nge.App[nge.appNS].Com.WinField.Mobile.Silver = {};
nge.App[nge.appNS].Com.WinField.Mobile.Silver.Controller = nge.App[nge.appNS].Com.WinField.Mobile.Controller.extend(function() {
    this.currencyColor = "#DDDDDD"
});
nge.App[nge.appNS].Com.WinField.UI_v3 = {};
nge.App[nge.appNS].Com.WinField.UI_v3.Gold = {};
nge.App[nge.appNS].Com.WinField.UI_v3.Gold.Controller = nge.App[nge.appNS].Com.WinField.Controller.extend(function() {
    this.currencyColor = "#EFC273"
});
nge.App[nge.appNS].Com.WinField.UI_v3.Blue = {};
nge.App[nge.appNS].Com.WinField.UI_v3.Blue.Controller = nge.App[nge.appNS].Com.WinField.Controller.extend(function() {
    this.currencyColor = "#CAEAFF"
});
nge.App[nge.appNS].Com.WinField.UI_v3.Silver = {};
nge.App[nge.appNS].Com.WinField.UI_v3.Silver.Controller = nge.App[nge.appNS].Com.WinField.Controller.extend(function() {
    this.currencyColor = "#DDDDDD"
});
nge.App[nge.appNS].Com.Winlines = {};
nge.App[nge.appNS].Com.Winlines._Package = {
    name: "com.winlines",
    version: 1,
    requirments: {
        js: []
    }
};
nge.App[nge.appNS].Com.Winlines.Cfg = nge.Com.Winlines.Cfg.extend(function() {
    this.linesHighligntDuration = 5E3;
    this.rowsIndexesNormalizeValue = this.fastAutoMode = !1;
    this.globalOffset = 0;
    this.lineWeight = 6;
    this.tailSize = 160;
    this.numbers = !1;
    this.animateAllSymbols = !0;
    this.globalOffset = 0;
    this.lineOffsets = [0, 0, 0, -90, 90, -90, 90, 90, -90];
    this.lineColors = "0x01b2ff 0xfe0000 0x008c00 0xfff500 0xff3df6 0x00fe70 0xfcfcf4 0xff8600 0x00fdf5".split(" ");
    this.stroke = {
        weight: 3,
        colors: "0x006ea3 0xc00000 0x005701 0xa59c00 0xbd219e 0x00a145 0x9f9e9a 0xb75300 0x00a19c".split(" ")
    };
    this.lineCustomCoords = [!1, !1, !1, !1, !1, !1, !1, !1, !1]
});
nge.App[nge.appNS].Com.WinlinesAddon = {};
nge.App[nge.appNS].Com.WinlinesAddon._Package = {
    name: "com.winlinesAddon",
    version: 1,
    requirments: {
        js: ["com/winlinesAddon/controller", "com/winlinesAddon/tpl"]
    }
};
nge.App[nge.appNS].Com.WinlinesAddon.Cfg = Class.extend(function() {
    this.singleton = !0;
    this.params = {
        generateLines: !0,
        cacheBorderWinObjectsAsBitmap: !0,
        cacheRouteframeObjectsAsBitmap: !0,
        border: {
            weight: 6,
            offsetX: 0,
            offsetY: -3,
            textOffsetX: 0,
            textOffsetY: 0,
            width: 98,
            height: 36,
            colors: !1,
            alpha: 1,
            stroke: {
                weight: 2,
                colors: !1,
                alpha: 1
            },
            background: {
                color: "0x000",
                alpha: .65
            },
            scatter: {
                color: "0xF5990C",
                strokeColor: "0xD5870C"
            },
            textSameColor: !1
        },
        routeframe: {
            offsetX: 0,
            offsetY: 0,
            weight: 6,
            width: 252,
            height: 252,
            colors: !1,
            alpha: 1,
            stroke: {
                weight: 4,
                colors: !1,
                alpha: 1
            },
            scatter: {
                color: "0xF5990C",
                strokeColor: "0xD5870C"
            }
        },
        routeframesNeed: !0,
        borderWinNeed: !0,
        scaleFactor: 2,
        borderWin: 2,
        borderWinOffsets: !1,
        routeframesUnderSymbols: !1,
        rowsXoffset: !1,
        rowsYoffset: !1,
        textStyle: {
            font: 'bold 18pt "roboto_condensed_regular"',
            fill: "#fff",
            align: "left"
        }
    };
    this.get = function() {
        return this.params
    }
});
nge.App[nge.appNS].Com.WinlinesAddon.Controller = nge.Com.Base.extend(function() {
    var d, b, h, g = {};
    this.lineSelector = "#";
    this.create = function() {
        d = this;
        g = {};
        this.createDefault();
        h || (b = this.getInstance("Cfg").get(), h = b.generateLines ? this.getInstance("LinesController") : this.getInstance("TexturesController"), nge.observer.add("lines.change", f));
        h.create();
        var a = nge.localData.get("lines.value");
        f(a);
        return !0
    };
    var f = function(a) {
        for (var b = nge.localData.get("winlines"), e = 1; e < b.length + 1; e++) {
            var f = !1;
            e <= a && (f = !0);
            var h = e,
                m = d.lineSelector.concat("lm-r-", h),
                q = d.lineSelector.concat("lm-l-", h);
            g[m] || (g[m] = nge.findOne(d.lineSelector.concat("lm-r-", h)));
            g[q] || (g[q] = nge.findOne(d.lineSelector.concat("lm-l-", h)));
            g[m] && (g[m].visible = f);
            g[q] && (g[q].visible = f)
        }
    }
});
nge.App[nge.appNS].Com.WinlinesAddon.TexturesController = nge.Com.Base.extend(function() {
    var d, b, h, g, f, a, c, e = !1,
        k, l = {};
    this.create = function() {
        h = this.getInstance("Cfg", "slotMachine").get();
        b = this.getInstance("Cfg").get();
        l = {};
        if (g = nge.findOne("^" + h.parentName)) {
            var k = g.mt.data;
            f = k.width / h.mw;
            a = k.height / h.mh;
            c = nge.localData.get("winlines");
            k = [];
            for (var m = 0; m < c.length; m++) {
                var v = new nge.Mlm.Objects.Folder({
                    name: "w-a-line-" + m,
                    isVisible: !1
                });
                q(v, c[m], m);
                k.push(v)
            }
            m = nge.game.cache.checkImageKey("border_win_scatter");
            v = nge.game.cache.checkImageKey("gn_routeframes_scatter");
            m && v && (e = !0, v = new nge.Mlm.Objects.Folder({
                name: "w-a-line-scatter",
                isVisible: !1
            }), c.scatter = c[0], q(v, c.scatter, "scatter"), k.push(v))
        } else k = !1;
        m = this.getInstance("Tpl", !1, k);
        k = nge.findOne("^winlinesAddonContainer");
        nge.objects.create(m.objects.contents[0], k);
        b.routeframesUnderSymbols && (m = nge.findOne("^" + h.parentName), m.add(k), k.x -= m.x, k.y -= m.y);
        d || (b.routeframesUnderSymbols ? nge.observer.add("winlines.lineHighlite.start.previousHided", p) : nge.observer.add("winlines.lineHighlite.startComplete",
            p), nge.observer.add("winlines.view.startHideAll", r), nge.observer.add("win", n));
        return d = !0
    };
    var m = function(a) {
            l[a] || (l[a] = nge.findOne("^".concat(a)));
            return l[a]
        },
        q = function(c, d, e) {
            var g = h.rowsXoffset ? h.rowsXoffset[0] : 0 + b.rowsXoffset ? b.rowsXoffset[0] : 0;
            var k = h.rowsYoffset ? h.rowsYoffset[0] : 0 + b.rowsYoffset ? b.rowsYoffset[0] : 0;
            var l = b.suffix || e;
            "number" === typeof l && (l = nge.Lib.Helper.LdgZero(e, 3));
            if (b.borderWinNeed) {
                var m = new nge.Mlm.Objects.Text({
                    name: "w-a-text-" + e,
                    x: f / 2 + g,
                    y: d[0] * a + a + k,
                    text: "1000",
                    anchorX: .5,
                    anchorY: 1,
                    style: b.textStyle
                });
                c.contents.push(m);
                k = new nge.Mlm.Objects.Image({
                    name: "w-a-sb-" + e,
                    x: f / 2 + g,
                    y: d[0] * a + a + k,
                    assetKey: "border_win_" + l,
                    anchorX: .5,
                    anchorY: 1
                });
                c.contents.push(k)
            }
            if (b.routeframesNeed)
                for (m = 0; m < d.length; m++) {
                    var n = "gn_routeframes_" + l;
                    g = h.rowsXoffset ? h.rowsXoffset[m] : 0 + b.rowsXoffset ? b.rowsXoffset[m] : 0;
                    k = h.rowsYoffset ? h.rowsYoffset[m] : 0 + b.rowsYoffset ? b.rowsYoffset[m] : 0;
                    g = new nge.Mlm.Objects.Folder({
                        name: "w-a-el-" + e + "-" + m,
                        x: m * f + f / 2 + g,
                        y: (.5 + parseInt(d[m])) * a + k
                    });
                    c.contents.push(g);
                    k = new nge.Mlm.Objects.Image({
                        assetKey: n,
                        scaleX: b.scaleFactor,
                        scaleY: b.scaleFactor,
                        anchorX: .5,
                        anchorY: .5
                    });
                    g.contents.push(k)
                }
        },
        n = function() {
            k = nge.localData.get("coins.value")
        },
        p = function(d) {
            if (nge.localData.get("slotMachineSpinning")) return !1;
            var g = d.selectedLine;
            if ("undefined" === typeof g)
                if (e) g = "scatter";
                else return !1;
            var l = d.amount,
                n = k || nge.localData.get("coins.value");
            m("w-a-line-".concat(g)).visible = !0;
            b.borderWinNeed && (m("w-a-text-".concat(g)).text = parseFloat((l / n).toFixed(2)));
            var p = c[g];
            n = [];
            for (var q = 0; q < p.length; q++) n[q] = !1;
            var r = !0;
            for (q = 0; q < d.wonSymbols.length; q++) {
                var u = d.wonSymbols[q];
                p[u[0]] === u[1] && (n[u[0]] = !0);
                var A = h.rowsXoffset ? h.rowsXoffset[u[0]] : 0 + b.rowsXoffset ? b.rowsXoffset[u[0]] : 0,
                    C = h.rowsYoffset ? h.rowsYoffset[u[0]] : 0 + b.rowsYoffset ? b.rowsYoffset[u[0]] : 0;
                "scatter" === g && (n[u[0]] = !0, m("w-a-el-scatter-".concat(u[0])).y = u[1] * a + a / 2 + C);
                if (b.borderWinNeed && r && n[u[0]]) {
                    r = !1;
                    var D = m("w-a-text-".concat(g)),
                        J = b.borderWinOffsets[g],
                        E = J && J.y ? J.y : 0;
                    D.x = u[0] * f + f / 2 + A + (J && J.x ? J.x : 0);
                    D.y = u[1] * a + a + C + E;
                    u = m("w-a-sb-".concat(g));
                    u.x = D.x;
                    u.y = D.y;
                    A = 0 < l ? !0 : !1;
                    D.visible = A;
                    u.visible = A
                }
            }
            if (b.routeframesNeed)
                for (q = 0; q < n.length; q++)
                    if (d = m("w-a-el-".concat(g, "-", q))) d.visible = n[q]
        },
        r = function(a) {
            for (a = 0; a < c.length; a++) {
                var b = m("w-a-line-".concat(a));
                b && (b.visible = !1)
            }
            if (b = m("w-a-line-scatter")) b.visible = !1
        }
});
nge.App[nge.appNS].Com.WinlinesAddon.LinesController = nge.Com.Base.extend(function() {
    this.winlinesAddonContainer;
    var d, b = !1,
        h, g, f, a, c = 0,
        e = 0,
        k, l, m, q;
    this.findObject = function(a, b, c) {
        for (var d = 0; d < a.length; d++)
            if (a[d][b] === c) return a[d]
    };
    var n = function(a, b, c, d, e, f, g) {
            a.beginFill(f, g || 1);
            a.drawRect(b, c, d, e);
            a.endFill()
        },
        p = function(a, b) {
            var c = function(a, c, d, e, f) {
                a = [{
                    x: 0,
                    y: 0
                }, {
                    x: a,
                    y: 0
                }, {
                    x: a,
                    y: c
                }, {
                    x: 0,
                    y: c
                }];
                for (c = 0; c < a.length; c++) {
                    var g = a[c],
                        h = a[c + 1 >= a.length ? 0 : c + 1],
                        k = b,
                        l = g.x,
                        m = g.y,
                        n = d,
                        p = e;
                    k.beginFill(p,
                        f || 1);
                    k.lineStyle(0, p, 0);
                    k.drawCircle(l, m, n);
                    k.endFill();
                    k = b;
                    l = g.x;
                    g = g.y;
                    m = h.x;
                    h = h.y;
                    n = d;
                    p = e;
                    var q = f || 1;
                    k.beginFill(p, q);
                    k.lineStyle(n, p, q);
                    k.moveTo(l, g);
                    k.lineTo(m, h);
                    k.moveTo(m, h);
                    k.endFill()
                }
            };
            a.background && n(b, 0, 0, a.width, a.height, a.background.color, a.background.alpha);
            a.stroke && c(a.width, a.height, a.strokeWeight + a.weight, a.strokeColor, a.strokeAlpha);
            c(a.width, a.height, a.weight, a.color, a.alpha)
        },
        r = function(a, b, d) {
            var k = f.rowsXoffset ? f.rowsXoffset[0] : 0 + h.rowsXoffset ? h.rowsXoffset[0] : 0,
                l = f.rowsYoffset ?
                f.rowsYoffset[0] : 0 + h.rowsYoffset ? h.rowsYoffset[0] : 0,
                m = function(a, b) {
                    if (!1 === a) return {
                        stroke: null
                    };
                    var c = g.stroke;
                    return {
                        stroke: a || c,
                        weight: a ? a.weight : c ? c.weight : 0,
                        color: (a && a.colors || c && c.colors)[b],
                        alpha: a ? a.alpha : c ? c.alpha : 1
                    }
                };
            if (h.routeframesNeed)
                for (var n = 0; n < b.length; n++) {
                    k = f.rowsXoffset ? f.rowsXoffset[n] : 0 + h.rowsXoffset ? h.rowsXoffset[n] : 0;
                    l = f.rowsYoffset ? f.rowsYoffset[n] : 0 + h.rowsYoffset ? h.rowsYoffset[n] : 0;
                    var q = nge.objects.create(new nge.Mlm.Objects.Graphics({
                        name: "w-a-el-" + d + "-" + n
                    }));
                    q.name =
                        "w-a-el-" + d + "-" + n;
                    var r = h.routeframe ? h.routeframe.width : 0,
                        t = h.routeframe ? h.routeframe.height : 0,
                        u = h.routeframe ? h.routeframe.offsetX : 0,
                        v = h.routeframe ? h.routeframe.offsetY : 0;
                    q.x = n * c + c / 2 + k - r / 2 + u;
                    q.y = (.5 + parseInt(b[n])) * e + l - t / 2 + v;
                    r = "scatter" === d ? h.routeframe.scatter.color : h.routeframe.colors[d] || g.lineColors[d];
                    t = m(h.routeframe.stroke, d);
                    u = "scatter" === d ? h.routeframe.scatter.strokeColor : t.color;
                    p({
                        width: h.routeframe.width,
                        height: h.routeframe.height,
                        weight: h.routeframe.weight,
                        color: r,
                        alpha: h.routeframe.alpha,
                        stroke: t.stroke,
                        strokeWeight: t.weight,
                        strokeColor: u,
                        strokeAlpha: t.alpha
                    }, q);
                    h.cacheRouteframeObjectsAsBitmap && (q.cacheAsBitmap = !0);
                    a.add(q)
                }
            h.borderWinNeed && (q = nge.objects.create(new nge.Mlm.Objects.Graphics({
                    name: "w-a-sb-" + d
                })), q.name = "w-a-sb-" + d, r = h.border ? h.border.width : 0, t = h.border ? h.border.height : 0, u = h.border ? h.border.offsetX : 0, v = h.border ? h.border.offsetY : 0, q.x = c / 2 + k - r / 2 + u, q.y = b[0] * e + e + l - t + v, r = "scatter" === d ? h.border.scatter.color : h.border.colors[d] || g.lineColors[d], t = m(h.border.stroke, d), u = "scatter" ===
                d ? h.border.scatter.strokeColor : t.color, p({
                    width: h.border.width,
                    height: h.border.height,
                    weight: h.border.weight,
                    color: r,
                    alpha: h.border.alpha,
                    stroke: t.stroke,
                    strokeWeight: t.weight,
                    strokeColor: u,
                    strokeAlpha: t.alpha,
                    background: h.border.background
                }, q), h.cacheBorderWinObjectsAsBitmap && (q.cacheAsBitmap = !0), a.add(q), k = c / 2 + k + (h.border ? h.border.textOffsetX : 0), b = b[0] * e + e + l + (h.border ? h.border.textOffsetY : 0), l = h.textStyle, h.border.textSameColor && (l = nge.Lib.Helper.jsObjClone(h.textStyle), l.fill = r.replace("0x", "#")),
                nge.objects.create(new nge.Mlm.Objects.Text({
                    name: "w-a-text-" + d,
                    x: k,
                    y: b,
                    text: "1000",
                    style: l,
                    anchorX: .5,
                    anchorY: 1
                }), a).name = "w-a-text-" + d)
        },
        u = function() {
            m = nge.localData.get("coins.value")
        },
        t = function(a) {
            if (nge.localData.get("slotMachineSpinning")) return !1;
            var b = a.selectedLine;
            if ("undefined" === typeof b)
                if (l) b = "scatter";
                else return !1;
            var g = a.amount,
                n = m || nge.localData.get("coins.value"),
                p = d.findObject(d.winlinesAddonContainer.children, "name", "w-a-line-" + b);
            p.visible = !0;
            h.borderWinNeed && (d.findObject(p.children,
                "type", Phaser.TEXT).text = parseFloat((g / n).toFixed(2)));
            var q = k[b];
            n = [];
            for (var r = 0; r < q.length; r++) n[r] = !1;
            var t = !0;
            for (r = 0; r < a.wonSymbols.length; r++) {
                var u = a.wonSymbols[r];
                q[u[0]] === u[1] && (n[u[0]] = !0);
                var v = f.rowsXoffset ? f.rowsXoffset[u[0]] : 0 + h.rowsXoffset ? h.rowsXoffset[u[0]] : 0,
                    w = f.rowsYoffset ? f.rowsYoffset[u[0]] : 0 + h.rowsYoffset ? h.rowsYoffset[u[0]] : 0;
                if ("scatter" === b) {
                    n[u[0]] = !0;
                    var I = d.findObject(d.winlinesAddonContainer.children, "name", "w-a-line-scatter").children[u[0]],
                        H = h.routeframe ? h.routeframe.height :
                        0,
                        G = h.routeframe ? h.routeframe.offsetY : 0;
                    I.y = u[1] * e + e / 2 + w - H / 2 + G
                }
                h.borderWinNeed && t && n[u[0]] && (t = !1, I = d.findObject(p.children, "type", Phaser.TEXT), G = (H = h.borderWinOffsets[b]) && H.y ? H.y : 0, I.x = u[0] * c + c / 2 + v + (H && H.x ? H.x : 0), I.y = u[1] * e + e + w + G, u = d.findObject(p.children, "name", "w-a-sb-" + b), v = h.border ? h.border.width : 0, H = h.border ? h.border.height : 0, w = h.border ? h.border.offsetX : 0, G = h.border ? h.border.offsetY : 0, u.x = I.x - v / 2 + w, u.y = I.y - H + G, I.x += h.border ? h.border.textOffsetX : 0, I.y += h.border ? h.border.textOffsetY : 0, H = 0 < g,
                    I.visible = H, u.visible = H)
            }
            if (h.routeframesNeed)
                for (r = 0; r < n.length; r++)
                    if (a = d.findObject(p.children, "name", "w-a-el-" + b + "-" + r)) a.visible = n[r]
        },
        v = function(a) {
            for (var b = 0; b < k.length; b++)
                if (a = d.findObject(d.winlinesAddonContainer.children, "name", "w-a-line-" + b)) a.visible = !1;
            if (a = d.findObject(d.winlinesAddonContainer.children, "name", "w-a-line-scatter")) a.visible = !1
        };
    this.create = function() {
        d = this;
        f = this.getInstance("Cfg", "slotMachine").get();
        h = this.getInstance("Cfg").get();
        g = this.getInstance("Cfg", "winlines");
        var m = this.getInstance("Tpl", !1);
        nge.objects.create(m.objects.contents[0], q);
        q = nge.findOne("^winlinesAddonContainer");
        d.winlinesAddonContainer = nge.findOne("^winlinesAddon");
        if (a = nge.findOne("^" + f.parentName)) {
            d.winlinesAddonContainer.contents = [];
            m = a.mt.data;
            c = m.width / f.mw;
            e = m.height / f.mh;
            k = nge.localData.get("winlines");
            for (m = 0; m < k.length; m++) {
                var n = nge.objects.create(new nge.Mlm.Objects.Folder({
                    name: "w-a-line-" + m,
                    isVisible: !1
                }));
                n.name = "w-a-line-" + m;
                r(n, k[m], m);
                d.winlinesAddonContainer.add(n)
            }
            m = h.routeframe &&
                !1 !== h.routeframe.scatter;
            h.border && !1 !== h.border.scatter && m && (l = !0, n = nge.objects.create(new nge.Mlm.Objects.Folder({
                name: "w-a-line-scatter",
                isVisible: !1
            })), n.name = "w-a-line-scatter", n.visible = !1, k.scatter = k[0], r(n, k.scatter, "scatter"), d.winlinesAddonContainer.add(n))
        }
        h.routeframesUnderSymbols && (m = nge.findOne("^" + f.parentName), m.add(q), q.x -= m.x, q.y -= m.y);
        b || (h.routeframesUnderSymbols ? nge.observer.add("winlines.lineHighlite.start.previousHided", t) : nge.observer.add("winlines.lineHighlite.startComplete",
            t), nge.observer.add("winlines.view.startHideAll", v), nge.observer.add("win", u));
        b = !0
    }
});
nge.App[nge.appNS].Com.WinlinesAddon.Tpl = function(d, b) {
    d = d || {};
    return {
        styles: {},
        assets: {
            name: "assets",
            contents: []
        },
        objects: {
            name: "objects",
            contents: [{
                type: 1,
                name: "winlinesAddon",
                x: 250,
                y: 101,
                contents: d
            }]
        }
    }
};
nge.App[nge.appNS].Mlm = {};
nge.App[nge.appNS].Mlm.Brain = {};
nge.App[nge.appNS].Mlm.Brain.Buttons = Class.extend(function() {
    this.enableNewLogic = !1;
    var d = this,
        b, h, g, f, a, c, e, k, l, m = !1,
        q = !1;
    this.paytableBtnName = "PAY TABLE";
    this.hold1 = "HOLD 1";
    this.hold2 = "HOLD 2";
    this.hold3 = "HOLD 3";
    this.hold4 = "HOLD 4";
    this.hold5 = "HOLD 5";
    this.holdEnabled = !0;
    this.bonusGameStartEvent = "freespin.press.spinButton";
    this.continueBtnName = "CONTINUE\nBONUS";
    this.spinBtnName = "SPIN";
    this.stopBtnName = "STOP";
    this.spinBackToGameName = "SPIN";
    this.gambleRedBtnName = "RED";
    this.gambleBlackBtnName = "BLACK";
    this.takeButtonName = "TAKE";
    this.oneBetBtnName = "ONE BET";
    this.maxBetBtnName = "MAX BET";
    this.autoBtnOn = "AUTO\nON";
    this.autoBtnOff = "AUTO\nOFF";
    this.customGambleGame = !1;
    this.scenes = ["play"];
    this.gambleChooseButtonSelectors = {
        red: "^oneBetButtonButton",
        black: "^maxBetButtonButton"
    };
    this.mainButtons = "coinMinus coinPlus paytable hold1 hold2 hold3 hold4 hold5 oneBet maxBet spin auto".split(" ");
    this.controlButtons = ["sound", "fullscreen"];
    this.disableButtonsOnMinMax = !1;
    this.minMaxComponentList = [{
        name: "coins",
        btnNames: ["coinMinus",
            "coinPlus"
        ],
        disabled: [!1, !1],
        event: "change",
        cfg: null
    }];
    this.enableWinlinesQuickFinish = !0;
    var n = function(a, b, c, e, f, g) {
            if (-1 !== d.mainButtons.indexOf(a) || -1 !== d.controlButtons.indexOf(a)) {
                var h = {};
                h[a] = {
                    title: _(b),
                    callback: c,
                    enabled: e,
                    visible: f,
                    frame: g
                };
                d.beforeUpdateHandler(h);
                nge.observer.fire("buttons.changeData", h);
                d.afterUpdateHandler(h)
            }
        },
        p = function(a) {
            nge.localData.get("autospin") ? n("auto", d.autoBtnOn, function() {
                nge.observer.fire("autospinSimple.off")
            }, a) : n("auto", d.autoBtnOff, function() {
                    nge.observer.fire("autospinSimple.on")
                },
                a)
        },
        r = function(a, b) {
            n(a, void 0, void 0, b)
        },
        u = function() {
            d.disableButtonsOnMinMax && d.minMaxComponentList.forEach(function(a) {
                a.btnNames.forEach(function(b, c) {
                    r(a.btnNames[c], !a.disabled[c])
                })
            })
        },
        t = function(a) {
            d.mainButtons.forEach(function(b) {
                (-1 === b.indexOf("hold") || d.holdEnabled) && r(b, a)
            });
            a && u()
        },
        v = function() {
            d.minMaxComponentList.forEach(function(a) {
                nge.observer.add(a.name + "." + a.event, function(b) {
                    var c = a;
                    c.cfg || (c.cfg = nge.localData.get(c.name + ".cfg"));
                    b = c.cfg.indexOf(b);
                    c.disabled[0] = 0 === b;
                    c.disabled[1] =
                        b === c.cfg.length - 1;
                    q && u()
                }, !1, !0)
            })
        };
    this.restoreDesktopButtons = function() {
        n("sound", void 0, function() {
            nge.observer.fire("settings.soundSwitch")
        }, !0);
        nge.localData.get("fullscreen.enabled") ? n("fullscreen", void 0, function() {
            nge.observer.fire("fullscreen.off")
        }, !0) : n("fullscreen", void 0, function() {
            nge.observer.fire("fullscreen.on")
        }, !0);
        n("oneBet", d.oneBetBtnName, function() {
            nge.observer.fire("bet.up")
        }, !0);
        n("maxBet", d.maxBetBtnName, function() {
            nge.observer.fire("maxbet.go")
        }, !0);
        p(!0);
        n("hold1", d.hold1,
            function() {
                var a = nge.localData.get("lines.cfg")[0];
                a && nge.observer.fire("lines.set", a)
            }, d.holdEnabled);
        n("hold2", d.hold2, function() {
            var a = nge.localData.get("lines.cfg")[1];
            a && nge.observer.fire("lines.set", a)
        }, d.holdEnabled);
        n("hold3", d.hold3, function() {
            var a = nge.localData.get("lines.cfg")[2];
            a && nge.observer.fire("lines.set", a)
        }, d.holdEnabled);
        n("hold4", d.hold4, function() {
            var a = nge.localData.get("lines.cfg")[3];
            a && nge.observer.fire("lines.set", a)
        }, d.holdEnabled);
        n("hold5", d.hold5, function() {
            var a =
                nge.localData.get("lines.cfg")[4];
            a && nge.observer.fire("lines.set", a)
        }, d.holdEnabled);
        n("paytable", d.paytableBtnName, function() {
            nge.observer.fire("paytable.show")
        }, !0);
        n("spin", d.spinBtnName, function() {
            nge.observer.fire("slotMachine.spinCommand")
        }, !0);
        n("coinMinus", void 0, function() {
            nge.observer.fire("coins.down")
        }, !0);
        n("coinPlus", void 0, function() {
            nge.observer.fire("coins.up")
        }, !0);
        u()
    };
    this.startFreeSpin = function() {
        n("spin", d.spinBtnName, function() {
            nge.observer.fire(d.bonusGameStartEvent)
        }, !0);
        n("oneBet", d.oneBetBtnName, function() {
            nge.observer.fire(d.bonusGameStartEvent)
        }, !0);
        n("maxBet", d.maxBetBtnName, function() {
            nge.observer.fire(d.bonusGameStartEvent)
        }, !0);
        p(!1);
        n("hold1", d.hold1, function() {
            nge.observer.fire(d.bonusGameStartEvent)
        }, d.holdEnabled);
        n("hold2", d.hold2, function() {
            nge.observer.fire(d.bonusGameStartEvent)
        }, d.holdEnabled);
        n("hold3", d.hold3, function() {
            nge.observer.fire(d.bonusGameStartEvent)
        }, d.holdEnabled);
        n("hold4", d.hold4, function() {
                nge.observer.fire(d.bonusGameStartEvent)
            },
            d.holdEnabled);
        n("hold5", d.hold5, function() {
            nge.observer.fire(d.bonusGameStartEvent)
        }, d.holdEnabled);
        n("paytable", d.paytableBtnName, function() {
            nge.observer.fire(d.bonusGameStartEvent)
        }, !0)
    };
    var w = function(a, b) {
        var c = {};
        c[a] = {
            classes: [{
                title: b,
                action: "add"
            }]
        };
        nge.observer.fire("buttons.changeData", c)
    };
    this.beforeUpdateHandler = function() {};
    this.afterUpdateHandler = function() {};
    this.changeButtonState = n;
    this.onRestoreExtension = function() {};
    this.offerRestore = function() {
        var a = nge.localData.get("autospin");
        a = 0 !== parseInt(nge.localData.get("freeGame.amount"), 10) && !a;
        p(a);
        n("paytable", d.paytableBtnName, function() {
            nge.observer.fire("paytable.show")
        }, a);
        n("spin", d.spinBtnName, function() {
            nge.observer.fire("slotMachine.spinCommand")
        }, a);
        n("oneBet", d.oneBetBtnName, function() {
            nge.observer.fire("bet.up")
        }, !1);
        n("maxBet", d.maxBetBtnName, function() {
            nge.observer.fire("maxbet.go")
        }, !1)
    };
    var x = function() {
        a = !1;
        d.offerRestore()
    };
    this.onRestore = function(a) {
        !m || this.enableNewLogic || "undefined" !== typeof a && -1 === this.scenes.indexOf(a) ||
            (q = !0, u(), d.onRestoreExtension(), nge.localData.get("freeGame.inProgress") ? x() : d.restoreDesktopButtons(), nge.localData.get("slotMachine.lastResponse") && t(!1), f = !1)
    };
    var y = function() {
            var a = nge.localData.get("freespin.inProgress"),
                b = nge.localData.get("respin.inProgress");
            a && b || t(!1);
            n("auto", d.autoBtnOn, function() {
                nge.observer.fire("autospinSimple.off")
            }, !0)
        },
        z = function() {
            a ? (a = !1, n("auto", d.autoBtnOn, function() {
                nge.observer.fire("autospinSimple.on")
            }, !1)) : n("auto", d.autoBtnOff, function() {
                    nge.observer.fire("autospinSimple.on")
                },
                !0)
        };
    this.onPaytableShow = function() {
        t(!1);
        n("paytable", d.paytableBtnName, function() {
            nge.observer.fire("paytable.hide")
        }, !0);
        n("oneBet", "BACK", function() {
            nge.observer.fire("paytable.back")
        }, !0);
        n("maxBet", "NEXT", function() {
            nge.observer.fire("paytable.next")
        }, !0);
        n("spin", d.spinBackToGameName, function() {
            nge.observer.fire("paytable.hide")
        }, !0)
    };
    this.onPaytableHide = function() {
        if (nge.localData.get("freeGame.inProgress")) x();
        else d.onRestore();
        nge.localData.get("autospin") ? n("auto", d.autoBtnOn, function() {
                nge.observer.fire("autospinSimple.off")
            },
            !0) : n("auto", d.autoBtnOff, function() {
            nge.observer.fire("autospinSimple.on")
        }, !0)
    };
    this.onSpinStop = function() {
        n("spin", d.spinBtnName, function() {
            nge.observer.fire("slotMachine.spinCommand")
        }, !1);
        nge.localData.set("spin.onStop", !0)
    };
    var B = function() {
            k = l = b = !1;
            t(!1);
            r("auto", !0)
        },
        A = function() {
            var a = nge.localData.get("freeGame.inProgress"),
                c = nge.localData.get("freeGame.amount"),
                e = nge.localData.get("freespin.inProgress"),
                g = nge.localData.get("respin.inProgress");
            e || g || f || b || (e = nge.localData.get("autospin"),
                g = nge.localData.get("slotMachine.slotWin.canGamble"), l && !k ? (t(!1), p(!0), e || d.customGambleGame || "true" !== g || d.setButtonsStateOnWinCycleComplete(), a && 0 === parseInt(c, 10) && e && (nge.observer.fire("buttons.insidePress", "auto"), p(!0))) : k || a ? !k && a && x() : (n("spin", d.spinBtnName, function() {
                    nge.observer.fire("slotMachine.spinCommand")
                }, !e), e || t(!0)), k = !0, l = !1)
        };
    this.setButtonsStateOnWinCycleComplete = function() {
        n("spin", d.takeButtonName, function() {
            nge.observer.fire("gamble.take")
        }, !0);
        n("oneBet", "GAMBLE", function() {
            nge.localData.get("gamble.canPlay") &&
                nge.observer.fire("gamble.go")
        }, !0);
        n("maxBet", "GAMBLE", function() {
            nge.localData.get("gamble.canPlay") && nge.observer.fire("gamble.go")
        }, !0)
    };
    var C = function() {
            l = !0
        },
        D = function(a) {
            g && f && !g.input.pointerOver() && d.setButtonStateOnRedSwitchFrame(a)
        };
    this.setButtonStateOnRedSwitchFrame = function(a) {
        n("oneBet", void 0, void 0, void 0, void 0, a)
    };
    var J = function(a) {
            h && f && !h.input.pointerOver() && n("maxBet", void 0, void 0, void 0, void 0, a)
        },
        E = function() {
            f = l = c = !1;
            var a = nge.localData.get("freeGame.amount"),
                b = nge.localData.get("freeGame.inProgress"),
                e = nge.localData.get("autospin");
            t(!1);
            b && 0 === parseInt(a, 10) ? p(!1) : p(!0);
            D(1);
            J(1);
            n("spin", d.takeButtonName, function() {
                nge.observer.fire("gamble.take")
            }, !e)
        },
        K = function() {
            c = f = b = !0;
            d.customGambleGame || d.setButtonStateOnGambleGo()
        };
    this.setButtonStateOnGambleGo = function() {
        n("oneBet", d.gambleRedBtnName, function() {
            nge.observer.fire("gamble.red")
        }, !0);
        n("maxBet", d.gambleBlackBtnName, function() {
            nge.observer.fire("gamble.black")
        }, !0);
        p(!1)
    };
    this.onGambleButtonsShow = function() {
        var a = nge.localData.get("freeGame.amount"),
            b = nge.localData.get("freeGame.inProgress");
        p(!0);
        b && 0 === parseInt(a, 10) && p(!1);
        a = nge.localData.get("slotMachine.slotWin.canGamble");
        nge.localData.get("autospin") || d.customGambleGame || "true" !== a || (n("oneBet", "GAMBLE", function() {
            nge.localData.get("gamble.canPlay") && nge.observer.fire("gamble.go")
        }, !0), n("maxBet", "GAMBLE", function() {
            nge.localData.get("gamble.canPlay") && nge.observer.fire("gamble.go")
        }, !0), n("spin", d.takeButtonName, function() {
            nge.observer.fire("gamble.take")
        }, !0))
    };
    var I = function() {
        d.startFreeSpin()
    };
    this.onPressSpinButton = function() {
        d.restoreDesktopButtons();
        t(!1);
        n("spin", d.spinBtnName, void 0, !1)
    };
    var H = function() {
            n("fullscreen", void 0, function() {
                nge.observer.fire("fullscreen.off")
            }, !0)
        },
        G = function() {
            n("fullscreen", void 0, function() {
                nge.observer.fire("fullscreen.on")
            }, !0)
        },
        F = function() {
            t(!1);
            w("spin", "buttonTextContinueButton");
            n("spin", d.continueBtnName, function() {
                    nge.observer.fire("buttons.changeData", {
                        spin: {
                            classes: [{
                                title: "buttonTextContinueButton",
                                action: "remove"
                            }]
                        }
                    });
                    nge.observer.fire(d.bonusGameStartEvent)
                },
                !0)
        },
        S = function() {
            r("spin", !1)
        },
        N = function() {
            f = !1
        },
        P = function() {
            c ? (f = !1, t(!1)) : nge.rafSetTimeout(function() {
                nge.observer.fire("gamble.buttons.hided")
            }, 20)
        },
        M = function() {
            c ? (f = !1, t(!1)) : nge.rafSetTimeout(function() {
                nge.observer.fire("gamble.buttons.hided")
            }, 20)
        },
        L = function() {},
        O = function() {
            e = nge.findOne("^staticContainer");
            e.visible = !1;
            n("coinMinus", void 0, function() {
                nge.observer.fire("coins.down")
            }, !0, !1);
            n("coinPlus", void 0, function() {
                nge.observer.fire("coins.up")
            }, !0, !1)
        },
        R = function() {
            e = nge.findOne("^staticContainer");
            e.visible = !0;
            n("coinMinus", void 0, function() {
                nge.observer.fire("coins.down")
            }, !0, !0);
            n("coinPlus", void 0, function() {
                nge.observer.fire("coins.up")
            }, !0, !0)
        },
        Q = function() {
            var a = nge.localData.get("freespin.totalWin");
            if (l || a) d.onGambleButtonsShow();
            else d.restoreDesktopButtons()
        },
        T = function() {
            n("spin", d.spinBtnName, function() {
                nge.observer.fire(d.bonusGameStartEvent)
            }, !0)
        };
    this.onGambleRestoreChangeButtonsState = function() {
        n("oneBet", d.gambleRedBtnName, function() {
            nge.observer.fire("gamble.red")
        }, !0);
        n("maxBet",
            d.gambleBlackBtnName,
            function() {
                nge.observer.fire("gamble.black")
            }, !0);
        n("spin", d.takeButtonName, function() {
            nge.observer.fire("gamble.take")
        }, !0)
    };
    this.onGambleRestore = function() {
        f = !0;
        d.onGambleRestoreChangeButtonsState()
    };
    var V = function() {
            t(!1)
        },
        U = function() {
            t(!0)
        },
        W = function() {
            r("spin", !0)
        },
        ma = function() {
            r("auto", !0)
        },
        ha = function() {
            r("auto", !1)
        },
        ba = function() {
            a = !0;
            ha()
        },
        ua = function(a) {
            n(a.name, void 0, void 0, void 0, void 0, a.frame)
        };
    this.buttonsRestoreAutoUpdates = function() {
        nge.observer.fire("buttons.restoreAutoUpdate",
            "fullscreen");
        nge.observer.fire("buttons.restoreAutoUpdate", "sound");
        nge.observer.fire("buttons.restoreAutoUpdate", "auto")
    };
    this.onButtonsCreateEnd = function() {
        this.buttonsRestoreAutoUpdates();
        m = !0;
        d.spinBtnName = _(d.spinBtnName);
        d.stopBtnName = _(d.stopBtnName);
        d.takeButtonName = _(d.takeButtonName);
        d.spinBackToGameName = _(d.spinBackToGameName);
        if (!d.customGambleGame) {
            var a = nge.findOne(d.gambleChooseButtonSelectors.red),
                b = nge.findOne(d.gambleChooseButtonSelectors.black);
            b && (h = b);
            a && (g = a)
        }
    };
    this.spinCompleteHandler =
        function() {
            var a = nge.localData.get("slotMachine.slotWin");
            this.enableWinlinesQuickFinish && a && nge.rafSetTimeout(function() {
                nge.localData.set("slotMachine.quickFinishWaiting", !0);
                n("spin", d.stopBtnName, function() {
                    nge.localData.set("slotMachine.quickFinishWaiting", !1);
                    nge.observer.fire("slotMachine.quickFinish")
                }, !0)
            }, 1)
        };
    var pa = function() {
            nge.localData.set("slotMachine.quickFinishWaiting", !1)
        },
        da = function() {
            n("spin", void 0, void 0, !1)
        };
    this.spinResponceHandler = function() {
        n("spin", d.stopBtnName, function() {
                nge.observer.fire("slotMachine.stopCommand")
            },
            !0)
    };
    this.subscribe = function() {
        if (this.enableNewLogic) return nge.App.getInstance("Mlm.Brain.ButtonsNewLogic.Controller").subscribe();
        v();
        nge.observer.add("buttons.restore", d.onRestore, !1, !0);
        nge.observer.add("fullscreen.on", H, !1, !0);
        nge.observer.add("fullscreen.off", G, !1, !0);
        nge.observer.add("autospinSimple.on", y, !1, !0);
        nge.observer.add("autospinSimple.off", z, !1, !0);
        nge.observer.add("buttons.freespin.enableSpin", T, !1, !0);
        nge.observer.add("buttons.disable.all", V, !1, !0);
        nge.observer.add("buttons.enable.all",
            U, !1, !0);
        nge.observer.add("buttons.restore.offer", x, !1, !0);
        nge.observer.add("buttons.finish.offer", ba, !1, !0);
        nge.observer.add("buttons.enable.spin", W, !1, !0);
        nge.observer.add("buttons.enable.auto", ma, !1, !0);
        nge.observer.add("buttons.disable.auto", ha, !1, !0);
        nge.observer.add("buttons.show.navPanel", R, !1, !0);
        nge.observer.add("buttons.hide.navPanel", O, !1, !0);
        nge.observer.add("buttons.freespinStart", I, !1, !0);
        nge.observer.add("buttons.freespinContinue", F, !1, !0);
        nge.observer.add("freespin.press.spinButton",
            d.onPressSpinButton, !1, !0);
        nge.observer.add("buttons.freespinFinish", Q, !1, !0);
        nge.observer.add("StatesManager.create.end", d.onRestore, !1, !0);
        nge.observer.add("buttons.create.end", d.onButtonsCreateEnd, !1, !0);
        nge.observer.add("slotMachine.spinStart", B, !1, !0);
        nge.observer.add("slotMachine.stopCommand", d.onSpinStop, !1, !0);
        nge.observer.add("slotMachine.spinComplete", d.spinCompleteHandler, !1, !0);
        nge.observer.add("slotMachine.spinResponse", d.spinResponceHandler, !1, !0);
        nge.observer.add("spinAndWinComplete",
            A, !1, !0);
        nge.observer.add("spinAndWinComplete", pa, !1, !0);
        nge.observer.add("win", C, !1, !0);
        nge.observer.add("buttons.showGamble", d.onGambleButtonsShow, !1, !0);
        nge.observer.add("gamble.take", E, !1, !0);
        nge.observer.add("gamble.go", K, !1, !0);
        nge.observer.add("buttons.gamble.restore", d.onGambleRestore, !1, !0);
        nge.observer.add("gamble.taking.stop", S, !1, !0);
        nge.observer.add("gamble.red", M, !1, !0);
        nge.observer.add("gamble.black", P, !1, !0);
        nge.observer.add("gamble.response", L, !1, !0);
        nge.observer.add("gamble.buttons.hided",
            N, !1, !0);
        nge.observer.add("buttons.switchFrame.red", D, !1, !0);
        nge.observer.add("buttons.switchFrame.black", J, !1, !0);
        nge.observer.add("buttons.switchFrame", ua, !1, !0);
        nge.observer.add("paytable.show", d.onPaytableShow, !1, !0);
        nge.observer.add("paytable.hide", d.onPaytableHide, !1, !0);
        nge.observer.add("popupInsideBonus.animate.start", da, !1, !0)
    }
});
nge.App[nge.appNS].Mlm.Brain.BonusWheel = Class.extend(function() {
    var d = this,
        b = !1,
        h, g, f = !1,
        a = function() {
            nge.statesManager.display("play", "loader");
            nge.localData.get("bonusGame.lastResponse.params.freeSpins") || nge.localData.set("bonusWon", !1);
            nge.observer.add("StatesManager.create.end", function() {
                nge.observer.fire("screenOverlay.show");
                nge.observer.fire("screenOverlay.hide", void 0, 1E3);
                nge.localData.set("bonusWheelWon", !1);
                var a = nge.localData.get("bonusGame").lastResponse.params.freeSpins;
                a ? (nge.observer.fire("freespin.start",
                    a, 100), nge.observer.fire("buttons.freespinStart", null, 250), nge.observer.fire("switchFreespinModeOn", null, 250), nge.observer.fire("layersSwitcher.show", "gameFreeSpin"), b = !0) : nge.observer.fire("layersSwitcher.show", "game");
                nge.observer.remove("StatesManager.create.end", !1, "playStateBonusFreeSpinsRun", !0)
            }, "playStateBonusFreeSpinsRun", !0)
        },
        c = function(b) {
            b = b.split(" ")[0];
            "gameFreeSpin" !== b && "game" !== b || "bonusWheel" !== nge.statesManager.getCurrentName() || a()
        },
        e = function() {
            b && (b = !1, nge.rafSetTimeout(function() {
                    nge.observer.fire("freespin.press.spinButton")
                },
                250))
        },
        k = function(a) {
            "bonusWheel" === a && (a = nge.localData.get("bonusWheel.initialStage"), nge.localData.set("bonusWheel.stage", a || 1), nge.localData.set("bonusWheel.canSpin", !0), nge.observer.fire("buttons.updateState"), f = !1)
        },
        l = function() {
            if (nge.localData.get("bonusWheel.canSpin")) {
                nge.localData.set("bonusWheel.canSpin", !1);
                nge.observer.fire("buttons.updateState");
                nge.observer.fire("quickSettings.panelHide");
                nge.observer.fire("autospin.panel.hide");
                var a = nge.localData.get("bonusWheel.stage");
                nge.observer.fire("bonusWheel." +
                    a + ".spinStart");
                h = null;
                a = new nge.Mlm.Transport.Model({
                    action: "PickBonusItemRequest",
                    result: !0,
                    data: {
                        index: 0
                    }
                });
                nge.transport.send(a)
            }
        };
    this.bonusWheelStopped = function(a) {
        var b = nge.localData.get("bonusWheel.stage");
        if (1 === b) "freespins" === a.type ? (g = a, nge.observer.fire("bonusWheel.popup.bonusWheel2StartPopup.show", {
            dynamicElements: [{
                type: "text",
                selector: "^bonusWheel2freeSpinsGamesAmount",
                value: g.value
            }],
            buttonCallback: function() {
                nge.localData.set("bonusWheel.stage", 2);
                nge.localData.set("bonusWheel.canSpin",
                    !0);
                nge.observer.fire("buttons.updateState")
            }
        })) : "jackpot" === a.type && (a = nge.Lib.Money.toCoinsInt(h.params.winAmount), nge.observer.fire("bonusWheel.popup.jackpotPopup.show", {
            dynamicElements: [{
                type: "text",
                selector: "^jackpotAmount",
                value: a
            }],
            buttonCallback: function(a) {
                return function() {
                    a ? c("game") : (nge.localData.set("bonusWheel.canSpin", !0), nge.observer.fire("buttons.updateState"))
                }
            }(f)
        })), f = !0;
        else if (2 === b) {
            b = g.value;
            var d = 1;
            "add" === a.type && (b += a.value);
            "mult" === a.type && (d = a.value);
            nge.observer.fire("bonusWheel.popup.startPopup.show", {
                dynamicElements: [{
                    type: "text",
                    selector: "^freeSpinsGameAmount",
                    value: b
                }, {
                    type: "text",
                    selector: "^freeSpinsMultiplier",
                    value: "x" + d
                }],
                buttonCallback: function() {}
            })
        }
    };
    var m = function(a) {
        h = a;
        nge.observer.fire("bonusWheel.actionResponse", a)
    };
    this.subscribe = function() {
        nge.observer.add("layersSwitcher.show", c, !1, !0);
        nge.observer.add("freespin.ui.on", e, !1, !0);
        nge.observer.add("StatesManager.create.end", k, !1, !0);
        nge.observer.add("bonusWheel.spinPressed", l, !1, !0);
        nge.observer.add("bonusWheel.stopped", d.bonusWheelStopped,
            !1, !0);
        nge.observer.add("pickUpBonusGame.actionResponse", m, !1, !0)
    }
});
nge.App[nge.appNS].Mlm.Brain.Controller = nge.Mlm.Brain.Controller.extend(function() {
    this._logicBlocks = "cheats game main phrases slot sounds buttons positionWarning jackpot win".split(" ")
});
nge.App[nge.appNS].Mlm.Brain.FeaturesCfg = nge.Mlm.Brain.FeaturesCfg.extend(function() {
    this.required = ["SimpleSlot", "FreeSpins", "RedBlack"];
    this.supported = ["Offers", "Jackpots"]
});
nge.App[nge.appNS].Mlm.Brain.Game = nge.Mlm.Brain.Game.extend(function() {});
nge.App[nge.appNS].Mlm.Brain.Jackpot = Class.extend(function() {
    this.subscribe = function() {
        nge.observer.add("StatesManager.create.end", this.statesManagerCreateEndHandler, !1, !0);
        nge.observer.add("jackpot.end", this.onJackpotEnd, !1, !0);
        nge.observer.add("transportMessage.JackpotResponse", this.jackpotResponseHandler, !1, !0);
        nge.observer.add("transportMessage.JackpotCanPlayResponse", this.jackpotCanPlayResponseHandler, !1, !0);
        nge.observer.add("transportMessage.JackpotPlayResponse", this.jackpotPlayResponseHandler,
            !1, !0);
        nge.observer.add("transportMessage.BalanceResponse", this.balanceResponseHandler, !1, !0);
        nge.observer.add("Transport.close", this.transportCloseHandler, !1, !0);
        nge.observer.add("window.visibilitychange", this.visibilityChange, !1, !0);
        nge.observer.add("jackpot.playRequest", this.jackpotPlayRequestHandler, !1, !0)
    };
    this.statesManagerCreateEndHandler = function(d) {
        "jackpot" === d && this.showJackpot()
    };
    this.showJackpot = function() {
        nge.observer.fire("jackpot.showLayer")
    };
    this.visibilityChange = function(d) {
        nge.localData.get("jackpot.inProgress") &&
            "visible" === d && nge.localData.get("jackpot.gotBalance") && nge.observer.fire("jackpot.forceClose")
    };
    this.onJackpotEnd = function() {
        nge.localData.set("slotMachine.slotWin", void 0);
        nge.localData.set("jackpot.gotBalance", !1);
        nge.localData.set("jackpot.canPlay", !1);
        nge.localData.set("jackpot.checkPlay", !1);
        nge.localData.set("jackpot.inProgress", !1);
        nge.localData.set("jackpot.jackpotCanPlayRequested", !1);
        nge.localData.set("jackpot.waitingForExit", !1)
    };
    this.transportCloseHandler = function() {
        nge.localData.set("jackpot.canPlay",
            !1);
        nge.localData.set("jackpot.gotBalance", !1);
        nge.localData.set("jackpot.checkPlay", !1);
        nge.localData.set("jackpot.inProgress", !1);
        nge.localData.set("jackpot.jackpotCanPlayRequested", !1)
    };
    this.balanceResponseHandler = function() {
        nge.localData.get("jackpot.inProgress") && nge.localData.set("jackpot.gotBalance", !0);
        nge.localData.get("jackpot.waitingForExit") && nge.observer.fire("jackpot.forceClose");
        var d = nge.localData.get("jackpot.jackpotCanPlayRequested");
        !nge.localData.get("jackpot.canPlay") || nge.localData.get("jackpot.inProgress") ||
            nge.localData.get("jackpot.checkPlay") || d || (nge.localData.set("jackpot.checkPlay", !0), nge.transport.send(new nge.Mlm.Transport.Model({
                action: "JackpotCanPlayRequest",
                result: !0,
                data: {}
            })), nge.localData.set("jackpot.jackpotCanPlayRequested", !0))
    };
    this.jackpotPlayResponseHandler = function(d) {
        nge.brain.do("receivedResponse", "JackpotPlay");
        nge.observer.fire("jackpot.playResponse", d.data)
    };
    this.jackpotShowPopup = function() {
        var d = nge.findOne("^jackpotPopupContainer"),
            b = nge.findOne("^jackpotPopupInnerContainer"),
            h = nge.tween.add(b).from({
                y: -900
            }, 800, nge.Lib.Tween.Easing.Exponential.Out);
        h.onStart.add(function() {
            d.visible = !0;
            h.target.visible = !0;
            d.parent.parent.parent.bringToTop(d.parent.parent);
            h.target.parent.parent.bringToTop(h.target.parent);
            nge.observer.fire("jackpot.startPopup.show")
        });
        h.onComplete.add(function() {
            nge.localData.set("loadingBar.generateBarOnPreload", !0);
            nge.observer.fire("loadingBar.generateLoaderBar")
        });
        h.start()
    };
    this.jackpotPlayRequestHandler = function(d) {
        nge.transport.send(new nge.Mlm.Transport.Model({
            action: "JackpotPlayRequest",
            result: !0,
            data: {
                fieldId: d
            }
        }));
        nge.brain.do("waitForResponse", "JackpotPlay")
    };
    this.jackpotResponseHandler = function(d) {
        nge.localData.set("jackpot.canPlay", "true" === d.data.canPlay);
        nge.observer.fire("slotMachine.jackpotResponse", d)
    };
    this.jackpotCanPlayResponseHandler = function(d) {
        nge.localData.set("jackpot.checkPlay", !1);
        var b = nge.localData.get("slotMachineSpinning"),
            h = nge.localData.get("autospin"),
            g = nge.localData.get("jackpot.inProgress");
        h && (nge.Lib.Helper.mobileAndTabletCheck() ? nge.observer.fire("buttons.insidePress",
            "autoSpinMobile") : nge.observer.fire("buttons.insidePress", "auto"));
        "true" !== d.data.canPlay || b || g ? "false" !== d.data.canPlay || b || g || !nge.localData.get("jackpot.jackpotCanPlayRequested") || (nge.localData.set("jackpot.canPlay", !1), nge.localData.set("jackpot.jackpotCanPlayRequested", !1), nge.observer.fire("balanceRequest")) : (nge.localData.set("jackpot.jackpots", d.data.jackpots), nge.localData.set("jackpot.canPlay", d.data.canPlay), nge.localData.set("jackpot.inProgress", !0), nge.observer.fire("jackpot.start"),
            this.jackpotShowPopup(), nge.rafSetTimeout(function() {
                nge.objects.takeScreenshot("jackpotLoaderBg");
                nge.statesManager.display("jackpotLoader", "newloader")
            }, 3300))
    }
});
nge.App[nge.appNS].Mlm.Brain.Sounds = nge.Mlm.Brain.Sounds.extend(function() {
    var d = this,
        b = !1,
        h = !1,
        g, f = [],
        a = !1,
        c, e = !1;
    this.winSoundsQueue = !1;
    var k = !0,
        l = !1;
    this.reelsCount = this.wheelSpinSoundCount = 5;
    this.soundedSymbols = "0 1 2 3 4 11".split(" ");
    this.scatterSymbols = ["11"];
    this.jokerSymbols = ["12"];
    this.scatterCountSoundTrigger = 2;
    this.creditsForSymbolSound = 10;
    this.playReelsSoundInsideFreespins = !1;
    this.playScatterSounds = !0;
    this.scattersNeededForFreespins = 3;
    this.scatterReelsCount = 5;
    this.winSoundsDurations = {
        "win.tiny": "dynamic",
        "win.small": "dynamic",
        "win.middle": "dynamic",
        "win.big": "dynamic",
        "win.major.low": "dynamic",
        "win.major.middle": "dynamic",
        "win.major.high": "dynamic"
    };
    this.soundsUnused = [];
    this.soundExt = [{
        s: "fs_show",
        e: "popup.animate.start"
    }, {
        s: "fg_show",
        e: "popupInsideBonus.animate.start"
    }, {
        s: "xw_you_won_intro",
        e: "popupFinish.animate.start"
    }, {
        s: "xw_you_won_intro",
        e: "gamble.go",
        action: "stop"
    }, {
        s: "xw_you_won_intro",
        e: "gamble.take",
        action: "stop"
    }, {
        s: "bs_spin_fast",
        e: "slotMachine.reel_2.intrigue.start",
        relaunch: !0
    }, {
        s: "bs_spin_fast",
        e: "slotMachine.reel_3.intrigue.start",
        relaunch: !0
    }, {
        s: "bs_spin_fast",
        e: "slotMachine.reel_4.intrigue.start",
        relaunch: !0
    }, {
        s: "bs_spin_fast",
        e: "slotMachine.spinComplete",
        action: "stop"
    }];
    this._soundCfgBase = [{
            s: "rl_open",
            e: "paytable.show"
        }, {
            s: "bn_background",
            e: "sounds.preloaded.bonus",
            action: "play",
            loop: !0
        }, {
            s: "bn_background",
            e: "freespin.startProcess.start",
            action: "play",
            loop: !0
        }, {
            s: "bn_background",
            e: "popupFinish.animate.start",
            action: "stop"
        }, {
            s: "bn_background",
            e: "freespin.end",
            action: "stop"
        }, {
            s: "bn_background",
            e: "Transport.close",
            action: "stop"
        }, {
            s: "bn_background",
            e: "jackpot.start",
            action: "stop"
        }, {
            s: "bn_background",
            e: "winlines.animateAll",
            action: "pause"
        }, {
            s: "bn_background",
            e: "winlines.animateByOne.cycleComplete",
            action: "resume"
        }, {
            s: "bn_background",
            e: "popupInsideBonus.animate.start",
            action: "pause"
        }, {
            s: "bn_background",
            e: "sound.stopped.popupInsideBonus.animate.start",
            action: "resume"
        }, {
            s: "bs_background",
            e: "sounds.preloaded.simple",
            action: "play",
            loop: !0
        }, {
            s: "gn_autoplay_off",
            e: "autospinSimple.off"
        }, {
            s: "gn_autoplay_off",
            e: "autospinSimple.offers.off"
        }, {
            s: "gn_autoplay_on",
            e: "autospinSimple.on"
        }, {
            s: "gn_max_bet",
            e: "maxbet.go"
        }, {
            s: "gn_wait",
            e: "winlines.animateByOne.cycleComplete.firstTimeAndCanGamble",
            action: "play",
            loop: !0
        }, {
            s: "gn_wait",
            e: "gamble.take",
            action: "stop"
        }, {
            s: "gn_wait",
            e: "gamble.taking.start",
            action: "stop"
        }, {
            s: "gn_wait",
            e: "gamble.taking.stop",
            action: "stop"
        }, {
            s: "gn_wait",
            e: "gamble.go",
            action: "stop"
        }, {
            s: "gn_wait",
            e: "sound.stopped.gn_win_counter_take",
            action: "stop"
        },
        {
            s: "gn_wait",
            e: "slotMachine.spinCommand",
            action: "stop"
        }, {
            s: "gn_wait",
            e: "slotMachine.spinStart",
            action: "stop"
        }, {
            s: "gn_wait",
            e: "freespin.start",
            action: "stop"
        }, {
            s: "gn_wait",
            e: "popup.animate.start",
            action: "stop"
        }, {
            s: "gn_wait",
            e: "popupInsideBonus.animate.start",
            action: "stop"
        }, {
            s: "gn_wait",
            e: "popupFinish.animate.start",
            action: "stop"
        }, {
            s: "gn_wait",
            e: "sound.stopped.db_background",
            action: "stop"
        }, {
            s: "gn_wait",
            e: "sound.stopped.xw_you_won_intro",
            action: "play",
            loop: !0
        }, {
            s: "gn_wait",
            e: "popupFinish.animate.stop",
            action: "play",
            loop: !0
        }, {
            s: "gn_wait",
            e: "sound.stopped.gn.wait",
            action: "stop"
        }, {
            s: "gn_wait",
            e: "Transport.close",
            action: "stop"
        }, {
            s: "gn_wait",
            e: "transportMessage.AuthResponse",
            action: "stop"
        }, {
            s: "db_open",
            e: "gamble.go",
            relaunch: !0
        }, {
            s: "db_open",
            e: "gamble.red",
            action: "stop"
        }, {
            s: "db_open",
            e: "gamble.black",
            action: "stop"
        }, {
            s: "db_open",
            e: "gamble.take",
            action: "pause"
        }, {
            s: "db_background",
            e: "gamble.go",
            action: "play",
            loop: !0
        }, {
            s: "db_background",
            e: "gamble.resume",
            action: "play",
            loop: !0
        }, {
            s: "db_background",
            e: "gamble.preloaded",
            action: "play",
            loop: !0
        }, {
            s: "db_background",
            e: "gamble.response",
            action: "stop"
        }, {
            s: "db_background",
            e: "gamble.take",
            action: "stop"
        }, {
            s: "db_background",
            e: "jackpot.start",
            action: "stop"
        }, {
            s: "db_background",
            e: "gamble.buttons.hided",
            action: "stop"
        }, {
            s: "db_background",
            e: "Transport.close",
            action: "stop"
        }, {
            s: "db_background",
            e: "StatesManager.create.end",
            action: "stop"
        }, {
            s: "db_win_1",
            e: "gamble.win.1"
        }, {
            s: "db_win_2",
            e: "gamble.win.2"
        }, {
            s: "db_win_3",
            e: "gamble.win.3"
        }, {
            s: "db_win_4",
            e: "gamble.win.4"
        }, {
            s: "db_win_5",
            e: "gamble.win.5"
        },
        {
            s: "db_win_5",
            e: "slotMachine.spinStart",
            action: "stop"
        }, {
            s: "denom_change",
            e: "bet.up",
            relaunch: !0
        }, {
            s: "denom_change",
            e: "currencySwitcher.switch",
            relaunch: !0
        }, {
            s: "denom_change",
            e: "bet.down",
            relaunch: !0
        }, {
            s: "denom_change",
            e: "denom_change.play",
            relaunch: !0
        }, {
            s: "denom_change",
            e: "coins.up",
            relaunch: !0
        }, {
            s: "denom_change",
            e: "coins.down",
            relaunch: !0
        }, {
            s: "denom_change",
            e: "coins.upNC",
            relaunch: !0
        }, {
            s: "denom_change",
            e: "coins.downNC",
            relaunch: !0
        }, {
            s: "sr_win_tiny",
            e: "win.tiny",
            relaunch: !0
        }, {
            s: "sr_win_small",
            e: "win.small",
            relaunch: !0
        }, {
            s: "sr_win_middle",
            e: "win.middle",
            relaunch: !0
        }, {
            s: "sr_win_big",
            e: "win.big",
            relaunch: !0
        }, {
            s: "sr_bell_low",
            e: "win.major.low"
        }, {
            s: "sr_bell_middle",
            e: "win.major.middle"
        }, {
            s: "sr_bell_high",
            e: "win.major.high"
        }, {
            s: "sr_bell_middle",
            e: "gamble.take",
            action: "stop"
        }, {
            s: "sr_bell_middle",
            e: "slotMachine.spinCommand",
            action: "stop"
        }, {
            s: "sr_bell_middle",
            e: "gamble.go",
            action: "stop"
        }, {
            s: "sr_bell_high",
            e: "gamble.take",
            action: "stop"
        }, {
            s: "sr_bell_high",
            e: "slotMachine.spinCommand",
            action: "stop"
        }, {
            s: "sr_bell_high",
            e: "gamble.go",
            action: "stop"
        }, {
            s: "gn_win_counter_take",
            e: "gamble.taking.start",
            action: "play",
            loop: !0,
            relaunch: !0
        }, {
            s: "gn_win_counter_take",
            e: "gamble.taking.stop",
            action: "stop"
        }, {
            s: "gn_win_counter_stop",
            e: "sound.gamble.taking.stop"
        }, {
            s: "jackpot_online_won_jackpot_movie",
            e: "jackpot.startPopup.show",
            action: "play",
            relaunch: !0
        }, {
            s: "jackpot_online_won_jackpot_movie",
            e: "jackpot.win",
            action: "play",
            relaunch: !0
        }, {
            s: "jackpot_online_background",
            e: "jackpot.forceClose",
            action: "stop"
        }, {
            s: "jackpot_online_background",
            e: "jackpot.show",
            action: "play",
            loop: !0
        }, {
            s: "jackpot_online_background",
            e: "jackpot.win",
            action: "stop"
        }, {
            s: "jackpot_online_background",
            e: "Transport.close",
            action: "stop"
        }, {
            s: "jackpot_online_finish_jackpot_popup",
            e: "jackpot.finalPopup.show",
            action: "play"
        }, {
            s: "jackpot_online_coincidence_1",
            e: "jackpot.openSymbol1",
            action: "play",
            relaunch: !0
        }, {
            s: "jackpot_online_coincidence_2",
            e: "jackpot.openSymbol2",
            action: "play",
            relaunch: !0
        }, {
            s: "jackpot_online_coincidence_3",
            e: "jackpot.openSymbol3",
            action: "play",
            relaunch: !0
        }
    ];
    this.constructor = function() {
        var a;
        for (a = 0; a < d.wheelSpinSoundCount; a++) d._soundCfgBase.push({
            s: "bs_wheel_spin_" + a,
            e: "slotMachine.reelsStartRandSound." + a
        }, {
            s: "bs_wheel_spin_" + a,
            e: "slotMachine.spinComplete",
            action: "stop"
        });
        for (a = 0; a < d.reelsCount; a++) d._soundCfgBase.push({
            s: "bs_bn_wheel_stop_" + a,
            e: "slotMachine.reel_" + a + ".animation.stop.sound"
        }), nge.observer.add("slotMachine.reel_" + a + ".animation.stop", m(a), !1, !0), d.playScatterSounds && d._soundCfgBase.push({
            s: "bs_bn_scatter_" + a,
            e: "scatter_reel_sound_" + a
        });
        d.soundedSymbols.forEach(function(a) {
            var b = "S" + nge.Lib.Helper.LdgZero(a, 2);
            d._soundCfgBase.push({
                s: b,
                e: "sound.winLineSymbols." + a
            }, {
                s: b,
                e: "gamble.take",
                action: "stop"
            }, {
                s: b,
                e: "slotMachine.spinCommand",
                action: "stop"
            }, {
                s: b,
                e: "gamble.go",
                action: "stop"
            })
        });
        nge.localData.set("scatterSymbols", this.scatterSymbols);
        this.winSoundsQueue = nge.App.getInstance("Mlm.Brain.SoundsQueue", !1, this, [])
    };
    var m = function(b) {
            return function() {
                a && b !== d.reelsCount - 1 || nge.observer.fire("slotMachine.reel_" + b + ".animation.stop.sound")
            }
        },
        q = function() {
            nge.Lib.Helper.mobileAndTabletCheck() ? nge.Lib.Checker.delay(function() {
                return nge.game.cache.isSoundDecoded("gameaudio")
            }, function() {
                n()
            }, 500, 100, !0) : n()
        },
        n = function() {
            if (nge.Lib.Helper.mobileAndTabletCheck()) {
                var a = nge.soundManager.getSound("silence");
                a ? a.play("silence", 0, 1, !0) : console.error('Cannot find sound "silence" in audio sprite');
                nge.localData.get("freespin.inProgress") || nge.localData.get("bonusGame.inProgress") ? (nge.observer.fire("sounds.preloaded.custom.bonus"), nge.soundManager.checkKey("bn_background") &&
                    nge.observer.fire("sounds.preloaded.bonus")) : (nge.observer.fire("sounds.preloaded.custom.simple"), nge.soundManager.checkKey("bs_background") && nge.observer.fire("sounds.preloaded.simple"));
                e && nge.observer.fire("gamble.preloaded")
            }
        };
    this.customSubscribe = function() {
        nge.observer.add("sounds.preloaded", q, !1, !0);
        nge.observer.add("win", v, !1, !0);
        nge.observer.add("winlines.stopAnimation", v, !1, !0);
        nge.observer.add("slotMachine.spinStart", r, !1, !0);
        nge.observer.add("slotMachine.winLineSymbols", p, !1, !0);
        nge.observer.add("winlines.animateByOne.cycleComplete",
            u, !1, !0);
        nge.observer.add("spinAndWinComplete", t, !1, !0);
        nge.observer.add("sound.stopped.xw_you_won_intro", A, !1, !0);
        nge.observer.add("slotMachine.stopCommand", x, !1, !0);
        nge.observer.add("slotMachine.reel_0.animation.stop", w, !1, !0);
        for (var a = 0; a < this.reelsCount; a++) nge.observer.add("slotMachine.reel_" + a + ".animation.stop", this.reelStopHandler(a), !1, !0);
        a = function(a) {
            return function() {
                e = a
            }
        };
        nge.observer.add("gamble.go", a(!0), !1, !0);
        nge.observer.add("gamble.resume", a(!0), !1, !0);
        nge.observer.add("gamble.response",
            a(!1), !1, !0);
        nge.observer.add("gamble.take", a(!1), !1, !0);
        nge.observer.add("jackpot.start", a(!1), !1, !0);
        nge.observer.add("gamble.buttons.hided", a(!1), !1, !0);
        nge.observer.add("Transport.close", a(!1), !1, !0);
        nge.observer.add("StatesManager.create.end", a(!1), !1, !0);
        this.subscribeWinSoundsStop()
    };
    this.determineWinEvent = function(a) {
        return 10 >= a ? "win.tiny" : 50 >= a ? "win.small" : 75 >= a ? "win.middle" : "win.big"
    };
    this.determineMajorWinEvent = function(a) {
        if (1E3 <= a) return "win.major.high";
        if (500 <= a) return "win.major.middle";
        if (100 <= a) return "win.major.low"
    };
    var p = function(a) {
            b || (d.winSoundsQueue.reset(), d.soundsForSymbolsHandler(a), d.winSoundsQueue.play())
        },
        r = function() {
            a = !1;
            var b = nge.localData.get("freespin.inProgress"),
                c = nge.Lib.Helper.getRandomInt(0, d.wheelSpinSoundCount - 1);
            !d.playReelsSoundInsideFreespins && b || nge.observer.fire("slotMachine.reelsStartRandSound." + c)
        },
        u = function() {
            !b && h && nge.observer.fire("winlines.animateByOne.cycleComplete.firstTime");
            b = !0;
            h = !1
        },
        t = function() {
            nge.localData.get("freespin.inProgress") ||
                l && k || (g = nge.localData.get("slotMachine.slotWin.canGamble"), "true" !== g && !0 !== g || nge.observer.fire("winlines.animateByOne.cycleComplete.firstTimeAndCanGamble"))
        },
        v = function() {
            b = !1;
            h = !0
        },
        w = function() {
            f = []
        },
        x = function() {
            a = !0
        };
    this.reelStopHandler = function(b) {
        return function() {
            if (d.playScatterSounds) {
                var c = nge.localData.get("slotMachine.spinResult.columns")[b].some(function(a) {
                        return -1 !== d.scatterSymbols.indexOf(a)
                    }),
                    e = b / Math.round(d.reelsCount / d.scatterReelsCount);
                c && (f.push(b), d.scattersNeededForFreespins -
                    f.length <= d.scatterReelsCount - 1 - e && nge.observer.fire("scatter_reel_sound_" + e))
            }
            if (c = nge.localData.get("slotMachineIntrigue")) {
                e = b + 1;
                var g = c.endsFrom ? c.endsFrom : Infinity;
                !a && e <= d.reelsCount && c && c.status && c.startsFrom <= e && g > e && nge.observer.fire("slotMachine.reel_" + e + ".intrigue.start")
            }
        }
    };
    this.processPrecedingSounds = function(a) {};
    this.shouldScatterSoundPlay = function(a) {
        return a.every(y) && -1 !== this.soundedSymbols.indexOf(a[0]) && a.length >= this.scatterCountSoundTrigger
    };
    this.soundsForSymbolsHandler = function(a) {
        var b =
            a.symbolsNames.filter(B);
        b = 0 < b.length ? b : a.symbolsNames;
        var e = b[0],
            f = nge.Lib.Money.getCoinsWin(a.amount),
            g = this.shouldScatterSoundPlay(b) || f > d.creditsForSymbolSound && -1 !== d.soundedSymbols.filter(z).indexOf(e),
            h = d.determineMajorWinEvent(f);
        this.processPrecedingSounds(a);
        !h || b.every(y) && b.length >= this.scattersNeededForFreespins || this.winSoundsQueue.push(h);
        if (g) {
            f = !1;
            if (B(e) && b.length !== a.symbolsNames.length || this.winSoundsQueue.getDuration()) c || (c = nge.App.getInstance("Com.SlotMachine.Symbols")), f = c.items.filter(function(a) {
                return a.name ===
                    e
            })[0].winlineTime;
            this.winSoundsQueue.push("sound.winLineSymbols." + e, f)
        } else a = d.determineWinEvent(f), this.winSoundsQueue.push(a);
        nge.observer.fire("winlines.setCurrentLineDuration", this.winSoundsQueue.getDuration(), 1)
    };
    this.setFreespinsFirstStageAnimationEnded = function(a) {
        k = a
    };
    var y = function(a) {
            return ~d.scatterSymbols.indexOf(a)
        },
        z = function(a) {
            return !y(a)
        },
        B = function(a) {
            return -1 === d.jokerSymbols.indexOf(a)
        },
        A = function() {
            g = nge.localData.get("slotMachine.slotWin.canGamble");
            "false" !== g && !1 !== g || nge.observer.fire("sound.stopped.gn.wait")
        };
    this.subscribeWinSoundsStop = function() {
        var a = function(a) {
                nge.observer.add("slotMachine.quickFinish.done", a, !1, !0);
                nge.observer.add("winlines.stopAnimation", a, !1, !0);
                nge.observer.add("Transport.close", a, !1, !0);
                nge.observer.add("transportMessage.AuthResponse", a, !1, !0);
                nge.observer.add("gamble.take", a, !1, !0);
                nge.observer.add("gamble.taking.start", a, !1, !0);
                nge.observer.add("gamble.go", a, !1, !0);
                nge.observer.add("slotMachine.spinStart", a, !1, !0);
                nge.observer.add("jackpot.start", a, !1, !0)
            },
            b = this.winSoundsQueue.stop.bind(this.winSoundsQueue);
        a(b);
        a(function() {
            nge.observer.fire("sounds.stopWinSounds");
            nge.localData.set("sounds.winSoundsQueues.stopped", !0)
        });
        nge.observer.add("slotMachine.spinResponse", function(a) {
            l = !1;
            a.slotWin && a.slotWin.lineWinAmountsStage2 && (l = !0);
            nge.localData.set("sounds.winSoundsQueues.stopped", !1)
        }, !1, !0)
    }
});
nge.App[nge.appNS].Mlm.Brain.SoundsQueue = Class.extend(function() {
    var d = this;
    this.data = [];
    this._id = !1;
    this._winEventsCache = {};
    this._brainSounds = !1;
    this._archiveIds = [];
    this._onStopAnywayCallback = !1;
    var b, h;
    this.constructor = function(b, d) {
        this._brainSounds = b;
        d && d.length && (this.data = d)
    };
    this.stop = function() {
        this._id && nge.observer.fire("sounds.queue." + this._id + ".stop");
        for (var b = 0; b < this._archiveIds.length; b++) nge.observer.fire("sounds.queue." + this._archiveIds[b] + ".stop");
        this._archiveIds = [];
        this.data = [];
        this._id = !1;
        this._onStopAnywayCallback && (this._onStopAnywayCallback(), this._onStopAnywayCallback = !1)
    };
    this.reset = function() {
        this._id && this._archiveIds.push(this._id);
        this.data = [];
        this._id = !1
    };
    this.play = function() {
        this._id = nge.Lib.Helper.getRandomInt(0, 999999);
        for (var b = 0; b < this.data.length; b++) this._processSoundsQueueStep(this.data[b], b, b === this.data.length - 1, this._id);
        nge.observer.fire("sounds.queue." + this._id + ".start");
        var d = "sounds.queue." + this._id + ".complete";
        nge.observer.add(d, function(a,
            b, e) {
            return function() {
                nge.observer.remove(d, !1, d, !0);
                for (var c = 0; c < e.length; c++) a._unsubscribeSoundsQueueStep(e[c], c, c === e.length - 1, b)
            }
        }(this, this._id, nge.Lib.Helper.jsObjClone(this.data)), d, !0)
    };
    this.push = function(b, d, a) {
        this.data.push({
            e: b,
            d: d,
            callback: a
        })
    };
    this.onStopAnyway = function(b) {
        this._onStopAnywayCallback = !1;
        !1 === b ? this._onStopAnywayCallback = !1 : "function" === typeof b ? this._onStopAnywayCallback = b : "string" === typeof b && (this._onStopAnywayCallback = function() {
            nge.observer.fire(b)
        })
    };
    this.getDuration =
        function() {
            for (var b = 0, d = 0; d < this.data.length; d++) {
                var a = this.data[d];
                if (a.d) b += a.d;
                else {
                    var c = this._getSoundByEvent(a.e);
                    if (!c) {
                        console.error("[Sound Queue] No sound for event: " + a.e);
                        return
                    }
                    b += nge.soundManager.checkKey(c) ? nge.soundManager.getDurationMS(c) || 500 : this._getDurationFromUber(c) || 500
                }
            }
            return b
        };
    this._getDurationFromUber = function(d) {
        if (!b) {
            var f = nge.game.cache.getJSON("uber_json");
            f && f["gameaudio.json"] && (b = f["gameaudio.json"].spritemap)
        }
        h || (h = nge.App.getInstance("Cfg.Sounds").contents);
        return b && h && h[d] && (sData = b[h[d].split("/").pop()]) ? (+sData.end - +sData.start) * Phaser.Timer.SECOND : !1
    };
    this._unsubscribeSoundsQueueStep = function(b, d, a, c) {
        nge.observer.remove(0 === d ? "sounds.queue." + c + ".start" : "sounds.queue." + c + ".step." + (d - 1) + ".complete", !1, "sounds.queue." + c + ".step." + d + ".start", !0)
    };
    this._processSoundsQueueStep = function(b, f, a, c) {
        !b.d && b.e && d._brainSounds.winSoundsDurations[b.e] && (b.d = d._brainSounds.winSoundsDurations[b.e]);
        "dynamic" === b.d && (b.d = !1);
        if (b.e || b.d) {
            var e = this._getSoundByEvent(b.e);
            if (b.e && !e) console.error("[Sound Queue] No sound for event: " + b.e);
            else {
                e && (this._forceSoundRelaunch(b.e), this._subscribeStopEvent(b.e, e));
                var g = "sounds.queue." + c + ".complete",
                    h = b.e + ".stop",
                    m = "sounds.queue." + c + ".stop",
                    q = "sounds.queue." + c + ".step." + f + ".stop",
                    n = a ? g : "sounds.queue." + c + ".step." + f + ".complete",
                    p = "sounds.queue." + c + ".step." + f + ".complete",
                    r;
                "function" === typeof b.callback ? r = b.callback : "string" === typeof b.callback && (r = function() {
                    nge.observer.fire(b.callback)
                });
                nge.observer.add(0 === f ? "sounds.queue." +
                    c + ".start" : "sounds.queue." + c + ".step." + (f - 1) + ".complete",
                    function() {
                        var a;
                        e && nge.observer.fire(b.e);
                        b.d ? a = nge.rafSetTimeout(function() {
                            nge.observer.fire(n)
                        }, b.d) : nge.rafSetTimeout(function() {
                            nge.observer.add("sound.stopped." + e, function() {
                                nge.observer.fire(n)
                            }, p, !0)
                        }, 1);
                        r && r();
                        nge.observer.add(m, function() {
                            nge.observer.remove(m, !1, q, !0);
                            nge.observer.remove(n, !1, q, !0);
                            e && nge.observer.remove("sound.stopped." + e, !1, p, !0);
                            e && nge.observer.fire(h);
                            b.d && nge.rafClearTimeout(a);
                            nge.observer.fire(g)
                        }, q, !0);
                        nge.observer.add(n,
                            function() {
                                e && nge.observer.remove("sound.stopped." + e, !1, p, !0)
                            }, q, !0)
                    }, "sounds.queue." + c + ".step." + f + ".start", !0)
            }
        } else console.error("[Sound Queue] No sound event and no duration.")
    };
    this._subscribeStopEvent = function(b, d) {
        b = {
            e: b + ".stop",
            s: d,
            action: "stop"
        };
        d = "sound." + b.e + "-" + b.s;
        nge.observer.remove(b.e, !1, d);
        (function(a, b) {
            nge.observer.add(a.e, function() {
                nge.observer.fire("sound." + a.action, a)
            }, b, !0)
        })(b, d)
    };
    this._getSoundByEvent = function(b) {
        if (!b) return !1;
        if (d._winEventsCache[b]) return d._winEventsCache[b];
        var f = nge.localData.get("brain.sounds.cfg");
        return (f = nge.Lib.Helper.objFindEl(f, function(a) {
            return a.e === b && (!a.action || "play" === a.action)
        })) ? d._winEventsCache[b] = f.s : !1
    };
    this._forceSoundRelaunch = function(b) {
        if (b) {
            var d = nge.localData.get("brain.sounds.cfg");
            if (d = nge.Lib.Helper.objFindEl(d, function(a) {
                    return a.e === b && (!a.action || "play" === a.action)
                })) d.relaunch = !0
        }
    }
});
nge.App[nge.appNS].Mlm.Brain.Slot = nge.Mlm.Brain.Slot.extend(function() {
    var d = this,
        b = !1,
        h = 0,
        g = 0,
        f, a = !1,
        c, e = 0,
        k = !1,
        l;
    this.canIntrigue = !1;
    this._winColor = "#ff8600";
    this.creditsWinDefaultValue = "GOOD LUCK";
    var m = function() {
            return nge.localData.get("brain.roundWin") || 0
        },
        q = function(a) {
            nge.localData.set("brain.roundWin", a)
        },
        n = function(a) {
            k = !1;
            q(parseFloat(a));
            var b = nge.localData.get("freespin.inProgress"),
                c = nge.localData.get("respin.inProgress");
            b || c ? (e = E(g), g += parseFloat(a), y()) : g = e = 0
        },
        p = function() {
            q(0);
            var a = nge.localData.get("freespin.inProgress"),
                b = nge.localData.get("freeGame.amount"),
                c = nge.localData.get("respin.inProgress");
            if (a || b || c) return !1;
            nge.observer.fire("infoPanel.showText", {
                position: "up"
            });
            nge.observer.fire("infoPanel.showText", {
                text: _("GAME OVER. PLACE YOUR BET"),
                position: "down"
            })
        },
        r = function(a) {
            if ("undefined" === typeof a.winning || "undefined" === typeof a.winning) return !1;
            q(parseFloat(a.winning));
            a = E(a.winning);
            0 === a ? (p(), v(), nge.observer.fire("win.printMessage", d.creditsWinDefaultValue,
                100)) : (nge.observer.fire("infoPanel.showText", d.getWinData(a)), nge.observer.fire("creditsWin.setValue", a))
        },
        u = !1,
        t = function() {
            if (b) return b = !1, !0;
            if (c) return !0;
            c = !0;
            var a = nge.Lib.Time.get();
            if (a < h + 500) return !1;
            var e = nge.localData.get("coins.value"),
                f = E(m()),
                g = f;
            nge.observer.fire("gamble.taking.start");
            b = !0;
            h = a;
            var k = parseFloat(nge.localData.get("balance.totalAmount")),
                l = parseInt(f / 10);
            1 > l && (l = 1);
            var n = function() {
                    if (!b || 0 === f || f < l) return q(), !0;
                    k += l * e;
                    nge.observer.fire("balance.amount", {
                        totalAmount: k
                    });
                    f -= l;
                    nge.observer.fire("win.change", f);
                    nge.observer.fire("creditsWin.setValue", f);
                    nge.observer.fire("win.winField.setValue", f);
                    nge.observer.fire("infoPanel.showText", d.getWinData(f));
                    nge.rafSetTimeout(n, 100)
                },
                q = function() {
                    if (!u) {
                        u = !0;
                        nge.rafSetTimeout(function() {
                            u = !1
                        }, 10);
                        nge.observer.fire("gamble.taking.stop");
                        b = !1;
                        p();
                        var a = "",
                            c = 0;
                        0 < g && (nge.observer.fire("sound.gamble.taking.stop"), a = _("WINNER PAID") + " ", c = a.length, a += g + " ", nge.observer.fire("creditsWin.setValue", g), nge.observer.fire("win.winField.setValue",
                            f), nge.observer.fire("infoPanel.showText", d.getWinnerData(a, c)));
                        v()
                    }
                };
            n()
        },
        v = function() {
            var a = nge.localData.get("freespin.inProgress"),
                b = nge.localData.get("respin.inProgress"),
                c = nge.localData.get("jackpot.jackpotCanPlayRequested");
            if (a || b || c) return !1;
            nge.observer.fire("balanceRequest")
        },
        w = function() {
            c = b = !1;
            D();
            var a = nge.localData.get("freespin.inProgress"),
                e = nge.localData.get("freeGame.amount"),
                f = nge.localData.get("respin.inProgress");
            if (a || e || f) return !1;
            nge.observer.fire("win.printMessage", d.creditsWinDefaultValue);
            nge.observer.fire("infoPanel.showText", {
                position: "up"
            });
            nge.observer.fire("infoPanel.showText", {
                text: _("GOOD LUCK"),
                position: "down",
                fontSize: 18 / (1920 / nge.Cfg.Resolutions.contents[0].width || 1920)
            })
        },
        x = function() {
            a = !1;
            nge.observer.fire("buttons.hideAntiButtons")
        },
        y = function() {
            nge.localData.set("freespin.totalWin", g);
            nge.localData.set("freespin.totalWinCoins", E(g))
        },
        z = function() {
            if (!nge.localData.get("freespin.inProgress")) {
                g = m();
                var a = E(g);
                y();
                nge.observer.fire("infoPanel.showText", d.getWinData(a));
                nge.observer.fire("creditsWin.setValue", a)
            }
            C();
            a = nge.localData.get("freespin.spinsTotal");
            var b = nge.localData.get("freespin.spinsLeft");
            var c = nge.localData.get("respin.inProgress");
            _prevFreeSpinCounter = b;
            b = a - b + 1;
            b > a && (b = a);
            b && a && !c && (nge.observer.fire("infoPanel.showText", {
                text: d.getInfoEventDownText(b, a),
                position: "down",
                colors: [{
                    color: d._winColor,
                    from: 0
                }]
            }), nge.observer.fire("freespin.counterUpdate", {
                current: b,
                total: a
            }))
        };
    this.getInfoEventDownText = function(a, b) {
        return nge.i18n.applyTextParams(_("FREE GAME %(arg1)s OF %(arg2)s"), {
            arg1: a,
            arg2: b
        })
    };
    var B = function() {
            var a = nge.localData.get("freespin.totalWin");
            q(a);
            var b = E(a);
            nge.observer.fire("infoPanel.showText", d.getWinData(b));
            nge.observer.fire("creditsWin.setValue", b);
            nge.observer.fire("freespin.totalWin", a);
            g = 0
        },
        A = function() {
            var a = nge.localData.get("freespin.totalWin");
            q(a);
            var b = E(a);
            nge.observer.fire("infoPanel.showText", d.getWinData(b));
            nge.observer.fire("creditsWin.setValue", b);
            nge.observer.fire("freespin.totalWin", a)
        },
        C = function() {
            if (nge.localData.get("freespin.inProgress")) {
                var a =
                    nge.localData.get("slotMachine.freeSpinRemain");
                a && nge.localData.set("freespin.spinsLeft", parseInt(a));
                (a = nge.localData.get("slotMachine.freeSpinsTotal")) && nge.localData.set("freespin.spinsTotal", parseInt(a))
            }
        },
        D = function() {
            if (!nge.localData.get("freespin.inProgress")) return !1;
            var a = nge.localData.get("freespin.spinsTotal"),
                b = nge.localData.get("freespin.spinsLeft"),
                c = nge.localData.get("respin.inProgress");
            b = a - b + 1;
            b > a && (b = a);
            b && a && !c && (nge.observer.fire("infoPanel.showText", {
                text: d.getInfoEventDownText(b,
                    a),
                position: "down",
                colors: [{
                    color: d._winColor,
                    from: 0
                }]
            }), nge.observer.fire("freespin.counterUpdate", {
                current: b,
                total: a
            }))
        },
        J = function(a) {
            e = 0;
            a = E(a);
            e += a;
            d.printWin()
        },
        E = function(a) {
            var b = nge.localData.get("coins.value");
            return parseFloat((a / b).toFixed(2))
        },
        K = function() {
            nge.observer.fire("winlines.stopAnimation")
        };
    this.updateData = function(a) {
        f = a;
        this.super.updateData(a)
    };
    this.getLastData = function() {
        return f
    };
    this.spinCompleteHandler = function() {
        var a = f,
            b = d.checkIfBonus();
        nge.localData.set("bonusWon",
            !1);
        b && (nge.localData.set("bonusWon", !0), d.animateBonusSymbols(), d.runBonusGame());
        a.slotWin && a.slotWin.lineWinAmounts ? (a.slotWin.lineWinAmounts.length || a.slotWin.jackpotWin) && d.winlinesAnimateAll() : (nge.observer.fire("winlines.animateAllDone"), nge.observer.fire("winlines.animateByOne.cycleComplete"));
        a = nge.localData.get("autospin.inProgress");
        var c = nge.localData.get("freespin.inProgress");
        a || c || b || (nge.observer.fire("spinButton.enable"), d.enableButtons());
        d.checkJackPot(b);
        a = 0;
        f.slotWin && f.slotWin.totalWin &&
            (a = f.slotWin.totalWin);
        if (0 < a || b) nge.observer.fire("win", a), d.checkBigWin(a, b);
        b || 0 !== a || nge.observer.fire("loose")
    };
    var I = function() {
        k = !1
    };
    this.printWin = function(a) {
        nge.observer.fire("infoPanel.showText", d.getWinData(a || e));
        nge.observer.fire("creditsWin.setValue", a || e)
    };
    this.setSlotWin = function(a) {
        e = a
    };
    this.increaseWinSpeed = function() {
        return 500
    };
    this.getWinValueTween = function() {
        return l
    };
    var H = function(a) {
            l && l.stop();
            var b = {
                value: e
            };
            l = nge.tween.add(b);
            e += a;
            l.to({
                value: e
            }, d.increaseWinSpeed());
            l.onUpdateCallback(function() {
                    d.printWin(Math.ceil(~~this.value))
                },
                b);
            l.onComplete.add(function() {
                d.printWin()
            });
            l.start()
        },
        G = function(a) {
            k || (a = a.amount ? E(a.amount) : 0, "deluxe" === nge.Cfg.Main.slotType ? H(a) : (e += a, d.printWin()))
        },
        F = function() {
            nge.observer.fire("infoPanel.showText", {
                text: _("GAMBLE UP TO 5x OR TAKE WIN"),
                position: "down"
            })
        },
        S = function() {
            var b = nge.localData.get("autospin"),
                c = nge.localData.get("slotMachine.slotWin.canGamble"),
                d = nge.localData.get("freespin.inProgress"),
                e = nge.localData.get("respin.inProgress");
            b && !a ? a = !0 : d || e || !0 !== c && "true" !== c || k || F();
            k = !0
        },
        N = function() {
            nge.localData.get("freeGame.inProgress") || nge.observer.fire("infoPanel.showText", {
                text: "",
                position: "down"
            })
        },
        P = function() {
            var a = nge.localData.get("freespin.inProgress"),
                b = nge.localData.get("respin.inProgress");
            a || b || N();
            C()
        },
        M = function() {
            nge.observer.fire("buttons.disable", !0)
        },
        L = function() {
            v();
            p()
        };
    this.setIntrigue = function(a) {
        nge.localData.set("slotMachineIntrigue", {
            status: !1
        });
        var b = nge.brain._logicBlocksInstances.sounds;
        if (d.canIntrigue && 0 < b.scatterSymbols.length) {
            a = a.spinResult.columns;
            for (var c = [], e = 0; e < a.length; e++) {
                var f = a[e].some(function(a) {
                        return -1 !== b.scatterSymbols.indexOf(a)
                    }),
                    g = e / Math.round(b.reelsCount / b.scatterReelsCount);
                if (f && (c.push(e), f = b.scatterReelsCount - 1 - g, 1 === b.scattersNeededForFreespins - c.length && 0 < f)) {
                    nge.localData.set("slotMachineIntrigue", {
                        status: !0,
                        startsFrom: e + 1
                    });
                    nge.observer.fire("slotMachineIntrigue", e);
                    break
                }
            }
        }
    };
    var O = function(a) {
            d.setIntrigue(a)
        },
        R = function(a) {
            a = a.data;
            nge.localData.set("actions", a.actions ? a.actions : !1);
            g = 0
        },
        Q = function(a) {
            a = new nge.Mlm.Transport.Model({
                action: "ApplyOfferRequest",
                msgId: "37e88b5c-18e9-9075-1720-d77e12802e49",
                gsId: d.getGsId(),
                result: !0,
                data: {
                    id: a
                }
            });
            nge.transport.send(a)
        },
        T = function(a) {
            var b = d.getGsId();
            a = new nge.Mlm.Transport.Model({
                action: "CancelOfferRequest",
                msgId: "37e88b5c-18e9-9075-1720-d77e12802e49",
                gsId: b,
                result: !0,
                data: {
                    id: a
                }
            });
            nge.transport.send(a)
        },
        V = function(a) {
            nge.observer.fire("offer.finishOfferResponse", a.data)
        };
    this.getWinData = function(a) {
        var b = _("WIN");
        return {
            text: b + " " + a,
            position: "up",
            colors: [{
                color: d._winColor,
                from: b.length
            }]
        }
    };
    this.customCheckCanSpin =
        function() {
            return !0 === nge.localData.get("jackpot.checkPlay") || !0 === nge.localData.get("jackpot.inProgress") ? !1 : !0
        };
    this.getWinnerData = function(a, b) {
        "undefined" === typeof b && (b = 12);
        return {
            text: a,
            position: "up",
            colors: [{
                color: d._winColor,
                from: b
            }]
        }
    };
    this.respinEndHandler = function() {
        0 === m() && v()
    };
    this.checkStartFreespinGame = function(a) {
        var b = nge.localData.get("freespin");
        a = "FreeSpins" === a.state;
        return 0 < (+b.spinsTotal === +b.spinsLeft) || b.inProgress && !b.spinsTotal || a && !b.inProgress
    };
    this.quickFinishHandler =
        function() {
            var a = nge.localData.get("freespin"),
                b = nge.localData.get("slotMachine"),
                c = this.checkStartFreespinGame(b);
            b.slotWin && !c && (l && l.stop(), a = E(+(a.inProgress ? a.totalWin : b.slotWin.totalWin)), d.printWin(a), nge.observer.fire("winlines.animateByOne.cycleComplete"), nge.observer.fire("slotMachine.quickFinish.done"))
        };
    var U = function() {
        nge.observer.fire("win.printMessage", d.creditsWinDefaultValue)
    };
    this.customSubscribe = function() {
        nge.observer.add("respin.end", d.respinEndHandler, !1, !0);
        nge.observer.add("lines.set",
            K, !1, !0);
        nge.observer.add("loose", L, !1, !0);
        nge.observer.add("gamble.take", t, !1, !0);
        nge.observer.add("win", n, !1, !0);
        nge.observer.add("gamble.response", r, !1, !0);
        nge.observer.add("slotMachine.spinCommand", w, !1, !0);
        nge.observer.add("slotMachine.spinComplete", P, !1, !0);
        nge.observer.add("slotMachine.stopCommand", x, !1, !0);
        nge.observer.add("freespin.startProcess.end", z, !1, !0);
        nge.observer.add("respin.startProcess.end", z, !1, !0);
        nge.observer.add("freespin.restoreText", D, !1, !0);
        nge.observer.add("freespin.restoreText",
            n, !1, !0);
        nge.observer.add("freespin.restoreText", J, !1, !0);
        nge.observer.add("freespin.end", B, !1, !0);
        nge.observer.add("respin.end", A, !1, !0);
        nge.observer.add("winlines.lineHighlite.start", G, !1, !0);
        nge.observer.add("winlines.setNewQuery", I, !1, !0);
        nge.observer.add("spinAndWinComplete", S, !1, !0);
        nge.observer.add("freespin.restore", M, !1, !0);
        nge.observer.add("slotMachine.spinResponse", O, !1, !0);
        nge.observer.add("slotMachine.spinFailed.noBalance", p, !1, !0);
        nge.observer.add("popupFinish.animate.start", N, !1, !0);
        nge.observer.add("gamble.showGambleButtons", F, !1, !0);
        nge.observer.add("transportMessage.AuthResponse", R, !1, !0);
        nge.observer.add("offer.apply", Q, !1, !0);
        nge.observer.add("offer.cancel", T, !1, !0);
        nge.observer.add("transportMessage.FinishOfferResponse", V, !1, !0);
        nge.observer.add("slotMachine.quickFinish", this.quickFinishHandler, !1, !0);
        nge.observer.add("StatesManager.create.end", U, !1, !0)
    }
});
nge.App[nge.appNS].Mlm.Brain.Win = Class.extend(function() {
    var d = this;
    this.winHandler = function(b) {
        nge.observer.fire("win.winAmount.add", b)
    };
    this.quickSpinHandler = function() {
        nge.observer.fire("win.abortWin")
    };
    this.winFieldSetValueHandler = function(b) {
        nge.observer.fire("win.winField.setValue", b)
    };
    this.restoreTextHandler = function(b) {
        nge.observer.fire("win.winField.showRestoredWin", b)
    };
    this.freespinEndHandler = function() {
        nge.observer.fire("win.winAmount.reset")
    };
    this.lineHighlightStartHandler = function(b) {
        nge.observer.fire("win.lineWin.start.do",
            b)
    };
    this.winHideHandler = function() {
        nge.observer.fire("win.hide")
    };
    this.lineWinAnimationStartHandler = function() {
        nge.observer.fire("sounds.win.regularWinLinePlayByOneWin.stop");
        nge.observer.fire("sounds.win.regularWinLinePlayByOneWin.play")
    };
    this.hideLineWinHandler = function() {
        nge.observer.fire("win.lineWin.hide.do");
        nge.observer.fire("winlines.stopAnimation")
    };
    this.showLineWinHandler = function() {
        nge.observer.fire("winlines.setNewQuery", nge.localData.get("slotMachine"));
        nge.observer.fire("winlines.animateByOne",
            null, 400)
    };
    this.regularPopupShowHandler = function() {
        nge.observer.fire("win.regular.show");
        nge.observer.fire("sounds.win.regularWinAllLinesWin");
        nge.observer.fire("sounds.win.counterClicking.play")
    };
    this.regularWinCounterCompleteHandler = function() {
        nge.observer.fire("sounds.win.counterClicking.stop")
    };
    this.bigWinShowHandler = function() {
        nge.observer.fire("winlines.pauseAnimation", !1);
        nge.observer.fire("sounds.win.counterClicking.play")
    };
    this.bigWinCounterCompleteHandler = function() {
        nge.observer.fire("sounds.win.counterClicking.stop")
    };
    this.bigWinHideHandler = function() {
        nge.observer.fire("winlines.animateAll");
        nge.observer.fire("winlines.animateAllDone");
        nge.localData.get("freespin.inProgress") && nge.observer.fire("winlines.animateByOne.cycleComplete", 1)
    };
    this.winAnimationCompleteHandler = function() {
        nge.observer.fire("win.animationComplete")
    };
    this.winSetCreditsValueHandler = function(b) {
        nge.observer.fire("creditsWin.setValue", b)
    };
    this.winlineOnHideDoneHandler = function() {
        nge.observer.fire("win.lineWin.hide.done")
    };
    this.showWinPopupHandler =
        function(b) {
            var d = nge.Lib.Money.toCoins(b.totalWin);
            0 === d ? nge.observer.fire("win.animationComplete") : b.isBigWin ? nge.observer.fire("win.bigWin.startShow", d) : nge.observer.fire("win.regularWin.startShow", d)
        };
    this.subscribe = function() {
        nge.observer.add("winData", d.winHandler, !1, !0);
        nge.observer.add("win.winAmount.add", d.showWinPopupHandler, !1, !0);
        nge.observer.add("win.brain.animationComplete", d.winAnimationCompleteHandler, !1, !0);
        nge.observer.add("win.brain.setValue", d.winSetCreditsValueHandler, !1, !0);
        nge.observer.add("win.brain.lineWin.animation.start", d.lineWinAnimationStartHandler, !1, !0);
        nge.observer.add("win.brain.lineWin.hide", d.winlineOnHideDoneHandler, !1, !0);
        nge.observer.add("slotMachine.quickSpin", d.quickSpinHandler, !1, !0);
        nge.observer.add("creditsWin.setValue", d.winFieldSetValueHandler, !1, !0);
        nge.observer.add("freespin.restoreText", d.restoreTextHandler, !1, !0);
        nge.observer.add("freespin.end", d.freespinEndHandler, !1, !0);
        nge.observer.add("winlines.lineHighlite.start", d.lineHighlightStartHandler,
            !1, !0);
        nge.observer.add("win.brain.regular.show", d.regularPopupShowHandler, !1, !0);
        nge.observer.add("win.brain.regular.counterComplete", d.regularWinCounterCompleteHandler, !1, !0);
        nge.observer.add("win.big.show", d.bigWinShowHandler, !1, !0);
        nge.observer.add("win.big.hide", d.bigWinHideHandler, !1, !0);
        nge.observer.add("win.big.counterComplete", d.bigWinCounterCompleteHandler, !1, !0)
    }
});
nge.App[nge.appNS].Mlm.Brain.Mobile = {};
nge.App[nge.appNS].Mlm.Brain.Mobile.Buttons = Class.extend(function() {
    this.enableNewLogic = !1;
    var d = this,
        b, h, g, f, a = !1,
        c;
    this.bonusGameStartEvent = "freespin.press.spinButton";
    this.holdEnabled = !0;
    this.disableAutoButton = !1;
    var e = _("AUTO\n  OFF"),
        k = _("AUTO\n  ON"),
        l = ["spinMobile", "takeMobile", "gambleMobile", "stopMobile"];
    this.pressActiveStyle = "buttonStylePressed";
    this.styledButtons = {
        gambleButtonMobileButton: null,
        autoSpinButtonMobileButton: null
    };
    this.controlButtons = ["infoMobile", "coinMinusMobile", "coinPlusMobile",
        "betSettingButtonMobile"
    ];
    this.enableWinlinesQuickFinish = !0;
    var m = function() {
        for (var a in d.styledButtons) {
            d.styledButtons[a] = nge.findOne("^".concat(a));
            var b = d.styledButtons[a];
            if (!b) break;
            b.onInputDown.add(function() {
                b && b.parent.children[1].addClass(d.pressActiveStyle)
            });
            b.onInputUp.add(function() {
                b && b.parent.children[1].removeClass(d.pressActiveStyle)
            })
        }
    };
    this.restoreMobileButtons = function() {
        p();
        q("pageOneTrigger", void 0, function() {
            nge.observer.fire("denom_change.play");
            nge.observer.fire("paytable.updatePayout");
            nge.observer.fire("tabs.menuContainer.switch", {
                tab: "pageOneHeaderContainer",
                container: "pageOneContainer"
            }, 1)
        }, !0, !0);
        q("pageTwoTrigger", void 0, function() {
            nge.observer.fire("denom_change.play");
            nge.observer.fire("tabs.menuContainer.switch", {
                tab: "pageTwoHeaderContainer",
                container: "pageTwoContainer"
            }, 1)
        }, !0, !0);
        q("spinMobile", void 0, function() {
            nge.observer.fire("sounds.spinClick");
            nge.observer.fire("slotMachine.spinCommand")
        }, !0, !0);
        q("takeMobile", void 0, function() {
                nge.observer.fire("gamble.take")
            },
            !0, !1);
        q("stopMobile", void 0, function() {
            nge.observer.fire("slotMachine.stopCommand")
        }, !0, !1);
        q("soundMobile", void 0, function() {
            nge.observer.fire("settings.soundSwitch")
        }, !0, !0);
        q("mobileBackToGameButton", void 0, function() {
            nge.observer.fire("paytable.hide")
        }, !0, !0);
        q("gambleMobile", "\u04452", function() {
            nge.localData.get("gamble.canPlay") && nge.observer.fire("gamble.go")
        }, !0, !1);
        q("quickSettingsPanel", void 0, function() {
                nge.observer.fire("denom_change.play");
                nge.observer.fire("quickSettings.panelSwitch")
            },
            !0, !0);
        q("coinMinusMobile", void 0, function() {
            nge.observer.fire("bet.down")
        }, !0, !0);
        q("coinPlusMobile", void 0, function() {
            nge.observer.fire("bet.up")
        }, !0, !0);
        q("betSettingButtonMobile", void 0, function() {
            nge.observer.fire("paytable.show");
            nge.observer.fire("tabs.menuContainer.switch", {
                tab: "pageTwoHeaderContainer",
                container: "pageTwoContainer"
            }, 10)
        }, !0, !0);
        ha();
        ma();
        b && q("customBtn01", void 0, function() {
            customButtons.customBtn01.callback()
        }, !0, !0);
        h && q("customBtn02", void 0, function() {
                customButtons.customBtn02.callback()
            },
            !0, h);
        q("infoMobile", void 0, function() {
            nge.observer.fire("paytable.show")
        }, !0, !0)
    };
    var q = function(a, b, c, d, e) {
        var f = {};
        f[a] = {
            title: b,
            callback: c,
            enabled: d,
            visible: e
        };
        nge.observer.fire("buttons.changeData", f)
    };
    this.changeButtonState = q;
    var n = function() {
            l.forEach(function(a) {
                u(a, !1)
            });
            u("autoSpinMobile", !0)
        },
        p = function() {
            nge.localData.get("autospin") ? q("autoSpinMobile", k, function() {
                n();
                nge.observer.fire("autospinSimple.off")
            }, !0, !0) : q("autoSpinMobile", e, function() {
                    n();
                    nge.observer.fire("autospinSimple.on")
                },
                !0, !0)
        },
        r = function() {
            if (a) {
                nge.localData.get("freespin.inProgress") && d.disableAutoButton && u("autoSpinMobile", !1);
                if (nge.localData.get("freeGame.inProgress")) return V();
                nge.localData.get("slotMachine.lastResponse") ? (l.forEach(function(a) {
                    q(a, void 0, void 0, void 0, !1)
                }), u("stopMobile", !1), q("soundMobile", void 0, function() {
                    nge.observer.fire("settings.soundSwitch")
                }, !0, !0)) : d.restoreMobileButtons();
                d.onRestoreExtension();
                "undefined" === typeof b && ha();
                "undefined" === typeof h && ma();
                nge.localData.get("freespin.inProgress") &&
                    d.disableAutoButton && u("autoSpinMobile", !1)
            }
        };
    this.onRestoreExtension = function() {};
    var u = function(a, b) {
            q(a, void 0, void 0, b, b)
        },
        t = function() {
            nge.localData.get("freespin.inProgress") || l.forEach(function(a) {
                u(a, !1)
            });
            q("stopMobile", void 0, function() {
                nge.observer.fire("slotMachine.stopCommand")
            }, !1, !0);
            q("infoMobile", void 0, function() {
                nge.observer.fire("paytable.show")
            }, !1, !0);
            C(!1);
            D(!1);
            q("autoSpinMobile", k, function() {
                nge.observer.fire("autospinSimple.off")
            }, !0, !0)
        },
        v = function() {
            c ? (c = !1, q("autoSpinMobile",
                e,
                function() {
                    nge.observer.fire("autospinSimple.on")
                }, !1)) : (q("autoSpinMobile", e, function() {
                nge.observer.fire("autospinSimple.on")
            }, !0), nge.localData.get("freespin.inProgress") || q("spinMobile", void 0, function() {
                nge.observer.fire("slotMachine.spinCommand")
            }, !0, !1))
        },
        w = function() {
            l.forEach(function(a) {
                u(a, !1)
            });
            b && q("customBtn01", void 0, void 0, !0, !1);
            D(!1);
            nge.observer.fire("betSettings.updateSliders");
            nge.observer.fire("settings.update");
            nge.observer.fire("tabs.menuContainer.switch", {
                tab: "pageOneHeaderContainer",
                container: "pageOneContainer"
            }, 1)
        },
        x = function() {
            nge.localData.get("freeGame.inProgress") ? V() : (q("infoMobile", void 0, function() {
                _onMobilePayTableHide();
                nge.observer.fire("paytable.show")
            }, !0, !0), d.restoreMobileButtons())
        },
        y = function() {
            q("stopMobile", void 0, function() {
                nge.observer.fire("slotMachine.stopCommand")
            }, !1, !0)
        },
        z = function() {
            g = f = !1;
            q("spinMobile", void 0, function() {
                nge.observer.fire("slotMachine.spinCommand")
            }, !0, !1);
            q("stopMobile", void 0, function() {
                    nge.observer.fire("slotMachine.stopCommand")
                },
                !1, !0);
            F(!1);
            C(!1);
            D(!1)
        },
        B = function() {
            d.spinCompleteHandler()
        },
        A = function() {
            var a = nge.localData.get("freeGame.amount");
            if (!nge.localData.get("freespin.inProgress") && !nge.localData.get("respin.inProgress")) {
                var b = nge.localData.get("freeGame.inProgress"),
                    c = nge.localData.get("autospin");
                f && !g ? b && 0 === parseInt(a) && c && (nge.observer.fire("buttons.insidePress", "autoSpinMobile"), u("autoSpinMobile", !1)) : g || b ? !g && b && (c || V()) : (q("spinMobile", void 0, function() {
                        nge.observer.fire("sounds.spinClick");
                        nge.observer.fire("slotMachine.spinCommand")
                    },
                    !0, !c), q("stopMobile", void 0, function() {
                    nge.observer.fire("slotMachine.stopCommand")
                }, !c, c), F(!c), C(!c), D(!c));
                g = !0;
                f = !1
            }
        },
        C = function(a) {
            if (b) {
                var c = a ? a : 2 == customButtons.customBtn01.frames;
                q("customBtn01", void 0, void 0, a || !c, c)
            }
        },
        D = function(a) {
            if (h) {
                var b = a ? a : 2 == customButtons.customBtn02.frames;
                q("customBtn02", void 0, void 0, a || !b, b)
            }
        },
        J = function() {
            f = !0
        },
        E = function() {
            q("gambleMobile", void 0, function() {
                nge.localData.get("gamble.canPlay") && nge.observer.fire("gamble.go")
            }, !0, !1)
        };
    this.onGambleButtonsShow =
        function() {
            var a = nge.localData.get("respin.inProgress"),
                b = nge.localData.get("freeGame.amount"),
                c = nge.localData.get("freeGame.inProgress"),
                d = nge.localData.get("slotMachine.slotWin.canGamble");
            u("autoSpinMobile", !0);
            c && 0 === parseInt(b) && u("autoSpinMobile", !1);
            "false" === d || a || (u("stopMobile", !1), q("gambleMobile", void 0, function() {
                nge.localData.get("gamble.canPlay") && nge.observer.fire("gamble.go")
            }, !0, !0), q("takeMobile", void 0, function() {
                nge.observer.fire("gamble.take")
            }, !0, !0))
        };
    var K = function() {
            I()
        },
        I = function() {
            u("autoSpinMobile", !1);
            F(!1);
            C(!1);
            D(!1);
            q("spinMobile", void 0, function() {
                nge.observer.fire(d.bonusGameStartEvent)
            }, !0, !0);
            u("stopMobile", !1)
        };
    this.onPressSpinButton = function() {
        p();
        d.disableAutoButton && u("autoSpinMobile", !1);
        q("spinMobile", d.spinBtnName, void 0, !1, !1)
    };
    var H = function() {
            C(!1);
            D(!1);
            q("autoSpinMobile", e, function() {
                n();
                nge.observer.fire("autospinSimple.on")
            }, !0, !1);
            q("gambleMobile", void 0, function() {
                    nge.localData.get("gamble.canPlay") && nge.observer.fire("gamble.go")
                }, !0,
                !1)
        },
        G = function() {
            l.forEach(function(a) {
                u(a, !1)
            });
            d.disableAutoButton && u("stopMobile", !1);
            q("spinMobile", void 0, function() {
                nge.observer.fire(d.bonusGameStartEvent)
            }, !0, !0);
            q("quickSettingsPanel", void 0, function() {
                nge.observer.fire("denom_change.play");
                nge.observer.fire("quickSettings.panelSwitch")
            }, !0, !0);
            q("autoSpinMobile", void 0, function() {
                nge.localData.get("autospin") ? nge.observer.fire("autospinSimple.off") : nge.observer.fire("autospinSimple.on")
            }, !1, !0);
            d.disableAutoButton && u("autoSpinMobile",
                !1);
            C(!1);
            D(!1);
            F(!1)
        },
        F = function(a) {
            d.controlButtons.forEach(function(b) {
                q(b, void 0, void 0, a, !0)
            })
        },
        S = function() {
            var a = nge.localData.get("autospin");
            nge.localData.get("freeGame.inProgress") && !a ? V() : (q("takeMobile", void 0, function() {
                nge.observer.fire("gamble.take")
            }, !0, !1), q("spinMobile", void 0, function() {
                nge.observer.fire("slotMachine.spinCommand")
            }, !1, !a))
        };
    this.onFreespinFinish = function(a) {
        d.disableAutoButton && u("autoSpinMobile", !0);
        if (!nge.localData.get("freespin.totalWin") || a) f && !a || d.restoreMobileButtons()
    };
    var N = function() {
            nge.findOne("^staticContainer").visible = !1
        },
        P = function() {
            nge.findOne("^staticContainer").visible = !0
        },
        M = function() {
            l.forEach(function(a) {
                u(a, !1)
            })
        },
        L = function() {
            l.forEach(function(a) {
                u(a, !0)
            });
            p()
        },
        O = function() {
            u("spinMobile", !0)
        },
        R = function() {
            u("autoSpinMobile", !0)
        },
        Q = function() {
            q("takeMobile", void 0, void 0, !1)
        },
        T = function() {
            q("takeMobile", void 0, void 0, !0)
        },
        V = function() {
            c = !1;
            var a = nge.localData.get("freeGame.amount");
            l.forEach(function(a) {
                u(a, !1)
            });
            0 !== parseInt(a, 10) && (q("coinMinusMobile",
                void 0, void 0, !1), q("coinPlusMobile", void 0, void 0, !1), u("autoSpinMobile", !0), q("spinMobile", void 0, function() {
                nge.observer.fire("sounds.spinClick");
                nge.observer.fire("slotMachine.spinCommand")
            }, !0, !0), q("infoMobile", void 0, function() {
                nge.observer.fire("paytable.show")
            }, !0, !0), q("betSettingButtonMobile", void 0, function() {
                nge.observer.fire("paytable.show");
                nge.observer.fire("tabs.menuContainer.switch", {
                    tab: "pageTwoHeaderContainer",
                    container: "pageTwoContainer"
                }, 10)
            }, !0, !0), C(!0), D(!0))
        },
        U = function() {
            c = !0;
            u("autoSpinMobile", !1)
        },
        W = function() {
            m();
            e = _("AUTO\n  OFF");
            k = _("AUTO\n  ON");
            a = !0;
            d.disableAutoButton && u("autoSpinMobile", !1)
        },
        ma = function() {
            "undefined" !== typeof customButtons && (h = !!customButtons.customBtn02)
        },
        ha = function() {
            "undefined" !== typeof customButtons && (b = !!customButtons.customBtn01)
        };
    this.spinCompleteHandler = function() {
        var a = nge.localData.get("slotMachine.slotWin");
        d.enableWinlinesQuickFinish && a && nge.rafSetTimeout(function() {
            q("stopMobile", void 0, function() {
                g || (nge.observer.fire("slotMachine.quickFinish"),
                    q("stopMobile", void 0, function() {}, !1, !0))
            }, !0, !0)
        }, 1)
    };
    this.spinResponceHandler = function() {
        q("stopMobile", void 0, function() {
            nge.observer.fire("slotMachine.stopCommand")
        }, !0, !0)
    };
    this.subscribe = function() {
        if (this.enableNewLogic) return nge.App.getInstance("Mlm.Brain.ButtonsNewLogic.Controller").subscribe();
        nge.observer.add("buttons.restore", r, !1, !0);
        nge.observer.add("buttons.create.end", W, !1, !0);
        nge.observer.add("StatesManager.create.end", r, !1, !0);
        nge.observer.add("slotMachine.spinStart", z, !1, !0);
        nge.observer.add("slotMachine.stopCommand", y, !1, !0);
        nge.observer.add("slotMachine.spinComplete", B, !1, !0);
        nge.observer.add("slotMachine.spinResponse", d.spinResponceHandler, !1, !0);
        nge.observer.add("autospinSimple.on", t, !1, !0);
        nge.observer.add("autospinSimple.off", v, !1, !0);
        nge.observer.add("buttons.disable.all", M, !1, !0);
        nge.observer.add("buttons.enable.all", L, !1, !0);
        nge.observer.add("buttons.finish.offer", U, !1, !0);
        nge.observer.add("buttons.enable.spin", O, !1, !0);
        nge.observer.add("buttons.enable.auto",
            R, !1, !0);
        nge.observer.add("paytable.show", w, !1, !0);
        nge.observer.add("paytable.hide", x, !1, !0);
        nge.observer.add("buttons.restore.offer", V, !1, !0);
        nge.observer.add("buttons.show.navPanel", P, !1, !0);
        nge.observer.add("buttons.hide.navPanel", N, !1, !0);
        nge.observer.add("buttons.showGamble", d.onGambleButtonsShow, !1, !0);
        nge.observer.add("gamble.take", E, !1, !0);
        nge.observer.add("gamble.go", H, !1, !0);
        nge.observer.add("gamble.taking.stop", S, !1, !0);
        nge.observer.add("gamble.red", Q, !1, !0);
        nge.observer.add("gamble.black",
            Q, !1, !0);
        nge.observer.add("buttons.gamble.restore", T, !1, !0);
        nge.observer.add("buttons.freespinStart", K, !1, !0);
        nge.observer.add("buttons.freespinContinue", G, !1, !0);
        nge.observer.add("freespin.press.spinButton", d.onPressSpinButton, !1, !0);
        nge.observer.add("buttons.freespinFinish", d.onFreespinFinish, !1, !0);
        nge.observer.add("winlines.animateByOne.cycleComplete", A, !1, !0);
        nge.observer.add("win", J, !1, !0)
    }
});
nge.App[nge.appNS].Mlm.Brain.UI_v3 = {};
nge.App[nge.appNS].Mlm.Brain.UI_v3.Buttons = nge.App[nge.appNS].Mlm.Brain.Buttons.extend(function() {
    var d = this,
        b, h, g = "";
    this.holdEnabled = !1;
    this.continueBtnName = "";
    this.backToGameBtnName = "BACK\nTO\nGAME";
    this.autoBtnOn = "AUTO\nON";
    this.autoBtnOff = "AUTO\nOFF";
    this.takeButtonName = "TAKE";
    this.spinBtnName = "SPIN";
    this.stopBtnName = "STOP";
    this.spinBackToGameName = "SPIN";
    this.maxBetBtnName = "MAX\nBET";
    this.gambleRedBtnName = "LEFT";
    this.gambleBlackBtnName = "RIGHT";
    this.gambleBtnName = "GAMBLE";
    this.mainButtons = "coinMinus coinPlus betMinus betPlus paytable maxBet spin auto linesChanger".split(" ");
    this.pressActiveStyle = "buttonStylePressed";
    this.styledButtons = {
        autoButtonButton: null
    };
    this.buttonsRestoreAutoUpdates = function() {};
    var f, a, c, e, k, l = function(a) {
            if ("undefined" !== typeof b) switch (a.spin.title) {
                case _("SPIN"):
                    a.spin.title = "";
                    nge.rafSetTimeout(function() {
                        b.setFrames(2, 1, 0)
                    }, 1);
                    break;
                case _("STOP"):
                    a.spin.title = "";
                    nge.rafSetTimeout(function() {
                        b.setFrames(6, 5, 4)
                    }, 1);
                    break;
                case _("TAKE"):
                    a.spin.title = "";
                    nge.rafSetTimeout(function() {
                        b.setFrames(10, 9, 8)
                    }, 1);
                    break;
                default:
                    nge.rafSetTimeout(function() {
                        a.spin.title =
                            "";
                        b.setFrames(2, 1, 0)
                    }, 1)
            }
        },
        m = function() {
            b = nge.findOne("^spinButtonButton");
            h = nge.findOne("^playButtonText");
            d.maxBetBtnName = _("MAX\nBET");
            d.autoBtnOn = _("AUTO\nON");
            d.autoBtnOff = _("AUTO\nOFF");
            d.gambleRedBtnName = _("LEFT");
            d.gambleBlackBtnName = _("RIGHT");
            d.gambleBtnName = _("GAMBLE");
            g = d.maxBetBtnName;
            for (var a in d.styledButtons) d.styledButtons[a] = nge.findOne("^".concat(a))
        },
        q = function() {
            h.text = ""
        },
        n = function(a, b, c, e, f, g) {
            var h = {};
            h[a] = {
                title: b,
                callback: c,
                enabled: e,
                visible: f,
                frame: g
            };
            d.beforeUpdateHandler(h);
            nge.observer.fire("buttons.changeData", h);
            d.afterUpdateHandler(h)
        },
        p = function(a, b) {
            n(a, void 0, void 0, b)
        },
        r = function() {
            d.disableButtonsOnMinMax && d.minMaxComponentList.forEach(function(a) {
                a.btnNames.forEach(function(b, c) {
                    p(a.btnNames[c], !a.disabled[c])
                })
            })
        },
        u = function(a) {
            nge.localData.get("autospin") ? (n("auto", d.autoBtnOn, function() {
                nge.observer.fire("autospinSimple.off")
            }, a), d.styledButtons.autoButtonButton.setFrames(2, 0, 0)) : (n("auto", d.autoBtnOff, function() {
                    nge.observer.fire("autospinSimple.on")
                },
                a), d.styledButtons.autoButtonButton.setFrames(2, 1, 0))
        };
    this.autoButtonEnableSwitch = u;
    var t = function(a) {
        d.mainButtons.forEach(function(b) {
            d.holdEnabled && p(b, a)
        });
        a && r()
    };
    this.enableFreespinText = function(b) {
        f.visible = b;
        a.visible = b;
        c.visible = b;
        e.visible = !b;
        k.visible = !b;
        a.text = "";
        c.text = ""
    };
    var v = function(b) {
        a.text = b.total;
        c.text = b.current
    };
    this.onPressSpinButton = function() {
        this.super.onPressSpinButton();
        this.enableFreespinText(!0)
    };
    this.spinCompleteHandler = function() {
        var a = nge.localData.get("slotMachine.slotWin");
        this.enableWinlinesQuickFinish && a && nge.rafSetTimeout(function() {
            nge.localData.set("slotMachine.quickFinishWaiting", !0);
            d.changeButtonState("spin", d.stopBtnName, function() {
                nge.localData.set("slotMachine.quickFinishWaiting", !1);
                nge.observer.fire("slotMachine.quickFinish")
            }, !0)
        }, 1)
    };
    this.beforeUpdateHandler = function(a) {
        "undefined" !== typeof a.spin && "undefined" !== typeof a.spin.title && (a.oneBet && (a.auto = a.oneBet), l(a), "SPIN" === a.spin.title || "STOP" === a.spin.title) && (a.spin.title = "")
    };
    this.onSpinStartChangeBtn =
        function() {
            n("auto", d.autoBtnOn, function() {}, !1);
            n("maxBet", d.maxBetBtnName, function() {
                nge.observer.fire("maxbet.go")
            }, !1);
            n("spin", d.spinBtnName, function() {
                nge.observer.fire("slotMachine.spinCommand")
            }, !1)
        };
    this.onPaytableShow = function() {
        t(!1)
    };
    this.restoreDesktopButtons = function() {
        n("mobileBackToGameButton", void 0, function() {
            nge.observer.fire("paytable.hide")
        }, !0, !0);
        n("pageOneTrigger", void 0, function() {
            nge.observer.fire("denom_change.play");
            nge.observer.fire("paytable.updatePayout");
            nge.observer.fire("tabs.menuContainer.switch", {
                tab: "pageOneHeaderContainer",
                container: "pageOneContainer"
            }, 1)
        }, !0);
        n("pageTwoTrigger", void 0, function() {
            nge.observer.fire("denom_change.play");
            nge.observer.fire("tabs.menuContainer.switch", {
                tab: "pageTwoHeaderContainer",
                container: "pageTwoContainer"
            }, 1)
        }, !0);
        n("sound", void 0, function() {
            nge.observer.fire("settings.soundSwitch")
        }, !0);
        n("fullscreen", void 0, function() {
            nge.localData.get("fullscreen.enabled") ? nge.observer.fire("fullscreen.off") : nge.observer.fire("fullscreen.on")
        }, !0);
        n("maxBet", d.maxBetBtnName,
            function() {
                nge.observer.fire("maxbet.go")
            }, !0);
        u(!0);
        n("paytable", d.paytableBtnName, function() {
            nge.observer.fire("paytable.show");
            nge.observer.fire("betSettings.updateSliders", null, 10);
            nge.observer.fire("tabs.menuContainer.switch", {
                tab: "pageOneHeaderContainer",
                container: "pageOneContainer"
            }, 50)
        }, !0);
        n("spin", d.spinBtnName, function() {
            nge.observer.fire("slotMachine.spinCommand")
        }, !0);
        n("coinMinus", void 0, function() {
            nge.observer.fire("coins.down")
        }, !0);
        n("coinPlus", void 0, function() {
                nge.observer.fire("coins.up")
            },
            !0);
        n("betMinus", void 0, function() {
            nge.observer.fire("bet.down")
        }, !0, !0);
        n("betPlus", void 0, function() {
            nge.observer.fire("bet.up")
        }, !0, !0);
        n("quickSettingsPanel", void 0, function() {
            nge.observer.fire("denom_change.play");
            nge.observer.fire("quickSettings.panelSwitch")
        }, !0, !0);
        n("linesChanger", void 0, function() {
            nge.observer.fire("denom_change.play");
            nge.observer.fire("lines.up")
        }, !0, !0)
    };
    this.startFreeSpin = function() {
        n("spin", d.spinBtnName, function() {
            nge.observer.fire(d.bonusGameStartEvent)
        }, !0);
        n("maxBet",
            d.maxBetBtnName,
            function() {
                nge.observer.fire(d.bonusGameStartEvent)
            }, !0);
        nge.localData.set("autospin", !1);
        u(!1)
    };
    this.onGambleButtonsShow = function() {
        var a = nge.localData.get("freeGame.amount"),
            b = nge.localData.get("freeGame.inProgress"),
            c = nge.localData.get("slotMachine.slotWin.canGamble");
        u(!0);
        b && 0 === parseInt(a, 10) && u(!1);
        nge.localData.get("autospin") || d.customGambleGame || "true" !== c || (n("auto", d.gambleBtnName, function() {
            nge.observer.fire("gamble.go")
        }, !0), n("maxBet", d.gambleBtnName, function() {
                nge.observer.fire("gamble.go")
            },
            !0), n("spin", d.takeButtonName, function() {
            nge.observer.fire("gamble.take")
        }, !0))
    };
    this.setButtonsStateOnWinCycleComplete = function() {
        n("spin", d.takeButtonName, function() {
            nge.observer.fire("gamble.take")
        }, !0);
        n("auto", d.gambleBtnName, function() {
            nge.observer.fire("gamble.go")
        }, !0);
        n("maxBet", d.gambleBtnName, function() {
            nge.observer.fire("gamble.go")
        }, !0)
    };
    this.setButtonStateOnGambleGo = function() {
        n("auto", d.gambleRedBtnName, function() {
            nge.observer.fire("gamble.red")
        }, !0);
        n("maxBet", d.gambleBlackBtnName,
            function() {
                nge.observer.fire("gamble.black")
            }, !0)
    };
    this.setButtonStateOnRedSwitchFrame = function(a) {
        n("auto", void 0, void 0, void 0, void 0, a)
    };
    this.gambleChooseButtonSelectors = {
        red: "^autoButtonButton",
        black: "^maxBetButtonButton"
    };
    this.onGambleRestoreChangeButtonsState = function() {
        n("auto", d.gambleRedBtnName, function() {
            nge.observer.fire("gamble.red")
        }, !0);
        n("maxBet", d.gambleBlackBtnName, function() {
            nge.observer.fire("gamble.black")
        }, !0);
        n("spin", d.takeButtonName, function() {
                nge.observer.fire("gamble.take")
            },
            !0)
    };
    this.onButtonsCreateEnd = function() {
        this.super.onButtonsCreateEnd();
        f = nge.findOne("^freespinPlayedTotalContainer");
        a = nge.findOne("^freespinTotalValueText");
        c = nge.findOne("^freespinPlyedValueText");
        e = nge.findOne("^autoButton");
        k = nge.findOne("^maxBetButton")
    };
    var w = function() {
        d.enableFreespinText(!1)
    };
    this.onSpinStop = function() {
        nge.localData.set("spin.onStop", !0);
        b.disable(7)
    };
    var x = function() {
            n("spin", "", function() {
                nge.observer.fire("gamble.take")
            }, !1);
            nge.rafSetTimeout(function() {
                b.setFrames(2,
                    1, 0)
            }, 5)
        },
        y = function() {
            n("maxBet", d.maxBetBtnName, function() {
                nge.observer.fire("maxbet.go")
            }, !1)
        },
        z = function() {
            d.styledButtons.autoButtonButton.setFrames(2, 0, 0)
        },
        B = function() {
            d.styledButtons.autoButtonButton.setFrames(2, 1, 0)
        },
        A = function() {
            var a = nge.localData.get("freeGame"),
                b = nge.localData.get("freespin");
            d.maxBetBtnName = a.inProgress && !b.inProgress ? a.amount + " FS" : g;
            n("maxBet", d.maxBetBtnName, function() {
                nge.observer.fire("maxbet.go")
            }, !1)
        },
        C = function() {
            A()
        };
    this.offerRestore = function() {
        var a = nge.localData.get("autospin");
        a = 0 !== parseInt(nge.localData.get("freeGame.amount"), 10) && !a;
        p("coinMinus", !1);
        p("coinPlus", !1);
        p("betMinus", !1);
        p("betPlus", !1);
        p("linesChanger", !1);
        u(a);
        n("paytable", d.paytableBtnName, function() {
            nge.observer.fire("paytable.show")
        }, a);
        n("spin", d.spinBtnName, function() {
            nge.observer.fire("slotMachine.spinCommand")
        }, a)
    };
    this.subscribe = function() {
        nge.Lib.Helper.mobileAndTabletCheck() || (d.super.subscribe(), nge.observer.add("slotMachine.spinResponse", C, !1, !0), nge.observer.add("autospinSimple.on", z, !1, !0),
            nge.observer.add("autospinSimple.off", B, !1, !0), nge.observer.add("gamble.take", y, !1, !0), nge.observer.add("gamble.taking.stop", x, !1, !0), nge.observer.add("buttons.freespinFinish", w, !1, !0), nge.observer.add("buttons.create.end", m, !1, !0), nge.observer.add("gamble.red", q, !1, !0), nge.observer.add("gamble.black", q, !1, !0), nge.observer.add("freespin.counterUpdate", v, !1, !0), nge.observer.add("offers.startGame", A, !1, !0), nge.observer.add("offers.result.goToGame", A, !1, !0))
    }
});
nge.App[nge.appNS].Mlm.Brain.UI_v3.Sounds = nge.App[nge.appNS].Mlm.Brain.Sounds.extend(function() {
    var d = function() {
        var b = {
            action: "play",
            s: "spin_button_click",
            e: "slotMachine.spinStart"
        };
        nge.observer.add(b.e, function() {
            nge.observer.fire("sound." + b.action, b)
        }, "sound." + b.e + "-" + b.s, !0)
    };
    this.customSubscribe = function() {
        this.super.customSubscribe();
        d()
    }
});
nge.App[nge.appNS].Mlm.Transport = {};
nge.App[nge.appNS].Mlm.Transport.Mapper = nge.Mlm.Transport.Mapper.extend(function() {
    this.init = function() {
        var d = nge.App.getInstance("Cfg.APIMockupGameSettings");
        if (d) {
            nge.Cfg.Main.mode = "development";
            var b = nge.App.getInstance("Mlm.Transport.APIMockup.Mapper"),
                h;
            for (h in b) this[h] = b[h];
            this.init(d)
        } else this.super.init()
    }
});
nge.App[nge.appNS].Mlm.UserInfo = {};
nge.App[nge.appNS].Mlm.UserInfo.Controller = Class.extend(function() {
    var d = this,
        b, h, g, f;
    this.init = function() {
        a();
        nge.observer.add("userInfo.show", e, !1, !0);
        nge.observer.add("userInfo.hide", k, !1, !0);
        nge.observer.add("userInfo.setUpdate", l, !1, !0);
        nge.observer.add("StatesManager.display.start", m, !1, !0);
        nge.observer.add("cyclicUpdate", q, !1, !0);
        l()
    };
    this.update = null;
    var a = function() {
            if (!nge.game.cache.checkImageKey("1pxBlack")) {
                var a = nge.Lib.Helper.create1PxPng(1, 1, 1);
                a.onload = function() {
                    nge.game.cache.addImage("1pxBlack",
                        a.src, a, 1, 1)
                }
            }
        },
        c = function() {
            var a = nge.App.getInstance("Mlm.UserInfo.Tpl");
            nge.objects.create(a.data);
            g = nge.findOne("^userInfoBar");
            h = nge.findOne("^userInfoText");
            b || (b = !0);
            return !0
        },
        e = function(a) {
            b || c();
            var d = a.delay;
            h.text = a.text;
            g.visible = !0;
            f && clearTimeout(f);
            d && (f = setTimeout(function() {
                k()
            }, d))
        };
    this.show = e;
    var k = function() {
            g.visible = !1
        },
        l = function(a) {
            d.update = a
        },
        m = function() {
            l();
            b = h = g = !1
        },
        q = function(a) {
            d.update && "function" === typeof d.update && d.update(a)
        }
});
nge.App[nge.appNS].Mlm.UserInfo.Tpl = function() {
    this.data = {
        type: 1,
        isVisible: !1,
        name: "userInfoBar",
        y: 980,
        contents: [{
            type: 2,
            name: "userInfoText",
            text: "userInfoTextDown",
            x: 960,
            y: 25,
            anchorX: .5,
            style: {
                fill: "#fff",
                font: '36pt "roboto_condensed_regular"'
            }
        }, {
            inputEnabled: !0,
            scaleX: 1920,
            scaleY: 100,
            alpha: .75,
            isVisible: 1,
            assetKey: "1pxBlack"
        }]
    }
};
nge.App[nge.appNS].Mlm.Brain.ButtonsNewLogic = {};
nge.App[nge.appNS].Mlm.Brain.ButtonsNewLogic.Action = Class.extend(function() {
    var d = null,
        b = null,
        h = null,
        g = null,
        f = null,
        a = null;
    this.init = function(c, e, g, h) {
        d = c;
        b = e;
        f = g;
        a = h
    };
    this.isValid = function() {
        return b()
    };
    this.isOptional = function() {
        return h
    };
    this.setOptional = function(a) {
        h = a
    };
    this.getName = function() {
        return d.replace("?", "")
    };
    this.addButtonStates = function(a) {
        g = a
    };
    this.appendButtonState = function(a) {
        g.push(a)
    };
    this.printStatus = function() {
        var a = this.isOptional() ? "%c OPTIONAL " : "%c",
            b = this.isValid() ? "%c VALID " :
            "%c";
        log("----ACTION NAME: " + this.getName() + " " + a + b, "color:#fff;background:#FD6A02;", "color:#fff;background:#2E8B57;")
    };
    this.update = function() {
        g.forEach(function(b) {
            b.update(f, a)
        })
    }
});
nge.App[nge.appNS].Mlm.Brain.ButtonsNewLogic.ButtonState = Class.extend(function() {
    var d = null,
        b = null,
        h = null,
        g = null,
        f = null;
    this.init = function(a, c, e) {
        d = a.name;
        b = c;
        h = e.propUpdateHandlers;
        g = e.callbackHandlers;
        f = a
    };
    var a = function(a) {
            a = a.callback;
            return nge.Lib.Helper.typeCheck.isFunction(a) ? a : nge.Lib.Helper.typeCheck.isArray(a) ? c(a) : function() {}
        },
        c = function(a) {
            var b = a.map(function(a) {
                    if (g[a] && nge.Lib.Helper.typeCheck.isFunction(g[a])) return g[a]
                }),
                c = function(a) {
                    a()
                };
            return function() {
                b.forEach(c)
            }
        },
        e = function(a) {
            "undefined" ===
            typeof a && (a = !0);
            nge.Lib.Helper.typeCheck.isArray(a) && (a = k(a));
            return a
        },
        k = function(a) {
            var b = function(a) {
                if (nge.Lib.Helper.typeCheck.isString(a)) {
                    var c = a;
                    a = !1;
                    0 === c.indexOf("!") && (a = !0, c = c.replace("!", ""));
                    h[c] ? (c = h[c](), a = a ? !c : c) : a = !1;
                    return a
                }
                nge.Lib.Helper.typeCheck.isArray(a);
                return a.every(b)
            };
            return a.every(b)
        };
    this.update = function(c, g) {
        var h = nge.Lib.Helper.jsObjClone(b),
            k = {};
        k[d] = {};
        k[d].title = h.title;
        k[d].enabled = e(h.enabled) && f.enabled;
        k[d].visible = e(h.visible) && f.visible;
        k[d].callback = a(h);
        c(k);
        nge.observer.fire("buttons.changeData", k);
        g(k)
    }
});
nge.App[nge.appNS].Mlm.Brain.ButtonsNewLogic.Cfg = Class.extend(function() {
    this.enableWinlinesQuickFinish = this.singleton = !0;
    this.defaultBtnState = {
        enabled: !1
    };
    this.slotMachineStates = {
        play: {
            SPIN: ["@PAYTABLE", "FREESPIN", "GAMBLE", "SPIN"],
            FREESPIN: ["GAMBLE", "SPIN"],
            GAMBLE: ["SPIN"],
            PAYTABLE: ["SPIN"]
        },
        jackpotLoader: {
            JACKPOT_LOADER: []
        },
        jackpot: {
            JACKPOT: []
        }
    };
    this.sharedStates = {
        play: ["SETTINGS"]
    };
    this.buttons = {
        play: {
            spin: {
                name: "spin",
                enabled: !0,
                visible: !0
            },
            auto: {
                name: "auto",
                enabled: !0,
                visible: !0
            },
            maxBet: {
                name: "maxBet",
                enabled: !0,
                visible: !0
            },
            oneBet: {
                name: "oneBet",
                enabled: !0,
                visible: !0
            },
            hold1: {
                name: "hold1",
                enabled: !0,
                visible: !0
            },
            hold2: {
                name: "hold2",
                enabled: !0,
                visible: !0
            },
            hold3: {
                name: "hold3",
                enabled: !0,
                visible: !0
            },
            hold4: {
                name: "hold4",
                enabled: !0,
                visible: !0
            },
            hold5: {
                name: "hold5",
                enabled: !0,
                visible: !0
            },
            paytable: {
                name: "paytable",
                enabled: !0,
                visible: !0
            },
            coinMinus: {
                name: "coinMinus",
                enabled: !0,
                visible: !0
            },
            coinPlus: {
                name: "coinPlus",
                enabled: !0,
                visible: !0
            }
        },
        jackpotLoader: {},
        jackpot: {}
    };
    this.sharedButtons = {
        play: {
            sound: {
                name: "sound",
                enabled: !0,
                visible: !0
            },
            fullscreen: {
                name: "fullscreen",
                enabled: !0,
                visible: !0
            }
        }
    }
});
nge.App[nge.appNS].Mlm.Brain.ButtonsNewLogic.Controller = Class.extend(function() {
    var d = !1,
        b = null,
        h = !1;
    this.updateButtonStateOnEvents = "slotMachine.spinCommand slotMachine.spinStart slotMachine.stopCommand slotMachine.spinComplete slotMachine.spinResponse transportMessage.BalanceResponse winlines.animateByOne.cycleComplete winlines.animateByOne.cycleComplete.firstTime gamble.go gamble.take gamble.taking.stop paytable.show paytable.hide betSettings.show betSettings.hide freespin.start buttons.freespinStart freespin.press.spinButton buttons.freespinContinue popupFinish.animate.stop popupFinish.animate.start gamble.actionRequest buttons.gamble.restore autospinSimple.on autospinSimple.off offers.list.apply offers.result.goToGame offers.list.later".split(" ");
    this.init =
        function(d) {
            this.destroyManager();
            b = nge.App.getInstance("Mlm.Brain.ButtonsNewLogic.Manager");
            b.configure(d);
            nge.observer.fire("buttons.updateState")
        };
    this.destroyManager = function() {
        b && b.destroy()
    };
    this.updateOnEvents = function() {
        var b = function() {
            nge.observer.fire("buttons.updateState")
        };
        this.updateButtonStateOnEvents.forEach(function(a) {
            nge.observer.add(a, b, !1, !0)
        })
    };
    this.buttonsCreateEndHandler = function() {
        d = !0
    };
    this.sceneCreateEndHandler = function(b) {
        h = !0;
        d && this.init(b)
    };
    this.buttonsUpdateStateHandler =
        function() {
            d && h && b.update();
            h = d
        };
    var g = function() {
        d && b.printStatus()
    };
    this.onTransportClose = function() {
        h = d = !1
    };
    this.sceneCreateStartHandler = function() {
        d = !1
    };
    this.subscribe = function() {
        nge.observer.add("buttons.printStatus", g, !1, !0);
        nge.observer.add("buttons.updateState", this.buttonsUpdateStateHandler, !1, !0);
        nge.observer.add("StatesManager.display.start", this.sceneCreateStartHandler, !1, !0);
        nge.observer.add("StatesManager.create.end", this.sceneCreateEndHandler, !1, !0);
        nge.observer.add("buttons.create.end",
            this.buttonsCreateEndHandler, !1, !0);
        nge.observer.add("Transport.close", this.onTransportClose, !1, !0);
        this.updateOnEvents()
    }
});
nge.App[nge.appNS].Mlm.Brain.ButtonsNewLogic.Manager = Class.extend(function() {
    this.forceCurrStateUpdate = !1;
    var d = null,
        b = null,
        h = null,
        g = function(a) {
            var b = null;
            d.forEach(function(c) {
                c.getName() === a && (b = c)
            });
            return b
        };
    this.configure = function(a) {
        var b = nge.Lib.Helper.mobileAndTabletCheck();
        b = nge.App.getInstance("Mlm.Brain" + (b ? ".Mobile" : "") + ".ButtonsNewLogic.Cfg");
        var c = nge.Lib.Helper.mobileAndTabletCheck();
        h = nge.App.getInstance("Mlm.Brain.ButtonsNewLogic.Parser");
        h.configure(b, c);
        d = h.buildStates(a)
    };
    this.destroy =
        function() {
            h.destroy()
        };
    var f = function(a) {
            for (var c = null, d = 0; d < a.length; d++) {
                var e = g(a[d]);
                if (e && e.isValid()) {
                    c = e;
                    break
                }
            }
            b = c || b;
            return !!c
        },
        a = function() {
            var a = nge.statesManager.getCurrentName(),
                c = !1;
            b || (c = h.getSlotMachineStates(a), c = Object.getOwnPropertyNames(c).reverse(), c = f(c));
            if (!b) {
                var d = h.getDefaultStateName(a);
                b = g(d)
            }
            c || (a = h.getSlotMachineStates(a)[b.getName()]) && f(a);
            b.reset()
        },
        c = function() {
            var a, c = b.getName(),
                d = nge.statesManager.getCurrentName();
            c = h.getSlotMachineStates(d)[c];
            if (!c) return b;
            c.filter(function(a) {
                return -1 !== a.indexOf("@")
            }).forEach(function(b) {
                b = b.replace("@", "");
                b = g(b);
                b.isValid() && (a = b);
                return null
            });
            b = a ? a : b
        },
        e = function() {
            b || a();
            var d = b.canGoNext(),
                e = b.isValid(),
                f = b.isForceSwitchAvail();
            d && !f ? b.update() : (e && f ? c() : e || d || a(), (b.isValid() || this.forceCurrStateUpdate) && b.update())
        }.bind(this);
    this.printStatus = function(a) {
        log("\n");
        log("------------BUTTONS LOGIC------------");
        log("CURRENT STATE NAME: %c " + b.getName() + " ", "color:#fff;background:#0080FF;");
        if (a) return b.printStatus(a);
        d.forEach(function(a) {
            a.printStatus()
        });
        log("-------------------------------------");
        log("\n")
    };
    this.update = function() {
        e()
    }
});
nge.App[nge.appNS].Mlm.Brain.ButtonsNewLogic.Parser = Class.extend(function() {
    var d = null,
        b = !1,
        h = {},
        g = function(a, b) {
            return nge.App.getInstance("Mlm.Brain" + (b ? ".Mobile" : "") + ".ButtonsNewLogic." + a)
        },
        f = function(a) {
            var b = "";
            a.replace("?", "").split("_").forEach(function(a) {
                b += nge.Lib.Helper.capitaliseFirstLetter(a.toLowerCase())
            });
            return b
        },
        a = function(a) {
            a = "States." + f(a) + "State";
            return g(a, b)
        },
        c = function(a) {
            var b = "on";
            a.replace("?", "").split("_").forEach(function(a) {
                b += nge.Lib.Helper.capitaliseFirstLetter(a.toLowerCase())
            });
            return b
        },
        e = function(a) {
            return a.filter(function(a) {
                return !!a
            })
        },
        k = function(a, b) {
            var c = b.validityCheckHandler,
                d = b.model.order;
            b = b.stateResetHandler;
            var e = g("State");
            e.init(a, c, d, b);
            return e
        },
        l = function(a, b, d) {
            var e = c(a);
            b = b[e] || function() {};
            var f = d.beforeUpdateHandler[e] || function() {};
            d = d.afterUpdateHandler[e] || function() {};
            e = g("Action");
            e.init(a, b, f, d);
            return e
        },
        m = function(a, b) {
            var c = b.actionUpdateHandlers || {},
                d = {
                    beforeUpdateHandler: b.beforeUpdateHandlers,
                    afterUpdateHandler: b.afterUpdateHandlers
                };
            return b.model.order.map(function(a) {
                return l(a, c, d)
            })
        },
        q = function(a, b, c) {
            var e = nge.statesManager.getCurrentName(),
                f = Object.getOwnPropertyNames(d[c][e]);
            return f && f.length ? f.map(function(f) {
                var h = d[c][e][f];
                f = (f = b.model.actions[a][f]) ? nge.Lib.Helper.jsObjClone(f) : d.defaultBtnState;
                var k = {
                        propUpdateHandlers: b.propUpdateHandlers,
                        callbackHandlers: b.callbackHandlers
                    },
                    l = g("ButtonState");
                l.init(h, f, k);
                return l
            }) : []
        },
        n = function(b) {
            return (b = d.sharedStates[b]) ? a(b[0]) : null
        },
        p = function(b) {
            var c = a(b),
                e = nge.statesManager.getCurrentName(),
                f = nge.App.getInstance("Com.Buttons.Cfg"),
                g = f[e];
            g || (g = f.params);
            if (!c) return console.error("State", b, "was not created! State file was not found!"), null;
            h[e] || (h[e] = {});
            !h[e].sharedState && (f = n(e)) && (f.init(d.sharedButtons[e]), h[e].sharedState = f);
            var l = h[e].sharedState;
            if (l) {
                var p = l.model.order[0];
                c.propUpdateHandlers = nge.Lib.Helper.mergeObjsRecursive(c.propUpdateHandlers, l.propUpdateHandlers)
            }
            h[e][b] = c;
            c.init(g);
            e = k(b, c);
            b = m(b, c);
            b.forEach(function(a) {
                var b = a.getName();
                b = q(b, c, "buttons");
                if (l) {
                    var d =
                        q(p, l, "sharedButtons");
                    b.push.apply(b, d)
                }
                a.addButtonStates(b)
            });
            e.addActions(b);
            return e
        },
        r = function(a) {
            a = this.getStateNames(a).map(p);
            return e(a)
        }.bind(this);
    this.destroy = function() {
        for (var a in h)
            for (var b in h[a]) h[a][b].destroy();
        h = {}
    };
    this.buildStates = function(a) {
        return r(a)
    };
    this.getDefaultStateName = function(a) {
        return Object.getOwnPropertyNames(d.slotMachineStates[a])[0]
    };
    this.configure = function(a, c) {
        d = a;
        b = c
    };
    this.getStateNames = function(a) {
        return Object.getOwnPropertyNames(d.slotMachineStates[a])
    };
    this.getSlotMachineStates = function(a) {
        return d.slotMachineStates[a]
    }
});
nge.App[nge.appNS].Mlm.Brain.ButtonsNewLogic.State = Class.extend(function() {
    var d = null,
        b = null,
        h = null,
        g = null,
        f = null,
        a = null;
    this.init = function(c, e, g, h) {
        d = c;
        b = e;
        f = g;
        a = h
    };
    var c = function(a) {
            var b = h.filter(function(b) {
                return b.getName() === a
            });
            return b && b[0] ? b[0] : !1
        },
        e = function() {
            var a = null;
            f.forEach(function(b) {
                b = c(b);
                b.isOptional() && !b.isValid() || a || (a = b)
            });
            g = a || h[0]
        },
        k = function() {
            f = f.map(function(a) {
                var b = -1 !== a.indexOf("?");
                a = a.replace("?", "");
                var d = c(a);
                d && d.setOptional(b);
                return a
            })
        };
    this.getName = function() {
        return d
    };
    this.isValid = function() {
        return b()
    };
    this.canGoNext = function() {
        var a = g.getName().replace("?", ""),
            b = f.indexOf(a);
        a = g.isValid();
        var c = b === f.length - 1,
            d = b;
        b = !1;
        for (d = ++d; d < h.length; d++)
            if (!h[d].isOptional()) {
                b = !0;
                break
            } return a && !c && b
    };
    this.isForceSwitchAvail = function() {
        var a = null;
        f.forEach(function(b) {
            b = c(b);
            b.isOptional() || a || (a = b)
        });
        return g === a
    };
    this.printStatus = function(a) {
        this.isValid() ? log("%c STATUS NAME: " + d + " VALID ", "color:#fff;background:#0B6623;") : log("STATUS NAME: " + d);
        if (a) return g.printStatus();
        h.forEach(function(a) {
            a.printStatus()
        })
    };
    this.addActions = function(a) {
        h = a;
        k();
        e()
    };
    this.update = function() {
        if (!g.isValid()) {
            var a = -1;
            var b = h.indexOf(g);
            for (b = ++b; b < h.length; b++) {
                var c = h[b];
                if (c.isValid()) {
                    a = b;
                    break
                }
                c.isValid() && c.isOptional()
            }
            0 < a && (g = h[a])
        }
        g.update()
    };
    this.reset = function() {
        e();
        a()
    }
});
nge.App[nge.appNS].Mlm.Brain.ButtonsNewLogic.States = {};
nge.App[nge.appNS].Mlm.Brain.ButtonsNewLogic.States.BaseState = Class.extend(function() {
    this.id = null;
    var d = !1,
        b = !1,
        h = this,
        g = null;
    this.changeStyleTypeEnum = {
        add: "add",
        remove: "remove"
    };
    this.subscribeCfg = {
        "slotMachine.spinStart": "spinStartHandler",
        "slotMachine.spinCommand": "slotMachineSpinCommandHandler",
        win: "winHandler",
        "winlines.animateByOne.cycleComplete.firstTime": "cycleCompleteHandler",
        "transportMessage.BalanceResponse": "balanceResponseHandler",
        "offer.apply": "applyOfferHandler",
        "offers.result.goToGame": "offerGoToGameHandler",
        "offers.list.later": "offerListLaterHandler",
        "slotMachine.spinComplete": "spinCompleteHandler",
        "slotMachine.stopCommand": "spinStopHandler"
    };
    this.subscribeCfgExt = {};
    this.buttonsRefs = {};
    this.init = function(b) {
        this.id = nge.Lib.Helper.getRandomInt(0, 999999);
        g = nge.Lib.Helper.mergeObjsRecursive(this.subscribeCfg, this.subscribeCfgExt);
        this.fillButtonsRefs(b);
        this.subscribe()
    };
    this.destroy = function() {
        this.buttonsRefs = {};
        this.unsubscribe()
    };
    this.fillButtonsRefs = function(b) {
        var a = Object.getOwnPropertyNames(b),
            c = function(a) {
                var c = nge.findOne("^" + b[a].name + "Button");
                c || (c = nge.findOne("^" + b[a].name + "ButtonButton"));
                this.buttonsRefs[a] = c
            }.bind(this);
        a.forEach(c)
    };
    this.setButtonFrames = function(b, a) {
        if (b = this.getButtonByName(b)) {
            if (nge.game.input.mouse.event) nge.game.input.mouse.onMouseMove(nge.game.input.mouse.event);
            b.setFrames(a.overFrame, a.outFrame, a.downFrame, a.upFrame);
            b._onOriginal && (b._onOriginal = {
                _onOverFrame: a.overFrame,
                _onOutFrame: a.outFrame,
                _onDownFrame: a.downFrame
            })
        }
    };
    this.getButtonByName = function(b) {
        var a =
            this.buttonsRefs[b];
        return a ? a : (console.error(b, "not found in state cache!"), !1)
    };
    this.disableButton = function(b, a) {
        (b = this.getButtonByName(b)) && b.disable(a)
    };
    this.enableButton = function(b) {
        (b = this.getButtonByName(b)) && b.enable()
    };
    this.model = {
        order: [],
        actions: {}
    };
    this.validityCheckHandler = function() {
        return !1
    };
    this.actionUpdateHandlers = {};
    this.propUpdateHandlers = {
        auto: function() {
            return nge.localData.get("autospin")
        },
        quickFinishEnable: function() {
            return !nge.localData.get("quickSpin.inProgress") && !b && d
        }
    };
    this.callbackHandlers = {
        autoCallback: function() {
            var b = nge.localData.get("autospin");
            nge.observer.fire("autospinSimple." + (b ? "off" : "on"))
        },
        quickFinishCallback: function() {
            nge.localData.set("quickSpin.inProgress", !0);
            nge.observer.fire("slotMachine.quickFinish")
        }
    };
    this.changeStyle = function(b, a, c) {
        b.classes = [{
            title: a,
            action: c
        }]
    };
    this.beforeUpdateHandlers = {};
    this.afterUpdateHandlers = {};
    this.winHandler = function() {
        d = !0
    };
    this.spinStartHandler = function() {
        nge.localData.set("quickSpin.inProgress", !1);
        b = d = !1
    };
    this.cycleCompleteHandler =
        function() {
            b = !0
        };
    this.spinStopHandler = function() {};
    this.applyOfferHandler = function() {};
    this.offerGoToGameHandler = function() {};
    this.offerListLaterHandler = function() {};
    this.balanceResponseHandler = function() {};
    this.slotMachineSpinCommandHandler = function() {};
    this.stateResetHandler = function() {};
    this.spinCompleteHandler = function() {};
    this.subscribe = function() {
        for (var b in g) {
            var a = h[g[b]];
            nge.Lib.Helper.typeCheck.isFunction(a) && nge.observer.add(b, a, b.concat(".", this.id), !0)
        }
    };
    this.unsubscribe = function() {
        for (var b in g) nge.observer.remove(b,
            !1, b.concat(".", this.id), !0)
    }
});
nge.App[nge.appNS].Mlm.Brain.ButtonsNewLogic.States.JackpotState = nge.App.ClassicGameBase.Mlm.Brain.ButtonsNewLogic.States.BaseState.extend(function() {
    this.model = {
        order: ["SHOWED"],
        actions: {
            SHOWED: {}
        }
    };
    this.validityCheckHandler = function() {
        return "jackpot" === nge.statesManager.getCurrentName()
    };
    this.actionUpdateHandlers = {
        onShowed: function() {
            return "jackpot" === nge.statesManager.getCurrentName()
        }
    }
});
nge.App[nge.appNS].Mlm.Brain.ButtonsNewLogic.States.JackpotLoaderState = nge.App.ClassicGameBase.Mlm.Brain.ButtonsNewLogic.States.BaseState.extend(function() {
    this.model = {
        order: ["SHOWED"],
        actions: {
            SHOWED: {}
        }
    };
    this.validityCheckHandler = function() {
        return "jackpotLoader" === nge.statesManager.getCurrentName()
    };
    this.actionUpdateHandlers = {
        onShowed: function() {
            return "jackpotLoader" === nge.statesManager.getCurrentName()
        }
    }
});
nge.App[nge.appNS].Mlm.Brain.ButtonsNewLogic.States.SpinState = nge.App[nge.appNS].Mlm.Brain.ButtonsNewLogic.States.BaseState.extend(function() {
    var d = this;
    this.standardSpinEvent = "slotMachine.spinCommand";
    this.standardStopEvent = "slotMachine.stopCommand";
    var b = this.propUpdateHandlers.auto,
        h = this.propUpdateHandlers.quickFinishEnable,
        g = !0,
        f = !1,
        a = !1,
        c = !0,
        e = !0,
        k = !1,
        l = !1,
        m;
    this.init = function(a) {
        m = nge.App.getInstance("Mlm.Brain.ButtonsNewLogic.Cfg");
        this.super.init(a)
    };
    this.model = {
        order: ["OFFER?", "READY", "STARTED",
            "STOPPED"
        ],
        actions: {
            OFFER: {},
            READY: {
                spin: {
                    title: _("SPIN"),
                    enabled: ["!auto"],
                    callback: function() {
                        nge.observer.fire(d.standardSpinEvent)
                    }
                },
                oneBet: {
                    title: _("ONE BET"),
                    enabled: ["!auto", "!offerInProgress"],
                    callback: function() {
                        nge.observer.fire("bet.up")
                    }
                },
                maxBet: {
                    title: _("MAX BET"),
                    enabled: ["!auto", "!offerInProgress"],
                    callback: function() {
                        nge.observer.fire("maxbet.go")
                    }
                },
                paytable: {
                    title: _("PAYTABLE"),
                    enabled: ["!auto"],
                    callback: function() {
                        nge.observer.fire("paytable.show")
                    }
                },
                hold1: {
                    title: _("HOLD 1"),
                    enabled: ["!auto",
                        "!offerInProgress"
                    ],
                    callback: function() {
                        var a = nge.localData.get("lines.cfg")[0];
                        a && nge.observer.fire("lines.set", a)
                    }
                },
                hold2: {
                    title: _("HOLD 2"),
                    enabled: ["!auto", "!offerInProgress"],
                    callback: function() {
                        var a = nge.localData.get("lines.cfg")[1];
                        a && nge.observer.fire("lines.set", a)
                    }
                },
                hold3: {
                    title: _("HOLD 3"),
                    enabled: ["!auto", "!offerInProgress"],
                    callback: function() {
                        var a = nge.localData.get("lines.cfg")[2];
                        a && nge.observer.fire("lines.set", a)
                    }
                },
                hold4: {
                    title: _("HOLD 4"),
                    enabled: ["!auto", "!offerInProgress"],
                    callback: function() {
                        var a =
                            nge.localData.get("lines.cfg")[3];
                        a && nge.observer.fire("lines.set", a)
                    }
                },
                hold5: {
                    title: _("HOLD 5"),
                    enabled: ["!auto", "!offerInProgress"],
                    callback: function() {
                        var a = nge.localData.get("lines.cfg")[4];
                        a && nge.observer.fire("lines.set", a)
                    }
                },
                coinMinus: {
                    title: "",
                    enabled: ["!auto", "!offerInProgress"],
                    callback: function() {
                        nge.observer.fire("coins.down")
                    }
                },
                coinPlus: {
                    title: "",
                    enabled: ["!auto", "!offerInProgress"],
                    callback: function() {
                        nge.observer.fire("coins.up")
                    }
                },
                auto: {
                    callback: ["autoCallback"]
                }
            },
            STARTED: {
                spin: {
                    title: _("STOP"),
                    enabled: ["!auto", "!stopped", "spinResultReceived"],
                    callback: function() {
                        nge.observer.fire(d.standardStopEvent)
                    }
                },
                auto: {
                    callback: ["autoCallback"]
                }
            },
            STOPPED: {
                spin: {
                    enabled: ["!auto", "quickFinishEnable"],
                    callback: ["quickFinishCallback"]
                },
                auto: {
                    callback: ["autoCallback"]
                }
            }
        }
    };
    this.subscribeCfgExt = {
        "slotMachine.spinComplete": "spinCompleteHandler",
        "slotMachine.spinResponse": "spinResponceHandler"
    };
    this.validityCheckHandler = function() {
        var a = "true" === nge.localData.get("slotMachineData.slotWin.canGamble");
        return g &&
            a ? !1 : c
    };
    this.propUpdateHandlers = {
        auto: b,
        quickFinishEnable: h,
        stopped: function() {
            return a
        },
        cycleCompleted: function() {
            return g
        },
        offerInProgress: function() {
            return nge.localData.get("freeGame.inProgress")
        },
        spinResultReceived: function() {
            return l
        }
    };
    this.actionUpdateHandlers = {
        onOffer: function() {
            var a = nge.localData.get("freeGame");
            return a && (!a.amount || a.showingOfferMenu) && c && k
        },
        onOfferStart: function() {
            return nge.localData.get("freeGame.showingOfferMenu")
        },
        onReady: function() {
            return g && c && !f
        },
        onStarted: function() {
            return f
        },
        onStopped: function() {
            return e && !g
        }
    };
    this.spinStartHandler = function() {
        this.super.spinStartHandler();
        a = !1;
        f = !0;
        e = g = !1
    };
    this.spinStopHandler = function() {
        a = !0;
        nge.localData.set("spin.onStop", !0)
    };
    this.spinCompleteHandler = function() {
        f = !1;
        e = !0;
        nge.rafSetTimeout(function() {
            var a = nge.localData.get("slotMachine.slotWin");
            if (m && m.enableWinlinesQuickFinish && a) {
                nge.localData.set("slotMachine.quickFinishWaiting", !0);
                a = {};
                var b = nge.Lib.Helper.mobileAndTabletCheck() ? "spinMobile" : "spin";
                a[b] = {};
                a[b] = {
                    title: d.stopBtnName,
                    callback: function() {
                        nge.localData.set("slotMachine.quickFinishWaiting", !1);
                        nge.observer.fire("slotMachine.quickFinish")
                    },
                    enabled: !0
                };
                nge.observer.fire("buttons.changeData", a)
            }
        }, 1);
        l = !1
    };
    this.balanceResponseHandler = function() {
        this.super.balanceResponseHandler();
        c = !0
    };
    this.cycleCompleteHandler = function() {
        this.super.cycleCompleteHandler();
        g = !0;
        c = !1;
        nge.localData.set("slotMachine.quickFinishWaiting", !1)
    };
    this.applyOfferHandler = function() {
        this.super.applyOfferHandler();
        k = !0
    };
    this.offerGoToGameHandler =
        function() {
            this.super.offerGoToGameHandler();
            k = !1
        };
    this.offerListLaterHandler = function() {
        this.super.offerListLaterHandler();
        k = !1
    };
    this.spinResponceHandler = function() {
        this.super.spinResponceHandler && this.super.spinResponceHandler();
        l = !0
    }
});
nge.App[nge.appNS].Mlm.Brain.ButtonsNewLogic.States.GambleState = nge.App.ClassicGameBase.Mlm.Brain.ButtonsNewLogic.States.BaseState.extend(function() {
    var d = !1,
        b = !1,
        h = 0,
        g = !1,
        f = !1;
    this.model = {
        order: ["READY", "STARTED?"],
        actions: {
            READY: {
                spin: {
                    title: _("TAKE"),
                    enabled: ["!auto", "!gambleTakedTwiceAndMore"],
                    callback: function() {
                        nge.observer.fire("gamble.take")
                    }
                },
                oneBet: {
                    title: _("GAMBLE"),
                    enabled: ["!auto", "!gambleTakedOnceAndMore"],
                    callback: function() {
                        nge.observer.fire("gamble.go")
                    }
                },
                maxBet: {
                    title: _("GAMBLE"),
                    enabled: ["!auto", "!gambleTakedOnceAndMore"],
                    callback: function() {
                        nge.observer.fire("gamble.go")
                    }
                },
                auto: {
                    callback: ["autoCallback"]
                }
            },
            STARTED: {
                spin: {
                    title: _("TAKE"),
                    enabled: ["!actionRequested"],
                    callback: function() {
                        nge.observer.fire("gamble.take")
                    }
                },
                oneBet: {
                    title: _("RED"),
                    enabled: ["!actionRequested"],
                    callback: function() {
                        nge.observer.fire("gamble.red")
                    }
                },
                maxBet: {
                    title: _("BLACK"),
                    enabled: ["!actionRequested"],
                    callback: function() {
                        nge.observer.fire("gamble.black")
                    }
                }
            }
        }
    };
    this.subscribeCfgExt = {
        "gamble.go": "gambleGoHandler",
        "gamble.take": "gambleTakeHandler",
        "gamble.taking.stop": "gambleTakingStopHandler",
        "gamble.actionRequest": "actionRequestHandler",
        "buttons.gamble.restore": "gambleRestoreHandler",
        "gamble.loose": "gambleTakingStopHandler"
    };
    this.validityCheckHandler = function() {
        return "true" === nge.localData.get("slotMachine.slotWin.canGamble") && d && !f
    };
    this.actionUpdateHandlers = {
        onReady: function() {
            return !b
        },
        onStarted: function() {
            return b
        }
    };
    this.propUpdateHandlers = {
        auto: this.propUpdateHandlers.auto,
        gambleTakedOnceAndMore: function() {
            return 1 <=
                h
        },
        gambleTakedTwiceAndMore: function() {
            return 2 <= h
        },
        actionRequested: function() {
            return g
        }
    };
    this.gambleTakeHandler = function() {
        b = !1;
        h++
    };
    this.gambleGoHandler = function() {
        b = !0
    };
    this.gambleTakingStopHandler = function() {
        h = 3
    };
    this.spinStartHandler = function() {
        this.super.spinStartHandler();
        h = 0;
        f = d = !1
    };
    this.actionRequestHandler = function() {
        g = !0
    };
    this.gambleRestoreHandler = function() {
        g = !1
    };
    this.cycleCompleteHandler = function() {
        this.super.cycleCompleteHandler();
        d = !0
    };
    this.balanceResponseHandler = function() {
        this.super.balanceResponseHandler();
        f = !0
    }
});
nge.App[nge.appNS].Mlm.Brain.ButtonsNewLogic.States.PaytableState = nge.App[nge.appNS].Mlm.Brain.ButtonsNewLogic.States.BaseState.extend(function() {
    var d = !1;
    this.model = {
        order: ["SHOWED"],
        actions: {
            SHOWED: {
                paytable: {
                    title: _("PAYTABLE"),
                    callback: function() {
                        nge.observer.fire("paytable.hide")
                    }
                },
                spin: {
                    title: _("SPIN"),
                    callback: function() {
                        nge.observer.fire("paytable.hide")
                    }
                },
                oneBet: {
                    title: _("BACK"),
                    callback: function() {
                        nge.observer.fire("paytable.back")
                    }
                },
                maxBet: {
                    title: _("NEXT"),
                    callback: function() {
                        nge.observer.fire("paytable.next")
                    }
                }
            }
        }
    };
    this.subscribeCfgExt = {
        "paytable.show": "paytableShowHandler",
        "paytable.hide": "paytableHideHandler"
    };
    this.validityCheckHandler = function() {
        return d
    };
    this.actionUpdateHandlers = {
        onShow: function() {
            return d
        }
    };
    this.paytableShowHandler = function() {
        d = !0
    };
    this.paytableHideHandler = function() {
        d = !1
    }
});
nge.App[nge.appNS].Mlm.Brain.ButtonsNewLogic.States.FreespinState = nge.App[nge.appNS].Mlm.Brain.ButtonsNewLogic.States.BaseState.extend(function() {
    var d = this,
        b = !1,
        h = !1,
        g = !1,
        f = !1,
        a = !1,
        c = !1,
        e = !1;
    this.freespinStartEventName = "freespin.press.spinButton";
    var k;
    this.init = function(a) {
        k = nge.App.getInstance("Mlm.Brain.ButtonsNewLogic.Cfg");
        this.super.init(a)
    };
    this.model = {
        order: ["SHOW_START_POPUP", "RESTORE?", "READY", "STARTED", "SHOW_FINISH_POPUP"],
        actions: {
            SHOW_START_POPUP: {},
            RESTORE: {
                spin: {
                    title: _("CONTINUE\nBONUS"),
                    callback: ["freespinStartCallback"]
                }
            },
            READY: {
                spin: {
                    title: _("SPIN"),
                    callback: ["freespinStartCallback"]
                },
                oneBet: {
                    title: _("ONE BET"),
                    callback: ["freespinStartCallback"]
                },
                maxBet: {
                    title: _("MAX BET"),
                    callback: ["freespinStartCallback"]
                },
                paytable: {
                    title: _("PAYTABLE"),
                    callback: ["freespinStartCallback"]
                },
                hold1: {
                    title: _("HOLD 1"),
                    callback: ["freespinStartCallback"]
                },
                hold2: {
                    title: _("HOLD 2"),
                    callback: ["freespinStartCallback"]
                },
                hold3: {
                    title: _("HOLD 3"),
                    callback: ["freespinStartCallback"]
                },
                hold4: {
                    title: _("HOLD 4"),
                    callback: ["freespinStartCallback"]
                },
                hold5: {
                    title: _("HOLD 5"),
                    callback: ["freespinStartCallback"]
                }
            },
            STARTED: {
                spin: {
                    title: _("STOP"),
                    enabled: ["!auto", "quickFinishEnable"],
                    callback: ["quickFinishCallback"]
                },
                auto: {
                    callback: ["autoCallback"]
                }
            },
            SHOW_FINISH_POPUP: {}
        }
    };
    this.subscribeCfgExt = {
        "freespin.start": "freespinStartHandler",
        "freespin.end": "freespinEndHandler",
        "buttons.freespinContinue": "freespinContinueHandler",
        "freespin.press.spinButton": "freespinStartCommandHandler",
        "buttons.freespinStart": "freespinButtonsStartHandler",
        "popupFinish.animate.start": "popupFinishAnimateStartHanldler"
    };
    this.validityCheckHandler = function() {
        var a = !!nge.localData.get("slotMachine.lastResponse"),
            c = "true" === nge.localData.get("slotMachine.slotWin.canGamble");
        return !h && c ? !1 : a || !f && b
    };
    this.actionUpdateHandlers = {
        onShowStartPopup: function() {
            return g
        },
        onRestore: function() {
            return !!nge.localData.get("slotMachine.lastResponse") && a
        },
        onReady: function() {
            var a = !!nge.localData.get("slotMachine.lastResponse");
            return !g && !c && !a
        },
        onStarted: function() {
            var a =
                nge.localData.get("freespin.inProgress");
            return c && a
        },
        onShowFinishPopup: function() {
            return e
        }
    };
    this.beforeUpdateHandlers = {
        onRestore: function(a) {
            a.spin && d.changeStyle(a.spin, "buttonTextContinueButton", d.changeStyleTypeEnum.add)
        },
        onStarted: function(a) {
            a.spin && d.changeStyle(a.spin, "buttonTextContinueButton", d.changeStyleTypeEnum.remove)
        }
    };
    this.freespinStartHandler = function() {
        b = g = a = h = !0
    };
    this.callbackHandlers.freespinStartCallback = function() {
        nge.observer.fire(d.freespinStartEventName)
    };
    this.freespinButtonsStartHandler =
        function() {
            g = !1
        };
    this.freespinStartCommandHandler = function() {
        c = !0;
        a = !1
    };
    this.freespinContinueHandler = function() {
        g = !1
    };
    this.balanceResponseHandler = function() {
        this.super.balanceResponseHandler();
        f = !0;
        e = b = !1
    };
    this.spinStartHandler = function() {
        this.super.spinStartHandler();
        f = !1
    };
    this.freespinEndHandler = function() {
        e = h = !1
    };
    this.popupFinishAnimateStartHanldler = function() {
        e = !0;
        c = !1
    };
    this.cycleCompleteHandler = function() {
        this.super.cycleCompleteHandler();
        nge.localData.set("slotMachine.quickFinishWaiting", !1)
    };
    this.spinCompleteHandler = function() {
        nge.rafSetTimeout(function() {
            var a = nge.localData.get("slotMachine.slotWin");
            if (k && k.enableWinlinesQuickFinish && a) {
                nge.localData.set("slotMachine.quickFinishWaiting", !0);
                a = {};
                var b = nge.Lib.Helper.mobileAndTabletCheck() ? "spinMobile" : "spin";
                a[b] = {};
                a[b] = {
                    title: d.stopBtnName,
                    callback: function() {
                        nge.localData.set("slotMachine.quickFinishWaiting", !1);
                        nge.observer.fire("slotMachine.quickFinish")
                    },
                    enabled: !0
                };
                nge.observer.fire("buttons.changeData", a)
            }
        }, 1)
    };
    this.subscribe =
        function() {
            this.super.subscribe();
            nge.observer.add("freespin.start", this.freespinStartHandler, !1, !0);
            nge.observer.add("freespin.end", this.freespinEndHandler, !1, !0);
            nge.observer.add("buttons.freespinContinue", this.freespinContinueHandler, !1, !0);
            nge.observer.add(this.freespinStartEventName, this.freespinStartCommandHandler, !1, !0);
            nge.observer.add("buttons.freespinStart", this.freespinButtonsStartHandler, !1, !0);
            nge.observer.add("popupFinish.animate.start", this.popupFinishAnimateStartHanldler, !1, !0);
            nge.observer.add("slotMachine.spinComplete",
                this.spinCompleteHandler, !1, !0)
        }
});
nge.App[nge.appNS].Mlm.Brain.ButtonsNewLogic.States.SettingsState = nge.App[nge.appNS].Mlm.Brain.ButtonsNewLogic.States.BaseState.extend(function() {
    this.model = {
        order: ["SHARED"],
        actions: {
            SHARED: {
                sound: {
                    callback: function() {
                        nge.observer.fire("settings.soundSwitch")
                    }
                },
                fullscreen: {
                    callback: function() {
                        nge.observer.fire("fullscreen.btnClicked")
                    }
                }
            }
        }
    }
});
nge.App[nge.appNS].Mlm.Brain.Mobile.ButtonsNewLogic = {};
nge.App[nge.appNS].Mlm.Brain.Mobile.ButtonsNewLogic.Cfg = nge.App.ClassicGameBase.Mlm.Brain.ButtonsNewLogic.Cfg.extend(function() {
    this.singleton = !0;
    this.defaultBtnState = {
        visible: !1
    };
    this.slotMachineStates = {
        play: {
            SPIN: ["@PAYTABLE", "@BET_SETTINGS", "FREESPIN", "GAMBLE", "SPIN"],
            BET_SETTINGS: ["SPIN"],
            PAYTABLE: ["SPIN"],
            FREESPIN: ["GAMBLE", "SPIN"],
            GAMBLE: ["SPIN"]
        }
    };
    this.sharedStates = {
        play: ["SETTINGS"]
    };
    this.buttons = {
        play: {
            spin: {
                name: "spinMobile",
                enabled: !0,
                visible: !0
            },
            stop: {
                name: "stopMobile",
                enabled: !0,
                visible: !0
            },
            takeMobile: {
                name: "takeMobile",
                enabled: !0,
                visible: !0
            },
            gambleMobile: {
                name: "gambleMobile",
                enabled: !0,
                visible: !0
            },
            helpNextMobile: {
                name: "helpNextMobile",
                enabled: !0,
                visible: !0
            },
            helpBackMobile: {
                name: "helpBackMobile",
                enabled: !0,
                visible: !0
            },
            auto: {
                name: "autoSpinMobile",
                enabled: !0,
                visible: !0
            }
        }
    };
    this.sharedButtons = {
        play: {
            soundMobile: {
                name: "soundMobile",
                enabled: !0,
                visible: !0
            },
            infoMobile: {
                name: "infoMobile",
                enabled: !0,
                visible: !0
            },
            betMinusPanelMobile: {
                name: "betMinusPanelMobile",
                enabled: !0,
                visible: !0
            },
            betPlusPanelMobile: {
                name: "betPlusPanelMobile",
                enabled: !0,
                visible: !0
            },
            coinMinusMobile: {
                name: "coinMinusMobile",
                enabled: !0,
                visible: !0
            },
            coinPlusMobile: {
                name: "coinPlusMobile",
                enabled: !0,
                visible: !0
            },
            quickSettingsPanel: {
                name: "quickSettingsPanel",
                enabled: !0,
                visible: !0
            }
        }
    }
});
var customBtn01 = {
        name: "customBtn01",
        enabled: !0,
        visible: !0
    },
    customBtn02 = {
        name: "customBtn02",
        enabled: !0,
        visible: !0
    };
"undefined" !== typeof customButtons && customButtons.customBtn01 && (this.buttons.play.customBtn01 = customBtn01);
"undefined" !== typeof customButtons && customButtons.customBtn02 && (this.buttons.play.customBtn02 = customBtn02);
nge.App[nge.appNS].Mlm.Brain.Mobile.ButtonsNewLogic.States = {};
nge.App[nge.appNS].Mlm.Brain.Mobile.ButtonsNewLogic.States.SpinState = nge.App.ClassicGameBase.Mlm.Brain.ButtonsNewLogic.States.SpinState.extend(function() {
    var d = this,
        b = !1;
    this.model.actions = {
        OFFER: {},
        READY: {
            spin: {
                visible: ["!auto"],
                callback: function() {
                    nge.observer.fire(d.standardSpinEvent)
                }
            },
            auto: {
                callback: ["autoCallback"]
            }
        },
        STARTED: {
            stop: {
                visible: ["!auto", "!stopped", "spinResultReceived"],
                callback: function() {
                    nge.observer.fire(d.standardStopEvent)
                }
            },
            auto: {
                callback: ["autoCallback"]
            }
        },
        STOPPED: {
            stop: {
                visible: ["!auto",
                    "quickFinishEnable"
                ],
                callback: ["quickFinishCallback"]
            },
            auto: {
                callback: ["autoCallback"]
            }
        }
    };
    this.propUpdateHandlers.spinning = function() {
        return b
    };
    this.spinCommandHandler = function() {
        this.super.spinCommandHandler();
        b = !0
    };
    this.spinCompleteHandler = function() {
        this.super.spinCompleteHandler();
        b = !1
    }
});
nge.App[nge.appNS].Mlm.Brain.Mobile.ButtonsNewLogic.States.BetSettingsState = nge.App.ClassicGameBase.Mlm.Brain.ButtonsNewLogic.States.BaseState.extend(function() {
    var d = !1;
    this.model = {
        order: ["SHOWED"],
        actions: {
            SHOWED: {
                betSettings: {
                    callback: function() {
                        nge.observer.fire("betSettings.hide")
                    }
                },
                coinMinusMobile: {
                    callback: function() {
                        nge.observer.fire("coins.down")
                    }
                },
                coinPlusMobile: {
                    callback: function() {
                        nge.observer.fire("coins.up")
                    }
                },
                betMinusMobile: {
                    callback: function() {
                        nge.observer.fire("bet.down")
                    }
                },
                betPlusMobile: {
                    callback: function() {
                        nge.observer.fire("bet.up")
                    }
                },
                lineMinusMobile: {
                    callback: function() {
                        nge.observer.fire("lines.down")
                    }
                },
                linePlusMobile: {
                    callback: function() {
                        nge.observer.fire("lines.up")
                    }
                }
            }
        }
    };
    this.subscribeCfgExt = {
        "betSettings.show": "betSettingsShowHandler",
        "betSettings.hide": "betSettingsHideHandler"
    };
    this.actionUpdateHandlers = {
        onShowed: function() {
            return d
        }
    };
    this.validityCheckHandler = function() {
        return d
    };
    this.betSettingsShowHandler = function() {
        d = !0
    };
    this.betSettingsHideHandler = function() {
        d = !1
    }
});
nge.App[nge.appNS].Mlm.Brain.Mobile.ButtonsNewLogic.States.GambleState = nge.App.ClassicGameBase.Mlm.Brain.ButtonsNewLogic.States.GambleState.extend(function() {
    this.model.actions = {
        READY: {
            takeMobile: {
                visible: ["!auto", "!gambleTakedTwiceAndMore"],
                callback: function() {
                    nge.observer.fire("gamble.take")
                }
            },
            gambleMobile: {
                visible: ["!auto", "!gambleTakedOnceAndMore"],
                callback: function() {
                    nge.observer.fire("gamble.go")
                }
            },
            auto: {
                callback: ["autoCallback"]
            }
        },
        STARTED: {
            takeMobile: {
                visible: ["!actionRequested"],
                callback: function() {
                    nge.observer.fire("gamble.take")
                }
            }
        }
    }
});
nge.App[nge.appNS].Mlm.Brain.Mobile.ButtonsNewLogic.States.PaytableState = nge.App.ClassicGameBase.Mlm.Brain.ButtonsNewLogic.States.PaytableState.extend(function() {
    this.model.actions = {
        SHOWED: {
            helpNextMobile: {
                callback: function() {
                    nge.observer.fire("paytable.next")
                }
            },
            helpBackMobile: {
                callback: function() {
                    nge.observer.fire("paytable.back")
                }
            }
        }
    }
});
nge.App[nge.appNS].Mlm.Brain.Mobile.ButtonsNewLogic.States.FreespinState = nge.App.ClassicGameBase.Mlm.Brain.ButtonsNewLogic.States.FreespinState.extend(function() {
    this.model.actions = {
        SHOW_START_POPUP: {},
        RESTORE: {
            spin: {
                callback: ["freespinStartCallback"]
            }
        },
        READY: {
            spin: {
                callback: ["freespinStartCallback"]
            }
        },
        STARTED: {
            stop: {
                visible: ["!auto", "quickFinishEnable"],
                callback: ["quickFinishCallback"]
            },
            auto: {
                callback: ["autoCallback"]
            }
        },
        SHOW_FINISH_POPUP: {}
    }
});
nge.App[nge.appNS].Mlm.Brain.Mobile.ButtonsNewLogic.States.SettingsState = nge.App.ClassicGameBase.Mlm.Brain.ButtonsNewLogic.States.SettingsState.extend(function() {
    var d = !0,
        b = !1,
        h = null;
    this.init = function(b) {
        this.super.init(b);
        h = nge.findOne("^quickSettingsPanelMobileButtonButton")
    };
    this.model = {
        order: ["SHARED"],
        actions: {
            SHARED: {
                soundMobile: {
                    callback: function() {
                        nge.observer.fire("settings.soundSwitch")
                    }
                },
                infoMobile: {
                    enabled: ["enableCheck"],
                    callback: function() {
                        nge.observer.fire("paytable." + (b ? "hide" : "show"))
                    }
                },
                betMinusPanelMobile: {
                    enabled: ["enableCheck", "!paytableShowed", "!offerInProgress"],
                    callback: function() {
                        nge.observer.fire("bet.down")
                    }
                },
                betPlusPanelMobile: {
                    enabled: ["enableCheck", "!paytableShowed", "!offerInProgress"],
                    callback: function() {
                        nge.observer.fire("bet.up")
                    }
                },
                coinMinusMobile: {
                    enabled: ["enableCheck", "!paytableShowed", "!offerInProgress"],
                    callback: function() {
                        nge.observer.fire("coins.down")
                    }
                },
                coinPlusMobile: {
                    enabled: ["enableCheck", "!paytableShowed", "!offerInProgress"],
                    callback: function() {
                        nge.observer.fire("coins.up")
                    }
                },
                quickSettingsPanel: {
                    callback: function() {
                        b ? nge.observer.fire("paytable.hide") : nge.observer.fire("quickSettings.panelSwitch")
                    }
                }
            }
        }
    };
    this.subscribeCfgExt = {
        "paytable.show": "paytableShowHandler",
        "paytable.hide": "paytableHideHandler"
    };
    this.propUpdateHandlers = {
        enableCheck: function() {
            var b = nge.localData.get("slotMachine.state"),
                f = nge.localData.get("slotMachine.lastResponse");
            return d && ("Ready" === b || !b) && !f
        },
        paytableShowed: function() {
            return b
        },
        offerInProgress: function() {
            return nge.localData.get("freeGame.inProgress")
        }
    };
    this.slotMachineSpinCommandHandler = function() {
        d = !1
    };
    this.balanceResponseHandler = function() {
        d = !0
    };
    this.paytableShowHandler = function() {
        b = !0;
        nge.observer.fire("quickSettings.panelSwitch");
        nge.rafSetTimeout(function() {
            h.setFrames(8, 7, 6)
        }, 5)
    };
    this.paytableHideHandler = function() {
        b = !1;
        nge.rafSetTimeout(function() {
            h.setFrames(2, 1, 0)
        }, 5)
    }
});
nge.App[nge.appNS].Tpl = {};
nge.App[nge.appNS].Tpl.PsdAliases = Class.extend(function() {
    this.singleton = !0;
    this.data = {}
});
nge.App[nge.appNS].Tpl.Groups = {};
nge.App[nge.appNS].Tpl.Groups.Atlases = function() {
    var d = nge.appPath + "img/atlases/";
    return {
        assets: {
            name: "assets",
            contents: [{
                key: "btn",
                atlas: d + "btn.json",
                fullPath: d + "btn.png"
            }, {
                key: "jackpotsPlay0",
                atlas: d + "jackpotsPlay0.json",
                fullPath: d + "jackpotsPlay0.png"
            }]
        },
        objects: {
            name: "objects",
            contents: []
        }
    }
};
nge.App[nge.appNS].Tpl.Groups.BetSettings = function() {
    var d = nge.appPath + "img/";
    return {
        styles: {
            ".sliderMinMax": {
                style: {
                    font: "29pt FuturaPTHeavy",
                    fill: "#eee0bf"
                }
            },
            ".settingName": {
                style: {
                    font: "39pt FuturaPTHeavy",
                    fill: "#fec36d"
                }
            },
            ".betContainerName": {
                style: {
                    font: "37pt FuturaPTHeavy",
                    fill: "#fec36d"
                }
            },
            ".betContainerValue": {
                style: {
                    font: "37pt FuturaPTHeavy",
                    fill: "#ffffff"
                }
            },
            ".sliderValue": {
                style: {
                    font: "28pt FuturaPTHeavy",
                    fill: "#efc273"
                }
            },
            ".sliderTooltipValue": {
                style: {
                    font: "28pt FuturaPTHeavy",
                    fill: "#000000"
                }
            }
        },
        assets: {
            name: "assets",
            contents: [{
                    key: "betLevelBetSettingsBg",
                    fullPath: d + "playarea/betLevelBetSettingsBg.png"
                }, {
                    key: "linesBetSettingsBg",
                    fullPath: d + "playarea/linesBetSettingsBg.png"
                }, {
                    key: "coinValueBetSettingsBg",
                    fullPath: d + "playarea/coinValueBetSettingsBg.png"
                }, {
                    key: "coinsMaximumNumber(class=coinsMaximum, font=29pt FuturaPTHeavy, fill=#eee0bf, anchorY=0.5)_text",
                    fullPath: d + "playarea/coinsMaximumNumber(class=coinsMaximum, font=29pt FuturaPTHeavy, fill=#eee0bf, anchorY=0.5)_text.png"
                }, {
                    key: "coinsMinimumNumber(class=coinsMinimum, font=29pt FuturaPTHeavy, fill=#eee0bf, anchorX=1, anchorY=0.5)_text",
                    fullPath: d + "playarea/coinsMinimumNumber(class=coinsMinimum, font=29pt FuturaPTHeavy, fill=#eee0bf, anchorX=1, anchorY=0.5)_text.png"
                }, {
                    key: "linesMaximumNumber(class=linesMaximum, font=29pt FuturaPTHeavy, fill=#eee0bf, anchorY=0.5)_text",
                    fullPath: d + "playarea/linesMaximumNumber(class=linesMaximum, font=29pt FuturaPTHeavy, fill=#eee0bf, anchorY=0.5)_text.png"
                }, {
                    key: "linesMinimumNumber(class=linesMinimum, font=29pt FuturaPTHeavy, fill=#eee0bf, anchorX=1, anchorY=0.5)_text",
                    fullPath: d + "playarea/linesMinimumNumber(class=linesMinimum, font=29pt FuturaPTHeavy, fill=#eee0bf, anchorX=1, anchorY=0.5)_text.png"
                },
                {
                    key: "betLevelMaximumNumber(class=betMaximum, font=29pt FuturaPTHeavy, fill=#eee0bf, anchorY=0.5)_text",
                    fullPath: d + "playarea/betLevelMaximumNumber(class=betMaximum, font=29pt FuturaPTHeavy, fill=#eee0bf, anchorY=0.5)_text.png"
                }, {
                    key: "betLevelMinimumNumber(class=betMinimum, font=29pt FuturaPTHeavy, fill=#eee0bf, anchorX=1, anchorY=0.5)_text",
                    fullPath: d + "playarea/betLevelMinimumNumber(class=betMinimum, font=29pt FuturaPTHeavy, fill=#eee0bf, anchorX=1, anchorY=0.5)_text.png"
                }, {
                    key: "coinValueSliderTooltip(anchorX=0.5, anchorY=1)_tooltip",
                    fullPath: d + "playarea/coinValueSliderTooltip(anchorX=0.5, anchorY=1)_tooltip.png"
                }, {
                    key: "coinValueSliderTooltipValue(text=5, class=audioSliderText, font=28pt FuturaPTHeavy, anchorX=0.5, anchorY=0.5, fill=#000000)_text",
                    fullPath: d + "playarea/coinValueSliderTooltipValue(text=5, class=audioSliderText, font=28pt FuturaPTHeavy, anchorX=0.5, anchorY=0.5, fill=#000000)_text.png"
                }, {
                    key: "coinValueSlider_bg",
                    fullPath: d + "playarea/coinValueSlider_bg.png"
                }, {
                    key: "coinValueSliderBg_fill",
                    fullPath: d + "playarea/coinValueSliderBg_fill.png"
                },
                {
                    key: "coinValueSliderButtonButton(spritesX=4)_handle",
                    fullPath: d + "playarea/coinValueSliderButtonButton(spritesX=4)_handle.png"
                }, {
                    key: "linesLevelSliderTooltip(anchorX=0.5, anchorY=1)_tooltip",
                    fullPath: d + "playarea/linesLevelSliderTooltip(anchorX=0.5, anchorY=1)_tooltip.png"
                }, {
                    key: "linesLevelSliderTooltipValue(text=5, class=audioSliderText, font=28pt FuturaPTHeavy, anchorX=0.5, anchorY=0.5, fill=#000000)_text",
                    fullPath: d + "playarea/linesLevelSliderTooltipValue(text=5, class=audioSliderText, font=28pt FuturaPTHeavy, anchorX=0.5, anchorY=0.5, fill=#000000)_text.png"
                },
                {
                    key: "linesSlider_bg",
                    fullPath: d + "playarea/linesSlider_bg.png"
                }, {
                    key: "linesSliderBg_fill",
                    fullPath: d + "playarea/linesSliderBg_fill.png"
                }, {
                    key: "linesSliderButtonButton(spritesX=4)_handle",
                    fullPath: d + "playarea/linesSliderButtonButton(spritesX=4)_handle.png"
                }, {
                    key: "betLevelSliderTooltip(anchorX=0.5, anchorY=1)_tooltip",
                    fullPath: d + "playarea/betLevelSliderTooltip(anchorX=0.5, anchorY=1)_tooltip.png"
                }, {
                    key: "betLevelSliderTooltipValue(text=5, class=audioSliderText, font=28pt FuturaPTHeavy, anchorX=0.5, anchorY=0.5, fill=#000000)_text",
                    fullPath: d + "playarea/betLevelSliderTooltipValue(text=5, class=audioSliderText, font=28pt FuturaPTHeavy, anchorX=0.5, anchorY=0.5, fill=#000000)_text.png"
                }, {
                    key: "betLevelSlider_bg",
                    fullPath: d + "playarea/betLevelSlider_bg.png"
                }, {
                    key: "betLevelSliderBg_fill",
                    fullPath: d + "playarea/betLevelSliderBg_fill.png"
                }, {
                    key: "betLevelButtonButton(spritesX=4)_handle",
                    fullPath: d + "playarea/betLevelButtonButton(spritesX=4)_handle.png"
                }, {
                    key: "betInCoinContainerBg",
                    fullPath: d + "playarea/betInCoinContainerBg.png"
                }, {
                    key: "betInCoinContainerBgName(text=BET IN COINS, font=37pt FuturaPTHeavy, fill=#fec36d, anchorX=0.5)_text",
                    fullPath: d + "playarea/betInCoinContainerBgName(text=BET IN COINS, font=37pt FuturaPTHeavy, fill=#fec36d, anchorX=0.5)_text.png"
                }, {
                    key: "settingsBetInCoinsNumber(class=creditsTotalBetNumber betSettingsExtended, font=37pt FuturaPTHeavy, fill=#ffffff, anchorX=0.5, anchorY=0.5)_text",
                    fullPath: d + "playarea/settingsBetInCoinsNumber(class=creditsTotalBetNumber betSettingsExtended, font=37pt FuturaPTHeavy, fill=#ffffff, anchorX=0.5, anchorY=0.5)_text.png"
                }, {
                    key: "betInCashContainerBg",
                    fullPath: d + "playarea/betInCashContainerBg.png"
                },
                {
                    key: "betInCashContainerBgName(text=BET IN CASH, font=37pt FuturaPTHeavy, fill=#fec36d, anchorX=0.5)_text",
                    fullPath: d + "playarea/betInCashContainerBgName(text=BET IN CASH, font=37pt FuturaPTHeavy, fill=#fec36d, anchorX=0.5)_text.png"
                }, {
                    key: "settingsBetInCashNumber(class=totalBetNumber balanceCurrency betSettingsExtended, font=37pt FuturaPTHeavy, fill=#ffffff, anchorX=0.5, anchorY=0.5)_text",
                    fullPath: d + "playarea/settingsBetInCashNumber(class=totalBetNumber balanceCurrency betSettingsExtended, font=37pt FuturaPTHeavy, fill=#ffffff, anchorX=0.5, anchorY=0.5)_text.png"
                },
                {
                    key: "betSettingsCoinValueName(text=Coin value, font=39pt FuturaPTHeavy, fill=#fec36d, anchorY=0.5)_text",
                    fullPath: d + "playarea/betSettingsCoinValueName(text=Coin value, font=39pt FuturaPTHeavy, fill=#fec36d, anchorY=0.5)_text.png"
                }, {
                    key: "betSettingsLineslName(text=Lines, font=39pt FuturaPTHeavy, fill=#fec36d, anchorY=0.5)_text",
                    fullPath: d + "playarea/betSettingsLineslName(text=Lines, font=39pt FuturaPTHeavy, fill=#fec36d, anchorY=0.5)_text.png"
                }, {
                    key: "betSettingsBetLevelName(text=Bet Level, font=39pt FuturaPTHeavy, fill=#fec36d, anchorY=0.5)_text",
                    fullPath: d + "playarea/betSettingsBetLevelName(text=Bet Level, font=39pt FuturaPTHeavy, fill=#fec36d, anchorY=0.5)_text.png"
                }
            ]
        },
        objects: {
            name: "objects",
            contents: [{
                type: 1,
                name: "betSettingsContainer",
                alpha: "1",
                contents: [{
                    type: 0,
                    name: "betSettingsBetLevelName(text=Bet Level, class=settingName, anchorY=0.5)_text",
                    assetKey: "betSettingsBetLevelName(text=Bet Level, font=39pt FuturaPTHeavy, fill=#fec36d, anchorY=0.5)_text",
                    x: "163",
                    y: "364",
                    alpha: "1"
                }, {
                    type: 0,
                    name: "betSettingsLineslName(text=Lines, class=settingName, anchorY=0.5)_text",
                    assetKey: "betSettingsLineslName(text=Lines, font=39pt FuturaPTHeavy, fill=#fec36d, anchorY=0.5)_text",
                    x: "163",
                    y: "569",
                    alpha: "1"
                }, {
                    type: 0,
                    name: "betSettingsCoinValueName(text=Coin value, class=settingName, anchorY=0.5)_text",
                    assetKey: "betSettingsCoinValueName(text=Coin value, font=39pt FuturaPTHeavy, fill=#fec36d, anchorY=0.5)_text",
                    x: "163",
                    y: "774",
                    alpha: "1"
                }, {
                    type: 1,
                    name: "settingsBetInCashContainer",
                    alpha: "1",
                    contents: [{
                        type: 0,
                        name: "settingsBetInCashNumber(class=totalBetNumber balanceCurrency betSettingsExtended betContainerValue, anchorX=0.5, anchorY=0.5)_text",
                        assetKey: "settingsBetInCashNumber(class=totalBetNumber balanceCurrency betSettingsExtended, font=37pt FuturaPTHeavy, fill=#ffffff, anchorX=0.5, anchorY=0.5)_text",
                        x: "498",
                        y: "183",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "betInCashContainerBgName(text=BET IN CASH, class=betContainerName, anchorX=0.5)_text",
                        assetKey: "betInCashContainerBgName(text=BET IN CASH, font=37pt FuturaPTHeavy, fill=#fec36d, anchorX=0.5)_text",
                        x: "493",
                        y: "46",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "betInCashContainerBg",
                        assetKey: "betInCashContainerBg",
                        x: "64",
                        y: "115",
                        alpha: "1"
                    }]
                }, {
                    type: 1,
                    name: "settingsBetInCoinsContainer",
                    alpha: "1",
                    contents: [{
                        type: 0,
                        name: "settingsBetInCoinsNumber(class=creditsTotalBetNumber betSettingsExtended betContainerValue, anchorX=0.5, anchorY=0.5)_text",
                        assetKey: "settingsBetInCoinsNumber(class=creditsTotalBetNumber betSettingsExtended, font=37pt FuturaPTHeavy, fill=#ffffff, anchorX=0.5, anchorY=0.5)_text",
                        x: "1427",
                        y: "183",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "betInCoinContainerBgName(text=BET IN COINS, class=betContainerName, anchorX=0.5)_text",
                        assetKey: "betInCoinContainerBgName(text=BET IN COINS, font=37pt FuturaPTHeavy, fill=#fec36d, anchorX=0.5)_text",
                        x: "1423",
                        y: "46",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "betInCoinContainerBg",
                        assetKey: "betInCoinContainerBg",
                        x: "995",
                        y: "115",
                        alpha: "1"
                    }]
                }, {
                    type: 1,
                    name: "betLevelButtonContainer(marginLeft=38, marginRight=38)_sliderAdvanced",
                    alpha: "1",
                    contents: [{
                        type: 0,
                        name: "betLevelButtonButton(spritesX=4)_handle",
                        assetKey: "betLevelButtonButton(spritesX=4)_handle",
                        x: "1068",
                        y: "312",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "betLevelSliderBg_fill",
                        assetKey: "betLevelSliderBg_fill",
                        x: "633",
                        y: "353",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "betLevelSlider_bg",
                        assetKey: "betLevelSlider_bg",
                        x: "625",
                        y: "344",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "betLevelSliderValue(offsetY=-35, text=5, class=audioSliderText sliderValue, anchorX=0.5, anchorY=0.5)_value",
                        assetKey: "betLevelSliderValue(text=5, class=audioSliderText, font=28pt FuturaPTHeavy, anchorX=0.5, anchorY=0.5, fill=#efc273)_value",
                        x: "1117",
                        y: "292",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "betLevelSliderTooltipValue(offsetY=-55, text=5, class=audioSliderText sliderTooltipValue, anchorX=0.5, anchorY=0.5)_text",
                        assetKey: "betLevelSliderTooltipValue(text=5, class=audioSliderText, font=28pt FuturaPTHeavy, anchorX=0.5, anchorY=0.5, fill=#000000)_text",
                        x: "1117",
                        y: "279",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "betLevelSliderTooltip(offsetY=-15, anchorX=0.5, anchorY=1)_tooltip",
                        assetKey: "betLevelSliderTooltip(anchorX=0.5, anchorY=1)_tooltip",
                        x: "1049",
                        y: "252",
                        alpha: "1"
                    }]
                }, {
                    type: 1,
                    name: "linesSliderButtonContainer(marginLeft=38, marginRight=38)_sliderAdvanced",
                    alpha: "1",
                    contents: [{
                        type: 0,
                        name: "linesSliderButtonButton(spritesX=4)_handle",
                        assetKey: "linesSliderButtonButton(spritesX=4)_handle",
                        x: "1068",
                        y: "518",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "linesSliderBg_fill",
                        assetKey: "linesSliderBg_fill",
                        x: "633",
                        y: "558",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "linesSlider_bg",
                        assetKey: "linesSlider_bg",
                        x: "625",
                        y: "549",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "linesLevelSliderValue(text=5, class=audioSliderText sliderValue, anchorX=0.5, anchorY=0.5)_value",
                        assetKey: "linesLevelSliderValue(text=5, class=audioSliderText, font=28pt FuturaPTHeavy, anchorX=0.5, anchorY=0.5, fill=#efc273)_value",
                        x: "1117",
                        y: "498",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "linesLevelSliderTooltipValue(text=5, class=audioSliderText sliderTooltipValue, anchorX=0.5, anchorY=0.5)_text",
                        assetKey: "linesLevelSliderTooltipValue(text=5, class=audioSliderText, font=28pt FuturaPTHeavy, anchorX=0.5, anchorY=0.5, fill=#000000)_text",
                        x: "1117",
                        y: "485",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "linesLevelSliderTooltip(anchorX=0.5, anchorY=1)_tooltip",
                        assetKey: "linesLevelSliderTooltip(anchorX=0.5, anchorY=1)_tooltip",
                        x: "1049",
                        y: "458",
                        alpha: "1"
                    }]
                }, {
                    type: 1,
                    name: "coinValueSliderButtonContainer(marginLeft=38, marginRight=38)_sliderAdvanced",
                    alpha: "1",
                    contents: [{
                        type: 0,
                        name: "coinValueSliderButtonButton(spritesX=4)_handle",
                        assetKey: "coinValueSliderButtonButton(spritesX=4)_handle",
                        x: "1068",
                        y: "723",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "coinValueSliderBg_fill",
                        assetKey: "coinValueSliderBg_fill",
                        x: "633",
                        y: "763",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "coinValueSlider_bg",
                        assetKey: "coinValueSlider_bg",
                        x: "625",
                        y: "754",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "coinValueSliderValue(text=5, class=audioSliderText sliderValue, anchorX=0.5, anchorY=0.5)_value",
                        assetKey: "coinValueSliderValue(text=5, class=audioSliderText, font=28pt FuturaPTHeavy, anchorX=0.5, anchorY=0.5, fill=#efc273)_value",
                        x: "1117",
                        y: "703",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "coinValueSliderTooltipValue(text=5, class=audioSliderText sliderTooltipValue, anchorX=0.5, anchorY=0.5)_text",
                        assetKey: "coinValueSliderTooltipValue(text=5, class=audioSliderText, font=28pt FuturaPTHeavy, anchorX=0.5, anchorY=0.5, fill=#000000)_text",
                        x: "1117",
                        y: "690",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "coinValueSliderTooltip(anchorX=0.5, anchorY=1)_tooltip",
                        assetKey: "coinValueSliderTooltip(anchorX=0.5, anchorY=1)_tooltip",
                        x: "1049",
                        y: "663",
                        alpha: "1"
                    }]
                }, {
                    type: 0,
                    name: "betLevelMinimumNumber(class=betMinimum sliderMinMax, anchorX=1, anchorY=0.5)_text",
                    assetKey: "betLevelMinimumNumber(class=betMinimum, font=29pt FuturaPTHeavy, fill=#eee0bf, anchorX=1, anchorY=0.5)_text",
                    x: "575",
                    y: "365",
                    alpha: "1"
                }, {
                    type: 0,
                    name: "betLevelMaximumNumber(class=betMaximum sliderMinMax, anchorY=0.5)_text",
                    assetKey: "betLevelMaximumNumber(class=betMaximum, font=29pt FuturaPTHeavy, fill=#eee0bf, anchorY=0.5)_text",
                    x: "1711",
                    y: "365",
                    alpha: "1"
                }, {
                    type: 0,
                    name: "linesMinimumNumber(class=linesMinimum sliderMinMax, anchorX=1, anchorY=0.5)_text",
                    assetKey: "linesMinimumNumber(class=linesMinimum, font=29pt FuturaPTHeavy, fill=#eee0bf, anchorX=1, anchorY=0.5)_text",
                    x: "575",
                    y: "570",
                    alpha: "1"
                }, {
                    type: 0,
                    name: "linesMaximumNumber(class=linesMaximum sliderMinMax, anchorY=0.5)_text",
                    assetKey: "linesMaximumNumber(class=linesMaximum, font=29pt FuturaPTHeavy, fill=#eee0bf, anchorY=0.5)_text",
                    x: "1705",
                    y: "570",
                    alpha: "1"
                }, {
                    type: 0,
                    name: "coinsMinimumNumber(class=coinsMinimum sliderMinMax, anchorX=1, anchorY=0.5)_text",
                    assetKey: "coinsMinimumNumber(class=coinsMinimum, font=29pt FuturaPTHeavy, fill=#eee0bf, anchorX=1, anchorY=0.5)_text",
                    x: "575",
                    y: "775",
                    alpha: "1"
                }, {
                    type: 0,
                    name: "coinsMaximumNumber(class=coinsMaximum sliderMinMax, anchorY=0.5)_text",
                    assetKey: "coinsMaximumNumber(class=coinsMaximum, font=29pt FuturaPTHeavy, fill=#eee0bf, anchorY=0.5)_text",
                    x: "1705",
                    y: "775",
                    alpha: "1"
                }, {
                    type: 0,
                    name: "coinValueBetSettingsBg",
                    assetKey: "coinValueBetSettingsBg",
                    x: "66",
                    y: "679",
                    alpha: "1"
                }, {
                    type: 0,
                    name: "linesBetSettingsBg",
                    assetKey: "linesBetSettingsBg",
                    x: "66",
                    y: "474",
                    alpha: "1"
                }, {
                    type: 0,
                    name: "betLevelBetSettingsBg",
                    assetKey: "betLevelBetSettingsBg",
                    x: "66",
                    y: "269",
                    alpha: "1"
                }]
            }]
        }
    }
};
nge.App[nge.appNS].Tpl.Groups.Help = function() {
    return {
        styles: {},
        assets: {
            name: "assets",
            contents: []
        },
        objects: {
            name: "objects",
            contents: []
        }
    }
};
nge.App[nge.appNS].Tpl.Groups.JackpotPopup = function() {
    var d = nge.appPath + "img/";
    return {
        styles: {},
        assets: {
            name: "assets",
            contents: [{
                key: "jackpotLogo",
                fullPath: d + "jackpot/images/jackpotLogo.png"
            }, {
                key: "popupJackpot",
                fullPath: d + "jackpot/images/jackpotPopup.png"
            }]
        },
        objects: {
            name: "objects",
            contents: [{
                type: 1,
                name: "jackpotPopupContainer",
                isVisible: !1,
                x: 1E3,
                y: 500,
                contents: [{
                    type: 1,
                    name: "jackpotPopupInnerContainer",
                    isVisible: !1,
                    x: 0,
                    y: 0,
                    contents: [{
                        type: 0,
                        x: 0,
                        y: 50,
                        anchorX: .5,
                        anchorY: .5,
                        assetKey: "jackpotLogo",
                        name: "logoJackpotPopup"
                    }, {
                        type: 0,
                        name: "jackpotPopup",
                        assetKey: "popupJackpot",
                        isVisible: !0,
                        anchorX: .5,
                        anchorY: .5
                    }]
                }, {
                    type: 0,
                    name: "jackpotShadowStart",
                    assetKey: "jackpotShadowStart",
                    inputEnabled: !0,
                    x: -1E3,
                    y: -500,
                    scaleX: 1920,
                    scaleY: 1080
                }]
            }]
        }
    }
};
nge.App[nge.appNS].Tpl.Groups.LinesMarkers = function(d) {
    d || (d = nge.appPath + "img/");
    return {
        assets: {
            name: "assets",
            contents: [{
                    key: "lineMarker1",
                    fullPath: d + "playarea/marker_00.png"
                }, {
                    key: "lineMarker2",
                    fullPath: d + "playarea/marker_01.png"
                }, {
                    key: "lineMarker3",
                    fullPath: d + "playarea/marker_02.png"
                }, {
                    key: "lineMarker4",
                    fullPath: d + "playarea/marker_03.png"
                }, {
                    key: "lineMarker5",
                    fullPath: d + "playarea/marker_04.png"
                }, {
                    key: "lineMarker6",
                    fullPath: d + "playarea/marker_05.png"
                }, {
                    key: "lineMarker7",
                    fullPath: d + "playarea/marker_06.png"
                },
                {
                    key: "lineMarker8",
                    fullPath: d + "playarea/marker_07.png"
                }, {
                    key: "lineMarker9",
                    fullPath: d + "playarea/marker_08.png"
                }
            ]
        },
        objects: {
            name: "objects",
            contents: [{
                type: 1,
                name: "lineMarkers",
                contents: [{
                    type: 1,
                    name: "lineMarkersLeft",
                    x: 160,
                    y: 100,
                    contents: [{
                        type: 0,
                        id: "lm-l-4",
                        y: 5,
                        assetKey: "lineMarker4"
                    }, {
                        type: 0,
                        id: "lm-l-2",
                        y: 93,
                        assetKey: "lineMarker2"
                    }, {
                        type: 0,
                        id: "lm-l-8",
                        y: 181,
                        assetKey: "lineMarker8"
                    }, {
                        type: 0,
                        id: "lm-l-6",
                        y: 269,
                        assetKey: "lineMarker6"
                    }, {
                        type: 0,
                        id: "lm-l-1",
                        y: 357,
                        assetKey: "lineMarker1"
                    }, {
                        type: 0,
                        id: "lm-l-7",
                        y: 445,
                        assetKey: "lineMarker7"
                    }, {
                        type: 0,
                        id: "lm-l-9",
                        y: 533,
                        assetKey: "lineMarker9"
                    }, {
                        type: 0,
                        id: "lm-l-3",
                        y: 621,
                        assetKey: "lineMarker3"
                    }, {
                        type: 0,
                        id: "lm-l-5",
                        y: 709,
                        assetKey: "lineMarker5"
                    }]
                }, {
                    type: 1,
                    name: "lineMarkersRight",
                    x: 1685,
                    y: 100,
                    contents: [{
                        type: 0,
                        id: "lm-r-4",
                        y: 5,
                        assetKey: "lineMarker4"
                    }, {
                        type: 0,
                        id: "lm-r-2",
                        y: 93,
                        assetKey: "lineMarker2"
                    }, {
                        type: 0,
                        id: "lm-r-9",
                        y: 181,
                        assetKey: "lineMarker9"
                    }, {
                        type: 0,
                        id: "lm-r-6",
                        y: 269,
                        assetKey: "lineMarker6"
                    }, {
                        type: 0,
                        id: "lm-r-1",
                        y: 357,
                        assetKey: "lineMarker1"
                    }, {
                        type: 0,
                        id: "lm-r-7",
                        y: 445,
                        assetKey: "lineMarker7"
                    }, {
                        type: 0,
                        id: "lm-r-8",
                        y: 533,
                        assetKey: "lineMarker8"
                    }, {
                        type: 0,
                        id: "lm-r-3",
                        y: 621,
                        assetKey: "lineMarker3"
                    }, {
                        type: 0,
                        id: "lm-r-5",
                        y: 709,
                        assetKey: "lineMarker5"
                    }]
                }]
            }]
        }
    }
};
nge.App[nge.appNS].Tpl.Groups.Logo = function() {
    return {
        assets: {
            name: "assets",
            contents: []
        },
        objects: {
            name: "objects",
            contents: []
        }
    }
};
nge.App[nge.appNS].Tpl.Groups.Tabs = function() {
    var d = nge.appPath + "img/help/";
    return {
        styles: {
            "^headersContainer .tabHeaderText": {
                style: {
                    fill: "#ffffff"
                }
            },
            "^headersContainer .active .tabHeaderText": {
                style: {
                    fill: "#fec36d"
                }
            },
            "^headersContainer .tabHeaderImage": {
                isVisible: !1
            },
            "^headersContainer .active .tabHeaderImage": {
                isVisible: !0
            }
        },
        assets: {
            name: "assets",
            contents: [{
                    key: "betSettings_group",
                    fullPath: d + "betSettings_group.png"
                }, {
                    key: "help_group",
                    fullPath: d + "help_group.png"
                }, {
                    key: "1px_empty",
                    fullPath: nge.appPath +
                        "img/scrollbar/1px_empty.png"
                }, {
                    key: "settingsContainerBg",
                    fullPath: d + "playarea/settingsContainerBg.png"
                }, {
                    key: "menuPlateBg",
                    fullPath: d + "playarea/menuPlateBg.png"
                }, {
                    key: "paginationInfoBg",
                    fullPath: d + "playarea/paginationInfoBg.png"
                }, {
                    key: "pageTwoHeaderImage(class=tabHeaderImage)_image",
                    fullPath: d + "playarea/pageTwoHeaderImage(class=tabHeaderImage)_image.png"
                }, {
                    key: "pageTwoHeaderText(text=BET SETTINGS, class=tabHeaderText, font=38pt FuturaPTHeavy, anchorX=0.5, anchorY=0.5)_text",
                    fullPath: d + "playarea/pageTwoHeaderText(text=BET SETTINGS, class=tabHeaderText, font=38pt FuturaPTHeavy, anchorX=0.5, anchorY=0.5)_text.png"
                },
                {
                    key: "pageOneHeaderImage(class=tabHeaderImage)_image",
                    fullPath: d + "playarea/pageOneHeaderImage(class=tabHeaderImage)_image.png"
                }, {
                    key: "pageOneHeaderText(text=RULES, class=tabHeaderText, font=38pt FuturaPTHeavy, anchorX=0.5, anchorY=0.5)_text",
                    fullPath: d + "playarea/pageOneHeaderText(text=RULES, class=tabHeaderText, font=38pt FuturaPTHeavy, anchorX=0.5, anchorY=0.5)_text.png"
                }, {
                    key: "pageOneHeaderText(text=RULES, class=tabHeaderText, font=38pt futurasbl, anchorX=0.5, anchorY=0.5)_text",
                    fullPath: d + "playarea/pageOneHeaderText(text=RULES, class=tabHeaderText, font=38pt futurasbl, anchorX=0.5, anchorY=0.5)_text.png"
                },
                {
                    key: "pageTwoTriggerButtonText_text",
                    fullPath: d + "playarea/pageTwoTriggerButtonText_text.png"
                }, {
                    key: "pageTwoTriggerButtonButton(class=pageOneTrigger, width=880, height=162)_clickableArea",
                    fullPath: d + "playarea/pageTwoTriggerButtonButton(class=pageOneTrigger, width=880, height=162)_clickableArea.png"
                }, {
                    key: "pageOneTriggerButtonText_text",
                    fullPath: d + "playarea/pageOneTriggerButtonText_text.png"
                }, {
                    key: "pageOneTriggerButtonButton(class=pageOneTrigger, width=880, height=162)_clickableArea",
                    fullPath: d + "playarea/pageOneTriggerButtonButton(class=pageOneTrigger, width=880, height=162)_clickableArea.png"
                },
                {
                    key: "backToGameButtonText_text",
                    fullPath: d + "playarea/backToGameButtonText_text.png"
                }, {
                    key: "mobileBackToGameButtonButton(spritesX=4)_button",
                    fullPath: d + "playarea/mobileBackToGameButtonButton(spritesX=4)_button.png"
                }
            ]
        },
        objects: {
            name: "objects",
            contents: [{
                type: 1,
                isVisible: !1,
                name: "helpPagesContainer",
                contents: [{
                    type: 1,
                    name: "mobileBackToGameButton",
                    alpha: "1",
                    contents: [{
                        type: 0,
                        name: "backToGameButtonText_text",
                        assetKey: "backToGameButtonText_text",
                        x: "63",
                        y: "999",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "mobileBackToGameButtonButton(spritesX=4)_button",
                        assetKey: "mobileBackToGameButtonButton(spritesX=4)_button",
                        x: "28",
                        y: "968",
                        alpha: "1"
                    }]
                }, {
                    type: 1,
                    name: "menu(tabs=1, tabActiveHeader=pageOneHeaderContainer, tabActiveContainer=pageOneContainer)_container",
                    alpha: "1",
                    contents: [{
                        type: 1,
                        name: "headersContainer",
                        alpha: "1",
                        contents: [{
                            type: 1,
                            name: "pageOneTriggerButton",
                            alpha: "1",
                            contents: [{
                                type: 0,
                                name: "pageOneTriggerButtonText_text",
                                assetKey: "pageOneTriggerButtonText_text",
                                x: "154",
                                y: "931",
                                alpha: "1"
                            }, {
                                type: 0,
                                name: "pageOneTriggerButtonButton(class=pageOneTrigger, width=880, height=162)_clickableArea",
                                assetKey: "pageOneTriggerButtonButton(class=pageOneTrigger, width=880, height=162)_clickableArea",
                                x: "139",
                                y: "944",
                                alpha: "1"
                            }]
                        }, {
                            type: 1,
                            name: "pageTwoTriggerButton",
                            alpha: "1",
                            contents: [{
                                type: 0,
                                name: "pageTwoTriggerButtonText_text",
                                assetKey: "pageTwoTriggerButtonText_text",
                                x: "1034",
                                y: "931",
                                alpha: "1"
                            }, {
                                type: 0,
                                name: "pageTwoTriggerButtonButton(class=pageOneTrigger, width=880, height=162)_clickableArea",
                                assetKey: "pageTwoTriggerButtonButton(class=pageOneTrigger, width=880, height=162)_clickableArea",
                                x: "1034",
                                y: "944",
                                alpha: "1"
                            }]
                        }, {
                            type: 1,
                            name: "pageOneHeaderContainer",
                            alpha: "1",
                            contents: [{
                                type: 0,
                                name: "pageOneHeaderText(text=KEY_TABS_RULES, class=tabHeaderText, font=38pt FuturaPTHeavy, anchorX=0.5, anchorY=0.5)_text",
                                assetKey: "pageOneHeaderText(text=RULES, class=tabHeaderText, font=38pt FuturaPTHeavy, anchorX=0.5, anchorY=0.5)_text",
                                x: "584",
                                y: "1010",
                                alpha: "1"
                            }, {
                                type: 0,
                                name: "pageOneHeaderImage(class=tabHeaderImage)_image",
                                assetKey: "pageOneHeaderImage(class=tabHeaderImage)_image",
                                x: "140",
                                y: "918"
                            }]
                        }, {
                            type: 1,
                            name: "pageTwoHeaderContainer",
                            alpha: "1",
                            contents: [{
                                type: 0,
                                name: "pageTwoHeaderText(text=BET SETTINGS, class=tabHeaderText, font=38pt FuturaPTHeavy, anchorX=0.5, anchorY=0.5)_text",
                                assetKey: "pageTwoHeaderText(text=BET SETTINGS, class=tabHeaderText, font=38pt FuturaPTHeavy, anchorX=0.5, anchorY=0.5)_text",
                                x: "1474",
                                y: "1009",
                                alpha: "1"
                            }, {
                                type: 0,
                                name: "pageTwoHeaderImage(class=tabHeaderImage)_image",
                                assetKey: "pageTwoHeaderImage(class=tabHeaderImage)_image",
                                x: "1031",
                                y: "918"
                            }]
                        }]
                    }, {
                        type: 1,
                        name: "pageOneContainer",
                        alpha: "1",
                        contents: [{
                            type: 1,
                            name: "helpPagesContainer",
                            alpha: "1",
                            x: 50,
                            y: 85,
                            width: 1820,
                            height: 820,
                            scroll: 1,
                            contents: [{
                                type: 0,
                                name: "help_group",
                                assetKey: "help_group",
                                x: "0",
                                y: "0",
                                alpha: "1"
                            }]
                        }]
                    }, {
                        type: 1,
                        name: "pageTwoContainer",
                        alpha: "1",
                        contents: [{
                            type: 0,
                            name: "betSettings_group",
                            assetKey: "betSettings_group",
                            x: "0",
                            y: "0",
                            alpha: "1"
                        }]
                    }]
                }, {
                    type: 0,
                    name: "paginationInfoBg",
                    assetKey: "paginationInfoBg",
                    x: "0",
                    y: "931",
                    alpha: "1"
                }, {
                    type: 0,
                    name: "menuPlateBg",
                    assetKey: "menuPlateBg",
                    x: "0",
                    y: "940",
                    alpha: "1"
                }, {
                    type: 0,
                    name: "settingsContainerBg",
                    assetKey: "settingsContainerBg",
                    x: "0",
                    y: "0",
                    alpha: "1",
                    scaleY: 1.14,
                    inputEnabled: !0
                }]
            }]
        }
    }
};
nge.App[nge.appNS].Tpl.Groups.Ui = function() {
    var d = nge.appPath + "img/";
    return {
        assets: {
            name: "assets",
            contents: [{
                    key: "playareaStat_0",
                    fullPath: d + "btn/stat_0.png"
                }, {
                    key: "playareaStat_1_3",
                    fullPath: d + "btn/stat_1_3.png"
                }, {
                    key: "playareaStat_1_32",
                    fullPath: d + "playarea/stat_1_3.png"
                }, {
                    key: "playareaStat_24",
                    fullPath: d + "btn/stat_4.png"
                }, {
                    key: "playareaStat_2",
                    fullPath: d + "btn/stat_2.png"
                }, {
                    key: "coinValueText(class=playAreaText linesText, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff)_text",
                    fullPath: d +
                        "playarea/coinValueText(class=playAreaText linesText, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff)_text.png"
                }, {
                    key: "coinValueText(class=playAreaText infoPanelTextDown, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff)_text",
                    fullPath: d + "playarea/coinValueText(class=playAreaText infoPanelTextDown, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff)_text.png"
                }, {
                    key: "coinValueText(class=playAreaText infoPanelTextUp, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff)_text",
                    fullPath: d + "playarea/coinValueText(class=playAreaText infoPanelTextUp, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff)_text.png"
                }, {
                    key: "coinValueText(class=playAreaText coinsNumber, font=20pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff)_text",
                    fullPath: d + "playarea/coinValueText(class=playAreaText coinsNumber, font=20pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff)_text.png"
                }, {
                    key: "balance(class=playAreaText balanceNumber, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff)_text",
                    fullPath: d + "playarea/balance(class=playAreaText balanceNumber, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff)_text.png"
                }, {
                    key: "balanceTitle(text=BALANCE, class=playAreaText,  font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff)_text",
                    fullPath: d + "playarea/balanceTitle(text=BALANCE, class=playAreaText,  font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff)_text.png"
                }, {
                    key: "credits(class=playAreaText creditsNumber, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff)_text",
                    fullPath: d + "playarea/credits(class=playAreaText creditsNumber, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff)_text.png"
                }, {
                    key: "credits(text=CREDITS, class=playAreaText creditsText, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff)_text",
                    fullPath: d + "playarea/credits(text=CREDITS, class=playAreaText creditsText, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff)_text.png"
                }, {
                    key: "coinValueText(text=COIN VALUE, class=playAreaText coinText, font=14pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff)_text",
                    fullPath: d + "playarea/coinValueText(text=COIN VALUE, class=playAreaText coinText, font=14pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff)_text.png"
                }, {
                    key: "totalBetText(class=playAreaText totalBetNumber, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff)_text",
                    fullPath: d + "playarea/totalBetText(class=playAreaText totalBetNumber, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff)_text.png"
                }, {
                    key: "totalBetText(class=playAreaText creditsTotalBetNumber, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff)_text",
                    fullPath: d + "playarea/totalBetText(class=playAreaText creditsTotalBetNumber, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff)_text.png"
                }, {
                    key: "totalBetText(text=BET, class=playAreaText totalBetText, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff)_text",
                    fullPath: d + "playarea/totalBetText(text=BET, class=playAreaText totalBetText, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff)_text.png"
                }, {
                    key: "betLineText(class=playAreaText betNumber, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff)_text",
                    fullPath: d + "playarea/betLineText(class=playAreaText betNumber, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff)_text.png"
                }, {
                    key: "linesText(class=playAreaText linesNumber, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff)_text",
                    fullPath: d + "playarea/linesText(class=playAreaText linesNumber, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff)_text.png"
                }, {
                    key: "betLineText(text=BET/LINE, class=playAreaText, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff)_text",
                    fullPath: d + "playarea/betLineText(text=BET/LINE, class=playAreaText, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff)_text.png"
                }, {
                    key: "linesText(text=LINES, class=playAreaText linesText, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff)_text",
                    fullPath: d + "playarea/linesText(text=LINES, class=playAreaText linesText, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff)_text.png"
                }, {
                    key: "btnFullscreenOn",
                    width: 260,
                    height: 72,
                    frameWidth: 65,
                    fullPath: d + "btn/btn_top_fullscreen_off_sprite.png"
                }, {
                    key: "btnFullscreenOff",
                    width: 260,
                    height: 72,
                    frameWidth: 65,
                    fullPath: d + "btn/btn_top_fullscreen_on_srpite.png"
                }, {
                    key: "Sound1Button",
                    width: 260,
                    height: 72,
                    frameWidth: 65,
                    fullPath: d + "btn/btn_top_sound1_sprite.png"
                }, {
                    key: "Sound2Button",
                    width: 260,
                    height: 72,
                    frameWidth: 65,
                    fullPath: d + "btn/btn_top_sound2_sprite.png"
                }, {
                    key: "playareaBtn_bottom_denom_minus",
                    width: 224,
                    height: 72,
                    frameWidth: 56,
                    fullPath: d + "btn/btn_bottom_denom_minus_sprite.png"
                }, {
                    key: "playareaBtn_bottom_denom_plus",
                    width: 224,
                    height: 72,
                    frameWidth: 56,
                    fullPath: d + "btn/btn_bottom_denom_plus_sprite.png"
                }, {
                    key: "AutoOffButton",
                    width: 492,
                    height: 92,
                    frameWidth: 246,
                    fullPath: d + "btn/btn_auto_off_sprite.png"
                }, {
                    key: "AutoOnButton",
                    width: 492,
                    height: 92,
                    frameWidth: 246,
                    fullPath: d + "btn/btn_auto_on_sprite.png"
                }, {
                    key: "playareaBtn_info",
                    width: 560,
                    height: 92,
                    frameWidth: 140,
                    fullPath: d + "btn/btn_info_sprite.png"
                }, {
                    key: "playareaBtn_hold",
                    width: 560,
                    height: 92,
                    frameWidth: 140,
                    fullPath: d + "btn/btn_hold_sprite.png"
                }, {
                    key: "Btn_Spin",
                    width: 980,
                    height: 92,
                    frameWidth: 245,
                    fullPath: d + "btn/btn_wide_green_sprite.png"
                }, {
                    key: "dummy1(class=buttonStyle, font=24pt roboto_condensed_regular)_text",
                    fullPath: d + "playarea/dummy1(class=buttonStyle, font=24pt roboto_condensed_regular)_text.png"
                }, {
                    key: "hold1Text(text=HOLD 1, class=buttonStyle, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff)_text",
                    fullPath: d + "playarea/hold1Text(text=HOLD 1, class=buttonStyle, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff)_text.png"
                },
                {
                    key: "hold2Text(text=HOLD 2, class=buttonStyle, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff)_text",
                    fullPath: d + "playarea/hold2Text(text=HOLD 2, class=buttonStyle, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff)_text.png"
                }, {
                    key: "hold3Text(text=HOLD 3, class=buttonStyle, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff)_text",
                    fullPath: d + "playarea/hold3Text(text=HOLD 3, class=buttonStyle, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff)_text.png"
                },
                {
                    key: "hold4Text(text=HOLD 4, class=buttonStyle, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff)_text",
                    fullPath: d + "playarea/hold4Text(text=HOLD 4, class=buttonStyle, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff)_text.png"
                }, {
                    key: "hold5Text(text=HOLD 5, class=buttonStyle, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff)_text",
                    fullPath: d + "playarea/hold5Text(text=HOLD 5, class=buttonStyle, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff)_text.png"
                },
                {
                    key: "maxBetButton(text=MAX BET, class=buttonStyle, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff)_text",
                    fullPath: d + "playarea/maxBetButton(text=MAX BET, class=buttonStyle, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff)_text.png"
                }, {
                    key: "oneBetButtont(text=ONE BET, class=buttonStyle, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff)_text",
                    fullPath: d + "playarea/oneBetButtont(text=ONE BET, class=buttonStyle, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff)_text.png"
                },
                {
                    key: "paytable(text=PAY TABLE, class=buttonStyle, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff)_text",
                    fullPath: d + "playarea/paytable(text=PAY TABLE, class=buttonStyle, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff)_text.png"
                }, {
                    key: "auto(text=AUTO OFF, class=buttonStyle, font=20pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff)_text",
                    fullPath: d + "playarea/auto(text=AUTO OFF, class=buttonStyle, font=20pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff)_text.png"
                },
                {
                    key: "spinButton(text=SPIN, class=buttonStyle, font=24pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff)_text",
                    fullPath: d + "playarea/spinButton(text=SPIN, class=buttonStyle, font=24pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff)_text.png"
                }, {
                    key: "dummy2(class=buttonStyle, font=24pt roboto_condensed_regular)_text",
                    fullPath: d + "playarea/dummy2(class=buttonStyle, font=24pt roboto_condensed_regular)_text.png"
                }
            ]
        },
        objects: {
            name: "objects",
            contents: [{
                type: 1,
                name: "buttonsContainer",
                alpha: "1",
                contents: [{
                        type: 1,
                        name: "fullscreenButton",
                        alpha: "1",
                        contents: [{
                            type: 0,
                            name: "dummy1(class=buttonStyle, font=24pt roboto_condensed_regular)_text",
                            assetKey: "dummy1(class=buttonStyle, font=24pt roboto_condensed_regular)_text",
                            x: "1658",
                            y: "41",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "fullscreenButtonButton_button",
                            assetKey: "btnFullscreenOn",
                            x: "1625",
                            y: "7",
                            alpha: "1"
                        }]
                    }, {
                        type: 1,
                        name: "soundButton",
                        alpha: "1",
                        contents: [{
                            type: 0,
                            name: "dummy2(class=buttonStyle, font=24pt roboto_condensed_regular)_text",
                            assetKey: "dummy2(class=buttonStyle, font=24pt roboto_condensed_regular)_text",
                            x: "1725",
                            y: "42",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "soundButtonButton_button",
                            assetKey: "Sound1Button",
                            x: "1691",
                            y: "7",
                            alpha: "1"
                        }]
                    }, {
                        type: 1,
                        name: "coinPlusButton",
                        alpha: "1",
                        contents: [{
                            type: 0,
                            name: "coinPlusButtonButton_button",
                            assetKey: "playareaBtn_bottom_denom_plus",
                            x: "339",
                            y: "910",
                            alpha: "1"
                        }]
                    }, {
                        type: 1,
                        name: "coinMinusButton",
                        alpha: "1",
                        contents: [{
                            type: 0,
                            name: "coinMinusButtonButton_button",
                            assetKey: "playareaBtn_bottom_denom_minus",
                            x: "162",
                            y: "910",
                            alpha: "1"
                        }]
                    }, {
                        type: 1,
                        name: "spinButton",
                        alpha: "1",
                        contents: [{
                            type: 0,
                            name: "spinButton(text=SPIN, class=buttonStyle, font=24pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff)_text",
                            assetKey: "spinButton(text=SPIN, class=buttonStyle, font=24pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff)_text",
                            x: "1642",
                            y: "1035",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "spinButtonButton_button",
                            assetKey: "Btn_Spin",
                            x: "1515",
                            y: "985",
                            alpha: "1"
                        }]
                    }, {
                        type: 1,
                        name: "autoButton",
                        alpha: "1",
                        contents: [{
                            type: 0,
                            name: "auto(text=AUTO OFF, class=buttonStyle, font=20pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff)_text",
                            assetKey: "auto(text=AUTO OFF, class=buttonStyle, font=20pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff)_text",
                            x: "300",
                            y: "1035",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "autoButtonButton_button",
                            assetKey: "AutoOffButton",
                            x: "150",
                            y: "985",
                            alpha: "1"
                        }]
                    }, {
                        type: 1,
                        name: "paytable",
                        alpha: "1",
                        contents: [{
                            type: 0,
                            name: "paytable(text=PAY TABLE, class=buttonStyle, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff)_text",
                            assetKey: "paytable(text=PAY TABLE, class=buttonStyle, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff)_text",
                            x: "465",
                            y: "1036",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "paytableButtonButton_button",
                            assetKey: "playareaBtn_info",
                            x: "394",
                            y: "986",
                            alpha: "1"
                        }]
                    }, {
                        type: 1,
                        name: "oneBetButton",
                        alpha: "1",
                        contents: [{
                            type: 0,
                            name: "oneBetButtont(text=ONE BET, class=buttonStyle, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff)_text",
                            assetKey: "oneBetButtont(text=ONE BET, class=buttonStyle, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff)_text",
                            x: "1306",
                            y: "1036",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "oneBetButtonButton_button",
                            assetKey: "playareaBtn_info",
                            x: "1235",
                            y: "985",
                            alpha: "1"
                        }]
                    }, {
                        type: 1,
                        name: "maxBetButton",
                        alpha: "1",
                        contents: [{
                            type: 0,
                            name: "maxBetButton(text=MAX BET, class=buttonStyle, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff)_text",
                            assetKey: "maxBetButton(text=MAX BET, class=buttonStyle, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff)_text",
                            x: "1448",
                            y: "1036",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "maxBetButtonButton_button",
                            assetKey: "playareaBtn_info",
                            x: "1376",
                            y: "985",
                            alpha: "1"
                        }]
                    },
                    {
                        type: 1,
                        name: "hold5Button",
                        alpha: "1",
                        contents: [{
                            type: 0,
                            name: "hold5Text(text=HOLD 5, class=buttonStyle, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff)_text",
                            assetKey: "hold5Text(text=HOLD 5, class=buttonStyle, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff)_text",
                            x: "1166",
                            y: "1036",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "hold5ButtonButton_button",
                            assetKey: "playareaBtn_hold",
                            x: "1096",
                            y: "985",
                            alpha: "1"
                        }]
                    }, {
                        type: 1,
                        name: "hold4Button",
                        alpha: "1",
                        contents: [{
                            type: 0,
                            name: "hold4Text(text=HOLD 4, class=buttonStyle, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff)_text",
                            assetKey: "hold4Text(text=HOLD 4, class=buttonStyle, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff)_text",
                            x: "1026",
                            y: "1036",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "hold4ButtonButton_button",
                            assetKey: "playareaBtn_hold",
                            x: "955",
                            y: "985",
                            alpha: "1"
                        }]
                    }, {
                        type: 1,
                        name: "hold3Button",
                        alpha: "1",
                        contents: [{
                            type: 0,
                            name: "hold3Text(text=HOLD 3, class=buttonStyle, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff)_text",
                            assetKey: "hold3Text(text=HOLD 3, class=buttonStyle, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff)_text",
                            x: "888",
                            y: "1036",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "hold3ButtonButton_button",
                            assetKey: "playareaBtn_hold",
                            x: "816",
                            y: "986",
                            alpha: "1"
                        }]
                    }, {
                        type: 1,
                        name: "hold2Button",
                        alpha: "1",
                        contents: [{
                            type: 0,
                            name: "hold2Text(text=HOLD 2, class=buttonStyle, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff)_text",
                            assetKey: "hold2Text(text=HOLD 2, class=buttonStyle, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff)_text",
                            x: "747",
                            y: "1036",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "hold2ButtonButton_button",
                            assetKey: "playareaBtn_hold",
                            x: "675",
                            y: "986",
                            alpha: "1"
                        }]
                    }, {
                        type: 1,
                        name: "hold1Button",
                        alpha: "1",
                        contents: [{
                            type: 0,
                            name: "hold1Text(text=HOLD 1, class=buttonStyle, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff)_text",
                            assetKey: "hold1Text(text=HOLD 1, class=buttonStyle, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff)_text",
                            x: "609",
                            y: "1036",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "hold1ButtonButton_button",
                            assetKey: "playareaBtn_hold",
                            x: "537",
                            y: "986",
                            alpha: "1"
                        }]
                    }
                ]
            }, {
                type: 1,
                name: "infoPanelContainer",
                alpha: "1",
                contents: [{
                    type: 1,
                    name: "staticContainer",
                    alpha: "1",
                    contents: [{
                        type: 0,
                        name: "linesText(text=LINES, class=playAreaText linesText, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff)_text",
                        assetKey: "linesText(text=LINES, class=playAreaText linesText, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff)_text",
                        x: "1280",
                        y: "928",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "betLineText(text=BET/LINE, class=playAreaText, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff)_text",
                        assetKey: "betLineText(text=BET/LINE, class=playAreaText, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff)_text",
                        x: "1294",
                        y: "962",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "linesText(class=playAreaText linesNumber, font=16pt roboto_condensed_regular, anchorX=1, anchorY=0.5, fill=#fff)_text",
                        assetKey: "linesText(class=playAreaText linesNumber, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff)_text",
                        x: "1498",
                        y: "928",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "betLineText(class=playAreaText betNumber, font=16pt roboto_condensed_regular, anchorX=1, anchorY=0.5, fill=#fff)_text",
                        assetKey: "betLineText(class=playAreaText betNumber, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff)_text",
                        x: "1498",
                        y: "960",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "totalBetText(text=BET, class=playAreaText totalBetText, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff)_text",
                        assetKey: "totalBetText(text=BET, class=playAreaText totalBetText, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff)_text",
                        x: "1550",
                        y: "928",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "totalBetText(class=playAreaText creditsTotalBetNumber, font=16pt roboto_condensed_regular, anchorX=1, anchorY=0.5, fill=#fff)_text",
                        assetKey: "totalBetText(class=playAreaText creditsTotalBetNumber, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff)_text",
                        x: "1738",
                        y: "927",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "totalBetText(class=playAreaText totalBetNumber, font=16pt roboto_condensed_regular, anchorX=1, anchorY=0.5, fill=#fff)_text",
                        assetKey: "totalBetText(class=playAreaText totalBetNumber, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff)_text",
                        x: "1738",
                        y: "960",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "coinValueText(text=COIN VALUE, class=playAreaText coinText, font=14pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff)_text",
                        assetKey: "coinValueText(text=COIN VALUE, class=playAreaText coinText, font=14pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff)_text",
                        x: "279",
                        y: "929",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "credits(text=CREDITS, class=playAreaText creditsText, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff)_text",
                        assetKey: "credits(text=CREDITS, class=playAreaText creditsText, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff)_text",
                        x: "452",
                        y: "928",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "credits(class=playAreaText creditsNumber, font=16pt roboto_condensed_regular, anchorX=1, anchorY=0.5, fill=#fff)_text",
                        assetKey: "credits(class=playAreaText creditsNumber, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff)_text",
                        x: "655",
                        y: "928",
                        alpha: "1"
                    }, {
                        type: 1,
                        name: "balanceContainer",
                        alpha: "1",
                        contents: [{
                            type: 0,
                            name: "balanceTitle(text=BALANCE, class=playAreaText,  font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff)_text",
                            assetKey: "balanceTitle(text=BALANCE, class=playAreaText,  font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff)_text",
                            x: "456",
                            y: "961",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "balance(class=playAreaText balanceNumber, font=16pt roboto_condensed_regular, anchorX=1, anchorY=0.5, fill=#fff)_text",
                            assetKey: "balance(class=playAreaText balanceNumber, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff)_text",
                            x: "655",
                            y: "963",
                            alpha: "1"
                        }]
                    }, {
                        type: 0,
                        name: "coinValueText(class=playAreaText coinsNumber, font=20pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff)_text",
                        assetKey: "coinValueText(class=playAreaText coinsNumber, font=20pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff)_text",
                        x: "279",
                        y: "960",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "coinValueText(class=playAreaText infoPanelTextUp, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff)_text",
                        assetKey: "coinValueText(class=playAreaText infoPanelTextUp, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff)_text",
                        x: "947",
                        y: "936",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "coinValueText(class=playAreaText infoPanelTextDown, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff)_text",
                        assetKey: "coinValueText(class=playAreaText infoPanelTextDown, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff)_text",
                        x: "947",
                        y: "960",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "coinValueText(class=playAreaText linesText, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff)_text",
                        assetKey: "coinValueText(class=playAreaText linesText, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff)_text",
                        x: "702",
                        y: "927",
                        alpha: "1"
                    }]
                }, {
                    type: 0,
                    name: "playareaStat_2",
                    assetKey: "playareaStat_2",
                    x: "674",
                    y: "897",
                    alpha: "1"
                }, {
                    type: 0,
                    name: "playareaStat_1_3",
                    assetKey: "playareaStat_1_3",
                    x: "394",
                    y: "897",
                    alpha: "1"
                }, {
                    type: 0,
                    name: "playareaStat_1_32",
                    assetKey: "playareaStat_1_32",
                    x: "1237",
                    y: "896",
                    alpha: "1"
                }, {
                    type: 0,
                    name: "playareaStat_24",
                    assetKey: "playareaStat_24",
                    x: "1512",
                    y: "896",
                    alpha: "1"
                }, {
                    type: 0,
                    name: "playareaStat_0",
                    assetKey: "playareaStat_0",
                    x: "151",
                    y: "896",
                    alpha: "1"
                }]
            }]
        }
    }
};
nge.App[nge.appNS].Tpl.Groups.Offers = function() {
    var d = nge.appPath + "/img/actions/offers/list/",
        b = nge.appPath + "/img/actions/offers/statistic/",
        h = nge.appPath + "/img/actions/offers/cancel/";
    return {
        styles: {
            ".freeGames": {
                style: {
                    font: '12pt "roboto_condensed_regular"',
                    fill: "#fff",
                    align: "left"
                }
            },
            ".offerButton": {
                anchorX: .5,
                anchorY: .5
            }
        },
        assets: {
            name: "assets",
            contents: [{
                key: "blackFullHd",
                fullPath: nge.appPath + "/img/blackFullHd.jpg"
            }, {
                key: "playareaStat_0",
                fullPath: d + "stat_0.png"
            }, {
                key: "playareaBtn_bottom_denom_minus",
                width: 224,
                height: 72,
                frameWidth: 56,
                fullPath: d + "btn_bottom_denom_minus_sprite.png"
            }, {
                key: "playareaBtn_bottom_denom_plus",
                width: 224,
                height: 72,
                frameWidth: 56,
                fullPath: d + "btn_bottom_denom_plus_sprite.png"
            }, {
                key: "btnGreenOfferList",
                width: 1472,
                height: 96,
                frameWidth: 368,
                fullPath: d + "big_green_button_atlas.png"
            }, {
                key: "btnOrangeOfferList",
                width: 1472,
                height: 96,
                frameWidth: 368,
                fullPath: d + "big_orange_button_atlas.png"
            }, {
                key: "rectangleBox",
                fullPath: d + "rectangle_2.png"
            }, {
                key: "bgDown",
                fullPath: d + "bg_down.png"
            }, {
                key: "bgUp",
                fullPath: d + "bg_up.png"
            }, {
                key: "line",
                fullPath: d + "line.png"
            }, {
                key: "btnGreenOfferStatistic",
                width: 1280,
                height: 96,
                frameWidth: 320,
                fullPath: b + "green_button_atlas.png"
            }, {
                key: "rectangleBox2",
                fullPath: b + "rectangle.png"
            }, {
                key: "btnRedOfferCancel",
                width: 992,
                height: 96,
                frameWidth: 248,
                fullPath: h + "red_button_atlas.png"
            }, {
                key: "btnGreenOfferCancel",
                width: 992,
                height: 96,
                frameWidth: 248,
                fullPath: h + "small_green_atlas.png"
            }]
        },
        objects: {
            name: "objects",
            contents: [{
                type: 2,
                isVisible: !1,
                "class": "freeGames",
                name: _("freeGames"),
                text: "Free games remain: ",
                x: 694,
                y: 920
            }, {
                type: 1,
                name: "offersList",
                isVisible: !1,
                alpha: 1,
                contents: [{
                    type: 2,
                    x: 960,
                    y: 220,
                    text: _("congratulation"),
                    "class": "center playAreaText",
                    style: {
                        font: "bold 48pt 'roboto_condensed_regular'"
                    }
                }, {
                    type: 2,
                    x: 960,
                    y: 290,
                    text: _("youHaveFreeGames"),
                    "class": "center playAreaText",
                    style: {
                        font: "bold 32pt 'roboto_condensed_regular'"
                    }
                }, {
                    type: 2,
                    name: "offersListGameName",
                    x: 960,
                    y: 348,
                    text: _("GAME NAME"),
                    "class": "center playAreaText",
                    style: {
                        font: "bold 32pt 'roboto_condensed_regular'",
                        fill: "#FFC400"
                    }
                }, {
                    type: 0,
                    x: 960,
                    y: 200,
                    assetKey: "bgUp",
                    "class": "center"
                }, {
                    type: 1,
                    x: 600,
                    y: 380,
                    contents: [{
                        type: 1,
                        x: 0,
                        contents: [{
                            type: 2,
                            x: 185,
                            y: 40,
                            text: "freeGames",
                            "class": "center playAreaText"
                        }, {
                            type: 2,
                            name: "offerFreeGamesAmount",
                            x: 185,
                            y: 135,
                            text: "200",
                            "class": "center playAreaText",
                            style: {
                                font: "bold 90pt 'roboto_condensed_regular'",
                                shadowOffsetX: 0,
                                shadowOffsetY: 0,
                                shadowColor: "#0087d6",
                                shadowBlur: 15
                            }
                        }, {
                            type: 0,
                            x: 5,
                            y: 45,
                            assetKey: "line"
                        }, {
                            type: 0,
                            assetKey: "rectangleBox"
                        }]
                    }, {
                        type: 1,
                        x: 370,
                        contents: [{
                            type: 2,
                            x: 180,
                            y: 40,
                            text: _("conditions"),
                            class: "center playAreaText"
                        }, {
                            type: 0,
                            x: 5,
                            y: 45,
                            assetKey: "line"
                        }, {
                            type: 2,
                            x: 30,
                            y: 62,
                            text: _("conditionsAvailableUntil"),
                            class: "playAreaText"
                        }, {
                            type: 2,
                            x: 330,
                            y: 62,
                            name: "offerAvaliableTo",
                            text: "30.11.2016",
                            anchorX: 1,
                            class: "playAreaText",
                            style: {
                                boundsAlignH: "right",
                                fill: "#00CCF7"
                            }
                        }, {
                            type: 0,
                            x: 5,
                            y: 82,
                            assetKey: "line"
                        }, {
                            type: 2,
                            x: 30,
                            y: 100,
                            text: _("denomination"),
                            class: "playAreaText"
                        }, {
                            type: 2,
                            x: 330,
                            y: 100,
                            name: "offerCoinValue",
                            text: "0.10",
                            anchorX: 1,
                            class: "playAreaText",
                            style: {
                                boundsAlignH: "right",
                                fill: "#00CCF7"
                            }
                        }, {
                            type: 0,
                            x: 5,
                            y: 117,
                            assetKey: "line"
                        }, {
                            type: 2,
                            x: 30,
                            y: 135,
                            text: _("betOfLine"),
                            class: "playAreaText"
                        }, {
                            type: 2,
                            x: 330,
                            y: 135,
                            name: "offerBet",
                            text: "10",
                            anchorX: 1,
                            class: "playAreaText",
                            style: {
                                boundsAlignH: "right",
                                fill: "#00CCF7"
                            }
                        }, {
                            type: 0,
                            x: 5,
                            y: 152,
                            assetKey: "line"
                        }, {
                            type: 2,
                            x: 30,
                            y: 170,
                            text: _("countOfLine"),
                            class: "playAreaText"
                        }, {
                            type: 2,
                            x: 330,
                            y: 170,
                            name: "offerLines",
                            text: "10",
                            anchorX: 1,
                            class: "playAreaText",
                            style: {
                                boundsAlignH: "right",
                                fill: "#00CCF7"
                            }
                        }, {
                            type: 0,
                            assetKey: "rectangleBox"
                        }]
                    }]
                }, {
                    type: 1,
                    x: 970,
                    y: 630,
                    contents: [{
                        type: 2,
                        x: 180,
                        y: 50,
                        text: _("playJustNow"),
                        class: "center playAreaText",
                        style: {
                            font: "25pt 'roboto_condensed_regular'"
                        }
                    }, {
                        type: 4,
                        x: 182,
                        y: 45,
                        btnFrames: {
                            down: 0,
                            out: 1,
                            over: 2
                        },
                        assetKey: "btnGreenOfferList",
                        "class": "offerButton",
                        action: "function () {nge.observer.fire('offers.list.apply');}"
                    }]
                }, {
                    type: 1,
                    x: 600,
                    y: 630,
                    contents: [{
                        type: 2,
                        x: 180,
                        y: 50,
                        text: _("playLater"),
                        class: "center playAreaText",
                        style: {
                            font: "25pt 'roboto_condensed_regular'"
                        }
                    }, {
                        type: 4,
                        x: 182,
                        y: 45,
                        btnFrames: {
                            down: 0,
                            out: 1,
                            over: 2
                        },
                        assetKey: "btnOrangeOfferList",
                        "class": "offerButton",
                        action: "function () {nge.observer.fire('offers.list.later');}"
                    }]
                }, {
                    type: 1,
                    x: 835,
                    y: 740,
                    contents: [{
                        type: 2,
                        name: "offerCurrentNum",
                        x: 110,
                        y: 25,
                        "class": "playAreaText",
                        anchorX: .5,
                        text: "1",
                        style: {
                            font: "bold 15pt 'roboto_condensed_regular'",
                            align: "center"
                        }
                    }, {
                        type: 2,
                        name: "offersTotalNum",
                        x: 140,
                        y: 25,
                        "class": "playAreaText",
                        anchorX: .5,
                        text: "3",
                        style: {
                            font: "bold 15pt 'roboto_condensed_regular'",
                            align: "center"
                        }
                    }, {
                        type: 2,
                        x: 125,
                        y: 25,
                        "class": "playAreaText",
                        anchorX: .5,
                        text: "/",
                        style: {
                            font: "bold 14pt 'roboto_condensed_regular'",
                            align: "center"
                        }
                    }, {
                        type: 2,
                        x: 125,
                        y: 50,
                        "class": "playAreaText",
                        anchorX: .5,
                        text: _("offers"),
                        style: {
                            font: "bold 12pt 'roboto_condensed_regular'",
                            align: "center"
                        }
                    }, {
                        type: 1,
                        x: 41,
                        y: 46,
                        contents: [{
                            type: 4,
                            assetKey: "playareaBtn_bottom_denom_minus",
                            btnFrames: {
                                down: 0,
                                out: 1,
                                over: 2
                            },
                            "class": "offerButton",
                            action: "function () {nge.observer.fire('offers.list.prev');}"
                        }]
                    }, {
                        type: 1,
                        x: 208,
                        y: 46,
                        contents: [{
                            type: 4,
                            btnFrames: {
                                down: 0,
                                out: 1,
                                over: 2
                            },
                            assetKey: "playareaBtn_bottom_denom_plus",
                            "class": "offerButton",
                            action: "function () {nge.observer.fire('offers.list.next');}"
                        }]
                    }, {
                        type: 0,
                        assetKey: "playareaStat_0"
                    }]
                }, {
                    type: 2,
                    name: "offerCancelText",
                    x: 1250,
                    y: 780,
                    text: _("cancelOffer"),
                    "class": "center playAreaText",
                    style: {
                        font: "bold 15pt 'roboto_condensed_regular'"
                    }
                }, {
                    type: 2,
                    x: 1250,
                    y: 785,
                    text: _("____________"),
                    "class": "center playAreaText",
                    style: {
                        font: "bold 15pt 'roboto_condensed_regular'"
                    }
                }, {
                    type: 0,
                    x: 960,
                    y: 880,
                    assetKey: "bgDown",
                    "class": "center"
                }]
            }, {
                type: 1,
                name: "offerStatistic",
                isVisible: !1,
                alpha: 1,
                contents: [{
                    type: 2,
                    x: 960,
                    y: 320,
                    text: _("yourOffersHaveBeenFinished"),
                    "class": "center playAreaText",
                    style: {
                        font: "bold 48pt 'roboto_condensed_regular'"
                    }
                }, {
                    type: 2,
                    x: 960,
                    y: 400,
                    text: _("summaryAboutFreeGames"),
                    "class": "center playAreaText",
                    style: {
                        font: "bold 32pt 'roboto_condensed_regular'",
                        fill: "#FFC400"
                    }
                }, {
                    type: 0,
                    x: 960,
                    y: 310,
                    assetKey: "bgUp",
                    "class": "center"
                }, {
                    type: 1,
                    x: 600,
                    y: 450,
                    contents: [{
                        type: 1,
                        x: 0,
                        contents: [{
                            type: 2,
                            x: 185,
                            y: 60,
                            text: _("countOfcompletedGames"),
                            "class": "center playAreaText",
                            style: {
                                align: "center",
                                font: "bold 14pt 'roboto_condensed_regular'"
                            }
                        }, {
                            type: 2,
                            name: "offerFreeGamesPlayed",
                            x: 185,
                            y: 150,
                            text: "15",
                            "class": "center playAreaText",
                            style: {
                                font: "bold 65pt 'roboto_condensed_regular'",
                                stroke: "#07507a",
                                strokeThickness: 6,
                                shadowOffsetX: 0,
                                shadowOffsetY: 0,
                                shadowColor: "#0087d6",
                                shadowBlur: 15
                            }
                        }, {
                            type: 0,
                            x: 5,
                            y: 75,
                            assetKey: "line"
                        }, {
                            type: 0,
                            assetKey: "rectangleBox2"
                        }]
                    }, {
                        type: 1,
                        x: 370,
                        contents: [{
                                type: 2,
                                x: 185,
                                y: 60,
                                text: _("totalWin"),
                                "class": "center playAreaText",
                                style: {
                                    align: "center",
                                    font: "bold 14pt 'roboto_condensed_regular'"
                                }
                            },
                            {
                                type: 2,
                                name: "offerFreeGamesWin",
                                x: 185,
                                y: 150,
                                text: "99999",
                                "class": "center playAreaText",
                                style: {
                                    font: "bold 65pt 'roboto_condensed_regular'",
                                    stroke: "#07507a",
                                    strokeThickness: 6,
                                    shadowOffsetX: 0,
                                    shadowOffsetY: 0,
                                    shadowColor: "#0087d6",
                                    shadowBlur: 15
                                }
                            }, {
                                type: 0,
                                x: 5,
                                y: 75,
                                assetKey: "line"
                            }, {
                                type: 0,
                                assetKey: "rectangleBox2"
                            }
                        ]
                    }]
                }, {
                    type: 1,
                    x: 800,
                    y: 700,
                    contents: [{
                        type: 2,
                        x: 160,
                        y: 50,
                        text: _("backToGame"),
                        class: "center playAreaText",
                        style: {
                            font: "25pt 'roboto_condensed_regular'"
                        }
                    }, {
                        type: 4,
                        x: 157,
                        y: 46,
                        btnFrames: {
                            down: 0,
                            out: 1,
                            over: 2
                        },
                        assetKey: "btnGreenOfferStatistic",
                        "class": "offerButton",
                        action: "function () {nge.observer.fire('offers.result.goToGame');}"
                    }]
                }, {
                    type: 0,
                    x: 960,
                    y: 830,
                    assetKey: "bgDown",
                    "class": "center"
                }]
            }, {
                type: 1,
                name: "offerCancelConfirmation",
                isVisible: !1,
                alpha: 1,
                contents: [{
                    type: 2,
                    x: 960,
                    y: 300,
                    text: _("cancelOfferConfirm"),
                    "class": "center playAreaText",
                    style: {
                        font: "bold 35pt 'roboto_condensed_regular'",
                        fill: "#FFC400"
                    }
                }, {
                    type: 2,
                    x: 960,
                    y: 400,
                    text: _("areYouSureYouWantToCancel"),
                    "class": "center playAreaText",
                    style: {
                        font: "bold 24pt 'roboto_condensed_regular'",
                        align: "center"
                    }
                }, {
                    type: 1,
                    x: 700,
                    y: 490,
                    contents: [{
                        type: 2,
                        x: 125,
                        y: 50,
                        text: _("cancelOfferConfirmFinally"),
                        class: "center playAreaText",
                        style: {
                            font: "25pt 'roboto_condensed_regular'"
                        }
                    }, {
                        type: 4,
                        x: 122,
                        y: 44,
                        btnFrames: {
                            down: 0,
                            out: 1,
                            over: 2
                        },
                        assetKey: "btnRedOfferCancel",
                        "class": "offerButton",
                        action: "function () {nge.observer.fire('offers.list.cancel.confirm');}"
                    }]
                }, {
                    type: 1,
                    x: 960,
                    y: 490,
                    contents: [{
                            type: 2,
                            x: 125,
                            y: 50,
                            text: _("repealCancelOffer"),
                            class: "center playAreaText",
                            style: {
                                font: "25pt 'roboto_condensed_regular'"
                            }
                        },
                        {
                            type: 4,
                            x: 122,
                            y: 44,
                            btnFrames: {
                                down: 0,
                                out: 1,
                                over: 2
                            },
                            assetKey: "btnGreenOfferCancel",
                            "class": "offerButton",
                            action: "function () {nge.observer.fire('offers.list.cancel.cancel');}"
                        }
                    ]
                }]
            }, {
                type: 0,
                name: "offersBG",
                isVisible: !1,
                alpha: .8,
                assetKey: "blackFullHd",
                inputEnabled: !0
            }]
        }
    }
};
nge.App[nge.appNS].Tpl.Groups.PlayStyles = function() {
    return {
        styles: {
            ".center": {
                anchorX: .5,
                anchorY: .5
            },
            ".playAreaText": {
                style: {
                    font: '16pt "roboto_condensed_regular"',
                    fill: "#fff",
                    align: "left"
                }
            },
            ".playAreaText.coinText": {
                style: {
                    font: '14pt "roboto_condensed_regular"'
                }
            },
            ".playAreaText.coinsNumber": {
                style: {
                    font: '20pt "roboto_condensed_regular"'
                }
            },
            ".playAreaText.creditsText": {
                style: {
                    font: '18pt "roboto_condensed_regular"'
                }
            },
            ".playAreaText.creditsNumber": {
                style: {
                    font: '16pt "roboto_condensed_regular"'
                }
            },
            ".playAreaText.balanceNumber": {
                style: {
                    font: '16pt "roboto_condensed_regular"'
                }
            },
            ".playAreaText.currency": {
                style: {
                    fill: "#00BFFF"
                }
            },
            ".playAreaText.infoPanelTextUp": {
                style: {
                    font: '24pt "roboto_condensed_regular"'
                }
            },
            ".playAreaText.linesNumber": {
                style: {
                    font: '16pt "roboto_condensed_regular"'
                }
            },
            ".playAreaText.linesText": {
                style: {
                    font: '18pt "roboto_condensed_regular"'
                }
            },
            ".playAreaText.totalBetText": {
                style: {
                    font: '18pt "roboto_condensed_regular"'
                }
            },
            ".playAreaText.totalBetNumber": {
                style: {
                    font: '16pt "roboto_condensed_regular"'
                }
            },
            ".playAreaText.creditsTotalBetNumber": {
                style: {
                    font: '16pt "roboto_condensed_regular"'
                }
            }
        }
    }
};
nge.App[nge.appNS].Tpl.Groups.Settings = function() {
    var d = nge.appPath + "img/";
    return {
        assets: {
            name: "assets",
            contents: [{
                    key: "audioSettingsBg",
                    fullPath: d + "playarea/audioSettingsBg.png"
                }, {
                    key: "optionsSettingsBg",
                    fullPath: d + "playarea/optionsSettingsBg.png"
                }, {
                    key: "visualSettingsBg",
                    fullPath: d + "playarea/visualSettingsBg.png"
                }, {
                    key: "spinSettingsBg",
                    fullPath: d + "playarea/spinSettingsBg.png"
                }, {
                    key: "audioSliderButtonPlus",
                    fullPath: d + "playarea/audioSliderButtonPlus.png"
                }, {
                    key: "audioSliderButtonMinus",
                    fullPath: d +
                        "playarea/audioSliderButtonMinus.png"
                }, {
                    key: "audioSlider_bg",
                    fullPath: d + "playarea/audioSlider_bg.png"
                }, {
                    key: "audioSliderBg_fill",
                    fullPath: d + "playarea/audioSliderBg_fill.png"
                }, {
                    key: "audioSliderButtonButton(spritesX=3)_handle",
                    fullPath: d + "playarea/audioSliderButtonButton(spritesX=3)_handle.png"
                }, {
                    key: "turboModeButtonButton(spritesX=6)_button",
                    fullPath: d + "playarea/turboModeButtonButton(spritesX=6)_button.png"
                }, {
                    key: "settingsPressSpaceToSpinButtonButton(spritesX=6)_button",
                    fullPath: d + "playarea/settingsPressSpaceToSpinButtonButton(spritesX=6)_button.png"
                },
                {
                    key: "settingsSplashScreenButtonButton(spritesX=6)_button",
                    fullPath: d + "playarea/settingsSplashScreenButtonButton(spritesX=6)_button.png"
                }, {
                    key: "settingsDisplayValuesInCoinsButtonButton(spritesX=6)_button",
                    fullPath: d + "playarea/settingsDisplayValuesInCoinsButtonButton(spritesX=6)_button.png"
                }, {
                    key: "settingNameButtonText8(text=MODE, class=settingNameButtonText)_text",
                    fullPath: d + "playarea/settingNameButtonText8(text=MODE, class=settingNameButtonText)_text.png"
                }, {
                    key: "settingNameButtonText7(text=TURBO, class=settingNameButtonText)_text",
                    fullPath: d + "playarea/settingNameButtonText7(text=TURBO, class=settingNameButtonText)_text.png"
                }, {
                    key: "settingNameButtonText6(text=TO SPIN, class=settingNameButtonText)_text",
                    fullPath: d + "playarea/settingNameButtonText6(text=TO SPIN, class=settingNameButtonText)_text.png"
                }, {
                    key: "settingNameButtonText5(text=PRESS SPACE, class=settingNameButtonText)_text",
                    fullPath: d + "playarea/settingNameButtonText5(text=PRESS SPACE, class=settingNameButtonText)_text.png"
                }, {
                    key: "settingNameButtonText4(text=SPLASH SCREEN, class=settingNameButtonText)_text",
                    fullPath: d + "playarea/settingNameButtonText4(text=SPLASH SCREEN, class=settingNameButtonText)_text.png"
                }, {
                    key: "settingNameButtonText3(text=SHOW, class=settingNameButtonText)_text",
                    fullPath: d + "playarea/settingNameButtonText3(text=SHOW, class=settingNameButtonText)_text.png"
                }, {
                    key: "settingNameButtonText2(text=IN COINS, class=settingNameButtonText)_text",
                    fullPath: d + "playarea/settingNameButtonText2(text=IN COINS, class=settingNameButtonText)_text.png"
                }, {
                    key: "settingNameButtonText1(text=DISPLAY, class=settingNameButtonText)_text",
                    fullPath: d + "playarea/settingNameButtonText1(text=DISPLAY, class=settingNameButtonText)_text.png"
                }, {
                    key: "settingNameButtonText(text=Spin speed, font=28pt FuturaPTHeavy, fill=#eee0bf, anchorY=0.5)_style",
                    fullPath: d + "playarea/settingNameButtonText(text=Spin speed, font=28pt FuturaPTHeavy, fill=#eee0bf, anchorY=0.5)_style.png"
                }, {
                    key: "spinSpeedName(text=Spin speed, font=39pt FuturaPTHeavy, fill=#fec36d, anchorY=0.5)_text",
                    fullPath: d + "playarea/spinSpeedName(text=Spin speed, font=39pt FuturaPTHeavy, fill=#fec36d, anchorY=0.5)_text.png"
                },
                {
                    key: "settingsVisualName(text=Visual, font=39pt FuturaPTHeavy, fill=#fec36d, anchorY=0.5)_text",
                    fullPath: d + "playarea/settingsVisualName(text=Visual, font=39pt FuturaPTHeavy, fill=#fec36d, anchorY=0.5)_text.png"
                }, {
                    key: "settingsOptionsName(text=Options, font=39pt FuturaPTHeavy, fill=#fec36d, anchorY=0.5)_text",
                    fullPath: d + "playarea/settingsOptionsName(text=Options, font=39pt FuturaPTHeavy, fill=#fec36d, anchorY=0.5)_text.png"
                }, {
                    key: "settingsAudioName(text=Audio, font=39pt FuturaPTHeavy, fill=#fec36d, anchorY=0.5)_text",
                    fullPath: d + "playarea/settingsAudioName(text=Audio, font=39pt FuturaPTHeavy, fill=#fec36d, anchorY=0.5)_text.png"
                }
            ]
        },
        objects: {
            name: "objects",
            contents: [{
                type: 1,
                name: "settingWindowContainer",
                alpha: "1",
                contents: [{
                        type: 0,
                        name: "settingsAudioName(text=Audio, font=39pt FuturaPTHeavy, fill=#fec36d, anchorY=0.5)_text",
                        assetKey: "settingsAudioName(text=Audio, font=39pt FuturaPTHeavy, fill=#fec36d, anchorY=0.5)_text",
                        x: "164",
                        y: "161",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "settingsOptionsName(text=Options, font=39pt FuturaPTHeavy, fill=#fec36d, anchorY=0.5)_text",
                        assetKey: "settingsOptionsName(text=Options, font=39pt FuturaPTHeavy, fill=#fec36d, anchorY=0.5)_text",
                        x: "163",
                        y: "363",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "settingsVisualName(text=Visual, font=39pt FuturaPTHeavy, fill=#fec36d, anchorY=0.5)_text",
                        assetKey: "settingsVisualName(text=Visual, font=39pt FuturaPTHeavy, fill=#fec36d, anchorY=0.5)_text",
                        x: "164",
                        y: "572",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "spinSpeedName(text=Spin speed, font=39pt FuturaPTHeavy, fill=#fec36d, anchorY=0.5)_text",
                        assetKey: "spinSpeedName(text=Spin speed, font=39pt FuturaPTHeavy, fill=#fec36d, anchorY=0.5)_text",
                        x: "163",
                        y: "773",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "settingNameButtonText(text=Spin speed, font=28pt FuturaPTHeavy, fill=#eee0bf, anchorY=0.5)_style",
                        assetKey: "settingNameButtonText(text=Spin speed, font=28pt FuturaPTHeavy, fill=#eee0bf, anchorY=0.5)_style",
                        x: "0",
                        y: "0",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "settingNameButtonText1(text=DISPLAY, class=settingNameButtonText)_text",
                        assetKey: "settingNameButtonText1(text=DISPLAY, class=settingNameButtonText)_text",
                        x: "736",
                        y: "332",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "settingNameButtonText2(text=IN COINS, class=settingNameButtonText)_text",
                        assetKey: "settingNameButtonText2(text=IN COINS, class=settingNameButtonText)_text",
                        x: "736",
                        y: "382",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "settingNameButtonText3(text=SHOW, class=settingNameButtonText)_text",
                        assetKey: "settingNameButtonText3(text=SHOW, class=settingNameButtonText)_text",
                        x: "736",
                        y: "539",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "settingNameButtonText4(text=SPLASH SCREEN, class=settingNameButtonText)_text",
                        assetKey: "settingNameButtonText4(text=SPLASH SCREEN, class=settingNameButtonText)_text",
                        x: "736",
                        y: "589",
                        alpha: "1"
                    },
                    {
                        type: 0,
                        name: "settingNameButtonText5(text=PRESS SPACE, class=settingNameButtonText)_text",
                        assetKey: "settingNameButtonText5(text=PRESS SPACE, class=settingNameButtonText)_text",
                        x: "1238",
                        y: "332",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "settingNameButtonText6(text=TO SPIN, class=settingNameButtonText)_text",
                        assetKey: "settingNameButtonText6(text=TO SPIN, class=settingNameButtonText)_text",
                        x: "1238",
                        y: "382",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "settingNameButtonText7(text=TURBO, class=settingNameButtonText)_text",
                        assetKey: "settingNameButtonText7(text=TURBO, class=settingNameButtonText)_text",
                        x: "738",
                        y: "745",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "settingNameButtonText8(text=MODE, class=settingNameButtonText)_text",
                        assetKey: "settingNameButtonText8(text=MODE, class=settingNameButtonText)_text",
                        x: "738",
                        y: "793",
                        alpha: "1"
                    }, {
                        type: 1,
                        name: "optionValueButtonContainer",
                        alpha: "1",
                        contents: [{
                            type: 0,
                            name: "settingsDisplayValuesInCoinsButtonButton(spritesX=6)_button",
                            assetKey: "settingsDisplayValuesInCoinsButtonButton(spritesX=6)_button",
                            x: "560",
                            y: "321",
                            alpha: "1"
                        }]
                    }, {
                        type: 1,
                        name: "visualButtonContainer",
                        alpha: "1",
                        contents: [{
                            type: 0,
                            name: "settingsSplashScreenButtonButton(spritesX=6)_button",
                            assetKey: "settingsSplashScreenButtonButton(spritesX=6)_button",
                            x: "560",
                            y: "530",
                            alpha: "1"
                        }]
                    }, {
                        type: 1,
                        name: "optionSpaceButtonContainer",
                        alpha: "1",
                        contents: [{
                            type: 0,
                            name: "settingsPressSpaceToSpinButtonButton(spritesX=6)_button",
                            assetKey: "settingsPressSpaceToSpinButtonButton(spritesX=6)_button",
                            x: "1060",
                            y: "321",
                            alpha: "1"
                        }]
                    }, {
                        type: 1,
                        name: "turboModeButtonContainer",
                        alpha: "1",
                        contents: [{
                            type: 0,
                            name: "turboModeButtonButton(spritesX=6)_button",
                            assetKey: "turboModeButtonButton(spritesX=6)_button",
                            x: "560",
                            y: "735",
                            alpha: "1"
                        }]
                    }, {
                        type: 1,
                        name: "audioSliderButtonContainer(marginLeft=38, marginRight=38)_sliderAdvanced",
                        alpha: "1",
                        contents: [{
                            type: 0,
                            name: "audioSliderButtonButton(spritesX=3)_handle",
                            assetKey: "audioSliderButtonButton(spritesX=3)_handle",
                            x: "1021",
                            y: "120",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "audioSliderBg_fill",
                            assetKey: "audioSliderBg_fill",
                            x: "576",
                            y: "151",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "audioSlider_bg",
                            assetKey: "audioSlider_bg",
                            x: "568",
                            y: "142",
                            alpha: "1"
                        }]
                    }, {
                        type: 0,
                        name: "audioSliderButtonMinus",
                        assetKey: "audioSliderButtonMinus",
                        x: "505",
                        y: "157",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "audioSliderButtonPlus",
                        assetKey: "audioSliderButtonPlus",
                        x: "1641",
                        y: "144",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "spinSettingsBg",
                        assetKey: "spinSettingsBg",
                        x: "66",
                        y: "679",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "visualSettingsBg",
                        assetKey: "visualSettingsBg",
                        x: "66",
                        y: "474",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "optionsSettingsBg",
                        assetKey: "optionsSettingsBg",
                        x: "66",
                        y: "269",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "audioSettingsBg",
                        assetKey: "audioSettingsBg",
                        x: "66",
                        y: "64",
                        alpha: "1"
                    }
                ]
            }]
        }
    }
};
nge.App[nge.appNS].Tpl.Groups.ScrollbarVertical = function(d) {
    var b = nge.Tpl.Groups.ScrollbarVertical(d);
    d || (d = nge.appPath + "img/");
    return {
        assets: {
            name: "assets",
            contents: [{
                fullPath: d + "scrollbar/scroll_bg.png",
                key: "img/scrollbar/scroll_bg.png"
            }, {
                fullPath: d + "scrollbar/scroll_touch.png",
                key: "img/scrollbar/scroll_touch.png"
            }]
        },
        objects: {
            name: "objects",
            contents: b.objects.contents
        }
    }
};
nge.App[nge.appNS].Tpl.Groups.Mobile = {};
nge.App[nge.appNS].Tpl.Groups.Mobile.Tabs = function() {
    var d = nge.appPath + "img/help/";
    return {
        styles: {
            "^headersContainer .tabHeaderText": {
                style: {
                    fill: "#ffffff"
                }
            },
            "^headersContainer .active .tabHeaderText": {
                style: {
                    fill: "#fec36d"
                }
            },
            "^headersContainer .tabHeaderImage": {
                alpha: 0
            },
            "^headersContainer .active .tabHeaderImage": {
                alpha: 1
            }
        },
        assets: {
            name: "assets",
            contents: [{
                    key: "help_group",
                    fullPath: d + "help_group.png"
                }, {
                    key: "betSettings_group",
                    fullPath: d + "betSettings_group.png"
                }, {
                    key: "1px_empty",
                    fullPath: nge.appPath +
                        "img/scrollbar/1px_empty.png"
                }, {
                    key: "settingsContainerBg",
                    fullPath: d + "playarea/settingsContainerBg.png"
                }, {
                    key: "menuPlateBg",
                    fullPath: d + "playarea/menuPlateBg.png"
                }, {
                    key: "paginationInfoBg",
                    fullPath: d + "playarea/paginationInfoBg.png"
                }, {
                    key: "pageTwoHeaderImage(class=tabHeaderImage)_image",
                    fullPath: d + "playarea/pageTwoHeaderImage(class=tabHeaderImage)_image.png"
                }, {
                    key: "pageTwoHeaderText(text=BET SETTINGS, class=tabHeaderText, anchorX=0.5, anchorY=0.5, font=38pt FuturaPTHeavy)_text",
                    fullPath: d + "playarea/pageTwoHeaderText(text=BET SETTINGS, class=tabHeaderText, anchorX=0.5, anchorY=0.5, font=38pt FuturaPTHeavy)_text.png"
                },
                {
                    key: "pageOneHeaderImage(class=tabHeaderImage)_image",
                    fullPath: d + "playarea/pageOneHeaderImage(class=tabHeaderImage)_image.png"
                }, {
                    key: "pageOneHeaderText(text=RULES, class=tabHeaderText, anchorX=0.5, anchorY=0.5, font=38pt FuturaPTHeavy)_text",
                    fullPath: d + "playarea/pageOneHeaderText(text=RULES, class=tabHeaderText, anchorX=0.5, anchorY=0.5, font=38pt FuturaPTHeavy)_text.png"
                }, {
                    key: "pageTwoTriggerButtonText_text",
                    fullPath: d + "playarea/pageTwoTriggerButtonText_text.png"
                }, {
                    key: "pageTwoTriggerButtonButton(class=pageTwoTrigger, width=848, height=162)_clickableArea",
                    fullPath: d + "playarea/pageTwoTriggerButtonButton(class=pageTwoTrigger, width=848, height=162)_clickableArea.png"
                }, {
                    key: "pageOneTriggerButtonText_text",
                    fullPath: d + "playarea/pageOneTriggerButtonText_text.png"
                }, {
                    key: "pageOneTriggerButtonButton(class=pageOneTrigger, width=848, height=162)_clickableArea",
                    fullPath: d + "playarea/pageOneTriggerButtonButton(class=pageOneTrigger, width=848, height=162)_clickableArea.png"
                }, {
                    key: "backToGameButtonText_text",
                    fullPath: d + "playarea/backToGameButtonText_text.png"
                }, {
                    key: "mobileBackToGameButtonButton(spritesX=4)_button",
                    fullPath: d + "playarea/mobileBackToGameButtonButton(spritesX=4)_button.png"
                }
            ]
        },
        objects: {
            name: "objects",
            contents: [{
                type: 1,
                isVisible: !1,
                name: "helpPagesContainer",
                contents: [{
                    type: 1,
                    name: "mobileBackToGameButton",
                    alpha: "1",
                    contents: [{
                        type: 0,
                        name: "backToGameButtonText_text",
                        assetKey: "backToGameButtonText_text",
                        x: "1807",
                        y: "995",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "mobileBackToGameButtonButton(spritesX=4)_button",
                        assetKey: "mobileBackToGameButtonButton(spritesX=4)_button",
                        x: "1768",
                        y: "955",
                        alpha: "1"
                    }]
                }, {
                    type: 1,
                    name: "menu(tabs=1, tabActiveHeader=pageOneHeaderContainer, tabActiveContainer=pageOneContainer)_container",
                    alpha: "1",
                    contents: [{
                        type: 1,
                        name: "headersContainer",
                        alpha: "1",
                        contents: [{
                            type: 1,
                            name: "pageOneTriggerButton",
                            alpha: "1",
                            contents: [{
                                type: 0,
                                name: "pageOneTriggerButtonText_text",
                                assetKey: "pageOneTriggerButtonText_text",
                                x: "10",
                                y: "918",
                                alpha: "1"
                            }, {
                                type: 0,
                                name: "pageOneTriggerButtonButton(class=pageOneTrigger, width=848, height=162)_clickableArea",
                                assetKey: "pageOneTriggerButtonButton(class=pageOneTrigger, width=848, height=162)_clickableArea",
                                x: "10",
                                y: "918",
                                alpha: "1"
                            }]
                        }, {
                            type: 1,
                            name: "pageTwoTriggerButton",
                            alpha: "1",
                            contents: [{
                                type: 0,
                                name: "pageTwoTriggerButtonText_text",
                                assetKey: "pageTwoTriggerButtonText_text",
                                x: "581",
                                y: "918",
                                alpha: "1"
                            }, {
                                type: 0,
                                name: "pageTwoTriggerButtonButton(class=pageTwoTrigger, width=848, height=162)_clickableArea",
                                assetKey: "pageTwoTriggerButtonButton(class=pageTwoTrigger, width=848, height=162)_clickableArea",
                                x: "866",
                                y: "918",
                                alpha: "1"
                            }]
                        }, {
                            type: 1,
                            name: "pageOneHeaderContainer",
                            alpha: "1",
                            contents: [{
                                type: 0,
                                name: "pageOneHeaderText(text=KEY_TABS_RULES, class=tabHeaderText, anchorX=0.5, anchorY=0.5, font=38pt FuturaPTHeavy)_text",
                                assetKey: "pageOneHeaderText(text=RULES, class=tabHeaderText, anchorX=0.5, anchorY=0.5, font=38pt FuturaPTHeavy)_text",
                                x: "432",
                                y: "1003",
                                alpha: "1"
                            }, {
                                type: 0,
                                name: "pageOneHeaderImage(class=tabHeaderImage)_image",
                                assetKey: "pageOneHeaderImage(class=tabHeaderImage)_image",
                                x: "0",
                                y: "905"
                            }]
                        }, {
                            type: 1,
                            name: "pageTwoHeaderContainer",
                            alpha: "1",
                            contents: [{
                                type: 0,
                                name: "pageTwoHeaderText(text=BET SETTINGS, class=tabHeaderText, anchorX=0.5, anchorY=0.5, font=38pt FuturaPTHeavy)_text",
                                assetKey: "pageTwoHeaderText(text=BET SETTINGS, class=tabHeaderText, anchorX=0.5, anchorY=0.5, font=38pt FuturaPTHeavy)_text",
                                x: "1287",
                                y: "1003",
                                alpha: "1"
                            }, {
                                type: 0,
                                name: "pageTwoHeaderImage(class=tabHeaderImage)_image",
                                assetKey: "pageTwoHeaderImage(class=tabHeaderImage)_image",
                                x: "860",
                                y: "905"
                            }]
                        }]
                    }, {
                        type: 1,
                        name: "pageOneContainer",
                        alpha: "1",
                        contents: [{
                            type: 1,
                            name: "helpPagesContainer",
                            alpha: "1",
                            x: 50,
                            y: 85,
                            width: 1820,
                            height: 775,
                            scroll: 1,
                            contents: [{
                                type: 0,
                                name: "help_group",
                                assetKey: "help_group",
                                x: "0",
                                y: "0",
                                alpha: "1"
                            }]
                        }]
                    }, {
                        type: 1,
                        name: "pageTwoContainer",
                        alpha: "1",
                        contents: [{
                            type: 0,
                            name: "betSettings_group",
                            assetKey: "betSettings_group",
                            x: "0",
                            y: "0",
                            alpha: "1"
                        }]
                    }]
                }, {
                    type: 0,
                    name: "paginationInfoBg",
                    assetKey: "paginationInfoBg",
                    x: "0",
                    y: "918",
                    alpha: "1"
                }, {
                    type: 0,
                    name: "menuPlateBg",
                    assetKey: "menuPlateBg",
                    x: "0",
                    y: "926",
                    alpha: "1"
                }, {
                    type: 0,
                    name: "settingsContainerBg",
                    assetKey: "settingsContainerBg",
                    x: "0",
                    y: "0",
                    alpha: "1",
                    inputEnabled: !0
                }]
            }]
        }
    }
};
nge.App[nge.appNS].Tpl.Groups.Mobile.Ui = function() {
    var d = nge.appPath + "img/";
    return {
        styles: {
            ".buttonStyleNormal": {
                anchorX: .5,
                anchorY: .5,
                style: {
                    fill: "#fec36d"
                }
            },
            ".buttonStylePressed": {
                anchorX: .5,
                anchorY: .5,
                style: {
                    fill: "#5d4739"
                }
            },
            ".freeSpinFreeGameText": {
                anchorX: .5,
                anchorY: .5,
                style: {
                    font: "22pt FuturaPTHeavy",
                    fill: "#efc273"
                }
            },
            ".freeSpinPlayedAmount": {
                anchorX: .5,
                anchorY: .5,
                style: {
                    font: "22pt FuturaPTHeavy",
                    fill: "#efc273"
                }
            },
            ".freeSpinOfText": {
                anchorX: .5,
                anchorY: .5,
                style: {
                    font: "22pt FuturaPTHeavy",
                    fill: "#efc273"
                }
            },
            ".freeSpinTotalAmount": {
                anchorX: .5,
                anchorY: .5,
                style: {
                    font: "22pt FuturaPTHeavy",
                    fill: "#efc273"
                }
            },
            ".infoPanelMobileTitle": {
                anchorX: .5,
                style: {
                    font: "28pt FuturaPTHeavy",
                    fill: "#efe1bf",
                    stroke: "#432213",
                    strokeThickness: "5"
                }
            },
            ".totalBetNumber": {
                anchorX: .5,
                anchorY: .5,
                style: {
                    font: "28pt FuturaPTHeavy",
                    fill: "#e5e7db"
                }
            },
            ".creditsTotalBetNumber": {
                anchorX: .5,
                anchorY: .5,
                style: {
                    font: "28pt FuturaPTHeavy",
                    fill: "#e5e7db"
                }
            },
            ".creditsNumber": {
                anchorX: .5,
                anchorY: .5,
                style: {
                    font: "28pt FuturaPTHeavy",
                    fill: "#e5e7db"
                }
            },
            ".balanceNumber": {
                anchorX: .5,
                anchorY: .5,
                style: {
                    font: "28pt FuturaPTHeavy",
                    fill: "#e5e7db"
                }
            },
            ".winNumber": {
                anchorX: .5,
                anchorY: .5,
                style: {
                    font: "37pt FuturaPTHeavy",
                    fill: "#ffffff"
                }
            },
            ".creditsWinNumber": {
                anchorX: .5,
                anchorY: .5,
                style: {
                    font: "37pt FuturaPTHeavy",
                    fill: "#ffffff"
                }
            }
        },
        assets: {
            name: "assets",
            contents: [{
                    key: "winbg",
                    fullPath: d + "playarea/winbg.png"
                }, {
                    key: "balancebg",
                    fullPath: d + "playarea/balancebg.png"
                }, {
                    key: "totalbetbg",
                    fullPath: d + "playarea/totalbetbg.png"
                }, {
                    key: "balanceMobileNumber(class=playAreaTextMobile balanceNumber, font=28pt FuturaPTHeavy, anchorX=0.5, anchorY=0.5, fill=#e5e7db)_text",
                    fullPath: d + "playarea/balanceMobileNumber(class=playAreaTextMobile balanceNumber, font=28pt FuturaPTHeavy, anchorX=0.5, anchorY=0.5, fill=#e5e7db)_text.png"
                }, {
                    key: "balanceMobileContainerArea(width=440, height=96, class=currencyChanger, anchorX=0.5, anchorY=0.5)_clickableArea",
                    fullPath: d + "playarea/balanceMobileContainerArea(width=440, height=96, class=currencyChanger, anchorX=0.5, anchorY=0.5)_clickableArea.png"
                }, {
                    key: "balanceCoinsMobileNumber(class=playAreaTextMobile creditsNumber, font=28pt FuturaPTHeavy, anchorX=0.5, anchorY=0.5, fill=#e5e7db)_text",
                    fullPath: d + "playarea/balanceCoinsMobileNumber(class=playAreaTextMobile creditsNumber, font=28pt FuturaPTHeavy, anchorX=0.5, anchorY=0.5, fill=#e5e7db)_text.png"
                }, {
                    key: "balanceCoinsMobileContainerArea(width=440, height=96, class=currencyChanger, anchorX=0.5, anchorY=0.5)_clickableArea",
                    fullPath: d + "playarea/balanceCoinsMobileContainerArea(width=440, height=96, class=currencyChanger, anchorX=0.5, anchorY=0.5)_clickableArea.png"
                }, {
                    key: "creditsWinMobileNumber(class=playAreaTextMobile creditsWinNumber, font=37pt FuturaPTHeavy, anchorX=0.5, anchorY=0.5, fill=#ffffff)_text",
                    fullPath: d + "playarea/creditsWinMobileNumber(class=playAreaTextMobile creditsWinNumber, font=37pt FuturaPTHeavy, anchorX=0.5, anchorY=0.5, fill=#ffffff)_text.png"
                }, {
                    key: "winMobileNumber(class=playAreaTextMobile winNumber, font=37pt FuturaPTHeavy, anchorX=0.5, anchorY=0.5, fill=#ffffff)_text",
                    fullPath: d + "playarea/winMobileNumber(class=playAreaTextMobile winNumber, font=37pt FuturaPTHeavy, anchorX=0.5, anchorY=0.5, fill=#ffffff)_text.png"
                }, {
                    key: "winMobileContainerArea(width=556, height=140, class=currencyChanger, anchorX=0.5, anchorY=0.5)_clickableArea",
                    fullPath: d + "playarea/winMobileContainerArea(width=556, height=140, class=currencyChanger, anchorX=0.5, anchorY=0.5)_clickableArea.png"
                }, {
                    key: "totalBetCoinsMobileNumber(class=playAreaTextMobile creditsTotalBetNumber, font=28pt FuturaPTHeavy, anchorX=0.5, anchorY=0.5, fill=#e5e7db)_text",
                    fullPath: d + "playarea/totalBetCoinsMobileNumber(class=playAreaTextMobile creditsTotalBetNumber, font=28pt FuturaPTHeavy, anchorX=0.5, anchorY=0.5, fill=#e5e7db)_text.png"
                }, {
                    key: "totalBetMobileContainerArea(width=232, height=96, class=currencyChanger, anchorX=0.5, anchorY=0.5)_clickableArea",
                    fullPath: d + "playarea/totalBetMobileContainerArea(width=232, height=96, class=currencyChanger, anchorX=0.5, anchorY=0.5)_clickableArea.png"
                }, {
                    key: "totalBetMobilleNumber(class=playAreaTextMobile totalBetNumber, font=28pt FuturaPTHeavy, anchorX=0.5, anchorY=0.5, fill=#e5e7db)_text",
                    fullPath: d + "playarea/totalBetMobilleNumber(class=playAreaTextMobile totalBetNumber, font=28pt FuturaPTHeavy, anchorX=0.5, anchorY=0.5, fill=#e5e7db)_text.png"
                }, {
                    key: "totalBetMobileContainerArea(width=232, height=96, class=currencyChanger, anchorX=0.5, anchorY=0.5)_clickableArea",
                    fullPath: d + "playarea/totalBetMobileContainerArea(width=232, height=96, class=currencyChanger, anchorX=0.5, anchorY=0.5)_clickableArea.png"
                }, {
                    key: "coinPlusButtonMobileButton(spritesX=4)_button",
                    fullPath: d + "playarea/coinPlusButtonMobileButton(spritesX=4)_button.png"
                }, {
                    key: "coinMinusButtonMobileButton(spritesX=4)_button",
                    fullPath: d + "playarea/coinMinusButtonMobileButton(spritesX=4)_button.png"
                }, {
                    key: "totalBetMobileName(text=TOTAL BET, font=28pt FuturaPTHeavy, fill=#efe1bf, anchorX=0.5, anchorY=0.5, stroke=#432213, strokeThickness=5)_text",
                    fullPath: d + "playarea/totalBetMobileName(text=TOTAL BET, font=28pt FuturaPTHeavy, fill=#efe1bf, anchorX=0.5, anchorY=0.5, stroke=#432213, strokeThickness=5)_text.png"
                }, {
                    key: "winMobileName(text=WIN, font=28pt FuturaPTHeavy, fill=#efe1bf, anchorX=0.5, anchorY=0.5, stroke=#432213, strokeThickness=5)_text",
                    fullPath: d + "playarea/winMobileName(text=WIN, font=28pt FuturaPTHeavy, fill=#efe1bf, anchorX=0.5, anchorY=0.5, stroke=#432213, strokeThickness=5)_text.png"
                }, {
                    key: "balanceMobileName(text=BALANCE, font=28pt FuturaPTHeavy, fill=#efe1bf, anchorX=0.5, anchorY=0.5, stroke=#432213, strokeThickness=5)_text",
                    fullPath: d + "playarea/balanceMobileName(text=BALANCE, font=28pt FuturaPTHeavy, fill=#efe1bf, anchorX=0.5, anchorY=0.5, stroke=#432213, strokeThickness=5)_text.png"
                }, {
                    key: "counterFreeSpinsText4(text=2, font=22pt FuturaPTHeavy, fill=#efc273, anchorX=0.5, anchorY=0.5, class=freeSpinTotalAmount)_text",
                    fullPath: d + "playarea/counterFreeSpinsText4(text=2, font=22pt FuturaPTHeavy, fill=#efc273, anchorX=0.5, anchorY=0.5, class=freeSpinTotalAmount)_text.png"
                }, {
                    key: "counterFreeSpinsText3(text=OF, font=22pt FuturaPTHeavy, fill=#efc273, anchorX=0.5, anchorY=0.5)_text",
                    fullPath: d + "playarea/counterFreeSpinsText3(text=OF, font=22pt FuturaPTHeavy, fill=#efc273, anchorX=0.5, anchorY=0.5)_text.png"
                }, {
                    key: "counterFreeSpinsText2(text=2, font=22pt FuturaPTHeavy, fill=#efc273, anchorX=0.5, anchorY=0.5, class=freeSpinPlayedAmount)_text",
                    fullPath: d + "playarea/counterFreeSpinsText2(text=2, font=22pt FuturaPTHeavy, fill=#efc273, anchorX=0.5, anchorY=0.5, class=freeSpinPlayedAmount)_text.png"
                }, {
                    key: "counterFreeSpinsText1(text=FREE GAME:, class=freeSpinFreeGameText)_text",
                    fullPath: d +
                        "playarea/counterFreeSpinsText1(text=FREE GAME:, class=freeSpinFreeGameText)_text.png"
                }, {
                    key: "settingPanelBackBg(assetKey=settingPanelMobileBackBg1, width=128, height=355, top=20.5, bottom=20.5, anchorX=0.5, anchorY=0.5)_nineSlice",
                    fullPath: d + "playarea/settingPanelBackBg(assetKey=settingPanelMobileBackBg11, width=128, height=355, top=20.5, bottom=20.5, left=0, right=0, anchorX=0.5, anchorY=0.5)_nineSlice.png"
                }, {
                    key: "settingPanelMobileBackBg1_asset",
                    fullPath: d + "playarea/settingPanelMobileBackBg.png"
                },
                {
                    key: "helpMobileButtonButton(spritesX=4, screenGoTo=info bounce)_button",
                    fullPath: d + "playarea/helpMobileButtonButton(spritesX=4, screenGoTo=info bounce)_button.png"
                }, {
                    key: "soundMobileButtonButton(spritesX=10)_button",
                    fullPath: d + "playarea/soundMobileButtonButton(spritesX=10)_button.png"
                }, {
                    key: "quickSettingsPanelMobileButtonButton(spritesX=6)_button",
                    fullPath: d + "playarea/quickSettingsPanelMobileButtonButton(spritesX=6)_button.png"
                }, {
                    key: "spinButtonMobileButton(spritesX=4)_button",
                    fullPath: d + "playarea/spinButtonMobileButton(spritesX=4)_button.png"
                },
                {
                    key: "takeButtonMobileButton(spritesX=4)_button",
                    fullPath: d + "playarea/takeButtonMobileButton(spritesX=4)_button.png"
                }, {
                    key: "stopButtonMobileButton(spritesX=4)_button",
                    fullPath: d + "playarea/stopButtonMobileButton(spritesX=4)_button.png"
                }, {
                    key: "autoSpinButtonMobileButton_button",
                    fullPath: d + "playarea/autoSpinButtonMobileButton_button.png"
                }, {
                    key: "autoButtonMobileName1(text=AUTO\nON, font=22pt FuturaPTHeavy, class=buttonStyleNormal)_text",
                    fullPath: d + "playarea/autoButtonMobileName1(text=AUTO\nON, font=22pt FuturaPTHeavy, class=buttonStyleNormal)_text.png"
                },
                {
                    key: "betSettingButtonMobileButton(spritesX=4)_button",
                    fullPath: d + "playarea/betSettingButtonMobileButton(spritesX=4)_button.png"
                }, {
                    key: "cash_asset",
                    fullPath: d + "playarea/cash_asset.png"
                }, {
                    key: "home_asset",
                    frameWidth: 144,
                    fullPath: d + "playarea/home_asset.png"
                }, {
                    key: "gambleButtonMobileButton_button",
                    fullPath: d + "playarea/gambleButtonMobileButton_button.png"
                }, {
                    key: "gambleMobileButtonName(text=x2, class=buttonStyleNormal, font=42pt FuturaPTHeavy)_text",
                    fullPath: d + "playarea/gambleMobileButtonName(text=x2, class=buttonStyleNormal, font=42pt FuturaPTHeavy)_text.png"
                }
            ]
        },
        objects: {
            name: "objects",
            contents: [{
                type: 0,
                name: "settingPanelMobileBackBg1_asset",
                assetKey: "settingPanelMobileBackBg1_asset",
                x: "768",
                y: "726",
                alpha: "1"
            }, {
                type: 1,
                name: "buttonsMobileContainer",
                alpha: "1",
                contents: [{
                    type: 1,
                    name: "gambleButtonMobile",
                    alpha: "1",
                    contents: [{
                        type: 0,
                        name: "gambleMobileButtonName(text=x2, class=buttonStyleNormal, font=42pt FuturaPTHeavy)_text",
                        assetKey: "gambleMobileButtonName(text=x2, class=buttonStyleNormal, font=42pt FuturaPTHeavy)_text",
                        x: "1737",
                        y: "728",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "gambleButtonMobileButton_button",
                        assetKey: "gambleButtonMobileButton_button",
                        x: "1647",
                        y: "639",
                        alpha: "1"
                    }]
                }, {
                    type: 1,
                    name: "assets",
                    alpha: "1",
                    contents: [{
                        type: 0,
                        name: "home_asset",
                        assetKey: "home_asset",
                        x: "30",
                        y: "4",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "cash_asset",
                        assetKey: "cash_asset",
                        x: "1635",
                        y: "626",
                        alpha: "1"
                    }]
                }, {
                    type: 1,
                    name: "betSettingButtonMobile",
                    alpha: "1",
                    contents: [{
                        type: 0,
                        name: "betSettingButtonMobileButton(spritesX=4)_button",
                        assetKey: "betSettingButtonMobileButton(spritesX=4)_button",
                        x: "1750",
                        y: "937",
                        alpha: "1"
                    }]
                }, {
                    type: 1,
                    name: "autoSpinButtonMobile",
                    alpha: "1",
                    contents: [{
                        type: 0,
                        name: "autoButtonMobileName1(text=AUTO\nON, font=22pt FuturaPTHeavy, class=buttonStyleNormal)_text",
                        assetKey: "autoButtonMobileName1(text=AUTO\nON, font=22pt FuturaPTHeavy, class=buttonStyleNormal)_text",
                        x: "1741",
                        y: "224",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "autoSpinButtonMobileButton_button",
                        assetKey: "autoSpinButtonMobileButton_button",
                        x: "1648",
                        y: "132",
                        alpha: "1"
                    }]
                }, {
                    type: 1,
                    name: "stopButtonMobile",
                    alpha: "1",
                    contents: [{
                        type: 0,
                        name: "stopButtonMobileButton(spritesX=4)_button",
                        assetKey: "stopButtonMobileButton(spritesX=4)_button",
                        x: "1590",
                        y: "328",
                        alpha: "1"
                    }]
                }, {
                    type: 1,
                    name: "takeButtonMobile",
                    alpha: "1",
                    contents: [{
                        type: 0,
                        name: "takeButtonMobileButton(spritesX=4)_button",
                        assetKey: "takeButtonMobileButton(spritesX=4)_button",
                        x: "1590",
                        y: "328",
                        alpha: "1"
                    }]
                }, {
                    type: 1,
                    name: "playButtonMobile",
                    alpha: "1",
                    contents: [{
                        type: 0,
                        name: "spinButtonMobileButton(spritesX=4)_button",
                        assetKey: "spinButtonMobileButton(spritesX=4)_button",
                        x: "1590",
                        y: "328",
                        alpha: "1"
                    }]
                }]
            }, {
                type: 1,
                name: "settingBottomUIMobileContainer",
                alpha: "1",
                contents: [{
                    type: 1,
                    name: "infoPanelPlusMobileButton",
                    alpha: "1",
                    contents: [{
                        type: 0,
                        name: "quickSettingsPanelMobileButtonButton(spritesX=6)_button",
                        assetKey: "quickSettingsPanelMobileButtonButton(spritesX=6)_button",
                        x: 52,
                        y: 951,
                        alpha: "1"
                    }]
                }, {
                    type: 1,
                    name: "soundOffOnMobileButtonButton",
                    alpha: "1",
                    contents: [{
                        type: 0,
                        name: "soundMobileButtonButton(spritesX=10)_button",
                        assetKey: "soundMobileButtonButton(spritesX=10)_button",
                        x: "56",
                        y: "733",
                        alpha: "1"
                    }]
                }, {
                    type: 1,
                    name: "helpMobileButtonButtonPanel",
                    alpha: "1",
                    contents: [{
                        type: 0,
                        name: "helpMobileButtonButton(spritesX=4, screenGoTo=info bounce)_button",
                        assetKey: "helpMobileButtonButton(spritesX=4, screenGoTo=info bounce)_button",
                        x: "56",
                        y: "842",
                        alpha: "1"
                    }]
                }, {
                    type: 0,
                    name: "settingPanelMobileBackBg(assetKey=settingPanelMobileBackBg1, width=128, height=355, top=64, bottom=64, left=64, right=64)_nineSlice",
                    assetKey: "settingPanelMobileBackBg(assetKey=settingPanelMobileBackBg1, width=128, height=355, top=20.5, bottom=20.5, left=0, right=0, anchorX=0.5, anchorY=0.5)_nineSlice",
                    x: 38,
                    y: 1064,
                    anchorY: 1,
                    alpha: "1"
                }]
            }, {
                type: 1,
                name: "gameFreeSpinMobileContainer",
                alpha: "1",
                contents: [{
                    type: 0,
                    name: "counterFreeSpinsText1(text=FREE GAME:, class=freeSpinFreeGameText)_text",
                    assetKey: "counterFreeSpinsText1(text=FREE GAME:, class=freeSpinFreeGameText)_text",
                    x: "883",
                    y: "1017",
                    alpha: "1"
                }, {
                    type: 0,
                    name: "counterFreeSpinsText2(text=2, class=freeSpinPlayedAmount)_text",
                    assetKey: "counterFreeSpinsText2(text=2, font=22pt FuturaPTHeavy, fill=#efc273, anchorX=0.5, anchorY=0.5, class=freeSpinPlayedAmount)_text",
                    x: "994",
                    y: "1017",
                    alpha: "1"
                }, {
                    type: 0,
                    name: "counterFreeSpinsText3(text=OF, class=freeSpinOfText)_text",
                    assetKey: "counterFreeSpinsText3(text=OF, font=22pt FuturaPTHeavy, fill=#efc273, anchorX=0.5, anchorY=0.5)_text",
                    x: "1045",
                    y: "1017",
                    alpha: "1"
                }, {
                    type: 0,
                    name: "counterFreeSpinsText4(text=2, class=freeSpinTotalAmount)_text",
                    assetKey: "counterFreeSpinsText4(text=2, font=22pt FuturaPTHeavy, fill=#efc273, anchorX=0.5, anchorY=0.5, class=freeSpinTotalAmount)_text",
                    x: "1096",
                    y: "1017",
                    alpha: "1"
                }]
            }, {
                type: 1,
                name: "infoPanelMobileContainer",
                alpha: "1",
                contents: [{
                    type: 0,
                    name: "balanceMobileName(text=BALANCE, class=infoPanelMobileTitle)_text",
                    assetKey: "balanceMobileName(text=BALANCE, font=28pt FuturaPTHeavy, fill=#efe1bf, anchorX=0.5, anchorY=0.5, stroke=#432213, strokeThickness=5)_text",
                    x: "1501",
                    y: "908",
                    alpha: "1"
                }, {
                    type: 0,
                    name: "winMobileName(text=WIN, class=infoPanelMobileTitle)_text",
                    assetKey: "winMobileName(text=WIN, font=28pt FuturaPTHeavy, fill=#efe1bf, anchorX=0.5, anchorY=0.5, stroke=#432213, strokeThickness=5)_text",
                    x: "965",
                    y: "881",
                    alpha: "1"
                }, {
                    type: 0,
                    name: "totalBetMobileName(text=TOTAL BET, class=infoPanelMobileTitle)_text",
                    assetKey: "totalBetMobileName(text=TOTAL BET, font=28pt FuturaPTHeavy, fill=#efe1bf, anchorX=0.5, anchorY=0.5, stroke=#432213, strokeThickness=5)_text",
                    x: "430",
                    y: "908",
                    alpha: "1"
                }, {
                    type: 1,
                    name: "coinMinusButtonMobile",
                    alpha: "1",
                    contents: [{
                        type: 0,
                        name: "coinMinusButtonMobileButton(spritesX=4)_button",
                        assetKey: "coinMinusButtonMobileButton(spritesX=4)_button",
                        x: "214",
                        y: "962",
                        alpha: "1"
                    }]
                }, {
                    type: 1,
                    name: "coinPlusButtonMobile",
                    alpha: "1",
                    contents: [{
                        type: 0,
                        name: "coinPlusButtonMobileButton(spritesX=4)_button",
                        assetKey: "coinPlusButtonMobileButton(spritesX=4)_button",
                        x: "553",
                        y: "962",
                        alpha: "1"
                    }]
                }, {
                    type: 1,
                    name: "totalBetMobileContaner",
                    alpha: "1",
                    contents: [{
                        type: 1,
                        name: "totalBetMobileContent_container",
                        alpha: "1",
                        contents: [{
                            type: 0,
                            name: "totalBetMobileContainerArea(width=232, height=96, class=currencyChanger, anchorX=0.5, anchorY=0.5)_clickableArea",
                            assetKey: "totalBetMobileContainerArea(width=232, height=96, class=currencyChanger, anchorX=0.5, anchorY=0.5)_clickableArea",
                            x: "430",
                            y: "1007",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "totalBetMobilleNumber(class=playAreaTextMobile totalBetNumber)_text",
                            assetKey: "totalBetMobilleNumber(class=playAreaTextMobile totalBetNumber, font=28pt FuturaPTHeavy, anchorX=0.5, anchorY=0.5, fill=#e5e7db)_text",
                            x: "430",
                            y: "1007",
                            alpha: "1"
                        }]
                    }, {
                        type: 1,
                        name: "totalBetMobileCoinsContent_container",
                        alpha: "1",
                        contents: [{
                            type: 0,
                            name: "totalBetMobileContainerArea(width=232, height=96, class=currencyChanger, anchorX=0.5, anchorY=0.5)_clickableArea",
                            assetKey: "totalBetMobileContainerArea(width=232, height=96, class=currencyChanger, anchorX=0.5, anchorY=0.5)_clickableArea",
                            x: "430",
                            y: "1007",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "totalBetCoinsMobileNumber(class=playAreaTextMobile creditsTotalBetNumber)_text",
                            assetKey: "totalBetCoinsMobileNumber(class=playAreaTextMobile creditsTotalBetNumber, font=28pt FuturaPTHeavy, anchorX=0.5, anchorY=0.5, fill=#e5e7db)_text",
                            x: "430",
                            y: "1007",
                            alpha: "1"
                        }]
                    }]
                }, {
                    type: 1,
                    name: "winBottomlUIMobileContainer",
                    alpha: "1",
                    contents: [{
                        type: 0,
                        name: "winMobileContainerArea(width=556, height=140, class=currencyChanger, anchorX=0.5, anchorY=0.5)_clickableArea",
                        assetKey: "winMobileContainerArea(width=556, height=140, class=currencyChanger, anchorX=0.5, anchorY=0.5)_clickableArea",
                        x: "960",
                        y: "989",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "winMobileNumber(class=playAreaTextMobile winNumber)_text",
                        assetKey: "winMobileNumber(class=playAreaTextMobile winNumber, font=37pt FuturaPTHeavy, anchorX=0.5, anchorY=0.5, fill=#ffffff)_text",
                        x: "967",
                        y: "989",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "creditsWinMobileNumber(class=playAreaTextMobile creditsWinNumber)_text",
                        assetKey: "creditsWinMobileNumber(class=playAreaTextMobile creditsWinNumber, font=37pt FuturaPTHeavy, anchorX=0.5, anchorY=0.5, fill=#ffffff)_text",
                        x: "967",
                        y: "989",
                        alpha: "1"
                    }]
                }, {
                    type: 1,
                    name: "balanceMobileContainer",
                    alpha: "1",
                    contents: [{
                        type: 1,
                        name: "balanceMobileCoinsContent_container",
                        alpha: "1",
                        contents: [{
                            type: 0,
                            name: "balanceCoinsMobileContainerArea(width=440, height=96, class=currencyChanger, anchorX=0.5, anchorY=0.5)_clickableArea",
                            assetKey: "balanceCoinsMobileContainerArea(width=440, height=96, class=currencyChanger, anchorX=0.5, anchorY=0.5)_clickableArea",
                            x: "1497",
                            y: "1007",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "balanceCoinsMobileNumber(class=playAreaTextMobile creditsNumber)_text",
                            assetKey: "balanceCoinsMobileNumber(class=playAreaTextMobile creditsNumber, font=28pt FuturaPTHeavy, anchorX=0.5, anchorY=0.5, fill=#e5e7db)_text",
                            x: "1497",
                            y: "1007",
                            alpha: "1"
                        }]
                    }, {
                        type: 1,
                        name: "balanceMobileContent_container",
                        alpha: "1",
                        contents: [{
                            type: 0,
                            name: "balanceMobileContainerArea(width=440, height=96, class=currencyChanger, anchorX=0.5, anchorY=0.5)_clickableArea",
                            assetKey: "balanceMobileContainerArea(width=440, height=96, class=currencyChanger, anchorX=0.5, anchorY=0.5)_clickableArea",
                            x: "1497",
                            y: "1007",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "balanceMobileNumber(class=playAreaTextMobile balanceNumber)_text",
                            assetKey: "balanceMobileNumber(class=playAreaTextMobile balanceNumber, font=28pt FuturaPTHeavy, anchorX=0.5, anchorY=0.5, fill=#e5e7db)_text",
                            x: "1497",
                            y: "1007",
                            alpha: "1"
                        }]
                    }]
                }, {
                    type: 0,
                    name: "totalbetbg",
                    assetKey: "totalbetbg",
                    x: "202",
                    y: "950",
                    alpha: "1"
                }, {
                    type: 0,
                    name: "balancebg",
                    assetKey: "balancebg",
                    x: "1273",
                    y: "950",
                    alpha: "1"
                }, {
                    type: 0,
                    name: "winbg",
                    assetKey: "winbg",
                    x: "681",
                    y: "924",
                    alpha: "1"
                }]
            }]
        }
    }
};
nge.App[nge.appNS].Tpl.Groups.Mobile.PlayStyles = function() {
    return {
        styles: {
            ".center": {
                anchorX: .5,
                anchorY: .5
            },
            ".playAreaTextMobile": {
                style: {
                    font: '30pt "roboto_condensed_regular"',
                    fill: "#ffffff",
                    align: "left"
                }
            },
            ".playAreaTextMobile.creditsText": {
                style: {
                    font: '24pt "roboto_condensed_regular"'
                }
            },
            ".playAreaTextMobile.creditsNumber": {
                style: {
                    font: '26pt "roboto_condensed_bold"',
                    fill: "#fff",
                    align: "left"
                }
            },
            ".playAreaTextMobile.balanceText": {
                style: {
                    font: '24pt "roboto_condensed_regular"'
                }
            },
            ".playAreaTextMobile.balanceNumber": {
                style: {
                    font: '26pt "roboto_condensed_bold"',
                    fill: "#fff",
                    align: "left"
                }
            },
            ".playAreaTextMobile.currency": {
                style: {
                    font: '26pt "roboto_condensed_bold"',
                    fill: "#006590"
                }
            },
            ".playAreaTextMobile.infoPanelTextUp": {
                style: {
                    font: '22pt "roboto_condensed_regular"'
                }
            },
            ".playAreaTextMobile.infoPanelTextDown": {
                style: {
                    font: '26pt "roboto_condensed_regular"',
                    fill: "#bababa",
                    stroke: "#000000",
                    strokeThickness: 4
                }
            },
            ".playAreaTextMobile.linesText": {
                style: {
                    font: '24pt "roboto_condensed_regular"'
                }
            },
            ".playAreaTextMobile.linesNumber": {
                style: {
                    font: '26pt "roboto_condensed_bold"',
                    fill: "#fff"
                }
            },
            ".playAreaTextMobile.totalBetText": {
                style: {
                    font: '24pt "roboto_condensed_regular"'
                }
            },
            ".playAreaTextMobile.creditsTotalBetNumber": {
                style: {
                    font: '26pt "roboto_condensed_bold"',
                    fill: "#fff"
                }
            },
            ".playAreaTextMobile.creditsWinText": {
                style: {
                    font: '24pt "roboto_condensed_regular"'
                }
            },
            ".playAreaTextMobile.creditsWinNumberMobile": {
                style: {
                    font: '26pt "roboto_condensed_bold"',
                    fill: "#f1e427",
                    align: "left"
                }
            }
        }
    }
};
nge.App[nge.appNS].Tpl.Groups.Mobile.UI_v3 = {};
nge.App[nge.appNS].Tpl.Groups.Mobile.UI_v3.Offers = function() {
    return nge.App[nge.appNS].Tpl.Groups.UI_v3.Offers()
};
nge.App[nge.appNS].Tpl.Groups.Mobile.UI_v3.Blue = {};
nge.App[nge.appNS].Tpl.Groups.Mobile.UI_v3.Blue.Offers = function() {
    return nge.App[nge.appNS].Tpl.Groups.UI_v3.Blue.Offers()
};
nge.App[nge.appNS].Tpl.Groups.Mobile.UI_v3.Silver = {};
nge.App[nge.appNS].Tpl.Groups.Mobile.UI_v3.Silver.Offers = function() {
    return nge.App[nge.appNS].Tpl.Groups.UI_v3.Silver.Offers()
};
nge.App[nge.appNS].Tpl.Groups.Mobile.Blue = {};
nge.App[nge.appNS].Tpl.Groups.Mobile.Blue.BetSettings = function() {
    var d = nge.App[nge.appNS].Tpl.Groups.BetSettings();
    d.styles[".sliderMinMax"].style.fill = "#CBEBFF";
    d.styles[".settingName"].style.fill = "#FFFFFF";
    d.styles[".betContainerName"].style.fill = "#FFFFFF";
    d.styles[".betContainerValue"].style.fill = "#ffffff";
    d.styles[".sliderValue"].style.fill = "#FFFFFF";
    d.styles[".sliderTooltipValue"].style.fill = "#000000";
    return d
};
nge.App[nge.appNS].Tpl.Groups.Mobile.Blue.ScrollbarVertical = function(d) {
    d = nge.App[nge.appNS].Tpl.Groups.ScrollbarVertical(d);
    var b = d.assets.contents.filter(function(b) {
        return -1 !== b.fullPath.indexOf("scroll_bg")
    })[0];
    b.fullPath = b.fullPath.replace("scroll_bg", "scroll_bg1");
    b = d.assets.contents.filter(function(b) {
        return -1 !== b.fullPath.indexOf("scroll_touch")
    })[0];
    b.fullPath = b.fullPath.replace("scroll_touch", "scroll_touch1");
    return d
};
nge.App[nge.appNS].Tpl.Groups.Mobile.Blue.Tabs = function() {
    var d = nge.App[nge.appNS].Tpl.Groups.Mobile.Tabs();
    d.styles["^headersContainer .active .tabHeaderText"].style.fill = "#0092E8";
    return d
};
nge.App[nge.appNS].Tpl.Groups.Mobile.Blue.Ui = function() {
    var d = nge.App[nge.appNS].Tpl.Groups.Mobile.Ui();
    d.styles[".buttonStyleNormal"].style.fill = "#CAEAFF";
    d.styles[".buttonStylePressed"].style.fill = "#84A7BA";
    d.styles[".freeSpinFreeGameText"].style.fill = "#CBEBFF";
    d.styles[".freeSpinPlayedAmount"].style.fill = "#CBEBFF";
    d.styles[".freeSpinOfText"].style.fill = "#CBEBFF";
    d.styles[".freeSpinTotalAmount"].style.fill = "#CBEBFF";
    d.styles[".infoPanelMobileTitle"].style.fill = "#CBEBFF";
    d.styles[".infoPanelMobileTitle"].style.stroke =
        "#00274A";
    d.styles[".totalBetNumber"].style.fill = "#FFFFFF";
    d.styles[".creditsTotalBetNumber"].style.fill = "#FFFFFF";
    d.styles[".creditsNumber"].style.fill = "#FFFFFF";
    d.styles[".balanceNumber"].style.fill = "#FFFFFF";
    d.styles[".winNumber"].style.fill = "#ffffff";
    d.styles[".creditsWinNumber"].style.fill = "#ffffff";
    return d
};
nge.App[nge.appNS].Tpl.Groups.Mobile.Silver = {};
nge.App[nge.appNS].Tpl.Groups.Mobile.Silver.BetSettings = function() {
    var d = nge.App[nge.appNS].Tpl.Groups.BetSettings();
    d.styles[".sliderMinMax"].style.fill = "#DDDDDD";
    d.styles[".settingName"].style.fill = "#FFFFFF";
    d.styles[".betContainerName"].style.fill = "#FFFFFF";
    d.styles[".betContainerValue"].style.fill = "#ffffff";
    d.styles[".sliderValue"].style.fill = "#FFFFFF";
    d.styles[".sliderTooltipValue"].style.fill = "#000000";
    return d
};
nge.App[nge.appNS].Tpl.Groups.Mobile.Silver.ScrollbarVertical = function(d) {
    d = nge.App[nge.appNS].Tpl.Groups.ScrollbarVertical(d);
    var b = d.assets.contents.filter(function(b) {
        return -1 !== b.fullPath.indexOf("scroll_bg")
    })[0];
    b.fullPath = b.fullPath.replace("scroll_bg", "scroll_bg2");
    b = d.assets.contents.filter(function(b) {
        return -1 !== b.fullPath.indexOf("scroll_touch")
    })[0];
    b.fullPath = b.fullPath.replace("scroll_touch", "scroll_touch2");
    return d
};
nge.App[nge.appNS].Tpl.Groups.Mobile.Silver.Tabs = function() {
    var d = nge.App[nge.appNS].Tpl.Groups.Mobile.Tabs();
    d.styles["^headersContainer .active .tabHeaderText"].style.fill = "#FFFFFF";
    d.styles["^headersContainer .tabHeaderText"].style.fill = "#707070";
    return d
};
nge.App[nge.appNS].Tpl.Groups.Mobile.Silver.Ui = function() {
    var d = nge.App[nge.appNS].Tpl.Groups.Mobile.Ui();
    d.styles[".buttonStyleNormal"].style.fill = "#DDDDDD";
    d.styles[".buttonStylePressed"].style.fill = "#3D3D3D";
    d.styles[".freeSpinFreeGameText"].style.fill = "#DDDDDD";
    d.styles[".freeSpinPlayedAmount"].style.fill = "#DDDDDD";
    d.styles[".freeSpinOfText"].style.fill = "#DDDDDD";
    d.styles[".freeSpinTotalAmount"].style.fill = "#DDDDDD";
    d.styles[".infoPanelMobileTitle"].style.fill = "#DDDDDD";
    d.styles[".infoPanelMobileTitle"].style.stroke =
        "#3D3D3D";
    d.styles[".totalBetNumber"].style.fill = "#FFFFFF";
    d.styles[".creditsTotalBetNumber"].style.fill = "#FFFFFF";
    d.styles[".creditsNumber"].style.fill = "#FFFFFF";
    d.styles[".balanceNumber"].style.fill = "#FFFFFF";
    d.styles[".winNumber"].style.fill = "#ffffff";
    d.styles[".creditsWinNumber"].style.fill = "#ffffff";
    return d
};
nge.App[nge.appNS].Tpl.Groups.UI_v3 = {};
nge.App[nge.appNS].Tpl.Groups.UI_v3.Offers = function() {
    var d = nge.appPath + "img/";
    return {
        styles: {
            ".rightbox": {
                style: {
                    font: "28pt futuraptmedium",
                    fill: "#fff"
                }
            },
            ".leftbox": {
                style: {
                    font: "28pt futuraptmedium",
                    fill: "#f0e1bf"
                }
            },
            ".congratulations": {
                style: {
                    font: "bold 57pt FuturaPTHeavy",
                    fill: "#fff"
                }
            },
            ".offerTitle": {
                style: {
                    font: "30pt FuturaPTHeavy",
                    fill: "#f0e1bf",
                    align: "center"
                }
            },
            ".offerNum": {
                style: {
                    font: "30pt FuturaPTHeavy",
                    fill: "#f0e1bf"
                }
            },
            ".offerPlayLater": {
                style: {
                    font: "23pt FuturaPTHeavy",
                    fill: "#efc272"
                }
            },
            ".offerPlayNow": {
                style: {
                    font: "32pt FuturaPTHeavy",
                    fill: "#efc272"
                }
            },
            ".yourWinIs": {
                style: {
                    font: "28pt FuturaPTHeavy",
                    fill: "#fff",
                    align: "center"
                }
            },
            ".offersWin": {
                style: {
                    font: "144pt FuturaPTHeavy",
                    fill: "#fec36d"
                }
            }
        },
        assets: {
            name: "assets",
            contents: [{
                    key: "offersBG(scaleX=1920, scaleY=1080, class=cover)_cover",
                    fullPath: d + "playarea/offersBG(scaleX=1920, scaleY=1080, class=cover)_cover.png"
                }, {
                    key: "offersBg",
                    fullPath: d + "playarea/offersBg.png"
                }, {
                    key: "closeOffersButtonButton(spritesX=4)_button",
                    fullPath: d + "playarea/closeOffersButtonButton(spritesX=4)_button.png"
                },
                {
                    key: "offerBackToGameButtonButton(spritesX=4)_button",
                    fullPath: d + "playarea/offerBackToGameButtonButton(spritesX=4)_button.png"
                }, {
                    key: "offerStatistic0(text=backToGame, class=center playAreaText, font=32pt FuturaPTHeavy, anchorX=0.5, anchorY=0.5, fill=#efc272)_text",
                    fullPath: d + "playarea/offerStatistic0(text=backToGame, class=center playAreaText, font=32pt FuturaPTHeavy, anchorX=0.5, anchorY=0.5, fill=#efc272)_text.png"
                }, {
                    key: "offerFreeGamesWin(class=center playAreaText, font=144pt FuturaPTHeavy, anchorX=0.5, anchorY=0.5, fill=#fec36d)_text",
                    fullPath: d + "playarea/offerFreeGamesWin(class=center playAreaText, font=144pt FuturaPTHeavy, anchorX=0.5, anchorY=0.5, fill=#fec36d)_text.png"
                }, {
                    key: "offerFreeGamesPlayed(class=center playAreaText, font=30pt FuturaPTHeavy, anchorX=0.5, anchorY=0.5, fill=#f0e1bf)_text",
                    fullPath: d + "playarea/offerFreeGamesPlayed(class=center playAreaText, font=30pt FuturaPTHeavy, anchorX=0.5, anchorY=0.5, fill=#f0e1bf)_text.png"
                }, {
                    key: "rightbox4(text=Your total win is, class=center playAreaText, font=28pt FuturaPTHeavy, anchorX=0.5, anchorY=0.5, fill=#fff)_text",
                    fullPath: d + "playarea/rightbox4(text=Your total win is, class=center playAreaText, font=28pt FuturaPTHeavy, anchorX=0.5, anchorY=0.5, fill=#fff)_text.png"
                }, {
                    key: "leftbox3(text=FREE GAMES ARE PLAYED, class=center playAreaText, font=30pt FuturaPTHeavy, anchorX=0.5, anchorY=0.5, fill=#fff)_text",
                    fullPath: d + "playarea/leftbox3(text=FREE GAMES ARE PLAYED, class=center playAreaText, font=30pt FuturaPTHeavy, anchorX=0.5, anchorY=0.5, fill=#fff)_text.png"
                }, {
                    key: "offerStatistic2(text=CONGRATULATIONS!, class=center playAreaText, font=bold 57pt FuturaPTHeavy, anchorX=0.5, anchorY=0.5, fill=#fff)_text",
                    fullPath: d + "playarea/offerStatistic2(text=CONGRATULATIONS!, class=center playAreaText, font=bold 57pt FuturaPTHeavy, anchorX=0.5, anchorY=0.5, fill=#fff)_text.png"
                }, {
                    key: "offersListImages",
                    fullPath: d + "playarea/offersListImages.png"
                }, {
                    key: "offerPlayNowButtonButton(spritesX=4)_button",
                    fullPath: d + "playarea/offerPlayNowButtonButton(spritesX=4)_button.png"
                }, {
                    key: "rightButtonText(text=playJustNow, class=center playAreaText, font=32pt FuturaPTHeavy, anchorX=0.5, anchorY=0.5, fill=#efc272)_text",
                    fullPath: d +
                        "playarea/rightButtonText(text=playJustNow, class=center playAreaText, font=32pt FuturaPTHeavy, anchorX=0.5, anchorY=0.5, fill=#efc272)_text.png"
                }, {
                    key: "offerSelectPreviousButtonButton(spritesX=4)_button",
                    fullPath: d + "playarea/offerSelectPreviousButtonButton(spritesX=4)_button.png"
                }, {
                    key: "offerSelectNextButtonButton(spritesX=4)_button",
                    fullPath: d + "playarea/offerSelectNextButtonButton(spritesX=4)_button.png"
                }, {
                    key: "offerPlayLaterButtonButton(spritesX=4)_button",
                    fullPath: d + "playarea/offerPlayLaterButtonButton(spritesX=4)_button.png"
                },
                {
                    key: "leftButtonText(text=playLater, class=center playAreaText, font=23pt FuturaPTHeavy, anchorX=0.5, anchorY=0.5, fill=#efc272)_text",
                    fullPath: d + "playarea/leftButtonText(text=playLater, class=center playAreaText, font=23pt FuturaPTHeavy, anchorX=0.5, anchorY=0.5, fill=#efc272)_text.png"
                }, {
                    key: "offersTotalNum(class=playAreaText, font=30pt FuturaPTHeavy, anchorX=0.5, anchorY=0.5, fill=#fff)_text",
                    fullPath: d + "playarea/offersTotalNum(class=playAreaText, font=30pt FuturaPTHeavy, anchorX=0.5, anchorY=0.5, fill=#fff)_text.png"
                },
                {
                    key: "offerCurrentNum2(text=OFFER, class=playAreaText, font=30pt FuturaPTHeavy, anchorX=0.5, anchorY=0.5, fill=#fff)_text",
                    fullPath: d + "playarea/offerCurrentNum2(text=OFFER, class=playAreaText, font=30pt FuturaPTHeavy, anchorX=0.5, anchorY=0.5, fill=#fff)_text.png"
                }, {
                    key: "offerCurrentNum(class=playAreaText, font=30pt FuturaPTHeavy, anchorX=0.5, anchorY=0.5, fill=#f0e1bf)_text",
                    fullPath: d + "playarea/offerCurrentNum(class=playAreaText, font=30pt FuturaPTHeavy, anchorX=0.5, anchorY=0.5, fill=#f0e1bf)_text.png"
                },
                {
                    key: "offersList(text=CONGRATULATIONS!, class=center playAreaText, font=bold 57pt FuturaPTHeavy, anchorX=0.5, anchorY=0.5, fill=#fff)_text",
                    fullPath: d + "playarea/offersList(text=CONGRATULATIONS!, class=center playAreaText, font=bold 57pt FuturaPTHeavy, anchorX=0.5, anchorY=0.5, fill=#fff)_text.png"
                }, {
                    key: "offersListGameName(text=FRUIT FALL, font=30pt FuturaPTHeavy, anchorX=0.5, anchorY=0.5, fill=#fec36d)_text",
                    fullPath: d + "playarea/offersListGameName(text=FRUIT FALL, font=30pt FuturaPTHeavy, anchorX=0.5, anchorY=0.5, fill=#fec36d)_text.png"
                },
                {
                    key: "offersList(text=FREE GAMES OF, font=30pt FuturaPTHeavy, anchorX=0.5, anchorY=0.5, fill=#f0e1bf)_text",
                    fullPath: d + "playarea/offersList(text=FREE GAMES OF, font=30pt FuturaPTHeavy, anchorX=0.5, anchorY=0.5, fill=#f0e1bf)_text.png"
                }, {
                    key: "offerFreeGamesAmount(class=center playAreaText, font=30pt FuturaPTHeavy, anchorX=0.5, anchorY=0.5, fill=#fec36d)_text",
                    fullPath: d + "playarea/offerFreeGamesAmount(class=center playAreaText, font=30pt FuturaPTHeavy, anchorX=0.5, anchorY=0.5, fill=#fec36d)_text.png"
                },
                {
                    key: "offersList(text=YOU HAVE, font=30pt FuturaPTHeavy, anchorX=0.5, anchorY=0.5, fill=#f0e1bf)_text",
                    fullPath: d + "playarea/offersList(text=YOU HAVE, font=30pt FuturaPTHeavy, anchorX=0.5, anchorY=0.5, fill=#f0e1bf)_text.png"
                }, {
                    key: "offerLines(text=20, class=center playAreaText, font=28pt futuraptmedium, anchorX=1, anchorY=0.5, fill=#f0e1bf)_text",
                    fullPath: d + "playarea/offerLines(text=20, class=center playAreaText, font=28pt futuraptmedium, anchorX=1, anchorY=0.5, fill=#f0e1bf)_text.png"
                }, {
                    key: "offerBet(text=5, class=center playAreaText, font=28pt futuraptmedium, anchorX=1, anchorY=0.5, fill=#f0e1bf)_text",
                    fullPath: d + "playarea/offerBet(text=5, class=center playAreaText, font=28pt futuraptmedium, anchorX=1, anchorY=0.5, fill=#f0e1bf)_text.png"
                }, {
                    key: "offerCoinValue(text=0.01, class=center playAreaText, font=28pt futuraptmedium, anchorX=1, anchorY=0.5, fill=#f0e1bf)_text",
                    fullPath: d + "playarea/offerCoinValue(text=0.01, class=center playAreaText, font=28pt futuraptmedium, anchorX=1, anchorY=0.5, fill=#f0e1bf)_text.png"
                }, {
                    key: "offerAvaliableTo(text=01.11.2018, class=center playAreaText, font=28pt futuraptmedium, anchorX=1, anchorY=0.5, fill=#f0e1bf)_text",
                    fullPath: d + "playarea/offerAvaliableTo(text=01.11.2018, class=center playAreaText, font=28pt futuraptmedium, anchorX=1, anchorY=0.5, fill=#f0e1bf)_text.png"
                }, {
                    key: "rightbox2(text=- Number of lines, class=playAreaText, font=28pt futuraptmedium, anchorY=0.5, fill=#fff)_text",
                    fullPath: d + "playarea/rightbox2(text=- Number of lines, class=playAreaText, font=28pt futuraptmedium, anchorY=0.5, fill=#fff)_text.png"
                }, {
                    key: "rightbox4(text=- Total bet, class=center playAreaText, font=28pt futuraptmedium, anchorY=0.5, fill=#fff)_text",
                    fullPath: d + "playarea/rightbox4(text=- Total bet, class=center playAreaText, font=28pt futuraptmedium, anchorY=0.5, fill=#fff)_text.png"
                }, {
                    key: "rightbox3(text=- Denomination, class=center playAreaText, font=28pt futuraptmedium, anchorY=0.5, fill=#fff)_text",
                    fullPath: d + "playarea/rightbox3(text=- Denomination, class=center playAreaText, font=28pt futuraptmedium, anchorY=0.5, fill=#fff)_text.png"
                }, {
                    key: "rightbox1(text=- Available until, class=center playAreaText, font=28pt futuraptmedium, anchorY=0.5, fill=#fff)_text",
                    fullPath: d + "playarea/rightbox1(text=- Available until, class=center playAreaText, font=28pt futuraptmedium, anchorY=0.5, fill=#fff)_text.png"
                }
            ]
        },
        objects: {
            name: "objects",
            contents: [{
                type: 1,
                name: "offers1Container",
                alpha: "1",
                contents: [{
                        type: 1,
                        name: "offersList",
                        alpha: "1",
                        contents: [{
                                type: 0,
                                name: "rightbox1(text=conditionsAvailableUntil, class=playAreaText rightbox, anchorY=0.5)_text",
                                assetKey: "rightbox1(text=- Available until, class=center playAreaText, font=28pt futuraptmedium, anchorY=0.5, fill=#fff)_text",
                                x: "844",
                                y: "483",
                                alpha: "1"
                            }, {
                                type: 0,
                                name: "rightbox3(text=denomination, class=playAreaText rightbox, anchorY=0.5)_text",
                                assetKey: "rightbox3(text=- Denomination, class=center playAreaText, font=28pt futuraptmedium, anchorY=0.5, fill=#fff)_text",
                                x: "844",
                                y: "550",
                                alpha: "1"
                            }, {
                                type: 0,
                                name: "rightbox4(text=betOfLine, class=playAreaText rightbox, anchorY=0.5)_text",
                                assetKey: "rightbox4(text=- Total bet, class=center playAreaText, font=28pt futuraptmedium, anchorY=0.5, fill=#fff)_text",
                                x: "844",
                                y: "618",
                                alpha: "1"
                            },
                            {
                                type: 0,
                                name: "rightbox2(text=countOfLine, class=playAreaText rightbox, anchorY=0.5)_text",
                                assetKey: "rightbox2(text=- Number of lines, class=playAreaText, font=28pt futuraptmedium, anchorY=0.5, fill=#fff)_text",
                                x: "844",
                                y: "685",
                                alpha: "1"
                            }, {
                                type: 0,
                                name: "offerAvaliableTo(class=playAreaText leftbox, anchorX=1, anchorY=0.5, align=right)_text",
                                assetKey: "offerAvaliableTo(text=01.11.2018, class=center playAreaText, font=28pt futuraptmedium, anchorX=1, anchorY=0.5, fill=#f0e1bf)_text",
                                x: "1405",
                                y: "483",
                                alpha: "1"
                            },
                            {
                                type: 0,
                                name: "offerCoinValue(class=playAreaText leftbox, anchorX=1, anchorY=0.5)_text",
                                assetKey: "offerCoinValue(text=0.01, class=center playAreaText, font=28pt futuraptmedium, anchorX=1, anchorY=0.5, fill=#f0e1bf)_text",
                                x: "1405",
                                y: "550",
                                alpha: "1"
                            }, {
                                type: 0,
                                name: "offerBet(class=playAreaText leftbox, anchorX=1, anchorY=0.5)_text",
                                assetKey: "offerBet(text=5, class=center playAreaText, font=28pt futuraptmedium, anchorX=1, anchorY=0.5, fill=#f0e1bf)_text",
                                x: "1405",
                                y: "618",
                                alpha: "1"
                            }, {
                                type: 0,
                                name: "offerLines(class=playAreaText leftbox, anchorX=1, anchorY=0.5)_text",
                                assetKey: "offerLines(text=20, class=center playAreaText, font=28pt futuraptmedium, anchorX=1, anchorY=0.5, fill=#f0e1bf)_text",
                                x: "1405",
                                y: "685",
                                alpha: "1"
                            }, {
                                type: 0,
                                name: "offersListTextCongratulations(text=congratulation, class=playAreaText congratulations, anchorX=0.5, anchorY=0.5)_text",
                                assetKey: "offersList(text=CONGRATULATIONS!, class=center playAreaText, font=bold 57pt FuturaPTHeavy, anchorX=0.5, anchorY=0.5, fill=#fff)_text",
                                x: "960",
                                y: "221",
                                alpha: "1"
                            }, {
                                type: 0,
                                name: "offersListTitleText(class=offerTitle, anchorX=0.5, anchorY=0.5)_text",
                                assetKey: "offersList(text=YOU HAVE, font=30pt FuturaPTHeavy, anchorX=0.5, anchorY=0.5, fill=#f0e1bf)_text",
                                x: "960",
                                y: "329",
                                alpha: "1"
                            }, {
                                type: 0,
                                name: "offerNum(class=playAreaText offerNum, anchorX=0.5, anchorY=0.5)_text",
                                assetKey: "offerCurrentNum(class=playAreaText, font=30pt FuturaPTHeavy, anchorX=0.5, anchorY=0.5, fill=#f0e1bf)_text",
                                x: "960",
                                y: "821",
                                alpha: "1"
                            }, {
                                type: 1,
                                name: "offerPlayLaterButton",
                                alpha: "1",
                                contents: [{
                                    type: 0,
                                    name: "leftButtonText(text=playLater, class=playAreaText offerPlayLater, anchorX=0.5, anchorY=0.5)_text",
                                    assetKey: "leftButtonText(text=playLater, class=center playAreaText, font=23pt FuturaPTHeavy, anchorX=0.5, anchorY=0.5, fill=#efc272)_text",
                                    x: "1403",
                                    y: "850",
                                    alpha: "1"
                                }, {
                                    type: 0,
                                    name: "offerPlayLaterButtonButton(spritesX=4, anchorX=0.5)_button",
                                    assetKey: "offerPlayLaterButtonButton(spritesX=4)_button",
                                    x: "1403",
                                    y: "829",
                                    alpha: "1"
                                }]
                            }, {
                                type: 1,
                                name: "offerSelectNextButton",
                                alpha: "1",
                                contents: [{
                                    type: 0,
                                    name: "offerSelectNextButtonButton(spritesX=4)_button",
                                    assetKey: "offerSelectNextButtonButton(spritesX=4)_button",
                                    x: "1523",
                                    y: "432",
                                    alpha: "1"
                                }]
                            }, {
                                type: 1,
                                name: "offerSelectPreviousButton",
                                alpha: "1",
                                contents: [{
                                    type: 0,
                                    name: "offerSelectPreviousButtonButton(spritesX=4)_button",
                                    assetKey: "offerSelectPreviousButtonButton(spritesX=4)_button",
                                    x: "233",
                                    y: "432",
                                    alpha: "1"
                                }]
                            }, {
                                type: 1,
                                name: "offerPlayNowButton",
                                alpha: "1",
                                contents: [{
                                    type: 0,
                                    name: "rightButtonText(text=playJustNow, class=playAreaText offerPlayNow, anchorX=0.5, anchorY=0.5)_text",
                                    assetKey: "rightButtonText(text=playJustNow, class=center playAreaText, font=32pt FuturaPTHeavy, anchorX=0.5, anchorY=0.5, fill=#efc272)_text",
                                    x: "960",
                                    y: "937",
                                    alpha: "1"
                                }, {
                                    type: 0,
                                    name: "offerPlayNowButtonButton(spritesX=4)_button",
                                    assetKey: "offerPlayNowButtonButton(spritesX=4)_button",
                                    x: "728",
                                    y: "867",
                                    alpha: "1"
                                }]
                            }, {
                                type: 0,
                                name: "offersListImages",
                                assetKey: "offersListImages",
                                x: "520",
                                y: "444",
                                alpha: "1"
                            }
                        ]
                    }, {
                        type: 1,
                        name: "offerStatistic",
                        alpha: "1",
                        contents: [{
                            type: 0,
                            name: "offerStatistic2(text=congratulation, class=playAreaText congratulations, anchorX=0.5, anchorY=0.5)_text",
                            assetKey: "offerStatistic2(text=CONGRATULATIONS!, class=center playAreaText, font=bold 57pt FuturaPTHeavy, anchorX=0.5, anchorY=0.5, fill=#fff)_text",
                            x: "960",
                            y: "221",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "yourWinIs(text=totalWin, class=playAreaText yourWinIs, anchorX=0.5, anchorY=0.5)_text",
                            assetKey: "rightbox4(text=Your total win is, class=center playAreaText, font=28pt FuturaPTHeavy, anchorX=0.5, anchorY=0.5, fill=#fff)_text",
                            x: "960",
                            y: "498",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "offerFreeGamesPlayed(class=playAreaText offerTitle, anchorX=0.5, anchorY=0.5)_text",
                            assetKey: "offerFreeGamesPlayed(class=center playAreaText, font=30pt FuturaPTHeavy, anchorX=0.5, anchorY=0.5, fill=#f0e1bf)_text",
                            x: "960",
                            y: "348",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "offerFreeGamesWin(class=playAreaText offersWin, anchorX=0.5, anchorY=0.5, maxWidth=1200)_text",
                            assetKey: "offerFreeGamesWin(class=center playAreaText, font=144pt FuturaPTHeavy, anchorX=0.5, anchorY=0.5, fill=#fec36d)_text",
                            x: "960",
                            y: "635",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "offerFreeGamesWinCredits(class=playAreaText offersWin, anchorX=0.5, anchorY=0.5, maxWidth=1200)_text",
                            assetKey: "offerFreeGamesWin(class=center playAreaText, font=144pt FuturaPTHeavy, anchorX=0.5, anchorY=0.5, fill=#fec36d)_text",
                            x: "960",
                            y: "635",
                            alpha: "1"
                        }, {
                            type: 1,
                            name: "offerBackToGameButton",
                            alpha: "1",
                            contents: [{
                                type: 0,
                                name: "offerStatistic0(text=backToGame, class=playAreaText offerPlayNow, anchorX=0.5, anchorY=0.5)_text",
                                assetKey: "offerStatistic0(text=backToGame, class=center playAreaText, font=32pt FuturaPTHeavy, anchorX=0.5, anchorY=0.5, fill=#efc272)_text",
                                x: "960",
                                y: "937",
                                alpha: "1"
                            }, {
                                type: 0,
                                name: "offerBackToGameButtonButton(spritesX=4)_button",
                                assetKey: "offerBackToGameButtonButton(spritesX=4)_button",
                                x: "728",
                                y: "867",
                                alpha: "1"
                            }]
                        }]
                    },
                    {
                        type: 1,
                        name: "closeOffersButton",
                        alpha: "1",
                        contents: [{
                            type: 0,
                            name: "closeOffersButtonButton(spritesX=4)_button",
                            assetKey: "closeOffersButtonButton(spritesX=4)_button",
                            x: "1547",
                            y: "51",
                            alpha: "1"
                        }]
                    }, {
                        type: 0,
                        name: "offersBG",
                        assetKey: "offersBg",
                        x: "309",
                        y: "85",
                        alpha: "1",
                        scaleX: 2,
                        scaleY: 2
                    }, {
                        type: 0,
                        name: "offersBGCover(scaleX=1920, scaleY=1080, class=cover)_cover",
                        assetKey: "offersBG(scaleX=1920, scaleY=1080, class=cover)_cover",
                        x: "0",
                        y: "0",
                        alpha: "1"
                    }
                ]
            }]
        }
    }
};
nge.App[nge.appNS].Tpl.Groups.UI_v3.Ui = function() {
    var d = nge.appPath + "img/";
    return {
        styles: {
            ".autobuttonAmountTextBaseYellow": {
                anchorX: .5,
                anchorY: .5,
                style: {
                    font: "20pt futuraptheavy",
                    fill: "#f6c47a",
                    align: "center"
                }
            },
            ".autobuttonAmountTextBase": {
                anchorX: .4,
                anchorY: .05,
                style: {
                    font: "20pt futuraptheavy",
                    fill: "#e5e7db",
                    align: "center"
                }
            },
            ".buttonLinesText": {
                anchorX: .5,
                anchorY: .5,
                style: {
                    font: "18pt futuraptheavy",
                    fill: "#efe1bf",
                    stroke: "#482817",
                    strokeThickness: 8
                }
            },
            ".freespinPlayedText": {
                anchorX: .4,
                anchorY: .05,
                style: {
                    font: "20pt futuraptheavy",
                    fill: "#f6c47a",
                    align: "center"
                }
            },
            ".linesNumber": {
                anchorX: .5,
                anchorY: .5,
                style: {
                    font: "20pt futuraptheavy",
                    fill: "#e5e7db"
                }
            },
            ".coinsNumber": {
                anchorX: .5,
                anchorY: .5,
                style: {
                    font: "19pt futuraptheavy",
                    fill: "#e5e7db"
                }
            },
            ".creditsTotalBetNumber": {
                anchorX: .5,
                anchorY: .5,
                style: {
                    font: "19pt futuraptheavy",
                    fill: "#e5e7db"
                }
            },
            ".totalBetNumber": {
                anchorX: .5,
                anchorY: .5,
                style: {
                    font: "19pt futuraptheavy",
                    fill: "#e5e7db"
                }
            },
            ".creditsNumber": {
                anchorX: .5,
                anchorY: .5,
                style: {
                    font: "19pt futuraptheavy",
                    fill: "#e5e7db"
                }
            },
            ".balanceNumber": {
                anchorX: .5,
                anchorY: .5,
                style: {
                    font: "19pt futuraptheavy",
                    fill: "#e5e7db"
                }
            },
            ".balanceCurrency": {
                anchorX: .5,
                anchorY: .5,
                style: {
                    font: "19pt futuraptheavy",
                    fill: "#e5e7db"
                }
            },
            ".winNumber": {
                anchorX: .5,
                anchorY: .5,
                style: {
                    font: "19pt futuraptheavy",
                    fill: "#e5e7db"
                }
            },
            ".creditsWinNumber": {
                anchorX: .5,
                anchorY: .5,
                style: {
                    font: "19pt futuraptheavy",
                    fill: "#e5e7db"
                }
            }
        },
        assets: {
            name: "assets",
            contents: [{
                    key: "centralButtonShadow",
                    fullPath: d + "playarea/centralButtonShadow.png"
                }, {
                    key: "centralButtonBorder",
                    fullPath: d + "playarea/centralButtonBorder.png"
                }, {
                    key: "maxBetButtonButton(spritesX=4)_button",
                    fullPath: d + "playarea/maxBetButtonButton(spritesX=4)_button.png"
                }, {
                    key: "spinButtonButton(spritesX=12)_button",
                    fullPath: d + "playarea/spinButtonButton(spritesX=12)_button.png"
                }, {
                    key: "autoButtonButton(spritesX=8)_button",
                    fullPath: d + "playarea/autoButtonButton(spritesX=8)_button.png"
                }, {
                    key: "autoPlayAmountButtonText(text=AUTO, class=autobuttonAmountTextBase)_text",
                    fullPath: d + "playarea/autoPlayAmountButtonText(text=AUTO, class=autobuttonAmountTextBase)_text.png"
                },
                {
                    key: "winAreaPlate",
                    fullPath: d + "playarea/winAreaPlate.png"
                }, {
                    key: "winText(text=WIN, class=buttonLinesText)_text",
                    fullPath: d + "playarea/winText(text=WIN, class=buttonLinesText)_text.png"
                }, {
                    key: "winNumber(class=winNumber, font=19pt futuraptheavy, anchorY=0.5, anchorX=0.5, fill=#e5e7db)_text",
                    fullPath: d + "playarea/winNumber(class=winNumber, font=19pt futuraptheavy, anchorY=0.5, anchorX=0.5, fill=#e5e7db)_text.png"
                }, {
                    key: "winArea(width=300, height=76, class=currencyChanger, anchorX=0.5, anchorY=0.5)_clickableArea",
                    fullPath: d + "playarea/winArea(width=300, height=76, class=currencyChanger, anchorX=0.5, anchorY=0.5)_clickableArea.png"
                }, {
                    key: "totalWinTextA(text=TOTAL WIN, class=buttonLinesText)_text",
                    fullPath: d + "playarea/totalWinTextA(text=TOTAL WIN, class=buttonLinesText)_text.png"
                }, {
                    key: "totalBetClickableArea(width=104, height=54, class=currencyChanger, anchorX=0.5, anchorY=0.5)_clickableArea",
                    fullPath: d + "playarea/totalBetClickableArea(width=104, height=54, class=currencyChanger, anchorX=0.5, anchorY=0.5)_clickableArea.png"
                },
                {
                    key: "creditsTotalWinNumberInfoPanel(class=creditsWinNumber, font=15pt futuraptheavy, anchorY=0.5, fill=#e5e7db, stroke=#000000, strokeThickness=1)_text",
                    fullPath: d + "playarea/creditsTotalWinNumberInfoPanel(class=creditsWinNumber, font=15pt futuraptheavy, anchorY=0.5, fill=#e5e7db, stroke=#000000, strokeThickness=1)_text.png"
                }, {
                    key: "totalWinNumber(class=winNumber, font=19pt futuraptheavy, anchorY=0.5, anchorX=0.5, fill=#e5e7db)_text",
                    fullPath: d + "playarea/totalWinNumber(class=winNumber, font=19pt futuraptheavy, anchorY=0.5, anchorX=0.5, fill=#e5e7db)_text.png"
                },
                {
                    key: "creditsTotalWinNumber(class=creditsWinNumber, font=19pt futuraptheavy, anchorY=0.5, anchorX=0.5, fill=#e5e7db)_text",
                    fullPath: d + "playarea/creditsTotalWinNumber(class=creditsWinNumber, font=19pt futuraptheavy, anchorY=0.5, anchorX=0.5, fill=#e5e7db)_text.png"
                }, {
                    key: "totalWinArea(width=300, height=76, class=currencyChanger, anchorX=0.5, anchorY=0.5)_clickableArea",
                    fullPath: d + "playarea/totalWinArea(width=300, height=76, class=currencyChanger, anchorX=0.5, anchorY=0.5)_clickableArea.png"
                }, {
                    key: "balanceContainerPlate",
                    fullPath: d + "playarea/balanceContainerPlate.png"
                }, {
                    key: "balanceText(text=BALANCE, class=buttonLinesText)_text",
                    fullPath: d + "playarea/balanceText(text=BALANCE, class=buttonLinesText)_text.png"
                }, {
                    key: "balanceNumber(class=balanceNumber balanceCurrency, font=19pt futuraptheavy, anchorX=0.5, anchorY=0.5, fill=#e5e7db)_text",
                    fullPath: d + "playarea/balanceNumber(class=balanceNumber balanceCurrency, font=19pt futuraptheavy, anchorX=0.5, anchorY=0.5, fill=#e5e7db)_text.png"
                }, {
                    key: "balanceContainerArea(width=300, height=76, class=currencyChanger, anchorX=0.5, anchorY=0.5)_clickableArea",
                    fullPath: d + "playarea/balanceContainerArea(width=300, height=76, class=currencyChanger, anchorX=0.5, anchorY=0.5)_clickableArea.png"
                }, {
                    key: "balanceCoinsContainerBg",
                    fullPath: d + "playarea/balanceCoinsContainerBg.png"
                }, {
                    key: "balanceCoinsText(text=BALANCE, class=buttonLinesText)_text",
                    fullPath: d + "playarea/balanceCoinsText(text=BALANCE, class=buttonLinesText)_text.png"
                }, {
                    key: "balanceCoinsNumber(class=creditsNumber, font=19pt futuraptheavy, anchorY=0.5, anchorX=0.5, fill=#e5e7db)_text",
                    fullPath: d + "playarea/balanceCoinsNumber(class=creditsNumber, font=19pt futuraptheavy, anchorY=0.5, anchorX=0.5, fill=#e5e7db)_text.png"
                },
                {
                    key: "balanceCoinsArea(width=300, height=76, class=currencyChanger, anchorX=0.5, anchorY=0.5)_clickableArea",
                    fullPath: d + "playarea/balanceCoinsArea(width=300, height=76, class=currencyChanger, anchorX=0.5, anchorY=0.5)_clickableArea.png"
                }, {
                    key: "cashBetContainerBg",
                    fullPath: d + "playarea/cashBetContainerBg.png"
                }, {
                    key: "totalBetCoinsText(text=TOTAL BET, class=buttonLinesText)_text",
                    fullPath: d + "playarea/totalBetCoinsText(text=TOTAL BET, class=buttonLinesText)_text.png"
                }, {
                    key: "totalBetNumber(class=totalBetNumber, font=19pt futuraptheavy, anchorY=0.5, anchorX=0.5, fill=#e5e7db)_text",
                    fullPath: d + "playarea/totalBetNumber(class=totalBetNumber, font=19pt futuraptheavy, anchorY=0.5, anchorX=0.5, fill=#e5e7db)_text.png"
                }, {
                    key: "totalBetCoinsNumber(class=creditsTotalBetNumber, font=19pt futuraptheavy, anchorY=0.5, anchorX=0.5, fill=#e5e7db)_text",
                    fullPath: d + "playarea/totalBetCoinsNumber(class=creditsTotalBetNumber, font=19pt futuraptheavy, anchorY=0.5, anchorX=0.5, fill=#e5e7db)_text.png"
                }, {
                    key: "totalBetCoinsNumberInfoPanel(class=creditsTotalBetNumber, font=14pt futuraptheavy, anchorY=0.5, fill=#e5e7db, stroke=#000000, strokeThickness=1)_text",
                    fullPath: d + "playarea/totalBetCoinsNumberInfoPanel(class=creditsTotalBetNumber, font=14pt futuraptheavy, anchorY=0.5, fill=#e5e7db, stroke=#000000, strokeThickness=1)_text.png"
                }, {
                    key: "betPlusButtonButton(spritesX=4)_button",
                    fullPath: d + "playarea/betPlusButtonButton(spritesX=4)_button.png"
                }, {
                    key: "betMinusButtonButton(spritesX=4)_button",
                    fullPath: d + "playarea/betMinusButtonButton(spritesX=4)_button.png"
                }, {
                    key: "coinValueBg",
                    fullPath: d + "playarea/coinValueBg.png"
                }, {
                    key: "coinPlusButtonButton(spritesX=4)_button",
                    fullPath: d + "playarea/coinPlusButtonButton(spritesX=4)_button.png"
                }, {
                    key: "coinMinusButtonButton(spritesX=4)_button",
                    fullPath: d + "playarea/coinMinusButtonButton(spritesX=4)_button.png"
                }, {
                    key: "coinValueNumber(class=coinsNumber, font=19pt futuraptheavy, anchorY=0.5, anchorX=0.5, fill=#e5e7db)_text",
                    fullPath: d + "playarea/coinValueNumber(class=coinsNumber, font=19pt futuraptheavy, anchorY=0.5, anchorX=0.5, fill=#e5e7db)_text.png"
                }, {
                    key: "coinValueText(text=COIN VALUE, class=buttonLinesText)_text",
                    fullPath: d +
                        "playarea/coinValueText(text=COIN VALUE, class=buttonLinesText)_text.png"
                }, {
                    key: "linesButtonAreaButton(width=80, height=90, class=linesChanger, anchorX=0.5, anchorY=0.5)_clickableArea",
                    fullPath: d + "playarea/linesButtonAreaButton(width=80, height=90, class=linesChanger, anchorX=0.5, anchorY=0.5)_clickableArea.png"
                }, {
                    key: "linesButtonAreaBg",
                    fullPath: d + "playarea/buttonLinesPlate.png"
                }, {
                    key: "settingPanelBackBg(assetKey=settingPanelBackBg1, width=104, height=316, top=51, bottom=51, left=0, right=0, anchorX=0.5, anchorY=0.5)_nineSlice",
                    fullPath: d + "playarea/settingPanelBackBg(assetKey=autospinAmountSetterPanel1, width=116, height=390, top=0, bottom=0, left=0, right=0, anchorX=0.5)_nineSlice.png"
                }, {
                    key: "settingPanelBackBg1_asset",
                    fullPath: d + "playarea/settingPanelBackBg.png"
                }, {
                    key: "helpButtonButton(spritesX=4, screenGoTo=info bounce)_button",
                    fullPath: d + "playarea/helpButtonButton(spritesX=4,-screenGoTo=info-bounce)_button.png"
                }, {
                    key: "soundButtonButton(spritesX=6)_button",
                    fullPath: d + "playarea/soundButtonButton(spritesX=6)_button.png"
                },
                {
                    key: "fullscreenButtonButton(spritesX=6)_button",
                    fullPath: d + "playarea/fullscreenButtonButton(spritesX=6)_button.png"
                }, {
                    key: "framInfoContainerBg",
                    fullPath: d + "playarea/framInfoContainerBg.png"
                }, {
                    key: "quickSettingsPanelButtonButton(spritesX=6)_button",
                    fullPath: d + "playarea/quickSettingsPanelButtonButton(spritesX=6)_button.png"
                }, {
                    key: "maxBetButtonText(text=MAX BET, class=autobuttonAmountTextBase)_text",
                    fullPath: d + "plaarea/maxBetButtonText(text=MAX BET, class=autobuttonAmountTextBase)_text.png"
                }, {
                    key: "playButtonText(text=MAX BET, class=autobuttonAmountTextBase)_text",
                    fullPath: d + "plaarea/playButtonText(text=MAX BET, class=autobuttonAmountTextBase)_text.png"
                }, {
                    key: "linesText(text=LINES, class=buttonLinesText)_text",
                    fullPath: d + "playarea/linesText(text=LINES, class=buttonLinesText)_text.png"
                }, {
                    key: "creditsWinNumber(class=playAreaText creditsWinNumber, font=19pt futuraptheavy, anchorY=0.5, anchorX=0.5, fill=#ffffff)_text",
                    fullPath: d + "playarea/creditsWinNumber(class=playAreaText creditsWinNumber, font=19pt futuraptheavy, anchorY=0.5, anchorX=0.5, fill=#ffffff)_text.png"
                },
                {
                    key: "winNumber(class=playAreaText winNumber, font=19pt futuraptheavy, anchorY=0.5, anchorX=0.5, fill=#e5e7db)_text",
                    fullPath: d + "playarea/winNumber(class=playAreaText winNumber, font=19pt futuraptheavy, anchorY=0.5, anchorX=0.5, fill=#e5e7db)_text.png"
                }, {
                    key: "freespinPlayedText(text=PLAYED, class=freespinPlayedText)_text",
                    fullPath: d + "playarea/freespinPlayedText(text=AUTO, class=freespinPlayedText)_text.png"
                }, {
                    key: "freespinPlyedValueText(class=autobuttonAmountTextBase)_text",
                    fullPath: d + "playarea/freespinPlyedValueText(text=AUTO, class=autobuttonAmountTextBase)_text.png"
                },
                {
                    key: "freespinTotalText(text=TOTAL, class=freespinPlayedText)_text",
                    fullPath: d + "playarea/freespinTotalText(text=AUTO, class=freespinPlayedText)_text.png"
                }, {
                    key: "freespinTotalValueText(class=autobuttonAmountTextBase)_text",
                    fullPath: d + "playarea/freespinTotalValueText(text=AUTO, class=autobuttonAmountTextBase)_text.png"
                }
            ]
        },
        objects: {
            name: "objects",
            contents: [{
                type: 0,
                name: "settingPanelBackBg1_asset",
                assetKey: "settingPanelBackBg1_asset",
                x: "768",
                y: "726",
                alpha: "1"
            }, {
                type: 1,
                name: "settingBottomUIContainer",
                alpha: "1",
                contents: [{
                        type: 1,
                        name: "infoPanelPlusButton",
                        alpha: "1",
                        contents: [{
                            type: 0,
                            name: "quickSettingsPanelButtonButton(spritesX=6)_button",
                            assetKey: "quickSettingsPanelButtonButton(spritesX=6)_button",
                            x: "36",
                            y: "975",
                            alpha: "1"
                        }]
                    }, {
                        type: 0,
                        name: "framInfoContainerBg",
                        assetKey: "framInfoContainerBg",
                        x: "29",
                        y: "968",
                        alpha: "1"
                    }, {
                        type: 1,
                        name: "fullScreenButton",
                        alpha: "1",
                        contents: [{
                            type: 0,
                            name: "fullscreenButtonButton(spritesX=6)_button",
                            assetKey: "fullscreenButtonButton(spritesX=6)_button",
                            x: "39",
                            y: "768",
                            alpha: "1"
                        }]
                    },
                    {
                        type: 1,
                        name: "soundOffOnButtonButton",
                        alpha: "1",
                        contents: [{
                            type: 0,
                            name: "soundButtonButton(spritesX=6)_button",
                            assetKey: "soundButtonButton(spritesX=6)_button",
                            x: "39",
                            y: "830",
                            alpha: "1"
                        }]
                    }, {
                        type: 1,
                        name: "helpButtonButtonPanel",
                        alpha: "1",
                        contents: [{
                            type: 0,
                            name: "helpButtonButton(spritesX=4, screenGoTo=info bounce)_button",
                            assetKey: "helpButtonButton(spritesX=4, screenGoTo=info bounce)_button",
                            x: "39",
                            y: "893",
                            alpha: "1"
                        }]
                    }, {
                        type: 0,
                        name: "settingPanelBackBg(assetKey=settingPanelBackBg1, width=104, height=316, top=52, bottom=52, left=0, right=0)_nineSlice",
                        assetKey: "settingPanelBackBg(assetKey=settingPanelBackBg1, width=104, height=316, top=50, bottom=50, left=0, right=0, anchorX=0.5, anchorY=0.5)_nineSlice",
                        x: "17",
                        y: "1059",
                        anchorY: 1,
                        alpha: "1"
                    }
                ]
            }, {
                type: 1,
                name: "bottomUIContainer",
                alpha: "1",
                contents: [{
                    type: 1,
                    name: "linesButtonArea",
                    alpha: "1",
                    contents: [{
                        type: 0,
                        name: "linesNumber(class=linesNumber)_text",
                        assetKey: "linesNumber(class=linesNumber, font=24pt futuraptheavy, anchorY=0.5, anchorX=0.5, fill=#e5e7db)_text",
                        x: "176",
                        y: "1013",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "linesButtonAreaButton(width=80, height=90, class=linesChanger, anchorX=0.5, anchorY=0.5)_clickableArea",
                        assetKey: "linesButtonAreaButton(width=80, height=90, class=linesChanger, anchorX=0.5, anchorY=0.5)_clickableArea",
                        x: "173",
                        y: "1011",
                        alpha: "1"
                    }]
                }, {
                    type: 1,
                    name: "coinValueContainer",
                    alpha: "1",
                    contents: [{
                        type: 0,
                        name: "coinValueNumber(class=coinsNumber)_text",
                        assetKey: "coinValueNumber(class=coinsNumber, font=19pt futuraptheavy, anchorY=0.5, anchorX=0.5, fill=#e5e7db)_text",
                        x: "325",
                        y: "1013",
                        alpha: "1"
                    }, {
                        type: 1,
                        name: "coinMinusButton",
                        alpha: "1",
                        contents: [{
                            type: 0,
                            name: "coinMinusButtonButton(spritesX=4)_button",
                            assetKey: "coinMinusButtonButton(spritesX=4)_button",
                            x: "240",
                            y: "986",
                            alpha: "1"
                        }]
                    }, {
                        type: 1,
                        name: "coinPlusButton",
                        alpha: "1",
                        contents: [{
                            type: 0,
                            name: "coinPlusButtonButton(spritesX=4)_button",
                            assetKey: "coinPlusButtonButton(spritesX=4)_button",
                            x: "358",
                            y: "987",
                            alpha: "1"
                        }]
                    }, {
                        type: 0,
                        name: "coinValueBg",
                        assetKey: "coinValueBg",
                        x: "224",
                        y: "971",
                        alpha: "1"
                    }]
                }, {
                    type: 1,
                    name: "totalBetContaner",
                    alpha: "1",
                    contents: [{
                        type: 1,
                        name: "betMinusButton",
                        alpha: "1",
                        contents: [{
                            type: 0,
                            name: "betMinusButtonButton(spritesX=4)_button",
                            assetKey: "betMinusButtonButton(spritesX=4)_button",
                            x: "447",
                            y: "986",
                            alpha: "1"
                        }]
                    }, {
                        type: 1,
                        name: "betPlusButton",
                        alpha: "1",
                        contents: [{
                            type: 0,
                            name: "betPlusButtonButton(spritesX=4)_button",
                            assetKey: "betPlusButtonButton(spritesX=4)_button",
                            x: "637",
                            y: "987",
                            alpha: "1"
                        }]
                    }, {
                        type: 0,
                        name: "totalBetClickableArea(width=104, height=54, class=currencyChanger, anchorX=0.5, anchorY=0.5)_clickableArea",
                        assetKey: "totalBetClickableArea(width=104, height=54, class=currencyChanger, anchorX=0.5, anchorY=0.5)_clickableArea",
                        x: "565",
                        y: "1027",
                        alpha: "1"
                    }, {
                        type: 1,
                        name: "totalBetCoinsContent_container",
                        alpha: "1",
                        contents: [{
                            type: 0,
                            name: "totalBetCoinsNumber(class=creditsTotalBetNumber)_text",
                            assetKey: "totalBetCoinsNumber(class=creditsTotalBetNumber, font=19pt futuraptheavy, anchorY=0.5, anchorX=0.5, fill=#e5e7db)_text",
                            x: "568",
                            y: "1013",
                            alpha: "1"
                        }]
                    }, {
                        type: 1,
                        name: "totalBetContent_container",
                        alpha: "1",
                        contents: [{
                            type: 0,
                            name: "totalBetNumber(class=totalBetNumber)_text",
                            assetKey: "totalBetNumber(class=totalBetNumber, font=19pt futuraptheavy, anchorY=0.5, anchorX=0.5, fill=#e5e7db)_text",
                            x: "568",
                            y: "1013",
                            alpha: "1"
                        }]
                    }, {
                        type: 0,
                        name: "coinValueText(text=COIN VALUE , class=buttonLinesText)_text",
                        assetKey: "coinValueText(text=COIN VALUE, class=buttonLinesText)_text",
                        x: "323.5",
                        y: "960",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "linesText(text=LINES , class=buttonLinesText)_text",
                        assetKey: "linesText(text=LINES, class=buttonLinesText)_text",
                        anchorX: "0.5",
                        anchorY: "0.5",
                        x: "174",
                        y: "960",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "totalBetCoinsText(text=TOTAL BET , class=buttonLinesText)_text",
                        assetKey: "totalBetCoinsText(text=TOTAL BET, class=buttonLinesText)_text",
                        x: "565.5",
                        y: "960",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "cashBetContainerBg",
                        assetKey: "cashBetContainerBg",
                        x: "431",
                        y: "971",
                        alpha: "1"
                    }]
                }, {
                    type: 1,
                    name: "balanceCoinsContent_container",
                    alpha: "1",
                    contents: [{
                        type: 0,
                        name: "balanceCoinsArea(width=300, height=76, class=currencyChanger, anchorX=0.5, anchorY=0.5)_clickableArea",
                        assetKey: "balanceCoinsArea(width=300, height=76, class=currencyChanger, anchorX=0.5, anchorY=0.5)_clickableArea",
                        x: "1727",
                        y: "1009",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "balanceCoinsNumber(class=creditsNumber)_text",
                        assetKey: "balanceCoinsNumber(class=creditsNumber, font=19pt futuraptheavy, anchorY=0.5, anchorX=0.5, fill=#e5e7db)_text",
                        x: "1730",
                        y: "1013",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "balanceCoinsText(text=BALANCE , class=buttonLinesText)_text",
                        assetKey: "balanceCoinsText(text=BALANCE, class=buttonLinesText)_text",
                        x: "1731.5",
                        y: "960",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "balanceCoinsContainerBg",
                        assetKey: "balanceCoinsContainerBg",
                        x: "1560",
                        y: "971",
                        alpha: "1"
                    }]
                }, {
                    type: 1,
                    name: "balanceContent_container",
                    alpha: "1",
                    contents: [{
                        type: 0,
                        name: "balanceContainerArea(width=300, height=76, class=currencyChanger, anchorX=0.5, anchorY=0.5)_clickableArea",
                        assetKey: "balanceContainerArea(width=300, height=76, class=currencyChanger, anchorX=0.5, anchorY=0.5)_clickableArea",
                        x: "1727",
                        y: "1009",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "balanceNumber(class=balanceNumber balanceCurrency)_text",
                        assetKey: "balanceNumber(class=balanceNumber balanceCurrency, font=19pt futuraptheavy, anchorX=0.5, anchorY=0.5, fill=#e5e7db)_text",
                        x: "1730",
                        y: "1013",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "balanceText(text=BALANCE , class=buttonLinesText)_text",
                        assetKey: "balanceText(text=BALANCE, class=buttonLinesText)_text",
                        x: "1731.5",
                        y: "960",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "balanceContainerPlate",
                        assetKey: "balanceContainerPlate",
                        x: "1560",
                        y: "971",
                        alpha: "1"
                    }]
                }]
            }, {
                type: 1,
                name: "winBottomlUIContainer",
                alpha: "1",
                contents: [{
                    type: 0,
                    name: "winArea(width=300, height=76, class=currencyChanger, anchorX=0.5, anchorY=0.5)_clickableArea",
                    assetKey: "winArea(width=300, height=76, class=currencyChanger, anchorX=0.5, anchorY=0.5)_clickableArea",
                    x: "1384",
                    y: "1009",
                    alpha: "1"
                }, {
                    type: 0,
                    name: "winText(text=WIN , class=buttonLinesText)_text",
                    assetKey: "winText(text=WIN, class=buttonLinesText)_text",
                    x: "1387.5",
                    y: "960",
                    anchorY: "0.5",
                    anchorX: "0.5",
                    alpha: "1"
                }, {
                    type: 0,
                    name: "winNumber(class=winNumber)_text",
                    assetKey: "winNumber(class=playAreaText winNumber, font=19pt futuraptheavy, anchorY=0.5, anchorX=0.5, fill=#e5e7db)_text",
                    x: "1388",
                    y: "1013",
                    alpha: "1"
                }, {
                    type: 0,
                    name: "creditsWinNumber(class=creditsWinNumber)_text",
                    assetKey: "creditsWinNumber(class=playAreaText creditsWinNumber, font=19pt futuraptheavy, anchorY=0.5, anchorX=0.5, fill=#ffffff)_text",
                    x: "1388",
                    y: "1013",
                    alpha: "1"
                }, {
                    type: 0,
                    name: "winAreaPlate",
                    assetKey: "winAreaPlate",
                    x: "1221",
                    y: "971",
                    alpha: "1"
                }]
            }, {
                type: 1,
                name: "centraBottomlUIContainer",
                alpha: "1",
                contents: [{
                    type: 1,
                    name: "freespinPlayedTotalContainer",
                    alpha: "1",
                    isVisible: !1,
                    contents: [{
                        type: 0,
                        name: "freespinPlayedText(text=KEY_UI_FREESPINPLAYED, class=freespinPlayedText)_text",
                        assetKey: "freespinPlayedText(text=PLAYED, class=freespinPlayedText)_text",
                        x: "810",
                        y: "965",
                        alpha: "1",
                        anchorY: "0.5",
                        anchorX: "0.5"
                    }, {
                        type: 0,
                        name: "freespinPlyedValueText(class=autobuttonAmountTextBase)_text",
                        assetKey: "freespinPlyedValueText(class=autobuttonAmountTextBase)_text",
                        x: "810",
                        y: "1005",
                        alpha: "1",
                        anchorY: "0.5",
                        anchorX: "0.5"
                    }, {
                        type: 0,
                        name: "freespinTotalText(text=TOTAL, class=freespinPlayedText)_text",
                        assetKey: "freespinTotalText(text=TOTAL, class=freespinPlayedText)_text",
                        x: "1110",
                        y: "965",
                        alpha: "1",
                        anchorY: "0.5",
                        anchorX: "0.5"
                    }, {
                        type: 0,
                        name: "freespinTotalValueText(class=autobuttonAmountTextBase)_text",
                        assetKey: "freespinTotalValueText(class=autobuttonAmountTextBase)_text",
                        x: "1110",
                        y: "1005",
                        alpha: "1",
                        anchorY: "0.5",
                        anchorX: "0.5"
                    }]
                }, {
                    type: 1,
                    name: "playButtonContainer",
                    alpha: "1",
                    contents: [{
                        type: 0,
                        name: "playButtonText(class=autobuttonAmountTextBaseYellow)_text",
                        assetKey: "playButtonText(text=MAX BET, class=autobuttonAmountTextBase)_text",
                        x: "960",
                        y: "981",
                        alpha: "1",
                        anchorY: "0.5",
                        anchorX: "0.5"
                    }, {
                        type: 0,
                        name: "spinButtonButton(spritesX=12)_button",
                        assetKey: "spinButtonButton(spritesX=12)_button",
                        x: "888",
                        y: "911",
                        alpha: "1"
                    }]
                }, {
                    type: 1,
                    name: "autoButton",
                    alpha: "1",
                    contents: [{
                        type: 0,
                        name: "autoPlayAmountButtonText(text=AUTO, font=22pt futuraptheavy, class=autobuttonAmountTextBaseYellow)_text",
                        assetKey: "autoPlayAmountButtonText(text=AUTO, class=autobuttonAmountTextBase)_text",
                        x: "810",
                        y: "985",
                        alpha: "1",
                        anchorX: "0.5",
                        anchorY: "0.5"
                    }, {
                        type: 0,
                        name: "autoButtonButton(spritesX=8)_button",
                        assetKey: "autoButtonButton(spritesX=8)_button",
                        x: "727",
                        y: "931",
                        alpha: "1"
                    }]
                }, {
                    type: 1,
                    name: "maxBetButton",
                    alpha: "1",
                    contents: [{
                        type: 0,
                        name: "maxBetButtonText(text=MAX BET, font=22pt futuraptheavy, class=autobuttonAmountTextBaseYellow)_text",
                        assetKey: "maxBetButtonText(text=MAX BET, class=autobuttonAmountTextBase)_text",
                        x: "1080",
                        y: "985",
                        alpha: "1",
                        anchorX: "0.3",
                        anchorY: "0.5"
                    }, {
                        type: 0,
                        name: "maxBetButtonButton(spritesX=4)_button",
                        assetKey: "maxBetButtonButton(spritesX=4)_button",
                        x: "1007",
                        y: "931",
                        alpha: "1"
                    }]
                }, {
                    type: 0,
                    name: "centralButtonBorder",
                    assetKey: "centralButtonBorder",
                    x: "717",
                    y: "898",
                    alpha: "1"
                }, {
                    type: 0,
                    name: "centralButtonShadow",
                    assetKey: "centralButtonShadow",
                    x: "706",
                    y: "884",
                    alpha: "1"
                }, {
                    type: 0,
                    name: "linesButtonAreaBg",
                    assetKey: "linesButtonAreaBg",
                    x: "133",
                    y: "971",
                    alpha: "1"
                }]
            }, {
                type: 1,
                name: "backgroundContainer",
                alpha: "1"
            }]
        }
    }
};
nge.App[nge.appNS].Tpl.Groups.UI_v3.Blue = {};
nge.App[nge.appNS].Tpl.Groups.UI_v3.Blue.BetSettings = function() {
    var d = nge.App[nge.appNS].Tpl.Groups.BetSettings();
    d.styles[".sliderMinMax"].style.fill = "#CBEBFF";
    d.styles[".settingName"].style.fill = "#FFFFFF";
    d.styles[".betContainerName"].style.fill = "#FFFFFF";
    d.styles[".betContainerValue"].style.fill = "#ffffff";
    d.styles[".sliderValue"].style.fill = "#FFFFFF";
    d.styles[".sliderTooltipValue"].style.fill = "#000000";
    return d
};
nge.App[nge.appNS].Tpl.Groups.UI_v3.Blue.Offers = function() {
    var d = nge.App[nge.appNS].Tpl.Groups.UI_v3.Offers();
    d.styles[".rightbox"].style.fill = "#fff";
    d.styles[".leftbox"].style.fill = "#BEECFC";
    d.styles[".congratulations"].style.fill = "#fff";
    d.styles[".offerTitle"].style.fill = "#BEECFC";
    d.styles[".offerNum"].style.fill = "#BEECFC";
    d.styles[".offerPlayLater"].style.fill = "#0092E8";
    d.styles[".offerPlayNow"].style.fill = "#BEECFC";
    d.styles[".yourWinIs"].style.fill = "#fff";
    d.styles[".offersWin"].style.fill = "#0092E8";
    return d
};
nge.App[nge.appNS].Tpl.Groups.UI_v3.Blue.ScrollbarVertical = function(d) {
    d = nge.App[nge.appNS].Tpl.Groups.ScrollbarVertical(d);
    var b = d.assets.contents.filter(function(b) {
        return -1 !== b.fullPath.indexOf("scroll_bg")
    })[0];
    b.fullPath = b.fullPath.replace("scroll_bg", "scroll_bg1");
    b = d.assets.contents.filter(function(b) {
        return -1 !== b.fullPath.indexOf("scroll_touch")
    })[0];
    b.fullPath = b.fullPath.replace("scroll_touch", "scroll_touch1");
    return d
};
nge.App[nge.appNS].Tpl.Groups.UI_v3.Blue.Tabs = function() {
    var d = nge.App[nge.appNS].Tpl.Groups.Tabs();
    d.styles["^headersContainer .active .tabHeaderText"].style.fill = "#0092E8";
    return d
};
nge.App[nge.appNS].Tpl.Groups.UI_v3.Blue.Ui = function() {
    var d = nge.App[nge.appNS].Tpl.Groups.UI_v3.Ui();
    d.styles[".autobuttonAmountTextBaseYellow"].style.fill = "#CAEAFF";
    d.styles[".autobuttonAmountTextBase"].style.fill = "#FFFFFF";
    d.styles[".buttonLinesText"].style.fill = "#CBEBFF";
    d.styles[".buttonLinesText"].style.stroke = "#00274A";
    d.styles[".freespinPlayedText"].style.fill = "#CAEAFF";
    d.styles[".linesNumber"].style.fill = "#FFFFFF";
    d.styles[".coinsNumber"].style.fill = "#FFFFFF";
    d.styles[".creditsTotalBetNumber"].style.fill =
        "#FFFFFF";
    d.styles[".totalBetNumber"].style.fill = "#FFFFFF";
    d.styles[".creditsNumber"].style.fill = "#FFFFFF";
    d.styles[".balanceNumber"].style.fill = "#FFFFFF";
    d.styles[".balanceCurrency"].style.fill = "#FFFFFF";
    d.styles[".winNumber"].style.fill = "#FFFFFF";
    d.styles[".creditsWinNumber"].style.fill = "#FFFFFF";
    return d
};
nge.App[nge.appNS].Tpl.Groups.UI_v3.Silver = {};
nge.App[nge.appNS].Tpl.Groups.UI_v3.Silver.BetSettings = function() {
    var d = nge.App[nge.appNS].Tpl.Groups.BetSettings();
    d.styles[".sliderMinMax"].style.fill = "#DDDDDD";
    d.styles[".settingName"].style.fill = "#FFFFFF";
    d.styles[".betContainerName"].style.fill = "#FFFFFF";
    d.styles[".betContainerValue"].style.fill = "#ffffff";
    d.styles[".sliderValue"].style.fill = "#FFFFFF";
    d.styles[".sliderTooltipValue"].style.fill = "#000000";
    return d
};
nge.App[nge.appNS].Tpl.Groups.UI_v3.Silver.Offers = function() {
    var d = nge.App[nge.appNS].Tpl.Groups.UI_v3.Offers();
    d.styles[".rightbox"].style.fill = "#fff";
    d.styles[".leftbox"].style.fill = "#919191";
    d.styles[".congratulations"].style.fill = "#fff";
    d.styles[".offerTitle"].style.fill = "#919191";
    d.styles[".offerNum"].style.fill = "#919191";
    d.styles[".offerPlayLater"].style.fill = "#DDDDDD";
    d.styles[".offerPlayNow"].style.fill = "#DDDDDD";
    d.styles[".yourWinIs"].style.fill = "#DDDDDD";
    d.styles[".offersWin"].style.fill =
        "#919191";
    return d
};
nge.App[nge.appNS].Tpl.Groups.UI_v3.Silver.ScrollbarVertical = function(d) {
    d = nge.App[nge.appNS].Tpl.Groups.ScrollbarVertical(d);
    var b = d.assets.contents.filter(function(b) {
        return -1 !== b.fullPath.indexOf("scroll_bg")
    })[0];
    b.fullPath = b.fullPath.replace("scroll_bg", "scroll_bg2");
    b = d.assets.contents.filter(function(b) {
        return -1 !== b.fullPath.indexOf("scroll_touch")
    })[0];
    b.fullPath = b.fullPath.replace("scroll_touch", "scroll_touch2");
    return d
};
nge.App[nge.appNS].Tpl.Groups.UI_v3.Silver.Tabs = function() {
    var d = nge.App[nge.appNS].Tpl.Groups.Tabs();
    d.styles["^headersContainer .active .tabHeaderText"].style.fill = "#FFFFFF";
    d.styles["^headersContainer .tabHeaderText"].style.fill = "#707070";
    return d
};
nge.App[nge.appNS].Tpl.Groups.UI_v3.Silver.Ui = function() {
    var d = nge.App[nge.appNS].Tpl.Groups.UI_v3.Ui();
    d.styles[".autobuttonAmountTextBaseYellow"].style.fill = "#DDDDDD";
    d.styles[".autobuttonAmountTextBase"].style.fill = "#FFFFFF";
    d.styles[".buttonLinesText"].style.fill = "#DDDDDD";
    d.styles[".buttonLinesText"].style.stroke = "#3D3D3D";
    d.styles[".freespinPlayedText"].style.fill = "#DDDDDD";
    d.styles[".linesNumber"].style.fill = "#FFFFFF";
    d.styles[".coinsNumber"].style.fill = "#FFFFFF";
    d.styles[".creditsTotalBetNumber"].style.fill =
        "#FFFFFF";
    d.styles[".totalBetNumber"].style.fill = "#FFFFFF";
    d.styles[".creditsNumber"].style.fill = "#FFFFFF";
    d.styles[".balanceNumber"].style.fill = "#FFFFFF";
    d.styles[".balanceCurrency"].style.fill = "#FFFFFF";
    d.styles[".winNumber"].style.fill = "#FFFFFF";
    d.styles[".creditsWinNumber"].style.fill = "#FFFFFF";
    return d
};
nge.App[nge.appNS].Tpl.States = {};
nge.App[nge.appNS].Tpl.States.Play = function() {
    var d = nge.appPath + "img/",
        b = nge.tpl.group("playStyles"),
        h = nge.tpl.group("linesMarkers");
    d = {
        styles: b.styles,
        assets: {
            name: "assets",
            contents: [{
                name: "groupLinesMarkers",
                contents: h.assets.contents
            }, {
                key: "ui_group",
                fullPath: d + "playarea/ui_group.png"
            }, {
                key: "playareaBg",
                fullPath: d + "playarea/bg.jpg"
            }, {
                key: "playareaLogo",
                fullPath: d + "playarea/logo_000.png"
            }, {
                key: "jackpotPopup_group",
                fullPath: d + "playarea/jackpotPopup_group.png"
            }]
        },
        objects: {
            name: "objects",
            contents: [{
                type: 0,
                name: "jackpotPopup_group",
                assetKey: "jackpotPopup_group",
                x: "0",
                y: "0",
                alpha: "1"
            }, {
                type: 1,
                name: "jackpotStatusPanelContainer"
            }, {
                type: 0,
                x: 960,
                anchorX: .5,
                name: "playareaLogo",
                assetKey: "playareaLogo"
            }, {
                type: 1,
                name: "helpContainer"
            }, {
                type: 0,
                name: "ui_group",
                assetKey: "ui_group",
                x: "0",
                y: "0",
                alpha: "1"
            }, {
                type: 1,
                name: "fullscreenContainer"
            }, {
                type: 1,
                name: "gambleContainer"
            }, {
                type: 1,
                name: "winlinesAddonContainer"
            }, {
                type: 1,
                name: "slotMachineContainer",
                contents: h.objects.contents
            }, {
                type: 0,
                name: "playareaBg",
                assetKey: "playareaBg"
            }]
        }
    };
    b = nge.localData.get("actions") || [];
    h = [];
    for (var g = 0; g < b.length; g++) b[g].type && "offer" === b[g].type && h.push(b[g]);
    if (0 === h.length) return d;
    d.assets.contents.push({
        key: "offers_group",
        fullPath: "offers_group.png"
    });
    d.objects.contents.splice(1, 0, {
        type: 0,
        name: "offers_group",
        assetKey: "offers_group",
        x: "0",
        y: "0",
        alpha: "1"
    });
    return d
};
nge.App[nge.appNS].Tpl.States.Jackpot = function() {
    return {
        assets: {
            name: "assets",
            contents: []
        },
        objects: {
            name: "objects",
            contents: [{
                type: 0,
                name: "jackpotLoaderBg",
                assetKey: "jackpotLoaderBg"
            }]
        }
    }
};
nge.App[nge.appNS].Tpl.States.JackpotLoader = function() {
    return {
        assets: {
            name: "assets",
            contents: []
        },
        objects: {
            name: "objects",
            contents: [{
                type: 0,
                name: "jackpotLoaderBg",
                assetKey: "jackpotLoaderBg"
            }]
        }
    }
};
nge.App[nge.appNS].Tpl.States.LoadAssets = function(d) {
    d || (d = nge.appPath + "img/");
    return {
        assets: {
            name: "assets",
            contents: [{
                key: "/black-bg.png",
                fullPath: d + "black-bg.png",
                qualityObeys: !1
            }, {
                key: "black-bg",
                fullPath: d + "black-bg.png",
                qualityObeys: !1
            }, {
                key: "popup/bigWinBg",
                fullPath: d + "black-bg.png",
                qualityObeys: !1
            }, {
                key: "blackFullHd",
                fullPath: d + "blackFullHd.jpg"
            }, {
                key: "navBg",
                fullPath: d + "black-bg.png"
            }, {
                key: "betSettingsBg",
                fullPath: d + "black-bg.png"
            }, {
                key: "playareaBg",
                fullPath: d + "playarea/bg.jpg"
            }, {
                key: "gambleBG",
                fullPath: d + "gamble/db_back.jpg"
            }, {
                key: "p1bg",
                fullPath: d + "help/gn_rules_p1.png"
            }, {
                key: "p2bg",
                fullPath: d + "help/gn_rules_p2.png"
            }, {
                key: "p3bg",
                fullPath: d + "help/gn_rules_p3.png"
            }]
        },
        objects: {
            name: "objects",
            contents: []
        }
    }
};
nge.appNS = "ClassicGameBaseInstanceMode";
nge.App[nge.appNS] = {};
nge.App[nge.appNS].Run = nge.App.ClassicGameBase.Run.extend(function() {
    this.applyClassicGameBase = function() {
        nge.App.ClassicGameBase && (nge.App[nge.appNS] = nge.Lib.Helper.mergeObjsRecursive(nge.App.ClassicGameBase, nge.App[nge.appNS]))
    };
    this.run = function() {
        this.runDefault()
    }
});
nge.Cfg.Main.project = "classicGameBaseInstanceMode";
nge.Cfg.Main.title = "ClassicGameBaseInstanceMode";
nge.Cfg.Main.gameCode = nge.gameCode;
nge.Cfg.Main.gameType = "slot";
nge.Cfg.Main.slotType = "standart";
nge.App[nge.appNS].Path = "app/classicGameBaseInstanceMode/";
nge.App[nge.appNS].Cfg = {};
nge.App[nge.appNS].Com = {};
nge.App[nge.appNS].Com.Gamble = {};
nge.App[nge.appNS].Com.Gamble._Package = {
    name: "com.gamble",
    version: 1,
    requirments: {
        js: ["com/gamble/controller", "com/gamble/tpl"]
    }
};
nge.App[nge.appNS].Com.Gamble.ShowingAnimation = {};
nge.App[nge.appNS].Com.Gamble.ShowingAnimation.CfgMode = Class.extend(function() {
    this.singleton = !0;
    this.params = {
        from: -709,
        to: 0,
        tweenDuration: 200,
        offsetX: 0,
        offsetY: 0,
        offsetWidth: 0,
        offsetHeight: 0
    };
    this.get = function() {
        return this.params
    }
});
nge.App[nge.appNS].Com.Gamble.ShowingAnimation.ControllerExtension = function() {
    var d;
    this.create = function() {
        this.super.create();
        d = this.getInstance("CfgMode").get();
        var b = nge.findOne("^slotMachineGameContainer").getData(),
            h = nge.findOne("^slotMachineGameContainer").parent.getData(),
            g = nge.findOne("^gambleContainer"),
            f = nge.game.add.graphics();
        f.lineStyle(0);
        f.beginFill(16777215);
        f.drawRect(+h.x + d.offsetX, +h.y + d.offsetY, +b.width + d.offsetWidth, +b.height + d.offsetHeight);
        f.endFill();
        g && (g.mask = f)
    }
};
nge.App[nge.appNS].Com.Gamble.ShowingAnimation.ViewExtension = function() {
    var d, b, h, g;
    this.init = function() {
        this.super.init();
        d = nge.findOne("^winlinesAddon");
        b = nge.findOne("^gambleScreen");
        b.visible = !1;
        h = this.getInstance("CfgMode").get()
    };
    this.showGambleScreen = function() {
        this.toggleSlotMachine(!1);
        b.y = h.from;
        b.visible = !0;
        g && g.stop();
        g = nge.game.add.tween(b).to({
            y: h.to
        }, h.tweenDuration, Phaser.Easing.Linear.None, !1);
        g.start();
        d.visible = !1
    };
    this.showSlotMachine = function() {
        this.toggleSlotMachine(!0);
        b.y =
            h.to;
        g && g.stop();
        g = nge.game.add.tween(b).to({
            y: h.from
        }, h.tweenDuration, Phaser.Easing.Linear.None, !1);
        g.onComplete.add(function() {
            b.visible = !1
        });
        g.start();
        d.visible = !0
    }
};
nge.App[nge.appNS].Com.Gamble.ShowingAnimation.Controller = nge.App.ClassicGameBase.Com.Gamble.Controller.extend(nge.App[nge.appNS].Com.Gamble.ShowingAnimation.ControllerExtension);
nge.App[nge.appNS].Com.Gamble.ShowingAnimation.extender = nge.App.ClassicGameBasePsd ? nge.App.ClassicGameBasePsd : nge.App.ClassicGameBase;
nge.App[nge.appNS].Com.Gamble.ShowingAnimation.View = nge.App[nge.appNS].Com.Gamble.ShowingAnimation.extender.Com.Gamble.View.extend(nge.App[nge.appNS].Com.Gamble.ShowingAnimation.ViewExtension);
nge.App[nge.appNS].Com.InnerJackpot = {};
nge.App[nge.appNS].Com.InnerJackpot.CfgMode = Class.extend(function() {
    this.singleton = !0;
    this.params = {
        selectors: [{
            selector: ".jackpotTop",
            symbol: 0
        }, {
            selector: ".jackpotMiddle",
            symbol: 1
        }, {
            selector: ".jackpotLow",
            symbol: 3
        }]
    };
    this.get = function() {
        return this.params
    }
});
nge.App[nge.appNS].Com.InnerJackpot.Controller = nge.Com.Base.extend(function() {
    var d = this,
        b, h, g, f, a, c = [],
        e, k, l = [],
        m = [],
        q, n, p, r = !1;
    this.currencyColor = "#00BFFF";
    this.create = function() {
        this.super.create();
        b || (nge.observer.add("innerJackpot.show", u), nge.observer.add("slotMachine.spinStart", t), nge.observer.add("slotMachine.spinStart", B), nge.observer.add("gamble.take", t), nge.observer.add("gamble.go", t), nge.observer.add("bet.change", A), nge.observer.add("lines.change", A), nge.observer.add("coins.change", A),
            nge.observer.add("buttons.pressCommand", z), nge.observer.add("transportMessage.PayoutsUpdateResponse", y));
        h = this.getInstance("CfgMode").get();
        e = null;
        g = nge.findOne("^innerJackpotackpotPopup");
        f = nge.findOne("^innerJackpotPopupText");
        a = nge.findOne("^innerJackpotPopupImg");
        var d = nge.findOne("^slotMachineGameContainer"),
            n = nge.findAll(".slotMachineJackpotValue"),
            p;
        for (p = 0; p < n.length; p++) d.add(n[p]);
        d = nge.findOne("^gambleScreen");
        n = nge.findAll(".gambleJackpotValue");
        for (p = 0; p < n.length; p++) d.add(n[p]);
        c = [];
        h.selectors.forEach(function(a) {
            var b = nge.findAll(a.selector);
            b && b.forEach(function(b) {
                c.push({
                    element: b,
                    symbol: a.symbol
                })
            })
        });
        l = nge.findAll(".jackpotPlayareaValue");
        m = nge.findAll(".creditsJackpotPlayareaValue");
        B();
        k = v(nge.localData.get("payout.cfg"));
        x();
        return b = !0
    };
    var u = function() {
            g.visible = !0;
            var b = nge.localData.get("slotMachine.slotWin.totalWin");
            b = nge.Lib.Money.toCoins(b);
            nge.observer.fire("infoPanel.showText", {
                text: "WIN " + b,
                position: "up",
                colors: [{
                    color: "#ff8600",
                    from: 4
                }]
            });
            f.text = b;
            a.alpha =
                0;
            e = nge.game.add.tween(a).to({
                alpha: 1
            }, 700, Phaser.Easing.Linear.None, !0, 0, -1, !0)
        },
        t = function() {
            g.visible = !1;
            e && e.stop()
        },
        v = function(a) {
            var b = {},
                c = 0,
                d = a.length,
                e = 0;
            a: for (; e < d; e++) {
                var f = a[e].symbols,
                    g = a[e].payout,
                    h = a[e].matchCount,
                    k = 0,
                    l = f[0];
                if (0 !== g && 20 === f.length) {
                    if (0 < h) l = "any_" + f.join("_"), k = h;
                    else {
                        h = f.length;
                        for (var m = 0; m < h; m++) {
                            if (l !== f[m]) continue a;
                            k++
                        }
                    }
                    b[l] || (c++, b[l] = {
                        name: k,
                        value: g
                    })
                }
            }
            return 7 > c ? null : b
        },
        w = function(a, b) {
            if (!a) return !1;
            b || (b = " ");
            a = a.toString().split(".");
            a[0] = a[0].replace(/\B(?=(\d{3})+(?!\d))/g,
                b);
            return a.join(".")
        },
        x = function() {
            if (k) {
                var a = nge.localData.get("lines.value"),
                    b = nge.localData.get("bet.value"),
                    e = nge.localData.get("coins.value"),
                    f = r ? a * b * e / q : 1,
                    g = r ? a * b / n : 1;
                c && c.forEach(function(a) {
                    a.element.text = Math.round(k[a.symbol].value / p * g).toString()
                });
                var h = nge.localData.get("balance.currency") || "";
                l.forEach(function(a) {
                    var b = w((k["0"].value * f).toFixed(2));
                    a.text = b + " " + h;
                    a.clearColors();
                    a.addColor(d.currencyColor, b.length);
                    a.maxSizeResize("width", 240)
                });
                m.forEach(function(a) {
                    a.text = w(Math.round(k["0"].value /
                        p * g));
                    a.maxSizeResize("width", 240)
                })
            }
        },
        y = function(a) {
            a && a.data && a.data.payouts && (k = v(a.data.payouts));
            x()
        },
        z = function(a) {
            -1 === a.indexOf("hold") && -1 === a.indexOf("linePlusMobile") && -1 === a.indexOf("lineMinusMobile") && -1 === a.indexOf("linesChanger") || nge.rafSetTimeout(x, 200)
        },
        B = function() {
            r = !1;
            var a = nge.localData.get("lines.value"),
                b = nge.localData.get("bet.value"),
                c = nge.localData.get("coins.value");
            p = c;
            q = a * b * c;
            n = a * b
        },
        A = function() {
            r = !0;
            x()
        }
});
nge.App[nge.appNS].Com.InnerJackpot.Tpl = function() {
    var d = nge.appPath + "img/playarea/";
    return {
        styles: {
            ".jackpotPopupYellow": {
                style: {
                    font: '40pt "arial_bold"',
                    fill: "#FFFF00",
                    align: "center",
                    stroke: "#222222",
                    strokeThickness: 6
                }
            }
        },
        assets: {
            contents: [{
                key: "jackpot_0",
                fullPath: d + "jackpot_0.png"
            }, {
                key: "jackpot_1",
                fullPath: d + "jackpot_1.png"
            }]
        },
        objects: {
            contents: [{
                type: 1,
                isVisible: !1,
                name: "innerJackpotPopup",
                contents: [{
                        type: 2,
                        x: 970,
                        y: 630,
                        anchorX: .5,
                        anchorY: .5,
                        class: "jackpotPopupYellow",
                        name: "innerJackpotPopupText"
                    },
                    {
                        type: 0,
                        x: 960,
                        y: 450,
                        anchorX: .5,
                        anchorY: .5,
                        assetKey: "jackpot_1",
                        name: "innerJackpotPopupImg"
                    }, {
                        type: 0,
                        x: 960,
                        y: 450,
                        anchorX: .5,
                        anchorY: .5,
                        assetKey: "jackpot_0"
                    }
                ]
            }]
        }
    }
};
nge.App[nge.appNS].Com.InnerJackpot.UI_v3 = {};
nge.App[nge.appNS].Com.InnerJackpot.UI_v3.Gold = {};
nge.App[nge.appNS].Com.InnerJackpot.UI_v3.Gold.Controller = nge.App[nge.appNS].Com.InnerJackpot.Controller.extend(function() {
    this.currencyColor = "#EFC273"
});
nge.App[nge.appNS].Com.SlotMachine = {};
nge.App[nge.appNS].Com.SlotMachine._Package = {
    name: "com.slotMachine",
    version: 1,
    requirments: {
        js: ["com/slotMachine/cfg"]
    }
};
nge.App[nge.appNS].Com.SlotMachine.TempBlurs = {};
nge.App[nge.appNS].Com.SlotMachine.TempBlurs.CfgMode = Class.extend(function() {
    this.singleton = !0;
    this.params = {
        freeUseSymbols: "5 6 7 8 9 10".split(" "),
        scatter: {
            name: "11",
            size: 1,
            probability: 20,
            countInReel: 3
        },
        symbolPucksCfg: [{
            name: "0",
            combinations: [{
                size: 3,
                probability: 20,
                countInReel: 2
            }]
        }, {
            name: "1",
            combinations: [{
                size: 3,
                probability: 20,
                countInReel: 2
            }]
        }, {
            name: "2",
            combinations: [{
                size: 3,
                probability: 20,
                countInReel: 2
            }]
        }, {
            name: "3",
            combinations: [{
                size: 4,
                probability: 15,
                countInReel: 1
            }]
        }, {
            name: "4",
            combinations: [{
                size: 4,
                probability: 15,
                countInReel: 1
            }]
        }, {
            name: "5",
            combinations: [{
                size: 2,
                probability: 2,
                countInReel: 2
            }, {
                size: 3,
                probability: 20,
                countInReel: 2
            }, {
                size: 4,
                probability: 15,
                countInReel: 2
            }]
        }, {
            name: "6",
            combinations: [{
                size: 2,
                probability: 2,
                countInReel: 2
            }, {
                size: 3,
                probability: 20,
                countInReel: 2
            }, {
                size: 4,
                probability: 15,
                countInReel: 2
            }]
        }, {
            name: "7",
            combinations: [{
                size: 2,
                probability: 2,
                countInReel: 2
            }, {
                size: 3,
                probability: 20,
                countInReel: 2
            }, {
                size: 4,
                probability: 15,
                countInReel: 2
            }]
        }, {
            name: "8",
            combinations: [{
                    size: 2,
                    probability: 2,
                    countInReel: 2
                },
                {
                    size: 3,
                    probability: 20,
                    countInReel: 2
                }, {
                    size: 4,
                    probability: 15,
                    countInReel: 2
                }
            ]
        }, {
            name: "9",
            combinations: [{
                size: 2,
                probability: 2,
                countInReel: 2
            }, {
                size: 3,
                probability: 20,
                countInReel: 2
            }, {
                size: 4,
                probability: 15,
                countInReel: 2
            }]
        }, {
            name: "10",
            combinations: [{
                size: 2,
                probability: 2,
                countInReel: 2
            }, {
                size: 3,
                probability: 20,
                countInReel: 2
            }, {
                size: 4,
                probability: 15,
                countInReel: 2
            }]
        }, {
            name: "12",
            combinations: [{
                size: 5,
                probability: 15,
                countInReel: 1
            }]
        }]
    };
    this.get = function() {
        return this.params
    }
});
nge.App[nge.appNS].Com.SlotMachine.TempBlurs.ControllerExtension = function() {
    var d, b, h;
    this.create = function() {
        this.super.create();
        d = this;
        b = d._service._view;
        h = this.getInstance("CfgMode").get()
    };
    var g = function() {
            d.slotMachineUpdateBlurs()
        },
        f = function(a) {
            nge.localData.set("slotMachineAdditionalBlurs", [1, 1, 1, 1, 1]);
            var c = [];
            a = a.spinResult.columns;
            var d = h.freeUseSymbols,
                f;
            for (f = 0; f < a.length; f++) {
                c[f] = [];
                for (var g = 0; g < h.symbolPucksCfg.length; g++) {
                    var m = 1 < h.symbolPucksCfg[g].combinations.length ? h.symbolPucksCfg[g].combinations[nge.Lib.Helper.getRandomInt(0,
                        h.symbolPucksCfg[g].combinations.length - 1)].size : h.symbolPucksCfg[g].combinations[0].size;
                    var q = f,
                        n = h.symbolPucksCfg[g].name;
                    var p = n;
                    var r = nge.Lib.Helper.jsObjClone(a[q]);
                    r.reverse();
                    var u = 0;
                    if (r[0] === p) {
                        for (var t = u = 1; t < r.length; t++)
                            if (r[t] === p) u++;
                            else break;
                        u = m - u
                    }
                    for (p = u; p > b._cfg.mh;) c[q].push("blurTemp-" + n + "-x" + b._cfg.mh), p -= b._cfg.mh;
                    0 < p && c[q].push("blurTemp-" + n + "-x" + p)
                }
            }
            for (f = 0; f < a.length; f++)
                if (0 === c[f].length && 85 > nge.Lib.Helper.getRandomInt(0, 99)) {
                    do g = d[nge.Lib.Helper.getRandomInt(0, d.length -
                        1)]; while (g === a[f][b._cfg.mh - 1]);
                    m = 50 > nge.Lib.Helper.getRandomInt(0, 99) ? 3 : 4;
                    c[f].push("blurTemp-" + g + "-x" + m)
                } nge.localData.set("slotMachineAdditionalBlursKeys", c)
        };
    this.slotMachineUpdateBlurs = function() {
        nge.localData.get("freespin.inProgress") ? nge.observer.fire("slotMachine.updateBlurs") : nge.observer.fire("slotMachine.updateBlurs", null, 5)
    };
    this.customSubscribe = function() {
        this.super.customSubscribe();
        nge.observer.add("slotMachine.spinComplete", g);
        nge.observer.add("slotMachine.spinResponse", f)
    }
};
nge.App[nge.appNS].Com.SlotMachine.TempBlurs.Controller = nge.Com.SlotMachine.Controller.extend(nge.App[nge.appNS].Com.SlotMachine.TempBlurs.ControllerExtension.clone());
nge.App[nge.appNS].Com.SlotMachine.TempBlurs.ViewExtension = function() {
    var d = this,
        b, h;
    this.createSlotMachine = function(a, e, f, l) {
        b = d.getInstance("CfgMode").get();
        h = b.freeUseSymbols;
        this.super.createSlotMachine(a, e, f, l);
        g()
    };
    var g = function() {
            nge.localData.set("slotMachine.tempBlur.generating", !0);
            for (var a = b.symbolPucksCfg, e = 0; e < d._cfg.mw; e++) a.forEach(function(a) {
                for (var b = a.combinations[a.combinations.length - 1].size, c = 1; c <= b; c++) {
                    for (var e = a.name, f = c, g = [], k = 0; 4 > k; k++) g.push(k < f ? e : h[nge.Lib.Helper.getRandomInt(0,
                        h.length - 1)]);
                    d._createTempBlur(g, "blurTemp-" + e + "-x" + f)
                }
            });
            nge.localData.set("slotMachine.tempBlur.generating", !1)
        },
        f = function(a, b, d, f) {
            var c = 0;
            if (b[0] === d) {
                c = 1;
                var e;
                for (e = 1; e < b.length; e++)
                    if (b[e] === d) c++;
                    else break;
                for (e = 0; e < f - c; e++) a[e] = d;
                c = f - c
            }
            return c
        },
        a = function(a, b, d) {
            var c = 0,
                e;
            for (e = 0; e < d.length; e++) c += d[e].p;
            for (e = 0; e < d.length; e++) d[e].p /= c, d[e].p *= 1E6, 0 < e && (d[e].p += d[e - 1].p);
            c = [];
            for (e = 0; e < d.length; e++) c.push(0);
            var f = -1;
            for (e = b; e < a.length; e++) {
                var g = nge.Lib.Helper.getRandomInt(0, 999999);
                for (b = 0; b < d.length; b++)
                    if (e < a.length - d[b].count && g < d[b].p && c[b] <= d[b].max && f !== d[b].symbol) {
                        f = d[b].symbol;
                        for (g = 0; g < d[b].count; g++) a[e] = d[b].symbol, e++;
                        e--;
                        c[b]++;
                        break
                    }
            }
            return a
        };
    this._getBlurKeys = function(c, d) {
        if (c === this._cfg.mh && nge.localData.get("slotMachine.tempBlur.generating")) return d;
        var e = this.super._getBlurKeys(c, d),
            g = nge.localData.get("slotMachine.spinResult.columns");
        g || (g = nge.Lib.Helper.rowsToColumns(nge.localData.get("slotMachine.gameParameters.initialSymbols")));
        var m = this._cfg.th.indexOf(c);
        if (-1 !== m) {
            e = e.reverse();
            var q = [],
                n = -1;
            b.symbolPucksCfg.forEach(function(a) {
                var b = a.combinations[a.combinations.length - 1];
                0 === n && (n = f(e, g[m], a.name, b.size));
                q.push({
                    symbol: a.name,
                    count: b.size,
                    max: b.countInReel,
                    p: b.probability
                })
            });
            q.push({
                symbol: b.scatter.name,
                count: b.scatter.size,
                max: b.scatter.countInReel,
                p: b.scatter.probability
            });
            var p = [2, 3, 4][nge.Lib.Helper.getRandomInt(0, 2)];
            h.forEach(function(a) {
                0 === n && (n = f(e, g[m], a, p))
            });
            0 < q.length && a(e, n + 1, q);
            e = e.reverse()
        }
        return e
    }
};
nge.App[nge.appNS].Com.SlotMachine.TempBlurs.View = nge.Com.SlotMachine.View.extend(nge.App[nge.appNS].Com.SlotMachine.TempBlurs.ViewExtension);
nge.App[nge.appNS].Com.Winlines = {};
nge.App[nge.appNS].Com.Winlines.CachedMarkers = {};
nge.App[nge.appNS].Com.Winlines.CachedMarkers.CfgMode = Class.extend(function() {
    this.singleton = !0;
    this.params = {
        leftMarkers: {
            containerName: "lineMarkersLeftContainer",
            x: 201,
            y: 204
        },
        rightMarkers: {
            containerName: "lineMarkersRightContainer",
            x: 1600,
            y: 204
        }
    };
    this.get = function() {
        return this.params
    }
});
nge.App[nge.appNS].Com.Winlines.CachedMarkers.ControllerExtension = function() {
    var d, b, h = {};
    this.create = function() {
        this.super.create();
        b = this.getInstance("CfgMode").get();
        h[b.leftMarkers.containerName] = {
            container: null,
            sprite: null,
            x: b.leftMarkers.x,
            y: b.leftMarkers.y
        };
        h[b.rightMarkers.containerName] = {
            container: null,
            sprite: null,
            x: b.rightMarkers.x,
            y: b.rightMarkers.y
        };
        f()
    };
    var g = function(a) {
            h[a].container || (h[a].container = nge.findOne("^".concat(a)));
            if (!h[a].container) return console.warn("Check lineMarkers container name"),
                !1;
            h[a].sprite && (h[a].sprite.visible = !1, h[a].sprite.destroy(), h[a].sprite = null);
            var b = h[a].container;
            b.visible = !0;
            var c = b.generateTexture();
            h[a].sprite = nge.game.add.sprite(h[a].x, h[a].y, c);
            c = nge.localData.get("lines.value") + "";
            h[a].sprite.y += _offsets[c] || 0;
            b.parent.addChild(h[a].sprite);
            b.visible = !1
        },
        f = function() {
            Object.getOwnPropertyNames(h).forEach(g);
            d = null
        },
        a = function() {
            d && nge.rafClearTimeout(d);
            d = nge.rafSetTimeout(f, 1)
        };
    this.customSubscribe = function() {
        this.super.customSubscribe();
        nge.observer.add("lines.set",
            a)
    }
};
nge.App[nge.appNS].Com.Winlines.CachedMarkers.Controller = nge.Com.Winlines.Controller.extend(nge.App[nge.appNS].Com.Winlines.CachedMarkers.ControllerExtension.clone());
nge.App[nge.appNS].Com.WinlinesAddon = {};
nge.App[nge.appNS].Com.WinlinesAddon._Package = {
    name: "com.winlinesAddon",
    version: 1,
    requirments: {
        js: ["com/winlinesAddon/controller", "com/winlinesAddon/tpl"]
    }
};
nge.App[nge.appNS].Com.WinlinesAddon.AnimationFrames = {};
nge.App[nge.appNS].Com.WinlinesAddon.AnimationFrames.CfgMode = Class.extend(function() {
    this.singleton = !0;
    this.params = {
        border: {
            types: ["small", "small_bonus"],
            weight: 6,
            offsetX: 40,
            offsetY: 0,
            textOffsetX: 55,
            textOffsetY: 39,
            width: 98,
            height: 36,
            colors: ["0x5788f7", "0xf0d484"],
            alpha: 1,
            stroke: {
                weight: 2,
                colors: ["0x5788f7", "0xf0d484"],
                alpha: 1
            },
            background: {
                color: "0x000",
                alpha: 1
            },
            textSameColor: !1
        },
        scaleFactor: 1.15,
        borderWin: 2,
        borderWinOffsets: !1,
        routeframesUnderSymbols: !1,
        rowsXoffset: !1,
        rowsYoffset: !1,
        textStyle: {
            font: 'bold 18pt "roboto_condensed_regular"',
            fill: "#fff",
            align: "left"
        }
    };
    this.get = function() {
        return this.params
    }
});
nge.App[nge.appNS].Com.WinlinesAddon.AnimationFrames.Controller = nge.Com.Base.extend(function() {
    var d, b, h, g, f, a, c, e, k, l, m, q, n;
    this.create = function() {
        k = {};
        l = {};
        d = this;
        g = this.getInstance("Cfg", "slotMachine").get();
        h = this.getInstance("CfgMode").get();
        e = this.getInstance("Cfg", "winlines");
        q = h.border.types[0];
        var r = this.getInstance("Tpl");
        n = nge.findOne("^winlinesAddonContainer");
        nge.objects.create(r.objects.contents[0], n);
        m = nge.findOne("^winlinesAddon");
        if (f = nge.findOne("^" + g.parentName)) {
            r = f.mt.data;
            a =
                r.width / g.mw;
            c = r.height / g.mh;
            r = m;
            for (var t = 0; t < g.mh; t++)
                for (var u = 0; u < g.mw; u++) {
                    var v = nge.objects.create({
                        x: u * a + (g.rowsXoffset ? g.rowsXoffset[t] : 0 + h.rowsXoffset ? h.rowsXoffset[t] : 0),
                        y: t * c + (g.rowsYoffset ? g.rowsYoffset[t] : 0 + h.rowsYoffset ? h.rowsYoffset[t] : 0),
                        type: 0,
                        assetKey: "gn_border_" + q + "0",
                        name: "symbol-frame-" + t + "-" + u,
                        isVisible: !1,
                        scaleX: h.scaleFactor,
                        scaleY: h.scaleFactor
                    }, r);
                    v.name = "symbol-frame-" + t + "-" + u;
                    k[v.name] = v
                }
            p(m)
        }
        h.routeframesUnderSymbols && (r = nge.findOne("^" + g.parentName), r.add(n), n.x -= r.x,
            n.y -= r.y);
        b || d.subscribe();
        return b = !0
    };
    var p = function(a) {
            for (var b, c = function(c) {
                    b = new Phaser.Graphics(nge.game);
                    b.name = "border-win-frame";
                    b.x = 0;
                    b.y = 0;
                    var d = h.border.stroke;
                    if (!1 === d) {
                        var f = null;
                        d = void 0
                    } else {
                        var g = e.stroke;
                        f = d || g;
                        d = d ? d.weight : g ? g.weight : 0
                    }
                    u({
                        width: h.border.width,
                        height: h.border.height,
                        weight: h.border.weight,
                        color: h.border.colors[c],
                        alpha: 0,
                        stroke: f,
                        strokeWeight: d,
                        strokeColor: h.border.stroke.colors[c],
                        strokeAlpha: 0,
                        background: h.border.background
                    }, b);
                    b.cacheAsBitmap = !0;
                    b.visible = !0;
                    f = nge.objects.create({
                        x: 0,
                        y: 0,
                        type: 1,
                        name: "border-win-frame-" + h.border.types[c],
                        isVisible: !1
                    }, a);
                    f.name = "border-win-frame-" + h.border.types[c];
                    f.add(b);
                    k[f.name] = f;
                    a.add(f)
                }, d = function(b) {
                    var c = h.textStyle;
                    h.border.textSameColor && (c = nge.Lib.Helper.jsObjClone(h.textStyle), c.fill = h.border.colors[b].replace("0x", "#"));
                    c = new Phaser.Text(nge.game, 0, 0, "1000", c);
                    c.name = "border-win-text-" + h.border.types[b];
                    c.anchorX = .5;
                    c.anchorY = 1;
                    c.visible = !1;
                    k[c.name] = c;
                    a.add(c)
                }, f = 0; f < h.border.types.length; f++) c(f),
                d(f)
        },
        r = function(a, b, c, d, e, f, g) {
            a.beginFill(f, g || 1);
            a.drawRect(b, c, d, e);
            a.endFill()
        },
        u = function(a, b) {
            var c = function(a, c, d, e, f) {
                a = [{
                    x: 0,
                    y: 0
                }, {
                    x: a,
                    y: 0
                }, {
                    x: a,
                    y: c
                }, {
                    x: 0,
                    y: c
                }];
                for (c = 0; c < a.length; c++) {
                    var g = a[c],
                        h = a[c + 1 >= a.length ? 0 : c + 1],
                        k = b,
                        l = g.x,
                        p = g.y,
                        n = d,
                        m = e;
                    k.beginFill(m, f || 1);
                    k.lineStyle(0, m, 0);
                    k.drawCircle(l, p, n);
                    k.endFill();
                    k = b;
                    l = g.x;
                    g = g.y;
                    p = h.x;
                    h = h.y;
                    n = d;
                    m = e;
                    var q = f || 1;
                    k.beginFill(m, q);
                    k.lineStyle(n, m, q);
                    k.moveTo(l, g);
                    k.lineTo(p, h);
                    k.moveTo(p, h);
                    k.endFill()
                }
            };
            a.background && r(b, 0, 0, a.width, a.height,
                a.background.color, a.background.alpha);
            a.stroke && c(a.width, a.height, a.strokeWeight + a.weight, a.strokeColor, a.strokeAlpha);
            c(a.width, a.height, a.weight, a.color, a.alpha)
        },
        t = function(a) {
            if (nge.localData.get("slotMachineSpinning")) return !1;
            var b = q;
            "undefined" === typeof b && h.border.types[b] && (b = "scatter");
            for (var c in k) k[c].visible = !1;
            for (c = 0; c < a.wonSymbols.length; c++) {
                var d = a.wonSymbols[c],
                    e = k["symbol-frame-" + d[1] + "-" + d[0]];
                if (e) {
                    if (0 === c) {
                        var f = nge.Lib.Money.toCoins(a.amount),
                            g = k["border-win-frame-" + q];
                        g.visible = !0;
                        g.x = e.x + h.border.offsetX;
                        g.y = e.y + h.border.offsetY;
                        k["border-win-text-" + b].x = e.x + h.border.offsetX + (h.border ? h.border.textOffsetX : 0);
                        k["border-win-text-" + b].y = e.y + h.border.offsetY + (h.border ? h.border.textOffsetY : 0);
                        k["border-win-text-" + b].visible = !0;
                        k["border-win-text-" + b].text = f
                    }
                    e.visible = !0;
                    v(d[1] + "-" + d[0], e)
                }
            }
        },
        v = function(a, b) {
            l[a] = nge.Lib.TweenTools.spritesAnimation(1, "gn_border_" + q, b, 2E3);
            l[a].onComplete.add(function() {
                v(a, b)
            });
            l[a].start()
        },
        w = function(a) {
            for (var b in k) k[b].visible = !1;
            for (b in l) l[b] && l[b].stop(!1)
        },
        x = function(a) {
            q = a
        },
        y = function(a) {
            m.visible = a
        };
    this.subscribe = function() {
        h.routeframesUnderSymbols ? nge.observer.add("winlines.lineHighlite.start.previousHided", t) : nge.observer.add("winlines.lineHighlite.startComplete", t);
        nge.observer.add("winlines.view.startHideAll", w);
        nge.observer.add("winlines.enable", y);
        nge.observer.add("winlines.disable", y);
        nge.observer.add("winlines.changeFrameTypeMode", x);
        nge.observer.add("Transport.close", w)
    }
});
nge.App[nge.appNS].Mlm = {};
nge.App[nge.appNS].Mlm.Brain = {};
nge.appNS = "ClassicGameBasePsd";
nge.App[nge.appNS] = {};
nge.App[nge.appNS].Run = nge.App.ClassicGameBaseInstanceMode.Run.extend(function() {
    var d = [1, 3, 5, 7, 9];
    this.applyClassicGameBaseInstanceMode = function() {
        nge.App.ClassicGameBaseInstanceMode && (nge.App[nge.appNS] = nge.Lib.Helper.mergeObjsRecursive(nge.App.ClassicGameBaseInstanceMode, nge.App[nge.appNS]))
    };
    this.run = function() {
        this.runDefault();
        nge.localData.set("lines.cfg", d)
    }
});
nge.Cfg.Main.project = "classicGameBasePsd";
nge.Cfg.Main.title = "ClassicGameBasePsd";
nge.Cfg.Main.gameCode = nge.gameCode;
nge.Cfg.Main.gameType = "slot";
nge.Cfg.Main.slotType = "standart";
nge.App[nge.appNS].Path = "app/classicGameBasePsd/";
nge.App[nge.appNS].Com = {};
nge.App[nge.appNS].Com.Buttons = {};
nge.App[nge.appNS].Com.Buttons._Package = {
    name: "com.spinButton",
    version: 1,
    requirments: {
        js: ["com/spinButton/tpl"]
    }
};
nge.App[nge.appNS].Com.Buttons.Mobile = {};
nge.App[nge.appNS].Com.Buttons.Mobile.Cfg = nge.App.ClassicGameBase.Com.Buttons.Mobile.Cfg.extend(function() {
    this.params.gambleActionRed = {
        name: "gambleActionRedButton",
        asset: "gambleActionRed(spritesX=3)_button",
        bClass: "button",
        disableFrame: 3,
        nonPixelPerfect: !0,
        x: 0,
        y: 0,
        title: "",
        textStyle: {},
        textY: 0,
        textX: 0,
        parentSelector: "^gambleScreen"
    };
    this.params.gambleActionBlack = {
        name: "gambleActionBlackButton",
        asset: "gambleActionRed(spritesX=3)_button",
        bClass: "button",
        disableFrame: 3,
        nonPixelPerfect: !0,
        x: 0,
        y: 0,
        title: "",
        textStyle: {},
        textY: 0,
        textX: 0,
        parentSelector: "^gambleScreen"
    }
});
nge.App[nge.appNS].Com.Buttons.UI_v3 = {};
nge.App[nge.appNS].Com.Buttons.UI_v3.Cfg = nge.App.ClassicGameBase.Com.Buttons.UI_v3.Cfg.extend(function() {
    var d = {
        name: "gambleActionRedButton",
        asset: "gambleActionRed(spritesX=3)_button",
        bClass: "button",
        disableFrame: 3,
        nonPixelPerfect: !0,
        x: 0,
        y: 0,
        title: "",
        textStyle: {},
        textY: 0,
        textX: 0,
        parentSelector: "^gambleScreen"
    };
    this.params.gambleActionRed = d;
    this.play.gambleActionRed = d;
    d = {
        name: "gambleActionBlackButton",
        asset: "gambleActionRed(spritesX=3)_button",
        bClass: "button",
        disableFrame: 3,
        nonPixelPerfect: !0,
        x: 0,
        y: 0,
        title: "",
        textStyle: {},
        textY: 0,
        textX: 0,
        parentSelector: "^gambleScreen"
    };
    this.params.gambleActionBlack = d;
    this.play.gambleActionBlack = d
});
nge.App[nge.appNS].Com.CurrencySwitcher = {};
nge.App[nge.appNS].Com.CurrencySwitcher.Controller = nge.App.ClassicGameBase.Com.CurrencySwitcher.Controller.extend(function() {
    delete this.selectors.creditsSelectors["#gambleToWinCredits"];
    delete this.selectors.creditsSelectors["#gambleAmountCredits"];
    delete this.selectors.currencySelectors["#gambleToWin"];
    delete this.selectors.currencySelectors["#gambleAmount"];
    this.selectors.creditsSelectors["^gambleToWinCredits"] = null;
    this.selectors.creditsSelectors["^gambleAmountCredits"] = null;
    this.selectors.currencySelectors["^gambleToWin"] =
        null;
    this.selectors.currencySelectors["^gambleAmount"] = null
});
nge.App[nge.appNS].Com.CurrencySwitcher.Mobile = {};
nge.App[nge.appNS].Com.CurrencySwitcher.Mobile.Controller = nge.App.ClassicGameBase.Com.CurrencySwitcher.Mobile.Controller.extend(function() {
    delete this.selectors.creditsSelectors["#gambleToWinCredits"];
    delete this.selectors.creditsSelectors["#gambleAmountCredits"];
    delete this.selectors.currencySelectors["#gambleToWin"];
    delete this.selectors.currencySelectors["#gambleAmount"];
    this.selectors.creditsSelectors["^gambleToWinCredits"] = null;
    this.selectors.creditsSelectors["^gambleAmountCredits"] = null;
    this.selectors.currencySelectors["^gambleToWin"] =
        null;
    this.selectors.currencySelectors["^gambleAmount"] = null
});
nge.App[nge.appNS].Com.Freespin = {};
nge.App[nge.appNS].Com.Freespin._Package = {
    name: "com.help",
    version: 1,
    requirments: {
        js: ["com/freespin/controller", "com/freespin/tpl"]
    }
};
nge.App[nge.appNS].Com.Freespin.Tpl = function() {
    return {
        assets: {
            contents: []
        },
        objects: {
            contents: []
        }
    }
};
nge.App[nge.appNS].Com.Fullscreen = {};
nge.App[nge.appNS].Com.Fullscreen._Package = {
    name: "com.fullscreen",
    version: 1,
    requirments: {
        js: ["com/fullscreen/controller", "com/fullscreen/tpl"]
    }
};
nge.App[nge.appNS].Com.Fullscreen.Tpl = function() {};
nge.App[nge.appNS].Com.Gamble = {};
nge.App[nge.appNS].Com.Gamble.Tpl = function(d) {
    return {
        styles: {},
        assets: {
            name: "assets",
            contents: []
        },
        objects: {
            name: "objects",
            contents: []
        }
    }
};
nge.App[nge.appNS].Com.Gamble.View = nge.App.ClassicGameBase.Com.Gamble.View.extend(function() {
    this.selector = "^";
    var d = this;
    this.initVars = function(b) {
        Object.getOwnPropertyNames(b).forEach(function(h) {
            var g = d.selector.concat(h); - 1 !== ["gambleActionRed", "gambleActionBlack"].indexOf(h) && (g = g.concat("ButtonButton"));
            b[h] = nge.findOne(g)
        })
    }
});
nge.App[nge.appNS].Com.Gamble.ShowingAnimation = {};
nge.App[nge.appNS].Com.Gamble.ShowingAnimation.View = nge.App[nge.appNS].Com.Gamble.View.extend(nge.App.ClassicGameBaseInstanceMode.Com.Gamble.ShowingAnimation.ViewExtension);
nge.App[nge.appNS].Com.Gamble.UI_v3 = {};
nge.App[nge.appNS].Com.Gamble.UI_v3.Tpl = function() {
    return {
        styles: {},
        assets: {
            name: "assets",
            contents: []
        },
        objects: {
            name: "objects",
            contents: []
        }
    }
};
nge.App[nge.appNS].Com.Load = {};
nge.App[nge.appNS].Com.Load.Cfg = nge.App.ClassicGameBase.Com.Load.Cfg.extend(function() {
    var d = nge.appPath + "css/fonts/";
    this.fonts.segoe_script_bold = d + "segoe_script_bold";
    this.fonts.arial_bold = d + "arial_bold";
    this.fonts.segoe_ui_black = d + "segoe_ui_black";
    this.atlasesGroups = ["atlases", "atlases_play"]
});
nge.App[nge.appNS].Com.Offers = {};
nge.App[nge.appNS].Com.Offers.Tpl = function() {
    var d = new nge.App.ClassicGameBase.Com.Offers.Tpl;
    d.styles[".center"] = {
        anchorX: .5,
        anchorY: .5
    };
    d.styles[".playAreaText"] = {
        style: {
            font: '16pt "roboto_condensed_regular"',
            fill: "#fff",
            align: "left"
        }
    };
    return d
};
nge.App[nge.appNS].Com.Offers.Mobile = {};
nge.App[nge.appNS].Com.Offers.Mobile.Tpl = function() {
    return {
        assets: {
            name: "assets",
            contents: []
        },
        objects: {
            name: "objects",
            contents: []
        }
    }
};
nge.App[nge.appNS].Com.Offers.UI_v3 = {};
nge.App[nge.appNS].Com.Offers.UI_v3.Tpl = function() {
    return {
        assets: {
            name: "assets",
            contents: []
        },
        objects: {
            name: "objects",
            contents: []
        }
    }
};
nge.App[nge.appNS].Com.SlotMachine = {};
nge.App[nge.appNS].Com.SlotMachine._Package = {
    name: "com.slotMachine",
    version: 1,
    requirments: {
        js: ["com/slotMachine/cfg"]
    }
};
nge.App[nge.appNS].Com.SlotMachine.Cfg = nge.Com.SlotMachine.Cfg.extend(function() {
    this.params = {
        mw: 5,
        mh: 3,
        th: [6, 10, 14, 18, 22],
        imageWidth: "original",
        imageHeight: "original",
        parentName: "slotMachineGameContainer",
        imgPath: nge.appPath + "img/symbols/",
        blurAlpha: 1,
        spinCompleteDelay: 500,
        speedUpReelsFactor: 50,
        intrigueSpeedReelsFactor: 1.5,
        tweenDuration: {
            oldSymbols: 150,
            blur: 75,
            newSymbols: 150,
            blurDurationType: "factor",
            animationType: "linear"
        },
        _symbolsBlurKeys: [],
        tweenStartInterval: 0,
        tweenEndInterval: 0,
        blursShiftOnReelsHold: !0
    };
    Object.defineProperty(this.params, "symbolsBlurKeys", {
        get: function() {
            return this._symbolsBlurKeys
        },
        set: function(d) {
            var b = nge.localData.get("scatterSymbols");
            this._symbolsBlurKeys = d.filter(function(d) {
                return -1 === b.indexOf(d)
            })
        }
    });
    this.params.symbolsBlurKeys = nge.App.getInstance("Com.SlotMachine.Symbols").items.map(function(d) {
        return d.name
    })
});
nge.App[nge.appNS].Com.SlotMachine.Symbols = nge.Com.SlotMachine.Symbols.extend(function() {
    var d = function(b, d, g) {
        for (var f = [], a = 0; a < d; a++) f.push(b + nge.Lib.Helper.LdgZero(a, 3) + g);
        return f
    };
    this.items = [{
        name: "0",
        textureUrl: "M00_000.jpg",
        repeat: 4,
        frameTime: 250,
        animateAllWinlinesCycle: !0,
        winlineTime: 2550,
        animationSprite: !1,
        animationSpriteExtension: "jpg",
        frameWidth: 260,
        frameHeight: 260,
        multipack: 1,
        framesInLastSprite: 2,
        animationFrames: d("m00_", 2, ".jpg")
    }, {
        name: "1",
        textureUrl: "M01_000.jpg",
        repeat: 4,
        frameTime: 250,
        animateAllWinlinesCycle: !0,
        winlineTime: 7250,
        animationSprite: !1,
        animationSpriteExtension: "jpg",
        frameWidth: 260,
        frameHeight: 260,
        multipack: 1,
        framesInLastSprite: 2,
        animationFrames: d("m01_", 2, ".jpg")
    }, {
        name: "2",
        textureUrl: "M02_000.jpg",
        frameTime: 150,
        animateAllWinlinesCycle: !0,
        winlineTime: 2200,
        animationSprite: !1,
        animationSpriteExtension: "jpg",
        frameWidth: 260,
        frameHeight: 260,
        multipack: 1,
        framesInLastSprite: 30,
        animationFrames: d("m02_", 30, ".jpg")
    }, {
        name: "3",
        textureUrl: "M03_000.jpg",
        frameTime: 150,
        animateAllWinlinesCycle: !0,
        winlineTime: 4600,
        animationSprite: !1,
        animationSpriteExtension: "jpg",
        frameWidth: 260,
        frameHeight: 260,
        multipack: 1,
        framesInLastSprite: 44,
        animationFrames: d("m03_", 44, ".jpg")
    }, {
        name: "4",
        textureUrl: "M04_000.jpg",
        frameTime: 150,
        animateAllWinlinesCycle: !0,
        winlineTime: 2200,
        animationSprite: !1,
        animationSpriteExtension: "jpg",
        frameWidth: 260,
        frameHeight: 260,
        multipack: 1,
        framesInLastSprite: 23,
        animationFrames: d("m04_", 23, ".jpg")
    }, {
        name: "5",
        textureUrl: "M05_000.jpg",
        repeat: 4,
        frameTime: 250,
        animateAllWinlinesCycle: !0,
        animationSprite: !1,
        animationSpriteExtension: "jpg",
        frameWidth: 260,
        frameHeight: 260,
        multipack: 1,
        framesInLastSprite: 2,
        animationFrames: d("m05_", 2, ".jpg")
    }, {
        name: "6",
        textureUrl: "M06_000.jpg",
        repeat: 4,
        animateAllWinlinesCycle: !0,
        frameTime: 250,
        animationSprite: !1,
        animationSpriteExtension: "jpg",
        frameWidth: 260,
        frameHeight: 260,
        multipack: 1,
        framesInLastSprite: 2,
        animationFrames: d("m06_", 2, ".jpg")
    }, {
        name: "7",
        textureUrl: "M07_000.jpg",
        repeat: 4,
        animateAllWinlinesCycle: !0,
        frameTime: 250,
        animationSprite: !1,
        animationSpriteExtension: "jpg",
        frameWidth: 260,
        frameHeight: 260,
        multipack: 1,
        framesInLastSprite: 2,
        animationFrames: d("m07_", 2, ".jpg")
    }, {
        name: "8",
        textureUrl: "M08_000.jpg",
        repeat: 4,
        animateAllWinlinesCycle: !0,
        frameTime: 250,
        animationSprite: !1,
        animationSpriteExtension: "jpg",
        frameWidth: 260,
        frameHeight: 260,
        multipack: 1,
        framesInLastSprite: 2,
        animationFrames: d("m08_", 2, ".jpg")
    }, {
        name: "9",
        textureUrl: "M09_000.jpg",
        repeat: 4,
        animateAllWinlinesCycle: !0,
        frameTime: 250,
        animationSprite: !1,
        animationSpriteExtension: "jpg",
        frameWidth: 260,
        frameHeight: 260,
        multipack: 1,
        framesInLastSprite: 2,
        animationFrames: d("m09_", 2, ".jpg")
    }, {
        name: "10",
        textureUrl: "M10_000.jpg",
        repeat: 4,
        animateAllWinlinesCycle: !0,
        frameTime: 250,
        animationSprite: !1,
        animationSpriteExtension: "jpg",
        frameWidth: 260,
        frameHeight: 260,
        multipack: 1,
        framesInLastSprite: 2,
        animationFrames: d("m10_", 2, ".jpg")
    }, {
        name: "11",
        textureUrl: "M11_000.jpg",
        frameTime: 150,
        animateAllWinlinesCycle: !0,
        winlineTime: 2E3,
        animationSprite: !1,
        animationSpriteExtension: "jpg",
        frameWidth: 260,
        frameHeight: 260,
        multipack: 1,
        framesInLastSprite: 32,
        animationFrames: d("m11_", 32, ".jpg")
    }, {
        name: "12",
        textureUrl: "M12_000.jpg",
        frameTime: 100,
        animateAllWinlinesCycle: !0,
        animationSprite: !1,
        animationSpriteExtension: "jpg",
        frameWidth: 260,
        frameHeight: 260,
        multipack: 1,
        framesInLastSprite: 15,
        animationFrames: d("m12_", 15, ".jpg")
    }]
});
nge.App[nge.appNS].Com.SlotMachine.Tpl = function() {
    return {
        assets: {
            name: "assets",
            contents: []
        },
        objects: {
            name: "objects",
            contents: [{
                type: 1,
                id: "slotMachineGameContainer",
                name: "slotMachineGameContainer",
                x: 250,
                y: 100,
                width: 1420,
                height: 780
            }]
        }
    }
};
nge.App[nge.appNS].Com.Winlines = {};
nge.App[nge.appNS].Com.Winlines.Cfg = nge.App.ClassicGameBase.Com.Winlines.Cfg.extend(function() {
    this.lineOffsets = [0, 0, 0, -90, 90, -90, 90, 90, -90];
    this.lineColors = "0x01b2ff 0xfe0000 0x008c00 0xfff500 0xff3df6 0x00fe70 0xfcfcf4 0xff8600 0x00fdf5".split(" ");
    this.stroke = {
        weight: 3,
        colors: "0x006ea3 0xc00000 0x005701 0xa59c00 0xbd219e 0x00a145 0x9f9e9a 0xb75300 0x00a19c".split(" ")
    };
    this.lineCustomCoords = []
});
nge.App[nge.appNS].Com.Winlines.View = nge.Com.Winlines.View.extend(function() {
    var d = function(b, h, g) {
        g || (g = 0);
        g += +b[h];
        return b.parent ? d(b.parent, h, g) : g
    };
    this.create = function() {
        var b = this.getInstance("Cfg"),
            h = this.getInstance("Cfg", "slotMachine").get();
        h = nge.findOne("^" + (b.customParentName ? b.customParentName : h.parentName));
        var g = [],
            f, a = 0;
        do {
            if (f = nge.localData.get("coordinates.winline" + (a + 1) + "Point0")) {
                g.push([]);
                var c = 0,
                    e;
                do(e = nge.localData.get("coordinates.winline" + (a + 1) + "Point" + c)) && g[a].push([e.x -
                    d(h, "x"), e.y - d(h, "y")
                ]), c++; while (e)
            }
            a++
        } while (f);
        0 < g.length && (b.lineCustomCoords = g);
        this.super.create()
    }
});
nge.App[nge.appNS].Com.WinlinesAddon = {};
nge.App[nge.appNS].Com.WinlinesAddon.Controller = nge.App.ClassicGameBase.Com.WinlinesAddon.Controller.extend(function() {
    this.lineSelector = "^"
});
nge.App[nge.appNS].Mlm = {};
nge.App[nge.appNS].Mlm.Brain = {};
nge.App[nge.appNS].Mlm.Brain.Slot = nge.App.ClassicGameBase.Mlm.Brain.Slot.extend(function() {
    this.canIntrigue = !0
});
nge.App[nge.appNS].Mlm.Brain.Sounds = nge.App.ClassicGameBase.Mlm.Brain.Sounds.extend(function() {
    var d = this;
    this.soundsForSymbolsHandler = function(b) {
        if (3 <= b.symbolsNames.length && b.symbolsNames.every(function(b) {
                return -1 !== d.scatterSymbols.indexOf(b)
            })) nge.observer.fire("winlines.setCurrentLineDuration", 500, 1);
        else return this.super.soundsForSymbolsHandler(b)
    }
});
nge.App[nge.appNS].Tpl = {};
nge.App[nge.appNS].Tpl.Groups = {};
nge.App[nge.appNS].Tpl.Groups.Atlases = function() {
    var d = nge.appPath + "img/atlases/";
    return {
        assets: {
            name: "assets",
            contents: [{
                    key: "btn",
                    atlas: d + "btn.json",
                    fullPath: d + "btn.png"
                }, {
                    key: "jackpotsPlay0",
                    atlas: d + "jackpotsPlay0.json",
                    fullPath: d + "jackpotsPlay0.png"
                }, {
                    key: "actions",
                    atlas: d + "actions.json",
                    fullPath: d + "actions.png"
                }, {
                    key: "atlas00",
                    atlas: d + "atlas00.json",
                    fullPath: d + "atlas00.png"
                }, {
                    key: "atlas10",
                    atlas: d + "atlas10.json",
                    fullPath: d + "atlas10.jpg"
                }, {
                    key: "popup",
                    atlas: d + "popup0.json",
                    fullPath: d + "popup0.png"
                },
                {
                    key: "symbols_animations10",
                    atlas: d + "symbols_animations10.json",
                    fullPath: d + "symbols_animations10.jpg"
                }, {
                    key: "symbols_animations11",
                    atlas: d + "symbols_animations11.json",
                    fullPath: d + "symbols_animations11.jpg"
                }, {
                    key: "symbols_animations12",
                    atlas: d + "symbols_animations12.json",
                    fullPath: d + "symbols_animations12.jpg"
                }, {
                    key: "symbols_animations13",
                    atlas: d + "symbols_animations13.json",
                    fullPath: d + "symbols_animations13.jpg"
                }
            ]
        },
        objects: {}
    }
};
nge.App[nge.appNS].Tpl.Groups.Atlases_play = function() {
    var d = nge.appPath + "img/";
    return {
        assets: {
            name: "assets",
            contents: [{
                key: "play_atlas1",
                atlas: d + "atlases/play/play_atlas0000.json",
                fullPath: d + "atlases/play/play_atlas0000.png"
            }, {
                key: "play_atlas2",
                atlas: d + "atlases/play/play_atlas0001.json",
                fullPath: d + "atlases/play/play_atlas0001.png"
            }, {
                key: "play_atlas3",
                atlas: d + "atlases/play/play_atlas0002.json",
                fullPath: d + "atlases/play/play_atlas0002.png"
            }, {
                key: "play_atlas4",
                atlas: d + "atlases/play/play_atlas0003.json",
                fullPath: d + "atlases/play/play_atlas0003.png"
            }]
        },
        objects: {}
    }
};
nge.App[nge.appNS].Tpl.Groups.LinesMarkers = function(d) {
    return {
        assets: {
            name: "assets",
            contents: []
        },
        objects: {
            name: "objects",
            contents: []
        }
    }
};
nge.App[nge.appNS].Tpl.States = {};
nge.App[nge.appNS].Tpl.States.Play = function() {
    var d = nge.appPath + "img/";
    return {
        assets: {
            name: "assets",
            contents: [{
                    key: "playareaBg",
                    fullPath: d + "playarea/playareaBg.png"
                }, {
                    key: "lm-r-5",
                    fullPath: d + "playarea/lm-r-5.png"
                }, {
                    key: "lm-r-3",
                    fullPath: d + "playarea/lm-r-3.png"
                }, {
                    key: "lm-r-6",
                    fullPath: d + "playarea/lm-r-6.png"
                }, {
                    key: "lm-r-8",
                    fullPath: d + "playarea/lm-r-8.png"
                }, {
                    key: "lm-r-1",
                    fullPath: d + "playarea/lm-r-1.png"
                }, {
                    key: "lm-r-7",
                    fullPath: d + "playarea/lm-r-7.png"
                }, {
                    key: "lm-r-9",
                    fullPath: d + "playarea/lm-r-9.png"
                },
                {
                    key: "lm-r-4",
                    fullPath: d + "playarea/lm-r-4.png"
                }, {
                    key: "lm-r-2",
                    fullPath: d + "playarea/lm-r-2.png"
                }, {
                    key: "lm-l-4",
                    fullPath: d + "playarea/lm-l-4.png"
                }, {
                    key: "lm-l-2",
                    fullPath: d + "playarea/lm-l-2.png"
                }, {
                    key: "lm-l-8",
                    fullPath: d + "playarea/lm-l-8.png"
                }, {
                    key: "lm-l-6",
                    fullPath: d + "playarea/lm-l-6.png"
                }, {
                    key: "lm-l-1",
                    fullPath: d + "playarea/lm-l-1.png"
                }, {
                    key: "lm-l-7",
                    fullPath: d + "playarea/lm-l-7.png"
                }, {
                    key: "lm-l-9",
                    fullPath: d + "playarea/lm-l-9.png"
                }, {
                    key: "lm-l-3",
                    fullPath: d + "playarea/lm-l-3.png"
                }, {
                    key: "lm-l-5",
                    fullPath: d +
                        "playarea/lm-l-5.png"
                }, {
                    key: "playareaStat_0",
                    fullPath: d + "playarea/playareaStat_0.png"
                }, {
                    key: "playareaStat_24",
                    fullPath: d + "playarea/playareaStat_24.png"
                }, {
                    key: "playareaStat_1_32",
                    fullPath: d + "playarea/playareaStat_1_32.png"
                }, {
                    key: "playareaStat_1_3",
                    fullPath: d + "playarea/playareaStat_1_3.png"
                }, {
                    key: "playareaStat_2",
                    fullPath: d + "playarea/playareaStat_2.png"
                }, {
                    key: "coinValueText(class=playAreaText linesText, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                    fullPath: d +
                        "playarea/coinValueText(class=playAreaText linesText, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text.png"
                }, {
                    key: "coinValueText(class=playAreaText infoPanelTextDown, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                    fullPath: d + "playarea/coinValueText(class=playAreaText infoPanelTextDown, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text.png"
                }, {
                    key: "coinValueText(class=playAreaText infoPanelTextUp, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                    fullPath: d + "playarea/coinValueText(class=playAreaText infoPanelTextUp, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text.png"
                }, {
                    key: "coinValueText(class=playAreaText coinsNumber, font=20pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                    fullPath: d + "playarea/coinValueText(class=playAreaText coinsNumber, font=20pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text.png"
                }, {
                    key: "balance(class=playAreaText balanceNumber, font=16pt roboto_condensed_regular, anchorX=1, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                    fullPath: d + "playarea/balance(class=playAreaText balanceNumber, font=16pt roboto_condensed_regular, anchorX=1, anchorY=0.5, fill=#fff, wordWrap=1)_text.png"
                }, {
                    key: "balanceTitle(text=BALANCE, class=playAreaText,  font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                    fullPath: d + "playarea/balanceTitle(text=BALANCE, class=playAreaText,  font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text.png"
                }, {
                    key: "credits(class=playAreaText creditsNumber, font=16pt roboto_condensed_regular, anchorX=1, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                    fullPath: d + "playarea/credits(class=playAreaText creditsNumber, font=16pt roboto_condensed_regular, anchorX=1, anchorY=0.5, fill=#fff, wordWrap=1)_text.png"
                }, {
                    key: "credits(text=CREDITS, class=playAreaText creditsText, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                    fullPath: d + "playarea/credits(text=CREDITS, class=playAreaText creditsText, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text.png"
                }, {
                    key: "coinValueText(text=COIN VALUE, class=playAreaText coinText, font=14pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                    fullPath: d + "playarea/coinValueText(text=COIN VALUE, class=playAreaText coinText, font=14pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text.png"
                }, {
                    key: "totalBetText(class=playAreaText totalBetNumber, font=16pt roboto_condensed_regular, anchorX=1, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                    fullPath: d + "playarea/totalBetText(class=playAreaText totalBetNumber, font=16pt roboto_condensed_regular, anchorX=1, anchorY=0.5, fill=#fff, wordWrap=1)_text.png"
                }, {
                    key: "totalBetText(class=playAreaText creditsTotalBetNumber, font=16pt roboto_condensed_regular, anchorX=1, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                    fullPath: d + "playarea/totalBetText(class=playAreaText creditsTotalBetNumber, font=16pt roboto_condensed_regular, anchorX=1, anchorY=0.5, fill=#fff, wordWrap=1)_text.png"
                }, {
                    key: "totalBetText(text=BET, class=playAreaText totalBetText, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                    fullPath: d + "playarea/totalBetText(text=BET, class=playAreaText totalBetText, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text.png"
                }, {
                    key: "betLineText(class=playAreaText betNumber, font=16pt roboto_condensed_regular, anchorX=1, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                    fullPath: d + "playarea/betLineText(class=playAreaText betNumber, font=16pt roboto_condensed_regular, anchorX=1, anchorY=0.5, fill=#fff, wordWrap=1)_text.png"
                }, {
                    key: "linesText(class=playAreaText linesNumber, font=16pt roboto_condensed_regular, anchorX=1, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                    fullPath: d + "playarea/linesText(class=playAreaText linesNumber, font=16pt roboto_condensed_regular, anchorX=1, anchorY=0.5, fill=#fff, wordWrap=1)_text.png"
                }, {
                    key: "betLineText(text=BET LINE, class=playAreaText, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                    fullPath: d + "playarea/betLineText(text=BET LINE, class=playAreaText, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text.png"
                }, {
                    key: "linesText(text=LINES, class=playAreaText linesText, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                    fullPath: d + "playarea/linesText(text=LINES, class=playAreaText linesText, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text.png"
                }, {
                    key: "gambleBG",
                    fullPath: d +
                        "playarea/gambleBG.png"
                }, {
                    key: "gambleActionBlackButtonButton(spritesX=3)_button",
                    fullPath: d + "playarea/gambleActionBlackButtonButton(spritesX=3)_button.png"
                }, {
                    key: "dummy1(class=buttonStyle, font=24pt roboto_condensed_regular)_text",
                    fullPath: d + "playarea/dummy1(class=buttonStyle, font=24pt roboto_condensed_regular)_text.png"
                }, {
                    key: "gambleActionRedButtonButton(spritesX=3)_button",
                    fullPath: d + "playarea/gambleActionRedButtonButton(spritesX=3)_button.png"
                }, {
                    key: "dummy1(class=buttonStyle, font=24pt roboto_condensed_regular)_text",
                    fullPath: d + "playarea/dummy1(class=buttonStyle, font=24pt roboto_condensed_regular)_text.png"
                }, {
                    key: "gamble-hc-4",
                    fullPath: d + "playarea/gamble-hc-4.png"
                }, {
                    key: "gamble-hc-3",
                    fullPath: d + "playarea/gamble-hc-3.png"
                }, {
                    key: "gamble-hc-2",
                    fullPath: d + "playarea/gamble-hc-2.png"
                }, {
                    key: "gamble-hc-1",
                    fullPath: d + "playarea/gamble-hc-1.png"
                }, {
                    key: "gamble-hc-0",
                    fullPath: d + "playarea/gamble-hc-0.png"
                }, {
                    key: "textPreviousCard(text=PREVIOUS CARDS, class=gambleText, font=bold 30pt arial, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                    fullPath: d + "playarea/textPreviousCard(text=PREVIOUS CARDS, class=gambleText, font=bold 30pt arial, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text.png"
                }, {
                    key: "gambleAmount(class=gambleText, font=bold 30pt arial, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                    fullPath: d + "playarea/gambleAmount(class=gambleText, font=bold 30pt arial, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text.png"
                }, {
                    key: "gambleAmountText(text=GAMBLE AMOUNT, class=gambleText, font=bold 30pt arial, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                    fullPath: d + "playarea/gambleAmountText(text=GAMBLE AMOUNT, class=gambleText, font=bold 30pt arial, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text.png"
                }, {
                    key: "gambleToWin(class=gambleText, font=bold 30pt arial, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                    fullPath: d + "playarea/gambleToWin(class=gambleText, font=bold 30pt arial, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text.png"
                }, {
                    key: "gambleToWinText(text=GAMBLE TO WIN, class=gambleText, font=bold 30pt arial, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                    fullPath: d + "playarea/gambleToWinText(text=GAMBLE TO WIN, class=gambleText, font=bold 30pt arial, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text.png"
                }, {
                    key: "gambleCardBig",
                    fullPath: d + "playarea/gambleCardBig.png"
                }, {
                    key: "gambleBlack1_asset",
                    fullPath: d + "playarea/gambleBlack1_asset.png"
                }, {
                    key: "gambleBlack2_asset",
                    fullPath: d + "playarea/gambleBlack2_asset.png"
                }, {
                    key: "gambleBlack3_asset",
                    fullPath: d + "playarea/gambleBlack3_asset.png"
                }, {
                    key: "gambleRed1_asset",
                    fullPath: d + "playarea/gambleRed1_asset.png"
                },
                {
                    key: "gambleRed2_asset",
                    fullPath: d + "playarea/gambleRed2_asset.png"
                }, {
                    key: "gambleRed3_asset",
                    fullPath: d + "playarea/gambleRed3_asset.png"
                }, {
                    key: "gambleCardSmallBlack_asset",
                    fullPath: d + "playarea/gambleCardSmallBlack_asset.png"
                }, {
                    key: "gambleCardSmallRed_asset",
                    fullPath: d + "playarea/gambleCardSmallRed_asset.png"
                }, {
                    key: "gambleCardBig0_asset",
                    fullPath: d + "playarea/gambleCardBig0_asset.png"
                }, {
                    key: "gambleCardBigBlack_asset",
                    fullPath: d + "playarea/gambleCardBigBlack_asset.png"
                }, {
                    key: "gambleCardBigRed_asset",
                    fullPath: d +
                        "playarea/gambleCardBigRed_asset.png"
                }, {
                    key: "gambleCardBig1_asset",
                    fullPath: d + "playarea/gambleCardBig1_asset.png"
                }, {
                    key: "helpPage2",
                    fullPath: d + "playarea/helpPage2.png"
                }, {
                    key: "helpText0Page2(text=RULES, class=helpTextH1)_text",
                    fullPath: d + "playarea/helpText0Page2(text=RULES, class=helpTextH1)_text.png"
                }, {
                    key: "helpText1Page2(text=All prizes are for combinations left to right, except scatters., class=helpTextRegular)_text",
                    fullPath: d + "playarea/helpText1Page2(text=All prizes are for combinations left to right, except scatters., class=helpTextRegular)_text.png"
                },
                {
                    key: "helpText2Page2(text=All prizes are on selected lines, except scatters., class=helpTextRegular)_text",
                    fullPath: d + "playarea/helpText2Page2(text=All prizes are on selected lines, except scatters., class=helpTextRegular)_text.png"
                }, {
                    key: "helpText3Page2(text=Scatter symbols pay at any position on screen., class=helpTextRegular)_text",
                    fullPath: d + "playarea/helpText3Page2(text=Scatter symbols pay at any position on screen., class=helpTextRegular)_text.png"
                }, {
                    key: "helpText4Page2(text=All prizes are for combinations of a kind., class=helpTextRegular)_text",
                    fullPath: d + "playarea/helpText4Page2(text=All prizes are for combinations of a kind., class=helpTextRegular)_text.png"
                }, {
                    key: "helpText5Page2(text=Scatter wins are added to line wins., class=helpTextRegular)_text",
                    fullPath: d + "playarea/helpText5Page2(text=Scatter wins are added to line wins., class=helpTextRegular)_text.png"
                }, {
                    key: "helpText6Page2(text=Highest win only paid per selected line., class=helpTextRegular)_text",
                    fullPath: d + "playarea/helpText6Page2(text=Highest win only paid per selected line., class=helpTextRegular)_text.png"
                },
                {
                    key: "helpText7Page2(text=All free games played at trigger bet and lines., class=helpTextRegular)_text",
                    fullPath: d + "playarea/helpText7Page2(text=All free games played at trigger bet and lines., class=helpTextRegular)_text.png"
                }, {
                    key: "helpText8Page2(text=All prizes shown in credits., class=helpTextRegular)_text",
                    fullPath: d + "playarea/helpText8Page2(text=All prizes shown in credits., class=helpTextRegular)_text.png"
                }, {
                    key: "helpText9Page2(text=Malfunction voids all pays and plays., class=helpTextRegular)_text",
                    fullPath: d + "playarea/helpText9Page2(text=Malfunction voids all pays and plays., class=helpTextRegular)_text.png"
                }, {
                    key: "helpTextH1(text=LINES, font=42pt segoe_script_bold, fill=#f5e800, stroke=#ff2800, strokeThickness=4)_style",
                    fullPath: d + "playarea/helpTextH1(text=LINES, font=42pt segoe_script_bold, fill=#f5e800, stroke=#ff2800, strokeThickness=4)_style.png"
                }, {
                    key: "helpPage1",
                    fullPath: d + "playarea/helpPage1.png"
                }, {
                    key: "helpText0Page1(text=SUBSTITUTES for all SYMBOLS except, class=helpTextYellow)_text",
                    fullPath: d + "playarea/helpText0Page1(text=SUBSTITUTES for all SYMBOLS except, class=helpTextYellow)_text.png"
                }, {
                    key: "helpText1Page1(text=One or more, class=helpTextRegular)_text",
                    fullPath: d + "playarea/helpText1Page1(text=One or more, class=helpTextRegular)_text.png"
                }, {
                    key: "helpText2Page1(text=substituting in win combination, class=helpTextRegular)_text",
                    fullPath: d + "playarea/helpText2Page1(text=substituting in win combination, class=helpTextRegular)_text.png"
                }, {
                    key: "helpText3Page1(text=DOUBLES the prize., class=helpTextRegular)_text",
                    fullPath: d + "playarea/helpText3Page1(text=DOUBLES the prize., class=helpTextRegular)_text.png"
                }, {
                    key: "helpText4Page1(text=FREE GAMES FEATURE, class=helpTextYellow)_text",
                    fullPath: d + "playarea/helpText4Page1(text=FREE GAMES FEATURE, class=helpTextYellow)_text.png"
                }, {
                    key: "helpText5Page1(text=45 free games are triggered by 3,4 or 5 scattered, class=helpTextRegular)_text",
                    fullPath: d + "playarea/helpText5Page1(text=45 free games are triggered by 3,4 or 5 scattered, class=helpTextRegular)_text.png"
                }, {
                    key: "helpText6Page1(text=Free games can be retriggered during the feature., class=helpTextRegular)_text",
                    fullPath: d + "playarea/helpText6Page1(text=Free games can be retriggered during the feature., class=helpTextRegular)_text.png"
                }, {
                    key: "helpTextYellow(text=LINES, font=26pt segoe_script_bold, fill=#f5e800, stroke=#ff2800, strokeThickness=4)_style",
                    fullPath: d + "playarea/helpTextYellow(text=LINES, font=26pt segoe_script_bold, fill=#f5e800, stroke=#ff2800, strokeThickness=4)_style.png"
                }, {
                    key: "helpTextRegular(text=LINES, font=26pt segoe_script_bold, fill=#453145)_style",
                    fullPath: d + "playarea/helpTextRegular(text=LINES, font=26pt segoe_script_bold, fill=#453145)_style.png"
                },
                {
                    key: "helpPage0",
                    fullPath: d + "playarea/helpPage0.png"
                }, {
                    key: "helpPage00(class=ps0-2 helpPaytableRegular)_text",
                    fullPath: d + "playarea/helpPage00(class=ps0-2 helpPaytableRegular)_text.png"
                }, {
                    key: "helpPage01(class=ps0-3 helpPaytableRegular)_text",
                    fullPath: d + "playarea/helpPage01(class=ps0-3 helpPaytableRegular)_text.png"
                }, {
                    key: "helpPage02(class=ps0-4 helpPaytableRegular)_text",
                    fullPath: d + "playarea/helpPage02(class=ps0-4 helpPaytableRegular)_text.png"
                }, {
                    key: "helpPage03(class=ps0-5 helpPaytableRegular)_text",
                    fullPath: d + "playarea/helpPage03(class=ps0-5 helpPaytableRegular)_text.png"
                }, {
                    key: "helpPage04(class=ps0b-2 helpPaytableBlack)_text",
                    fullPath: d + "playarea/helpPage04(class=ps0b-2 helpPaytableBlack)_text.png"
                }, {
                    key: "helpPage05(class=ps0b-3 helpPaytableBlack)_text",
                    fullPath: d + "playarea/helpPage05(class=ps0b-3 helpPaytableBlack)_text.png"
                }, {
                    key: "helpPage06(class=ps0b-4 helpPaytableBlack)_text",
                    fullPath: d + "playarea/helpPage06(class=ps0b-4 helpPaytableBlack)_text.png"
                }, {
                    key: "helpPage07(class=ps0b-5 helpPaytableBlack)_text",
                    fullPath: d + "playarea/helpPage07(class=ps0b-5 helpPaytableBlack)_text.png"
                }, {
                    key: "helpPage08(class=ps2-3 helpPaytableRegular)_text",
                    fullPath: d + "playarea/helpPage08(class=ps2-3 helpPaytableRegular)_text.png"
                }, {
                    key: "helpPage09(class=ps2-4 helpPaytableRegular)_text",
                    fullPath: d + "playarea/helpPage09(class=ps2-4 helpPaytableRegular)_text.png"
                }, {
                    key: "helpPage010(class=ps2-5 helpPaytableRegular)_text",
                    fullPath: d + "playarea/helpPage010(class=ps2-5 helpPaytableRegular)_text.png"
                }, {
                    key: "helpPage011(class=ps2b-3 helpPaytableBlack)_text",
                    fullPath: d + "playarea/helpPage011(class=ps2b-3 helpPaytableBlack)_text.png"
                }, {
                    key: "helpPage012(class=ps2b-4 helpPaytableBlack)_text",
                    fullPath: d + "playarea/helpPage012(class=ps2b-4 helpPaytableBlack)_text.png"
                }, {
                    key: "helpPage013(class=ps2b-5 helpPaytableBlack)_text",
                    fullPath: d + "playarea/helpPage013(class=ps2b-5 helpPaytableBlack)_text.png"
                }, {
                    key: "helpPage014(class=ps3-3 helpPaytableRegular)_text",
                    fullPath: d + "playarea/helpPage014(class=ps3-3 helpPaytableRegular)_text.png"
                }, {
                    key: "helpPage015(class=ps3-4 helpPaytableRegular)_text",
                    fullPath: d + "playarea/helpPage015(class=ps3-4 helpPaytableRegular)_text.png"
                }, {
                    key: "helpPage016(class=ps3-5 helpPaytableRegular)_text",
                    fullPath: d + "playarea/helpPage016(class=ps3-5 helpPaytableRegular)_text.png"
                }, {
                    key: "helpPage017(class=ps3b-3 helpPaytableBlack)_text",
                    fullPath: d + "playarea/helpPage017(class=ps3b-3 helpPaytableBlack)_text.png"
                }, {
                    key: "helpPage018(class=ps3b-4 helpPaytableBlack)_text",
                    fullPath: d + "playarea/helpPage018(class=ps3b-4 helpPaytableBlack)_text.png"
                }, {
                    key: "helpPage019(class=ps3b-5 helpPaytableBlack)_text",
                    fullPath: d + "playarea/helpPage019(class=ps3b-5 helpPaytableBlack)_text.png"
                }, {
                    key: "helpPage020(class=ps5-3 helpPaytableRegular)_text",
                    fullPath: d + "playarea/helpPage020(class=ps5-3 helpPaytableRegular)_text.png"
                }, {
                    key: "helpPage021(class=ps5-4 helpPaytableRegular)_text",
                    fullPath: d + "playarea/helpPage021(class=ps5-4 helpPaytableRegular)_text.png"
                }, {
                    key: "helpPage022(class=ps5-5 helpPaytableRegular)_text",
                    fullPath: d + "playarea/helpPage022(class=ps5-5 helpPaytableRegular)_text.png"
                }, {
                    key: "helpPage023(class=ps11s-2 helpPaytableYellow)_text",
                    fullPath: d + "playarea/helpPage023(class=ps11s-2 helpPaytableYellow)_text.png"
                }, {
                    key: "helpPage023(class=ps11s-3 helpPaytableYellow)_text",
                    fullPath: d + "playarea/helpPage023(class=ps11s-3 helpPaytableYellow)_text.png"
                }, {
                    key: "helpPage024(class=ps11s-4 helpPaytableYellow)_text",
                    fullPath: d + "playarea/helpPage024(class=ps11s-4 helpPaytableYellow)_text.png"
                }, {
                    key: "helpPage025(class=ps11s-5 helpPaytableYellow)_text",
                    fullPath: d + "playarea/helpPage025(class=ps11s-5 helpPaytableYellow)_text.png"
                }, {
                    key: "helpPage026(class=ps7-3 helpPaytableRegular)_text",
                    fullPath: d + "playarea/helpPage026(class=ps7-3 helpPaytableRegular)_text.png"
                }, {
                    key: "helpPage027(class=ps7-4 helpPaytableRegular)_text",
                    fullPath: d + "playarea/helpPage027(class=ps7-4 helpPaytableRegular)_text.png"
                }, {
                    key: "helpPage028(class=ps7-5 helpPaytableRegular)_text",
                    fullPath: d + "playarea/helpPage028(class=ps7-5 helpPaytableRegular)_text.png"
                }, {
                    key: "helpPage029(class=ps7b-3 helpPaytableBlack)_text",
                    fullPath: d + "playarea/helpPage029(class=ps7b-3 helpPaytableBlack)_text.png"
                }, {
                    key: "helpPage030(class=ps7b-4 helpPaytableBlack)_text",
                    fullPath: d + "playarea/helpPage030(class=ps7b-4 helpPaytableBlack)_text.png"
                }, {
                    key: "helpPage031(class=ps7b-5 helpPaytableBlack)_text",
                    fullPath: d + "playarea/helpPage031(class=ps7b-5 helpPaytableBlack)_text.png"
                }, {
                    key: "helpPage032(class=ps10-2 helpPaytableRegular)_text",
                    fullPath: d + "playarea/helpPage032(class=ps10-2 helpPaytableRegular)_text.png"
                }, {
                    key: "helpPage033(class=ps10-3 helpPaytableRegular)_text",
                    fullPath: d + "playarea/helpPage033(class=ps10-3 helpPaytableRegular)_text.png"
                }, {
                    key: "helpPage034(class=ps10-4 helpPaytableRegular)_text",
                    fullPath: d + "playarea/helpPage034(class=ps10-4 helpPaytableRegular)_text.png"
                }, {
                    key: "helpPage035(class=ps10-5 helpPaytableRegular)_text",
                    fullPath: d + "playarea/helpPage035(class=ps10-5 helpPaytableRegular)_text.png"
                }, {
                    key: "helpPage036(class=ps10b-2 helpPaytableBlack)_text",
                    fullPath: d + "playarea/helpPage036(class=ps10b-2 helpPaytableBlack)_text.png"
                }, {
                    key: "helpPage037(class=ps10b-3 helpPaytableBlack)_text",
                    fullPath: d + "playarea/helpPage037(class=ps10b-3 helpPaytableBlack)_text.png"
                }, {
                    key: "helpPage038(class=ps10b-4 helpPaytableBlack)_text",
                    fullPath: d + "playarea/helpPage038(class=ps10b-4 helpPaytableBlack)_text.png"
                }, {
                    key: "helpPage039(class=ps10b-5 helpPaytableBlack)_text",
                    fullPath: d + "playarea/helpPage039(class=ps10b-5 helpPaytableBlack)_text.png"
                }, {
                    key: "helpPage036(class=ps12-2 helpPaytableBlack)_text",
                    fullPath: d + "playarea/helpPage036(class=ps12-2 helpPaytableBlack)_text.png"
                }, {
                    key: "helpPage037(class=ps12-3 helpPaytableBlack)_text",
                    fullPath: d + "playarea/helpPage037(class=ps12-3 helpPaytableBlack)_text.png"
                }, {
                    key: "helpPage038(class=ps12-4 helpPaytableBlack)_text",
                    fullPath: d + "playarea/helpPage038(class=ps12-4 helpPaytableBlack)_text.png"
                }, {
                    key: "helpPage039(class=ps12-5 helpPaytableBlack)_text",
                    fullPath: d + "playarea/helpPage039(class=ps12-5 helpPaytableBlack)_text.png"
                }, {
                    key: "helpPage041(class=ps6b-3 helpPaytableBlack)_text",
                    fullPath: d + "playarea/helpPage041(class=ps6b-3 helpPaytableBlack)_text.png"
                }, {
                    key: "helpPage042(class=ps6b-4 helpPaytableBlack)_text",
                    fullPath: d + "playarea/helpPage042(class=ps6b-4 helpPaytableBlack)_text.png"
                }, {
                    key: "helpPage043(class=ps6b-5 helpPaytableBlack)_text",
                    fullPath: d + "playarea/helpPage043(class=ps6b-5 helpPaytableBlack)_text.png"
                }, {
                    key: "helpPaytableBlack(text=LINES, font=22pt arial_bold, anchorX=0.5, fill=#000000)_style",
                    fullPath: d + "playarea/helpPaytableBlack(text=LINES, font=22pt arial_bold, anchorX=0.5, fill=#000000)_style.png"
                }, {
                    key: "helpPaytableYellow(text=LINES, font=22pt arial_bold, anchorX=0.5, fill=#ffff00)_style",
                    fullPath: d + "playarea/helpPaytableYellow(text=LINES, font=22pt arial_bold, anchorX=0.5, fill=#ffff00)_style.png"
                }, {
                    key: "helpPaytableRegular(text=LINES, font=22pt arial_bold, anchorX=0.5, fill=#ffffff)_style",
                    fullPath: d + "playarea/helpPaytableRegular(text=LINES, font=22pt arial_bold, anchorX=0.5, fill=#ffffff)_style.png"
                }, {
                    key: "bg3",
                    fullPath: d + "playarea/bg3.png"
                }, {
                    key: "bg2",
                    fullPath: d + "playarea/bg2.png"
                }, {
                    key: "bg1",
                    fullPath: d + "playarea/bg1.png"
                }, {
                    key: "bg0",
                    fullPath: d + "playarea/bg0.png"
                }, {
                    key: "h7(text=0, class=betSettingsValue coinsNumber, font=48pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                    fullPath: d + "playarea/h7(text=0, class=betSettingsValue coinsNumber, font=48pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text.png"
                },
                {
                    key: "h6(text=COIN VALUE, class=betSettingsText, font=30pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#999999, wordWrap=1)_text",
                    fullPath: d + "playarea/h6(text=COIN VALUE, class=betSettingsText, font=30pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#999999, wordWrap=1)_text.png"
                }, {
                    key: "h5(text=0, class=betSettingsValue betNumber, font=48pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                    fullPath: d + "playarea/h5(text=0, class=betSettingsValue betNumber, font=48pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text.png"
                },
                {
                    key: "h4(text=BET, class=betSettingsText, font=30pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#999999, wordWrap=1)_text",
                    fullPath: d + "playarea/h4(text=BET, class=betSettingsText, font=30pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#999999, wordWrap=1)_text.png"
                }, {
                    key: "h3(text=0, class=betSettingsValue linesNumber, font=48pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                    fullPath: d + "playarea/h3(text=0, class=betSettingsValue linesNumber, font=48pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text.png"
                },
                {
                    key: "h2(text=LINES, class=betSettingsText, font=30pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#999999, wordWrap=1)_text",
                    fullPath: d + "playarea/h2(text=LINES, class=betSettingsText, font=30pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#999999, wordWrap=1)_text.png"
                }, {
                    key: "h1(text=SETTINGS, class=betSettingsTitle, font=60pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                    fullPath: d + "playarea/h1(text=SETTINGS, class=betSettingsTitle, font=60pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text.png"
                },
                {
                    key: "linePlusButtonMobileButton(spritesX=4)_button",
                    fullPath: d + "playarea/linePlusButtonMobileButton(spritesX=4)_button.png"
                }, {
                    key: "dummy1(class=buttonStyle, font=24pt roboto_condensed_regular)_text",
                    fullPath: d + "playarea/dummy1(class=buttonStyle, font=24pt roboto_condensed_regular)_text.png"
                }, {
                    key: "lineMinusButtonMobileButton(spritesX=4)_button",
                    fullPath: d + "playarea/lineMinusButtonMobileButton(spritesX=4)_button.png"
                }, {
                    key: "dummy1(class=buttonStyle, font=24pt roboto_condensed_regular)_text",
                    fullPath: d +
                        "playarea/dummy1(class=buttonStyle, font=24pt roboto_condensed_regular)_text.png"
                }, {
                    key: "betPlusButtonMobileButton(spritesX=4)_button",
                    fullPath: d + "playarea/betPlusButtonMobileButton(spritesX=4)_button.png"
                }, {
                    key: "dummy1(class=buttonStyle, font=24pt roboto_condensed_regular)_text",
                    fullPath: d + "playarea/dummy1(class=buttonStyle, font=24pt roboto_condensed_regular)_text.png"
                }, {
                    key: "betMinusButtonMobileButton(spritesX=4)_button",
                    fullPath: d + "playarea/betMinusButtonMobileButton(spritesX=4)_button.png"
                },
                {
                    key: "dummy1(class=buttonStyle, font=24pt roboto_condensed_regular)_text",
                    fullPath: d + "playarea/dummy1(class=buttonStyle, font=24pt roboto_condensed_regular)_text.png"
                }, {
                    key: "coinPlusButtonMobileButton(spritesX=4)_button",
                    fullPath: d + "playarea/coinPlusButtonMobileButton(spritesX=4)_button.png"
                }, {
                    key: "dummy1(class=buttonStyle, font=24pt roboto_condensed_regular)_text",
                    fullPath: d + "playarea/dummy1(class=buttonStyle, font=24pt roboto_condensed_regular)_text.png"
                }, {
                    key: "coinMinusButtonMobileButton(spritesX=4)_button",
                    fullPath: d + "playarea/coinMinusButtonMobileButton(spritesX=4)_button.png"
                }, {
                    key: "dummy2(class=buttonStyle, font=24pt roboto_condensed_regular)_text",
                    fullPath: d + "playarea/dummy2(class=buttonStyle, font=24pt roboto_condensed_regular)_text.png"
                }, {
                    key: "soundButtonMobileButton_button",
                    fullPath: d + "playarea/soundButtonMobileButton_button.png"
                }, {
                    key: "dummy2(class=buttonStyle, font=24pt roboto_condensed_regular)_text",
                    fullPath: d + "playarea/dummy2(class=buttonStyle, font=24pt roboto_condensed_regular)_text.png"
                },
                {
                    key: "soundButtonMobileOn",
                    fullPath: d + "playarea/soundButtonMobileOn.png"
                }, {
                    key: "navBg",
                    fullPath: d + "playarea/navBg.png"
                }, {
                    key: "linesbg",
                    fullPath: d + "playarea/linesbg.png"
                }, {
                    key: "totalbetbg",
                    fullPath: d + "playarea/totalbetbg.png"
                }, {
                    key: "winbg",
                    fullPath: d + "playarea/winbg.png"
                }, {
                    key: "balancebg",
                    fullPath: d + "playarea/balancebg.png"
                }, {
                    key: "creditsbg",
                    fullPath: d + "playarea/creditsbg.png"
                }, {
                    key: "infoPanelTextDown(class=playAreaTextMobile infoPanelTextDown, font=26pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                    fullPath: d + "playarea/infoPanelTextDown(class=playAreaTextMobile infoPanelTextDown, font=26pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text.png"
                }, {
                    key: "infoPanelTextUp(class=playAreaTextMobile infoPanelTextUp, font=22pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                    fullPath: d + "playarea/infoPanelTextUp(class=playAreaTextMobile infoPanelTextUp, font=22pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text.png"
                },
                {
                    key: "linesNumber(class=playAreaTextMobile linesNumber, font=bold 26pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                    fullPath: d + "playarea/linesNumber(class=playAreaTextMobile linesNumber, font=bold 26pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text.png"
                }, {
                    key: "linesText(text=LINES, class=playAreaTextMobile linesText, font=24pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                    fullPath: d + "playarea/linesText(text=LINES, class=playAreaTextMobile linesText, font=24pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text.png"
                },
                {
                    key: "totalBetText1(class=playAreaTextMobile creditsTotalBetNumber, font=bold 26pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                    fullPath: d + "playarea/totalBetText1(class=playAreaTextMobile creditsTotalBetNumber, font=bold 26pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text.png"
                }, {
                    key: "totalBetText(text=BET, class=playAreaTextMobile totalBetText, font=24pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                    fullPath: d + "playarea/totalBetText(text=BET, class=playAreaTextMobile totalBetText, font=24pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text.png"
                }, {
                    key: "winNumber(class=playAreaTextMobile creditsWinNumberMobile, font=bold 26pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#ffc400, wordWrap=1)_text",
                    fullPath: d + "playarea/winNumber(class=playAreaTextMobile creditsWinNumberMobile, font=bold 26pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#ffc400, wordWrap=1)_text.png"
                },
                {
                    key: "winText(text=WIN, class=playAreaTextMobile creditsWinText, font=24pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                    fullPath: d + "playarea/winText(text=WIN, class=playAreaTextMobile creditsWinText, font=24pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text.png"
                }, {
                    key: "balanceTNumber(class=playAreaTextMobile balanceNumber, font=bold 26pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                    fullPath: d + "playarea/balanceTNumber(class=playAreaTextMobile balanceNumber, font=bold 26pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text.png"
                },
                {
                    key: "balanceTitle(text=BALANCE, class=playAreaTextMobile balanceText, font=24pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                    fullPath: d + "playarea/balanceTitle(text=BALANCE, class=playAreaTextMobile balanceText, font=24pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text.png"
                }, {
                    key: "creditsNumber(class=playAreaTextMobile creditsNumber, font=bold 26pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                    fullPath: d +
                        "playarea/creditsNumber(class=playAreaTextMobile creditsNumber, font=bold 26pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text.png"
                }, {
                    key: "creditsTitle(text=CREDITS, class=playAreaTextMobile creditsText, font=24pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                    fullPath: d + "playarea/creditsTitle(text=CREDITS, class=playAreaTextMobile creditsText, font=24pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text.png"
                },
                {
                    key: "hold1ButtonButton(spritesX=4)_button",
                    fullPath: d + "playarea/hold1ButtonButton(spritesX=4)_button.png"
                }, {
                    key: "hold1Text(text=HOLD 1, class=buttonStyle, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                    fullPath: d + "playarea/hold1Text(text=HOLD 1, class=buttonStyle, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text.png"
                }, {
                    key: "hold2ButtonButton(spritesX=4)_button",
                    fullPath: d + "playarea/hold2ButtonButton(spritesX=4)_button.png"
                },
                {
                    key: "hold2Text(text=HOLD 2, class=buttonStyle, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                    fullPath: d + "playarea/hold2Text(text=HOLD 2, class=buttonStyle, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text.png"
                }, {
                    key: "hold3ButtonButton(spritesX=4)_button",
                    fullPath: d + "playarea/hold3ButtonButton(spritesX=4)_button.png"
                }, {
                    key: "hold3Text(text=HOLD 3, class=buttonStyle, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                    fullPath: d + "playarea/hold3Text(text=HOLD 3, class=buttonStyle, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text.png"
                }, {
                    key: "hold4ButtonButton(spritesX=4)_button",
                    fullPath: d + "playarea/hold4ButtonButton(spritesX=4)_button.png"
                }, {
                    key: "hold4Text(text=HOLD 4, class=buttonStyle, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                    fullPath: d + "playarea/hold4Text(text=HOLD 4, class=buttonStyle, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text.png"
                },
                {
                    key: "hold5ButtonButton(spritesX=4)_button",
                    fullPath: d + "playarea/hold5ButtonButton(spritesX=4)_button.png"
                }, {
                    key: "hold5Text(text=HOLD 5, class=buttonStyle, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                    fullPath: d + "playarea/hold5Text(text=HOLD 5, class=buttonStyle, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text.png"
                }, {
                    key: "maxBetButtonButton(spritesX=4)_button",
                    fullPath: d + "playarea/maxBetButtonButton(spritesX=4)_button.png"
                },
                {
                    key: "maxBetButton(text=MAX BET, class=buttonStyle, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                    fullPath: d + "playarea/maxBetButton(text=MAX BET, class=buttonStyle, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text.png"
                }, {
                    key: "oneBetButtonButton(spritesX=4)_button",
                    fullPath: d + "playarea/oneBetButtonButton(spritesX=4)_button.png"
                }, {
                    key: "oneBetButtont(text=ONE BET, class=buttonStyle, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                    fullPath: d + "playarea/oneBetButtont(text=ONE BET, class=buttonStyle, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text.png"
                }, {
                    key: "paytableButtonButton(spritesX=4)_button",
                    fullPath: d + "playarea/paytableButtonButton(spritesX=4)_button.png"
                }, {
                    key: "paytable(text=PAY TABLE, class=buttonStyle, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                    fullPath: d + "playarea/paytable(text=PAY TABLE, class=buttonStyle, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text.png"
                },
                {
                    key: "autoButtonButton(spritesX=4)_button",
                    fullPath: d + "playarea/autoButtonButton(spritesX=4)_button.png"
                }, {
                    key: "auto(text=AUTO OFF, class=buttonStyle, font=20pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                    fullPath: d + "playarea/auto(text=AUTO OFF, class=buttonStyle, font=20pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text.png"
                }, {
                    key: "spinButtonButton(spritesX=4)_button",
                    fullPath: d + "playarea/spinButtonButton(spritesX=4)_button.png"
                },
                {
                    key: "spinButton(text=SPIN, class=buttonStyle, font=24pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                    fullPath: d + "playarea/spinButton(text=SPIN, class=buttonStyle, font=24pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text.png"
                }, {
                    key: "coinMinusButtonButton(spritesX=4)_button",
                    fullPath: d + "playarea/coinMinusButtonButton(spritesX=4)_button.png"
                }, {
                    key: "coinPlusButtonButton(spritesX=4)_button",
                    fullPath: d + "playarea/coinPlusButtonButton(spritesX=4)_button.png"
                },
                {
                    key: "soundButtonButton(spritesX=4)_button",
                    fullPath: d + "playarea/soundButtonButton(spritesX=4)_button.png"
                }, {
                    key: "dummy2(class=buttonStyle, font=24pt roboto_condensed_regular)_text",
                    fullPath: d + "playarea/dummy2(class=buttonStyle, font=24pt roboto_condensed_regular)_text.png"
                }, {
                    key: "fullscreenButtonButton(spritesX=4)_button",
                    fullPath: d + "playarea/fullscreenButtonButton(spritesX=4)_button.png"
                }, {
                    key: "dummy1(class=buttonStyle, font=24pt roboto_condensed_regular)_text",
                    fullPath: d + "playarea/dummy1(class=buttonStyle, font=24pt roboto_condensed_regular)_text.png"
                },
                {
                    key: "AutoOnButton(spritesX=4)_spritesheet",
                    fullPath: d + "playarea/AutoOnButton(spritesX=4)_spritesheet.png"
                }, {
                    key: "Sound2Button(spritesX=4)_spritesheet",
                    fullPath: d + "playarea/Sound2Button(spritesX=4)_spritesheet.png"
                }, {
                    key: "btnFullscreenOn(spritesX=4)_spritesheet",
                    fullPath: d + "playarea/btnFullscreenOn(spritesX=4)_spritesheet.png"
                }, {
                    key: "betPlusPanelMobileButtonButton(spritesX=4)_button",
                    fullPath: d + "playarea/betPlusPanelMobileButtonButton(spritesX=4)_button.png"
                }, {
                    key: "dummy1(class=buttonStyle, font=24pt roboto_condensed_regular)_text",
                    fullPath: d + "playarea/dummy1(class=buttonStyle, font=24pt roboto_condensed_regular)_text.png"
                }, {
                    key: "betMinusPanelMobileButtonButton(spritesX=4)_button",
                    fullPath: d + "playarea/betMinusPanelMobileButtonButton(spritesX=4)_button.png"
                }, {
                    key: "dummy1(class=buttonStyle, font=24pt roboto_condensed_regular)_text",
                    fullPath: d + "playarea/dummy1(class=buttonStyle, font=24pt roboto_condensed_regular)_text.png"
                }, {
                    key: "betSettingsButtonMobileButton_button",
                    fullPath: d + "playarea/betSettingsButtonMobileButton_button.png"
                },
                {
                    key: "betSettingsText(class=buttonStyle, font=54pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                    fullPath: d + "playarea/betSettingsText(class=buttonStyle, font=54pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text.png"
                }, {
                    key: "infoButtonMobileButton(spritesX=4)_button",
                    fullPath: d + "playarea/infoButtonMobileButton(spritesX=4)_button.png"
                }, {
                    key: "dummy1(class=buttonStyle, font=24pt roboto_condensed_regular)_text",
                    fullPath: d + "playarea/dummy1(class=buttonStyle, font=24pt roboto_condensed_regular)_text.png"
                },
                {
                    key: "helpBackButtonMobileButton_button",
                    fullPath: d + "playarea/helpBackButtonMobileButton_button.png"
                }, {
                    key: "dummy1(class=buttonStyle, font=24pt roboto_condensed_regular)_text",
                    fullPath: d + "playarea/dummy1(class=buttonStyle, font=24pt roboto_condensed_regular)_text.png"
                }, {
                    key: "helpNextButtonMobileButton_button",
                    fullPath: d + "playarea/helpNextButtonMobileButton_button.png"
                }, {
                    key: "dummy1(class=buttonStyle, font=24pt roboto_condensed_regular)_text",
                    fullPath: d + "playarea/dummy1(class=buttonStyle, font=24pt roboto_condensed_regular)_text.png"
                },
                {
                    key: "spinButtonMobileButton_button",
                    fullPath: d + "playarea/spinButtonMobileButton_button.png"
                }, {
                    key: "spinText(text=START, class=buttonStyle, font=bold 40pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                    fullPath: d + "playarea/spinText(text=START, class=buttonStyle, font=bold 40pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text.png"
                }, {
                    key: "takeButtonMobileButton_button",
                    fullPath: d + "playarea/takeButtonMobileButton_button.png"
                }, {
                    key: "takeText(text=TAKE, class=buttonStyle, font=bold 40pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                    fullPath: d + "playarea/takeText(text=TAKE, class=buttonStyle, font=bold 40pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text.png"
                }, {
                    key: "stopButtonMobileButton_button",
                    fullPath: d + "playarea/stopButtonMobileButton_button.png"
                }, {
                    key: "stopText(text=STOP, class=buttonStyle, font=bold 40pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                    fullPath: d + "playarea/stopText(text=STOP, class=buttonStyle, font=bold 40pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text.png"
                },
                {
                    key: "gambleButtonMobileButton_button",
                    fullPath: d + "playarea/gambleButtonMobileButton_button.png"
                }, {
                    key: "gambleButtonText(text=DOUBLE, class=buttonStyle, font=bold 30pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                    fullPath: d + "playarea/gambleButtonText(text=DOUBLE, class=buttonStyle, font=bold 30pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text.png"
                }, {
                    key: "autoSpinButtonMobileButton_button",
                    fullPath: d + "playarea/autoSpinButtonMobileButton_button.png"
                },
                {
                    key: "autoSpinButtonText(text=AUTO, class=buttonStyle, font=bold 30pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                    fullPath: d + "playarea/autoSpinButtonText(text=AUTO, class=buttonStyle, font=bold 30pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text.png"
                }, {
                    key: "betSettingsButtonMobileSet_asset",
                    fullPath: d + "playarea/betSettingsButtonMobileSet_asset.png"
                }, {
                    key: "betSettingsButtonMobileCheck_asset",
                    fullPath: d + "playarea/betSettingsButtonMobileCheck_asset.png"
                },
                {
                    key: "autoSpinButtonMobileOff_asset",
                    fullPath: d + "playarea/autoSpinButtonMobileOff_asset.png"
                }, {
                    key: "autoSpinButtonMobileOn_asset",
                    fullPath: d + "playarea/autoSpinButtonMobileOn_asset.png"
                }, {
                    key: "infoButtonMobileBack_asset",
                    fullPath: d + "playarea/infoButtonMobileBack_asset.png"
                }, {
                    key: "playareaLogo",
                    fullPath: d + "playarea/playareaLogo.png"
                }, {
                    key: "jackpotShadowStart(scaleX=1920, scaleY=1080, class=cover)_image",
                    fullPath: d + "playarea/jackpotShadowStart(scaleX=1920, scaleY=1080, class=cover)_image.png"
                }, {
                    key: "jackpotPopup",
                    fullPath: d + "playarea/jackpotPopup.png"
                }, {
                    key: "logoJackpotPopup",
                    fullPath: d + "playarea/logoJackpotPopup.png"
                }, {
                    key: "jackpot_status_bg_mobile",
                    fullPath: d + "playarea/jackpot_status_bg_mobile.png"
                }, {
                    key: "jackpot_status_red_mobile",
                    fullPath: d + "playarea/jackpot_status_red_mobile.png"
                }, {
                    key: "jackpotRedHoverMobile",
                    fullPath: d + "playarea/jackpotRedHoverMobile.png"
                }, {
                    key: "jackpotValueRedMobile(class=jackpotValue jackpotRedBalanceNumber, font=20pt franklin_gothic, anchorX=0.5, anchorY=0.5, fill=#ffffff, wordWrap=1)_text",
                    fullPath: d + "playarea/jackpotValueRedMobile(class=jackpotValue jackpotRedBalanceNumber, font=20pt franklin_gothic, anchorX=0.5, anchorY=0.5, fill=#ffffff, wordWrap=1)_text.png"
                }, {
                    key: "jackpotRedCurrencyMobile(class=jackpotValue currency,  font=20pt franklin_gothic, anchorX=0.5, anchorY=0.5, fill=#ffffff, wordWrap=1)_text",
                    fullPath: d + "playarea/jackpotRedCurrencyMobile(class=jackpotValue currency,  font=20pt franklin_gothic, anchorX=0.5, anchorY=0.5, fill=#ffffff, wordWrap=1)_text.png"
                }, {
                    key: "jackpot_status_silver_mobile",
                    fullPath: d + "playarea/jackpot_status_silver_mobile.png"
                }, {
                    key: "jackpotSilverHover_mobile",
                    fullPath: d + "playarea/jackpotSilverHover_mobile.png"
                }, {
                    key: "jackpotValueSilverMobile(class=jackpotValue jackpotSilverBalanceNumber, font=20pt franklin_gothic, anchorX=0.5, anchorY=0.5, fill=#ffffff, wordWrap=1)_text",
                    fullPath: d + "playarea/jackpotValueSilverMobile(class=jackpotValue jackpotSilverBalanceNumber, font=20pt franklin_gothic, anchorX=0.5, anchorY=0.5, fill=#ffffff, wordWrap=1)_text.png"
                }, {
                    key: "jackpotSilverCurrencyMobile(class=jackpotValue currency, font=20pt franklin_gothic, anchorX=0.5, anchorY=0.5, fill=#ffffff, wordWrap=1)_text",
                    fullPath: d + "playarea/jackpotSilverCurrencyMobile(class=jackpotValue currency, font=20pt franklin_gothic, anchorX=0.5, anchorY=0.5, fill=#ffffff, wordWrap=1)_text.png"
                }, {
                    key: "jackpot_status_gold_mobile",
                    fullPath: d + "playarea/jackpot_status_gold_mobile.png"
                }, {
                    key: "jackpotGoldHoverMobile",
                    fullPath: d + "playarea/jackpotGoldHoverMobile.png"
                }, {
                    key: "jackpotValueGoldMobile(class=jackpotValue jackpotGoldBalanceNumber, font=20pt franklin_gothic, anchorX=0.5, anchorY=0.5, fill=#ffffff, wordWrap=1)_text",
                    fullPath: d +
                        "playarea/jackpotValueGoldMobile(class=jackpotValue jackpotGoldBalanceNumber, font=20pt franklin_gothic, anchorX=0.5, anchorY=0.5, fill=#ffffff, wordWrap=1)_text.png"
                }, {
                    key: "jackpotGoldCurrencyMobile(class=jackpotValue currency, font=20pt franklin_gothic, anchorX=0.5, anchorY=0.5, fill=#ffffff, wordWrap=1)_text",
                    fullPath: d + "playarea/jackpotGoldCurrencyMobile(class=jackpotValue currency, font=20pt franklin_gothic, anchorX=0.5, anchorY=0.5, fill=#ffffff, wordWrap=1)_text.png"
                }, {
                    key: "jackpot_status_diamond_mobile",
                    fullPath: d + "playarea/jackpot_status_diamond_mobile.png"
                }, {
                    key: "jackpotDiamondHoverMobile",
                    fullPath: d + "playarea/jackpotDiamondHoverMobile.png"
                }, {
                    key: "jackpotValueDiamondMobile(class=jackpotValue jackpotDiamondBalanceNumber, font=20pt franklin_gothic, anchorX=0.5, anchorY=0.5, fill=#ffffff, wordWrap=1)_text",
                    fullPath: d + "playarea/jackpotValueDiamondMobile(class=jackpotValue jackpotDiamondBalanceNumber, font=20pt franklin_gothic, anchorX=0.5, anchorY=0.5, fill=#ffffff, wordWrap=1)_text.png"
                }, {
                    key: "jackpotDiamondCurrencyMobile(class=jackpotValue currency,  font=20pt franklin_gothic, anchorX=0.5, anchorY=0.5, fill=#ffffff, wordWrap=1)_text",
                    fullPath: d + "playarea/jackpotDiamondCurrencyMobile(class=jackpotValue currency,  font=20pt franklin_gothic, anchorX=0.5, anchorY=0.5, fill=#ffffff, wordWrap=1)_text.png"
                }, {
                    key: "jackpotStatusTimerMobile",
                    fullPath: d + "playarea/jackpotStatusTimerMobile.png"
                }, {
                    key: "jackpot_timer_030_mobile",
                    fullPath: d + "playarea/jackpot_timer_030_mobile.png"
                }, {
                    key: "jackpot_timer_001_mobile",
                    fullPath: d + "playarea/jackpot_timer_001_mobile.png"
                }, {
                    key: "jackpot_timer_002_mobile",
                    fullPath: d + "playarea/jackpot_timer_002_mobile.png"
                },
                {
                    key: "jackpot_timer_003_mobile",
                    fullPath: d + "playarea/jackpot_timer_003_mobile.png"
                }, {
                    key: "jackpot_timer_004_mobile",
                    fullPath: d + "playarea/jackpot_timer_004_mobile.png"
                }, {
                    key: "jackpot_timer_005_mobile",
                    fullPath: d + "playarea/jackpot_timer_005_mobile.png"
                }, {
                    key: "jackpot_timer_006_mobile",
                    fullPath: d + "playarea/jackpot_timer_006_mobile.png"
                }, {
                    key: "jackpot_timer_007_mobile",
                    fullPath: d + "playarea/jackpot_timer_007_mobile.png"
                }, {
                    key: "jackpot_timer_008_mobile",
                    fullPath: d + "playarea/jackpot_timer_008_mobile.png"
                },
                {
                    key: "jackpot_timer_009_mobile",
                    fullPath: d + "playarea/jackpot_timer_009_mobile.png"
                }, {
                    key: "jackpot_timer_010_mobile",
                    fullPath: d + "playarea/jackpot_timer_010_mobile.png"
                }, {
                    key: "jackpot_timer_011_mobile",
                    fullPath: d + "playarea/jackpot_timer_011_mobile.png"
                }, {
                    key: "jackpot_timer_012_mobile",
                    fullPath: d + "playarea/jackpot_timer_012_mobile.png"
                }, {
                    key: "jackpot_timer_013_mobile",
                    fullPath: d + "playarea/jackpot_timer_013_mobile.png"
                }, {
                    key: "jackpot_timer_014_mobile",
                    fullPath: d + "playarea/jackpot_timer_014_mobile.png"
                },
                {
                    key: "jackpot_timer_015_mobile",
                    fullPath: d + "playarea/jackpot_timer_015_mobile.png"
                }, {
                    key: "jackpot_timer_016_mobile",
                    fullPath: d + "playarea/jackpot_timer_016_mobile.png"
                }, {
                    key: "jackpot_timer_017_mobile",
                    fullPath: d + "playarea/jackpot_timer_017_mobile.png"
                }, {
                    key: "jackpot_timer_018_mobile",
                    fullPath: d + "playarea/jackpot_timer_018_mobile.png"
                }, {
                    key: "jackpot_timer_019_mobile",
                    fullPath: d + "playarea/jackpot_timer_019_mobile.png"
                }, {
                    key: "jackpot_timer_020_mobile",
                    fullPath: d + "playarea/jackpot_timer_020_mobile.png"
                },
                {
                    key: "jackpot_timer_021_mobile",
                    fullPath: d + "playarea/jackpot_timer_021_mobile.png"
                }, {
                    key: "jackpot_timer_022_mobile",
                    fullPath: d + "playarea/jackpot_timer_022_mobile.png"
                }, {
                    key: "jackpot_timer_023_mobile",
                    fullPath: d + "playarea/jackpot_timer_023_mobile.png"
                }, {
                    key: "jackpot_timer_024_mobile",
                    fullPath: d + "playarea/jackpot_timer_024_mobile.png"
                }, {
                    key: "jackpot_timer_025_mobile",
                    fullPath: d + "playarea/jackpot_timer_025_mobile.png"
                }, {
                    key: "jackpot_timer_026_mobile",
                    fullPath: d + "playarea/jackpot_timer_026_mobile.png"
                },
                {
                    key: "jackpot_timer_027_mobile",
                    fullPath: d + "playarea/jackpot_timer_027_mobile.png"
                }, {
                    key: "jackpot_timer_028_mobile",
                    fullPath: d + "playarea/jackpot_timer_028_mobile.png"
                }, {
                    key: "jackpot_timer_029_mobile",
                    fullPath: d + "playarea/jackpot_timer_029_mobile.png"
                }, {
                    key: "jackpot_timer_000_mobile",
                    fullPath: d + "playarea/jackpot_timer_000_mobile.png"
                }, {
                    key: "jackpot_status_bg",
                    fullPath: d + "playarea/jackpot_status_bg.png"
                }, {
                    key: "jackpot_status_red",
                    fullPath: d + "playarea/jackpot_status_red.png"
                }, {
                    key: "jackpotRedHover",
                    fullPath: d + "playarea/jackpotRedHover.png"
                }, {
                    key: "jackpotValueRed(class=jackpotValue jackpotRedBalanceNumber, font=18pt franklin_gothic, anchorX=0.5, anchorY=0.5, fill=#ffffff, wordWrap=1)_text",
                    fullPath: d + "playarea/jackpotValueRed(class=jackpotValue jackpotRedBalanceNumber, font=18pt franklin_gothic, anchorX=0.5, anchorY=0.5, fill=#ffffff, wordWrap=1)_text.png"
                }, {
                    key: "jackpotRedCurrency(class=jackpotValue currency, font=18pt franklin_gothic, anchorX=0.5, anchorY=0.5, fill=#ffffff, wordWrap=1)_text",
                    fullPath: d + "playarea/jackpotRedCurrency(class=jackpotValue currency, font=18pt franklin_gothic, anchorX=0.5, anchorY=0.5, fill=#ffffff, wordWrap=1)_text.png"
                }, {
                    key: "jackpot_status_silver",
                    fullPath: d + "playarea/jackpot_status_silver.png"
                }, {
                    key: "jackpotSilverHover",
                    fullPath: d + "playarea/jackpotSilverHover.png"
                }, {
                    key: "jackpotValueSilver(class=jackpotValue jackpotSilverBalanceNumber, font=18pt franklin_gothic, anchorX=0.5, anchorY=0.5, fill=#ffffff, wordWrap=1)_text",
                    fullPath: d + "playarea/jackpotValueSilver(class=jackpotValue jackpotSilverBalanceNumber, font=18pt franklin_gothic, anchorX=0.5, anchorY=0.5, fill=#ffffff, wordWrap=1)_text.png"
                },
                {
                    key: "jackpotSilverCurrency(class=jackpotValue currency, font=18pt franklin_gothic, anchorX=0.5, anchorY=0.5, fill=#ffffff, wordWrap=1)_text",
                    fullPath: d + "playarea/jackpotSilverCurrency(class=jackpotValue currency, font=18pt franklin_gothic, anchorX=0.5, anchorY=0.5, fill=#ffffff, wordWrap=1)_text.png"
                }, {
                    key: "jackpot_status_gold",
                    fullPath: d + "playarea/jackpot_status_gold.png"
                }, {
                    key: "jackpotGoldHover",
                    fullPath: d + "playarea/jackpotGoldHover.png"
                }, {
                    key: "jackpotValueGold(class=jackpotValue jackpotGoldBalanceNumber, font=18pt franklin_gothic, anchorX=0.5, anchorY=0.5, fill=#ffffff, wordWrap=1)_text",
                    fullPath: d + "playarea/jackpotValueGold(class=jackpotValue jackpotGoldBalanceNumber, font=18pt franklin_gothic, anchorX=0.5, anchorY=0.5, fill=#ffffff, wordWrap=1)_text.png"
                }, {
                    key: "jackpotGoldCurrency(class=jackpotValue currency, font=18pt franklin_gothic, anchorX=0.5, anchorY=0.5, fill=#ffffff, wordWrap=1)_text",
                    fullPath: d + "playarea/jackpotGoldCurrency(class=jackpotValue currency, font=18pt franklin_gothic, anchorX=0.5, anchorY=0.5, fill=#ffffff, wordWrap=1)_text.png"
                }, {
                    key: "jackpot_status_diamond",
                    fullPath: d + "playarea/jackpot_status_diamond.png"
                }, {
                    key: "jackpotDiamondHover",
                    fullPath: d + "playarea/jackpotDiamondHover.png"
                }, {
                    key: "jackpotValueDiamond(class=jackpotValue jackpotDiamondBalanceNumber, font=18pt franklin_gothic, anchorX=0.5, anchorY=0.5, fill=#ffffff, wordWrap=1)_text",
                    fullPath: d + "playarea/jackpotValueDiamond(class=jackpotValue jackpotDiamondBalanceNumber, font=18pt franklin_gothic, anchorX=0.5, anchorY=0.5, fill=#ffffff, wordWrap=1)_text.png"
                }, {
                    key: "jackpotDiamondCurrency(class=jackpotValue currency, font=18pt franklin_gothic, anchorX=0.5, anchorY=0.5, fill=#ffffff, wordWrap=1)_text",
                    fullPath: d + "playarea/jackpotDiamondCurrency(class=jackpotValue currency, font=18pt franklin_gothic, anchorX=0.5, anchorY=0.5, fill=#ffffff, wordWrap=1)_text.png"
                }, {
                    key: "jackpotStatusTimer",
                    fullPath: d + "playarea/jackpotStatusTimer.png"
                }, {
                    key: "jackpot_timer_000_asset",
                    fullPath: d + "playarea/jackpot_timer_000_asset.png"
                }, {
                    key: "jackpot_timer_001_asset",
                    fullPath: d + "playarea/jackpot_timer_001_asset.png"
                }, {
                    key: "jackpot_timer_002_asset",
                    fullPath: d + "playarea/jackpot_timer_002_asset.png"
                }, {
                    key: "jackpot_timer_003_asset",
                    fullPath: d + "playarea/jackpot_timer_003_asset.png"
                }, {
                    key: "jackpot_timer_004_asset",
                    fullPath: d + "playarea/jackpot_timer_004_asset.png"
                }, {
                    key: "jackpot_timer_005_asset",
                    fullPath: d + "playarea/jackpot_timer_005_asset.png"
                }, {
                    key: "jackpot_timer_006_asset",
                    fullPath: d + "playarea/jackpot_timer_006_asset.png"
                }, {
                    key: "jackpot_timer_007_asset",
                    fullPath: d + "playarea/jackpot_timer_007_asset.png"
                }, {
                    key: "jackpot_timer_008_asset",
                    fullPath: d + "playarea/jackpot_timer_008_asset.png"
                }, {
                    key: "jackpot_timer_009_asset",
                    fullPath: d +
                        "playarea/jackpot_timer_009_asset.png"
                }, {
                    key: "jackpot_timer_010_asset",
                    fullPath: d + "playarea/jackpot_timer_010_asset.png"
                }, {
                    key: "jackpot_timer_011_asset",
                    fullPath: d + "playarea/jackpot_timer_011_asset.png"
                }, {
                    key: "jackpot_timer_012_asset",
                    fullPath: d + "playarea/jackpot_timer_012_asset.png"
                }, {
                    key: "jackpot_timer_013_asset",
                    fullPath: d + "playarea/jackpot_timer_013_asset.png"
                }, {
                    key: "jackpot_timer_014_asset",
                    fullPath: d + "playarea/jackpot_timer_014_asset.png"
                }, {
                    key: "jackpot_timer_015_asset",
                    fullPath: d + "playarea/jackpot_timer_015_asset.png"
                },
                {
                    key: "jackpot_timer_016_asset",
                    fullPath: d + "playarea/jackpot_timer_016_asset.png"
                }, {
                    key: "jackpot_timer_017_asset",
                    fullPath: d + "playarea/jackpot_timer_017_asset.png"
                }, {
                    key: "jackpot_timer_018_asset",
                    fullPath: d + "playarea/jackpot_timer_018_asset.png"
                }, {
                    key: "jackpot_timer_019_asset",
                    fullPath: d + "playarea/jackpot_timer_019_asset.png"
                }, {
                    key: "jackpot_timer_020_asset",
                    fullPath: d + "playarea/jackpot_timer_020_asset.png"
                }, {
                    key: "jackpot_timer_021_asset",
                    fullPath: d + "playarea/jackpot_timer_021_asset.png"
                }, {
                    key: "jackpot_timer_022_asset",
                    fullPath: d + "playarea/jackpot_timer_022_asset.png"
                }, {
                    key: "jackpot_timer_023_asset",
                    fullPath: d + "playarea/jackpot_timer_023_asset.png"
                }, {
                    key: "jackpot_timer_024_asset",
                    fullPath: d + "playarea/jackpot_timer_024_asset.png"
                }, {
                    key: "jackpot_timer_025_asset",
                    fullPath: d + "playarea/jackpot_timer_025_asset.png"
                }, {
                    key: "jackpot_timer_026_asset",
                    fullPath: d + "playarea/jackpot_timer_026_asset.png"
                }, {
                    key: "jackpot_timer_027_asset",
                    fullPath: d + "playarea/jackpot_timer_027_asset.png"
                }, {
                    key: "jackpot_timer_028_asset",
                    fullPath: d +
                        "playarea/jackpot_timer_028_asset.png"
                }, {
                    key: "jackpot_timer_029_asset",
                    fullPath: d + "playarea/jackpot_timer_029_asset.png"
                }, {
                    key: "jackpot_timer_030_asset",
                    fullPath: d + "playarea/jackpot_timer_030_asset.png"
                }, {
                    key: "offersBG(scaleX=1920, scaleY=1080, class=cover)_image",
                    fullPath: d + "playarea/offersBG(scaleX=1920, scaleY=1080, class=cover)_image.png"
                }, {
                    key: "offerCancelRepealButtonButton(spritesX=4)_button",
                    fullPath: d + "playarea/offerCancelRepealButtonButton(spritesX=4)_button.png"
                }, {
                    key: "offerCancelConfirmation3(text=repealCancelOffer, class=center playAreaText, font=bold 25pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                    fullPath: d + "playarea/offerCancelConfirmation3(text=repealCancelOffer, class=center playAreaText, font=bold 25pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text.png"
                }, {
                    key: "offerCancelConfirmationButtonButton(spritesX=4)_button",
                    fullPath: d + "playarea/offerCancelConfirmationButtonButton(spritesX=4)_button.png"
                }, {
                    key: "offerCancelConfirmation2(text=cancelOfferConfirmFinally, class=center playAreaText, font=bold 25pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                    fullPath: d + "playarea/offerCancelConfirmation2(text=cancelOfferConfirmFinally, class=center playAreaText, font=bold 25pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text.png"
                }, {
                    key: "offerCancelConfirmation1(text=areYouSureYouWantToCancel, class=center playAreaText, font=bold 24pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, align=center, fill=#fff, wordWrap=1)_text",
                    fullPath: d + "playarea/offerCancelConfirmation1(text=areYouSureYouWantToCancel, class=center playAreaText, font=bold 24pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, align=center, fill=#fff, wordWrap=1)_text.png"
                },
                {
                    key: "offerCancelConfirmation0(text=cancelOfferConfirm, class=center playAreaText, font=bold 35pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#ffc400, wordWrap=1)_text",
                    fullPath: d + "playarea/offerCancelConfirmation0(text=cancelOfferConfirm, class=center playAreaText, font=bold 35pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#ffc400, wordWrap=1)_text.png"
                }, {
                    key: "bg_down",
                    fullPath: d + "playarea/bg_down.png"
                }, {
                    key: "bg_up",
                    fullPath: d + "playarea/bg_up.png"
                }, {
                    key: "offerBackToGameButtonButton(spritesX=4)_button",
                    fullPath: d + "playarea/offerBackToGameButtonButton(spritesX=4)_button.png"
                }, {
                    key: "offerStatistic0(text=backToGame, class=center playAreaText, font=25pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                    fullPath: d + "playarea/offerStatistic0(text=backToGame, class=center playAreaText, font=25pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text.png"
                }, {
                    key: "rectangleBox2",
                    fullPath: d + "playarea/rectangleBox2.png"
                }, {
                    key: "rectangleBox2",
                    fullPath: d +
                        "playarea/rectangleBox2.png"
                }, {
                    key: "line",
                    fullPath: d + "playarea/line.png"
                }, {
                    key: "line",
                    fullPath: d + "playarea/line.png"
                }, {
                    key: "offerFreeGamesWin(class=center playAreaText, font=65pt roboto_condensed_regular, strokeThickness=3, stroke=#07507a, shadowBlur=6, shadowColor=#0087d6, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                    fullPath: d + "playarea/offerFreeGamesWin(class=center playAreaText, font=65pt roboto_condensed_regular, strokeThickness=3, stroke=#07507a, shadowBlur=6, shadowColor=#0087d6, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text.png"
                },
                {
                    key: "offerFreeGamesPlayed(class=center playAreaText, font=65pt roboto_condensed_regular, strokeThickness=3, stroke=#07507a, shadowBlur=6, shadowColor=#0087d6, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                    fullPath: d + "playarea/offerFreeGamesPlayed(class=center playAreaText, font=65pt roboto_condensed_regular, strokeThickness=3, stroke=#07507a, shadowBlur=6, shadowColor=#0087d6, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text.png"
                }, {
                    key: "rightbox4(text=totalWin, class=center playAreaText, font=14pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                    fullPath: d + "playarea/rightbox4(text=totalWin, class=center playAreaText, font=14pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text.png"
                }, {
                    key: "leftbox3(text=countOfcompletedGames, class=center playAreaText, font=14pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                    fullPath: d + "playarea/leftbox3(text=countOfcompletedGames, class=center playAreaText, font=14pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text.png"
                },
                {
                    key: "offerStatistic2(text=summaryAboutFreeGames, class=center playAreaText, font=bold 32pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#ffc400, wordWrap=1)_text",
                    fullPath: d + "playarea/offerStatistic2(text=summaryAboutFreeGames, class=center playAreaText, font=bold 32pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#ffc400, wordWrap=1)_text.png"
                }, {
                    key: "offerStatistic1(text=yourOffersHaveBeenFinished, class=center playAreaText, font=bold 48pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                    fullPath: d + "playarea/offerStatistic1(text=yourOffersHaveBeenFinished, class=center playAreaText, font=bold 48pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text.png"
                }, {
                    key: "bg_down",
                    fullPath: d + "playarea/bg_down.png"
                }, {
                    key: "bg_up",
                    fullPath: d + "playarea/bg_up.png"
                }, {
                    key: "playareaStat_0",
                    fullPath: d + "playarea/playareaStat_0.png"
                }, {
                    key: "offerSelectPreviousButtonButton(spritesX=4)_button",
                    fullPath: d + "playarea/offerSelectPreviousButtonButton(spritesX=4)_button.png"
                }, {
                    key: "dummy1(class=buttonStyle, font=24pt roboto_condensed_regular)_text",
                    fullPath: d + "playarea/dummy1(class=buttonStyle, font=24pt roboto_condensed_regular)_text.png"
                }, {
                    key: "offerSelectNextButtonButton(spritesX=4)_button",
                    fullPath: d + "playarea/offerSelectNextButtonButton(spritesX=4)_button.png"
                }, {
                    key: "dummy1(class=buttonStyle, font=24pt roboto_condensed_regular)_text",
                    fullPath: d + "playarea/dummy1(class=buttonStyle, font=24pt roboto_condensed_regular)_text.png"
                }, {
                    key: "offerPlayNowButtonButton(spritesX=4)_button",
                    fullPath: d + "playarea/offerPlayNowButtonButton(spritesX=4)_button.png"
                },
                {
                    key: "rightButtonText(text=playJustNow, class=center playAreaText, font=25pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                    fullPath: d + "playarea/rightButtonText(text=playJustNow, class=center playAreaText, font=25pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text.png"
                }, {
                    key: "offerPlayLaterButtonButton(spritesX=4)_button",
                    fullPath: d + "playarea/offerPlayLaterButtonButton(spritesX=4)_button.png"
                }, {
                    key: "leftButtonText(text=playLater, class=center playAreaText, font=25pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                    fullPath: d + "playarea/leftButtonText(text=playLater, class=center playAreaText, font=25pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text.png"
                }, {
                    key: "rectangleBox",
                    fullPath: d + "playarea/rectangleBox.png"
                }, {
                    key: "rectangleBox",
                    fullPath: d + "playarea/rectangleBox.png"
                }, {
                    key: "line",
                    fullPath: d + "playarea/line.png"
                }, {
                    key: "line",
                    fullPath: d + "playarea/line.png"
                }, {
                    key: "line",
                    fullPath: d + "playarea/line.png"
                }, {
                    key: "line",
                    fullPath: d + "playarea/line.png"
                }, {
                    key: "line",
                    fullPath: d + "playarea/line.png"
                },
                {
                    key: "offerCancelText2(text=____________, class=center playAreaText, font=15pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                    fullPath: d + "playarea/offerCancelText2(text=____________, class=center playAreaText, font=15pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text.png"
                }, {
                    key: "offerCancelText(text=cancelOffer, class=center playAreaText, font=15pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                    fullPath: d +
                        "playarea/offerCancelText(text=cancelOffer, class=center playAreaText, font=15pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text.png"
                }, {
                    key: "offerCurrentNum2(text=offers, class=playAreaText, font=12pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                    fullPath: d + "playarea/offerCurrentNum2(text=offers, class=playAreaText, font=12pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text.png"
                }, {
                    key: "offerCurrentNum1(text=/, class=playAreaText, font=14pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                    fullPath: d + "playarea/offerCurrentNum1(text=/, class=playAreaText, font=14pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text.png"
                }, {
                    key: "offersTotalNum(class=playAreaText, font=15pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                    fullPath: d + "playarea/offersTotalNum(class=playAreaText, font=15pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text.png"
                }, {
                    key: "offerCurrentNum(class=playAreaText, font=15pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                    fullPath: d + "playarea/offerCurrentNum(class=playAreaText, font=15pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text.png"
                }, {
                    key: "offerLines(text=10, class=center playAreaText, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#00CCF7, wordWrap=1)_text",
                    fullPath: d + "playarea/offerLines(text=10, class=center playAreaText, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#00CCF7, wordWrap=1)_text.png"
                }, {
                    key: "offerBet(text=10, class=center playAreaText, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#00CCF7, wordWrap=1)_text",
                    fullPath: d + "playarea/offerBet(text=10, class=center playAreaText, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#00CCF7, wordWrap=1)_text.png"
                }, {
                    key: "offerCoinValue(text=0.10, class=center playAreaText, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#00CCF7, wordWrap=1)_text",
                    fullPath: d + "playarea/offerCoinValue(text=0.10, class=center playAreaText, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#00CCF7, wordWrap=1)_text.png"
                }, {
                    key: "offerAvaliableTo(text=30.11.2016, class=center playAreaText, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#00CCF7, wordWrap=1)_text",
                    fullPath: d + "playarea/offerAvaliableTo(text=30.11.2016, class=center playAreaText, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#00CCF7, wordWrap=1)_text.png"
                }, {
                    key: "rightbox0(text=conditions, class=center playAreaText, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                    fullPath: d + "playarea/rightbox0(text=conditions, class=center playAreaText, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text.png"
                },
                {
                    key: "offersListGameName(text=GAME NAME, class=center playAreaText, font=bold 32pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#ffc400, wordWrap=1)_text",
                    fullPath: d + "playarea/offersListGameName(text=GAME NAME, class=center playAreaText, font=bold 32pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#ffc400, wordWrap=1)_text.png"
                }, {
                    key: "offersList1(text=youHaveFreeGames, class=center playAreaText, font=bold 32pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                    fullPath: d + "playarea/offersList1(text=youHaveFreeGames, class=center playAreaText, font=bold 32pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text.png"
                }, {
                    key: "offersList(text=congratulation, class=center playAreaText, font=bold 48pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                    fullPath: d + "playarea/offersList(text=congratulation, class=center playAreaText, font=bold 48pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text.png"
                },
                {
                    key: "freeGames(class=freeGames, font=12pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                    fullPath: d + "playarea/freeGames(class=freeGames, font=12pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text.png"
                }, {
                    key: "rightbox2(text=countOfLine, class=playAreaText, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                    fullPath: d + "playarea/rightbox2(text=countOfLine, class=playAreaText, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text.png"
                },
                {
                    key: "rightbox4(text=betOfLine, class=center playAreaText, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                    fullPath: d + "playarea/rightbox4(text=betOfLine, class=center playAreaText, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text.png"
                }, {
                    key: "rightbox3(text=denomination, class=center playAreaText, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                    fullPath: d + "playarea/rightbox3(text=denomination, class=center playAreaText, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text.png"
                },
                {
                    key: "rightbox1(text=conditionsAvailableUntil, class=center playAreaText, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                    fullPath: d + "playarea/rightbox1(text=conditionsAvailableUntil, class=center playAreaText, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text.png"
                }, {
                    key: "offerFreeGamesAmount(class=center playAreaText, font=bold 90pt roboto_condensed_regular, strokeThickness=3, stroke=#07507a, shadowBlur=6, shadowColor=#0087d6, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                    fullPath: d + "playarea/offerFreeGamesAmount(class=center playAreaText, font=bold 90pt roboto_condensed_regular, strokeThickness=3, stroke=#07507a, shadowBlur=6, shadowColor=#0087d6, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text.png"
                }, {
                    key: "leftbox1(text=freeGames, class=center playAreaText, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                    fullPath: d + "playarea/leftbox1(text=freeGames, class=center playAreaText, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text.png"
                }
            ]
        },
        objects: {
            name: "objects",
            contents: [{
                type: 1,
                name: "offersContainer",
                alpha: "1",
                contents: [{
                    type: 1,
                    name: "offersList",
                    alpha: "1",
                    contents: [{
                            type: 0,
                            name: "leftbox1(text=freeGames, class=center playAreaText, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                            assetKey: "leftbox1(text=freeGames, class=center playAreaText, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                            x: "773",
                            y: "412",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "offerFreeGamesAmount(class=center playAreaText, font=bold 90pt roboto_condensed_regular, strokeThickness=3, stroke=#07507a, shadowBlur=6, shadowColor=#0087d6, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                            assetKey: "offerFreeGamesAmount(class=center playAreaText, font=bold 90pt roboto_condensed_regular, strokeThickness=3, stroke=#07507a, shadowBlur=6, shadowColor=#0087d6, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                            x: "783",
                            y: "508",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "rightbox1(text=conditionsAvailableUntil, class=center playAreaText, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                            assetKey: "rightbox1(text=conditionsAvailableUntil, class=center playAreaText, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                            x: "1054",
                            y: "449",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "rightbox3(text=denomination, class=center playAreaText, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                            assetKey: "rightbox3(text=denomination, class=center playAreaText, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                            x: "1061",
                            y: "483",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "rightbox4(text=betOfLine, class=center playAreaText, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                            assetKey: "rightbox4(text=betOfLine, class=center playAreaText, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                            x: "1076",
                            y: "517",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "rightbox2(text=countOfLine, class=playAreaText, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                            assetKey: "rightbox2(text=countOfLine, class=playAreaText, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                            x: "1083",
                            y: "556",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "freeGames(class=freeGames, font=12pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                            assetKey: "freeGames(class=freeGames, font=12pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                            x: "540",
                            y: "166",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "offersList(text=congratulation, class=center playAreaText, font=bold 48pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                            assetKey: "offersList(text=congratulation, class=center playAreaText, font=bold 48pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                            x: "960",
                            y: "220",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "offersList1(text=youHaveFreeGames, class=center playAreaText, font=bold 32pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                            assetKey: "offersList1(text=youHaveFreeGames, class=center playAreaText, font=bold 32pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                            x: "960",
                            y: "290",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "offersListGameName(text=GAME NAME, class=center playAreaText, font=bold 32pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#ffc400, wordWrap=1)_text",
                            assetKey: "offersListGameName(text=GAME NAME, class=center playAreaText, font=bold 32pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#ffc400, wordWrap=1)_text",
                            x: "959",
                            y: "341",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "rightbox0(text=conditions, class=center playAreaText, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                            assetKey: "rightbox0(text=conditions, class=center playAreaText, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                            x: "1145",
                            y: "411",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "offerAvaliableTo(text=30.11.2016, class=center playAreaText, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#00CCF7, wordWrap=1)_text",
                            assetKey: "offerAvaliableTo(text=30.11.2016, class=center playAreaText, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#00CCF7, wordWrap=1)_text",
                            x: "1287",
                            y: "449",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "offerCoinValue(text=0.10, class=center playAreaText, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#00CCF7, wordWrap=1)_text",
                            assetKey: "offerCoinValue(text=0.10, class=center playAreaText, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#00CCF7, wordWrap=1)_text",
                            x: "1270",
                            y: "483",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "offerBet(text=10, class=center playAreaText, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#00CCF7, wordWrap=1)_text",
                            assetKey: "offerBet(text=10, class=center playAreaText, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#00CCF7, wordWrap=1)_text",
                            x: "1287",
                            y: "517",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "offerLines(text=10, class=center playAreaText, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#00CCF7, wordWrap=1)_text",
                            assetKey: "offerLines(text=10, class=center playAreaText, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#00CCF7, wordWrap=1)_text",
                            x: "1287",
                            y: "556",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "offerCurrentNum(class=playAreaText, font=15pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                            assetKey: "offerCurrentNum(class=playAreaText, font=15pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                            x: "937",
                            y: "768",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "offersTotalNum(class=playAreaText, font=15pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                            assetKey: "offersTotalNum(class=playAreaText, font=15pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                            x: "985",
                            y: "768",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "offerCurrentNum1(text=/, class=playAreaText, font=14pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                            assetKey: "offerCurrentNum1(text=/, class=playAreaText, font=14pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                            x: "961",
                            y: "768",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "offerCurrentNum2(text=offers, class=playAreaText, font=12pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                            assetKey: "offerCurrentNum2(text=offers, class=playAreaText, font=12pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                            x: "967",
                            y: "793",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "offerCancelText(text=cancelOffer, class=center playAreaText, font=15pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                            assetKey: "offerCancelText(text=cancelOffer, class=center playAreaText, font=15pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                            x: "1250",
                            y: "778",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "offerCancelText2(text=____________, class=center playAreaText, font=15pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                            assetKey: "offerCancelText2(text=____________, class=center playAreaText, font=15pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                            x: "1250",
                            y: "783",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "line",
                            assetKey: "line",
                            x: "605",
                            y: "416",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "line",
                            assetKey: "line",
                            x: "975",
                            y: "416",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "line",
                            assetKey: "line",
                            x: "971",
                            y: "454",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "line",
                            assetKey: "line",
                            x: "969",
                            y: "522",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "line",
                            assetKey: "line",
                            x: "962",
                            y: "489",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "rectangleBox",
                            assetKey: "rectangleBox",
                            x: "967",
                            y: "371",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "rectangleBox",
                            assetKey: "rectangleBox",
                            x: "599",
                            y: "372",
                            alpha: "1"
                        },
                        {
                            type: 1,
                            name: "offerPlayLaterButton",
                            alpha: "1",
                            contents: [{
                                type: 0,
                                name: "leftButtonText(text=playLater, class=center playAreaText, font=25pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                                assetKey: "leftButtonText(text=playLater, class=center playAreaText, font=25pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                                x: "784",
                                y: "672",
                                alpha: "1"
                            }, {
                                type: 0,
                                name: "offerPlayLaterButtonButton(spritesX=4)_button",
                                assetKey: "offerPlayLaterButtonButton(spritesX=4)_button",
                                x: "591",
                                y: "622",
                                alpha: "1"
                            }]
                        }, {
                            type: 1,
                            name: "offerPlayNowButton",
                            alpha: "1",
                            contents: [{
                                type: 0,
                                name: "rightButtonText(text=playJustNow, class=center playAreaText, font=25pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                                assetKey: "rightButtonText(text=playJustNow, class=center playAreaText, font=25pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                                x: "1146",
                                y: "672",
                                alpha: "1"
                            }, {
                                type: 0,
                                name: "offerPlayNowButtonButton(spritesX=4)_button",
                                assetKey: "offerPlayNowButtonButton(spritesX=4)_button",
                                x: "967",
                                y: "621",
                                alpha: "1"
                            }]
                        }, {
                            type: 1,
                            name: "offerSelectNextButton",
                            alpha: "1",
                            contents: [{
                                type: 0,
                                name: "dummy1(class=buttonStyle, font=24pt roboto_condensed_regular)_text",
                                assetKey: "dummy1(class=buttonStyle, font=24pt roboto_condensed_regular)_text",
                                x: "1658",
                                y: "41",
                                alpha: "1"
                            }, {
                                type: 0,
                                name: "offerSelectNextButtonButton(spritesX=4)_button",
                                assetKey: "offerSelectNextButtonButton(spritesX=4)_button",
                                x: "1023",
                                y: "747",
                                alpha: "1"
                            }]
                        }, {
                            type: 1,
                            name: "offerSelectPreviousButton",
                            alpha: "1",
                            contents: [{
                                type: 0,
                                name: "dummy1(class=buttonStyle, font=24pt roboto_condensed_regular)_text",
                                assetKey: "dummy1(class=buttonStyle, font=24pt roboto_condensed_regular)_text",
                                x: "1658",
                                y: "41",
                                alpha: "1"
                            }, {
                                type: 0,
                                name: "offerSelectPreviousButtonButton(spritesX=4)_button",
                                assetKey: "offerSelectPreviousButtonButton(spritesX=4)_button",
                                x: "852",
                                y: "747",
                                alpha: "1"
                            }]
                        }, {
                            type: 0,
                            name: "playareaStat_0",
                            assetKey: "playareaStat_0",
                            x: "836",
                            y: "733",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "bg_up",
                            assetKey: "bg_up",
                            x: "532",
                            y: "-22",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "bg_down",
                            assetKey: "bg_down",
                            x: "538",
                            y: "674",
                            alpha: "1"
                        }
                    ]
                }, {
                    type: 1,
                    name: "offerStatistic",
                    alpha: "1",
                    contents: [{
                        type: 0,
                        name: "offerStatistic1(text=yourOffersHaveBeenFinished, class=center playAreaText, font=bold 48pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                        assetKey: "offerStatistic1(text=yourOffersHaveBeenFinished, class=center playAreaText, font=bold 48pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                        x: "961",
                        y: "316",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "offerStatistic2(text=summaryAboutFreeGames, class=center playAreaText, font=bold 32pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#ffc400, wordWrap=1)_text",
                        assetKey: "offerStatistic2(text=summaryAboutFreeGames, class=center playAreaText, font=bold 32pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#ffc400, wordWrap=1)_text",
                        x: "961",
                        y: "389",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "leftbox3(text=countOfcompletedGames, class=center playAreaText, font=14pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                        assetKey: "leftbox3(text=countOfcompletedGames, class=center playAreaText, font=14pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                        x: "784",
                        y: "483",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "rightbox4(text=totalWin, class=center playAreaText, font=14pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                        assetKey: "rightbox4(text=totalWin, class=center playAreaText, font=14pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                        x: "1143",
                        y: "482",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "offerFreeGamesPlayed(class=center playAreaText, font=65pt roboto_condensed_regular, strokeThickness=3, stroke=#07507a, shadowBlur=6, shadowColor=#0087d6, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                        assetKey: "offerFreeGamesPlayed(class=center playAreaText, font=65pt roboto_condensed_regular, strokeThickness=3, stroke=#07507a, shadowBlur=6, shadowColor=#0087d6, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                        x: "784",
                        y: "579",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "offerFreeGamesWin(class=center playAreaText, font=65pt roboto_condensed_regular, strokeThickness=3, stroke=#07507a, shadowBlur=6, shadowColor=#0087d6, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                        assetKey: "offerFreeGamesWin(class=center playAreaText, font=65pt roboto_condensed_regular, strokeThickness=3, stroke=#07507a, shadowBlur=6, shadowColor=#0087d6, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                        x: "1143",
                        y: "579",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "line",
                        assetKey: "line",
                        x: "964",
                        y: "504",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "line",
                        assetKey: "line",
                        x: "600",
                        y: "504",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "rectangleBox2",
                        assetKey: "rectangleBox2",
                        x: "600",
                        y: "430",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "rectangleBox2",
                        assetKey: "rectangleBox2",
                        x: "960",
                        y: "430",
                        alpha: "1"
                    }, {
                        type: 1,
                        name: "offerBackToGameButton",
                        alpha: "1",
                        contents: [{
                            type: 0,
                            name: "offerStatistic0(text=backToGame, class=center playAreaText, font=25pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                            assetKey: "offerStatistic0(text=backToGame, class=center playAreaText, font=25pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                            x: "960",
                            y: "726",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "offerBackToGameButtonButton(spritesX=4)_button",
                            assetKey: "offerBackToGameButtonButton(spritesX=4)_button",
                            x: "804",
                            y: "678",
                            alpha: "1"
                        }]
                    }, {
                        type: 0,
                        name: "bg_up",
                        assetKey: "bg_up",
                        x: "533",
                        y: "96",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "bg_down",
                        assetKey: "bg_down",
                        x: "540",
                        y: "616",
                        alpha: "1"
                    }]
                }, {
                    type: 1,
                    name: "offerCancelConfirmation",
                    alpha: "1",
                    contents: [{
                        type: 0,
                        name: "offerCancelConfirmation0(text=cancelOfferConfirm, class=center playAreaText, font=bold 35pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#ffc400, wordWrap=1)_text",
                        assetKey: "offerCancelConfirmation0(text=cancelOfferConfirm, class=center playAreaText, font=bold 35pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#ffc400, wordWrap=1)_text",
                        x: "960",
                        y: "269",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "offerCancelConfirmation1(text=areYouSureYouWantToCancel, class=center playAreaText, font=bold 24pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, align=center, fill=#fff, wordWrap=1)_text",
                        assetKey: "offerCancelConfirmation1(text=areYouSureYouWantToCancel, class=center playAreaText, font=bold 24pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, align=center, fill=#fff, wordWrap=1)_text",
                        x: "960",
                        y: "371",
                        alpha: "1"
                    }, {
                        type: 1,
                        name: "offerCancelConfimationButton",
                        alpha: "1",
                        contents: [{
                            type: 0,
                            name: "offerCancelConfirmation2(text=cancelOfferConfirmFinally, class=center playAreaText, font=bold 25pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                            assetKey: "offerCancelConfirmation2(text=cancelOfferConfirmFinally, class=center playAreaText, font=bold 25pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                            x: "836",
                            y: "495",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "offerCancelConfirmationButtonButton(spritesX=4)_button",
                            assetKey: "offerCancelConfirmationButtonButton(spritesX=4)_button",
                            x: "715",
                            y: "445",
                            alpha: "1"
                        }]
                    }, {
                        type: 1,
                        name: "offerCancelRepealConfimationButton",
                        alpha: "1",
                        contents: [{
                            type: 0,
                            name: "offerCancelConfirmation3(text=repealCancelOffer, class=center playAreaText, font=bold 25pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                            assetKey: "offerCancelConfirmation3(text=repealCancelOffer, class=center playAreaText, font=bold 25pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                            x: "1087",
                            y: "494",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "offerCancelRepealButtonButton(spritesX=4)_button",
                            assetKey: "offerCancelRepealButtonButton(spritesX=4)_button",
                            x: "959",
                            y: "445",
                            alpha: "1"
                        }]
                    }]
                }, {
                    type: 0,
                    name: "offersBG(scaleX=1920, scaleY=1080, class=cover)_image",
                    assetKey: "offersBG(scaleX=1920, scaleY=1080, class=cover)_image",
                    x: "0",
                    y: "0",
                    alpha: "0.850980392156863"
                }]
            }, {
                type: 1,
                name: "jackpotStatusContainer",
                alpha: "1",
                contents: [{
                    type: 1,
                    name: "assetsJakcpot",
                    alpha: "1",
                    contents: [{
                        type: 0,
                        name: "jackpot_timer_030_asset",
                        assetKey: "jackpot_timer_030_asset",
                        x: "1073",
                        y: "-275",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "jackpot_timer_029_asset",
                        assetKey: "jackpot_timer_029_asset",
                        x: "888",
                        y: "-100",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "jackpot_timer_028_asset",
                        assetKey: "jackpot_timer_028_asset",
                        x: "888",
                        y: "-100",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "jackpot_timer_027_asset",
                        assetKey: "jackpot_timer_027_asset",
                        x: "888",
                        y: "-100",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "jackpot_timer_026_asset",
                        assetKey: "jackpot_timer_026_asset",
                        x: "888",
                        y: "-100",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "jackpot_timer_025_asset",
                        assetKey: "jackpot_timer_025_asset",
                        x: "888",
                        y: "-100",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "jackpot_timer_024_asset",
                        assetKey: "jackpot_timer_024_asset",
                        x: "888",
                        y: "-100",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "jackpot_timer_023_asset",
                        assetKey: "jackpot_timer_023_asset",
                        x: "888",
                        y: "-100",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "jackpot_timer_022_asset",
                        assetKey: "jackpot_timer_022_asset",
                        x: "888",
                        y: "-100",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "jackpot_timer_021_asset",
                        assetKey: "jackpot_timer_021_asset",
                        x: "888",
                        y: "-100",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "jackpot_timer_020_asset",
                        assetKey: "jackpot_timer_020_asset",
                        x: "888",
                        y: "-100",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "jackpot_timer_019_asset",
                        assetKey: "jackpot_timer_019_asset",
                        x: "888",
                        y: "-100",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "jackpot_timer_018_asset",
                        assetKey: "jackpot_timer_018_asset",
                        x: "888",
                        y: "-100",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "jackpot_timer_017_asset",
                        assetKey: "jackpot_timer_017_asset",
                        x: "888",
                        y: "-100",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "jackpot_timer_016_asset",
                        assetKey: "jackpot_timer_016_asset",
                        x: "888",
                        y: "-100",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "jackpot_timer_015_asset",
                        assetKey: "jackpot_timer_015_asset",
                        x: "888",
                        y: "-100",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "jackpot_timer_014_asset",
                        assetKey: "jackpot_timer_014_asset",
                        x: "888",
                        y: "-100",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "jackpot_timer_013_asset",
                        assetKey: "jackpot_timer_013_asset",
                        x: "888",
                        y: "-100",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "jackpot_timer_012_asset",
                        assetKey: "jackpot_timer_012_asset",
                        x: "888",
                        y: "-100",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "jackpot_timer_011_asset",
                        assetKey: "jackpot_timer_011_asset",
                        x: "888",
                        y: "-100",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "jackpot_timer_010_asset",
                        assetKey: "jackpot_timer_010_asset",
                        x: "888",
                        y: "-100",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "jackpot_timer_009_asset",
                        assetKey: "jackpot_timer_009_asset",
                        x: "888",
                        y: "-100",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "jackpot_timer_008_asset",
                        assetKey: "jackpot_timer_008_asset",
                        x: "888",
                        y: "-100",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "jackpot_timer_007_asset",
                        assetKey: "jackpot_timer_007_asset",
                        x: "888",
                        y: "-100",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "jackpot_timer_006_asset",
                        assetKey: "jackpot_timer_006_asset",
                        x: "888",
                        y: "-100",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "jackpot_timer_005_asset",
                        assetKey: "jackpot_timer_005_asset",
                        x: "888",
                        y: "-100",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "jackpot_timer_004_asset",
                        assetKey: "jackpot_timer_004_asset",
                        x: "888",
                        y: "-100",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "jackpot_timer_003_asset",
                        assetKey: "jackpot_timer_003_asset",
                        x: "888",
                        y: "-100",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "jackpot_timer_002_asset",
                        assetKey: "jackpot_timer_002_asset",
                        x: "888",
                        y: "-100",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "jackpot_timer_001_asset",
                        assetKey: "jackpot_timer_001_asset",
                        x: "888",
                        y: "-100",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "jackpot_timer_000_asset",
                        assetKey: "jackpot_timer_000_asset",
                        x: "888",
                        y: "-103",
                        alpha: "1"
                    }]
                }, {
                    type: 0,
                    name: "jackpotStatusTimer",
                    assetKey: "jackpotStatusTimer",
                    x: "888",
                    y: "0",
                    alpha: "1"
                }, {
                    type: 1,
                    name: "jackpotStatusDiamondContainer",
                    alpha: "1",
                    contents: [{
                        type: 0,
                        name: "jackpotDiamondCurrency(class=jackpotValue currency, font=18pt franklin_gothic, anchorX=0.5, anchorY=0.5, fill=#ffffff, wordWrap=1)_text",
                        assetKey: "jackpotDiamondCurrency(class=jackpotValue currency, font=18pt franklin_gothic, anchorX=0.5, anchorY=0.5, fill=#ffffff, wordWrap=1)_text",
                        x: "1216",
                        y: "57",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "jackpotValueDiamond(class=jackpotValue jackpotDiamondBalanceNumber, font=18pt franklin_gothic, anchorX=0.5, anchorY=0.5, fill=#ffffff, wordWrap=1)_text",
                        assetKey: "jackpotValueDiamond(class=jackpotValue jackpotDiamondBalanceNumber, font=18pt franklin_gothic, anchorX=0.5, anchorY=0.5, fill=#ffffff, wordWrap=1)_text",
                        x: "1187",
                        y: "57",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "jackpotDiamondHover",
                        assetKey: "jackpotDiamondHover",
                        x: "1015",
                        y: "40",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "jackpot_status_diamond",
                        assetKey: "jackpot_status_diamond",
                        x: "1036",
                        y: "43",
                        alpha: "1"
                    }]
                }, {
                    type: 1,
                    name: "jackpotStatusGoldContainer",
                    alpha: "1",
                    contents: [{
                        type: 0,
                        name: "jackpotGoldCurrency(class=jackpotValue currency, font=18pt franklin_gothic, anchorX=0.5, anchorY=0.5, fill=#ffffff, wordWrap=1)_text",
                        assetKey: "jackpotGoldCurrency(class=jackpotValue currency, font=18pt franklin_gothic, anchorX=0.5, anchorY=0.5, fill=#ffffff, wordWrap=1)_text",
                        x: "1216",
                        y: "25",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "jackpotValueGold(class=jackpotValue jackpotGoldBalanceNumber, font=18pt franklin_gothic, anchorX=0.5, anchorY=0.5, fill=#ffffff, wordWrap=1)_text",
                        assetKey: "jackpotValueGold(class=jackpotValue jackpotGoldBalanceNumber, font=18pt franklin_gothic, anchorX=0.5, anchorY=0.5, fill=#ffffff, wordWrap=1)_text",
                        x: "1187",
                        y: "25",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "jackpotGoldHover",
                        assetKey: "jackpotGoldHover",
                        x: "1021",
                        y: "6",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "jackpot_status_gold",
                        assetKey: "jackpot_status_gold",
                        x: "1036",
                        y: "11",
                        alpha: "1"
                    }]
                }, {
                    type: 1,
                    name: "jackpotStatusSilverContainer",
                    alpha: "1",
                    contents: [{
                        type: 0,
                        name: "jackpotSilverCurrency(class=jackpotValue currency, font=18pt franklin_gothic, anchorX=0.5, anchorY=0.5, fill=#ffffff, wordWrap=1)_text",
                        assetKey: "jackpotSilverCurrency(class=jackpotValue currency, font=18pt franklin_gothic, anchorX=0.5, anchorY=0.5, fill=#ffffff, wordWrap=1)_text",
                        x: "849",
                        y: "59",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "jackpotValueSilver(class=jackpotValue jackpotSilverBalanceNumber, font=18pt franklin_gothic, anchorX=0.5, anchorY=0.5, fill=#ffffff, wordWrap=1)_text",
                        assetKey: "jackpotValueSilver(class=jackpotValue jackpotSilverBalanceNumber, font=18pt franklin_gothic, anchorX=0.5, anchorY=0.5, fill=#ffffff, wordWrap=1)_text",
                        x: "820",
                        y: "59",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "jackpotSilverHover",
                        assetKey: "jackpotSilverHover",
                        x: "658",
                        y: "41",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "jackpot_status_silver",
                        assetKey: "jackpot_status_silver",
                        x: "662",
                        y: "43",
                        alpha: "1"
                    }]
                }, {
                    type: 1,
                    name: "jackpotStatusRedContainer",
                    alpha: "1",
                    contents: [{
                        type: 0,
                        name: "jackpotRedCurrency(class=jackpotValue currency, font=18pt franklin_gothic, anchorX=0.5, anchorY=0.5, fill=#ffffff, wordWrap=1)_text",
                        assetKey: "jackpotRedCurrency(class=jackpotValue currency, font=18pt franklin_gothic, anchorX=0.5, anchorY=0.5, fill=#ffffff, wordWrap=1)_text",
                        x: "849",
                        y: "25",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "jackpotValueRed(class=jackpotValue jackpotRedBalanceNumber, font=18pt franklin_gothic, anchorX=0.5, anchorY=0.5, fill=#ffffff, wordWrap=1)_text",
                        assetKey: "jackpotValueRed(class=jackpotValue jackpotRedBalanceNumber, font=18pt franklin_gothic, anchorX=0.5, anchorY=0.5, fill=#ffffff, wordWrap=1)_text",
                        x: "820",
                        y: "25",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "jackpotRedHover",
                        assetKey: "jackpotRedHover",
                        x: "658",
                        y: "6",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "jackpot_status_red",
                        assetKey: "jackpot_status_red",
                        x: "662",
                        y: "11",
                        alpha: "1"
                    }]
                }, {
                    type: 0,
                    name: "jackpot_status_bg",
                    assetKey: "jackpot_status_bg",
                    x: "653",
                    y: "1",
                    alpha: "1"
                }]
            }, {
                type: 1,
                name: "jackpotStatusContainerMobile",
                alpha: "1",
                contents: [{
                    type: 1,
                    name: "assetsJakcpotMobile",
                    alpha: "1",
                    contents: [{
                        type: 0,
                        name: "jackpot_timer_000_mobile",
                        assetKey: "jackpot_timer_000_mobile",
                        x: "871",
                        y: "-140",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "jackpot_timer_029_mobile",
                        assetKey: "jackpot_timer_029_mobile",
                        x: "867",
                        y: "-132",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "jackpot_timer_028_mobile",
                        assetKey: "jackpot_timer_028_mobile",
                        x: "867",
                        y: "-132",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "jackpot_timer_027_mobile",
                        assetKey: "jackpot_timer_027_mobile",
                        x: "867",
                        y: "-132",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "jackpot_timer_026_mobile",
                        assetKey: "jackpot_timer_026_mobile",
                        x: "867",
                        y: "-132",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "jackpot_timer_025_mobile",
                        assetKey: "jackpot_timer_025_mobile",
                        x: "867",
                        y: "-132",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "jackpot_timer_024_mobile",
                        assetKey: "jackpot_timer_024_mobile",
                        x: "867",
                        y: "-132",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "jackpot_timer_023_mobile",
                        assetKey: "jackpot_timer_023_mobile",
                        x: "867",
                        y: "-132",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "jackpot_timer_022_mobile",
                        assetKey: "jackpot_timer_022_mobile",
                        x: "867",
                        y: "-132",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "jackpot_timer_021_mobile",
                        assetKey: "jackpot_timer_021_mobile",
                        x: "867",
                        y: "-132",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "jackpot_timer_020_mobile",
                        assetKey: "jackpot_timer_020_mobile",
                        x: "867",
                        y: "-132",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "jackpot_timer_019_mobile",
                        assetKey: "jackpot_timer_019_mobile",
                        x: "867",
                        y: "-132",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "jackpot_timer_018_mobile",
                        assetKey: "jackpot_timer_018_mobile",
                        x: "867",
                        y: "-132",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "jackpot_timer_017_mobile",
                        assetKey: "jackpot_timer_017_mobile",
                        x: "867",
                        y: "-132",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "jackpot_timer_016_mobile",
                        assetKey: "jackpot_timer_016_mobile",
                        x: "867",
                        y: "-132",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "jackpot_timer_015_mobile",
                        assetKey: "jackpot_timer_015_mobile",
                        x: "867",
                        y: "-132",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "jackpot_timer_014_mobile",
                        assetKey: "jackpot_timer_014_mobile",
                        x: "867",
                        y: "-132",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "jackpot_timer_013_mobile",
                        assetKey: "jackpot_timer_013_mobile",
                        x: "867",
                        y: "-132",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "jackpot_timer_012_mobile",
                        assetKey: "jackpot_timer_012_mobile",
                        x: "867",
                        y: "-132",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "jackpot_timer_011_mobile",
                        assetKey: "jackpot_timer_011_mobile",
                        x: "867",
                        y: "-132",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "jackpot_timer_010_mobile",
                        assetKey: "jackpot_timer_010_mobile",
                        x: "867",
                        y: "-132",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "jackpot_timer_009_mobile",
                        assetKey: "jackpot_timer_009_mobile",
                        x: "867",
                        y: "-132",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "jackpot_timer_008_mobile",
                        assetKey: "jackpot_timer_008_mobile",
                        x: "867",
                        y: "-132",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "jackpot_timer_007_mobile",
                        assetKey: "jackpot_timer_007_mobile",
                        x: "867",
                        y: "-132",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "jackpot_timer_006_mobile",
                        assetKey: "jackpot_timer_006_mobile",
                        x: "867",
                        y: "-132",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "jackpot_timer_005_mobile",
                        assetKey: "jackpot_timer_005_mobile",
                        x: "867",
                        y: "-132",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "jackpot_timer_004_mobile",
                        assetKey: "jackpot_timer_004_mobile",
                        x: "867",
                        y: "-132",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "jackpot_timer_003_mobile",
                        assetKey: "jackpot_timer_003_mobile",
                        x: "867",
                        y: "-132",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "jackpot_timer_002_mobile",
                        assetKey: "jackpot_timer_002_mobile",
                        x: "867",
                        y: "-132",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "jackpot_timer_001_mobile",
                        assetKey: "jackpot_timer_001_mobile",
                        x: "867",
                        y: "-132",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "jackpot_timer_030_mobile",
                        assetKey: "jackpot_timer_030_mobile",
                        x: "867",
                        y: "-132",
                        alpha: "1"
                    }]
                }, {
                    type: 0,
                    name: "jackpotStatusTimerMobile",
                    assetKey: "jackpotStatusTimerMobile",
                    x: "866",
                    y: "0",
                    alpha: "1"
                }, {
                    type: 1,
                    name: "jackpotStatusDiamondContainerMobile",
                    alpha: "1",
                    contents: [{
                        type: 0,
                        name: "jackpotDiamondCurrencyMobile(class=jackpotValue currency,  font=20pt franklin_gothic, anchorX=0.5, anchorY=0.5, fill=#ffffff, wordWrap=1)_text",
                        assetKey: "jackpotDiamondCurrencyMobile(class=jackpotValue currency,  font=20pt franklin_gothic, anchorX=0.5, anchorY=0.5, fill=#ffffff, wordWrap=1)_text",
                        x: "1311",
                        y: "73",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "jackpotValueDiamondMobile(class=jackpotValue jackpotDiamondBalanceNumber, font=20pt franklin_gothic, anchorX=0.5, anchorY=0.5, fill=#ffffff, wordWrap=1)_text",
                        assetKey: "jackpotValueDiamondMobile(class=jackpotValue jackpotDiamondBalanceNumber, font=20pt franklin_gothic, anchorX=0.5, anchorY=0.5, fill=#ffffff, wordWrap=1)_text",
                        x: "1250",
                        y: "73",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "jackpotDiamondHoverMobile",
                        assetKey: "jackpotDiamondHoverMobile",
                        x: "1030",
                        y: "48",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "jackpot_status_diamond_mobile",
                        assetKey: "jackpot_status_diamond_mobile",
                        x: "1055",
                        y: "52",
                        alpha: "1"
                    }]
                }, {
                    type: 1,
                    name: "jackpotStatusGoldContainerMobile",
                    alpha: "1",
                    contents: [{
                        type: 0,
                        name: "jackpotGoldCurrencyMobile(class=jackpotValue currency, font=20pt franklin_gothic, anchorX=0.5, anchorY=0.5, fill=#ffffff, wordWrap=1)_text",
                        assetKey: "jackpotGoldCurrencyMobile(class=jackpotValue currency, font=20pt franklin_gothic, anchorX=0.5, anchorY=0.5, fill=#ffffff, wordWrap=1)_text",
                        x: "1311",
                        y: "26",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "jackpotValueGoldMobile(class=jackpotValue jackpotGoldBalanceNumber, font=20pt franklin_gothic, anchorX=0.5, anchorY=0.5, fill=#ffffff, wordWrap=1)_text",
                        assetKey: "jackpotValueGoldMobile(class=jackpotValue jackpotGoldBalanceNumber, font=20pt franklin_gothic, anchorX=0.5, anchorY=0.5, fill=#ffffff, wordWrap=1)_text",
                        x: "1250",
                        y: "26",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "jackpotGoldHoverMobile",
                        assetKey: "jackpotGoldHoverMobile",
                        x: "1030",
                        y: "4",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "jackpot_status_gold_mobile",
                        assetKey: "jackpot_status_gold_mobile",
                        x: "1055",
                        y: "8",
                        alpha: "1"
                    }]
                }, {
                    type: 1,
                    name: "jackpotStatusSilverContainerMobile",
                    alpha: "1",
                    contents: [{
                        type: 0,
                        name: "jackpotSilverCurrencyMobile(class=jackpotValue currency, font=20pt franklin_gothic, anchorX=0.5, anchorY=0.5, fill=#ffffff, wordWrap=1)_text",
                        assetKey: "jackpotSilverCurrencyMobile(class=jackpotValue currency, font=20pt franklin_gothic, anchorX=0.5, anchorY=0.5, fill=#ffffff, wordWrap=1)_text",
                        x: "805",
                        y: "72",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "jackpotValueSilverMobile(class=jackpotValue jackpotSilverBalanceNumber, font=20pt franklin_gothic, anchorX=0.5, anchorY=0.5, fill=#ffffff, wordWrap=1)_text",
                        assetKey: "jackpotValueSilverMobile(class=jackpotValue jackpotSilverBalanceNumber, font=20pt franklin_gothic, anchorX=0.5, anchorY=0.5, fill=#ffffff, wordWrap=1)_text",
                        x: "762",
                        y: "72",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "jackpotSilverHover_mobile",
                        assetKey: "jackpotSilverHover_mobile",
                        x: "569",
                        y: "48",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "jackpot_status_silver_mobile",
                        assetKey: "jackpot_status_silver_mobile",
                        x: "573",
                        y: "52",
                        alpha: "1"
                    }]
                }, {
                    type: 1,
                    name: "jackpotStatusRedContainerMobile",
                    alpha: "1",
                    contents: [{
                            type: 0,
                            name: "jackpotRedCurrencyMobile(class=jackpotValue currency,  font=20pt franklin_gothic, anchorX=0.5, anchorY=0.5, fill=#ffffff, wordWrap=1)_text",
                            assetKey: "jackpotRedCurrencyMobile(class=jackpotValue currency,  font=20pt franklin_gothic, anchorX=0.5, anchorY=0.5, fill=#ffffff, wordWrap=1)_text",
                            x: "805",
                            y: "26",
                            alpha: "1"
                        },
                        {
                            type: 0,
                            name: "jackpotValueRedMobile(class=jackpotValue jackpotRedBalanceNumber, font=20pt franklin_gothic, anchorX=0.5, anchorY=0.5, fill=#ffffff, wordWrap=1)_text",
                            assetKey: "jackpotValueRedMobile(class=jackpotValue jackpotRedBalanceNumber, font=20pt franklin_gothic, anchorX=0.5, anchorY=0.5, fill=#ffffff, wordWrap=1)_text",
                            x: "762",
                            y: "26",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "jackpotRedHoverMobile",
                            assetKey: "jackpotRedHoverMobile",
                            x: "569",
                            y: "4",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "jackpot_status_red_mobile",
                            assetKey: "jackpot_status_red_mobile",
                            x: "573",
                            y: "8",
                            alpha: "1"
                        }
                    ]
                }, {
                    type: 0,
                    name: "jackpot_status_bg_mobile",
                    assetKey: "jackpot_status_bg_mobile",
                    x: "558",
                    y: "-4",
                    alpha: "1"
                }]
            }, {
                type: 1,
                name: "jackpotPopupContainer",
                alpha: "1",
                contents: [{
                    type: 1,
                    name: "jackpotPopupInnerContainer",
                    alpha: "1",
                    contents: [{
                        type: 0,
                        name: "logoJackpotPopup",
                        assetKey: "logoJackpotPopup",
                        x: "776",
                        y: "466",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "jackpotPopup",
                        assetKey: "jackpotPopup",
                        x: "466",
                        y: "185",
                        alpha: "1"
                    }]
                }]
            }, {
                type: 0,
                name: "jackpotShadowStart(scaleX=1920, scaleY=1080, class=cover)_image",
                assetKey: "jackpotShadowStart(scaleX=1920, scaleY=1080, class=cover)_image",
                x: "0",
                y: "0",
                alpha: "0.901960784313726"
            }, {
                type: 1,
                name: "playareaLogoContainer",
                alpha: "1",
                contents: [{
                    type: 0,
                    name: "playareaLogo",
                    assetKey: "playareaLogo",
                    x: "872",
                    y: "0",
                    alpha: "1"
                }]
            }, {
                type: 1,
                name: "settingsSimpleContainer",
                alpha: "1",
                contents: []
            }, {
                type: 1,
                name: "fullscreenContainer",
                alpha: "1",
                contents: []
            }, {
                type: 1,
                name: "buttonsMobileContainer",
                alpha: "1",
                contents: [{
                    type: 1,
                    name: "assets",
                    alpha: "1",
                    contents: [{
                            type: 0,
                            name: "infoButtonMobileBack_asset",
                            assetKey: "infoButtonMobileBack_asset",
                            x: "1693",
                            y: "1080",
                            alpha: "1"
                        },
                        {
                            type: 0,
                            name: "autoSpinButtonMobileOn_asset",
                            assetKey: "autoSpinButtonMobileOn_asset",
                            x: "1920",
                            y: "297",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "autoSpinButtonMobileOff_asset",
                            assetKey: "autoSpinButtonMobileOff_asset",
                            x: "1943",
                            y: "192",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "betSettingsButtonMobileCheck_asset",
                            assetKey: "betSettingsButtonMobileCheck_asset",
                            x: "-200",
                            y: "362",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "betSettingsButtonMobileSet_asset",
                            assetKey: "betSettingsButtonMobileSet_asset",
                            x: "-200",
                            y: "362",
                            alpha: "1"
                        }
                    ]
                }, {
                    type: 1,
                    name: "autoSpinButtonMobile",
                    alpha: "1",
                    contents: [{
                        type: 0,
                        name: "autoSpinButtonText(text=AUTO, class=buttonStyle, font=bold 30pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                        assetKey: "autoSpinButtonText(text=AUTO, class=buttonStyle, font=bold 30pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                        x: "1771",
                        y: "266",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "autoSpinButtonMobileButton_button",
                        assetKey: "autoSpinButtonMobileButton_button",
                        x: "1696",
                        y: "191",
                        alpha: "1"
                    }]
                }, {
                    type: 1,
                    name: "gambleButtonMobile",
                    alpha: "1",
                    contents: [{
                        type: 0,
                        name: "gambleButtonText(text=DOUBLE, class=buttonStyle, font=bold 30pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                        assetKey: "gambleButtonText(text=DOUBLE, class=buttonStyle, font=bold 30pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                        x: "162",
                        y: "471",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "gambleButtonMobileButton_button",
                        assetKey: "gambleButtonMobileButton_button",
                        x: "62",
                        y: "371",
                        alpha: "1"
                    }]
                }, {
                    type: 1,
                    name: "stopButton",
                    alpha: "1",
                    contents: [{
                        type: 0,
                        name: "stopText(text=STOP, class=buttonStyle, font=bold 40pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                        assetKey: "stopText(text=STOP, class=buttonStyle, font=bold 40pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                        x: "1771",
                        y: "492",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "stopButtonMobileButton_button",
                        assetKey: "stopButtonMobileButton_button",
                        x: "1641",
                        y: "362",
                        alpha: "1"
                    }]
                }, {
                    type: 1,
                    name: "takeButtonMobile",
                    alpha: "1",
                    contents: [{
                        type: 0,
                        name: "takeText(text=TAKE, class=buttonStyle, font=bold 40pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                        assetKey: "takeText(text=TAKE, class=buttonStyle, font=bold 40pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                        x: "1771",
                        y: "492",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "takeButtonMobileButton_button",
                        assetKey: "takeButtonMobileButton_button",
                        x: "1641",
                        y: "362",
                        alpha: "1"
                    }]
                }, {
                    type: 1,
                    name: "spinButton",
                    alpha: "1",
                    contents: [{
                        type: 0,
                        name: "spinText(text=START, class=buttonStyle, font=bold 40pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                        assetKey: "spinText(text=START, class=buttonStyle, font=bold 40pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                        x: "1771",
                        y: "492",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "spinButtonMobileButton_button",
                        assetKey: "spinButtonMobileButton_button",
                        x: "1642",
                        y: "362",
                        alpha: "1"
                    }]
                }, {
                    type: 1,
                    name: "helpNextButtonMobile",
                    alpha: "1",
                    contents: [{
                        type: 0,
                        name: "dummy1(class=buttonStyle, font=24pt roboto_condensed_regular)_text",
                        assetKey: "dummy1(class=buttonStyle, font=24pt roboto_condensed_regular)_text",
                        x: "1658",
                        y: "41",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "helpNextButtonMobileButton_button",
                        assetKey: "helpNextButtonMobileButton_button",
                        x: "1671",
                        y: "362",
                        alpha: "1"
                    }]
                }, {
                    type: 1,
                    name: "helpBackButtonMobile",
                    alpha: "1",
                    contents: [{
                        type: 0,
                        name: "dummy1(class=buttonStyle, font=24pt roboto_condensed_regular)_text",
                        assetKey: "dummy1(class=buttonStyle, font=24pt roboto_condensed_regular)_text",
                        x: "1658",
                        y: "41",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "helpBackButtonMobileButton_button",
                        assetKey: "helpBackButtonMobileButton_button",
                        x: "62",
                        y: "372",
                        alpha: "1"
                    }]
                }, {
                    type: 1,
                    name: "infoButtonMobile",
                    alpha: "1",
                    contents: [{
                        type: 0,
                        name: "dummy1(class=buttonStyle, font=24pt roboto_condensed_regular)_text",
                        assetKey: "dummy1(class=buttonStyle, font=24pt roboto_condensed_regular)_text",
                        x: "1658",
                        y: "41",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "infoButtonMobileButton(spritesX=4)_button",
                        assetKey: "infoButtonMobileButton(spritesX=4)_button",
                        x: "1707",
                        y: "931",
                        alpha: "1"
                    }]
                }, {
                    type: 1,
                    name: "betSettingsButtonMobile",
                    alpha: "1",
                    contents: [{
                        type: 0,
                        name: "betSettingsText(class=buttonStyle, font=54pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                        assetKey: "betSettingsText(class=buttonStyle, font=54pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                        x: "162",
                        y: "471",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "betSettingsButtonMobileButton_button",
                        assetKey: "betSettingsButtonMobileButton_button",
                        x: "62",
                        y: "371",
                        alpha: "1"
                    }]
                }, {
                    type: 1,
                    name: "betMinusPanelMobileButton",
                    alpha: "1",
                    contents: [{
                        type: 0,
                        name: "dummy1(class=buttonStyle, font=24pt roboto_condensed_regular)_text",
                        assetKey: "dummy1(class=buttonStyle, font=24pt roboto_condensed_regular)_text",
                        x: "1658",
                        y: "41",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "betMinusPanelMobileButtonButton(spritesX=4)_button",
                        assetKey: "betMinusPanelMobileButtonButton(spritesX=4)_button",
                        x: "1213",
                        y: "962",
                        alpha: "1"
                    }]
                }, {
                    type: 1,
                    name: "betPlusPanelMobileButton",
                    alpha: "1",
                    contents: [{
                        type: 0,
                        name: "dummy1(class=buttonStyle, font=24pt roboto_condensed_regular)_text",
                        assetKey: "dummy1(class=buttonStyle, font=24pt roboto_condensed_regular)_text",
                        x: "1658",
                        y: "41",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "betPlusPanelMobileButtonButton(spritesX=4)_button",
                        assetKey: "betPlusPanelMobileButtonButton(spritesX=4)_button",
                        x: "1418",
                        y: "959",
                        alpha: "1"
                    }]
                }]
            }, {
                type: 1,
                name: "buttonsContainer",
                alpha: "1",
                contents: [{
                        type: 1,
                        name: "assets",
                        alpha: "1",
                        contents: [{
                            type: 0,
                            name: "btnFullscreenOn(spritesX=4)_spritesheet",
                            assetKey: "btnFullscreenOn(spritesX=4)_spritesheet",
                            x: "0",
                            y: "-72",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "Sound2Button(spritesX=4)_spritesheet",
                            assetKey: "Sound2Button(spritesX=4)_spritesheet",
                            x: "70",
                            y: "-70",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "AutoOnButton(spritesX=4)_spritesheet",
                            assetKey: "AutoOnButton(spritesX=4)_spritesheet",
                            x: "0",
                            y: "-92",
                            alpha: "1"
                        }]
                    },
                    {
                        type: 1,
                        name: "fullscreenButton",
                        alpha: "1",
                        contents: [{
                            type: 0,
                            name: "dummy1(class=buttonStyle, font=24pt roboto_condensed_regular)_text",
                            assetKey: "dummy1(class=buttonStyle, font=24pt roboto_condensed_regular)_text",
                            x: "1658",
                            y: "41",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "fullscreenButtonButton(spritesX=4)_button",
                            assetKey: "fullscreenButtonButton(spritesX=4)_button",
                            x: "1625",
                            y: "7",
                            alpha: "1"
                        }]
                    }, {
                        type: 1,
                        name: "soundButton",
                        alpha: "1",
                        contents: [{
                            type: 0,
                            name: "dummy2(class=buttonStyle, font=24pt roboto_condensed_regular)_text",
                            assetKey: "dummy2(class=buttonStyle, font=24pt roboto_condensed_regular)_text",
                            x: "1725",
                            y: "42",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "soundButtonButton(spritesX=4)_button",
                            assetKey: "soundButtonButton(spritesX=4)_button",
                            x: "1691",
                            y: "7",
                            alpha: "1"
                        }]
                    }, {
                        type: 1,
                        name: "coinPlusButton",
                        alpha: "1",
                        contents: [{
                            type: 0,
                            name: "coinPlusButtonButton(spritesX=4)_button",
                            assetKey: "coinPlusButtonButton(spritesX=4)_button",
                            x: "339",
                            y: "910",
                            alpha: "1"
                        }]
                    }, {
                        type: 1,
                        name: "coinMinusButton",
                        alpha: "1",
                        contents: [{
                            type: 0,
                            name: "coinMinusButtonButton(spritesX=4)_button",
                            assetKey: "coinMinusButtonButton(spritesX=4)_button",
                            x: "162",
                            y: "910",
                            alpha: "1"
                        }]
                    }, {
                        type: 1,
                        name: "spinButton",
                        alpha: "1",
                        contents: [{
                            type: 0,
                            name: "spinButton(text=SPIN, class=buttonStyle, font=24pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                            assetKey: "spinButton(text=SPIN, class=buttonStyle, font=24pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                            x: "1642",
                            y: "1035",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "spinButtonButton(spritesX=4)_button",
                            assetKey: "spinButtonButton(spritesX=4)_button",
                            x: "1515",
                            y: "985",
                            alpha: "1"
                        }]
                    }, {
                        type: 1,
                        name: "autoButton",
                        alpha: "1",
                        contents: [{
                            type: 0,
                            name: "auto(text=AUTO OFF, class=buttonStyle, font=20pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                            assetKey: "auto(text=AUTO OFF, class=buttonStyle, font=20pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                            x: "300",
                            y: "1035",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "autoButtonButton(spritesX=4)_button",
                            assetKey: "autoButtonButton(spritesX=4)_button",
                            x: "150",
                            y: "985",
                            alpha: "1"
                        }]
                    }, {
                        type: 1,
                        name: "paytable",
                        alpha: "1",
                        contents: [{
                            type: 0,
                            name: "paytable(text=PAY TABLE, class=buttonStyle, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                            assetKey: "paytable(text=PAY TABLE, class=buttonStyle, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                            x: "465",
                            y: "1036",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "paytableButtonButton(spritesX=4)_button",
                            assetKey: "paytableButtonButton(spritesX=4)_button",
                            x: "394",
                            y: "986",
                            alpha: "1"
                        }]
                    }, {
                        type: 1,
                        name: "oneBetButton",
                        alpha: "1",
                        contents: [{
                            type: 0,
                            name: "oneBetButtont(text=ONE BET, class=buttonStyle, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                            assetKey: "oneBetButtont(text=ONE BET, class=buttonStyle, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                            x: "1306",
                            y: "1036",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "oneBetButtonButton(spritesX=4)_button",
                            assetKey: "oneBetButtonButton(spritesX=4)_button",
                            x: "1235",
                            y: "985",
                            alpha: "1"
                        }]
                    }, {
                        type: 1,
                        name: "maxBetButton",
                        alpha: "1",
                        contents: [{
                            type: 0,
                            name: "maxBetButton(text=MAX BET, class=buttonStyle, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                            assetKey: "maxBetButton(text=MAX BET, class=buttonStyle, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                            x: "1448",
                            y: "1036",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "maxBetButtonButton(spritesX=4)_button",
                            assetKey: "maxBetButtonButton(spritesX=4)_button",
                            x: "1376",
                            y: "985",
                            alpha: "1"
                        }]
                    }, {
                        type: 1,
                        name: "hold5Button",
                        alpha: "1",
                        contents: [{
                            type: 0,
                            name: "hold5Text(text=HOLD 5, class=buttonStyle, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                            assetKey: "hold5Text(text=HOLD 5, class=buttonStyle, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                            x: "1166",
                            y: "1036",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "hold5ButtonButton(spritesX=4)_button",
                            assetKey: "hold5ButtonButton(spritesX=4)_button",
                            x: "1096",
                            y: "985",
                            alpha: "1"
                        }]
                    }, {
                        type: 1,
                        name: "hold4Button",
                        alpha: "1",
                        contents: [{
                            type: 0,
                            name: "hold4Text(text=HOLD 4, class=buttonStyle, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                            assetKey: "hold4Text(text=HOLD 4, class=buttonStyle, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                            x: "1026",
                            y: "1036",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "hold4ButtonButton(spritesX=4)_button",
                            assetKey: "hold4ButtonButton(spritesX=4)_button",
                            x: "955",
                            y: "985",
                            alpha: "1"
                        }]
                    },
                    {
                        type: 1,
                        name: "hold3Button",
                        alpha: "1",
                        contents: [{
                            type: 0,
                            name: "hold3Text(text=HOLD 3, class=buttonStyle, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                            assetKey: "hold3Text(text=HOLD 3, class=buttonStyle, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                            x: "888",
                            y: "1036",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "hold3ButtonButton(spritesX=4)_button",
                            assetKey: "hold3ButtonButton(spritesX=4)_button",
                            x: "816",
                            y: "986",
                            alpha: "1"
                        }]
                    }, {
                        type: 1,
                        name: "hold2Button",
                        alpha: "1",
                        contents: [{
                            type: 0,
                            name: "hold2Text(text=HOLD 2, class=buttonStyle, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                            assetKey: "hold2Text(text=HOLD 2, class=buttonStyle, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                            x: "747",
                            y: "1036",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "hold2ButtonButton(spritesX=4)_button",
                            assetKey: "hold2ButtonButton(spritesX=4)_button",
                            x: "675",
                            y: "986",
                            alpha: "1"
                        }]
                    }, {
                        type: 1,
                        name: "hold1Button",
                        alpha: "1",
                        contents: [{
                            type: 0,
                            name: "hold1Text(text=HOLD 1, class=buttonStyle, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                            assetKey: "hold1Text(text=HOLD 1, class=buttonStyle, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                            x: "609",
                            y: "1036",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "hold1ButtonButton(spritesX=4)_button",
                            assetKey: "hold1ButtonButton(spritesX=4)_button",
                            x: "537",
                            y: "986",
                            alpha: "1"
                        }]
                    }
                ]
            }, {
                type: 1,
                name: "infoPanelMobileContainer",
                alpha: "1",
                contents: [{
                    type: 0,
                    name: "creditsTitle(text=CREDITS, class=playAreaTextMobile creditsText, font=24pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                    assetKey: "creditsTitle(text=CREDITS, class=playAreaTextMobile creditsText, font=24pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                    x: "336",
                    y: "939",
                    alpha: "1"
                }, {
                    type: 0,
                    name: "creditsNumber(class=playAreaTextMobile creditsNumber, font=bold 26pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                    assetKey: "creditsNumber(class=playAreaTextMobile creditsNumber, font=bold 26pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                    x: "330",
                    y: "994",
                    alpha: "1"
                }, {
                    type: 0,
                    name: "balanceTitle(text=BALANCE, class=playAreaTextMobile balanceText, font=24pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                    assetKey: "balanceTitle(text=BALANCE, class=playAreaTextMobile balanceText, font=24pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                    x: "572",
                    y: "939",
                    alpha: "1"
                }, {
                    type: 0,
                    name: "balanceTNumber(class=playAreaTextMobile balanceNumber, font=bold 26pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                    assetKey: "balanceTNumber(class=playAreaTextMobile balanceNumber, font=bold 26pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                    x: "574",
                    y: "994",
                    alpha: "1"
                }, {
                    type: 0,
                    name: "winText(text=WIN, class=playAreaTextMobile creditsWinText, font=24pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                    assetKey: "winText(text=WIN, class=playAreaTextMobile creditsWinText, font=24pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                    x: "960",
                    y: "940",
                    alpha: "1"
                }, {
                    type: 0,
                    name: "winNumber(class=playAreaTextMobile creditsWinNumberMobile, font=bold 26pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#ffc400, wordWrap=1)_text",
                    assetKey: "winNumber(class=playAreaTextMobile creditsWinNumberMobile, font=bold 26pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#ffc400, wordWrap=1)_text",
                    x: "960",
                    y: "994",
                    alpha: "1"
                }, {
                    type: 0,
                    name: "totalBetText(text=BET, class=playAreaTextMobile totalBetText, font=24pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                    assetKey: "totalBetText(text=BET, class=playAreaTextMobile totalBetText, font=24pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                    x: "1346",
                    y: "940",
                    alpha: "1"
                }, {
                    type: 0,
                    name: "totalBetText1(class=playAreaTextMobile creditsTotalBetNumber, font=bold 26pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                    assetKey: "totalBetText1(class=playAreaTextMobile creditsTotalBetNumber, font=bold 26pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                    x: "1345",
                    y: "994",
                    alpha: "1"
                }, {
                    type: 0,
                    name: "linesText(text=LINES, class=playAreaTextMobile linesText, font=24pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                    assetKey: "linesText(text=LINES, class=playAreaTextMobile linesText, font=24pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                    x: "1583",
                    y: "940",
                    alpha: "1"
                }, {
                    type: 0,
                    name: "linesNumber(class=playAreaTextMobile linesNumber, font=bold 26pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                    assetKey: "linesNumber(class=playAreaTextMobile linesNumber, font=bold 26pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                    x: "1583",
                    y: "994",
                    alpha: "1"
                }, {
                    type: 0,
                    name: "infoPanelTextUp(class=playAreaTextMobile infoPanelTextUp, font=22pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                    assetKey: "infoPanelTextUp(class=playAreaTextMobile infoPanelTextUp, font=22pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                    x: "960",
                    y: "1039",
                    alpha: "1"
                }, {
                    type: 0,
                    name: "infoPanelTextDown(class=playAreaTextMobile infoPanelTextDown, font=26pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                    assetKey: "infoPanelTextDown(class=playAreaTextMobile infoPanelTextDown, font=26pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                    x: "960",
                    y: "1064",
                    alpha: "1"
                }, {
                    type: 0,
                    name: "creditsbg",
                    assetKey: "creditsbg",
                    x: "251",
                    y: "958",
                    alpha: "1"
                }, {
                    type: 0,
                    name: "balancebg",
                    assetKey: "balancebg",
                    x: "432",
                    y: "956",
                    alpha: "1"
                }, {
                    type: 0,
                    name: "winbg",
                    assetKey: "winbg",
                    x: "730",
                    y: "957",
                    alpha: "1"
                }, {
                    type: 0,
                    name: "totalbetbg",
                    assetKey: "totalbetbg",
                    x: "1208",
                    y: "957",
                    alpha: "1"
                }, {
                    type: 0,
                    name: "linesbg",
                    assetKey: "linesbg",
                    x: "1506",
                    y: "958",
                    alpha: "1"
                }, {
                    type: 0,
                    name: "navBg",
                    assetKey: "navBg",
                    x: "0",
                    y: "899",
                    alpha: "1"
                }]
            }, {
                type: 1,
                name: "betSettingsMobileContainer",
                alpha: "1",
                contents: [{
                    type: 1,
                    name: "assetsButtonsMobile",
                    alpha: "1",
                    contents: [{
                        type: 0,
                        name: "soundButtonMobileOn",
                        assetKey: "soundButtonMobileOn",
                        x: "358",
                        y: "-122",
                        alpha: "1"
                    }]
                }, {
                    type: 1,
                    name: "soundButtonMobile",
                    alpha: "1",
                    contents: [{
                        type: 0,
                        name: "dummy2(class=buttonStyle, font=24pt roboto_condensed_regular)_text",
                        assetKey: "dummy2(class=buttonStyle, font=24pt roboto_condensed_regular)_text",
                        x: "1725",
                        y: "42",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "soundButtonMobileButton_button",
                        assetKey: "soundButtonMobileButton_button",
                        x: "353",
                        y: "137",
                        alpha: "1"
                    }]
                }, {
                    type: 1,
                    name: "coinMinusButtonMobile",
                    alpha: "1",
                    contents: [{
                        type: 0,
                        name: "dummy2(class=buttonStyle, font=24pt roboto_condensed_regular)_text",
                        assetKey: "dummy2(class=buttonStyle, font=24pt roboto_condensed_regular)_text",
                        x: "1725",
                        y: "42",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "coinMinusButtonMobileButton(spritesX=4)_button",
                        assetKey: "coinMinusButtonMobileButton(spritesX=4)_button",
                        x: "653",
                        y: "727",
                        alpha: "1"
                    }]
                }, {
                    type: 1,
                    name: "coinPlusButtonMobile",
                    alpha: "1",
                    contents: [{
                        type: 0,
                        name: "dummy1(class=buttonStyle, font=24pt roboto_condensed_regular)_text",
                        assetKey: "dummy1(class=buttonStyle, font=24pt roboto_condensed_regular)_text",
                        x: "1658",
                        y: "41",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "coinPlusButtonMobileButton(spritesX=4)_button",
                        assetKey: "coinPlusButtonMobileButton(spritesX=4)_button",
                        x: "1170",
                        y: "727",
                        alpha: "1"
                    }]
                }, {
                    type: 1,
                    name: "betMinusButtonMobile",
                    alpha: "1",
                    contents: [{
                        type: 0,
                        name: "dummy1(class=buttonStyle, font=24pt roboto_condensed_regular)_text",
                        assetKey: "dummy1(class=buttonStyle, font=24pt roboto_condensed_regular)_text",
                        x: "1658",
                        y: "41",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "betMinusButtonMobileButton(spritesX=4)_button",
                        assetKey: "betMinusButtonMobileButton(spritesX=4)_button",
                        x: "653",
                        y: "503",
                        alpha: "1"
                    }]
                }, {
                    type: 1,
                    name: "betPlusButtonMobile",
                    alpha: "1",
                    contents: [{
                        type: 0,
                        name: "dummy1(class=buttonStyle, font=24pt roboto_condensed_regular)_text",
                        assetKey: "dummy1(class=buttonStyle, font=24pt roboto_condensed_regular)_text",
                        x: "1658",
                        y: "41",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "betPlusButtonMobileButton(spritesX=4)_button",
                        assetKey: "betPlusButtonMobileButton(spritesX=4)_button",
                        x: "1170",
                        y: "503",
                        alpha: "1"
                    }]
                }, {
                    type: 1,
                    name: "lineMinusButtonMobile",
                    alpha: "1",
                    contents: [{
                        type: 0,
                        name: "dummy1(class=buttonStyle, font=24pt roboto_condensed_regular)_text",
                        assetKey: "dummy1(class=buttonStyle, font=24pt roboto_condensed_regular)_text",
                        x: "1658",
                        y: "41",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "lineMinusButtonMobileButton(spritesX=4)_button",
                        assetKey: "lineMinusButtonMobileButton(spritesX=4)_button",
                        x: "653",
                        y: "303",
                        alpha: "1"
                    }]
                }, {
                    type: 1,
                    name: "linePlusButtonMobile",
                    alpha: "1",
                    contents: [{
                        type: 0,
                        name: "dummy1(class=buttonStyle, font=24pt roboto_condensed_regular)_text",
                        assetKey: "dummy1(class=buttonStyle, font=24pt roboto_condensed_regular)_text",
                        x: "1658",
                        y: "41",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "linePlusButtonMobileButton(spritesX=4)_button",
                        assetKey: "linePlusButtonMobileButton(spritesX=4)_button",
                        x: "1170",
                        y: "303",
                        alpha: "1"
                    }]
                }, {
                    type: 0,
                    name: "h1(text=SETTINGS, class=betSettingsTitle, font=60pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                    assetKey: "h1(text=SETTINGS, class=betSettingsTitle, font=60pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                    x: "960",
                    y: "190",
                    alpha: "1"
                }, {
                    type: 0,
                    name: "h2(text=LINES, class=betSettingsText, font=30pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#999999, wordWrap=1)_text",
                    assetKey: "h2(text=LINES, class=betSettingsText, font=30pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#999999, wordWrap=1)_text",
                    x: "960",
                    y: "295",
                    alpha: "1"
                }, {
                    type: 0,
                    name: "h3(text=0, class=betSettingsValue linesNumber, font=48pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                    assetKey: "h3(text=0, class=betSettingsValue linesNumber, font=48pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                    x: "959",
                    y: "350",
                    alpha: "1"
                }, {
                    type: 0,
                    name: "h4(text=BET, class=betSettingsText, font=30pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#999999, wordWrap=1)_text",
                    assetKey: "h4(text=BET, class=betSettingsText, font=30pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#999999, wordWrap=1)_text",
                    x: "960",
                    y: "495",
                    alpha: "1"
                }, {
                    type: 0,
                    name: "h5(text=0, class=betSettingsValue betNumber, font=48pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                    assetKey: "h5(text=0, class=betSettingsValue betNumber, font=48pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                    x: "960",
                    y: "558",
                    alpha: "1"
                }, {
                    type: 0,
                    name: "h6(text=COIN VALUE, class=betSettingsText, font=30pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#999999, wordWrap=1)_text",
                    assetKey: "h6(text=COIN VALUE, class=betSettingsText, font=30pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#999999, wordWrap=1)_text",
                    x: "960",
                    y: "721",
                    alpha: "1"
                }, {
                    type: 0,
                    name: "h7(text=0, class=betSettingsValue coinsNumber, font=48pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                    assetKey: "h7(text=0, class=betSettingsValue coinsNumber, font=48pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                    x: "960",
                    y: "789",
                    alpha: "1"
                }, {
                    type: 0,
                    name: "bg0",
                    assetKey: "bg0",
                    x: "334",
                    y: "115",
                    alpha: "0.870588235294118"
                }, {
                    type: 0,
                    name: "bg1",
                    assetKey: "bg1",
                    x: "334",
                    y: "259",
                    alpha: "0.501960784313725"
                }, {
                    type: 0,
                    name: "bg2",
                    assetKey: "bg2",
                    x: "334",
                    y: "448",
                    alpha: "1"
                }, {
                    type: 0,
                    name: "bg3",
                    assetKey: "bg3",
                    x: "334",
                    y: "676",
                    alpha: "0.501960784313725"
                }]
            }, {
                type: 1,
                name: "helpContainer",
                alpha: "1",
                contents: [{
                    type: 1,
                    name: "helpPagesContainer",
                    alpha: "1",
                    contents: [{
                        type: 1,
                        name: "helpPage0",
                        alpha: "1",
                        contents: [{
                            type: 0,
                            name: "helpPaytableRegular(text=LINES, font=22pt arial_bold, anchorX=0.5, fill=#ffffff)_style",
                            assetKey: "helpPaytableRegular(text=LINES, font=22pt arial_bold, anchorX=0.5, fill=#ffffff)_style",
                            x: "111",
                            y: "196",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "helpPaytableYellow(text=LINES, font=22pt arial_bold, anchorX=0.5, fill=#ffff00)_style",
                            assetKey: "helpPaytableYellow(text=LINES, font=22pt arial_bold, anchorX=0.5, fill=#ffff00)_style",
                            x: "133",
                            y: "196",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "helpPaytableBlack(text=LINES, font=22pt arial_bold, anchorX=0.5, fill=#000000)_style",
                            assetKey: "helpPaytableBlack(text=LINES, font=22pt arial_bold, anchorX=0.5, fill=#000000)_style",
                            x: "89",
                            y: "196",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "helpPage043(class=ps6b-5 helpPaytableBlack)_text",
                            assetKey: "helpPage043(class=ps6b-5 helpPaytableBlack)_text",
                            x: "639",
                            y: "535",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "helpPage042(class=ps6b-4 helpPaytableBlack)_text",
                            assetKey: "helpPage042(class=ps6b-4 helpPaytableBlack)_text",
                            x: "639",
                            y: "575",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "helpPage041(class=ps6b-3 helpPaytableBlack)_text",
                            assetKey: "helpPage041(class=ps6b-3 helpPaytableBlack)_text",
                            x: "639",
                            y: "615",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "helpPage039(class=ps12-5 helpPaytableBlack)_text",
                            assetKey: "helpPage039(class=ps12-5 helpPaytableBlack)_text",
                            x: "1076",
                            y: "404",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "helpPage038(class=ps12-4 helpPaytableBlack)_text",
                            assetKey: "helpPage038(class=ps12-4 helpPaytableBlack)_text",
                            x: "1076",
                            y: "439",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "helpPage037(class=ps12-3 helpPaytableBlack)_text",
                            assetKey: "helpPage037(class=ps12-3 helpPaytableBlack)_text",
                            x: "1076",
                            y: "474",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "helpPage036(class=ps12-2 helpPaytableBlack)_text",
                            assetKey: "helpPage036(class=ps12-2 helpPaytableBlack)_text",
                            x: "1076",
                            y: "509",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "helpPage039(class=ps10b-5 helpPaytableBlack)_text",
                            assetKey: "helpPage039(class=ps10b-5 helpPaytableBlack)_text",
                            x: "1272",
                            y: "523",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "helpPage038(class=ps10b-4 helpPaytableBlack)_text",
                            assetKey: "helpPage038(class=ps10b-4 helpPaytableBlack)_text",
                            x: "1272",
                            y: "558",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "helpPage037(class=ps10b-3 helpPaytableBlack)_text",
                            assetKey: "helpPage037(class=ps10b-3 helpPaytableBlack)_text",
                            x: "1272",
                            y: "593",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "helpPage036(class=ps10b-2 helpPaytableBlack)_text",
                            assetKey: "helpPage036(class=ps10b-2 helpPaytableBlack)_text",
                            x: "1272",
                            y: "628",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "helpPage035(class=ps10-5 helpPaytableRegular)_text",
                            assetKey: "helpPage035(class=ps10-5 helpPaytableRegular)_text",
                            x: "1447",
                            y: "524",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "helpPage034(class=ps10-4 helpPaytableRegular)_text",
                            assetKey: "helpPage034(class=ps10-4 helpPaytableRegular)_text",
                            x: "1447",
                            y: "559",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "helpPage033(class=ps10-3 helpPaytableRegular)_text",
                            assetKey: "helpPage033(class=ps10-3 helpPaytableRegular)_text",
                            x: "1447",
                            y: "593",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "helpPage032(class=ps10-2 helpPaytableRegular)_text",
                            assetKey: "helpPage032(class=ps10-2 helpPaytableRegular)_text",
                            x: "1447",
                            y: "629",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "helpPage031(class=ps7b-5 helpPaytableBlack)_text",
                            assetKey: "helpPage031(class=ps7b-5 helpPaytableBlack)_text",
                            x: "1070",
                            y: "666",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "helpPage030(class=ps7b-4 helpPaytableBlack)_text",
                            assetKey: "helpPage030(class=ps7b-4 helpPaytableBlack)_text",
                            x: "1070",
                            y: "701",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "helpPage029(class=ps7b-3 helpPaytableBlack)_text",
                            assetKey: "helpPage029(class=ps7b-3 helpPaytableBlack)_text",
                            x: "1070",
                            y: "736",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "helpPage028(class=ps7-5 helpPaytableRegular)_text",
                            assetKey: "helpPage028(class=ps7-5 helpPaytableRegular)_text",
                            x: "901",
                            y: "666",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "helpPage027(class=ps7-4 helpPaytableRegular)_text",
                            assetKey: "helpPage027(class=ps7-4 helpPaytableRegular)_text",
                            x: "901",
                            y: "701",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "helpPage026(class=ps7-3 helpPaytableRegular)_text",
                            assetKey: "helpPage026(class=ps7-3 helpPaytableRegular)_text",
                            x: "901",
                            y: "736",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "helpPage025(class=ps11s-5 helpPaytableYellow)_text",
                            assetKey: "helpPage025(class=ps11s-5 helpPaytableYellow)_text",
                            x: "653",
                            y: "708",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "helpPage024(class=ps11s-4 helpPaytableYellow)_text",
                            assetKey: "helpPage024(class=ps11s-4 helpPaytableYellow)_text",
                            x: "653",
                            y: "741",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "helpPage023(class=ps11s-3 helpPaytableYellow)_text",
                            assetKey: "helpPage023(class=ps11s-3 helpPaytableYellow)_text",
                            x: "653",
                            y: "776",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "helpPage023(class=ps11s-2 helpPaytableYellow)_text",
                            assetKey: "helpPage023(class=ps11s-2 helpPaytableYellow)_text",
                            x: "653",
                            y: "815",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "helpPage022(class=ps5-5 helpPaytableRegular)_text",
                            assetKey: "helpPage022(class=ps5-5 helpPaytableRegular)_text",
                            x: "481",
                            y: "535",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "helpPage021(class=ps5-4 helpPaytableRegular)_text",
                            assetKey: "helpPage021(class=ps5-4 helpPaytableRegular)_text",
                            x: "481",
                            y: "575",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "helpPage020(class=ps5-3 helpPaytableRegular)_text",
                            assetKey: "helpPage020(class=ps5-3 helpPaytableRegular)_text",
                            x: "481",
                            y: "615",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "helpPage019(class=ps3b-5 helpPaytableBlack)_text",
                            assetKey: "helpPage019(class=ps3b-5 helpPaytableBlack)_text",
                            x: "1271",
                            y: "287",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "helpPage018(class=ps3b-4 helpPaytableBlack)_text",
                            assetKey: "helpPage018(class=ps3b-4 helpPaytableBlack)_text",
                            x: "1271",
                            y: "327",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "helpPage017(class=ps3b-3 helpPaytableBlack)_text",
                            assetKey: "helpPage017(class=ps3b-3 helpPaytableBlack)_text",
                            x: "1271",
                            y: "367",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "helpPage016(class=ps3-5 helpPaytableRegular)_text",
                            assetKey: "helpPage016(class=ps3-5 helpPaytableRegular)_text",
                            x: "1439",
                            y: "287",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "helpPage015(class=ps3-4 helpPaytableRegular)_text",
                            assetKey: "helpPage015(class=ps3-4 helpPaytableRegular)_text",
                            x: "1439",
                            y: "327",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "helpPage014(class=ps3-3 helpPaytableRegular)_text",
                            assetKey: "helpPage014(class=ps3-3 helpPaytableRegular)_text",
                            x: "1439",
                            y: "366",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "helpPage013(class=ps2b-5 helpPaytableBlack)_text",
                            assetKey: "helpPage013(class=ps2b-5 helpPaytableBlack)_text",
                            x: "1076",
                            y: "257",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "helpPage012(class=ps2b-4 helpPaytableBlack)_text",
                            assetKey: "helpPage012(class=ps2b-4 helpPaytableBlack)_text",
                            x: "1076",
                            y: "292",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "helpPage011(class=ps2b-3 helpPaytableBlack)_text",
                            assetKey: "helpPage011(class=ps2b-3 helpPaytableBlack)_text",
                            x: "1076",
                            y: "327",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "helpPage010(class=ps2-5 helpPaytableRegular)_text",
                            assetKey: "helpPage010(class=ps2-5 helpPaytableRegular)_text",
                            x: "905",
                            y: "257",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "helpPage09(class=ps2-4 helpPaytableRegular)_text",
                            assetKey: "helpPage09(class=ps2-4 helpPaytableRegular)_text",
                            x: "905",
                            y: "292",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "helpPage08(class=ps2-3 helpPaytableRegular)_text",
                            assetKey: "helpPage08(class=ps2-3 helpPaytableRegular)_text",
                            x: "905",
                            y: "328",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "helpPage07(class=ps0b-5 helpPaytableBlack)_text",
                            assetKey: "helpPage07(class=ps0b-5 helpPaytableBlack)_text",
                            x: "654",
                            y: "282",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "helpPage06(class=ps0b-4 helpPaytableBlack)_text",
                            assetKey: "helpPage06(class=ps0b-4 helpPaytableBlack)_text",
                            x: "654",
                            y: "316",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "helpPage05(class=ps0b-3 helpPaytableBlack)_text",
                            assetKey: "helpPage05(class=ps0b-3 helpPaytableBlack)_text",
                            x: "654",
                            y: "349",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "helpPage04(class=ps0b-2 helpPaytableBlack)_text",
                            assetKey: "helpPage04(class=ps0b-2 helpPaytableBlack)_text",
                            x: "654",
                            y: "382",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "helpPage03(class=ps0-5 helpPaytableRegular)_text",
                            assetKey: "helpPage03(class=ps0-5 helpPaytableRegular)_text",
                            x: "478",
                            y: "281",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "helpPage02(class=ps0-4 helpPaytableRegular)_text",
                            assetKey: "helpPage02(class=ps0-4 helpPaytableRegular)_text",
                            x: "478",
                            y: "315",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "helpPage01(class=ps0-3 helpPaytableRegular)_text",
                            assetKey: "helpPage01(class=ps0-3 helpPaytableRegular)_text",
                            x: "478",
                            y: "348",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "helpPage00(class=ps0-2 helpPaytableRegular)_text",
                            assetKey: "helpPage00(class=ps0-2 helpPaytableRegular)_text",
                            x: "478",
                            y: "381",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "helpPage0",
                            assetKey: "helpPage0",
                            x: "245",
                            y: "84",
                            alpha: "1"
                        }]
                    }, {
                        type: 1,
                        name: "helpPage1",
                        alpha: "1",
                        contents: [{
                            type: 0,
                            name: "helpTextRegular(text=LINES, font=26pt segoe_script_bold, fill=#453145)_style",
                            assetKey: "helpTextRegular(text=LINES, font=26pt segoe_script_bold, fill=#453145)_style",
                            x: "111",
                            y: "248",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "helpTextYellow(text=LINES, font=26pt segoe_script_bold, fill=#f5e800, stroke=#ff2800, strokeThickness=4)_style",
                            assetKey: "helpTextYellow(text=LINES, font=26pt segoe_script_bold, fill=#f5e800, stroke=#ff2800, strokeThickness=4)_style",
                            x: "111",
                            y: "248",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "helpText6Page1(text=Free games can be retriggered during the feature., class=helpTextRegular)_text",
                            assetKey: "helpText6Page1(text=Free games can be retriggered during the feature., class=helpTextRegular)_text",
                            x: "497",
                            y: "767",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "helpText5Page1(text=45 free games are triggered by 3,4 or 5 scattered, class=helpTextRegular)_text",
                            assetKey: "helpText5Page1(text=45 free games are triggered by 3,4 or 5 scattered, class=helpTextRegular)_text",
                            x: "447",
                            y: "717",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "helpText4Page1(text=FREE GAMES FEATURE, class=helpTextYellow)_text",
                            assetKey: "helpText4Page1(text=FREE GAMES FEATURE, class=helpTextYellow)_text",
                            x: "748",
                            y: "593",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "helpText3Page1(text=DOUBLES the prize., class=helpTextRegular)_text",
                            assetKey: "helpText3Page1(text=DOUBLES the prize., class=helpTextRegular)_text",
                            x: "798",
                            y: "470",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "helpText2Page1(text=substituting in win combination, class=helpTextRegular)_text",
                            assetKey: "helpText2Page1(text=substituting in win combination, class=helpTextRegular)_text",
                            x: "885",
                            y: "375",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "helpText1Page1(text=One or more, class=helpTextRegular)_text",
                            assetKey: "helpText1Page1(text=One or more, class=helpTextRegular)_text",
                            x: "498",
                            y: "370",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "helpText0Page1(text=SUBSTITUTES for all SYMBOLS except, class=helpTextYellow)_text",
                            assetKey: "helpText0Page1(text=SUBSTITUTES for all SYMBOLS except, class=helpTextYellow)_text",
                            x: "596",
                            y: "194",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "helpPage1",
                            assetKey: "helpPage1",
                            x: "244",
                            y: "84",
                            alpha: "1"
                        }]
                    }, {
                        type: 1,
                        name: "helpPage2",
                        alpha: "1",
                        contents: [{
                            type: 0,
                            name: "helpTextH1(text=LINES, font=42pt segoe_script_bold, fill=#f5e800, stroke=#ff2800, strokeThickness=4)_style",
                            assetKey: "helpTextH1(text=LINES, font=42pt segoe_script_bold, fill=#f5e800, stroke=#ff2800, strokeThickness=4)_style",
                            x: "111",
                            y: "238",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "helpText9Page2(text=Malfunction voids all pays and plays., class=helpTextRegular)_text",
                            assetKey: "helpText9Page2(text=Malfunction voids all pays and plays., class=helpTextRegular)_text",
                            x: "605",
                            y: "759",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "helpText8Page2(text=All prizes shown in credits., class=helpTextRegular)_text",
                            assetKey: "helpText8Page2(text=All prizes shown in credits., class=helpTextRegular)_text",
                            x: "700",
                            y: "699",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "helpText7Page2(text=All free games played at trigger bet and lines., class=helpTextRegular)_text",
                            assetKey: "helpText7Page2(text=All free games played at trigger bet and lines., class=helpTextRegular)_text",
                            x: "535",
                            y: "643",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "helpText6Page2(text=Highest win only paid per selected line., class=helpTextRegular)_text",
                            assetKey: "helpText6Page2(text=Highest win only paid per selected line., class=helpTextRegular)_text",
                            x: "582",
                            y: "585",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "helpText5Page2(text=Scatter wins are added to line wins., class=helpTextRegular)_text",
                            assetKey: "helpText5Page2(text=Scatter wins are added to line wins., class=helpTextRegular)_text",
                            x: "619",
                            y: "526",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "helpText4Page2(text=All prizes are for combinations of a kind., class=helpTextRegular)_text",
                            assetKey: "helpText4Page2(text=All prizes are for combinations of a kind., class=helpTextRegular)_text",
                            x: "565",
                            y: "465",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "helpText3Page2(text=Scatter symbols pay at any position on screen., class=helpTextRegular)_text",
                            assetKey: "helpText3Page2(text=Scatter symbols pay at any position on screen., class=helpTextRegular)_text",
                            x: "525",
                            y: "407",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "helpText2Page2(text=All prizes are on selected lines, except scatters., class=helpTextRegular)_text",
                            assetKey: "helpText2Page2(text=All prizes are on selected lines, except scatters., class=helpTextRegular)_text",
                            x: "525",
                            y: "347",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "helpText1Page2(text=All prizes are for combinations left to right, except scatters., class=helpTextRegular)_text",
                            assetKey: "helpText1Page2(text=All prizes are for combinations left to right, except scatters., class=helpTextRegular)_text",
                            x: "405",
                            y: "286",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "helpText0Page2(text=RULES, class=helpTextH1)_text",
                            assetKey: "helpText0Page2(text=RULES, class=helpTextH1)_text",
                            x: "861",
                            y: "181",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "helpPage2",
                            assetKey: "helpPage2",
                            x: "244",
                            y: "84",
                            alpha: "1"
                        }]
                    }]
                }]
            }, {
                type: 1,
                name: "gambleContainer",
                alpha: "1",
                contents: [{
                    type: 1,
                    name: "assetsGamble",
                    alpha: "1",
                    contents: [{
                        type: 0,
                        name: "gambleCardBig1_asset",
                        assetKey: "gambleCardBig1_asset",
                        x: "744",
                        y: "-344",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "gambleCardBigRed_asset",
                        assetKey: "gambleCardBigRed_asset",
                        x: "744",
                        y: "-344",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "gambleCardBigBlack_asset",
                        assetKey: "gambleCardBigBlack_asset",
                        x: "744",
                        y: "-344",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "gambleCardBig0_asset",
                        assetKey: "gambleCardBig0_asset",
                        x: "826",
                        y: "-340",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "gambleCardSmallRed_asset",
                        assetKey: "gambleCardSmallRed_asset",
                        x: "1210",
                        y: "-136",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "gambleCardSmallBlack_asset",
                        assetKey: "gambleCardSmallBlack_asset",
                        x: "1207",
                        y: "-140",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "gambleRed3_asset",
                        assetKey: "gambleRed3_asset",
                        x: "680",
                        y: "-280",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "gambleRed2_asset",
                        assetKey: "gambleRed2_asset",
                        x: "680",
                        y: "-280",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "gambleRed1_asset",
                        assetKey: "gambleRed1_asset",
                        x: "680",
                        y: "-280",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "gambleBlack3_asset",
                        assetKey: "gambleBlack3_asset",
                        x: "680",
                        y: "-280",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "gambleBlack2_asset",
                        assetKey: "gambleBlack2_asset",
                        x: "680",
                        y: "-280",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "gambleBlack1_asset",
                        assetKey: "gambleBlack1_asset",
                        x: "680",
                        y: "-280",
                        alpha: "1"
                    }]
                }, {
                    type: 1,
                    name: "gambleScreen",
                    alpha: "1",
                    contents: [{
                        type: 0,
                        name: "gambleCardBig",
                        assetKey: "gambleCardBig",
                        x: "840",
                        y: "460",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "gambleToWinText(text=GAMBLE TO WIN, class=gambleText, font=bold 30pt arial, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                        assetKey: "gambleToWinText(text=GAMBLE TO WIN, class=gambleText, font=bold 30pt arial, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                        x: "1384",
                        y: "169",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "gambleToWin(class=gambleText, font=bold 30pt arial, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                        assetKey: "gambleToWin(class=gambleText, font=bold 30pt arial, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                        x: "1385",
                        y: "217",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "gambleAmountText(text=GAMBLE AMOUNT, class=gambleText, font=bold 30pt arial, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                        assetKey: "gambleAmountText(text=GAMBLE AMOUNT, class=gambleText, font=bold 30pt arial, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                        x: "553",
                        y: "169",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "gambleAmount(class=gambleText, font=bold 30pt arial, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                        assetKey: "gambleAmount(class=gambleText, font=bold 30pt arial, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                        x: "553",
                        y: "217",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "textPreviousCard(text=PREVIOUS CARDS, class=gambleText, font=bold 30pt arial, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                        assetKey: "textPreviousCard(text=PREVIOUS CARDS, class=gambleText, font=bold 30pt arial, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                        x: "685",
                        y: "345",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "gamble-hc-0",
                        assetKey: "gamble-hc-0",
                        x: "900",
                        y: "253",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "gamble-hc-1",
                        assetKey: "gamble-hc-1",
                        x: "1031",
                        y: "253",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "gamble-hc-2",
                        assetKey: "gamble-hc-2",
                        x: "1162",
                        y: "253",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "gamble-hc-3",
                        assetKey: "gamble-hc-3",
                        x: "1293",
                        y: "253",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "gamble-hc-4",
                        assetKey: "gamble-hc-4",
                        x: "1424",
                        y: "253",
                        alpha: "1"
                    }, {
                        type: 1,
                        name: "gambleActionRedButton",
                        alpha: "1",
                        contents: [{
                            type: 0,
                            name: "dummy1(class=buttonStyle, font=24pt roboto_condensed_regular)_text",
                            assetKey: "dummy1(class=buttonStyle, font=24pt roboto_condensed_regular)_text",
                            x: "1658",
                            y: "41",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "gambleActionRedButtonButton(spritesX=3)_button",
                            assetKey: "gambleActionRedButtonButton(spritesX=3)_button",
                            x: "379",
                            y: "512",
                            alpha: "1"
                        }]
                    }, {
                        type: 1,
                        name: "gambleActionBlackButton",
                        alpha: "1",
                        contents: [{
                            type: 0,
                            name: "dummy1(class=buttonStyle, font=24pt roboto_condensed_regular)_text",
                            assetKey: "dummy1(class=buttonStyle, font=24pt roboto_condensed_regular)_text",
                            x: "1658",
                            y: "41",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "gambleActionBlackButtonButton(spritesX=3)_button",
                            assetKey: "gambleActionBlackButtonButton(spritesX=3)_button",
                            x: "1240",
                            y: "512",
                            alpha: "1"
                        }]
                    }, {
                        type: 0,
                        name: "gambleBG",
                        assetKey: "gambleBG",
                        x: "159",
                        y: "91",
                        alpha: "1"
                    }]
                }]
            }, {
                type: 1,
                name: "infoPanelContainer",
                alpha: "1",
                contents: [{
                    type: 1,
                    name: "staticContainer",
                    alpha: "1",
                    contents: [{
                            type: 0,
                            name: "linesText(text=LINES, class=playAreaText linesText, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                            assetKey: "linesText(text=LINES, class=playAreaText linesText, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                            x: "1280",
                            y: "928",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "betLineText(text=BET LINE, class=playAreaText, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                            assetKey: "betLineText(text=BET LINE, class=playAreaText, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                            x: "1294",
                            y: "961",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "linesText(class=playAreaText linesNumber, font=16pt roboto_condensed_regular, anchorX=1, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                            assetKey: "linesText(class=playAreaText linesNumber, font=16pt roboto_condensed_regular, anchorX=1, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                            x: "1495",
                            y: "928",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "betLineText(class=playAreaText betNumber, font=16pt roboto_condensed_regular, anchorX=1, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                            assetKey: "betLineText(class=playAreaText betNumber, font=16pt roboto_condensed_regular, anchorX=1, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                            x: "1496",
                            y: "960",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "totalBetText(text=BET, class=playAreaText totalBetText, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                            assetKey: "totalBetText(text=BET, class=playAreaText totalBetText, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                            x: "1550",
                            y: "928",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "totalBetText(class=playAreaText creditsTotalBetNumber, font=16pt roboto_condensed_regular, anchorX=1, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                            assetKey: "totalBetText(class=playAreaText creditsTotalBetNumber, font=16pt roboto_condensed_regular, anchorX=1, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                            x: "1736",
                            y: "928",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "totalBetText(class=playAreaText totalBetNumber, font=16pt roboto_condensed_regular, anchorX=1, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                            assetKey: "totalBetText(class=playAreaText totalBetNumber, font=16pt roboto_condensed_regular, anchorX=1, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                            x: "1736",
                            y: "960",
                            alpha: "1"
                        },
                        {
                            type: 0,
                            name: "coinValueText(text=COIN VALUE, class=playAreaText coinText, font=14pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                            assetKey: "coinValueText(text=COIN VALUE, class=playAreaText coinText, font=14pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                            x: "279",
                            y: "929",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "credits(text=CREDITS, class=playAreaText creditsText, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                            assetKey: "credits(text=CREDITS, class=playAreaText creditsText, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                            x: "452",
                            y: "928",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "credits(class=playAreaText creditsNumber, font=16pt roboto_condensed_regular, anchorX=1, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                            assetKey: "credits(class=playAreaText creditsNumber, font=16pt roboto_condensed_regular, anchorX=1, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                            x: "657",
                            y: "928",
                            alpha: "1"
                        }, {
                            type: 1,
                            name: "balanceContainer",
                            alpha: "1",
                            contents: [{
                                type: 0,
                                name: "balanceTitle(text=BALANCE, class=playAreaText,  font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                                assetKey: "balanceTitle(text=BALANCE, class=playAreaText,  font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                                x: "456",
                                y: "961",
                                alpha: "1"
                            }, {
                                type: 0,
                                name: "balance(class=playAreaText balanceNumber, font=16pt roboto_condensed_regular, anchorX=1, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                                assetKey: "balance(class=playAreaText balanceNumber, font=16pt roboto_condensed_regular, anchorX=1, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                                x: "657",
                                y: "961",
                                alpha: "1"
                            }]
                        }, {
                            type: 0,
                            name: "coinValueText(class=playAreaText coinsNumber, font=20pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                            assetKey: "coinValueText(class=playAreaText coinsNumber, font=20pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                            x: "279",
                            y: "960",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "coinValueText(class=playAreaText infoPanelTextUp, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                            assetKey: "coinValueText(class=playAreaText infoPanelTextUp, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                            x: "947",
                            y: "936",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "coinValueText(class=playAreaText infoPanelTextDown, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                            assetKey: "coinValueText(class=playAreaText infoPanelTextDown, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                            x: "947",
                            y: "960",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "coinValueText(class=playAreaText linesText, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                            assetKey: "coinValueText(class=playAreaText linesText, font=16pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff, wordWrap=1)_text",
                            x: "702",
                            y: "927",
                            alpha: "1"
                        }
                    ]
                }, {
                    type: 0,
                    name: "playareaStat_2",
                    assetKey: "playareaStat_2",
                    x: "674",
                    y: "897",
                    alpha: "1"
                }, {
                    type: 0,
                    name: "playareaStat_1_3",
                    assetKey: "playareaStat_1_3",
                    x: "394",
                    y: "897",
                    alpha: "1"
                }, {
                    type: 0,
                    name: "playareaStat_1_32",
                    assetKey: "playareaStat_1_32",
                    x: "1237",
                    y: "896",
                    alpha: "1"
                }, {
                    type: 0,
                    name: "playareaStat_24",
                    assetKey: "playareaStat_24",
                    x: "1512",
                    y: "896",
                    alpha: "1"
                }, {
                    type: 0,
                    name: "playareaStat_0",
                    assetKey: "playareaStat_0",
                    x: "151",
                    y: "896",
                    alpha: "1"
                }]
            }, {
                type: 1,
                name: "winlinesAddonContainer",
                alpha: "1",
                contents: []
            }, {
                type: 1,
                name: "slotMachineContainer",
                alpha: "1",
                contents: [{
                    type: 1,
                    name: "winlinesAddonContainer",
                    alpha: "1",
                    contents: []
                }, {
                    type: 1,
                    name: "lineMarkersContainer",
                    alpha: "1",
                    contents: [{
                        type: 1,
                        name: "lineMarkersLeftContainer",
                        alpha: "1",
                        contents: [{
                            type: 0,
                            name: "lm-l-5",
                            assetKey: "lm-l-5",
                            x: "160",
                            y: "808",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "lm-l-3",
                            assetKey: "lm-l-3",
                            x: "160",
                            y: "720",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "lm-l-9",
                            assetKey: "lm-l-9",
                            x: "160",
                            y: "633",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "lm-l-7",
                            assetKey: "lm-l-7",
                            x: "160",
                            y: "545",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "lm-l-1",
                            assetKey: "lm-l-1",
                            x: "160",
                            y: "457",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "lm-l-6",
                            assetKey: "lm-l-6",
                            x: "160",
                            y: "369",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "lm-l-8",
                            assetKey: "lm-l-8",
                            x: "160",
                            y: "281",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "lm-l-2",
                            assetKey: "lm-l-2",
                            x: "160",
                            y: "193",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "lm-l-4",
                            assetKey: "lm-l-4",
                            x: "160",
                            y: "105",
                            alpha: "1"
                        }]
                    }, {
                        type: 1,
                        name: "lineMarkersRightContainer",
                        alpha: "1",
                        contents: [{
                            type: 0,
                            name: "lm-r-2",
                            assetKey: "lm-r-2",
                            x: "1686",
                            y: "193",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "lm-r-4",
                            assetKey: "lm-r-4",
                            x: "1686",
                            y: "105",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "lm-r-9",
                            assetKey: "lm-r-9",
                            x: "1686",
                            y: "281",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "lm-r-7",
                            assetKey: "lm-r-7",
                            x: "1686",
                            y: "545",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "lm-r-1",
                            assetKey: "lm-r-1",
                            x: "1686",
                            y: "457",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "lm-r-8",
                            assetKey: "lm-r-8",
                            x: "1686",
                            y: "633",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "lm-r-6",
                            assetKey: "lm-r-6",
                            x: "1686",
                            y: "369",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "lm-r-3",
                            assetKey: "lm-r-3",
                            x: "1686",
                            y: "720",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "lm-r-5",
                            assetKey: "lm-r-5",
                            x: "1686",
                            y: "808",
                            alpha: "1"
                        }]
                    }]
                }]
            }, {
                type: 1,
                name: "playareaBgContainer",
                alpha: "1",
                contents: [{
                    type: 0,
                    name: "playareaBg",
                    assetKey: "playareaBg",
                    x: "0",
                    y: "0",
                    alpha: "1"
                }]
            }]
        }
    }
};
nge.App[nge.appNS].Cfg = {};
nge.appNS = "RiverGameBase";
nge.App[nge.appNS] = {};
nge.App[nge.appNS].Run = nge.App.ClassicGameBasePsd.Run.extend(function() {
    var d = [1, 3, 5, 7, 9];
    this.applyClassicGameBasePsd = function() {
        nge.App.ClassicGameBasePsd && (nge.App[nge.appNS] = nge.Lib.Helper.mergeObjsRecursive(nge.App.ClassicGameBasePsd, nge.App[nge.appNS]))
    };
    this.statesExtentions = {
        play: ["bigWin"]
    };
    this.run = function() {
        this.runDefault();
        nge.localData.set("lines.cfg", d)
    }
});
nge.Cfg.Main.project = "riverGameBase";
nge.Cfg.Main.title = "RiverGameBase";
nge.Cfg.Main.gameCode = nge.gameCode;
nge.Cfg.Main.gameType = "slot";
nge.Cfg.Main.slotType = "standart";
nge.App[nge.appNS].Path = "app/riverGameBase/";
nge.App[nge.appNS].Com = {};
nge.App[nge.appNS].Com.BigWin = {};
nge.App[nge.appNS].Com.BigWin.Cfg = Class.extend(function() {
    this.singleton = !0;
    this.params = {
        thresholds: {
            big: 5,
            mega: 10,
            super: 15,
            ultra: 20
        }
    };
    this.get = function() {
        return this.params
    }
});
nge.App[nge.appNS].Com.BigWin.Controller = nge.Com.Base.extend(function() {
    var d = this,
        b, h, g, f, a, c, e, k, l, m, q, n, p, r, u, t, v = [],
        w, x, y, z, B, A, C;
    this.create = function() {
        this.createDefault();
        y = nge.assets.getQualityFactor();
        b = this.getInstance("Cfg").get();
        h = !1;
        f = nge.findOne("^bigWinGameContainer");
        var d;
        A = 0;
        v = [];
        C = [];
        for (d = 0; 4 > d; d++) {
            var t = {
                enable: !1
            };
            var u = nge.findOne("^bigWin" + d);
            var w = nge.findOne("^bigWinLights" + d);
            u.scale.set(1 / y);
            w.scale.set(1 / y);
            t.text = u;
            t.lights = w;
            t.text.crop(new Phaser.Rectangle(0, 0, 1920,
                1080));
            t.lights.crop(new Phaser.Rectangle(0, 0, 1920, 1080));
            v.push(t)
        }
        e = nge.find("^bigWinStar1");
        k = nge.findOne("^bigWinCounterLeft");
        l = nge.findOne("^bigWinCounterRight");
        m = nge.findOne("^bigWinCounterCenter");
        q = nge.findOne("^bigWinAmount");
        n = nge.findOne("^bigWinBackground");
        n.crop(new Phaser.Rectangle(0, 0, 1920, 1080));
        n.scale.set(3 / y);
        a = nge.findOne("^bigWinScalableContainer");
        c = nge.findOne("^bigWinScalableStarsContainer");
        k.frameName = "big_win_conter_frame_left.png";
        m.frameName = "big_win_conter_frame_central.png";
        l.frameName = "big_win_conter_frame_right.png";
        k.crop(new Phaser.Rectangle(0, 0, 1920, 1080));
        m.crop(new Phaser.Rectangle(0, 0, 1920, 1080));
        l.crop(new Phaser.Rectangle(0, 0, 1920, 1080));
        z = nge.Lib.Helper.mobileAndTabletCheck();
        z || (p = nge.findOne("^bigWinEmitterContainer"), r = nge.game.add.emitter(0, 0, 100), p.addChild(r), r.makeParticles("bigWin", ["big_win_particle_texture_star_00.png", "big_win_particle_texture_star_01.png", "big_win_particle_texture_star_02.png"]), r.maxParticleScale = 1, r.minParticleScale = .5, r.setXSpeed(-1E3,
            1E3), r.setYSpeed(-1E3, 1E3), r.gravity = 0, r.minRotation = 20, r.maxRotation = 90, p.scale.set(1 / y));
        k.scale.set(1 / y);
        l.scale.set(1 / y);
        m.scale.x = 17 / y;
        m.scale.y = 1 / y;
        for (d = 0; d < c.children.length; d++) c.children[d].scale.set(c.children[d].scale.x / y);
        g || this.subscribe();
        f.visible = !1;
        nge.findOne("^bigWinContainer").add(f)
    };
    this.setAmount = function(a) {
        q.text = a;
        q.updateTransform();
        k.x = -(q.width / 2 + 10);
        l.x = q.width / 2 + 10;
        m.scale.x = q.width / 8 / y;
        nge.observer.fire("bigWin.amount", a)
    };
    var D = function() {
            h = !1;
            !z && r && r.kill();
            u &&
                u.stop();
            t && t.stop();
            for (var a = 0; a < C.length; a++) C[a] && C[a].stop();
            f.visible = !1;
            for (a = 0; a < v.length; a++) v[a].text.visible = !1, v[a].lights.visible = !1, v[a].enable = 0 === a, v[a].text.alpha = 1, v[a].lights.alpha = 1, v[a].text.scale.set(1 / y), v[a].lights.scale.set(1 / y)
        },
        J = function(a) {
            a = v[a];
            a.text.visible = !0;
            a.lights.visible = !0;
            a.text.alpha = 1;
            a.lights.alpha = 1;
            return a
        },
        E = function() {
            u = nge.tween.add(a.scale).to({
                x: 1.2,
                y: 1.2
            }, H, nge.Lib.Tween.Easing.Linear.None, !1);
            u.onUpdateCallback(function(a, b, d) {
                c.scale.set(d.vStart.x +
                    (d.vEnd.x - d.vStart.x) * b)
            });
            z || r.start(!1, 2E3, 100);
            u.start()
        },
        K = function(c) {
            B = nge.Lib.Money.toCoins(+nge.localData.get("totalBet.value"));
            var e = c.value / B;
            t = nge.tween.add({
                x: 0
            }).to({
                x: c.value
            }, c.duration, nge.Lib.Tween.Easing.Linear.None, !1);
            t.onUpdateCallback(function(a, c, f) {
                h && (x = Math.ceil(a.target.x), d.setAmount(x), x /= B, b.thresholds.mega <= x && 0 === A ? (h = e !== x, A = 1, N(0, A, !h)) : b.thresholds.super <= x && 1 === A ? (h = e !== x, A = 2, N(1, A, !h)) : b.thresholds.ultra <= x && 2 === A && (h = e !== x, A = 3, N(2, A, !h)))
            });
            t.onComplete.addOnce(function() {
                nge.observer.fire("bigWin.complete.start");
                if (h) {
                    d.setAmount(c.value);
                    u && u.stop();
                    var b = nge.tween.add(a.scale).to({
                        x: 1.1,
                        y: 1.1
                    }, 250, nge.Lib.Tween.Easing.Linear.None, !1);
                    b.onComplete.addOnce(function() {
                        b = nge.tween.add(a.scale).to({
                            x: 0,
                            y: 0
                        }, 300, Phaser.Easing.Back.In, !1);
                        b.onComplete.addOnce(function() {
                            D();
                            nge.observer.fire("bigWin.complete")
                        }, this);
                        b.delay(1E3);
                        b.start();
                        C.push(b)
                    }, this);
                    b.start();
                    C.push(b)
                }
            }, this);
            t.start()
        },
        I = function() {
            n.angle = 0;
            var a = nge.tween.add(n).to({
                angle: 360
            }, 1E4, nge.Lib.Tween.Easing.Linear.None, !0, 0, -1);
            a.onUpdateCallback(function(a,
                b, c) {
                for (a = 0; a < e.length; a++) e[a].angle = n.angle
            });
            C.push(a);
            a = J(0);
            a.lights.alpha = 1;
            a = nge.tween.add(a.lights).to({
                alpha: 0
            }, 250, nge.Lib.Tween.Easing.Linear.None, !0, 0, -1, !0);
            C.push(a)
        },
        H, G = function(b) {
            if (!h) {
                A = 0;
                w = b.value;
                h = !0;
                f.alpha = 1;
                f.scale.set(1);
                f.visible = !0;
                d.setAmount(0);
                a.alpha = 0;
                a.scale.set(4);
                K(b);
                c.alpha = 0;
                H = 1.5 * b.duration;
                var e = nge.tween.add(a.scale).to({
                    x: .75,
                    y: .75
                }, 500, nge.Lib.Tween.Easing.Linear.None, !1);
                e.onUpdateCallback(function(b, d, e) {
                    a.alpha = e.percent;
                    n.alpha = e.percent;
                    c.alpha = e.percent;
                    a.scale = a.scale
                });
                e.onComplete.addOnce(function() {
                    c.scale = a.scale;
                    e = nge.tween.add(a.scale).to({
                        x: 1,
                        y: 1
                    }, 125, nge.Lib.Tween.Easing.Linear.None, !1);
                    e.onComplete.addOnce(function() {
                        E()
                    }, this);
                    e.start();
                    C.push(e)
                }, this);
                e.start();
                C.push(e);
                I();
                nge.observer.fire("bigWin.start")
            }
        },
        F = function(a, b) {
            a.text.scale.set(0);
            a.lights.scale.set(0);
            a.text.alpha = 1;
            a.lights.alpha = 1;
            a.text.bringToTop(a.text);
            a.lights.parent.bringToTop(a.lights);
            z || r.start(!0, 2500, null, 30);
            h || nge.observer.fire("bigWin.quickFinish.start");
            var c = nge.tween.add(a.text.scale).to({
                x: 1.2 / y,
                y: 1.2 / y
            }, 250, nge.Lib.Tween.Easing.Linear.None, !1);
            c.onUpdateCallback(function(b, c, d) {
                a.lights.scale = a.text.scale
            });
            c.onComplete.addOnce(function() {
                b ? (c = nge.tween.add(a.text.scale).to({
                    x: 1 / y,
                    y: 1 / y
                }, 250, nge.Lib.Tween.Easing.Linear.None, !1), c.onComplete.addOnce(function() {
                    c = nge.tween.add(f.scale).to({
                        x: 0,
                        y: 0
                    }, 400, nge.Lib.Tween.Easing.Linear.None, !1);
                    c.onUpdateCallback(function(a, b, c) {
                        f.alpha = 1 - c.percent
                    });
                    c.onComplete.addOnce(function() {
                        D();
                        nge.observer.fire("bigWin.quickFinish");
                        nge.observer.fire("bigWin.complete")
                    }, this);
                    c.delay(1E3);
                    c.start();
                    C.push(c)
                })) : (c = nge.tween.add(a.text.scale).to({
                    x: 1 / y,
                    y: 1 / y
                }, 250, nge.Lib.Tween.Easing.Linear.None, !1), c.onUpdateCallback(function(b, c, d) {
                    a.lights.scale = a.text.scale
                }), c.onComplete.addOnce(function() {
                    c = nge.tween.add(a.lights).to({
                        alpha: 0
                    }, 250, nge.Lib.Tween.Easing.Linear.None, !0, 0, -1, !0);
                    c.start();
                    C.push(c)
                }, this));
                c.start();
                C.push(c)
            }, this);
            c.start();
            C.push(c)
        },
        S = function(b) {
            var c = nge.tween.add(a.scale).to({
                    x: 1.1,
                    y: 1.1
                }, 350, nge.Lib.Tween.Easing.Linear.None,
                !1);
            c.onUpdateCallback(function(a, c, d) {
                b.text.alpha = 1 - c;
                b.lights.alpha = 1 - c;
                a = 1 + 2.5 * c;
                2 > a && (b.text.scale.set(a / y), b.lights.scale.set(a / y))
            });
            c.onComplete.addOnce(function() {
                b.text.alpha = 0;
                b.lights.alpha = 0;
                b.text.visible = !1;
                b.lights.visible = !1;
                b.enable = !1
            }, this);
            c.start();
            C.push(c)
        },
        N = function(a, b, c) {
            a = J(a);
            b = J(b);
            F(b, c);
            S(a)
        },
        P = function() {
            D();
            nge.observer.fire("bigWin.complete")
        },
        M = function() {
            if (h)
                if (h = !1, u && u.stop(), t && t.stop(), d.setAmount(+w), w /= B, b.thresholds.ultra <= w && 3 > A) N(A, 3, !0);
                else if (b.thresholds.super <=
                w && 2 > A) N(A, 2, !0);
            else if (b.thresholds.mega <= w && 1 > A) N(A, 1, !0);
            else {
                var c = nge.tween.add(a.scale).to({
                    x: 1.1,
                    y: 1.1
                }, 250, nge.Lib.Tween.Easing.Linear.None, !1);
                c.onComplete.addOnce(function() {
                    nge.observer.fire("bigWin.complete.start");
                    c = nge.tween.add(f.scale).to({
                        x: 0,
                        y: 0
                    }, 350, nge.Lib.Tween.Easing.Linear.None, !1);
                    c.onUpdateCallback(function(a, b, c) {
                        f.alpha = 1 - c.percent
                    });
                    c.onComplete.addOnce(function() {
                        f.alpha = 0;
                        D();
                        nge.observer.fire("bigWin.quickFinish");
                        nge.observer.fire("bigWin.complete")
                    }, this);
                    c.delay(1E3);
                    c.start();
                    C.push(c)
                }, this);
                c.start();
                C.push(c)
            }
        };
    this.subscribe = function() {
        nge.observer.add("riverslot.bigWin.show", G);
        nge.observer.add("riverslot.bigWin.hide", P);
        nge.observer.add("slotMachine.quickFinish", M);
        nge.observer.add("Transport.close", P);
        g = !0
    }
});
nge.App[nge.appNS].Com.BigWin.Tpl = function() {
    var d = nge.appPath + "img/";
    return {
        styles: {},
        assets: {
            name: "assets",
            contents: [{
                key: "bigWin",
                atlas: d + "bigWin/bigWin.json",
                fullPath: d + "bigWin/bigWin.png"
            }, {
                key: "bigWinBackground",
                fullPath: d + "bigWin/big_win_back_spin.png"
            }]
        },
        objects: {
            name: "objects",
            contents: [{
                type: 1,
                x: 960,
                y: 440,
                name: "bigWinGameContainer",
                isVisible: !0,
                contents: [{
                    type: 1,
                    name: "bigWinScalableContainer",
                    contents: [{
                            type: 1,
                            y: 240,
                            name: "bigWinCounterContainer",
                            contents: [{
                                type: 7,
                                name: "bigWinAmount",
                                y: 45,
                                anchorX: .5,
                                anchorY: .5,
                                text: "0",
                                assetKey: "bigWinFont",
                                size: 150
                            }, {
                                type: 0,
                                x: -100,
                                name: "bigWinCounterLeft",
                                assetKey: "bigWin",
                                anchorX: .5,
                                anchorY: .5
                            }, {
                                type: 0,
                                x: 100,
                                name: "bigWinCounterRight",
                                assetKey: "bigWin",
                                anchorX: .5,
                                anchorY: .5
                            }, {
                                type: 0,
                                name: "bigWinCounterCenter",
                                assetKey: "bigWin",
                                scaleX: 17,
                                anchorX: .5,
                                anchorY: .5
                            }]
                        }, {
                            type: 0,
                            name: "bigWinLights0",
                            assetKey: "bigWin",
                            frame: 4,
                            anchorX: .5,
                            anchorY: .5,
                            isVisible: !1
                        }, {
                            type: 0,
                            name: "bigWinLights1",
                            assetKey: "bigWin",
                            frame: 6,
                            anchorX: .5,
                            anchorY: .5,
                            scaleX: 0,
                            scaleY: 0,
                            isVisible: !1
                        },
                        {
                            type: 0,
                            name: "bigWinLights2",
                            assetKey: "bigWin",
                            frame: 8,
                            anchorX: .5,
                            anchorY: .5,
                            isVisible: !1
                        }, {
                            type: 0,
                            name: "bigWinLights3",
                            assetKey: "bigWin",
                            frame: 10,
                            anchorX: .5,
                            anchorY: .5,
                            scaleX: 0,
                            scaleY: 0,
                            isVisible: !1
                        }, {
                            type: 0,
                            name: "bigWin0",
                            assetKey: "bigWin",
                            frame: 3,
                            anchorX: .5,
                            anchorY: .5,
                            isVisible: !1
                        }, {
                            type: 0,
                            name: "bigWin1",
                            assetKey: "bigWin",
                            frame: 5,
                            anchorX: .5,
                            anchorY: .5,
                            scaleX: 0,
                            scaleY: 0,
                            isVisible: !1
                        }, {
                            type: 0,
                            name: "bigWin2",
                            assetKey: "bigWin",
                            frame: 7,
                            anchorX: .5,
                            anchorY: .5,
                            isVisible: !1
                        }, {
                            type: 0,
                            name: "bigWin3",
                            assetKey: "bigWin",
                            frame: 9,
                            anchorX: .5,
                            anchorY: .5,
                            scaleX: 0,
                            scaleY: 0,
                            isVisible: !1
                        }
                    ]
                }, {
                    type: 1,
                    name: "bigWinScalableStarsContainer",
                    contents: [{
                        type: 0,
                        name: "bigWinStar1",
                        assetKey: "bigWin",
                        frame: 13,
                        anchorX: .5,
                        anchorY: .5,
                        x: 650,
                        y: -100
                    }, {
                        type: 0,
                        name: "bigWinStar1",
                        assetKey: "bigWin",
                        frame: 13,
                        anchorX: .5,
                        anchorY: .5,
                        x: 465,
                        y: 180,
                        scaleX: .75,
                        scaleY: .75
                    }, {
                        type: 0,
                        name: "bigWinStar1",
                        assetKey: "bigWin",
                        frame: 13,
                        anchorX: .5,
                        anchorY: .5,
                        x: 350,
                        y: 220,
                        scaleX: 1,
                        scaleY: 1
                    }, {
                        type: 0,
                        name: "bigWinStar1",
                        assetKey: "bigWin",
                        frame: 13,
                        anchorX: .5,
                        anchorY: .5,
                        x: -450,
                        y: 220,
                        scaleX: 1,
                        scaleY: 1
                    }, {
                        type: 0,
                        name: "bigWinStar1",
                        assetKey: "bigWin",
                        frame: 13,
                        anchorX: .5,
                        anchorY: .5,
                        x: -330,
                        y: -90,
                        scaleX: 1,
                        scaleY: 1
                    }, {
                        type: 0,
                        name: "bigWinStar1",
                        assetKey: "bigWin",
                        frame: 13,
                        anchorX: .5,
                        anchorY: .5,
                        x: -550,
                        y: -90,
                        scaleX: .9,
                        scaleY: .9
                    }, {
                        type: 0,
                        name: "bigWinStar1",
                        assetKey: "bigWin",
                        frame: 13,
                        anchorX: .5,
                        anchorY: .5,
                        x: -475,
                        y: -180,
                        scaleX: .75,
                        scaleY: .75
                    }]
                }, {
                    type: 1,
                    name: "bigWinEmitterContainer",
                    contents: []
                }, {
                    type: 0,
                    name: "bigWinBackground",
                    assetKey: "bigWinBackground",
                    anchorX: .5,
                    anchorY: .5
                }]
            }]
        }
    }
};
nge.App[nge.appNS].Com.Freespin = {};
nge.App[nge.appNS].Com.Freespin.Controller = nge.App.ClassicGameBase.Com.Freespin.Controller.extend(function() {
    var d = this;
    this._spinCommand = function() {
        if (!d._canSpin || d._pauseMode) return !1;
        nge.observer.fire("buttons.freespinReady");
        d._canSpin = !1
    }
});
nge.App[nge.appNS].Com.Winlines = {};
nge.App[nge.appNS].Com.Winlines.ThumbsService = Class.extend(function() {
    this.create = function() {}
});
nge.App[nge.appNS].Cfg = {};
nge.App[nge.appNS].Mlm = {};
nge.App[nge.appNS].Mlm.Brain = {};
nge.App[nge.appNS].Mlm.Brain.ButtonsExtension = function() {
    var d = this,
        b = function() {
            d.changeButtonState("spin", d.spinBtnName, function() {
                nge.observer.fire("slotMachine.spinCommand")
            }, !0)
        };
    this.subscribe = function() {
        nge.Lib.Helper.mobileAndTabletCheck() || (this.super.subscribe(), nge.observer.add("buttons.freespinReady", b, !1, !0))
    }
};
nge.App[nge.appNS].Mlm.Brain.Buttons = nge.App.ClassicGameBase.Mlm.Brain.Buttons.extend(nge.App[nge.appNS].Mlm.Brain.ButtonsExtension);
nge.App[nge.appNS].Mlm.Brain.UI_v3 = {};
nge.App[nge.appNS].Mlm.Brain.UI_v3.Buttons = nge.App.ClassicGameBase.Mlm.Brain.UI_v3.Buttons.extend(nge.App[nge.appNS].Mlm.Brain.ButtonsExtension);
nge.App[nge.appNS].Mlm.Brain.Mobile = {};
nge.App[nge.appNS].Mlm.Brain.Mobile.Buttons = nge.App.ClassicGameBase.Mlm.Brain.Mobile.Buttons.extend(function() {
    var d = this;
    this.disableAutoButton = !0;
    var b = function() {
        d.changeButtonState("spinMobile", void 0, function() {
            nge.observer.fire("sounds.spinClick");
            nge.observer.fire("slotMachine.spinCommand")
        }, !0, !0);
        d.changeButtonState("takeMobile", void 0, function() {
            nge.observer.fire("gamble.take")
        }, !0, !1);
        d.changeButtonState("stopMobile", void 0, function() {
            nge.observer.fire("slotMachine.stopCommand")
        }, !0, !1)
    };
    this.subscribe = function() {
        this.super.subscribe();
        nge.observer.add("buttons.freespinReady", b, !1, !0)
    }
});
nge.appNS = "AfricanKing";
nge.App[nge.appNS] = {};
nge.App[nge.appNS].Run = nge.App.RiverGameBase.Run.extend(function() {
    nge.App.addSysInstancesMode("UI_v3");
    nge.App.addSysInstancesMode("gold");
    nge.App.RiverGameBase && (nge.App[nge.appNS] = nge.Lib.Helper.mergeObjsRecursive(nge.App.RiverGameBase, nge.App[nge.appNS]));
    var d = [20];
    this.run = function() {
        this.runDefault();
        nge.localData.set("lines.cfg", d)
    };
    this.statesExtentions = {
        play: "bigWin pickBonus borderTopFire dustBackground respin bigWildSymbol winlinesInfoPanel fullScreenButton".split(" ")
    };
    this.applyClassicGameBasePsd();
    this.applyClassicGameBaseInstanceMode();
    this.applyClassicGameBase()
});
nge.Cfg.Main.project = "africanKing";
nge.Cfg.Main.title = "African King";
nge.Cfg.Main.gameCode = nge.gameCode;
nge.Cfg.Main.gameType = "slot";
nge.Cfg.Main.slotType = "standart";
nge.App[nge.appNS].Cfg = {};
nge.App[nge.appNS].Cfg.Sounds = Class.extend(function() {
    this.contents = {
        big_counter_loop: "game:sounds/big_counter_loop",
        big_win_counter: "game:sounds/big_win_counter",
        big_win_end: "game:sounds/big_win_end",
        big_win_start: "game:sounds/big_win_start",
        bs_background: "game:sounds/bs_background",
        bs_bn_scatter_0: "game:sounds/bs_bn_scatter_0",
        bs_bn_scatter_1: "game:sounds/bs_bn_scatter_1",
        bs_bn_scatter_2: "game:sounds/bs_bn_scatter_2",
        bs_bn_scatter_3: "game:sounds/bs_bn_scatter_3",
        bs_bn_scatter_4: "game:sounds/bs_bn_scatter_4",
        bs_bn_wheel_0: "game:sounds/bs_bn_wheel_spin",
        bs_bn_wheel_stop_0: "game:sounds/bs_bn_wheel_stop_0",
        bs_bn_wheel_stop_1: "game:sounds/bs_bn_wheel_stop_0",
        bs_bn_wheel_stop_2: "game:sounds/bs_bn_wheel_stop_0",
        bs_bn_wheel_stop_3: "game:sounds/bs_bn_wheel_stop_0",
        bs_bn_wheel_stop_4: "game:sounds/bs_bn_wheel_stop_0",
        bs_spin_fast_3: "game:sounds/bs_spin_fast_3",
        bs_spin_fast_4: "game:sounds/bs_spin_fast_4",
        bs_spin_fast_5: "game:sounds/bs_spin_fast_5",
        spin_button_click: "game:sounds/spin_button_click",
        denom_change: "game:sounds/denom_change",
        gn_autoplay_on: "game:sounds/gn_autoplay_on",
        gn_autoplay_off: "game:sounds/gn_autoplay_off",
        gn_level: "game:sounds/gn_level",
        gn_max_bet: "game:sounds/gn_max_bet",
        gn_win_counter_stop: "game:sounds/gn_win_counter_stop",
        gn_win_counter_take: "game:sounds/gn_win_counter_take",
        gn_win_counter_end: "game:sounds/gn_win_counter_end",
        gn_win_counter: "game:sounds/gn_win_counter",
        rl_open: "game:sounds/rl_open",
        rl_close: "game:sounds/rl_close",
        fg_popup: "game:sounds/fg_popup",
        fs_popup_pickem: "game:sounds/fs_popup_pickem",
        pickem_background: "game:sounds/pickem_background",
        pickem_cell_click: "game:sounds/pickem_cell_click",
        pickem_show_all_cells: "game:sounds/pickem_show_all_cells",
        fs_popup_normal: "game:sounds/fs_popup_normal",
        xw_popup: "game:sounds/xw_popup",
        respin_fire_loop: "game:sounds/respin_fire_loop",
        respin_fire: "game:sounds/respin_fire",
        respin_reel: "game:sounds/respin_reel",
        giraffe_move: "game:sounds/giraffe_move",
        giraffe_landing: "game:sounds/giraffe_landing",
        fg_wait: "game:sounds/fg_wait",
        bn_background: "game:sounds/bn_background",
        scatter_win: "game:sounds/scatter_win",
        sr_win_0: "game:sounds/sr_win_0",
        sr_win_1: "game:sounds/sr_win_1",
        sr_win_2: "game:sounds/sr_win_2",
        sr_win_5: "game:sounds/sr_win_5",
        sr_win_big: "game:sounds/sr_win_big",
        jackpot_online_background: "game:sounds/jackpot_online_background",
        jackpot_online_coincidence_1: "game:sounds/jackpot_online_coincidence_1",
        jackpot_online_coincidence_2: "game:sounds/jackpot_online_coincidence_2",
        jackpot_online_coincidence_3: "game:sounds/jackpot_online_coincidence_3",
        jackpot_online_finish_jackpot_popup: "game:sounds/jackpot_online_finish_jackpot_popup",
        jackpot_online_won_jackpot_movie: "game:sounds/jackpot_online_won_jackpot_movie"
    }
});
nge.App[nge.appNS].Com = {};
nge.App[nge.appNS].Com.LoadAssets = {};
nge.App[nge.appNS].Com.LoadAssets.Controller = nge.App.ClassicGameBase.Com.LoadAssets.Controller.extend(function() {
    this.preload = function() {
        this.super.preload();
        nge.game.cache.checkImageKey("startPopupPickemCover") || nge.game.load.image("startPopupPickemCover", nge.Lib.Helper.create1PxPng(0, 0, 0, 190, !0));
        nge.game.cache.checkImageKey("33") || nge.game.load.image("33", nge.Lib.Helper.create1PxPng(0, 0, 0, 0, !0))
    }
});
nge.App[nge.appNS].Com.BigWildSymbol = {};
nge.App[nge.appNS].Com.BigWildSymbol.Controller = nge.Com.Base.extend(function() {
    var d, b, h, g, f, a, c = {
            0: 400,
            1: 680,
            2: 960,
            3: 1240,
            4: 1520
        },
        e = {
            0: 600,
            1: 800,
            2: 1E3,
            3: 1100,
            4: 1200
        },
        k, l, m;
    this.create = function() {
        this.createDefault();
        b || this.subscribe();
        d = nge.findOne("^bigWildSymbol");
        d.loadTexture("1");
        d.visible = !1;
        d.anchorX = .5;
        d.anchorY = .5;
        d.y = 520;
        h = nge.assets.getQualityFactor();
        a = f = 0;
        nge.localData.set("currentReel", f)
    };
    var q = function(a, b, c) {
            l && l.stop();
            l = nge.game.add.tween({
                x: 0
            });
            l.enableUpdate = !0;
            l.loop();
            l.to({
                    x: 15
                },
                1050);
            l.onUpdateCallback(function(a, b, c) {
                d.loadTexture("m01_" + nge.Lib.Helper.LdgZero(~~(c.percent * c.vEnd.x), 3) + ".png")
            });
            l.start()
        },
        n = function() {
            nge.observer.fire("giraffe_move");
            m = !0;
            d.visible || (d.visible = !0);
            l && l.stop();
            d.x = c[f];
            d.parent.bringToTop(d);
            if (g) {
                g = !1;
                var b = e[f];
                d.scale.set(0);
                k = nge.game.add.tween(d.scale).to({
                    x: 1.425 / h,
                    y: 1.425 / h
                }, b);
                k.enableUpdate = !0;
                k.onComplete.add(function() {
                    d.scale.set(1.425 / h);
                    q();
                    nge.localData.set("currentReel", 4 === f ? 0 : f + 1);
                    nge.observer.fire("giraffe_move.stop");
                    nge.observer.fire("giraffe_landing")
                })
            } else {
                b = e[a];
                var p = nge.localData.get("custom.slotMachineIntrigue");
                p.status && f >= p.startsFrom - 1 && !0 === p.status && (b *= 1.8 * (p.endsFrom - p.startsFrom));
                k = nge.game.add.tween({
                    x: c[f]
                }).to({
                    x: c[a]
                }, b);
                k.enableUpdate = !0;
                k.onUpdateCallback(function(a, b, c) {
                    d.x = a.target.x;
                    d.scale.set(1.425 / h - .65 * (.5 > b ? b : 1 - b))
                }).onComplete.add(function() {
                    d.scale.set(1.425 / h);
                    d.x = c[a];
                    f = a;
                    nge.localData.set("currentReel", 4 === f ? 0 : f + 1);
                    q();
                    nge.observer.fire("giraffe_move.stop");
                    nge.observer.fire("giraffe_landing")
                })
            }
            k.start()
        },
        p = function() {
            m = !1;
            d.scaleX = 1.425 / h;
            d.scaleY = 1.425 / h;
            r()
        },
        r = function() {
            k && k.stop();
            l && l.stop()
        },
        u = function(a) {
            -1 < nge.localData.get("nextReel") && (d.scale.set(1.425 / h), d.visible = !0, d.x = c[nge.localData.get("nextReel")], f = nge.localData.get("nextReel"), d.parent.bringToTop(d), q())
        },
        t = function() {
            m && (k && k.stop(), k = nge.game.add.tween({
                x: d.x,
                scaleX: d.scaleX,
                scaleY: d.scaleY
            }).to({
                x: c[a],
                scaleX: 1.425 / h,
                scaleY: 1.425 / h
            }, 150), k.enableUpdate = !0, k.onUpdateCallback(function(a, b, c) {
                d.x = a.target.x;
                d.scaleX = a.target.scaleX;
                d.scaleY = a.target.scaleY
            }).onComplete.add(function() {
                d.scale.set(1.425 / h);
                d.x = c[a];
                f = a;
                nge.localData.set("currentReel", 4 === f ? 0 : f + 1);
                q()
            }), k.start())
        },
        v = function() {
            !nge.localData.get("freespin.inProgress") && d.visible && (d.visible = !1, f = 0)
        },
        w = function(b) {
            if (nge.localData.get("freespin.inProgress")) {
                b = nge.localData.get("respin.inProgress");
                var c = +nge.localData.get("nextReel"),
                    d = nge.localData.get("respin.reels");
                b ? -1 === d.indexOf(c) && c !== a && (a = c, n()) : -1 === d.indexOf(c) && (a = c, n())
            }
        };
    this.subscribe = function() {
        b = !0;
        nge.observer.add("slotMachine.spinResponse", w);
        nge.observer.add("slotMachine.spinCommand", v);
        nge.observer.add("slotMachine.stopCommand", t);
        nge.observer.add("Transport.close", r);
        nge.observer.add("bigWildSymbol.stop", p);
        nge.observer.add("freespin.restore", u)
    }
});
nge.App[nge.appNS].Com.BorderTopFire = {};
nge.App[nge.appNS].Com.BorderTopFire.Cfg = Class.extend(function() {
    this.singleton = !0;
    var d = function(b, d) {
        for (var g = [], f = 0; f < d; f++) g.push(b + nge.Lib.Helper.LdgZero(f, 3));
        return g
    };
    this.animations = {
        fire: d("fire_idle_", 16),
        fireStart: d("fire_start_", 10)
    };
    this.get = function() {
        return this.params
    }
});
nge.App[nge.appNS].Com.BorderTopFire.Controller = nge.Com.Base.extend(function() {
    var d, b, h, g, f;
    this.create = function() {
        this.createDefault();
        b || this.subscribe();
        g = nge.App.getInstance("Com.BorderTopFire.Cfg");
        d = nge.findOne("^reelsTopFire");
        f = nge.assets.getQualityFactor()
    };
    var a = function(a, b, c) {
            var e = a.length,
                f = nge.game.add.tween({
                    x: 0
                });
            f.enableUpdate = !0;
            f.to({
                x: e
            }, e * b);
            f.onUpdateCallback(function(b, c, e) {
                d.loadTexture(a[~~(e.percent * e.vEnd.x)])
            }).onComplete.add(function() {
                c && c()
            });
            return f
        },
        c = function() {
            d.scaleX =
                1.3 / f;
            d.scaleY = 1.3 / f;
            d.x = 190;
            d.y = -70;
            h = a(g.animations.fireStart, 40, function() {
                h = a(g.animations.fire, 40);
                h.loop().start()
            });
            h.start()
        },
        e = function() {
            h && h.stop();
            d.scaleX = 1 / f;
            d.scaleY = 1 / f;
            d.x = 229;
            d.y = 57;
            d.loadTexture("reelsTopFire")
        },
        k = function() {
            h && h.stop()
        };
    this.subscribe = function() {
        nge.observer.add("Transport.close", k);
        nge.observer.add("borderTopFire.start", c);
        nge.observer.add("borderTopFire.stop", e);
        b = !0
    }
});
nge.App[nge.appNS].Com.BorderTopFire.Tpl = function() {
    for (var d = nge.appPath + "img/", b = {
            styles: {},
            assets: {
                name: "assets",
                contents: []
            },
            objects: {
                name: "objects",
                contents: []
            }
        }, h = 0; 16 > h; h++) 10 > h && b.assets.contents.push({
        key: "fire_start_" + nge.Lib.Helper.LdgZero(h, 3),
        fullPath: d + "pickGame/fire_start_" + nge.Lib.Helper.LdgZero(h, 3) + ".png"
    }), b.assets.contents.push({
        key: "fire_idle_" + nge.Lib.Helper.LdgZero(h, 3),
        fullPath: d + "pickGame/fire_idle_" + nge.Lib.Helper.LdgZero(h, 3) + ".png"
    });
    return b
};
nge.App[nge.appNS].Com.Buttons = {};
nge.App[nge.appNS].Com.Buttons.UI_v3 = {};
nge.App[nge.appNS].Com.Buttons.UI_v3.Cfg = nge.App.ClassicGameBase.Com.Buttons.UI_v3.Cfg.extend(function() {});
nge.App[nge.appNS].Com.Buttons.Mobile = {};
nge.App[nge.appNS].Com.Buttons.Mobile.Cfg = nge.App.ClassicGameBase.Com.Buttons.Mobile.Cfg.extend(function() {});
nge.App[nge.appNS].Com.DustBackground = {};
nge.App[nge.appNS].Com.DustBackground.Controller = nge.Com.Base.extend(function() {
    var d, b, h, g, f;
    this.create = function() {
        nge.Lib.Helper.mobileAndTabletCheck() || (this.createDefault(), g || this.subscribe(), f = nge.assets.getQualityFactor(), d = nge.findOne("^freespinEmitterContainer"), d.x = -200, d.y = 900, d.anchorX = .75, d.anchorY = .75, d.x = 960, d.y = 900, b = a(d, 1), b.x = -1200, h = a(d, -1), h.x = 1150)
    };
    var a = function(a, b) {
            var c = nge.game.add.emitter(0, 0, 0);
            a.addChild(c);
            c.minRotation = 0;
            c.maxRotation = 0;
            c.makeParticles(["dust"]);
            c.setXSpeed(100 *
                b, 120 * b);
            c.setYSpeed(0, 0);
            c.gravity = 0;
            c.setAlpha(.2, 0, 4E3);
            c.height = 200;
            c.minParticleScale = 2 / f;
            c.maxParticleScale = 2 / f;
            c.forEach(function(a) {
                a.tint = 13415514
            });
            return c
        },
        c = function() {
            b.start(!1, 4500, 800);
            h.start(!1, 4500, 800)
        },
        e = function() {
            b.kill();
            h.kill()
        },
        k = function(a) {
            b.forEach(function(b) {
                b.tint = a ? 10066380 : 13415514
            });
            h.forEach(function(b) {
                b.tint = a ? 10066380 : 13415514
            })
        };
    this.subscribe = function() {
        nge.observer.add("xw_popup", function() {
            k(!1)
        });
        nge.observer.add("fs_popup_pickem", function() {
            k(!0)
        });
        nge.observer.add("freespin.restore",
            function() {
                k(!0)
            });
        nge.observer.add("Transport.close", e);
        nge.observer.add("dustBackground.start", c);
        nge.observer.add("StatesManager.create.end", c);
        nge.observer.add("dustBackground.stop", e);
        g = !0
    }
});
nge.App[nge.appNS].Com.DustBackground.Tpl = function() {
    return {
        styles: {},
        assets: {
            name: "assets",
            contents: [{
                key: "dust",
                fullPath: nge.appPath + "img/playarea/dust.png"
            }]
        },
        objects: {
            name: "objects",
            contents: []
        }
    }
};
nge.App[nge.appNS].Com.Freespin = {};
nge.App[nge.appNS].Com.Freespin.Controller = nge.App.RiverGameBase.Com.Freespin.Controller.extend(function() {
    var d, b, h, g, f, a, c, e, k, l;
    this.create = function() {
        this.super.create();
        k = nge.findOne("^playareaBg");
        h = nge.findOne("^popupShadow");
        h.loadTexture("startPopupPickemCover");
        g = nge.findOne("^fPWin");
        f = nge.findOne("^sPFSWin");
        d = nge.findOne("^startPopupFreeSpinContainer");
        b = nge.findOne("^finalPopupFreeSpinContainer");
        d.visible = !1;
        b.visible = !1;
        d.x = 960;
        d.y = 540;
        b.x = 960;
        b.y = 540
    };
    this.animatePopup = function(k,
        l) {
        var p = k.text,
            n = k.duration;
        l = l || function() {};
        e = k.freespinState;
        "finish" === k.freespinState ? (a = g, c = b, nge.observer.fire("borderTopFire.stop"), nge.observer.fire("bigWildSymbol.stop")) : (a = f, c = d, "start" === k.freespinState && nge.observer.fire("borderTopFire.start"));
        this.setText(p);
        m(c, h, !0, function() {
            nge.rafSetTimeout(function() {
                l();
                "start" === k.freespinState && nge.observer.fire("invisibleButton.changeClickType", "freespin");
                if ("inside" === k.freespinState) {
                    var a = nge.localData.get("slotMachine.totalBonusWin");
                    a && nge.observer.fire("creditsWin.setValue", nge.Lib.Money.toCoins(a), 1)
                }
            }, n)
        })
    };
    this.closePopup = function() {
        nge.observer.fire("invisibleButton.changeClickType", "");
        c && c.visible && m(c, h, !1);
        "start" === e && nge.observer.fire("slotMachine.spinCommand")
    };
    this.setText = function(b) {
        a.text = b || ""
    };
    this.startText = function(a) {
        nge.observer.fire("fs_popup_normal");
        return a
    };
    this.inProgressText = function(a) {
        nge.observer.fire("fg_wait");
        return a
    };
    this._finishFreespin = function() {
        nge.localData.get("pickBonus.inProgress") ||
            this.super._finishFreespin()
    };
    this.finishText = function() {
        nge.observer.fire("xw_popup");
        k.loadTexture("playareaBg");
        return nge.Lib.Money.toCoinsInt(+nge.localData.get("slotMachine.totalBonusWin") || 0)
    };
    var m = function(a, b, c, d) {
            if (c) {
                a.visible = !0;
                b.visible = !0;
                a.alpha = 0;
                b.alpha = 0;
                a.scale.x = .5;
                a.scale.y = .5;
                var e = nge.game.add.tween(a).to({
                    alpha: 1
                }, 200, Phaser.Easing.Linear.None, !1);
                e.onUpdateCallback(function(c, d, e) {
                    b.alpha = a.alpha / 2;
                    a.scale.x = .35 + .85 * e.percent;
                    a.scale.y = .35 + .85 * e.percent
                });
                e.onComplete.add(function() {
                    a.alpha =
                        1;
                    b.alpha = .5;
                    e = nge.game.add.tween(a).to({
                        scaleX: 1,
                        scaleY: 1
                    }, 100, Phaser.Easing.Linear.None, !1);
                    e.onComplete.add(function() {
                        d && d()
                    });
                    e.start()
                })
            } else e = nge.game.add.tween(a).to({
                scaleX: 1.2,
                scaleY: 1.2
            }, 100, Phaser.Easing.Linear.None, !1), e.onComplete.add(function() {
                e = nge.game.add.tween(a).to({
                    alpha: 0
                }, 200, Phaser.Easing.Linear.None, !1);
                e.onUpdateCallback(function(c, d, e) {
                    b.alpha = a.alpha / 2;
                    a.scale.x = 1.2 - .85 * e.percent;
                    a.scale.y = 1.2 - .85 * e.percent
                });
                e.onComplete.add(function() {
                    a.visible = !1;
                    b.visible = !1;
                    a.alpha =
                        0;
                    b.alpha = 0;
                    a.scale.x = .35;
                    a.scale.y = .35;
                    d && d()
                });
                e.start()
            });
            e.start()
        },
        q = function() {
            l = !0;
            k.loadTexture("bgAreaFreeSpins");
            nge.observer.fire("borderTopFire.start");
            var a = nge.localData.get("slotMachine.lastResponse");
            "FreeReSpins" === a.state && (nge.observer.fire("freeReSpins.start", a.reSpinRemain), a = nge.Lib.Helper.rowsToColumns(a.spinResult.rows), nge.observer.fire("respin.holdReels", a))
        };
    this.setSpinType = function() {
        var a = nge.localData.get("respin.inProgress");
        nge.localData.set("spin.type", a ? "FreeReSpinRequest" :
            "FreeSpinRequest")
    };
    this.subscribe = function() {
        this.super.subscribe();
        nge.observer.add("freespin.restore", q);
        nge.observer.add("freespin.press.spinButton", function() {
            l && (nge.observer.fire("slotMachine.spinCommand"), l = !1)
        })
    }
});
nge.App[nge.appNS].Com.FullScreenButton = {};
nge.App[nge.appNS].Com.FullScreenButton.Controller = nge.Com.Base.extend(function() {
    var d, b, h, g;
    this.create = function() {
        this.super.create();
        d || (d = !0, nge.observer.add("invisibleButton.changeClickType", a), nge.observer.add("invisibleButton.disable", c));
        h = "pick";
        b = nge.findOne("^invisibleButton");
        b.events.onInputDown.add(f);
        b.visible = !1;
        b.alpha = 0;
        g = !1
    };
    var f = function() {
            b.visible = !1;
            b.inputEnabled = !1;
            b.input.useHandCursor = !1;
            if (g) switch (g = !1, h) {
                case "pick":
                    nge.observer.fire("pickUp.openPopup");
                    break;
                case "freespin":
                    nge.observer.fire("freespin.press.spinButton")
            }
        },
        a = function(a) {
            g = !0;
            h = a;
            b.visible = !0;
            b.inputEnabled = !0;
            b.input.useHandCursor = !0
        },
        c = function() {
            g = !1;
            b.visible = !1;
            b.inputEnabled = !1;
            b.input.useHandCursor = !1
        }
});
nge.App[nge.appNS].Com.PickBonus = {};
nge.App[nge.appNS].Com.PickBonus.Cfg = Class.extend(function() {
    this.singleton = !0;
    this.animations = {
        openBoxSmall: function(d, b, h) {
            for (var g = []; b < h; b++) g.push(d + nge.Lib.Helper.LdgZero(b, 2));
            return g
        }("smallExpl_", 5, 19)
    };
    this.get = function() {
        return this.params
    }
});
nge.App[nge.appNS].Com.PickBonus.Controller = nge.Com.Base.extend(function() {
    var d = this,
        b, h, g, f, a, c, e, k, l, m, q, n = [],
        p = [],
        r, u, t, v, w, x, y, z, B, A, C, D, J = {
            10: "bnCoin0(anchorX=0.5, anchorY=0.5)_image",
            11: "bnFreeSpinsName1",
            12: "bnFreeSpinsName2",
            13: "bnFreeSpinsName3"
        };
    this.create = function() {
        this.super.create();
        b || (b = !0, nge.observer.add("pickBonus.actionResponse", G), nge.observer.add("pickUp.openPopup", I), nge.observer.add("pickBonus.start", d.pickBonusStart), nge.observer.add("winlines.animateByOne", K), nge.observer.add("pickBonus.restore",
            F));
        D = nge.findOne("^winlinesAddonContainer");
        y = nge.assets.getQualityFactor();
        u = nge.App.getInstance("Com.PickBonus.Cfg");
        h = nge.findOne("^startPopupPickemContainer");
        g = nge.findOne("^pickemContainer");
        a = nge.findOne("^pickPopupText5");
        c = nge.findOne("^pickPopupWinCounter");
        B = nge.findOne("^pickPopupWin");
        e = nge.findOne("^playareaBg");
        l = nge.findOne("^playareaContainer");
        k = nge.findOne("^playareaLogo");
        m = nge.findOne("^winLinesCount");
        q = nge.findOne("^popupShadow");
        q.loadTexture("startPopupPickemCover");
        t = nge.findOne("^pickemTotalBet");
        v = nge.findOne("^pickemBonusWon");
        w = nge.findOne("^freeSpinsAmount");
        x = nge.findOne("^openPicksAmount");
        h.visible = !1;
        g.visible = !1;
        q.x = 0;
        q.y = 0;
        q.visible = !1;
        h.x = 960;
        h.y = 540;
        n = [];
        p = [];
        for (var f = 0; 25 > f; f++) {
            var r = nge.findOne("^bnCell" + nge.Lib.Helper.LdgZero(f, 2));
            r.events.onInputDown.add(H(f));
            r.pixelPerfectOver = !1;
            r.pixelPerfectClick = !1;
            n.push(r);
            p.push(nge.findOne("^bnCoin" + f))
        }
        z = !1;
        C = [];
        return !0
    };
    this.pickBonusStart = function(b) {
        nge.localData.set("pickBonus.inProgress", !0);
        f = !0;
        a.loadTexture("txt_popup_" +
            b.picks);
        c.text = nge.Lib.Money.toCoinsInt(b.amount);
        B.text = "X " + b.picks;
        v.text = nge.Lib.Money.toCoinsInt(b.totalWin);
        A = b.picks;
        x.text = A;
        w.text = "8";
        C = []
    };
    var E = function() {
            z = !0;
            nge.observer.fire("invisibleButton.changeClickType", "pick");
            nge.observer.fire("winlines.stopAnimation");
            m.visible = !1;
            e.loadTexture("bgAreaFreeSpins");
            nge.observer.fire("buttons.disable.all");
            nge.observer.fire("fs_popup_pickem");
            D.visible = !1;
            S(h, q, !0, function() {
                nge.rafSetTimeout(function() {
                        z && nge.observer.fire("buttons.pickUp.enableSpin")
                    },
                    1E3)
            })
        },
        K = function() {
            f && (f = !1, E())
        },
        I = function() {
            z = !1;
            nge.findOne("^invisibleButton").visible = !1;
            nge.observer.fire("buttons.disable.all");
            for (var a = 0; a < n.length; a++) n[a].loadTexture("bnCell" + nge.Lib.Helper.LdgZero(a, 2) + "(anchorX=0.5, anchorY=0.5)_button"), n[a].inputEnabled = !0, n[a].input.useHandCursor = !0, n[a].alpha = 1, n[a].visible = !0, p[a].alpha = 1, p[a].loadTexture("bnCoin0(anchorX=0.5, anchorY=0.5)_image"), p[a].scale.set(1 / y);
            nge.observer.fire("pickem_background");
            r = !0;
            m.visible = !1;
            l.visible = !1;
            k.visible = !1;
            g.visible = !0;
            t.text = nge.Lib.Money.toCoinsInt(+nge.localData.get("totalBet.value").toFixed(2));
            S(h, q, !1)
        },
        H = function(a) {
            return function() {
                r && (r = !1, nge.observer.fire("pickBonus.sendRequest", a))
            }
        },
        G = function(a) {
            var b = function() {
                var b = a.items;
                if (b) {
                    for (var c = 0; c < b.length; c++) p[c].loadTexture(J[b[c].value]), 0 > C.indexOf(c) && (p[c].alpha = .35);
                    b = nge.game.add.tween({
                        x: 1
                    }).to({
                        x: 0
                    }, 500);
                    b.onUpdateCallback(function(a, b, c) {
                        for (b = 0; b < n.length; b++) n[b].alpha = a.target.x, -1 < C.indexOf(b) && p[b].scale.set((1 + .5 * (.5 >
                            a.target.x ? a.target.x : 1 - a.target.x)) / y)
                    }).onComplete.add(function() {
                        for (var b = 0; b < n.length; b++) n[b].alpha = 0;
                        nge.rafSetTimeout(function() {
                            var b = a.params.freeSpins;
                            m.visible = !1;
                            m.visible = !0;
                            l.visible = !0;
                            k.visible = !0;
                            g.visible = !1;
                            D.visible = !0;
                            nge.localData.set("pickBonus.inProgress", !1);
                            nge.observer.fire("freespin.start", b, 1);
                            nge.observer.fire("spinAndWinComplete", null, 2);
                            nge.observer.fire("pickem_background.stop")
                        }, 2500)
                    });
                    b.start()
                }
            };
            if ("true" === a.lastPick) {
                r = !1;
                for (var c = 0; 25 > c; c++) n[c].inputEnabled = !1, n[c].input.useHandCursor = !1
            }
            "false" !== a.lastPick || r || (r = !0);
            C.push(+a.bonusItem.index);
            w.text = a.params.freeSpins;
            --A;
            x.text = A;
            p[+a.bonusItem.index].loadTexture(J[a.bonusItem.value]);
            var d = n[+a.bonusItem.index];
            d.inputEnabled = !1;
            d.input.useHandCursor = !1;
            d.parent.bringToTop(d);
            var e = u.animations.openBoxSmall;
            c = e.length;
            var f = nge.game.add.tween({
                x: 0
            });
            f.to({
                x: c
            }, 60 * c);
            f.onUpdateCallback(function(a, b, c) {
                d.loadTexture(e[~~(c.percent * c.vEnd.x)])
            }).onComplete.add(function() {
                d.visible = !1;
                r || b()
            });
            f.start();
            nge.observer.fire("pickem_cell_click");
            r || nge.observer.fire("pickem_show_all_cells")
        },
        F = function(a) {
            nge.findOne("^invisibleButton").visible = !1;
            e.loadTexture("bgAreaFreeSpins");
            r = !0;
            m.visible = !1;
            nge.observer.fire("buttons.disable.all");
            l.visible = !1;
            k.visible = !1;
            g.visible = !0;
            v.text = nge.Lib.Money.toCoinsInt(a.totalWin);
            w.text = a.freeSpins;
            A = a.params.pickedItems;
            if (a.items) {
                C = [];
                for (var b = 0; b < a.items.length; b++) C.push(+a.items[b].index);
                A -= a.items.length
            }
            x.text = A;
            nge.rafSetTimeout(function() {
                t.text = nge.Lib.Money.toCoinsInt(+nge.localData.get("totalBet.value").toFixed(2));
                nge.observer.fire("buttons.disable.all")
            }, 1);
            if (a.items)
                for (b = 0; b < a.items.length; b++) n[+a.items[b].index].alpha = 0, n[+a.items[b].index].inputEnabled = !1, n[+a.items[b].index].input.useHandCursor = !1, p[+a.items[b].index].loadTexture(J[a.items[b].value])
        },
        S = function(a, b, c, d) {
            if (c) {
                a.visible = !0;
                b.visible = !0;
                a.alpha = 0;
                b.alpha = 0;
                a.scale.x = .5;
                a.scale.y = .5;
                var e = nge.game.add.tween(a).to({
                    alpha: 1
                }, 200, Phaser.Easing.Linear.None, !1);
                e.onUpdateCallback(function(c, d, e) {
                    b.alpha = a.alpha / 2;
                    a.scale.x = .35 + .85 * e.percent;
                    a.scale.y = .35 + .85 * e.percent
                });
                e.onComplete.add(function() {
                    a.alpha = 1;
                    b.alpha = .5;
                    e = nge.game.add.tween(a).to({
                        scaleX: 1,
                        scaleY: 1
                    }, 100, Phaser.Easing.Linear.None, !1);
                    e.onComplete.add(function() {
                        d && d()
                    });
                    e.start()
                })
            } else e = nge.game.add.tween(a).to({
                scaleX: 1.2,
                scaleY: 1.2
            }, 100, Phaser.Easing.Linear.None, !1), e.onComplete.add(function() {
                e = nge.game.add.tween(a).to({
                    alpha: 0
                }, 200, Phaser.Easing.Linear.None, !1);
                e.onUpdateCallback(function(c, d, e) {
                    b.alpha = a.alpha / 2;
                    a.scale.x = 1.2 - .85 * e.percent;
                    a.scale.y = 1.2 - .85 * e.percent
                });
                e.onComplete.add(function() {
                    a.visible = !1;
                    b.visible = !1;
                    a.alpha = 0;
                    b.alpha = 0;
                    a.scale.x = .35;
                    a.scale.y = .35;
                    d && d()
                });
                e.start()
            });
            e.start()
        }
});
nge.App[nge.appNS].Com.PickBonus.Tpl = function() {
    for (var d = {
            assets: {
                contents: []
            },
            objects: {
                contents: []
            }
        }, b, h = 5; 19 > h; h++) b = nge.Lib.Helper.LdgZero(h, 2), d.assets.contents.push({
        key: "smallExpl_" + b,
        fullPath: nge.appPath + "img/symbols/smallExpl_" + b + ".png"
    });
    return d
};
nge.App[nge.appNS].Com.Respin = {};
nge.App[nge.appNS].Com.Respin.Controller = nge.Com.Respin.Controller.extend(function() {
    var d = this,
        b, h = !1,
        g = ["9", "99"],
        f, a;
    this.create = function() {
        h || (h = !0, m());
        this.super.create();
        f = nge.findOne("^playareaLogo");
        f.loadTexture("playareaLogo");
        a = !0;
        l();
        nge.localData.set("respin.reels", [])
    };
    this.respinStart = function(a) {
        a = parseInt(a);
        d._inProgress = !0;
        d._canSpin = !0;
        var b = nge.localData.get("respin.inProgress"),
            c = nge.localData.get("respin.spinsTotal");
        !nge.localData.get("respin.spinsTotalResetFlag") && b && c ||
            (c = 0, nge.localData.set("respin.spinsTotalResetFlag", !1));
        c += a;
        nge.localData.getAll();
        d.setSpinTypeRespins();
        nge.localData.set("respin.inProgress", !0);
        nge.localData.set("respin.lastSpin", !1);
        d._restoringFlag || (nge.localData.set("respin.spinsTotal", c), nge.localData.set("respin.spinsLeft", parseInt(nge.localData.get("respin.spinsLeft")) || 0 + a));
        nge.observer.fire("buttons.respinMode");
        d._restoringFlag = !1
    };
    var c = function(c) {
            a = !0;
            b = c
        },
        e = function() {
            nge.localData.get("respin.inProgress") && (a ? b && b.spinResult &&
                (k(b.spinResult.columns), nge.rafSetTimeout(function() {
                    d.spinCommand()
                }, 1)) : nge.observer.fire("respin.end"))
        },
        k = function(b) {
            a = !0;
            for (var c = [], d = [5, 10, 15, 20, 25], e = [], f, h = 0; h < b.length; h++) {
                f = !1;
                for (var k = 0; k < b[h].length; k++) - 1 < g.indexOf(b[h][k]) && (nge.observer.fire("slotMachine.holdReel", h), c.push(h), f = !0);
                e.push(f ? 0 : d[h])
            }
            nge.localData.set("slotMachineAdditionalBlurs", [5, 5, 5, 5, 5]);
            nge.localData.set("respin.reels", c)
        },
        l = function() {
            f.loadTexture("playareaLogo");
            nge.localData.set("respin.reels", []);
            nge.observer.fire("slotMachine.hideRespinFrames");
            for (var a = 0; 5 > a; a++) nge.observer.fire("slotMachine.unholdReel", a)
        };
    this.finishRespin = function() {
        a = !1;
        nge.localData.get("respin.inProgress") && (nge.localData.get("freespin.inProgress") ? nge.localData.set("spin.type", "FreeSpinRequest") : nge.localData.set("spin.type", "SpinRequest"), nge.localData.set("respin.spinsTotalResetFlag", !0), nge.localData.set("respin.inProgress", !1));
        nge.observer.fire("respin_fire_loop.stop");
        nge.observer.fire("respin_reel.stop");
        l()
    };
    var m = function() {
        nge.observer.add("respin.holdReels",
            k);
        nge.observer.add("slotMachine.spinResponse", c);
        nge.observer.add("winlines.animateAllDone", e);
        nge.observer.add("slotMachine.spinCommand", function() {
            nge.localData.get("respin.inProgress") && (nge.observer.fire("respin_fire_loop"), nge.observer.fire("respin_fire"), nge.observer.fire("respin_reel"), f.loadTexture("txt_hot_respin.png"), nge.observer.fire("slotMachine.showRespinFrames"))
        })
    }
});
nge.App[nge.appNS].Com.Respin.Tpl = function() {
    return {
        assets: {
            name: "assets",
            contents: []
        },
        objects: {
            contents: []
        }
    }
};
nge.App[nge.appNS].Com.Load = {};
nge.App[nge.appNS].Com.Load.Cfg = nge.App.ClassicGameBasePsd.Com.Load.Cfg.extend(function() {
    var d = nge.appPath + "css/fonts/",
        b = nge.appPath + "img/fonts/";
    this.fonts.verdanabold = d + "verdanabold";
    this.fonts.segoe_script_bold = d + "segoe_script_bold";
    this.fonts.arial_bold = d + "arial_bold";
    this.fonts.pragmaticablack = d + "pragmaticablack";
    this.fonts.calibribold = d + "calibribold";
    this.fonts.cambriabold = d + "cambriabold";
    this.fonts.helveticablack = d + "helveticablack";
    this.fonts.mullerblack = d + "mullerblack";
    this.atlasesGroups = ["atlases", "atlases_play", "atlases_help"];
    this.bitmapFonts = {
        popupFont: {
            textureURL: b + "popupFont.png",
            bitmapFont: b + "popupFont.fnt"
        },
        bigWinFont: {
            textureURL: b + "bigWinFont.png",
            bitmapFont: b + "bigWinFont.fnt"
        },
        winlineFont: {
            textureURL: b + "winlineFont.png",
            bitmapFont: b + "winlineFont.fnt"
        },
        jackpot_font: {
            textureURL: b + "jackpot_font.png",
            bitmapFont: b + "jackpot_font.fnt"
        }
    }
});
nge.App[nge.appNS].Com.SlotMachine = {};
nge.App[nge.appNS].Com.SlotMachine.Cfg = nge.App.ClassicGameBase.Com.SlotMachine.Cfg.extend(function() {
    this.params.mh = 3;
    this.params.tweenDuration.oldSymbols = 65 * this.params.mh;
    this.params.tweenDuration.blur = 65;
    this.params.tweenDuration.newSymbols = 65 * this.params.mh;
    this.params.symbolsBlurKeys = "0_blur 2_blur 3_blur 4_blur 5_blur 6_blur 7_blur 8_blur 9_blur".split(" ");
    for (var d = this.params, b = [], h = 0; 15 > h; h++) b.push("fire_frame_" + nge.Lib.Helper.LdgZero(h, 3));
    d.animations = {
        reellight: b
    }
});
nge.App[nge.appNS].Com.SlotMachine.Controller = nge.Com.SlotMachine.Controller.extend(function() {
    var d = this,
        b, h, g = [],
        f, a, c, e = [210, 490, 770, 1050, 1330],
        k, l, m, q, n;
    this.create = function() {
        this.super.create();
        b = nge.App.getInstance("Com.SlotMachine.Symbols");
        h = nge.findOne("^frame");
        h.visible = !1;
        c = d._service._cfg;
        a = 2;
        m = nge.assets.getQualityFactor();
        g = [];
        for (var e = 1; 3 > e; e++) g.push(nge.findOne("^frame" + e)), g[e - 1].visible = !1, g[e - 1].scale.set(1.3 / m, 1.3 / m);
        q = nge.findOne("^reelsBorderShine");
        n && n.stop();
        q.alpha = 0;
        n = nge.game.add.tween(q).to({
            alpha: .75
        }, 2E3, Phaser.Easing.Default, !1);
        n.yoyo(!0, 1);
        n.loop();
        n.start();
        return !0
    };
    var p = function() {
            nge.observer.fire("winlines.pauseAnimation");
            r(!1);
            for (var a = 0; 3 > a; a++)
                for (var b = 0; 5 > b; b++) nge.observer.fire("slotMachine.stopAnimateSymbol", {
                    reel: b,
                    row: a
                });
            0 === k && A()
        },
        r = function(a) {
            for (var c = b.items, d = 0; d < c.length; d++) c[d].animateAllWinlinesCycle = a
        },
        u = function(a) {
            return function() {
                if (!l) {
                    var b = nge.localData.get("custom.slotMachineIntrigue"),
                        c = nge.localData.get("respin.inProgress");
                    b && b.status ? (a >= b.startsFrom - 1 && a < b.endsFrom && !0 === b.status && (nge.observer.fire("slotMachine.changeBlursSpeed", [.2, .2, .2, .2, .2]), v(a + 1)), b.endsFrom === a && (nge.observer.fire("slotMachine.changeBlursSpeed", [1, 1, 1, 1, 1]), w())) : c ? nge.observer.fire("slotMachine.changeBlursSpeed", [.45, .45, .45, .45, .45]) : nge.observer.fire("slotMachine.changeBlursSpeed", [1, 1, 1, 1, 1])
                }
            }
        },
        t = function(a, b, c) {
            var d = b.length,
                e = nge.game.add.tween({
                    x: 0
                });
            e.enableUpdate = !0;
            e.to({
                x: d
            }, 60 * d);
            e.onUpdateCallback(function(c, d, e) {
                for (c = 0; c <
                    a.length; c++) a[c].loadTexture(b[~~(e.percent * e.vEnd.x)])
            }).onComplete.add(function() {
                c && c()
            });
            return e
        },
        v = function(b) {
            h.visible = !0;
            h.x = e[b];
            f = t([h], c.animations.reellight, null);
            f.loop();
            f.start();
            nge.observer.fire("spinteaser_" + a + ".stop");
            a++;
            nge.observer.fire("spinteaser_" + a)
        },
        w = function() {
            nge.observer.fire("spinteaser_" + a + ".stop");
            f && f.stop();
            f = null;
            h.visible = !1
        },
        x = function() {
            for (var a = 0; a < g.length; a++) g[a].visible = !1;
            f && f.stop()
        },
        y = function() {
            for (var a = nge.localData.get("respin.reels"), b = 0; b < g.length; b++) g[b].visible = !0, g[b].x = e[a[b]];
            f && f.stop();
            f = t(g, c.animations.reellight, null);
            f.loop();
            f.start()
        },
        z = function(b) {
            l = !1;
            a = 2;
            r(!0);
            k = 0;
            var c = b.slotWin;
            b.slotWin && c.lineWinAmounts && (k = nge.Lib.Money.toCoins(c.totalWin))
        },
        B = function() {
            for (var a = d._service._view, b = 0; b < a._cfg.mw; b++)
                for (var c = 0; c < a._cfg.mh; c++) {
                    var e = a.getSymbolByPosition({
                        reel: b,
                        row: c
                    });
                    e && (e.texture.tint = 8947848, e.texture.alpha = 1)
                }
        },
        A = function() {
            for (var a = nge.localData.get("respin.reels"), b = d._service._view, c = 0; c < b._cfg.mw; c++)
                if (!a || !~a.indexOf(c))
                    for (var e =
                            0; e < b._cfg.mh; e++) {
                        var f = b.getSymbolByPosition({
                            reel: c,
                            row: e
                        });
                        if (f) {
                            var g = f.texture.tintedTexture;
                            f.texture.tint = 16777215;
                            f.texture.tintedTexture = null;
                            f.texture.cachedTint = -1;
                            Phaser.CanvasPool.removeByCanvas(g);
                            f.texture.alpha = 1
                        }
                    }
        },
        C = function() {
            nge.localData.get("custom.slotMachineIntrigue").status && w()
        },
        D = function() {
            C()
        },
        J = function() {
            l = !0;
            C()
        };
    this.customSubscribe = function() {
        nge.observer.add("spinAndWinComplete", p);
        nge.observer.add("slotMachine.quickFinish", D);
        nge.observer.add("slotMachine.spinResponse",
            z);
        nge.observer.add("slotMachine.stopCommand", J);
        nge.observer.add("slotMachine.frameStart", v);
        nge.observer.add("slotMachine.frameFinish", w);
        nge.observer.add("slotMachine.showRespinFrames", y);
        nge.observer.add("slotMachine.hideRespinFrames", x);
        nge.observer.add("Transport.close", w);
        nge.observer.add("Transport.close", function() {
            n && n.stop()
        });
        for (var a = 0; 5 > a; a++) nge.observer.add("slotMachine.reel_" + a + ".animation.stop", u(a));
        nge.observer.add("winlines.animateAll", B);
        nge.observer.add("slotMachine.spinStart",
            A);
        nge.observer.add("slotMachine.spinStart", function() {
            nge.localData.get("respin.inProgress") && nge.observer.fire("slotMachine.changeBlursSpeed", [.45, .45, .45, .45, .45])
        });
        nge.observer.add("lines.set", A)
    }
});
nge.App[nge.appNS].Com.SlotMachine.Symbol = nge.Com.SlotMachine.Symbol.extend(function() {
    this.maxScale = {
        x: 1.15,
        y: 1.15
    };
    this.durationScale = 500
});
nge.App[nge.appNS].Com.SlotMachine.Symbols = nge.Com.SlotMachine.Symbols.extend(function() {
    for (var d = [{
                name: "0",
                textureUrl: "gn_F00.png",
                frameTime: 32,
                animateAllWinlinesCycle: !0,
                animationFramesAuto: {
                    prefix: "m00_",
                    count: 31,
                    suffix: ".png",
                    ldg: 3
                },
                animationRelaunchOnWinlinesCycle: !0
            }, {
                name: "1",
                textureUrl: "m01_000.png",
                frameTime: 32,
                animateAllWinlinesCycle: !0,
                animationFramesAuto: {
                    prefix: "m01_",
                    count: 16,
                    suffix: ".png",
                    ldg: 3
                },
                animationRelaunchOnWinlinesCycle: !0
            }, {
                name: "2",
                textureUrl: "gn_F02.png",
                frameTime: 32,
                animateAllWinlinesCycle: !0,
                animationFramesAuto: {
                    prefix: "m02_",
                    count: 31,
                    suffix: ".png",
                    ldg: 3
                },
                animationRelaunchOnWinlinesCycle: !0
            }, {
                name: "3",
                textureUrl: "gn_F03.png",
                animateAllWinlinesCycle: !0,
                animationFrames: !1,
                animationSprite: !1,
                animationRelaunchOnWinlinesCycle: !0
            }, {
                name: "33",
                textureUrl: "1pxAlpha.png",
                animateAllWinlinesCycle: !1,
                animationMainTextureNeed: !1,
                animationSprite: !1,
                animationRelaunchOnWinlinesCycle: !0
            }, {
                name: "4",
                textureUrl: "gn_F04.png",
                animateAllWinlinesCycle: !0,
                animationFrames: !1,
                animationSprite: !1,
                animationRelaunchOnWinlinesCycle: !0
            },
            {
                name: "5",
                textureUrl: "gn_F05.png",
                animateAllWinlinesCycle: !0,
                animationFrames: !1,
                animationSprite: !1,
                animationRelaunchOnWinlinesCycle: !0
            }, {
                name: "6",
                textureUrl: "gn_F06.png",
                animateAllWinlinesCycle: !0,
                animationFrames: !1,
                animationSprite: !1,
                animationRelaunchOnWinlinesCycle: !0
            }, {
                name: "7",
                textureUrl: "gn_F07.png",
                animateAllWinlinesCycle: !0,
                animationFrames: !1,
                animationSprite: !1,
                animationRelaunchOnWinlinesCycle: !0
            }, {
                name: "8",
                textureUrl: "gn_F08.png",
                animateAllWinlinesCycle: !0,
                animationFrames: !1,
                animationSprite: !1,
                animationRelaunchOnWinlinesCycle: !0
            }, {
                name: "9",
                textureUrl: "gn_F09.png",
                frameTime: 33,
                animateAllWinlinesCycle: !0,
                animationFramesAuto: {
                    prefix: "m09_",
                    count: 30,
                    suffix: ".png",
                    ldg: 3
                },
                animationRelaunchOnWinlinesCycle: !0
            }, {
                name: "99",
                textureUrl: "gn_F09.png",
                frameTime: 32,
                animateAllWinlinesCycle: !0,
                animationFramesAuto: {
                    prefix: "scatter_hot_pick_",
                    count: 31,
                    suffix: ".png",
                    ldg: 3
                },
                animationRelaunchOnWinlinesCycle: !0
            }
        ], b = 0; 10 > b; b++)
        if (1 !== b) {
            var h = nge.Lib.Helper.LdgZero(b, 2);
            d.push({
                name: b + "_blur",
                textureUrl: "wl_f_" +
                    h + "_blur.png"
            })
        } this.items = d
});
nge.App[nge.appNS].Com.SlotMachine.Tpl = function() {
    for (var d = [], b = 0; 15 > b; b++) {
        var h = nge.Lib.Helper.LdgZero(b, 3);
        d.push({
            key: "fire_frame_" + h,
            fullPath: nge.appPath + "img/symbols/fire_frame_" + h + ".png"
        })
    }
    return {
        assets: {
            name: "assets",
            contents: d
        },
        objects: {
            name: "objects",
            contents: [{
                type: 0,
                name: "bigWildSymbol",
                assetKey: "frame1",
                x: "770",
                y: "107",
                alpha: "1"
            }, {
                type: 0,
                name: "frame",
                assetKey: "fire_frame_000",
                x: "770",
                y: "107",
                alpha: "1",
                scaleX: "1.3",
                scaleY: "1.3"
            }]
        }
    }
};
nge.App[nge.appNS].Com.Winlines = {};
nge.App[nge.appNS].Com.Winlines.Cfg = nge.App.ClassicGameBase.Com.Winlines.Cfg.extend(function() {
    this.cacheLineObjectsAsBitmap = !nge.game.device.iOS;
    this.lineOffsets = [];
    this.lineColors = [];
    this.stroke = {
        weight: 0,
        colors: []
    };
    this.lineCustomCoords = [];
    this.animationAllDelay = this.globalOffset = this.tailSize = this.lineWeight = this.globalOffset = this.linesHighligntDuration = 0;
    this.animateAllSymbols = !0;
    this.animationAllDelayPerLine = 200;
    this.animationAllDuration = 15E6;
    this.animationOneByOneDuration = 1E3
});
nge.App[nge.appNS].Com.Winlines.Controller = nge.Com.Winlines.Controller.extend(function() {
    var d = this,
        b, h, g, f, a, c, e, k = [390, 675, 960, 1245, 1530],
        l = [315, 565, 815];
    this.create = function() {
        this.super.create();
        b = nge.findOne("^winLinesCount");
        b.x = 960;
        b.visible = !0;
        f = g = !1
    };
    var m = function() {
            nge.observer.fire("big_counter_loop.stop");
            nge.observer.fire("winlines.animateByOne.cycleComplete")
        },
        q = function(a) {
            b.text = a;
            nge.observer.fire("cleosHeart.printWin", a)
        },
        n = function(a, c) {
            e = !0;
            b.visible = !0;
            b.scale.x = 1;
            b.scale.y =
                1;
            h = nge.game.add.tween({
                x: 0
            }).to({
                x: a
            }, c, Phaser.Easing.Default, !1);
            h.onStart.add(function() {
                q(0)
            });
            h.onUpdateCallback(function(a, b, c) {
                q(Math.ceil(a.target.x))
            });
            h.onComplete.addOnce(function() {
                nge.observer.fire("big_counter_loop.stop");
                nge.observer.fire("wincounter.stop");
                q(Math.ceil(a));
                h = nge.game.add.tween(b.scale).to({
                    x: 1.25,
                    y: 1.25
                }, 250, Phaser.Easing.Default, !1);
                h.yoyo(!0, 1);
                h.onComplete.addOnce(function() {
                    g && (nge.observer.fire("gn_win_counter_end"), g = !1);
                    b.visible = !1;
                    nge.observer.fire("big_counter_loop.stop");
                    m()
                }, this);
                h.start()
            }, this);
            g = !0;
            h.start();
            nge.observer.fire("big_counter_loop.start")
        },
        p = function(c) {
            b.x = 960;
            b.y = 580;
            0 < +c.totalWin ? (a = +c.totalWin, n(c.totalWin, 200 * Math.sqrt(c.totalWin))) : m()
        },
        r = function(a) {
            if (f)
                if (0 < nge.Lib.Money.toCoinsInt(a.amount)) {
                    h && h.stop();
                    b.scale.x = .7;
                    b.scale.y = .7;
                    b.text = nge.Lib.Money.toCoinsInt(a.amount);
                    b.visible = !0;
                    if (2 < +a.wonSymbols[0][0]) b.x = k[3], b.y = l[+a.wonSymbols[0][1]];
                    else if (2 > +a.wonSymbols[a.wonSymbols.length - 1][0]) b.x = k[1], b.y = l[+a.wonSymbols[a.wonSymbols.length -
                        1][1]];
                    else {
                        if (2 === a.wonSymbols.length && 2 <= +a.wonSymbols[a.wonSymbols.length - 1][0] - +a.wonSymbols[0][0]) {
                            var c = 0;
                            b.x = k[a.wonSymbols[0][0]]
                        } else b.x = k[2], c = a.wonSymbols.length - +a.wonSymbols[0][0], c = 2 < c ? 2 : c;
                        b.y = l[a.wonSymbols[c][1]]
                    }
                    h = nge.game.add.tween(b.scale).to({
                        x: .8,
                        y: .8
                    }, 500, Phaser.Easing.Default, !1);
                    h.yoyo(!0, 1);
                    h.onComplete.addOnce(function() {
                        g && (nge.observer.fire("gn_win_counter_end"), g = !1);
                        nge.observer.fire("big_counter_loop.stop")
                    }, this);
                    h.start()
                } else b.visible = !1
        },
        u = function() {
            c || nge.localData.get("bigWin.show") ||
                (c = !0, e || (b.x = 960, b.y = 580, b.scale.x = 1, b.scale.y = 1, a = nge.Lib.Money.toCoinsInt(nge.localData.get("slotMachine.slotWin.totalWin")), d._view.quickFinish(), nge.observer.fire("slotmachine.custom.win")), 0 < a ? (b.visible = !0, q(Math.ceil(a)), nge.observer.fire("big_counter_loop.stop"), h && h.stop(), nge.observer.fire("wincounter.stop"), h = nge.game.add.tween(b.scale).to({
                    x: 1.25,
                    y: 1.25
                }, 250, Phaser.Easing.Default, !1), h.yoyo(!0, 1), h.onComplete.addOnce(function() {
                    g && (nge.observer.fire("gn_win_counter_end"), g = !1);
                    nge.observer.fire("big_counter_loop.stop");
                    m()
                }, this), h.start()) : m())
        },
        t = function(b) {
            c = e = !1;
            a = 0;
            g = f = !1
        },
        v = function() {
            b && (g && (nge.observer.fire("gn_win_counter_end"), g = !1), b.visible = !1, nge.observer.fire("big_counter_loop.stop"))
        },
        w = function() {
            0 < a && (h && h.stop(), g && (nge.observer.fire("gn_win_counter_end"), g = !1), b.x = 960, b.y = 580, b.scale.x = 1, b.scale.y = 1, b.visible = !1, nge.observer.fire("big_counter_loop.stop"))
        },
        x = function() {
            b.visible = !1
        },
        y = function() {
            h && h.stop();
            b.visible = !1
        },
        z = function() {
            !f && nge.localData.get("slotMachine.slotWin") && (f = !0, nge.observer.fire("winlines.animateAllDone"))
        };
    this.customSubscribe = function() {
        nge.observer.add("bigWin.amount", function(a) {
            nge.observer.fire("cleosHeart.printWin", a)
        });
        nge.observer.add("winlines.stopAnimation", x);
        nge.observer.add("slotMachine.spinResponse", t);
        nge.observer.add("winlines.showCounter", p);
        nge.observer.add("winlines.animateByOne", m);
        nge.observer.add("slotMachine.quickFinish", u);
        nge.observer.add("winlines.lineHighlite.start", r);
        nge.observer.add("winlines.animateAllDone", w);
        nge.observer.add("winlines.hideAll", v);
        nge.observer.add("Transport.close",
            y);
        nge.observer.add("bigWin.complete", function() {
            m()
        });
        nge.observer.add("spinAndWinComplete", z)
    }
});
nge.App[nge.appNS].Com.Winlines.View = nge.Com.Winlines.View.extend(function() {
    var d = this,
        b = this.super.animateAll.bind(this),
        h;
    this.animateAll = function() {
        h = !1;
        var f = d.getAnimationQuery();
        if (nge.localData.get("bonus.inline")) nge.observer.fire("scatter_win"), nge.observer.fire("winlines.lineHighlite.startComplete", f[0]), g(f[0].wonSymbols), nge.rafSetTimeout(function() {
            if (!h) {
                nge.localData.set("bonus.inline", !1);
                b();
                nge.observer.fire("winlines.animateAll2");
                for (var a = 0; a < f.length; a++) nge.observer.fire("winlines.lineHighlite.startComplete",
                    f[a])
            }
        }, 2E3);
        else {
            b();
            nge.observer.fire("winlines.animateAll2");
            for (var a = 0; a < f.length; a++) nge.observer.fire("winlines.lineHighlite.startComplete", f[a])
        }
        return !0
    };
    this.quickFinish = function() {
        if (!h) {
            h = !0;
            b();
            for (var f = d.getAnimationQuery(), a = 0; a < f.length; a++) nge.observer.fire("winlines.lineHighlite.startComplete", f[a])
        }
    };
    var g = function(b) {
        for (var a = 0; a < b.length; a++) b[a] && nge.observer.fire("slotMachine.animateSymbol", {
            reel: b[a][0],
            row: b[a][1]
        })
    }
});
nge.App[nge.appNS].Com.WinlinesAddon = {};
nge.App[nge.appNS].Com.WinlinesAddon._Package = {
    name: "com.winlinesAddon",
    version: 1,
    requirments: {
        js: ["com/winlinesAddon/controller", "com/winlinesAddon/tpl"]
    }
};
nge.App[nge.appNS].Com.WinlinesAddon.Cfg = nge.App.ClassicGameBase.Com.WinlinesAddon.Cfg.extend(function() {
    this.params = this.super.get();
    this.params.generateLines = !1;
    this.params.borderWinNeed = !1;
    this.params.scaleFactor = 1;
    this.params.cacheRouteframeObjectsAsBitmap = !nge.game.device.iOS;
    this.params.cacheBorderWinObjectsAsBitmap = !nge.game.device.iOS
});
nge.App[nge.appNS].Com.WinlinesAddon.Tpl = function(d, b) {
    d = d || {};
    b || (b = nge.appPath + "img/winlines/");
    d = {
        styles: {},
        assets: {
            name: "assets",
            contents: [{
                key: "border_win_scatter",
                fullPath: b + "gnRouteframe_asset.png"
            }, {
                key: "gn_routeframes_scatter",
                fullPath: b + "gnRouteframe_asset.png"
            }]
        },
        objects: {
            name: "objects",
            contents: [{
                type: 1,
                name: "winlinesAddon",
                x: 260,
                y: 150,
                contents: d
            }]
        }
    };
    for (var h = 0; 20 > h; h++) d.assets.contents.push({
        key: "gn_routeframes_" + nge.Lib.Helper.LdgZero(h, 3),
        fullPath: b + "gnRouteframe_asset.png"
    });
    return d
};
nge.App[nge.appNS].Com.WinlinesInfoPanel = {};
nge.App[nge.appNS].Com.WinlinesInfoPanel.Controller = nge.Com.Base.extend(function() {
    var d = this,
        b = !1,
        h, g, f, a, c;
    this.create = function() {
        this.createDefault();
        b || d.subscribe();
        h = nge.findOne("^winframeContainer");
        g = nge.findOne("^winframeText");
        f = nge.findOne("^winframeBg");
        b = !0;
        a = !1;
        c = nge.assets.getQualityFactor();
        return !0
    };
    var e = function(b) {
            a && !nge.localData.get("paytable.showed") && (g.text = (b.selectedLine ? "Line " + (+b.selectedLine + 1) : "Scatter") + " wins " + nge.Lib.Money.toCoins(b.amount), g.updateTransform(),
                f.resize((g.width + 50) * c, 44 * c), h.visible = !0)
        },
        k = function(a) {
            h.visible = !1
        },
        l = function() {
            a = !1
        },
        m = function() {
            a = !0
        };
    this.subscribe = function() {
        nge.observer.add("winlines.lineHighlite.startComplete", e);
        nge.observer.add("winlines.view.startHideAll", k);
        nge.observer.add("winlines.animateByOne.cycleComplete", m);
        nge.observer.add("slotMachine.spinResponse", l);
        nge.observer.add("paytable.show", k)
    }
});
nge.App[nge.appNS].Com.WinlinesInfoPanel.Tpl = function() {
    return {
        styles: {
            ".winframeWinText": {
                style: {
                    font: "20pt roboto_condensed_regular",
                    fill: "#E0E0E0",
                    align: "center",
                    stroke: "#000000",
                    strokeThickness: 3
                }
            }
        },
        assets: {
            name: "assets",
            contents: [{
                key: "winframe",
                fullPath: nge.appPath + "/img/playarea/profit_panel.png"
            }]
        },
        objects: {
            name: "objects",
            contents: [{
                type: 1,
                isVisible: !1,
                x: 952,
                y: 860,
                name: "winframeContainer",
                contents: [{
                    type: 2,
                    name: "winframeText",
                    text: "5 HARE win 100 x 160 = 16000",
                    y: 4,
                    anchorX: .5,
                    anchorY: .5,
                    assetKey: "winframe",
                    class: "center winframeWinText",
                    maxWidth: 370
                }, {
                    type: 9,
                    name: "winframeBg",
                    anchorX: .5,
                    anchorY: .5,
                    assetKey: "winframe",
                    alpha: .85,
                    left: 40,
                    right: 40,
                    width: 40,
                    height: 40
                }]
            }]
        }
    }
};
nge.App[nge.appNS].Mlm = {};
nge.App[nge.appNS].Mlm.Brain = {};
nge.App[nge.appNS].Mlm.Brain.ButtonsExtension = function() {
    var d = this,
        b = !1,
        h = function(a, b, c, f, g, h) {
            if (-1 !== d.mainButtons.indexOf(a) || -1 !== d.controlButtons.indexOf(a)) {
                var e = {};
                e[a] = {
                    title: _(b),
                    callback: c,
                    enabled: f,
                    visible: g,
                    frame: h
                };
                d.beforeUpdateHandler(e);
                nge.observer.fire("buttons.changeData", e);
                d.afterUpdateHandler(e)
            }
        },
        g = function() {
            h("spin", d.spinBtnName, function() {
                nge.observer.fire("pickUp.openPopup")
            }, !0)
        },
        f = function(a) {
            h("spin", d.spinBtnName, function() {}, !0)
        },
        a = function() {
            b = !0
        },
        c = function() {
            b &&
                nge.rafSetTimeout(function() {
                    d.enableFreespinText(!0);
                    var a = nge.localData.get("freespin.spinsTotal"),
                        b = nge.localData.get("freespin.spinsLeft");
                    nge.observer.fire("freespin.counterUpdate", {
                        current: a - b,
                        total: a
                    })
                }, 1)
        };
    this.enableFreespinText = function(a) {
        this.super.enableFreespinText(a);
        if (b) {
            a = nge.localData.get("freespin.spinsTotal");
            var c = nge.localData.get("freespin.spinsLeft");
            nge.observer.fire("freespin.counterUpdate", {
                current: a - c,
                total: a
            })
        }
    };
    this.subscribe = function() {
        this.super.subscribe();
        nge.observer.add("freespin.restore",
            a, !1, !0);
        nge.observer.add("freespin.start", c, !1, !0);
        nge.observer.add("freespin.end", function() {
            b = !1
        }, !1, !0);
        nge.observer.add("buttons.pickUp.enableSpin", g, !1, !0);
        nge.observer.add("buttons.pickUp.startFreeSpinAfterPickGame", f, !1, !0)
    }
};
nge.App[nge.appNS].Mlm.Brain.Buttons = nge.App.RiverGameBase.Mlm.Brain.Buttons.extend(nge.App[nge.appNS].Mlm.Brain.ButtonsExtension);
nge.App[nge.appNS].Mlm.Brain.SoundsExtension = function() {
    var d = this,
        b = [],
        h, g, f;
    this.scatterSymbols = ["9"];
    this.wheelSpinSoundCount = 6;
    this.soundedSymbols = [];
    this.soundsUnused = "sr_bell_low sr_bell_middle sr_bell_high sr_win_tiny sr_win_small sr_win_middle db_background gn_wait db_open db_win_1 db_win_2 db_win_3 db_win_4 db_win_5".split(" ");
    this.soundExt = [{
            s: "rl_close",
            e: "paytable.hide"
        }, {
            s: "big_counter_loop",
            e: "bigWin.start2",
            loop: !0,
            relaunch: !0
        }, {
            s: "big_counter_loop",
            e: "big_counter_loop.stop",
            action: "stop"
        },
        {
            s: "big_counter_loop",
            e: "Transport.close",
            action: "stop"
        }, {
            s: "big_counter_loop",
            e: "big_counter_loop.start",
            action: "play",
            loop: !0,
            relaunch: !0
        }, {
            s: "big_win_counter",
            e: "bigWin.start",
            loop: !0,
            relaunch: !0
        }, {
            s: "big_win_counter",
            e: "bigWin.quickFinish.start",
            action: "stop"
        }, {
            s: "big_win_counter",
            e: "bigWin.complete.start",
            action: "stop"
        }, {
            s: "big_win_counter",
            e: "Transport.close",
            action: "stop"
        }, {
            s: "big_win_end",
            e: "bigWin.quickFinish.start",
            relaunch: !0
        }, {
            s: "big_win_end",
            e: "bigWin.complete.start",
            relaunch: !0
        }, {
            s: "big_win_start",
            e: "bigWin.start",
            relaunch: !0
        }, {
            s: "bs_bn_wheel_0",
            e: "slotMachine.spinStart",
            relaunch: !0,
            action: "play",
            loop: !0
        }, {
            s: "bs_bn_wheel_0",
            e: "slotMachine.spinComplete",
            action: "stop"
        }, {
            s: "bs_bn_wheel_stop_0",
            e: "bs_bn_wheel_stop_0",
            relaunch: !0
        }, {
            s: "bs_bn_wheel_stop_1",
            e: "bs_bn_wheel_stop_1",
            relaunch: !0
        }, {
            s: "bs_bn_wheel_stop_2",
            e: "bs_bn_wheel_stop_2",
            relaunch: !0
        }, {
            s: "bs_bn_wheel_stop_3",
            e: "bs_bn_wheel_stop_3",
            relaunch: !0
        }, {
            s: "bs_bn_wheel_stop_4",
            e: "bs_bn_wheel_stop_4",
            relaunch: !0
        }, {
            s: "bs_bn_wheel_stop_5",
            e: "bs_bn_wheel_stop_5",
            relaunch: !0
        }, {
            s: "bs_bn_wheel_stop_6",
            e: "bs_bn_wheel_stop_6",
            relaunch: !0
        }, {
            s: "bs_bn_scatter_0",
            e: "bs_bn_scatter_0",
            relaunch: !0
        }, {
            s: "bs_bn_scatter_1",
            e: "bs_bn_scatter_1",
            relaunch: !0
        }, {
            s: "bs_bn_scatter_2",
            e: "bs_bn_scatter_2",
            relaunch: !0
        }, {
            s: "bs_bn_scatter_3",
            e: "bs_bn_scatter_3",
            relaunch: !0
        }, {
            s: "bs_bn_scatter_4",
            e: "bs_bn_scatter_4",
            relaunch: !0
        }, {
            s: "bs_background",
            e: "slotMachine.spinStart",
            action: "play",
            loop: !0
        }, {
            s: "bs_background",
            e: "bs_background.resume",
            action: "resume"
        }, {
            s: "bs_background",
            e: "bs_background.start",
            loop: !0,
            action: "play"
        }, {
            s: "bs_background",
            e: "winlines.animateAll",
            action: "pause"
        }, {
            s: "bs_background",
            e: "riverslot.bigWin.show",
            action: "pause"
        }, {
            s: "bs_background",
            e: "acceleration.start",
            action: "pause"
        }, {
            s: "bs_background",
            e: "freespin.restore",
            action: "stop"
        }, {
            s: "bs_background",
            e: "pickUp.openPopup",
            action: "stop"
        }, {
            s: "bs_background",
            e: "pickBonus.restore",
            action: "stop"
        }, {
            s: "bs_background",
            e: "jackpot.show",
            action: "stop"
        }, {
            s: "bs_spin_fast_3",
            e: "spinteaser_3"
        }, {
            s: "bs_spin_fast_3",
            e: "spinteaser_3.stop",
            action: "stop"
        },
        {
            s: "bs_spin_fast_4",
            e: "spinteaser_4"
        }, {
            s: "bs_spin_fast_4",
            e: "spinteaser_4.stop",
            action: "stop"
        }, {
            s: "bs_spin_fast_4",
            e: "spinteaser_5"
        }, {
            s: "bs_spin_fast_4",
            e: "spinteaser_5.stop",
            action: "stop"
        }, {
            s: "bs_spin_fast_4",
            e: "slotMachine.stopCommand",
            action: "stop"
        }, {
            s: "fs_popup_pickem",
            e: "fs_popup_pickem"
        }, {
            s: "pickem_background",
            e: "pickem_background",
            loop: !0,
            relaunch: !0
        }, {
            s: "pickem_background",
            e: "pickem_background.stop",
            action: "stop"
        }, {
            s: "pickem_cell_click",
            e: "pickem_cell_click",
            relaunch: !0
        }, {
            s: "pickem_show_all_cells",
            e: "pickem_show_all_cells"
        }, {
            s: "fs_popup_normal",
            e: "fs_popup_normal"
        }, {
            s: "respin_fire_loop",
            e: "respin_fire_loop",
            loop: !0
        }, {
            s: "respin_fire_loop",
            e: "respin_fire_loop.stop",
            action: "stop"
        }, {
            s: "respin_fire",
            e: "respin_fire"
        }, {
            s: "respin_reel",
            e: "respin_reel",
            loop: !0
        }, {
            s: "respin_reel",
            e: "respin_reel.stop",
            action: "stop"
        }, {
            s: "giraffe_move",
            e: "giraffe_move"
        }, {
            s: "giraffe_move",
            e: "giraffe_move.stop",
            action: "stop"
        }, {
            s: "giraffe_landing",
            e: "giraffe_landing"
        }, {
            s: "bn_background",
            e: "custom.bonus_background.start",
            loop: !0
        },
        {
            s: "scatter_win",
            e: "scatter_win",
            relaunch: !0
        }, {
            s: "sr_win_0",
            e: "sr_win_0",
            relaunch: !0
        }, {
            s: "sr_win_1",
            e: "sr_win_1",
            relaunch: !0
        }, {
            s: "sr_win_2",
            e: "sr_win_2",
            relaunch: !0
        }, {
            s: "sr_win_5",
            e: "sr_win_5",
            relaunch: !0
        }, {
            s: "sr_win_big",
            e: "sr_win_big",
            relaunch: !0
        }, {
            s: "scatter_win",
            e: "Transport.close",
            action: "stop"
        }, {
            s: "sr_win_0",
            e: "Transport.close",
            action: "stop"
        }, {
            s: "sr_win_1",
            e: "Transport.close",
            action: "stop"
        }, {
            s: "sr_win_2",
            e: "Transport.close",
            action: "stop"
        }, {
            s: "sr_win_5",
            e: "Transport.close",
            action: "stop"
        }
    ];
    this.constructor =
        function() {
            nge.localData.set("scatterSymbols", this.scatterSymbols);
            this.winSoundsQueue = nge.App.getInstance("Mlm.Brain.SoundsQueue", !1, this, [])
        };
    this.determineWinEvent = function(a) {
        a = nge.Lib.Money.getCoinsWin(a);
        return a < .49 * +nge.localData.get("totalBet.value") ? "sr_win_0" : a < .99 * +nge.localData.get("totalBet.value") ? "sr_win_1" : a < 1.99 * +nge.localData.get("totalBet.value") ? "sr_win_2" : "sr_win_5"
    };
    var a = function(a) {
        h = 0;
        b = [];
        for (var c = a.spinResult.columns, d = !0, e = 0, k = 0, l = 0; l < c.length; l++) c[l].some(function(a) {
            return -1 !== ["9", "99"].indexOf(a)
        }.bind(this)) && d ? (b.push("bs_bn_scatter_" + e), e++) : (0 < e && (d = !1), b.push("bs_bn_wheel_stop_" + k), k++);
        nge.localData.set("bigWin.show", !1);
        (f = a.slotWin) && f.lineWinAmounts && (h = nge.Lib.Money.toCoins(f.totalWin), g = 10 * +nge.localData.get("totalBet.value"), nge.localData.set("bigWin.show", f.totalWin > g))
    };
    this.reelStopHandler = function(a) {
        return function() {
            var c = nge.localData.get("nextReel"),
                d = nge.localData.get("freespin.inProgress"),
                e = nge.localData.get("respin.reels");
            d && c === a || -1 < e.indexOf(a) ||
                nge.observer.fire(b[a])
        }
    };
    this.soundsForSymbolsHandler = function(a) {};
    var c = function() {
            if (nge.Lib.Helper.mobileAndTabletCheck()) {
                var a = nge.localData.get("freespin.inProgress"),
                    b = nge.localData.get("pickBonus.inProgress");
                a || b || nge.observer.fire("bs_background.start")
            }
        },
        e = function() {
            g = 10 * +nge.localData.get("totalBet.value");
            if (f.totalWin > g) {
                var a = f.totalWin / +nge.localData.get("totalBet.value") / .15 * 100;
                a = 1E3 > a ? 3E3 : a;
                nge.observer.fire("sr_win_big");
                nge.observer.fire("riverslot.bigWin.show", {
                        value: h,
                        duration: a
                    },
                    1E3)
            } else 0 < h && (a = d.determineWinEvent(h / +nge.localData.get("totalBet.value")), nge.observer.fire(a)), nge.observer.fire("winlines.showCounter", {
                totalWin: h
            }, 1)
        },
        k = function(a) {
            if ("play" === a) {
                nge.observer.fire("nature");
                a = nge.localData.get("freespin.inProgress");
                var b = nge.localData.get("pickBonus.inProgress");
                a || b || nge.observer.fire("bs_background.start")
            }
        },
        l = function() {
            nge.localData.get("freespin.inProgress") || nge.observer.fire("bs_background.resume")
        };
    this.customSubscribe = function() {
        this.super.customSubscribe();
        nge.observer.add("slotmachine.custom.win", function() {
            if (0 < h) {
                var a = d.determineWinEvent(h / +nge.localData.get("totalBet.value"));
                nge.observer.fire(a)
            }
        }, !1, !0);
        nge.observer.add("slotMachine.spinResponse", a, !1, !0);
        nge.observer.add("sounds.preloaded", c, !1, !0);
        nge.observer.add("StatesManager.create.end", k, !1, !0);
        nge.observer.add("winlines.animateAll2", e, !1, !0);
        nge.observer.add("winlines.animateByOne.cycleComplete", l, !1, !0);
        nge.observer.add("acceleration.stop", function() {
            nge.localData.get("freespin.inProgress") ?
                nge.observer.fire("custom.bonus_background.resume") : nge.observer.fire("bs_background.resume")
        }, !1, !0);
        nge.observer.add("wincounter.stop", function() {
            nge.localData.get("freespin.inProgress") ? nge.observer.fire("custom.bonus_background.start") : nge.observer.fire("bs_background.start")
        }, !1, !0)
    }
};
nge.App[nge.appNS].Mlm.Brain.Sounds = nge.App.ClassicGameBase.Mlm.Brain.Sounds.extend(nge.App[nge.appNS].Mlm.Brain.SoundsExtension);
nge.App[nge.appNS].Mlm.Brain.Slot = nge.App.ClassicGameBase.Mlm.Brain.Slot.extend(function() {
    var d = this,
        b = !1,
        h, g = [];
    this.showGamePlayState = function() {
        var a = nge.localData.get("brain.restoreGame"),
            b = function(a, b) {
                nge.observer.add("StatesManager.create.end", function(c) {
                    nge.observer.fire(b + ".restore", a.lastResponse);
                    nge.observer.remove("StatesManager.create.end", !1, "restoreBonusGame." + b)
                }, "restoreBonusGame." + b)
            };
        a && a.lastResponse && a.lastResponse.state ? (nge.localData.set("spin.type", "SpinRequest"), a.lastResponse &&
            "FreeSpins" === a.lastResponse.state ? (nge.brain.do("showDefaultPlayState"), b(a, "freespin")) : a.lastResponse && "PickBonus" === a.lastResponse.state ? (nge.brain.do("showDefaultPlayState"), b(a, "pickBonus")) : a.lastResponse && "FreeReSpins" === a.lastResponse.state ? (nge.brain.do("showDefaultPlayState"), b(a, "freespin")) : d.restoreBonusGame(a.lastResponse)) : nge.brain.do("showDefaultPlayState")
    };
    this.runBonusGame = function() {
        var a = d.getLastData() ? d.getLastData() : d.getLastPickBonusItemResponse();
        a || (a = d.getLastPickCoverItemResponse());
        if (!a.state) return !1;
        var b;
        switch (a.state) {
            case "FreeSpins":
                nge.observer.fire("infoPanel.show", "YOU'VE WON FREE SPINS!");
                var c = 0;
                for (b in a.slotWin.lineWinAmounts) {
                    var e = a.slotWin.lineWinAmounts[b];
                    e.bonusName && "FreeSpins" === e.bonusName && (c = e.params.freeSpins)
                }
                nge.observer.fire("freespin.start", c);
                break;
            case "PickBonus":
                var f = c = 0;
                for (b in a.slotWin.lineWinAmounts) e = a.slotWin.lineWinAmounts[b], e.bonusName && "PickBonus" === e.bonusName && (c = e.wonSymbols.length, f = e.amount);
                nge.localData.set("pickBonus.freeSpinsCount",
                    5);
                nge.localData.set("freespin.inProgress", !0);
                nge.localData.set("pickBonus.inProgress", !0);
                nge.observer.fire("pickBonus.start", {
                    picks: c,
                    amount: f,
                    totalWin: a.slotWin.totalWin
                });
                break;
            case "FreeReSpins":
                nge.observer.fire("infoPanel.show", "YOU'VE WON FREE RESPINS!");
                c = 0;
                for (b in a.slotWin.lineWinAmounts) e = a.slotWin.lineWinAmounts[b], !e.bonusName || "ReSpins" !== e.bonusName && "FreeReSpins" !== e.bonusName || (c = e.params.reSpins);
                nge.observer.fire("freeReSpins.start", c);
                break;
            case "ReSpins":
                nge.observer.fire("infoPanel.show",
                    "YOU'VE WON FREE RESPINS!");
                c = 0;
                for (b in a.slotWin.lineWinAmounts) e = a.slotWin.lineWinAmounts[b], !e.bonusName || "ReSpins" !== e.bonusName && "FreeReSpins" !== e.bonusName || (c = e.params.reSpins);
                nge.observer.fire("respin.start", c)
        }
    };
    this.quickFinishHandler = function() {
        var a = nge.localData.get("freespin"),
            b = nge.localData.get("slotMachine"),
            c = this.checkStartFreespinGame(b);
        b.slotWin && !c && (d.getWinValueTween() && d.getWinValueTween().stop(), a = nge.Lib.Money.toCoinsInt(+(a.inProgress ? a.totalWin : b.slotWin.totalWin)),
            d.printWin(a), nge.observer.fire("slotMachine.quickFinish.done"))
    };
    var f = function(a) {
            nge.localData.set("custom.slotMachineIntrigue", {
                status: !1
            });
            if (!a.reSpinRemain) {
                a = a.spinResult.columns;
                for (var b = 0, c = 0, d = 0; d < a.length; d++)
                    if (a[d].some(function(a) {
                            return -1 !== ["9", "99"].indexOf(a)
                        }.bind(this))) c++, 2 === c && (b = d + 1);
                    else if (0 < c) break;
                1 < c && !nge.localData.get("stateEqualRespins") && nge.localData.set("custom.slotMachineIntrigue", {
                    status: !0,
                    startsFrom: b,
                    endsFrom: 4
                })
            }
        },
        a = function() {
            nge.localData.get(!1) && nge.localData.set("custom.slotMachineIntrigue", {
                status: !1
            });
            if (g && 0 < g.length)
                for (var a = 0; a < g.length; a++) nge.observer.fire("slotMachine.setSymbol", {
                    coords: g[a],
                    key: "99"
                })
        },
        c = function(a) {
            nge.localData.set("nextReel", -1);
            b = !1;
            h = -1 < ["ReSpins", "FreeReSpins"].indexOf(a.data.state);
            if (a.data.slotWin && a.data.slotWin.lineWinAmounts) {
                for (var c = a.data.slotWin.lineWinAmounts, d = 0; d < c.length; d++)
                    if (c[d].bonusName && ("PickBonus" === c[d].bonusName || "ReSpins" === c[d].bonusName)) {
                        var e = c[d];
                        c.splice(d, 1);
                        c.splice(0, 0, e);
                        b = !0;
                        break
                    } a.data.slotWin.lineWinAmounts = c
            }
            nge.localData.set("bonus.inline",
                b);
            g = [];
            if (b && !h) {
                c = a.data.spinResult.rows;
                for (d = 0; d < c.length; d++)
                    for (e = 0; e < c[d].length; e++) "9" === c[d][e] && (c[d][e] = "99", g.push([e, d]));
                a.data.spinResult.rows = c;
                a.data.spinResult.columns = nge.Lib.Helper.rowsToColumns(c)
            }
            if (nge.localData.get("freespin.inProgress")) {
                c = a.data.spinResult.rows;
                nge.localData.set("nextReel", c[0].indexOf("1"));
                for (d = 0; d < c.length; d++)
                    for (e = 0; e < c[d].length; e++) "1" === c[d][e] && (c[d][e] = "33");
                a.data.spinResult.rows = c;
                a.data.spinResult.columns = nge.Lib.Helper.rowsToColumns(c)
            }
        },
        e = function() {
            nge.findOne("^freespinEmitterContainer").visible = !1
        },
        k = function(a) {
            var b = a.data.lastResponse;
            nge.localData.set("nextReel", -1);
            if (b && ("FreeSpins" === b.state || "FreeReSpins" === b.state)) {
                b = a.data.lastResponse.spinResult.rows;
                nge.localData.set("nextReel", b[0].indexOf("1"));
                for (var c = 0; c < b.length; c++)
                    for (var d = 0; d < b[c].length; d++) "1" === b[c][d] && (b[c][d] = "33", nge.observer.fire("slotMachine.setSymbol", {
                        coords: [d, c],
                        key: "33"
                    }));
                a.data.lastResponse.spinResult.rows = b
            }
        },
        l;
    this.printWin = function(a) {};
    var m = function(a) {
            var b = 0;
            nge.localData.get("freespin.inProgress") && l && (b = l);
            nge.localData.get("respin.inProgress") && l && (b = l);
            nge.observer.fire("creditsWin.setValue", a + b)
        },
        q = function() {
            l = nge.Lib.Money.toCoinsInt(+nge.localData.get("slotMachine.lastResponse.totalBonusWin") || 0)
        },
        n = function() {
            (l = nge.Lib.Money.toCoinsInt(+nge.localData.get("slotMachine.lastResponse.totalBonusWin") || 0)) || (l = nge.Lib.Money.toCoinsInt(+nge.localData.get("slotMachine.totalBonusWin") || 0));
            l || (l = nge.Lib.Money.toCoinsInt(+nge.localData.get("slotMachine.slotWin.totalWin") ||
                0));
            nge.localData.get("freespin.inProgress") || nge.localData.get("respin.inProgress") || (l = 0)
        };
    this.customSubscribe = function() {
        this.super.customSubscribe();
        nge.observer.add("freespin.restore", q, !1, !0);
        nge.observer.add("slotMachine.spinStart", n, !1, !0);
        nge.observer.add("cleosHeart.printWin", m, !1, !0);
        nge.observer.add("transportMessage.AuthResponse", k, !1, !0);
        nge.observer.add("jackpot.start", e, !1, !0);
        nge.observer.add("slotMachine.spinComplete", a, !1, !0);
        nge.observer.add("slotMachine.spinResponse", f, !1, !0);
        nge.observer.add("transportMessage.FreeRespinResponse", c, !1, !0);
        nge.observer.add("transportMessage.RespinResponse", c, !1, !0);
        nge.observer.add("transportMessage.SpinResponse", c, !1, !0);
        nge.observer.add("transportMessage.FreeSpinResponse", c, !1, !0)
    }
});
nge.App[nge.appNS].Mlm.Brain.PickBonus = Class.extend(function() {
    var d = function() {
        nge.observer.add("StatesManager.create.end", function() {
            var b = nge.localData.get("bonusGame");
            nge.observer.fire("freespin.start", b.freespins, 100);
            nge.observer.remove("StatesManager.create.end", !1, "playStateBonusFreeSpinsRun", !0)
        }, "playStateBonusFreeSpinsRun", !0)
    };
    this.subscribe = function() {
        nge.observer.add("pickBonus.endGame", d, !1, !0);
        nge.observer.add("pickBonus.sendRequest", function(b) {
            b = new nge.Mlm.Transport.Model({
                action: "PickBonusItemRequest",
                result: !0,
                data: {
                    index: b
                }
            });
            nge.transport.send(b)
        }, !1, !0);
        nge.observer.add("transportMessage.PickBonusItemResponse", function(b) {
            b = b.data;
            nge.localData.set("bonusGame.lastResponse", b);
            nge.observer.fire("pickBonus.actionResponse", b)
        }, !1, !0)
    }
});
nge.App[nge.appNS].Mlm.Brain.Controller = nge.App.ClassicGameBase.Mlm.Brain.Controller.extend(function() {
    this._logicBlocks.push("pickBonus")
});
nge.App[nge.appNS].Mlm.Brain.ButtonsNewLogic = {};
nge.App[nge.appNS].Mlm.Brain.ButtonsNewLogic.Cfg = nge.App.ClassicGameBase.Mlm.Brain.ButtonsNewLogic.Cfg.extend(function() {
    this.singleton = !0;
    this.buttons.play.hold1.enabled = !1;
    this.buttons.play.hold2.enabled = !1;
    this.buttons.play.hold3.enabled = !1;
    this.buttons.play.hold4.enabled = !1;
    this.buttons.play.hold5.enabled = !1
});
nge.App[nge.appNS].Mlm.Brain.Mobile = {};
nge.App[nge.appNS].Mlm.Brain.Mobile.Buttons = nge.App.RiverGameBase.Mlm.Brain.Mobile.Buttons.extend(function() {
    var d = this,
        b = !1,
        h = function(a, b, c, d, e) {
            var f = {};
            f[a] = {
                title: b,
                callback: c,
                enabled: d,
                visible: e
            };
            nge.observer.fire("buttons.changeData", f)
        },
        g = function() {
            h("spinMobile", void 0, function() {
                nge.observer.fire("pickUp.openPopup")
            }, !0, !0)
        },
        f = function(a) {
            h("spinMobile", d.spinBtnName, function() {
                nge.observer.fire("closeStartPickPopup", a)
            }, !0, !0)
        },
        a = function() {
            b = !0
        },
        c = function() {
            b && nge.rafSetTimeout(function() {
                var a =
                    nge.localData.get("freespin.spinsTotal"),
                    b = nge.localData.get("freespin.spinsLeft");
                nge.observer.fire("freespin.counterUpdate", {
                    current: a - b,
                    total: a
                })
            }, 1)
        };
    this.enableFreespinText = function(a) {
        this.super.enableFreespinText(a);
        if (b) {
            a = nge.localData.get("freespin.spinsTotal");
            var c = nge.localData.get("freespin.spinsLeft");
            nge.observer.fire("freespin.counterUpdate", {
                current: a - c,
                total: a
            })
        }
    };
    var e = function() {
        nge.rafSetTimeout(function() {
            h("stopMobile", void 0, function() {
                nge.observer.fire("slotMachine.quickFinish");
                h("stopMobile", void 0, function() {}, !1, !0)
            }, !0, !0)
        }, 1)
    };
    this.subscribe = function() {
        this.super.subscribe();
        nge.observer.add("bigWin.start", e, !1, !0);
        nge.observer.add("freespin.restore", a, !1, !0);
        nge.observer.add("freespin.start", c, !1, !0);
        nge.observer.add("freespin.end", function() {
            b = !1
        }, !1, !0);
        nge.observer.add("buttons.disable.all", function() {
            h("autoSpinMobile", void 0, void 0, !1, !1)
        }, !1, !0);
        nge.observer.add("buttons.pickUp.enableSpin", g, !1, !0);
        nge.observer.add("buttons.pickUp.startFreeSpinAfterPickGame",
            f, !1, !0)
    }
});
nge.App[nge.appNS].Mlm.Brain.UI_v3 = {};
nge.App[nge.appNS].Mlm.Brain.UI_v3.Buttons = nge.App.RiverGameBase.Mlm.Brain.UI_v3.Buttons.extend(nge.App[nge.appNS].Mlm.Brain.ButtonsExtension);
nge.App[nge.appNS].Mlm.Brain.UI_v3.Sounds = nge.App.ClassicGameBase.Mlm.Brain.UI_v3.Sounds.extend(nge.App[nge.appNS].Mlm.Brain.SoundsExtension);
nge.App[nge.appNS].Tpl = {};
nge.App[nge.appNS].Tpl.PsdAliases = nge.App.ClassicGameBase.Tpl.PsdAliases.extend(function() {
    this.singleton = !0;
    this.data = nge.Lib.Helper.mergeObjs(this.data, {
        offerCurrentNum1: "offerCurrentNum1(text=/, class=playAreaText, font=14pt roboto_condensed_regular, anchorX=0.5, anchorY=0.5, fill=#fff)_text",
        "09info1": "09info1(text=+ 8 FREESPINS, font=18pt mullerblack, fill=#ffe579)_text",
        "09info2": "09info2(text=+ 8 FREESPINS, font=18pt mullerblack, fill=#ffe579)_text",
        "09info3": "09info3(text=+ 8 FREESPINS, font=18pt mullerblack, fill=#ffe579)_text",
        "09info4": "09info3(text=+ RESPIN, font=18pt mullerblack, fill=#ffe579)_text",
        hP1TextTop1: "hP1TextTop1(text=- WINNING FEATURE SCATTER PAY COMBINATIONS, font=15pt mullerblack, fill=#ffdb3a)_text",
        hP1TextTop2: "hP1TextTop2(text=PAY IN ANY POSITION ON ANY REELS., font=15pt mullerblack, fill=#ffdb3a)_text",
        hP1TextTop3: "hP1TextTop3(text=- ALL SCATTER PAY MONETARY AWARDS HAVE, font=15pt mullerblack, fill=#ffdb3a)_text",
        hP1TextTop4: "hP1TextTop4(text=ALREADY BEEN MULTIPLIED BY THE TOTAL LINE BET., font=15pt mullerblack, fill=#ffdb3a)_text",
        hP1TextTop5: "hP1TextTop5(text=- SCATTER PAYS ARE ADDED TO PAYLINE WINS., font=15pt mullerblack, fill=#ffdb3a)_text",
        hP1TextTop6: "hP1TextTop6(text=- ONLY HIGHEST WINNER PAID PER WINNING, font=15pt mullerblack, fill=#ffdb3a)_text",
        hP1TextTop7: "hP1TextTop7(text=COMBINATION., font=15pt mullerblack, fill=#ffdb3a)_text",
        hP1TextTop8: "hP1TextTop8(text=- SCATTER ON ANY 2 REELS INITIATE RESPIN ON THE, font=15pt mullerblack, fill=#ffdb3a)_text",
        hP1TextTop9: "hP1TextTop9(text=3 REELS, font=15pt mullerblack, fill=#ffdb3a)_text",
        hP1TextBottom1: "hP1TextBottom1(text=- WILD IS WILD FOR ALL SYMBOLS EXCEPT, font=15pt mullerblack, fill=#ffdb3a)_text",
        hP1TextBottom2: "hP1TextBottom2(text=FEATURE., font=15pt mullerblack, fill=#ffdb3a)_text",
        hP1TextBottom3: "hP1TextBottom3(text=- PAYTABLE REFLECTS CURRENT BET, font=15pt mullerblack, fill=#ffdb3a)_text",
        hP1TextBottom4: "hP1TextBottom4(text=CONFIGURATION., font=15pt mullerblack, fill=#ffdb3a)_text",
        hP1TextBottom5: "hP1TextBottom5(text=- ONLY HIGHEST WINNER PAID PER WINNING, font=15pt mullerblack, fill=#ffdb3a)_text",
        hP1TextBottom6: "hP1TextBottom6(text=COMBINATION., font=15pt mullerblack, fill=#ffdb3a)_text",
        hP1TextBottom7: "hP1TextBottom7(text=- LINE PAYS MUST OCCUR ON ADJACENT, font=15pt mullerblack, fill=#ffdb3a)_text",
        hP1TextBottom8: "hP1TextBottom8(text=REELS, BEGINNING WITH THE LEFTMOST REEL., font=15pt mullerblack, fill=#ffdb3a)_text",
        hP1Title: "hP1Title(text=BONUS GAME, font=32pt mullerblack, fill=#e57700, anchorX=0.5, anchorY=0.5, align=center, stroke=#ffd782, strokeThickness=4)_text",
        hP1Text0: "hP1Text0(text=- 3 OR MORE SCATTERED FEATURE TRIGGER THE FEATURE:, font=15pt mullerblack, fill=#ffdb3a)_text",
        hP1Text1: "hP1Text1(text=8 FREE SPINS ARE INITIALLY AWARDED., font=15pt mullerblack, fill=#ffdb3a)_text",
        hP1Text2: "hP1Text2(text=- WHILE IN THE FEATURE, 3 OF MORE SCATTERED FEATURE, font=15pt mullerblack, fill=#ffdb3a)_text",
        hP1Text3: "hP1Text3(text=AWARD AN ADDITIONAL 8 FREE SPINS TO THE AMOUNT OF, font=15pt mullerblack, fill=#ffdb3a)_text",
        hP1Text4: "hP1Text4(text=SPINS REMAINING., font=15pt mullerblack, fill=#ffdb3a)_text",
        hP1Text5: "hP1Text5(text=- THE WILD REEL IS WILD FOR ALL SYMBOLS EXCEPT THE, font=15pt mullerblack, fill=#ffdb3a)_text",
        hP1Text6: "hP1Text6(text=FEATURE., font=15pt mullerblack, fill=#ffdb3a)_text",
        hP1Text7: "hP1Text7(text=- DURING FREE SPINS, THE BET PER LINE AND THE ACTIVE, font=15pt mullerblack, fill=#ffdb3a)_text",
        hP1Text8: "hP1Text8(text=PAYLINES REMAIN THE SAME AS THE SPIN THAT TRIGGERED, font=15pt mullerblack, fill=#ffdb3a)_text",
        hP1Text9: "hP1Text9(text=THE FEATURE., font=15pt mullerblack, fill=#ffdb3a)_text",
        hP1Text10: "hP1Text10(text=- DURING EACH SPIN, 1 REEL IS WILD., font=15pt mullerblack, fill=#ffdb3a)_text",
        hP1Text11: "hP1Text11(text=- THE WILD REEL RANDOMLY APPEARS ON 1 OF THE 5, font=15pt mullerblack, fill=#ffdb3a)_text",
        hP1Text12: "hP1Text12(text=REELS AT THE BEGINNING OF EACH SPIN., font=15pt mullerblack, fill=#ffdb3a)_text",
        hP3Text1: "hP3Text1(text=THE FOLLOWING LINES CAN OCCUR ON ANY OR ALL OF THESE LINES. WINS ON, font=14pt mullerblack, fill=#ffdb3a, anchorX=0.5, anchorY=0.8, align=center)_text",
        hP3Text2: "hP3Text2(text=MULTIPLE PAYLINES ARE ADDED TOGETHER. TOTAL LINE BET MUST BE DIVIDED, font=14pt mullerblack, fill=#ffdb3a, anchorX=0.5, anchorY=0.8, align=center)_text",
        hP3Text3: "hP3Text3(text=AQUALLY BETWEEN EACH ACTIVE PAYLINE, THEREFORE, ALL TOTAL BET AMOUNTS, font=14pt mullerblack, fill=#ffdb3a, anchorX=0.5, anchorY=0.8, align=center)_text",
        hP3Text4: "hP3Text4(text=ARE NOT AVAILABLE. THE TOTAL BET IS THE NUMBER OF LINES MULTIPLIED BY THE, font=14pt mullerblack, fill=#ffdb3a, anchorX=0.5, anchorY=0.8, align=center)_text",
        hP3Text5: "hP3Text5(text=CASH BET ON EACH LINE PLUS THE FEATURE BET.\nTHE THEORETICAL AVERAGE RETURN TO PLAYER (RTP) IS 93.68%, font=14pt mullerblack, fill=#ffdb3a, anchorX=0.5, anchorY=0.4, align=center)_text",
        lineName1: "lineName1(text=Line 1, font=17pt mullerblack, fill=#ffdb3a, anchorX=0.5, anchorY=0.5, align=center, stroke=#770000, strokeThickness=2)_text",
        lineName2: "lineName2(text=Line 2, font=17pt mullerblack, fill=#ffdb3a, anchorX=0.5, anchorY=0.5, align=center, stroke=#770000, strokeThickness=2)_text",
        lineName3: "lineName3(text=Line 3, font=17pt mullerblack, fill=#ffdb3a, anchorX=0.5, anchorY=0.5, align=center, stroke=#770000, strokeThickness=2)_text",
        lineName4: "lineName4(text=Line 4, font=17pt mullerblack, fill=#ffdb3a, anchorX=0.5, anchorY=0.5, align=center, stroke=#770000, strokeThickness=2)_text",
        lineName5: "lineName5(text=Line 5, font=17pt mullerblack, fill=#ffdb3a, anchorX=0.5, anchorY=0.5, align=center, stroke=#770000, strokeThickness=2)_text",
        lineName6: "lineName6(text=Line 6, font=17pt mullerblack, fill=#ffdb3a, anchorX=0.5, anchorY=0.5, align=center, stroke=#770000, strokeThickness=2)_text",
        lineName7: "lineName7(text=Line 7, font=17pt mullerblack, fill=#ffdb3a, anchorX=0.5, anchorY=0.5, align=center, stroke=#770000, strokeThickness=2)_text",
        lineName8: "lineName8(text=Line 8, font=17pt mullerblack, fill=#ffdb3a, anchorX=0.5, anchorY=0.5, align=center, stroke=#770000, strokeThickness=2)_text",
        lineName9: "lineName9(text=Line 9, font=17pt mullerblack, fill=#ffdb3a, anchorX=0.5, anchorY=0.5, align=center, stroke=#770000, strokeThickness=2)_text",
        lineName10: "lineName10(text=Line 10, font=17pt mullerblack, fill=#ffdb3a, anchorX=0.5, anchorY=0.5, align=center, stroke=#770000, strokeThickness=2)_text",
        lineName11: "lineName11(text=Line 11, font=17pt mullerblack, fill=#ffdb3a, anchorX=0.5, anchorY=0.5, align=center, stroke=#770000, strokeThickness=2)_text",
        lineName12: "lineName12(text=Line 12, font=17pt mullerblack, fill=#ffdb3a, anchorX=0.5, anchorY=0.5, align=center, stroke=#770000, strokeThickness=2)_text",
        lineName13: "lineName13(text=Line 13, font=17pt mullerblack, fill=#ffdb3a, anchorX=0.5, anchorY=0.5, align=center, stroke=#770000, strokeThickness=2)_text",
        lineName14: "lineName14(text=Line 14, font=17pt mullerblack, fill=#ffdb3a, anchorX=0.5, anchorY=0.5, align=center, stroke=#770000, strokeThickness=2)_text",
        lineName15: "lineName15(text=Line 15, font=17pt mullerblack, fill=#ffdb3a, anchorX=0.5, anchorY=0.5, align=center, stroke=#770000, strokeThickness=2)_text",
        lineName16: "lineName16(text=Line 16, font=17pt mullerblack, fill=#ffdb3a, anchorX=0.5, anchorY=0.5, align=center, stroke=#770000, strokeThickness=2)_text",
        lineName17: "lineName17(text=Line 17, font=17pt mullerblack, fill=#ffdb3a, anchorX=0.5, anchorY=0.5, align=center, stroke=#770000, strokeThickness=2)_text",
        lineName18: "lineName18(text=Line 18, font=17pt mullerblack, fill=#ffdb3a, anchorX=0.5, anchorY=0.5, align=center, stroke=#770000, strokeThickness=2)_text",
        lineName19: "lineName19(text=Line 19, font=17pt mullerblack, fill=#ffdb3a, anchorX=0.5, anchorY=0.5, align=center, stroke=#770000, strokeThickness=2)_text",
        lineName20: "lineName20(text=Line 20, font=17pt mullerblack, fill=#ffdb3a, anchorX=0.5, anchorY=0.5, align=center, stroke=#770000, strokeThickness=2)_text",
        pickPopupWin: "pickPopupWin(text=X 3, font=36pt mullerblack, fill=#ffce25, anchorX=0.1, anchorY=0.1)_text",
        pickPopupWinCounter: "pickPopupWinCounter(text=0, font=36pt mullerblack, fill=#ffce25, anchorX=0.1, anchorY=0.1)_text",
        pickPopupWinCounter2: "pickPopupWinCounter2(text=0, font=36pt mullerblack, fill=#ffce25, anchorX=0.1, anchorY=0.1)_text",
        fPWin: "fPWin(text=100, assetKey=popupFont, anchorX=0.5, anchorY=0.7, size=173)_bitmapText",
        sPFSWin: "sPFSWin(text=100, assetKey=popupFont, anchorX=0.5, anchorY=0.5, size=173)_bitmapText",
        pIText1: "pIText1(text=   5 FREE SPIN, font=22pt helveticablack, fill=#ffed38, anchorX=0.4, anchorY=0.1, align=center)_text",
        pIText2: "pIText2(text=   10 FREE SPIN, font=22pt helveticablack, fill=#ffed38, anchorX=0.4, anchorY=0.1, align=center)_text",
        pIText3: "pIText3(text=   30 FREE SPIN, font=22pt helveticablack, fill=#ffed38, anchorX=0.4, anchorY=0.1, align=center)_text",
        openPicksAmount: "openPicksAmount(text=0, font=28pt helveticablack, fill=#ffffff, anchorX=0.5, anchorY=0.45, align=center)_text",
        pickemTotalBet: "pickemTotalBet(text=0, font=28pt helveticablack, fill=#ffffff, anchorX=0.5, anchorY=0.45, align=center)_text",
        freeSpinsAmount: "freeSpinsAmount(text=0, font=28pt helveticablack, fill=#ffffff, anchorX=0.5, anchorY=0.45, align=center)_text",
        pickemBonusWon: "pickemBonusWon(text=0, font=28pt helveticablack, fill=#ffffff, anchorX=0.5, anchorY=0.45, align=center)_text",
        openPicksAmountName: "openPicksAmountName(text=PICKS LEFT, font=12pt helveticablack, fill=#ffed38, anchorX=0.5, anchorY=0.1, align=center)_text",
        pickemTotalBetName: "pickemTotalBetName(text=TOTAL BET, font=12pt helveticablack, fill=#ffed38, anchorX=0.5, anchorY=0.1, align=center)_text",
        freeSpinsAmountName: "freeSpinsAmountName(text=FREE SPINS, font=12pt helveticablack, fill=#ffed38, anchorX=0.5, anchorY=0.1, align=center)_text",
        pickemBonusWonName: "pickemBonusWonName(text=BONUS WON, font=12pt helveticablack, fill=#ffed38, anchorX=0.5, anchorY=0.1, align=center)_text",
        gambleToWinText: "gambleToWinText(text=Gamble to win, class=gambleText, font=20pt verdanabold, anchorX=0.5, anchorY=0.5, fill=#ffffff, stroke=#000000, strokeThickness=2)_text",
        gambleToWin: "gambleToWin(class=gambleText, font=24pt verdanabold, anchorX=0.5, anchorY=0.5, fill=#feff00, stroke=#000000, strokeThickness=2)_text",
        gambleToWinCredits: "gambleToWinCredits(class=gambleText, font=24pt verdanabold, anchorX=0.5, anchorY=0.5, fill=#feff00, stroke=#000000, strokeThickness=2)_text",
        gambleAmountText: "gambleAmountText(text=Gamble amount, class=gambleText, font=20pt verdanabold, anchorX=0.5, anchorY=0.5, fill=#ffffff, stroke=#000000, strokeThickness=2)_text",
        gambleAmount: "gambleAmount(class=gambleText, font=24pt verdanabold, anchorX=0.5, anchorY=0.5, fill=#feff00, stroke=#000000, strokeThickness=2)_text",
        gambleAmountCredits: "gambleAmountCredits(class=gambleText, font=24pt verdanabold, anchorX=0.5, anchorY=0.5, fill=#feff00, stroke=#000000, strokeThickness=2)_text",
        textPreviousCard: "textPreviousCard(text=Previous cards, class=gambleText, font=22pt verdanabold, anchorX=0.5, anchorY=0.5, fill=#ffffff, stroke=#000000, strokeThickness=2)_text"
    })
});
nge.App[nge.appNS].Tpl.States = {};
nge.App[nge.appNS].Tpl.States.Play = function() {
    var d = nge.appPath + "img/";
    return {
        assets: {
            name: "assets",
            contents: [{
                    key: "bgAreaFreeSpins_asset",
                    fullPath: d + "playarea/bgAreaFreeSpins_asset.png"
                }, {
                    key: "playareaBg",
                    fullPath: d + "playarea/playareaBg.png"
                }, {
                    key: "gnRouteframe_asset",
                    fullPath: d + "playarea/gnRouteframe_asset.png"
                }, {
                    key: "reelsBorderShine",
                    fullPath: d + "playarea/reelsBorderShine.png"
                }, {
                    key: "reelsTopFire",
                    fullPath: d + "playarea/reelsTopFire.png"
                }, {
                    key: "reelsBg",
                    fullPath: d + "playarea/reelsBg.png"
                }, {
                    key: "frame2",
                    fullPath: d + "playarea/frame2.png"
                }, {
                    key: "frame1",
                    fullPath: d + "playarea/frame1.png"
                }, {
                    key: "reelsBorderFrame",
                    fullPath: d + "playarea/reelsBorderFrame.png"
                }, {
                    key: "winLinesCount(assetKey=winlineFont, anchorX=0.5, anchorY=0.5, size=200)_bitmapText",
                    fullPath: d + "playarea/winLinesCount(assetKey=winlineFont, anchorX=0.5, anchorY=0.5, size=200)_bitmapText.png"
                }, {
                    key: "playareaLogo",
                    fullPath: d + "playarea/playareaLogo.png"
                }, {
                    key: "popupShadow(scaleY=1080, scaleX=1920, class=cover)_image",
                    fullPath: d + "playarea/popupShadow(scaleY=1080, scaleX=1920, class=cover)_image.png"
                },
                {
                    key: "finalPopupFreeSpinBg",
                    fullPath: d + "playarea/finalPopupFreeSpinBg.png"
                }, {
                    key: "fPWin",
                    fullPath: d + "playarea/fPWin.png"
                }, {
                    key: "fPTitleText",
                    fullPath: d + "playarea/fPTitleText.png"
                }, {
                    key: "startPopupFreeSpinBg",
                    fullPath: d + "playarea/startPopupFreeSpinBg.png"
                }, {
                    key: "txtAwarded",
                    fullPath: d + "playarea/txtAwarded.png"
                }, {
                    key: "txtFreeSpin",
                    fullPath: d + "playarea/txtFreeSpin.png"
                }, {
                    key: "sPFSWin",
                    fullPath: d + "playarea/sPFSWin.png"
                }, {
                    key: "pickemShineBg",
                    fullPath: d + "playarea/pickemShineBg.png"
                }, {
                    key: "bnCellBg",
                    fullPath: d +
                        "playarea/bnCellBg.png"
                }, {
                    key: "bnCoin24(anchorX=0.5, anchorY=0.5)_image",
                    fullPath: d + "playarea/bnCoin24(anchorX=0.5, anchorY=0.5)_image.png"
                }, {
                    key: "bnCoin23(anchorX=0.5, anchorY=0.5)_image",
                    fullPath: d + "playarea/bnCoin23(anchorX=0.5, anchorY=0.5)_image.png"
                }, {
                    key: "bnCoin22(anchorX=0.5, anchorY=0.5)_image",
                    fullPath: d + "playarea/bnCoin22(anchorX=0.5, anchorY=0.5)_image.png"
                }, {
                    key: "bnCoin21(anchorX=0.5, anchorY=0.5)_image",
                    fullPath: d + "playarea/bnCoin21(anchorX=0.5, anchorY=0.5)_image.png"
                }, {
                    key: "bnCoin20(anchorX=0.5, anchorY=0.5)_image",
                    fullPath: d + "playarea/bnCoin20(anchorX=0.5, anchorY=0.5)_image.png"
                }, {
                    key: "bnCoin19(anchorX=0.5, anchorY=0.5)_image",
                    fullPath: d + "playarea/bnCoin19(anchorX=0.5, anchorY=0.5)_image.png"
                }, {
                    key: "bnCoin18(anchorX=0.5, anchorY=0.5)_image",
                    fullPath: d + "playarea/bnCoin18(anchorX=0.5, anchorY=0.5)_image.png"
                }, {
                    key: "bnCoin17(anchorX=0.5, anchorY=0.5)_image",
                    fullPath: d + "playarea/bnCoin17(anchorX=0.5, anchorY=0.5)_image.png"
                }, {
                    key: "bnCoin16(anchorX=0.5, anchorY=0.5)_image",
                    fullPath: d + "playarea/bnCoin16(anchorX=0.5, anchorY=0.5)_image.png"
                },
                {
                    key: "bnCoin15(anchorX=0.5, anchorY=0.5)_image",
                    fullPath: d + "playarea/bnCoin15(anchorX=0.5, anchorY=0.5)_image.png"
                }, {
                    key: "bnCoin14(anchorX=0.5, anchorY=0.5)_image",
                    fullPath: d + "playarea/bnCoin14(anchorX=0.5, anchorY=0.5)_image.png"
                }, {
                    key: "bnCoin13(anchorX=0.5, anchorY=0.5)_image",
                    fullPath: d + "playarea/bnCoin13(anchorX=0.5, anchorY=0.5)_image.png"
                }, {
                    key: "bnCoin12(anchorX=0.5, anchorY=0.5)_image",
                    fullPath: d + "playarea/bnCoin12(anchorX=0.5, anchorY=0.5)_image.png"
                }, {
                    key: "bnCoin11(anchorX=0.5, anchorY=0.5)_image",
                    fullPath: d + "playarea/bnCoin11(anchorX=0.5, anchorY=0.5)_image.png"
                }, {
                    key: "bnCoin10(anchorX=0.5, anchorY=0.5)_image",
                    fullPath: d + "playarea/bnCoin10(anchorX=0.5, anchorY=0.5)_image.png"
                }, {
                    key: "bnCoin9(anchorX=0.5, anchorY=0.5)_image",
                    fullPath: d + "playarea/bnCoin9(anchorX=0.5, anchorY=0.5)_image.png"
                }, {
                    key: "bnCoin8(anchorX=0.5, anchorY=0.5)_image",
                    fullPath: d + "playarea/bnCoin8(anchorX=0.5, anchorY=0.5)_image.png"
                }, {
                    key: "bnCoin7(anchorX=0.5, anchorY=0.5)_image",
                    fullPath: d + "playarea/bnCoin7(anchorX=0.5, anchorY=0.5)_image.png"
                },
                {
                    key: "bnCoin6(anchorX=0.5, anchorY=0.5)_image",
                    fullPath: d + "playarea/bnCoin6(anchorX=0.5, anchorY=0.5)_image.png"
                }, {
                    key: "bnCoin5(anchorX=0.5, anchorY=0.5)_image",
                    fullPath: d + "playarea/bnCoin5(anchorX=0.5, anchorY=0.5)_image.png"
                }, {
                    key: "bnCoin4(anchorX=0.5, anchorY=0.5)_image",
                    fullPath: d + "playarea/bnCoin4(anchorX=0.5, anchorY=0.5)_image.png"
                }, {
                    key: "bnCoin3(anchorX=0.5, anchorY=0.5)_image",
                    fullPath: d + "playarea/bnCoin3(anchorX=0.5, anchorY=0.5)_image.png"
                }, {
                    key: "bnCoin2(anchorX=0.5, anchorY=0.5)_image",
                    fullPath: d + "playarea/bnCoin2(anchorX=0.5, anchorY=0.5)_image.png"
                }, {
                    key: "bnCoin1(anchorX=0.5, anchorY=0.5)_image",
                    fullPath: d + "playarea/bnCoin1(anchorX=0.5, anchorY=0.5)_image.png"
                }, {
                    key: "bnCoin0(anchorX=0.5, anchorY=0.5)_image",
                    fullPath: d + "playarea/bnCoin0(anchorX=0.5, anchorY=0.5)_image.png"
                }, {
                    key: "bnCell00(anchorX=0.5, anchorY=0.5)_button",
                    fullPath: d + "playarea/bnCell00(anchorX=0.5, anchorY=0.5)_button.png"
                }, {
                    key: "bnCell01(anchorX=0.5, anchorY=0.5)_button",
                    fullPath: d + "playarea/bnCell01(anchorX=0.5, anchorY=0.5)_button.png"
                },
                {
                    key: "bnCell02(anchorX=0.5, anchorY=0.5)_button",
                    fullPath: d + "playarea/bnCell02(anchorX=0.5, anchorY=0.5)_button.png"
                }, {
                    key: "bnCell03(anchorX=0.5, anchorY=0.5)_button",
                    fullPath: d + "playarea/bnCell03(anchorX=0.5, anchorY=0.5)_button.png"
                }, {
                    key: "bnCell04(anchorX=0.5, anchorY=0.5)_button",
                    fullPath: d + "playarea/bnCell04(anchorX=0.5, anchorY=0.5)_button.png"
                }, {
                    key: "bnCell05(anchorX=0.5, anchorY=0.5)_button",
                    fullPath: d + "playarea/bnCell05(anchorX=0.5, anchorY=0.5)_button.png"
                }, {
                    key: "bnCell06(anchorX=0.5, anchorY=0.5)_button",
                    fullPath: d + "playarea/bnCell06(anchorX=0.5, anchorY=0.5)_button.png"
                }, {
                    key: "bnCell07(anchorX=0.5, anchorY=0.5)_button",
                    fullPath: d + "playarea/bnCell07(anchorX=0.5, anchorY=0.5)_button.png"
                }, {
                    key: "bnCell08(anchorX=0.5, anchorY=0.5)_button",
                    fullPath: d + "playarea/bnCell08(anchorX=0.5, anchorY=0.5)_button.png"
                }, {
                    key: "bnCell09(anchorX=0.5, anchorY=0.5)_button",
                    fullPath: d + "playarea/bnCell09(anchorX=0.5, anchorY=0.5)_button.png"
                }, {
                    key: "bnCell10(anchorX=0.5, anchorY=0.5)_button",
                    fullPath: d + "playarea/bnCell10(anchorX=0.5, anchorY=0.5)_button.png"
                },
                {
                    key: "bnCell11(anchorX=0.5, anchorY=0.5)_button",
                    fullPath: d + "playarea/bnCell11(anchorX=0.5, anchorY=0.5)_button.png"
                }, {
                    key: "bnCell12(anchorX=0.5, anchorY=0.5)_button",
                    fullPath: d + "playarea/bnCell12(anchorX=0.5, anchorY=0.5)_button.png"
                }, {
                    key: "bnCell13(anchorX=0.5, anchorY=0.5)_button",
                    fullPath: d + "playarea/bnCell13(anchorX=0.5, anchorY=0.5)_button.png"
                }, {
                    key: "bnCell14(anchorX=0.5, anchorY=0.5)_button",
                    fullPath: d + "playarea/bnCell14(anchorX=0.5, anchorY=0.5)_button.png"
                }, {
                    key: "bnCell15(anchorX=0.5, anchorY=0.5)_button",
                    fullPath: d + "playarea/bnCell15(anchorX=0.5, anchorY=0.5)_button.png"
                }, {
                    key: "bnCell16(anchorX=0.5, anchorY=0.5)_button",
                    fullPath: d + "playarea/bnCell16(anchorX=0.5, anchorY=0.5)_button.png"
                }, {
                    key: "bnCell17(anchorX=0.5, anchorY=0.5)_button",
                    fullPath: d + "playarea/bnCell17(anchorX=0.5, anchorY=0.5)_button.png"
                }, {
                    key: "bnCell18(anchorX=0.5, anchorY=0.5)_button",
                    fullPath: d + "playarea/bnCell18(anchorX=0.5, anchorY=0.5)_button.png"
                }, {
                    key: "bnCell19(anchorX=0.5, anchorY=0.5)_button",
                    fullPath: d + "playarea/bnCell19(anchorX=0.5, anchorY=0.5)_button.png"
                },
                {
                    key: "bnCell20(anchorX=0.5, anchorY=0.5)_button",
                    fullPath: d + "playarea/bnCell20(anchorX=0.5, anchorY=0.5)_button.png"
                }, {
                    key: "bnCell21(anchorX=0.5, anchorY=0.5)_button",
                    fullPath: d + "playarea/bnCell21(anchorX=0.5, anchorY=0.5)_button.png"
                }, {
                    key: "bnCell22(anchorX=0.5, anchorY=0.5)_button",
                    fullPath: d + "playarea/bnCell22(anchorX=0.5, anchorY=0.5)_button.png"
                }, {
                    key: "bnCell23(anchorX=0.5, anchorY=0.5)_button",
                    fullPath: d + "playarea/bnCell23(anchorX=0.5, anchorY=0.5)_button.png"
                }, {
                    key: "bnCell24(anchorX=0.5, anchorY=0.5)_button",
                    fullPath: d + "playarea/bnCell24(anchorX=0.5, anchorY=0.5)_button.png"
                }, {
                    key: "bnFreeSpinsName1_asset",
                    fullPath: d + "playarea/bnFreeSpinsName1_asset.png"
                }, {
                    key: "bnFreeSpinsName2_asset",
                    fullPath: d + "playarea/bnFreeSpinsName2_asset.png"
                }, {
                    key: "bnFreeSpinsName3_asset",
                    fullPath: d + "playarea/bnFreeSpinsName3_asset.png"
                }, {
                    key: "pickemCounterBg",
                    fullPath: d + "playarea/pickemCounterBg.png"
                }, {
                    key: "pickemBonusWonName",
                    fullPath: d + "playarea/pickemBonusWonName.png"
                }, {
                    key: "freeSpinsAmountName",
                    fullPath: d + "playarea/freeSpinsAmountName.png"
                },
                {
                    key: "pickemTotalBetName",
                    fullPath: d + "playarea/pickemTotalBetName.png"
                }, {
                    key: "openPicksAmountName",
                    fullPath: d + "playarea/openPicksAmountName.png"
                }, {
                    key: "pickemBonusWon",
                    fullPath: d + "playarea/pickemBonusWon.png"
                }, {
                    key: "freeSpinsAmount",
                    fullPath: d + "playarea/freeSpinsAmount.png"
                }, {
                    key: "pickemTotalBet",
                    fullPath: d + "playarea/pickemTotalBet.png"
                }, {
                    key: "openPicksAmount",
                    fullPath: d + "playarea/openPicksAmount.png"
                }, {
                    key: "pickemInfoBg",
                    fullPath: d + "playarea/pickemInfoBg.png"
                }, {
                    key: "pICoins3",
                    fullPath: d + "playarea/pICoins3.png"
                },
                {
                    key: "pICoins1",
                    fullPath: d + "playarea/pICoins1.png"
                }, {
                    key: "pICoin1",
                    fullPath: d + "playarea/pICoin1.png"
                }, {
                    key: "pIText3",
                    fullPath: d + "playarea/pIText3.png"
                }, {
                    key: "pIText2",
                    fullPath: d + "playarea/pIText2.png"
                }, {
                    key: "pIText1",
                    fullPath: d + "playarea/pIText1.png"
                }, {
                    key: "pIImage3",
                    fullPath: d + "playarea/pIImage3.png"
                }, {
                    key: "pIImage2",
                    fullPath: d + "playarea/pIImage2.png"
                }, {
                    key: "pIImage1",
                    fullPath: d + "playarea/pIImage1.png"
                }, {
                    key: "pickTitlesText",
                    fullPath: d + "playarea/pickTitlesText.png"
                }, {
                    key: "pickPopupBg",
                    fullPath: d +
                        "playarea/pickPopupBg.png"
                }, {
                    key: "pickPopupImage1",
                    fullPath: d + "playarea/pickPopupImage1.png"
                }, {
                    key: "pickPopupText5",
                    fullPath: d + "playarea/pickPopupText5.png"
                }, {
                    key: "pickPopupText4",
                    fullPath: d + "playarea/pickPopupText4.png"
                }, {
                    key: "pickPopupText3",
                    fullPath: d + "playarea/pickPopupText3.png"
                }, {
                    key: "pickPopupText2",
                    fullPath: d + "playarea/pickPopupText2.png"
                }, {
                    key: "pickPopupText1",
                    fullPath: d + "playarea/pickPopupText1.png"
                }, {
                    key: "pickPopupNumber5_asset",
                    fullPath: d + "playarea/pickPopupNumber5_asset.png"
                }, {
                    key: "pickPopupNumber4_asset",
                    fullPath: d + "playarea/pickPopupNumber4_asset.png"
                }, {
                    key: "pickPopupNumber3_asset",
                    fullPath: d + "playarea/pickPopupNumber3_asset.png"
                }, {
                    key: "pickPopupWinCounter",
                    fullPath: d + "playarea/pickPopupWinCounter.png"
                }, {
                    key: "pickPopupPlusSymbol",
                    fullPath: d + "playarea/pickPopupPlusSymbol.png"
                }, {
                    key: "pickPopupWin",
                    fullPath: d + "playarea/pickPopupWin.png"
                }, {
                    key: "invisibleButton(scaleY=1080, scaleX=1920, class=cover)_button",
                    fullPath: d + "playarea/invisibleButton(scaleY=1080, scaleX=1920, class=cover)_button.png"
                }, {
                    key: "ui_group",
                    fullPath: d + "playarea/ui_group.png"
                }, {
                    key: "jackpotPopup_group",
                    fullPath: d + "playarea/jackpotPopup_group.png"
                }
            ]
        },
        objects: {
            name: "objects",
            contents: [{
                    type: 0,
                    name: "jackpotPopup_group",
                    assetKey: "jackpotPopup_group",
                    x: "0",
                    y: "0",
                    alpha: "1"
                }, {
                    type: 1,
                    name: "jackpotGameContainer",
                    alpha: "1",
                    contents: []
                }, {
                    type: 1,
                    name: "playareaContainer",
                    alpha: "1",
                    contents: []
                }, {
                    type: 1,
                    name: "settingsSimpleContainer",
                    alpha: "1",
                    contents: []
                }, {
                    type: 1,
                    name: "fullscreenContainer",
                    alpha: "1",
                    contents: []
                }, {
                    type: 1,
                    name: "helpContainer",
                    alpha: "1",
                    contents: []
                }, {
                    type: 0,
                    name: "ui_group",
                    assetKey: "ui_group",
                    x: "0",
                    y: "0",
                    alpha: "1"
                }, {
                    type: 1,
                    name: "bigWinContainer",
                    alpha: "1",
                    contents: []
                }, {
                    type: 0,
                    name: "invisibleButton(scaleY=1080, scaleX=1920, class=cover)_button",
                    assetKey: "invisibleButton(scaleY=1080, scaleX=1920, class=cover)_button",
                    x: "0",
                    y: "0",
                    alpha: "1"
                }, {
                    type: 1,
                    name: "startPopupPickemContainer",
                    alpha: "1",
                    contents: [{
                            type: 0,
                            name: "pickPopupWin",
                            assetKey: "pickPopupWin",
                            x: "-68",
                            y: "100",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "pickPopupPlusSymbol",
                            assetKey: "pickPopupPlusSymbol",
                            x: "10",
                            y: "111",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "pickPopupWinCounter",
                            assetKey: "pickPopupWinCounter",
                            x: "50",
                            y: "100",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "pickPopupNumber3_asset",
                            assetKey: "pickPopupNumber3_asset",
                            x: "100",
                            y: "-199",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "pickPopupNumber4_asset",
                            assetKey: "pickPopupNumber4_asset",
                            x: "96",
                            y: "-199",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "pickPopupNumber5_asset",
                            assetKey: "pickPopupNumber5_asset",
                            x: "98",
                            y: "-199",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "pickPopupText1",
                            assetKey: "pickPopupText1",
                            x: "-314",
                            y: "-155",
                            alpha: "1"
                        },
                        {
                            type: 0,
                            name: "pickPopupText2",
                            assetKey: "pickPopupText2",
                            x: "-66",
                            y: "-155",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "pickPopupText3",
                            assetKey: "pickPopupText3",
                            x: "156",
                            y: "-155",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "pickPopupText4",
                            assetKey: "pickPopupText4",
                            x: "-188",
                            y: "-70",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "pickPopupText5",
                            assetKey: "pickPopupText5",
                            x: "88",
                            y: "-155",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "pickPopupImage1",
                            assetKey: "pickPopupImage1",
                            x: "-274",
                            y: "36",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "pickPopupBg",
                            assetKey: "pickPopupBg",
                            x: "-402",
                            y: "-240",
                            alpha: "1"
                        }
                    ]
                },
                {
                    type: 1,
                    name: "pickemContainer",
                    alpha: "1",
                    contents: [{
                            type: 0,
                            name: "pickTitlesText",
                            assetKey: "pickTitlesText",
                            x: "346",
                            y: "111",
                            alpha: "1"
                        }, {
                            type: 1,
                            name: "pickemInfoContainer",
                            alpha: "1",
                            contents: [{
                                type: 0,
                                name: "pIImage1",
                                assetKey: "pIImage1",
                                x: "1286",
                                y: "283",
                                alpha: "1"
                            }, {
                                type: 0,
                                name: "pIImage2",
                                assetKey: "pIImage2",
                                x: "1273",
                                y: "384",
                                alpha: "1"
                            }, {
                                type: 0,
                                name: "pIImage3",
                                assetKey: "pIImage3",
                                x: "1267",
                                y: "484",
                                alpha: "1"
                            }, {
                                type: 0,
                                name: "pIText1",
                                assetKey: "pIText1",
                                x: "1379",
                                y: "275",
                                alpha: "1"
                            }, {
                                type: 0,
                                name: "pIText2",
                                assetKey: "pIText2",
                                x: "1366",
                                y: "376",
                                alpha: "1"
                            }, {
                                type: 0,
                                name: "pIText3",
                                assetKey: "pIText3",
                                x: "1366",
                                y: "475",
                                alpha: "1"
                            }, {
                                type: 0,
                                name: "pICoin1",
                                assetKey: "pICoin1",
                                x: "1169",
                                y: "252",
                                alpha: "1"
                            }, {
                                type: 0,
                                name: "pICoins1",
                                assetKey: "pICoins1",
                                x: "1134",
                                y: "352",
                                alpha: "1"
                            }, {
                                type: 0,
                                name: "pICoins3",
                                assetKey: "pICoins3",
                                x: "1098",
                                y: "451",
                                alpha: "1"
                            }, {
                                type: 0,
                                name: "pickemInfoBg",
                                assetKey: "pickemInfoBg",
                                x: "1040",
                                y: "199",
                                alpha: "1"
                            }]
                        }, {
                            type: 1,
                            name: "pickemCounterContainer",
                            alpha: "1",
                            contents: [{
                                type: 0,
                                name: "openPicksAmount",
                                assetKey: "openPicksAmount",
                                x: "1174",
                                y: "673",
                                alpha: "1"
                            }, {
                                type: 0,
                                name: "pickemTotalBet",
                                assetKey: "pickemTotalBet",
                                x: "1385",
                                y: "673",
                                alpha: "1"
                            }, {
                                type: 0,
                                name: "freeSpinsAmount",
                                assetKey: "freeSpinsAmount",
                                x: "1174",
                                y: "752",
                                alpha: "1"
                            }, {
                                type: 0,
                                name: "pickemBonusWon",
                                assetKey: "pickemBonusWon",
                                x: "1385",
                                y: "752",
                                alpha: "1"
                            }, {
                                type: 0,
                                name: "openPicksAmountName",
                                assetKey: "openPicksAmountName",
                                x: "1174",
                                y: "703",
                                alpha: "1"
                            }, {
                                type: 0,
                                name: "pickemTotalBetName",
                                assetKey: "pickemTotalBetName",
                                x: "1385",
                                y: "703",
                                alpha: "1"
                            }, {
                                type: 0,
                                name: "freeSpinsAmountName",
                                assetKey: "freeSpinsAmountName",
                                x: "1174",
                                y: "782",
                                alpha: "1"
                            }, {
                                type: 0,
                                name: "pickemBonusWonName",
                                assetKey: "pickemBonusWonName",
                                x: "1385",
                                y: "782",
                                alpha: "1"
                            }, {
                                type: 0,
                                name: "pickemCounterBg",
                                assetKey: "pickemCounterBg",
                                x: "1040",
                                y: "583",
                                alpha: "1"
                            }]
                        }, {
                            type: 1,
                            name: "bnCellContainer",
                            alpha: "1",
                            contents: [{
                                type: 1,
                                name: "bnCellContainer",
                                alpha: "1",
                                contents: [{
                                    type: 0,
                                    name: "bnFreeSpinsName3_asset",
                                    assetKey: "bnFreeSpinsName3_asset",
                                    x: "920",
                                    y: "490",
                                    alpha: "1"
                                }, {
                                    type: 0,
                                    name: "bnFreeSpinsName2_asset",
                                    assetKey: "bnFreeSpinsName2_asset",
                                    x: "920",
                                    y: "490",
                                    alpha: "1"
                                }, {
                                    type: 0,
                                    name: "bnFreeSpinsName1_asset",
                                    assetKey: "bnFreeSpinsName1_asset",
                                    x: "920",
                                    y: "490",
                                    alpha: "1"
                                }, {
                                    type: 0,
                                    name: "bnCell24(anchorX=0.5, anchorY=0.5)_button",
                                    assetKey: "bnCell24(anchorX=0.5, anchorY=0.5)_button",
                                    x: "921",
                                    y: "773",
                                    alpha: "1"
                                }, {
                                    type: 0,
                                    name: "bnCell23(anchorX=0.5, anchorY=0.5)_button",
                                    assetKey: "bnCell23(anchorX=0.5, anchorY=0.5)_button",
                                    x: "798",
                                    y: "773",
                                    alpha: "1"
                                }, {
                                    type: 0,
                                    name: "bnCell22(anchorX=0.5, anchorY=0.5)_button",
                                    assetKey: "bnCell22(anchorX=0.5, anchorY=0.5)_button",
                                    x: "675",
                                    y: "773",
                                    alpha: "1"
                                }, {
                                    type: 0,
                                    name: "bnCell21(anchorX=0.5, anchorY=0.5)_button",
                                    assetKey: "bnCell21(anchorX=0.5, anchorY=0.5)_button",
                                    x: "552",
                                    y: "773",
                                    alpha: "1"
                                }, {
                                    type: 0,
                                    name: "bnCell20(anchorX=0.5, anchorY=0.5)_button",
                                    assetKey: "bnCell20(anchorX=0.5, anchorY=0.5)_button",
                                    x: "429",
                                    y: "773",
                                    alpha: "1"
                                }, {
                                    type: 0,
                                    name: "bnCell19(anchorX=0.5, anchorY=0.5)_button",
                                    assetKey: "bnCell19(anchorX=0.5, anchorY=0.5)_button",
                                    x: "921",
                                    y: "650",
                                    alpha: "1"
                                }, {
                                    type: 0,
                                    name: "bnCell18(anchorX=0.5, anchorY=0.5)_button",
                                    assetKey: "bnCell18(anchorX=0.5, anchorY=0.5)_button",
                                    x: "798",
                                    y: "650",
                                    alpha: "1"
                                }, {
                                    type: 0,
                                    name: "bnCell17(anchorX=0.5, anchorY=0.5)_button",
                                    assetKey: "bnCell17(anchorX=0.5, anchorY=0.5)_button",
                                    x: "675",
                                    y: "650",
                                    alpha: "1"
                                }, {
                                    type: 0,
                                    name: "bnCell16(anchorX=0.5, anchorY=0.5)_button",
                                    assetKey: "bnCell16(anchorX=0.5, anchorY=0.5)_button",
                                    x: "552",
                                    y: "650",
                                    alpha: "1"
                                }, {
                                    type: 0,
                                    name: "bnCell15(anchorX=0.5, anchorY=0.5)_button",
                                    assetKey: "bnCell15(anchorX=0.5, anchorY=0.5)_button",
                                    x: "429",
                                    y: "650",
                                    alpha: "1"
                                }, {
                                    type: 0,
                                    name: "bnCell14(anchorX=0.5, anchorY=0.5)_button",
                                    assetKey: "bnCell14(anchorX=0.5, anchorY=0.5)_button",
                                    x: "921",
                                    y: "527",
                                    alpha: "1"
                                }, {
                                    type: 0,
                                    name: "bnCell13(anchorX=0.5, anchorY=0.5)_button",
                                    assetKey: "bnCell13(anchorX=0.5, anchorY=0.5)_button",
                                    x: "798",
                                    y: "527",
                                    alpha: "1"
                                }, {
                                    type: 0,
                                    name: "bnCell12(anchorX=0.5, anchorY=0.5)_button",
                                    assetKey: "bnCell12(anchorX=0.5, anchorY=0.5)_button",
                                    x: "675",
                                    y: "527",
                                    alpha: "1"
                                }, {
                                    type: 0,
                                    name: "bnCell11(anchorX=0.5, anchorY=0.5)_button",
                                    assetKey: "bnCell11(anchorX=0.5, anchorY=0.5)_button",
                                    x: "552",
                                    y: "527",
                                    alpha: "1"
                                }, {
                                    type: 0,
                                    name: "bnCell10(anchorX=0.5, anchorY=0.5)_button",
                                    assetKey: "bnCell10(anchorX=0.5, anchorY=0.5)_button",
                                    x: "429",
                                    y: "527",
                                    alpha: "1"
                                }, {
                                    type: 0,
                                    name: "bnCell09(anchorX=0.5, anchorY=0.5)_button",
                                    assetKey: "bnCell09(anchorX=0.5, anchorY=0.5)_button",
                                    x: "921",
                                    y: "404",
                                    alpha: "1"
                                }, {
                                    type: 0,
                                    name: "bnCell08(anchorX=0.5, anchorY=0.5)_button",
                                    assetKey: "bnCell08(anchorX=0.5, anchorY=0.5)_button",
                                    x: "798",
                                    y: "404",
                                    alpha: "1"
                                }, {
                                    type: 0,
                                    name: "bnCell07(anchorX=0.5, anchorY=0.5)_button",
                                    assetKey: "bnCell07(anchorX=0.5, anchorY=0.5)_button",
                                    x: "675",
                                    y: "404",
                                    alpha: "1"
                                }, {
                                    type: 0,
                                    name: "bnCell06(anchorX=0.5, anchorY=0.5)_button",
                                    assetKey: "bnCell06(anchorX=0.5, anchorY=0.5)_button",
                                    x: "552",
                                    y: "404",
                                    alpha: "1"
                                }, {
                                    type: 0,
                                    name: "bnCell05(anchorX=0.5, anchorY=0.5)_button",
                                    assetKey: "bnCell05(anchorX=0.5, anchorY=0.5)_button",
                                    x: "429",
                                    y: "404",
                                    alpha: "1"
                                }, {
                                    type: 0,
                                    name: "bnCell04(anchorX=0.5, anchorY=0.5)_button",
                                    assetKey: "bnCell04(anchorX=0.5, anchorY=0.5)_button",
                                    x: "921",
                                    y: "281",
                                    alpha: "1"
                                }, {
                                    type: 0,
                                    name: "bnCell03(anchorX=0.5, anchorY=0.5)_button",
                                    assetKey: "bnCell03(anchorX=0.5, anchorY=0.5)_button",
                                    x: "798",
                                    y: "281",
                                    alpha: "1"
                                }, {
                                    type: 0,
                                    name: "bnCell02(anchorX=0.5, anchorY=0.5)_button",
                                    assetKey: "bnCell02(anchorX=0.5, anchorY=0.5)_button",
                                    x: "675",
                                    y: "281",
                                    alpha: "1"
                                }, {
                                    type: 0,
                                    name: "bnCell01(anchorX=0.5, anchorY=0.5)_button",
                                    assetKey: "bnCell01(anchorX=0.5, anchorY=0.5)_button",
                                    x: "552",
                                    y: "281",
                                    alpha: "1"
                                }, {
                                    type: 0,
                                    name: "bnCell00(anchorX=0.5, anchorY=0.5)_button",
                                    assetKey: "bnCell00(anchorX=0.5, anchorY=0.5)_button",
                                    x: "429",
                                    y: "281",
                                    alpha: "1"
                                }, {
                                    type: 0,
                                    name: "bnCoin0(anchorX=0.5, anchorY=0.5)_image",
                                    assetKey: "bnCoin0(anchorX=0.5, anchorY=0.5)_image",
                                    x: "429",
                                    y: "281",
                                    alpha: "1"
                                }, {
                                    type: 0,
                                    name: "bnCoin1(anchorX=0.5, anchorY=0.5)_image",
                                    assetKey: "bnCoin1(anchorX=0.5, anchorY=0.5)_image",
                                    x: "552",
                                    y: "281",
                                    alpha: "1"
                                }, {
                                    type: 0,
                                    name: "bnCoin2(anchorX=0.5, anchorY=0.5)_image",
                                    assetKey: "bnCoin2(anchorX=0.5, anchorY=0.5)_image",
                                    x: "675",
                                    y: "281",
                                    alpha: "1"
                                }, {
                                    type: 0,
                                    name: "bnCoin3(anchorX=0.5, anchorY=0.5)_image",
                                    assetKey: "bnCoin3(anchorX=0.5, anchorY=0.5)_image",
                                    x: "798",
                                    y: "281",
                                    alpha: "1"
                                }, {
                                    type: 0,
                                    name: "bnCoin4(anchorX=0.5, anchorY=0.5)_image",
                                    assetKey: "bnCoin4(anchorX=0.5, anchorY=0.5)_image",
                                    x: "921",
                                    y: "281",
                                    alpha: "1"
                                }, {
                                    type: 0,
                                    name: "bnCoin5(anchorX=0.5, anchorY=0.5)_image",
                                    assetKey: "bnCoin5(anchorX=0.5, anchorY=0.5)_image",
                                    x: "429",
                                    y: "404",
                                    alpha: "1"
                                }, {
                                    type: 0,
                                    name: "bnCoin6(anchorX=0.5, anchorY=0.5)_image",
                                    assetKey: "bnCoin6(anchorX=0.5, anchorY=0.5)_image",
                                    x: "552",
                                    y: "404",
                                    alpha: "1"
                                }, {
                                    type: 0,
                                    name: "bnCoin7(anchorX=0.5, anchorY=0.5)_image",
                                    assetKey: "bnCoin7(anchorX=0.5, anchorY=0.5)_image",
                                    x: "675",
                                    y: "404",
                                    alpha: "1"
                                }, {
                                    type: 0,
                                    name: "bnCoin8(anchorX=0.5, anchorY=0.5)_image",
                                    assetKey: "bnCoin8(anchorX=0.5, anchorY=0.5)_image",
                                    x: "798",
                                    y: "404",
                                    alpha: "1"
                                }, {
                                    type: 0,
                                    name: "bnCoin9(anchorX=0.5, anchorY=0.5)_image",
                                    assetKey: "bnCoin9(anchorX=0.5, anchorY=0.5)_image",
                                    x: "921",
                                    y: "404",
                                    alpha: "1"
                                }, {
                                    type: 0,
                                    name: "bnCoin10(anchorX=0.5, anchorY=0.5)_image",
                                    assetKey: "bnCoin10(anchorX=0.5, anchorY=0.5)_image",
                                    x: "429",
                                    y: "529",
                                    alpha: "1"
                                }, {
                                    type: 0,
                                    name: "bnCoin11(anchorX=0.5, anchorY=0.5)_image",
                                    assetKey: "bnCoin11(anchorX=0.5, anchorY=0.5)_image",
                                    x: "552",
                                    y: "529",
                                    alpha: "1"
                                }, {
                                    type: 0,
                                    name: "bnCoin12(anchorX=0.5, anchorY=0.5)_image",
                                    assetKey: "bnCoin12(anchorX=0.5, anchorY=0.5)_image",
                                    x: "675",
                                    y: "529",
                                    alpha: "1"
                                }, {
                                    type: 0,
                                    name: "bnCoin13(anchorX=0.5, anchorY=0.5)_image",
                                    assetKey: "bnCoin13(anchorX=0.5, anchorY=0.5)_image",
                                    x: "798",
                                    y: "529",
                                    alpha: "1"
                                }, {
                                    type: 0,
                                    name: "bnCoin14(anchorX=0.5, anchorY=0.5)_image",
                                    assetKey: "bnCoin14(anchorX=0.5, anchorY=0.5)_image",
                                    x: "921",
                                    y: "529",
                                    alpha: "1"
                                }, {
                                    type: 0,
                                    name: "bnCoin15(anchorX=0.5, anchorY=0.5)_image",
                                    assetKey: "bnCoin15(anchorX=0.5, anchorY=0.5)_image",
                                    x: "429",
                                    y: "652",
                                    alpha: "1"
                                }, {
                                    type: 0,
                                    name: "bnCoin16(anchorX=0.5, anchorY=0.5)_image",
                                    assetKey: "bnCoin16(anchorX=0.5, anchorY=0.5)_image",
                                    x: "552",
                                    y: "652",
                                    alpha: "1"
                                }, {
                                    type: 0,
                                    name: "bnCoin17(anchorX=0.5, anchorY=0.5)_image",
                                    assetKey: "bnCoin17(anchorX=0.5, anchorY=0.5)_image",
                                    x: "675",
                                    y: "652",
                                    alpha: "1"
                                }, {
                                    type: 0,
                                    name: "bnCoin18(anchorX=0.5, anchorY=0.5)_image",
                                    assetKey: "bnCoin18(anchorX=0.5, anchorY=0.5)_image",
                                    x: "798",
                                    y: "652",
                                    alpha: "1"
                                }, {
                                    type: 0,
                                    name: "bnCoin19(anchorX=0.5, anchorY=0.5)_image",
                                    assetKey: "bnCoin19(anchorX=0.5, anchorY=0.5)_image",
                                    x: "921",
                                    y: "652",
                                    alpha: "1"
                                }, {
                                    type: 0,
                                    name: "bnCoin20(anchorX=0.5, anchorY=0.5)_image",
                                    assetKey: "bnCoin20(anchorX=0.5, anchorY=0.5)_image",
                                    x: "429",
                                    y: "773",
                                    alpha: "1"
                                }, {
                                    type: 0,
                                    name: "bnCoin21(anchorX=0.5, anchorY=0.5)_image",
                                    assetKey: "bnCoin21(anchorX=0.5, anchorY=0.5)_image",
                                    x: "552",
                                    y: "773",
                                    alpha: "1"
                                }, {
                                    type: 0,
                                    name: "bnCoin22(anchorX=0.5, anchorY=0.5)_image",
                                    assetKey: "bnCoin22(anchorX=0.5, anchorY=0.5)_image",
                                    x: "675",
                                    y: "773",
                                    alpha: "1"
                                }, {
                                    type: 0,
                                    name: "bnCoin23(anchorX=0.5, anchorY=0.5)_image",
                                    assetKey: "bnCoin23(anchorX=0.5, anchorY=0.5)_image",
                                    x: "798",
                                    y: "773",
                                    alpha: "1"
                                }, {
                                    type: 0,
                                    name: "bnCoin24(anchorX=0.5, anchorY=0.5)_image",
                                    assetKey: "bnCoin24(anchorX=0.5, anchorY=0.5)_image",
                                    x: "921",
                                    y: "773",
                                    alpha: "1"
                                }]
                            }, {
                                type: 0,
                                name: "bnCellBg",
                                assetKey: "bnCellBg",
                                x: "348",
                                y: "199",
                                alpha: "1"
                            }]
                        },
                        {
                            type: 0,
                            name: "pickemShineBg",
                            assetKey: "pickemShineBg",
                            x: "290",
                            y: "146",
                            alpha: "1"
                        }
                    ]
                }, {
                    type: 1,
                    name: "startPopupFreeSpinContainer",
                    alpha: "1",
                    contents: [{
                        type: 0,
                        name: "sPFSWin",
                        assetKey: "sPFSWin",
                        x: "-3",
                        y: "-66",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "txtFreeSpin",
                        assetKey: "txtFreeSpin",
                        x: "-178",
                        y: "27",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "txtAwarded",
                        assetKey: "txtAwarded",
                        x: "-188",
                        y: "95",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "startPopupFreeSpinBg",
                        assetKey: "startPopupFreeSpinBg",
                        x: "-402",
                        y: "-240",
                        alpha: "1"
                    }]
                }, {
                    type: 1,
                    name: "finalPopupFreeSpinContainer",
                    alpha: "1",
                    contents: [{
                        type: 0,
                        name: "fPTitleText",
                        assetKey: "fPTitleText",
                        x: "-272",
                        y: "-123",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "fPWin",
                        assetKey: "fPWin",
                        x: "-4",
                        y: "133",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "finalPopupFreeSpinBg",
                        assetKey: "finalPopupFreeSpinBg",
                        x: "-402",
                        y: "-240",
                        alpha: "1"
                    }]
                }, {
                    type: 0,
                    name: "popupShadow(scaleY=1080, scaleX=1920, class=cover)_image",
                    assetKey: "popupShadow(scaleY=1080, scaleX=1920, class=cover)_image",
                    x: "0",
                    y: "0",
                    alpha: "1"
                }, {
                    type: 1,
                    name: "playareaLogoContainer",
                    alpha: "1",
                    contents: [{
                        type: 0,
                        name: "playareaLogo",
                        assetKey: "playareaLogo",
                        x: "716",
                        y: "82",
                        alpha: "1"
                    }]
                }, {
                    type: 1,
                    name: "gambleContainer",
                    alpha: "1",
                    contents: [{
                        type: 1,
                        name: "gambleScreen",
                        alpha: "1",
                        contents: []
                    }]
                }, {
                    type: 0,
                    name: "winLinesCount(assetKey=winlineFont, anchorX=0.5, anchorY=0.5, size=200)_bitmapText",
                    assetKey: "winLinesCount(assetKey=winlineFont, anchorX=0.5, anchorY=0.5, size=200)_bitmapText",
                    x: "960",
                    y: "540",
                    alpha: "1"
                }, {
                    type: 1,
                    name: "winlinesAddonContainer",
                    alpha: "1",
                    contents: []
                }, {
                    type: 1,
                    name: "slotMachineContainer",
                    alpha: "1",
                    contents: [{
                        type: 1,
                        name: "winlinesPointsContainer",
                        alpha: "1",
                        contents: []
                    }, {
                        type: 1,
                        name: "lineMarkersContainer",
                        alpha: "1",
                        contents: []
                    }]
                }, {
                    type: 1,
                    name: "playareaContainer",
                    alpha: "1",
                    contents: [{
                        type: 0,
                        name: "reelsBorderFrame",
                        assetKey: "reelsBorderFrame",
                        x: "224",
                        y: "111",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "frame1",
                        assetKey: "frame1",
                        x: "770",
                        y: "107",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "frame2",
                        assetKey: "frame2",
                        x: "770",
                        y: "107",
                        alpha: "1"
                    }, {
                        type: 1,
                        name: "gameScreenContainer",
                        alpha: "1",
                        contents: [{
                            type: 1,
                            name: "slotMachine(x=258, y=150)_container",
                            alpha: "1",
                            contents: [{
                                type: 1,
                                name: "slotMachineGame(width=1400, height=744)_container",
                                alpha: "1",
                                contents: []
                            }]
                        }, {
                            type: 1,
                            name: "freespinEmitterContainer",
                            alpha: "1",
                            contents: []
                        }]
                    }, {
                        type: 0,
                        name: "reelsBg",
                        assetKey: "reelsBg",
                        x: "250",
                        y: "142",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "reelsTopFire",
                        assetKey: "reelsTopFire",
                        x: "229",
                        y: "57",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "reelsBorderShine",
                        assetKey: "reelsBorderShine",
                        x: "206",
                        y: "98",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "gnRouteframe_asset",
                        assetKey: "gnRouteframe_asset",
                        x: "0",
                        y: "0",
                        alpha: "1"
                    }]
                }, {
                    type: 1,
                    name: "playareaBgContainer",
                    alpha: "1",
                    contents: [{
                        type: 0,
                        name: "playareaBg",
                        assetKey: "playareaBg",
                        x: "0",
                        y: "0",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "bgAreaFreeSpins_asset",
                        assetKey: "bgAreaFreeSpins_asset",
                        x: "0",
                        y: "0",
                        alpha: "1"
                    }]
                }
            ]
        }
    }
};
nge.App[nge.appNS].Tpl.States.LoadAssets = function(d) {
    return {
        assets: {
            name: "assets",
            contents: [{
                key: "txt_hot_respin.png",
                fullPath: nge.appPath + "img/playarea/txt_hot_respin.png"
            }, {
                key: "txt_popup_3",
                fullPath: nge.appPath + "img/playarea/txt_popup_3.png"
            }, {
                key: "txt_popup_4",
                fullPath: nge.appPath + "img/playarea/txt_popup_4.png"
            }, {
                key: "txt_popup_5",
                fullPath: nge.appPath + "img/playarea/txt_popup_5.png"
            }]
        },
        objects: {
            name: "objects",
            contents: []
        }
    }
};
nge.App[nge.appNS].Tpl.States.UI_v3 = {};
nge.App[nge.appNS].Tpl.States.UI_v3.Play = function() {
    for (var d = new nge.App[nge.appNS].Tpl.States.Play, b = nge.localData.get("actions") || [], h = [], g = 0; g < b.length; g++) b[g].type && "offer" === b[g].type && h.push(b[g]);
    if (0 === h.length) return d;
    d.assets.contents.push({
        key: "offers_group",
        fullPath: "offers_group.png"
    });
    d.objects.contents.splice(1, 0, {
        type: 0,
        name: "offers_group",
        assetKey: "offers_group",
        x: "0",
        y: "0",
        alpha: "1"
    });
    return d
};
nge.App[nge.appNS].Tpl.Groups = {};
nge.App[nge.appNS].Tpl.Groups.Atlases = function() {
    var d = nge.appPath + "img/atlases/",
        b = nge.Lib.Helper.mobileAndTabletCheck();
    b = {
        assets: {
            name: "assets",
            contents: [{
                key: "actions",
                atlas: d + "actions.json",
                fullPath: d + "actions.png"
            }, {
                key: "jackpotsPlay0",
                atlas: d + "jackpotsPlay0.json",
                fullPath: d + "jackpotsPlay0.png"
            }, {
                key: "betSettings_atlas0000",
                atlas: d + "betSettings_atlas0000.json",
                fullPath: d + "betSettings_atlas0000.png"
            }, {
                key: "ui_atlas",
                atlas: d + (b ? "ui_mobile_atlas0000.json" : "ui_atlas.json"),
                fullPath: d + (b ? "ui_mobile_atlas0000.png" :
                    "ui_atlas.png")
            }, {
                key: "tabs_atlas0000",
                atlas: d + (b ? "tabs_mobile/tabs_atlas0000.json" : "tabs/tabs_desktop_atlas0000.json"),
                fullPath: d + (b ? "tabs_mobile/tabs_atlas0000.png" : "tabs/tabs_desktop_atlas0000.png")
            }, {
                key: "explosion0",
                atlas: d + "explosion0.json",
                fullPath: d + "explosion0.png"
            }, {
                key: "fire0",
                atlas: d + "fire0.json",
                fullPath: d + "fire0.png"
            }, {
                key: "fire1",
                atlas: d + "fire1.json",
                fullPath: d + "fire1.png"
            }, {
                key: "symbol_static",
                atlas: d + "symbol_static.json",
                fullPath: d + "symbol_static.png"
            }, {
                key: "frame0",
                atlas: d + "frame0.json",
                fullPath: d + "frame0.png"
            }, {
                key: "bigSymbol",
                atlas: d + "bigSymbol.json",
                fullPath: d + "bigSymbol.png"
            }, {
                key: "symbols_blurs0",
                atlas: d + "symbols_blurs0.json",
                fullPath: d + "symbols_blurs0.png"
            }]
        },
        objects: {}
    };
    for (var h = 0; 3 > h; h++) b.assets.contents.push({
        key: "symbols_animations0" + h,
        atlas: d + "symbols_animations0" + h + ".json",
        fullPath: d + "symbols_animations0" + h + ".png"
    });
    return b
};
nge.App[nge.appNS].Tpl.Groups.Atlases_play = function() {
    var d = nge.appPath + "img/";
    return {
        assets: {
            name: "assets",
            contents: [{
                key: "play_atlas1",
                atlas: d + "atlases/play/play_atlas0000.json",
                fullPath: d + "atlases/play/play_atlas0000.png"
            }, {
                key: "play_atlas2",
                atlas: d + "atlases/play/play_atlas0001.json",
                fullPath: d + "atlases/play/play_atlas0001.png"
            }, {
                key: "play_atlas3",
                atlas: d + "atlases/play/play_atlas0002.json",
                fullPath: d + "atlases/play/play_atlas0002.png"
            }, {
                key: "play_atlas4",
                atlas: d + "atlases/play/play_atlas0003.json",
                fullPath: d + "atlases/play/play_atlas0003.png"
            }]
        },
        objects: {}
    }
};
nge.App[nge.appNS].Tpl.Groups.Atlases_help = function() {
    var d = nge.appPath + "img/";
    return {
        assets: {
            name: "assets",
            contents: [{
                key: "help_atlas1",
                atlas: d + "atlases/help/help_atlas0000.json",
                fullPath: d + "atlases/help/help_atlas0000.png"
            }, {
                key: "help_atlas2",
                atlas: d + "atlases/help/help_atlas0001.json",
                fullPath: d + "atlases/help/help_atlas0001.png"
            }]
        },
        objects: {}
    }
};
nge.App[nge.appNS].Tpl.Groups.Help = function() {
    var d = nge.appPath + "img/";
    return {
        assets: {
            name: "assets",
            contents: [{
                    key: "helpPage3",
                    fullPath: d + "playarea/helpPage3.png"
                }, {
                    key: "hP3Content19",
                    fullPath: d + "playarea/hP3Content19.png"
                }, {
                    key: "hP3Content18",
                    fullPath: d + "playarea/hP3Content18.png"
                }, {
                    key: "hP3Content17",
                    fullPath: d + "playarea/hP3Content17.png"
                }, {
                    key: "hP3Content16",
                    fullPath: d + "playarea/hP3Content16.png"
                }, {
                    key: "hP3Content15",
                    fullPath: d + "playarea/hP3Content15.png"
                }, {
                    key: "hP3Content14",
                    fullPath: d + "playarea/hP3Content14.png"
                },
                {
                    key: "hP3Content13",
                    fullPath: d + "playarea/hP3Content13.png"
                }, {
                    key: "hP3Content12",
                    fullPath: d + "playarea/hP3Content12.png"
                }, {
                    key: "hP3Content11",
                    fullPath: d + "playarea/hP3Content11.png"
                }, {
                    key: "hP3Content10",
                    fullPath: d + "playarea/hP3Content10.png"
                }, {
                    key: "hP3Content9",
                    fullPath: d + "playarea/hP3Content9.png"
                }, {
                    key: "hP3Content8",
                    fullPath: d + "playarea/hP3Content8.png"
                }, {
                    key: "hP3Content7",
                    fullPath: d + "playarea/hP3Content7.png"
                }, {
                    key: "hP3Content6",
                    fullPath: d + "playarea/hP3Content6.png"
                }, {
                    key: "hP3Content5",
                    fullPath: d +
                        "playarea/hP3Content5.png"
                }, {
                    key: "hP3Content4",
                    fullPath: d + "playarea/hP3Content4.png"
                }, {
                    key: "hP3Content3",
                    fullPath: d + "playarea/hP3Content3.png"
                }, {
                    key: "hP3Content2",
                    fullPath: d + "playarea/hP3Content2.png"
                }, {
                    key: "hP3Content1",
                    fullPath: d + "playarea/hP3Content1.png"
                }, {
                    key: "hP3Content0",
                    fullPath: d + "playarea/hP3Content0.png"
                }, {
                    key: "hP3Text5",
                    fullPath: d + "playarea/hP3Text5.png"
                }, {
                    key: "hP3Text4",
                    fullPath: d + "playarea/hP3Text4.png"
                }, {
                    key: "hP3Text3",
                    fullPath: d + "playarea/hP3Text3.png"
                }, {
                    key: "hP3Text2",
                    fullPath: d +
                        "playarea/hP3Text2.png"
                }, {
                    key: "hP3Text1",
                    fullPath: d + "playarea/hP3Text1.png"
                }, {
                    key: "lineName20",
                    fullPath: d + "playarea/lineName20.png"
                }, {
                    key: "lineName19",
                    fullPath: d + "playarea/lineName19.png"
                }, {
                    key: "lineName18",
                    fullPath: d + "playarea/lineName18.png"
                }, {
                    key: "lineName17",
                    fullPath: d + "playarea/lineName17.png"
                }, {
                    key: "lineName16",
                    fullPath: d + "playarea/lineName16.png"
                }, {
                    key: "lineName15",
                    fullPath: d + "playarea/lineName15.png"
                }, {
                    key: "lineName14",
                    fullPath: d + "playarea/lineName14.png"
                }, {
                    key: "lineName13",
                    fullPath: d + "playarea/lineName13.png"
                },
                {
                    key: "lineName12",
                    fullPath: d + "playarea/lineName12.png"
                }, {
                    key: "lineName11",
                    fullPath: d + "playarea/lineName11.png"
                }, {
                    key: "lineName10",
                    fullPath: d + "playarea/lineName10.png"
                }, {
                    key: "lineName9",
                    fullPath: d + "playarea/lineName9.png"
                }, {
                    key: "lineName8",
                    fullPath: d + "playarea/lineName8.png"
                }, {
                    key: "lineName7",
                    fullPath: d + "playarea/lineName7.png"
                }, {
                    key: "lineName6",
                    fullPath: d + "playarea/lineName6.png"
                }, {
                    key: "lineName5",
                    fullPath: d + "playarea/lineName5.png"
                }, {
                    key: "lineName4",
                    fullPath: d + "playarea/lineName4.png"
                }, {
                    key: "lineName3",
                    fullPath: d + "playarea/lineName3.png"
                }, {
                    key: "lineName2",
                    fullPath: d + "playarea/lineName2.png"
                }, {
                    key: "lineName1",
                    fullPath: d + "playarea/lineName1.png"
                }, {
                    key: "helpPage2",
                    fullPath: d + "playarea/helpPage2.png"
                }, {
                    key: "hP2Content1",
                    fullPath: d + "playarea/hP2Content1.png"
                }, {
                    key: "hP2Content0",
                    fullPath: d + "playarea/hP2Content0.png"
                }, {
                    key: "hP1Text12",
                    fullPath: d + "playarea/hP1Text12.png"
                }, {
                    key: "hP1Text11",
                    fullPath: d + "playarea/hP1Text11.png"
                }, {
                    key: "hP1Text10",
                    fullPath: d + "playarea/hP1Text10.png"
                }, {
                    key: "hP1Text9",
                    fullPath: d +
                        "playarea/hP1Text9.png"
                }, {
                    key: "hP1Text8",
                    fullPath: d + "playarea/hP1Text8.png"
                }, {
                    key: "hP1Text7",
                    fullPath: d + "playarea/hP1Text7.png"
                }, {
                    key: "hP1Text6",
                    fullPath: d + "playarea/hP1Text6.png"
                }, {
                    key: "hP1Text5",
                    fullPath: d + "playarea/hP1Text5.png"
                }, {
                    key: "hP1Text4",
                    fullPath: d + "playarea/hP1Text4.png"
                }, {
                    key: "hP1Text3",
                    fullPath: d + "playarea/hP1Text3.png"
                }, {
                    key: "hP1Text2",
                    fullPath: d + "playarea/hP1Text2.png"
                }, {
                    key: "hP1Text1",
                    fullPath: d + "playarea/hP1Text1.png"
                }, {
                    key: "hP1Text0",
                    fullPath: d + "playarea/hP1Text0.png"
                }, {
                    key: "hP1Title",
                    fullPath: d + "playarea/hP1Title.png"
                }, {
                    key: "helpPage1",
                    fullPath: d + "playarea/helpPage1.png"
                }, {
                    key: "hP1Content3",
                    fullPath: d + "playarea/hP1Content3.png"
                }, {
                    key: "hP1Content2",
                    fullPath: d + "playarea/hP1Content2.png"
                }, {
                    key: "hP1Content1",
                    fullPath: d + "playarea/hP1Content1.png"
                }, {
                    key: "hP1Content0",
                    fullPath: d + "playarea/hP1Content0.png"
                }, {
                    key: "hP1TextBottom8",
                    fullPath: d + "playarea/hP1TextBottom8.png"
                }, {
                    key: "hP1TextBottom7",
                    fullPath: d + "playarea/hP1TextBottom7.png"
                }, {
                    key: "hP1TextBottom6",
                    fullPath: d + "playarea/hP1TextBottom6.png"
                },
                {
                    key: "hP1TextBottom5",
                    fullPath: d + "playarea/hP1TextBottom5.png"
                }, {
                    key: "hP1TextBottom4",
                    fullPath: d + "playarea/hP1TextBottom4.png"
                }, {
                    key: "hP1TextBottom3",
                    fullPath: d + "playarea/hP1TextBottom3.png"
                }, {
                    key: "hP1TextBottom2",
                    fullPath: d + "playarea/hP1TextBottom2.png"
                }, {
                    key: "hP1TextBottom1",
                    fullPath: d + "playarea/hP1TextBottom1.png"
                }, {
                    key: "hP1TextTop9",
                    fullPath: d + "playarea/hP1TextTop9.png"
                }, {
                    key: "hP1TextTop8",
                    fullPath: d + "playarea/hP1TextTop8.png"
                }, {
                    key: "hP1TextTop7",
                    fullPath: d + "playarea/hP1TextTop7.png"
                }, {
                    key: "hP1TextTop6",
                    fullPath: d + "playarea/hP1TextTop6.png"
                }, {
                    key: "hP1TextTop5",
                    fullPath: d + "playarea/hP1TextTop5.png"
                }, {
                    key: "hP1TextTop4",
                    fullPath: d + "playarea/hP1TextTop4.png"
                }, {
                    key: "hP1TextTop3",
                    fullPath: d + "playarea/hP1TextTop3.png"
                }, {
                    key: "hP1TextTop2",
                    fullPath: d + "playarea/hP1TextTop2.png"
                }, {
                    key: "hP1TextTop1",
                    fullPath: d + "playarea/hP1TextTop1.png"
                }, {
                    key: "00symbol2(class=ps0-2, font=24pt mullerblack, fill=#ffe579)_text",
                    fullPath: d + "playarea/00symbol2(class=ps0-2, font=24pt mullerblack, fill=#ffe579)_text.png"
                }, {
                    key: "00symbol3(class=ps0-3, font=24pt mullerblack, fill=#ffe579)_text",
                    fullPath: d + "playarea/00symbol3(class=ps0-3, font=24pt mullerblack, fill=#ffe579)_text.png"
                }, {
                    key: "00symbol4(class=ps0-4, font=24pt mullerblack, fill=#ffe579)_text",
                    fullPath: d + "playarea/00symbol4(class=ps0-4, font=24pt mullerblack, fill=#ffe579)_text.png"
                }, {
                    key: "00symbol5(class=ps0-5, font=24pt mullerblack, fill=#ffe579)_text",
                    fullPath: d + "playarea/00symbol5(class=ps0-5, font=24pt mullerblack, fill=#ffe579)_text.png"
                }, {
                    key: "00Number2(text=2, class=HP0Number)_text",
                    fullPath: d + "playarea/00Number2(text=2, class=HP0Number)_text.png"
                },
                {
                    key: "00Number3(text=3, class=HP0Number)_text",
                    fullPath: d + "playarea/00Number3(text=3, class=HP0Number)_text.png"
                }, {
                    key: "00Number4(text=4, class=HP0Number)_text",
                    fullPath: d + "playarea/00Number4(text=4, class=HP0Number)_text.png"
                }, {
                    key: "00Number5(text=5, class=HP0Number)_text",
                    fullPath: d + "playarea/00Number5(text=5, class=HP0Number)_text.png"
                }, {
                    key: "09info4",
                    fullPath: d + "playarea/09info4.png"
                }, {
                    key: "09info3",
                    fullPath: d + "playarea/09info3.png"
                }, {
                    key: "09info2",
                    fullPath: d + "playarea/09info2.png"
                }, {
                    key: "09info1",
                    fullPath: d + "playarea/09info1.png"
                }, {
                    key: "09symbol2(class=ps9-2, font=24pt mullerblack, fill=#ffe579)_text",
                    fullPath: d + "playarea/09symbol2(class=ps9-2, font=24pt mullerblack, fill=#ffe579)_text.png"
                }, {
                    key: "09symbol3(class=ps9-3, font=24pt mullerblack, fill=#ffe579)_text",
                    fullPath: d + "playarea/09symbol3(class=ps9-3, font=24pt mullerblack, fill=#ffe579)_text.png"
                }, {
                    key: "09symbol4(class=ps9-4, font=24pt mullerblack, fill=#ffe579)_text",
                    fullPath: d + "playarea/09symbol4(class=ps9-4, font=24pt mullerblack, fill=#ffe579)_text.png"
                },
                {
                    key: "09symbol5(class=ps9-5, font=24pt mullerblack, fill=#ffe579)_text",
                    fullPath: d + "playarea/09symbol5(class=ps9-5, font=24pt mullerblack, fill=#ffe579)_text.png"
                }, {
                    key: "09Number2(text=2, class=HP0Number)_text",
                    fullPath: d + "playarea/09Number2(text=2, class=HP0Number)_text.png"
                }, {
                    key: "09Number3(text=3, class=HP0Number)_text",
                    fullPath: d + "playarea/09Number3(text=3, class=HP0Number)_text.png"
                }, {
                    key: "09Number4(text=4, class=HP0Number)_text",
                    fullPath: d + "playarea/09Number4(text=4, class=HP0Number)_text.png"
                },
                {
                    key: "09Number5(text=5, class=HP0Number)_text",
                    fullPath: d + "playarea/09Number5(text=5, class=HP0Number)_text.png"
                }, {
                    key: "helpPage0",
                    fullPath: d + "playarea/helpPage0.png"
                }, {
                    key: "hP0Content8",
                    fullPath: d + "playarea/hP0Content8.png"
                }, {
                    key: "hP0Content7",
                    fullPath: d + "playarea/hP0Content7.png"
                }, {
                    key: "hP0Content6",
                    fullPath: d + "playarea/hP0Content6.png"
                }, {
                    key: "hP0Content5",
                    fullPath: d + "playarea/hP0Content5.png"
                }, {
                    key: "hP0Content4",
                    fullPath: d + "playarea/hP0Content4.png"
                }, {
                    key: "hP0Content3",
                    fullPath: d + "playarea/hP0Content3.png"
                },
                {
                    key: "hP0Content2",
                    fullPath: d + "playarea/hP0Content2.png"
                }, {
                    key: "hP0Content1",
                    fullPath: d + "playarea/hP0Content1.png"
                }, {
                    key: "hP0Content0",
                    fullPath: d + "playarea/hP0Content0.png"
                }, {
                    key: "08symbol3(class=ps8-3, font=24pt mullerblack, fill=#ffe579)_text",
                    fullPath: d + "playarea/08symbol3(class=ps8-3, font=24pt mullerblack, fill=#ffe579)_text.png"
                }, {
                    key: "08symbol4(class=ps8-4, font=24pt mullerblack, fill=#ffe579)_text",
                    fullPath: d + "playarea/08symbol4(class=ps8-4, font=24pt mullerblack, fill=#ffe579)_text.png"
                },
                {
                    key: "08symbol5(class=ps8-5, font=24pt mullerblack, fill=#ffe579)_text",
                    fullPath: d + "playarea/08symbol5(class=ps8-5, font=24pt mullerblack, fill=#ffe579)_text.png"
                }, {
                    key: "08Number3(text=3, class=HP0Number)_text",
                    fullPath: d + "playarea/08Number3(text=3, class=HP0Number)_text.png"
                }, {
                    key: "08Number4(text=4, class=HP0Number)_text",
                    fullPath: d + "playarea/08Number4(text=4, class=HP0Number)_text.png"
                }, {
                    key: "08Number5(text=5, class=HP0Number)_text",
                    fullPath: d + "playarea/08Number5(text=5, class=HP0Number)_text.png"
                },
                {
                    key: "07symbol3(class=ps7-3, font=24pt mullerblack, fill=#ffe579)_text",
                    fullPath: d + "playarea/07symbol3(class=ps7-3, font=24pt mullerblack, fill=#ffe579)_text.png"
                }, {
                    key: "07symbol4(class=ps7-4, font=24pt mullerblack, fill=#ffe579)_text",
                    fullPath: d + "playarea/07symbol4(class=ps7-4, font=24pt mullerblack, fill=#ffe579)_text.png"
                }, {
                    key: "07symbol5(class=ps7-5, font=24pt mullerblack, fill=#ffe579)_text",
                    fullPath: d + "playarea/07symbol5(class=ps7-5, font=24pt mullerblack, fill=#ffe579)_text.png"
                }, {
                    key: "07Number3(text=3, class=HP0Number)_text",
                    fullPath: d + "playarea/07Number3(text=3, class=HP0Number)_text.png"
                }, {
                    key: "07Number4(text=4, class=HP0Number)_text",
                    fullPath: d + "playarea/07Number4(text=4, class=HP0Number)_text.png"
                }, {
                    key: "07Number5(text=5, class=HP0Number)_text",
                    fullPath: d + "playarea/07Number5(text=5, class=HP0Number)_text.png"
                }, {
                    key: "06symbol3(class=ps6-3, font=24pt mullerblack, fill=#ffe579)_text",
                    fullPath: d + "playarea/06symbol3(class=ps6-3, font=24pt mullerblack, fill=#ffe579)_text.png"
                }, {
                    key: "06symbol4(class=ps6-4, font=24pt mullerblack, fill=#ffe579)_text",
                    fullPath: d + "playarea/06symbol4(class=ps6-4, font=24pt mullerblack, fill=#ffe579)_text.png"
                }, {
                    key: "06symbol5(class=ps6-5, font=24pt mullerblack, fill=#ffe579)_text",
                    fullPath: d + "playarea/06symbol5(class=ps6-5, font=24pt mullerblack, fill=#ffe579)_text.png"
                }, {
                    key: "06Number3(text=3, class=HP0Number)_text",
                    fullPath: d + "playarea/06Number3(text=3, class=HP0Number)_text.png"
                }, {
                    key: "06Number4(text=4, class=HP0Number)_text",
                    fullPath: d + "playarea/06Number4(text=4, class=HP0Number)_text.png"
                }, {
                    key: "06Number5(text=5, class=HP0Number)_text",
                    fullPath: d + "playarea/06Number5(text=5, class=HP0Number)_text.png"
                }, {
                    key: "05symbol3(class=ps5-3, font=24pt mullerblack, fill=#ffe579)_text",
                    fullPath: d + "playarea/05symbol3(class=ps5-3, font=24pt mullerblack, fill=#ffe579)_text.png"
                }, {
                    key: "05symbol4(class=ps5-4, font=24pt mullerblack, fill=#ffe579)_text",
                    fullPath: d + "playarea/05symbol4(class=ps5-4, font=24pt mullerblack, fill=#ffe579)_text.png"
                }, {
                    key: "05symbol5(class=ps5-5, font=24pt mullerblack, fill=#ffe579)_text",
                    fullPath: d + "playarea/05symbol5(class=ps5-5, font=24pt mullerblack, fill=#ffe579)_text.png"
                },
                {
                    key: "05Number3(text=3, class=HP0Number)_text",
                    fullPath: d + "playarea/05Number3(text=3, class=HP0Number)_text.png"
                }, {
                    key: "05Number4(text=4, class=HP0Number)_text",
                    fullPath: d + "playarea/05Number4(text=4, class=HP0Number)_text.png"
                }, {
                    key: "05Number5(text=5, class=HP0Number)_text",
                    fullPath: d + "playarea/05Number5(text=5, class=HP0Number)_text.png"
                }, {
                    key: "04symbol3(class=ps4-3, font=24pt mullerblack, fill=#ffe579)_text",
                    fullPath: d + "playarea/04symbol3(class=ps4-3, font=24pt mullerblack, fill=#ffe579)_text.png"
                },
                {
                    key: "04symbol4(class=ps4-4, font=24pt mullerblack, fill=#ffe579)_text",
                    fullPath: d + "playarea/04symbol4(class=ps4-4, font=24pt mullerblack, fill=#ffe579)_text.png"
                }, {
                    key: "04symbol5(class=ps4-5, font=24pt mullerblack, fill=#ffe579)_text",
                    fullPath: d + "playarea/04symbol5(class=ps4-5, font=24pt mullerblack, fill=#ffe579)_text.png"
                }, {
                    key: "04Number5(text=3, class=HP0Number)_text",
                    fullPath: d + "playarea/04Number5(text=3, class=HP0Number)_text.png"
                }, {
                    key: "04Number4(text=4, class=HP0Number)_text",
                    fullPath: d + "playarea/04Number4(text=4, class=HP0Number)_text.png"
                },
                {
                    key: "04Number5(text=5, class=HP0Number)_text",
                    fullPath: d + "playarea/04Number5(text=5, class=HP0Number)_text.png"
                }, {
                    key: "03symbol3(class=ps3-3, font=24pt mullerblack, fill=#ffe579)_text",
                    fullPath: d + "playarea/03symbol3(class=ps3-3, font=24pt mullerblack, fill=#ffe579)_text.png"
                }, {
                    key: "03symbol4(class=ps3-4, font=24pt mullerblack, fill=#ffe579)_text",
                    fullPath: d + "playarea/03symbol4(class=ps3-4, font=24pt mullerblack, fill=#ffe579)_text.png"
                }, {
                    key: "03symbol5(class=ps3-5, font=24pt mullerblack, fill=#ffe579)_text",
                    fullPath: d + "playarea/03symbol5(class=ps3-5, font=24pt mullerblack, fill=#ffe579)_text.png"
                }, {
                    key: "03Number3(text=3, class=HP0Number)_text",
                    fullPath: d + "playarea/03Number3(text=3, class=HP0Number)_text.png"
                }, {
                    key: "03Number4(text=4, class=HP0Number)_text",
                    fullPath: d + "playarea/03Number4(text=4, class=HP0Number)_text.png"
                }, {
                    key: "03Number5(text=5, class=HP0Number)_text",
                    fullPath: d + "playarea/03Number5(text=5, class=HP0Number)_text.png"
                }, {
                    key: "02symbol2(class=ps2-2, font=24pt mullerblack, fill=#ffe579)_text",
                    fullPath: d + "playarea/02symbol2(class=ps2-2, font=24pt mullerblack, fill=#ffe579)_text.png"
                }, {
                    key: "02symbol3(class=ps2-3, font=24pt mullerblack, fill=#ffe579)_text",
                    fullPath: d + "playarea/02symbol3(class=ps2-3, font=24pt mullerblack, fill=#ffe579)_text.png"
                }, {
                    key: "02symbol4(class=ps2-4, font=24pt mullerblack, fill=#ffe579)_text",
                    fullPath: d + "playarea/02symbol4(class=ps2-4, font=24pt mullerblack, fill=#ffe579)_text.png"
                }, {
                    key: "02symbol5(class=ps2-5, font=24pt mullerblack, fill=#ffe579)_text",
                    fullPath: d +
                        "playarea/02symbol5(class=ps2-5, font=24pt mullerblack, fill=#ffe579)_text.png"
                }, {
                    key: "02Number2(text=2, class=HP0Number)_text",
                    fullPath: d + "playarea/02Number2(text=2, class=HP0Number)_text.png"
                }, {
                    key: "02Number3(text=3, class=HP0Number)_text",
                    fullPath: d + "playarea/02Number3(text=3, class=HP0Number)_text.png"
                }, {
                    key: "02Number4(text=4, class=HP0Number)_text",
                    fullPath: d + "playarea/02Number4(text=4, class=HP0Number)_text.png"
                }, {
                    key: "02Number5(text=5, class=HP0Number)_text",
                    fullPath: d + "playarea/02Number5(text=5, class=HP0Number)_text.png"
                },
                {
                    key: "HP0Number(text=0, font=24pt mullerblack, fill=#ff8a00)_style",
                    fullPath: d + "playarea/HP0Number(text=0, font=24pt mullerblack, fill=#ff8a00)_style.png"
                }, {
                    key: "logoPaytable",
                    fullPath: d + "playarea/logoPaytable.png"
                }
            ]
        },
        objects: {
            name: "objects",
            contents: [{
                type: 1,
                name: "helpPagesContainer",
                alpha: "1",
                contents: [{
                    type: 1,
                    name: "helpPage0",
                    alpha: "1",
                    contents: [{
                        type: 0,
                        name: "logoPaytable",
                        assetKey: "logoPaytable",
                        x: "728",
                        y: "30",
                        alpha: "1"
                    }, {
                        type: 1,
                        name: "helpPage0Text",
                        alpha: "1",
                        contents: [{
                                type: 0,
                                name: "HP0Number(text=0, font=24pt mullerblack, fill=#ff8a00)_style",
                                assetKey: "HP0Number(text=0, font=24pt mullerblack, fill=#ff8a00)_style",
                                x: "212",
                                y: "107",
                                alpha: "1"
                            }, {
                                type: 0,
                                name: "02Number5(text=5, class=HP0Number)_text",
                                assetKey: "02Number5(text=5, class=HP0Number)_text",
                                x: "584",
                                y: "195",
                                alpha: "1"
                            }, {
                                type: 0,
                                name: "02Number4(text=4, class=HP0Number)_text",
                                assetKey: "02Number4(text=4, class=HP0Number)_text",
                                x: "584",
                                y: "235",
                                alpha: "1"
                            }, {
                                type: 0,
                                name: "02Number3(text=3, class=HP0Number)_text",
                                assetKey: "02Number3(text=3, class=HP0Number)_text",
                                x: "584",
                                y: "275",
                                alpha: "1"
                            }, {
                                type: 0,
                                name: "02Number2(text=2, class=HP0Number)_text",
                                assetKey: "02Number2(text=2, class=HP0Number)_text",
                                x: "584",
                                y: "315",
                                alpha: "1"
                            }, {
                                type: 0,
                                name: "02symbol5(class=ps2-5, font=24pt mullerblack, fill=#ffe579)_text",
                                assetKey: "02symbol5(class=ps2-5, font=24pt mullerblack, fill=#ffe579)_text",
                                x: "639",
                                y: "195",
                                alpha: "1"
                            }, {
                                type: 0,
                                name: "02symbol4(class=ps2-4, font=24pt mullerblack, fill=#ffe579)_text",
                                assetKey: "02symbol4(class=ps2-4, font=24pt mullerblack, fill=#ffe579)_text",
                                x: "639",
                                y: "235",
                                alpha: "1"
                            }, {
                                type: 0,
                                name: "02symbol3(class=ps2-3, font=24pt mullerblack, fill=#ffe579)_text",
                                assetKey: "02symbol3(class=ps2-3, font=24pt mullerblack, fill=#ffe579)_text",
                                x: "639",
                                y: "275",
                                alpha: "1"
                            }, {
                                type: 0,
                                name: "02symbol2(class=ps2-2, font=24pt mullerblack, fill=#ffe579)_text",
                                assetKey: "02symbol2(class=ps2-2, font=24pt mullerblack, fill=#ffe579)_text",
                                x: "639",
                                y: "315",
                                alpha: "1"
                            }, {
                                type: 0,
                                name: "03Number5(text=5, class=HP0Number)_text",
                                assetKey: "03Number5(text=5, class=HP0Number)_text",
                                x: "974",
                                y: "213",
                                alpha: "1"
                            }, {
                                type: 0,
                                name: "03Number4(text=4, class=HP0Number)_text",
                                assetKey: "03Number4(text=4, class=HP0Number)_text",
                                x: "974",
                                y: "253",
                                alpha: "1"
                            }, {
                                type: 0,
                                name: "03Number3(text=3, class=HP0Number)_text",
                                assetKey: "03Number3(text=3, class=HP0Number)_text",
                                x: "974",
                                y: "293",
                                alpha: "1"
                            }, {
                                type: 0,
                                name: "03symbol5(class=ps3-5, font=24pt mullerblack, fill=#ffe579)_text",
                                assetKey: "03symbol5(class=ps3-5, font=24pt mullerblack, fill=#ffe579)_text",
                                x: "1029",
                                y: "213",
                                alpha: "1"
                            }, {
                                type: 0,
                                name: "03symbol4(class=ps3-4, font=24pt mullerblack, fill=#ffe579)_text",
                                assetKey: "03symbol4(class=ps3-4, font=24pt mullerblack, fill=#ffe579)_text",
                                x: "1029",
                                y: "253",
                                alpha: "1"
                            }, {
                                type: 0,
                                name: "03symbol3(class=ps3-3, font=24pt mullerblack, fill=#ffe579)_text",
                                assetKey: "03symbol3(class=ps3-3, font=24pt mullerblack, fill=#ffe579)_text",
                                x: "1029",
                                y: "293",
                                alpha: "1"
                            }, {
                                type: 0,
                                name: "04Number5(text=5, class=HP0Number)_text",
                                assetKey: "04Number5(text=5, class=HP0Number)_text",
                                x: "1374",
                                y: "213",
                                alpha: "1"
                            }, {
                                type: 0,
                                name: "04Number4(text=4, class=HP0Number)_text",
                                assetKey: "04Number4(text=4, class=HP0Number)_text",
                                x: "1374",
                                y: "253",
                                alpha: "1"
                            }, {
                                type: 0,
                                name: "04Number5(text=3, class=HP0Number)_text",
                                assetKey: "04Number5(text=3, class=HP0Number)_text",
                                x: "1374",
                                y: "293",
                                alpha: "1"
                            }, {
                                type: 0,
                                name: "04symbol5(class=ps4-5, font=24pt mullerblack, fill=#ffe579)_text",
                                assetKey: "04symbol5(class=ps4-5, font=24pt mullerblack, fill=#ffe579)_text",
                                x: "1429",
                                y: "213",
                                alpha: "1"
                            }, {
                                type: 0,
                                name: "04symbol4(class=ps4-4, font=24pt mullerblack, fill=#ffe579)_text",
                                assetKey: "04symbol4(class=ps4-4, font=24pt mullerblack, fill=#ffe579)_text",
                                x: "1429",
                                y: "253",
                                alpha: "1"
                            }, {
                                type: 0,
                                name: "04symbol3(class=ps4-3, font=24pt mullerblack, fill=#ffe579)_text",
                                assetKey: "04symbol3(class=ps4-3, font=24pt mullerblack, fill=#ffe579)_text",
                                x: "1429",
                                y: "293",
                                alpha: "1"
                            }, {
                                type: 0,
                                name: "05Number5(text=5, class=HP0Number)_text",
                                assetKey: "05Number5(text=5, class=HP0Number)_text",
                                x: "675",
                                y: "463",
                                alpha: "1"
                            }, {
                                type: 0,
                                name: "05Number4(text=4, class=HP0Number)_text",
                                assetKey: "05Number4(text=4, class=HP0Number)_text",
                                x: "675",
                                y: "503",
                                alpha: "1"
                            }, {
                                type: 0,
                                name: "05Number3(text=3, class=HP0Number)_text",
                                assetKey: "05Number3(text=3, class=HP0Number)_text",
                                x: "675",
                                y: "543",
                                alpha: "1"
                            },
                            {
                                type: 0,
                                name: "05symbol5(class=ps5-5, font=24pt mullerblack, fill=#ffe579)_text",
                                assetKey: "05symbol5(class=ps5-5, font=24pt mullerblack, fill=#ffe579)_text",
                                x: "730",
                                y: "463",
                                alpha: "1"
                            }, {
                                type: 0,
                                name: "05symbol4(class=ps5-4, font=24pt mullerblack, fill=#ffe579)_text",
                                assetKey: "05symbol4(class=ps5-4, font=24pt mullerblack, fill=#ffe579)_text",
                                x: "730",
                                y: "503",
                                alpha: "1"
                            }, {
                                type: 0,
                                name: "05symbol3(class=ps5-3, font=24pt mullerblack, fill=#ffe579)_text",
                                assetKey: "05symbol3(class=ps5-3, font=24pt mullerblack, fill=#ffe579)_text",
                                x: "730",
                                y: "543",
                                alpha: "1"
                            }, {
                                type: 0,
                                name: "06Number5(text=5, class=HP0Number)_text",
                                assetKey: "06Number5(text=5, class=HP0Number)_text",
                                x: "1165",
                                y: "463",
                                alpha: "1"
                            }, {
                                type: 0,
                                name: "06Number4(text=4, class=HP0Number)_text",
                                assetKey: "06Number4(text=4, class=HP0Number)_text",
                                x: "1165",
                                y: "503",
                                alpha: "1"
                            }, {
                                type: 0,
                                name: "06Number3(text=3, class=HP0Number)_text",
                                assetKey: "06Number3(text=3, class=HP0Number)_text",
                                x: "1165",
                                y: "543",
                                alpha: "1"
                            }, {
                                type: 0,
                                name: "06symbol5(class=ps6-5, font=24pt mullerblack, fill=#ffe579)_text",
                                assetKey: "06symbol5(class=ps6-5, font=24pt mullerblack, fill=#ffe579)_text",
                                x: "1220",
                                y: "463",
                                alpha: "1"
                            }, {
                                type: 0,
                                name: "06symbol4(class=ps6-4, font=24pt mullerblack, fill=#ffe579)_text",
                                assetKey: "06symbol4(class=ps6-4, font=24pt mullerblack, fill=#ffe579)_text",
                                x: "1220",
                                y: "503",
                                alpha: "1"
                            }, {
                                type: 0,
                                name: "06symbol3(class=ps6-3, font=24pt mullerblack, fill=#ffe579)_text",
                                assetKey: "06symbol3(class=ps6-3, font=24pt mullerblack, fill=#ffe579)_text",
                                x: "1220",
                                y: "543",
                                alpha: "1"
                            }, {
                                type: 0,
                                name: "07Number5(text=5, class=HP0Number)_text",
                                assetKey: "07Number5(text=5, class=HP0Number)_text",
                                x: "692",
                                y: "660",
                                alpha: "1"
                            }, {
                                type: 0,
                                name: "07Number4(text=4, class=HP0Number)_text",
                                assetKey: "07Number4(text=4, class=HP0Number)_text",
                                x: "692",
                                y: "700",
                                alpha: "1"
                            }, {
                                type: 0,
                                name: "07Number3(text=3, class=HP0Number)_text",
                                assetKey: "07Number3(text=3, class=HP0Number)_text",
                                x: "692",
                                y: "740",
                                alpha: "1"
                            }, {
                                type: 0,
                                name: "07symbol5(class=ps7-5, font=24pt mullerblack, fill=#ffe579)_text",
                                assetKey: "07symbol5(class=ps7-5, font=24pt mullerblack, fill=#ffe579)_text",
                                x: "747",
                                y: "660",
                                alpha: "1"
                            }, {
                                type: 0,
                                name: "07symbol4(class=ps7-4, font=24pt mullerblack, fill=#ffe579)_text",
                                assetKey: "07symbol4(class=ps7-4, font=24pt mullerblack, fill=#ffe579)_text",
                                x: "747",
                                y: "700",
                                alpha: "1"
                            }, {
                                type: 0,
                                name: "07symbol3(class=ps7-3, font=24pt mullerblack, fill=#ffe579)_text",
                                assetKey: "07symbol3(class=ps7-3, font=24pt mullerblack, fill=#ffe579)_text",
                                x: "747",
                                y: "740",
                                alpha: "1"
                            }, {
                                type: 0,
                                name: "08Number5(text=5, class=HP0Number)_text",
                                assetKey: "08Number5(text=5, class=HP0Number)_text",
                                x: "1165",
                                y: "660",
                                alpha: "1"
                            }, {
                                type: 0,
                                name: "08Number4(text=4, class=HP0Number)_text",
                                assetKey: "08Number4(text=4, class=HP0Number)_text",
                                x: "1165",
                                y: "700",
                                alpha: "1"
                            }, {
                                type: 0,
                                name: "08Number3(text=3, class=HP0Number)_text",
                                assetKey: "08Number3(text=3, class=HP0Number)_text",
                                x: "1165",
                                y: "740",
                                alpha: "1"
                            }, {
                                type: 0,
                                name: "08symbol5(class=ps8-5, font=24pt mullerblack, fill=#ffe579)_text",
                                assetKey: "08symbol5(class=ps8-5, font=24pt mullerblack, fill=#ffe579)_text",
                                x: "1220",
                                y: "660",
                                alpha: "1"
                            }, {
                                type: 0,
                                name: "08symbol4(class=ps8-4, font=24pt mullerblack, fill=#ffe579)_text",
                                assetKey: "08symbol4(class=ps8-4, font=24pt mullerblack, fill=#ffe579)_text",
                                x: "1220",
                                y: "700",
                                alpha: "1"
                            }, {
                                type: 0,
                                name: "08symbol3(class=ps8-3, font=24pt mullerblack, fill=#ffe579)_text",
                                assetKey: "08symbol3(class=ps8-3, font=24pt mullerblack, fill=#ffe579)_text",
                                x: "1220",
                                y: "740",
                                alpha: "1"
                            }
                        ]
                    }, {
                        type: 0,
                        name: "hP0Content0",
                        assetKey: "hP0Content0",
                        x: "981",
                        y: "644",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "hP0Content1",
                        assetKey: "hP0Content1",
                        x: "505",
                        y: "434",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "hP0Content2",
                        assetKey: "hP0Content2",
                        x: "501",
                        y: "628",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "hP0Content3",
                        assetKey: "hP0Content3",
                        x: "996",
                        y: "431",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "hP0Content4",
                        assetKey: "hP0Content4",
                        x: "1136",
                        y: "167",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "hP0Content5",
                        assetKey: "hP0Content5",
                        x: "341",
                        y: "156",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "hP0Content6",
                        assetKey: "hP0Content6",
                        x: "737",
                        y: "165",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "hP0Content7",
                        assetKey: "hP0Content7",
                        x: "240",
                        y: "109",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "hP0Content8",
                        assetKey: "hP0Content8",
                        x: "411",
                        y: "414",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "helpPage0",
                        assetKey: "helpPage0",
                        x: "142",
                        y: "0",
                        alpha: "1"
                    }]
                }, {
                    type: 1,
                    name: "helpPage1",
                    alpha: "1",
                    contents: [{
                        type: 1,
                        name: "helpPage1Text",
                        alpha: "1",
                        contents: [{
                                type: 0,
                                name: "09Number5(text=5, class=HP0Number)_text",
                                assetKey: "09Number5(text=5, class=HP0Number)_text",
                                x: "592",
                                y: "1290",
                                alpha: "1"
                            }, {
                                type: 0,
                                name: "09Number4(text=4, class=HP0Number)_text",
                                assetKey: "09Number4(text=4, class=HP0Number)_text",
                                x: "592",
                                y: "1330",
                                alpha: "1"
                            }, {
                                type: 0,
                                name: "09Number3(text=3, class=HP0Number)_text",
                                assetKey: "09Number3(text=3, class=HP0Number)_text",
                                x: "592",
                                y: "1370",
                                alpha: "1"
                            }, {
                                type: 0,
                                name: "09Number2(text=2, class=HP0Number)_text",
                                assetKey: "09Number2(text=2, class=HP0Number)_text",
                                x: "592",
                                y: "1410",
                                alpha: "1"
                            }, {
                                type: 0,
                                name: "09symbol5(class=ps9s-5, font=24pt mullerblack, fill=#ffe579)_text",
                                assetKey: "09symbol5(class=ps9-5, font=24pt mullerblack, fill=#ffe579)_text",
                                x: "647",
                                y: "1290",
                                alpha: "1"
                            }, {
                                type: 0,
                                name: "09symbol4(class=ps9s-4, font=24pt mullerblack, fill=#ffe579)_text",
                                assetKey: "09symbol4(class=ps9-4, font=24pt mullerblack, fill=#ffe579)_text",
                                x: "647",
                                y: "1330",
                                alpha: "1"
                            }, {
                                type: 0,
                                name: "09symbol3(class=ps9s-3, font=24pt mullerblack, fill=#ffe579)_text",
                                assetKey: "09symbol3(class=ps9-3, font=24pt mullerblack, fill=#ffe579)_text",
                                x: "647",
                                y: "1370",
                                alpha: "1"
                            }, {
                                type: 0,
                                name: "09symbol2(class=ps9s-2, font=24pt mullerblack, fill=#ffe579)_text",
                                assetKey: "09symbol2(class=ps9-2, font=24pt mullerblack, fill=#ffe579)_text",
                                x: "647",
                                y: "1410",
                                alpha: "1"
                            }, {
                                type: 0,
                                name: "09info1",
                                assetKey: "09info1",
                                x: "747",
                                y: "1295",
                                alpha: "1"
                            }, {
                                type: 0,
                                name: "09info2",
                                assetKey: "09info2",
                                x: "747",
                                y: "1335",
                                alpha: "1"
                            }, {
                                type: 0,
                                name: "09info3",
                                assetKey: "09info3",
                                x: "747",
                                y: "1375",
                                alpha: "1"
                            }, {
                                type: 0,
                                name: "09info4",
                                assetKey: "09info4",
                                x: "747",
                                y: "1415",
                                alpha: "1"
                            }, {
                                type: 0,
                                name: "00Number5(text=5, class=HP0Number)_text",
                                assetKey: "00Number5(text=5, class=HP0Number)_text",
                                x: "592",
                                y: "1637",
                                alpha: "1"
                            }, {
                                type: 0,
                                name: "00Number4(text=4, class=HP0Number)_text",
                                assetKey: "00Number4(text=4, class=HP0Number)_text",
                                x: "592",
                                y: "1677",
                                alpha: "1"
                            }, {
                                type: 0,
                                name: "00Number3(text=3, class=HP0Number)_text",
                                assetKey: "00Number3(text=3, class=HP0Number)_text",
                                x: "592",
                                y: "1717",
                                alpha: "1"
                            }, {
                                type: 0,
                                name: "00Number2(text=2, class=HP0Number)_text",
                                assetKey: "00Number2(text=2, class=HP0Number)_text",
                                x: "592",
                                y: "1757",
                                alpha: "1"
                            }, {
                                type: 0,
                                name: "00symbol5(class=ps0-5, font=24pt mullerblack, fill=#ffe579)_text",
                                assetKey: "00symbol5(class=ps0-5, font=24pt mullerblack, fill=#ffe579)_text",
                                x: "647",
                                y: "1637",
                                alpha: "1"
                            }, {
                                type: 0,
                                name: "00symbol4(class=ps0-4, font=24pt mullerblack, fill=#ffe579)_text",
                                assetKey: "00symbol4(class=ps0-4, font=24pt mullerblack, fill=#ffe579)_text",
                                x: "647",
                                y: "1677",
                                alpha: "1"
                            }, {
                                type: 0,
                                name: "00symbol3(class=ps0-3, font=24pt mullerblack, fill=#ffe579)_text",
                                assetKey: "00symbol3(class=ps0-3, font=24pt mullerblack, fill=#ffe579)_text",
                                x: "647",
                                y: "1717",
                                alpha: "1"
                            }, {
                                type: 0,
                                name: "00symbol2(class=ps0-2, font=24pt mullerblack, fill=#ffe579)_text",
                                assetKey: "00symbol2(class=ps0-2, font=24pt mullerblack, fill=#ffe579)_text",
                                x: "647",
                                y: "1757",
                                alpha: "1"
                            }, {
                                type: 0,
                                name: "hP1TextTop1",
                                assetKey: "hP1TextTop1",
                                x: "983",
                                y: "1282",
                                alpha: "1"
                            }, {
                                type: 0,
                                name: "hP1TextTop2",
                                assetKey: "hP1TextTop2",
                                x: "983",
                                y: "1307",
                                alpha: "1"
                            }, {
                                type: 0,
                                name: "hP1TextTop3",
                                assetKey: "hP1TextTop3",
                                x: "983",
                                y: "1332",
                                alpha: "1"
                            }, {
                                type: 0,
                                name: "hP1TextTop4",
                                assetKey: "hP1TextTop4",
                                x: "983",
                                y: "1357",
                                alpha: "1"
                            }, {
                                type: 0,
                                name: "hP1TextTop5",
                                assetKey: "hP1TextTop5",
                                x: "983",
                                y: "1382",
                                alpha: "1"
                            }, {
                                type: 0,
                                name: "hP1TextTop6",
                                assetKey: "hP1TextTop6",
                                x: "983",
                                y: "1407",
                                alpha: "1"
                            }, {
                                type: 0,
                                name: "hP1TextTop7",
                                assetKey: "hP1TextTop7",
                                x: "983",
                                y: "1432",
                                alpha: "1"
                            }, {
                                type: 0,
                                name: "hP1TextTop8",
                                assetKey: "hP1TextTop8",
                                x: "983",
                                y: "1457",
                                alpha: "1"
                            }, {
                                type: 0,
                                name: "hP1TextTop9",
                                assetKey: "hP1TextTop9",
                                x: "983",
                                y: "1482",
                                alpha: "1"
                            }, {
                                type: 0,
                                name: "hP1TextBottom1",
                                assetKey: "hP1TextBottom1",
                                x: "983",
                                y: "1615",
                                alpha: "1"
                            }, {
                                type: 0,
                                name: "hP1TextBottom2",
                                assetKey: "hP1TextBottom2",
                                x: "983",
                                y: "1640",
                                alpha: "1"
                            }, {
                                type: 0,
                                name: "hP1TextBottom3",
                                assetKey: "hP1TextBottom3",
                                x: "983",
                                y: "1665",
                                alpha: "1"
                            }, {
                                type: 0,
                                name: "hP1TextBottom4",
                                assetKey: "hP1TextBottom4",
                                x: "983",
                                y: "1690",
                                alpha: "1"
                            }, {
                                type: 0,
                                name: "hP1TextBottom5",
                                assetKey: "hP1TextBottom5",
                                x: "983",
                                y: "1715",
                                alpha: "1"
                            },
                            {
                                type: 0,
                                name: "hP1TextBottom6",
                                assetKey: "hP1TextBottom6",
                                x: "983",
                                y: "1740",
                                alpha: "1"
                            }, {
                                type: 0,
                                name: "hP1TextBottom7",
                                assetKey: "hP1TextBottom7",
                                x: "983",
                                y: "1765",
                                alpha: "1"
                            }, {
                                type: 0,
                                name: "hP1TextBottom8",
                                assetKey: "hP1TextBottom8",
                                x: "983",
                                y: "1790",
                                alpha: "1"
                            }
                        ]
                    }, {
                        type: 0,
                        name: "hP1Content0",
                        assetKey: "hP1Content0",
                        x: "339",
                        y: "1599",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "hP1Content1",
                        assetKey: "hP1Content1",
                        x: "340",
                        y: "1254",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "hP1Content2",
                        assetKey: "hP1Content2",
                        x: "294",
                        y: "1216",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "hP1Content3",
                        assetKey: "hP1Content3",
                        x: "294",
                        y: "1561",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "helpPage1",
                        assetKey: "helpPage1",
                        x: "142",
                        y: "1080",
                        alpha: "1"
                    }]
                }, {
                    type: 1,
                    name: "helpPage2",
                    alpha: "1",
                    contents: [{
                        type: 0,
                        name: "hP1Title",
                        assetKey: "hP1Title",
                        x: "1095",
                        y: "2353",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "hP1Text0",
                        assetKey: "hP1Text0",
                        x: "795",
                        y: "2425",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "hP1Text1",
                        assetKey: "hP1Text1",
                        x: "795",
                        y: "2453",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "hP1Text2",
                        assetKey: "hP1Text2",
                        x: "795",
                        y: "2480",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "hP1Text3",
                        assetKey: "hP1Text3",
                        x: "795",
                        y: "2508",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "hP1Text4",
                        assetKey: "hP1Text4",
                        x: "795",
                        y: "2536",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "hP1Text5",
                        assetKey: "hP1Text5",
                        x: "795",
                        y: "2564",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "hP1Text6",
                        assetKey: "hP1Text6",
                        x: "795",
                        y: "2592",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "hP1Text7",
                        assetKey: "hP1Text7",
                        x: "795",
                        y: "2620",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "hP1Text8",
                        assetKey: "hP1Text8",
                        x: "795",
                        y: "2648",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "hP1Text9",
                        assetKey: "hP1Text9",
                        x: "795",
                        y: "2676",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "hP1Text10",
                        assetKey: "hP1Text10",
                        x: "795",
                        y: "2704",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "hP1Text11",
                        assetKey: "hP1Text11",
                        x: "795",
                        y: "2732",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "hP1Text12",
                        assetKey: "hP1Text12",
                        x: "795",
                        y: "2760",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "hP2Content0",
                        assetKey: "hP2Content0",
                        x: "504",
                        y: "2315",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "hP2Content1",
                        assetKey: "hP2Content1",
                        x: "444",
                        y: "2279",
                        alpha: "1"
                    }, {
                        type: 0,
                        name: "helpPage2",
                        assetKey: "helpPage2",
                        x: "142",
                        y: "2160",
                        alpha: "1"
                    }]
                }, {
                    type: 1,
                    name: "helpPage3",
                    alpha: "1",
                    contents: [{
                            type: 1,
                            name: "helpPage2Text",
                            alpha: "1",
                            contents: [{
                                type: 0,
                                name: "lineName1",
                                assetKey: "lineName1",
                                x: "372",
                                y: "3409",
                                alpha: "1"
                            }, {
                                type: 0,
                                name: "lineName2",
                                assetKey: "lineName2",
                                x: "551",
                                y: "3409",
                                alpha: "1"
                            }, {
                                type: 0,
                                name: "lineName3",
                                assetKey: "lineName3",
                                x: "731",
                                y: "3409",
                                alpha: "1"
                            }, {
                                type: 0,
                                name: "lineName4",
                                assetKey: "lineName4",
                                x: "910",
                                y: "3409",
                                alpha: "1"
                            }, {
                                type: 0,
                                name: "lineName5",
                                assetKey: "lineName5",
                                x: "1090",
                                y: "3409",
                                alpha: "1"
                            }, {
                                type: 0,
                                name: "lineName6",
                                assetKey: "lineName6",
                                x: "1270",
                                y: "3409",
                                alpha: "1"
                            }, {
                                type: 0,
                                name: "lineName7",
                                assetKey: "lineName7",
                                x: "1449",
                                y: "3409",
                                alpha: "1"
                            }, {
                                type: 0,
                                name: "lineName8",
                                assetKey: "lineName8",
                                x: "463",
                                y: "3583",
                                alpha: "1"
                            }, {
                                type: 0,
                                name: "lineName9",
                                assetKey: "lineName9",
                                x: "640",
                                y: "3583",
                                alpha: "1"
                            }, {
                                type: 0,
                                name: "lineName10",
                                assetKey: "lineName10",
                                x: "819",
                                y: "3583",
                                alpha: "1"
                            }, {
                                type: 0,
                                name: "lineName11",
                                assetKey: "lineName11",
                                x: "997",
                                y: "3583",
                                alpha: "1"
                            }, {
                                type: 0,
                                name: "lineName12",
                                assetKey: "lineName12",
                                x: "1179",
                                y: "3583",
                                alpha: "1"
                            }, {
                                type: 0,
                                name: "lineName13",
                                assetKey: "lineName13",
                                x: "1357",
                                y: "3583",
                                alpha: "1"
                            }, {
                                type: 0,
                                name: "lineName14",
                                assetKey: "lineName14",
                                x: "372",
                                y: "3759",
                                alpha: "1"
                            }, {
                                type: 0,
                                name: "lineName15",
                                assetKey: "lineName15",
                                x: "551",
                                y: "3759",
                                alpha: "1"
                            }, {
                                type: 0,
                                name: "lineName16",
                                assetKey: "lineName16",
                                x: "731",
                                y: "3759",
                                alpha: "1"
                            }, {
                                type: 0,
                                name: "lineName17",
                                assetKey: "lineName17",
                                x: "910",
                                y: "3759",
                                alpha: "1"
                            }, {
                                type: 0,
                                name: "lineName18",
                                assetKey: "lineName18",
                                x: "1090",
                                y: "3759",
                                alpha: "1"
                            }, {
                                type: 0,
                                name: "lineName19",
                                assetKey: "lineName19",
                                x: "1270",
                                y: "3759",
                                alpha: "1"
                            }, {
                                type: 0,
                                name: "lineName20",
                                assetKey: "lineName20",
                                x: "1449",
                                y: "3759",
                                alpha: "1"
                            }, {
                                type: 0,
                                name: "hP3Text1",
                                assetKey: "hP3Text1",
                                x: "910",
                                y: "3924",
                                alpha: "1"
                            }, {
                                type: 0,
                                name: "hP3Text2",
                                assetKey: "hP3Text2",
                                x: "910",
                                y: "3952",
                                alpha: "1"
                            }, {
                                type: 0,
                                name: "hP3Text3",
                                assetKey: "hP3Text3",
                                x: "910",
                                y: "3980",
                                alpha: "1"
                            }, {
                                type: 0,
                                name: "hP3Text4",
                                assetKey: "hP3Text4",
                                x: "910",
                                y: "4008",
                                alpha: "1"
                            }, {
                                type: 0,
                                name: "hP3Text5",
                                assetKey: "hP3Text5",
                                x: "910",
                                y: "4036",
                                alpha: "1"
                            }]
                        }, {
                            type: 0,
                            name: "hP3Content0",
                            assetKey: "hP3Content0",
                            x: "1376",
                            y: "3778",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "hP3Content1",
                            assetKey: "hP3Content1",
                            x: "1016",
                            y: "3778",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "hP3Content2",
                            assetKey: "hP3Content2",
                            x: "1196",
                            y: "3778",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "hP3Content3",
                            assetKey: "hP3Content3",
                            x: "836",
                            y: "3778",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "hP3Content4",
                            assetKey: "hP3Content4",
                            x: "657",
                            y: "3778",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "hP3Content5",
                            assetKey: "hP3Content5",
                            x: "477",
                            y: "3778",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "hP3Content6",
                            assetKey: "hP3Content6",
                            x: "298",
                            y: "3778",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "hP3Content7",
                            assetKey: "hP3Content7",
                            x: "1283",
                            y: "3603",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "hP3Content8",
                            assetKey: "hP3Content8",
                            x: "1105",
                            y: "3602",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "hP3Content9",
                            assetKey: "hP3Content9",
                            x: "924",
                            y: "3603",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "hP3Content10",
                            assetKey: "hP3Content10",
                            x: "745",
                            y: "3603",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "hP3Content11",
                            assetKey: "hP3Content11",
                            x: "566",
                            y: "3603",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "hP3Content12",
                            assetKey: "hP3Content12",
                            x: "389",
                            y: "3603",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "hP3Content13",
                            assetKey: "hP3Content13",
                            x: "1377",
                            y: "3428",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "hP3Content14",
                            assetKey: "hP3Content14",
                            x: "1196",
                            y: "3428",
                            alpha: "1"
                        },
                        {
                            type: 0,
                            name: "hP3Content15",
                            assetKey: "hP3Content15",
                            x: "1016",
                            y: "3428",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "hP3Content16",
                            assetKey: "hP3Content16",
                            x: "837",
                            y: "3428",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "hP3Content17",
                            assetKey: "hP3Content17",
                            x: "657",
                            y: "3428",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "hP3Content18",
                            assetKey: "hP3Content18",
                            x: "478",
                            y: "3428",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "hP3Content19",
                            assetKey: "hP3Content19",
                            x: "298",
                            y: "3428",
                            alpha: "1"
                        }, {
                            type: 0,
                            name: "helpPage3",
                            assetKey: "helpPage3",
                            x: "142",
                            y: "3240",
                            alpha: "1"
                        }
                    ]
                }]
            }]
        }
    }
};